function Kce(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function on(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var B2={exports:{}},Cp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E$;function Wce(){if(E$)return Cp;E$=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var l in a)l!=="key"&&(i[l]=a[l])}else i=a;return a=i.ref,{$$typeof:e,type:r,key:o,ref:a!==void 0?a:null,props:i}}return Cp.Fragment=t,Cp.jsx=n,Cp.jsxs=n,Cp}var O$;function Gce(){return O$||(O$=1,B2.exports=Wce()),B2.exports}var s=Gce(),z2={exports:{}},kp={},q2={exports:{}},U2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P$;function Yce(){return P$||(P$=1,(function(e){function t(R,B){var L=R.length;R.push(B);e:for(;0<L;){var q=L-1>>>1,se=R[q];if(0<a(se,B))R[q]=B,R[L]=se,L=q;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var B=R[0],L=R.pop();if(L!==B){R[0]=L;e:for(var q=0,se=R.length,H=se>>>1;q<H;){var Y=2*(q+1)-1,G=R[Y],X=Y+1,ae=R[X];if(0>a(G,L))X<se&&0>a(ae,G)?(R[q]=ae,R[X]=L,q=X):(R[q]=G,R[Y]=L,q=Y);else if(X<se&&0>a(ae,L))R[q]=ae,R[X]=L,q=X;else break e}}return B}function a(R,B){var L=R.sortIndex-B.sortIndex;return L!==0?L:R.id-B.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,m=null,p=3,g=!1,v=!1,y=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(R){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=R)r(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(u)}}function S(R){if(y=!1,C(R),!v)if(n(c)!==null)v=!0,E||(E=!0,V());else{var B=n(u);B!==null&&K(S,B.startTime-R)}}var E=!1,O=-1,_=5,M=-1;function $(){return w?!0:!(e.unstable_now()-M<_)}function z(){if(w=!1,E){var R=e.unstable_now();M=R;var B=!0;try{e:{v=!1,y&&(y=!1,A(O),O=-1),g=!0;var L=p;try{t:{for(C(R),m=n(c);m!==null&&!(m.expirationTime>R&&$());){var q=m.callback;if(typeof q=="function"){m.callback=null,p=m.priorityLevel;var se=q(m.expirationTime<=R);if(R=e.unstable_now(),typeof se=="function"){m.callback=se,C(R),B=!0;break t}m===n(c)&&r(c),C(R)}else r(c);m=n(c)}if(m!==null)B=!0;else{var H=n(u);H!==null&&K(S,H.startTime-R),B=!1}}break e}finally{m=null,p=L,g=!1}B=void 0}}finally{B?V():E=!1}}}var V;if(typeof T=="function")V=function(){T(z)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,F=I.port2;I.port1.onmessage=z,V=function(){F.postMessage(null)}}else V=function(){N(z,0)};function K(R,B){O=N(function(){R(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var L=p;p=B;try{return R()}finally{p=L}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(R,B){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var L=p;p=R;try{return B()}finally{p=L}},e.unstable_scheduleCallback=function(R,B,L){var q=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?q+L:q):L=q,R){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=L+se,R={id:f++,callback:B,priorityLevel:R,startTime:L,expirationTime:se,sortIndex:-1},L>q?(R.sortIndex=L,t(u,R),n(c)===null&&R===n(u)&&(y?(A(O),O=-1):y=!0,K(S,L-q))):(R.sortIndex=se,t(c,R),v||g||(v=!0,E||(E=!0,V()))),R},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(R){var B=p;return function(){var L=p;p=B;try{return R.apply(this,arguments)}finally{p=L}}}})(U2)),U2}var M$;function Xce(){return M$||(M$=1,q2.exports=Yce()),q2.exports}var V2={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _$;function Qce(){if(_$)return wt;_$=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),p=Symbol.iterator;function g(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function N(H,Y,G){this.props=H,this.context=Y,this.refs=w,this.updater=G||v}N.prototype.isReactComponent={},N.prototype.setState=function(H,Y){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Y,"setState")},N.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function A(){}A.prototype=N.prototype;function T(H,Y,G){this.props=H,this.context=Y,this.refs=w,this.updater=G||v}var C=T.prototype=new A;C.constructor=T,y(C,N.prototype),C.isPureReactComponent=!0;var S=Array.isArray;function E(){}var O={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function M(H,Y,G){var X=G.ref;return{$$typeof:e,type:H,key:Y,ref:X!==void 0?X:null,props:G}}function $(H,Y){return M(H.type,Y,H.props)}function z(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function V(H){var Y={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(G){return Y[G]})}var I=/\/+/g;function F(H,Y){return typeof H=="object"&&H!==null&&H.key!=null?V(""+H.key):Y.toString(36)}function K(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(E,E):(H.status="pending",H.then(function(Y){H.status==="pending"&&(H.status="fulfilled",H.value=Y)},function(Y){H.status==="pending"&&(H.status="rejected",H.reason=Y)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function R(H,Y,G,X,ae){var de=typeof H;(de==="undefined"||de==="boolean")&&(H=null);var he=!1;if(H===null)he=!0;else switch(de){case"bigint":case"string":case"number":he=!0;break;case"object":switch(H.$$typeof){case e:case t:he=!0;break;case f:return he=H._init,R(he(H._payload),Y,G,X,ae)}}if(he)return ae=ae(H),he=X===""?"."+F(H,0):X,S(ae)?(G="",he!=null&&(G=he.replace(I,"$&/")+"/"),R(ae,Y,G,"",function(Ae){return Ae})):ae!=null&&(z(ae)&&(ae=$(ae,G+(ae.key==null||H&&H.key===ae.key?"":(""+ae.key).replace(I,"$&/")+"/")+he)),Y.push(ae)),1;he=0;var Fe=X===""?".":X+":";if(S(H))for(var ge=0;ge<H.length;ge++)X=H[ge],de=Fe+F(X,ge),he+=R(X,Y,G,de,ae);else if(ge=g(H),typeof ge=="function")for(H=ge.call(H),ge=0;!(X=H.next()).done;)X=X.value,de=Fe+F(X,ge++),he+=R(X,Y,G,de,ae);else if(de==="object"){if(typeof H.then=="function")return R(K(H),Y,G,X,ae);throw Y=String(H),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return he}function B(H,Y,G){if(H==null)return H;var X=[],ae=0;return R(H,X,"","",function(de){return Y.call(G,de,ae++)}),X}function L(H){if(H._status===-1){var Y=H._result;Y=Y(),Y.then(function(G){(H._status===0||H._status===-1)&&(H._status=1,H._result=G)},function(G){(H._status===0||H._status===-1)&&(H._status=2,H._result=G)}),H._status===-1&&(H._status=0,H._result=Y)}if(H._status===1)return H._result.default;throw H._result}var q=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},se={map:B,forEach:function(H,Y,G){B(H,function(){Y.apply(this,arguments)},G)},count:function(H){var Y=0;return B(H,function(){Y++}),Y},toArray:function(H){return B(H,function(Y){return Y})||[]},only:function(H){if(!z(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return wt.Activity=m,wt.Children=se,wt.Component=N,wt.Fragment=n,wt.Profiler=a,wt.PureComponent=T,wt.StrictMode=r,wt.Suspense=c,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,wt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return O.H.useMemoCache(H)}},wt.cache=function(H){return function(){return H.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(H,Y,G){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var X=y({},H.props),ae=H.key;if(Y!=null)for(de in Y.key!==void 0&&(ae=""+Y.key),Y)!_.call(Y,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&Y.ref===void 0||(X[de]=Y[de]);var de=arguments.length-2;if(de===1)X.children=G;else if(1<de){for(var he=Array(de),Fe=0;Fe<de;Fe++)he[Fe]=arguments[Fe+2];X.children=he}return M(H.type,ae,X)},wt.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:i,_context:H},H},wt.createElement=function(H,Y,G){var X,ae={},de=null;if(Y!=null)for(X in Y.key!==void 0&&(de=""+Y.key),Y)_.call(Y,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ae[X]=Y[X]);var he=arguments.length-2;if(he===1)ae.children=G;else if(1<he){for(var Fe=Array(he),ge=0;ge<he;ge++)Fe[ge]=arguments[ge+2];ae.children=Fe}if(H&&H.defaultProps)for(X in he=H.defaultProps,he)ae[X]===void 0&&(ae[X]=he[X]);return M(H,de,ae)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(H){return{$$typeof:l,render:H}},wt.isValidElement=z,wt.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:L}},wt.memo=function(H,Y){return{$$typeof:u,type:H,compare:Y===void 0?null:Y}},wt.startTransition=function(H){var Y=O.T,G={};O.T=G;try{var X=H(),ae=O.S;ae!==null&&ae(G,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(E,q)}catch(de){q(de)}finally{Y!==null&&G.types!==null&&(Y.types=G.types),O.T=Y}},wt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},wt.use=function(H){return O.H.use(H)},wt.useActionState=function(H,Y,G){return O.H.useActionState(H,Y,G)},wt.useCallback=function(H,Y){return O.H.useCallback(H,Y)},wt.useContext=function(H){return O.H.useContext(H)},wt.useDebugValue=function(){},wt.useDeferredValue=function(H,Y){return O.H.useDeferredValue(H,Y)},wt.useEffect=function(H,Y){return O.H.useEffect(H,Y)},wt.useEffectEvent=function(H){return O.H.useEffectEvent(H)},wt.useId=function(){return O.H.useId()},wt.useImperativeHandle=function(H,Y,G){return O.H.useImperativeHandle(H,Y,G)},wt.useInsertionEffect=function(H,Y){return O.H.useInsertionEffect(H,Y)},wt.useLayoutEffect=function(H,Y){return O.H.useLayoutEffect(H,Y)},wt.useMemo=function(H,Y){return O.H.useMemo(H,Y)},wt.useOptimistic=function(H,Y){return O.H.useOptimistic(H,Y)},wt.useReducer=function(H,Y,G){return O.H.useReducer(H,Y,G)},wt.useRef=function(H){return O.H.useRef(H)},wt.useState=function(H){return O.H.useState(H)},wt.useSyncExternalStore=function(H,Y,G){return O.H.useSyncExternalStore(H,Y,G)},wt.useTransition=function(){return O.H.useTransition()},wt.version="19.2.0",wt}var R$;function Kg(){return R$||(R$=1,V2.exports=Qce()),V2.exports}var H2={exports:{}},bs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D$;function Jce(){if(D$)return bs;D$=1;var e=Kg();function t(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(c,u,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:c,containerInfo:u,implementation:f}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return bs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,bs.createPortal=function(c,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return i(c,u,null,f)},bs.flushSync=function(c){var u=o.T,f=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=u,r.p=f,r.d.f()}},bs.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(c,u))},bs.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},bs.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var f=u.as,m=l(f,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,g=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;f==="style"?r.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:g}):f==="script"&&r.d.X(c,{crossOrigin:m,integrity:p,fetchPriority:g,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},bs.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var f=l(u.as,u.crossOrigin);r.d.M(c,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(c)},bs.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var f=u.as,m=l(f,u.crossOrigin);r.d.L(c,f,{crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},bs.preloadModule=function(c,u){if(typeof c=="string")if(u){var f=l(u.as,u.crossOrigin);r.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(c)},bs.requestFormReset=function(c){r.d.r(c)},bs.unstable_batchedUpdates=function(c,u){return c(u)},bs.useFormState=function(c,u,f){return o.H.useFormState(c,u,f)},bs.useFormStatus=function(){return o.H.useHostTransitionStatus()},bs.version="19.2.0",bs}var I$;function LK(){if(I$)return H2.exports;I$=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),H2.exports=Jce(),H2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L$;function Zce(){if(L$)return kp;L$=1;var e=Xce(),t=Kg(),n=LK();function r(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function i(d){var h=d,x=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,(h.flags&4098)!==0&&(x=h.return),d=h.return;while(d)}return h.tag===3?x:null}function o(d){if(d.tag===13){var h=d.memoizedState;if(h===null&&(d=d.alternate,d!==null&&(h=d.memoizedState)),h!==null)return h.dehydrated}return null}function l(d){if(d.tag===31){var h=d.memoizedState;if(h===null&&(d=d.alternate,d!==null&&(h=d.memoizedState)),h!==null)return h.dehydrated}return null}function c(d){if(i(d)!==d)throw Error(r(188))}function u(d){var h=d.alternate;if(!h){if(h=i(d),h===null)throw Error(r(188));return h!==d?null:d}for(var x=d,b=h;;){var k=x.return;if(k===null)break;var P=k.alternate;if(P===null){if(b=k.return,b!==null){x=b;continue}break}if(k.child===P.child){for(P=k.child;P;){if(P===x)return c(k),d;if(P===b)return c(k),h;P=P.sibling}throw Error(r(188))}if(x.return!==b.return)x=k,b=P;else{for(var D=!1,W=k.child;W;){if(W===x){D=!0,x=k,b=P;break}if(W===b){D=!0,b=k,x=P;break}W=W.sibling}if(!D){for(W=P.child;W;){if(W===x){D=!0,x=P,b=k;break}if(W===b){D=!0,b=P,x=k;break}W=W.sibling}if(!D)throw Error(r(189))}}if(x.alternate!==b)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?d:h}function f(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d;for(d=d.child;d!==null;){if(h=f(d),h!==null)return h;d=d.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function V(d){return d===null||typeof d!="object"?null:(d=z&&d[z]||d["@@iterator"],typeof d=="function"?d:null)}var I=Symbol.for("react.client.reference");function F(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===I?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case y:return"Fragment";case N:return"Profiler";case w:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList";case M:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case v:return"Portal";case T:return d.displayName||"Context";case A:return(d._context.displayName||"Context")+".Consumer";case C:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case O:return h=d.displayName||null,h!==null?h:F(d.type)||"Memo";case _:h=d._payload,d=d._init;try{return F(d(h))}catch{}}return null}var K=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},q=[],se=-1;function H(d){return{current:d}}function Y(d){0>se||(d.current=q[se],q[se]=null,se--)}function G(d,h){se++,q[se]=d.current,d.current=h}var X=H(null),ae=H(null),de=H(null),he=H(null);function Fe(d,h){switch(G(de,h),G(ae,d),G(X,null),h.nodeType){case 9:case 11:d=(d=h.documentElement)&&(d=d.namespaceURI)?JL(d):0;break;default:if(d=h.tagName,h=h.namespaceURI)h=JL(h),d=ZL(h,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}Y(X),G(X,d)}function ge(){Y(X),Y(ae),Y(de)}function Ae(d){d.memoizedState!==null&&G(he,d);var h=X.current,x=ZL(h,d.type);h!==x&&(G(ae,d),G(X,x))}function _e(d){ae.current===d&&(Y(X),Y(ae)),he.current===d&&(Y(he),jp._currentValue=L)}var ee,Le;function Ce(d){if(ee===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);ee=h&&h[1]||"",Le=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ee+d+Le}var De=!1;function We(d,h){if(!d||De)return"";De=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(h){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(xe){var me=xe}Reflect.construct(d,[],Te)}else{try{Te.call()}catch(xe){me=xe}d.call(Te.prototype)}}else{try{throw Error()}catch(xe){me=xe}(Te=d())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(xe){if(xe&&me&&typeof xe.stack=="string")return[xe.stack,me.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=b.DetermineComponentFrameRoot(),D=P[0],W=P[1];if(D&&W){var re=D.split(`
`),fe=W.split(`
`);for(k=b=0;b<re.length&&!re[b].includes("DetermineComponentFrameRoot");)b++;for(;k<fe.length&&!fe[k].includes("DetermineComponentFrameRoot");)k++;if(b===re.length||k===fe.length)for(b=re.length-1,k=fe.length-1;1<=b&&0<=k&&re[b]!==fe[k];)k--;for(;1<=b&&0<=k;b--,k--)if(re[b]!==fe[k]){if(b!==1||k!==1)do if(b--,k--,0>k||re[b]!==fe[k]){var be=`
`+re[b].replace(" at new "," at ");return d.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",d.displayName)),be}while(1<=b&&0<=k);break}}}finally{De=!1,Error.prepareStackTrace=x}return(x=d?d.displayName||d.name:"")?Ce(x):""}function nt(d,h){switch(d.tag){case 26:case 27:case 5:return Ce(d.type);case 16:return Ce("Lazy");case 13:return d.child!==h&&h!==null?Ce("Suspense Fallback"):Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 15:return We(d.type,!1);case 11:return We(d.type.render,!1);case 1:return We(d.type,!0);case 31:return Ce("Activity");default:return""}}function Et(d){try{var h="",x=null;do h+=nt(d,x),x=d,d=d.return;while(d);return h}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var St=Object.prototype.hasOwnProperty,Gt=e.unstable_scheduleCallback,Jn=e.unstable_cancelCallback,cn=e.unstable_shouldYield,_r=e.unstable_requestPaint,Vt=e.unstable_now,_n=e.unstable_getCurrentPriorityLevel,zn=e.unstable_ImmediatePriority,Rn=e.unstable_UserBlockingPriority,_s=e.unstable_NormalPriority,Ai=e.unstable_LowPriority,Ei=e.unstable_IdlePriority,Js=e.log,ga=e.unstable_setDisableYieldValue,rr=null,Tn=null;function qn(d){if(typeof Js=="function"&&ga(d),Tn&&typeof Tn.setStrictMode=="function")try{Tn.setStrictMode(rr,d)}catch{}}var Q=Math.clz32?Math.clz32:jr,xt=Math.log,dn=Math.LN2;function jr(d){return d>>>=0,d===0?32:31-(xt(d)/dn|0)|0}var vs=256,Un=262144,Zs=4194304;function Rs(d){var h=d&42;if(h!==0)return h;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function Uu(d,h,x){var b=d.pendingLanes;if(b===0)return 0;var k=0,P=d.suspendedLanes,D=d.pingedLanes;d=d.warmLanes;var W=b&134217727;return W!==0?(b=W&~P,b!==0?k=Rs(b):(D&=W,D!==0?k=Rs(D):x||(x=W&~d,x!==0&&(k=Rs(x))))):(W=b&~P,W!==0?k=Rs(W):D!==0?k=Rs(D):x||(x=b&~d,x!==0&&(k=Rs(x)))),k===0?0:h!==0&&h!==k&&(h&P)===0&&(P=k&-k,x=h&-h,P>=x||P===32&&(x&4194048)!==0)?h:k}function ud(d,h){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&h)===0}function mr(d,h){switch(d){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wo(){var d=Zs;return Zs<<=1,(Zs&62914560)===0&&(Zs=4194304),d}function Om(d){for(var h=[],x=0;31>x;x++)h.push(d);return h}function Ql(d,h){d.pendingLanes|=h,h!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function Pm(d,h,x,b,k,P){var D=d.pendingLanes;d.pendingLanes=x,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=x,d.entangledLanes&=x,d.errorRecoveryDisabledLanes&=x,d.shellSuspendCounter=0;var W=d.entanglements,re=d.expirationTimes,fe=d.hiddenUpdates;for(x=D&~x;0<x;){var be=31-Q(x),Te=1<<be;W[be]=0,re[be]=-1;var me=fe[be];if(me!==null)for(fe[be]=null,be=0;be<me.length;be++){var xe=me[be];xe!==null&&(xe.lane&=-536870913)}x&=~Te}b!==0&&Mm(d,b,0),P!==0&&k===0&&d.tag!==0&&(d.suspendedLanes|=P&~(D&~h))}function Mm(d,h,x){d.pendingLanes|=h,d.suspendedLanes&=~h;var b=31-Q(h);d.entangledLanes|=h,d.entanglements[b]=d.entanglements[b]|1073741824|x&261930}function _m(d,h){var x=d.entangledLanes|=h;for(d=d.entanglements;x;){var b=31-Q(x),k=1<<b;k&h|d[b]&h&&(d[b]|=h),x&=~k}}function Py(d,h){var x=h&-h;return x=(x&42)!==0?1:ea(x),(x&(d.suspendedLanes|h))!==0?0:x}function ea(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function Oi(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function Rm(){var d=B.p;return d!==0?d:(d=window.event,d===void 0?32:w$(d.type))}function Dm(d,h){var x=B.p;try{return B.p=d,h()}finally{B.p=x}}var Va=Math.random().toString(36).slice(2),wr="__reactFiber$"+Va,Vn="__reactProps$"+Va,Go="__reactContainer$"+Va,Vu="__reactEvents$"+Va,My="__reactListeners$"+Va,_y="__reactHandles$"+Va,Ry="__reactResources$"+Va,Ge="__reactMarker$"+Va;function ie(d){delete d[wr],delete d[Vn],delete d[Vu],delete d[My],delete d[_y]}function Oe(d){var h=d[wr];if(h)return h;for(var x=d.parentNode;x;){if(h=x[Go]||x[wr]){if(x=h.alternate,h.child!==null||x!==null&&x.child!==null)for(d=i$(d);d!==null;){if(x=d[wr])return x;d=i$(d)}return h}d=x,x=d.parentNode}return null}function qe(d){if(d=d[wr]||d[Go]){var h=d.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return d}return null}function nn(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d.stateNode;throw Error(r(33))}function Zn(d){var h=d[Ry];return h||(h=d[Ry]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Ot(d){d[Ge]=!0}var ls=new Set,Ha={};function ta(d,h){fo(d,h),fo(d+"Capture",h)}function fo(d,h){for(Ha[d]=h,d=0;d<h.length;d++)ls.add(h[d])}var Rr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Im={},Lm={};function $oe(d){return St.call(Lm,d)?!0:St.call(Im,d)?!1:Rr.test(d)?Lm[d]=!0:(Im[d]=!0,!1)}function Dy(d,h,x){if($oe(h))if(x===null)d.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":d.removeAttribute(h);return;case"boolean":var b=h.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){d.removeAttribute(h);return}}d.setAttribute(h,""+x)}}function Iy(d,h,x){if(x===null)d.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(h);return}d.setAttribute(h,""+x)}}function Yo(d,h,x,b){if(b===null)d.removeAttribute(x);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(x);return}d.setAttributeNS(h,x,""+b)}}function Ka(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function V3(d){var h=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Foe(d,h,x){var b=Object.getOwnPropertyDescriptor(d.constructor.prototype,h);if(!d.hasOwnProperty(h)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var k=b.get,P=b.set;return Object.defineProperty(d,h,{configurable:!0,get:function(){return k.call(this)},set:function(D){x=""+D,P.call(this,D)}}),Object.defineProperty(d,h,{enumerable:b.enumerable}),{getValue:function(){return x},setValue:function(D){x=""+D},stopTracking:function(){d._valueTracker=null,delete d[h]}}}}function _1(d){if(!d._valueTracker){var h=V3(d)?"checked":"value";d._valueTracker=Foe(d,h,""+d[h])}}function H3(d){if(!d)return!1;var h=d._valueTracker;if(!h)return!0;var x=h.getValue(),b="";return d&&(b=V3(d)?d.checked?"true":"false":d.value),d=b,d!==x?(h.setValue(d),!0):!1}function Ly(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var Boe=/[\n"\\]/g;function Wa(d){return d.replace(Boe,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function R1(d,h,x,b,k,P,D,W){d.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?d.type=D:d.removeAttribute("type"),h!=null?D==="number"?(h===0&&d.value===""||d.value!=h)&&(d.value=""+Ka(h)):d.value!==""+Ka(h)&&(d.value=""+Ka(h)):D!=="submit"&&D!=="reset"||d.removeAttribute("value"),h!=null?D1(d,D,Ka(h)):x!=null?D1(d,D,Ka(x)):b!=null&&d.removeAttribute("value"),k==null&&P!=null&&(d.defaultChecked=!!P),k!=null&&(d.checked=k&&typeof k!="function"&&typeof k!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?d.name=""+Ka(W):d.removeAttribute("name")}function K3(d,h,x,b,k,P,D,W){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(d.type=P),h!=null||x!=null){if(!(P!=="submit"&&P!=="reset"||h!=null)){_1(d);return}x=x!=null?""+Ka(x):"",h=h!=null?""+Ka(h):x,W||h===d.value||(d.value=h),d.defaultValue=h}b=b??k,b=typeof b!="function"&&typeof b!="symbol"&&!!b,d.checked=W?d.checked:!!b,d.defaultChecked=!!b,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(d.name=D),_1(d)}function D1(d,h,x){h==="number"&&Ly(d.ownerDocument)===d||d.defaultValue===""+x||(d.defaultValue=""+x)}function Hu(d,h,x,b){if(d=d.options,h){h={};for(var k=0;k<x.length;k++)h["$"+x[k]]=!0;for(x=0;x<d.length;x++)k=h.hasOwnProperty("$"+d[x].value),d[x].selected!==k&&(d[x].selected=k),k&&b&&(d[x].defaultSelected=!0)}else{for(x=""+Ka(x),h=null,k=0;k<d.length;k++){if(d[k].value===x){d[k].selected=!0,b&&(d[k].defaultSelected=!0);return}h!==null||d[k].disabled||(h=d[k])}h!==null&&(h.selected=!0)}}function W3(d,h,x){if(h!=null&&(h=""+Ka(h),h!==d.value&&(d.value=h),x==null)){d.defaultValue!==h&&(d.defaultValue=h);return}d.defaultValue=x!=null?""+Ka(x):""}function G3(d,h,x,b){if(h==null){if(b!=null){if(x!=null)throw Error(r(92));if(K(b)){if(1<b.length)throw Error(r(93));b=b[0]}x=b}x==null&&(x=""),h=x}x=Ka(h),d.defaultValue=x,b=d.textContent,b===x&&b!==""&&b!==null&&(d.value=b),_1(d)}function Ku(d,h){if(h){var x=d.firstChild;if(x&&x===d.lastChild&&x.nodeType===3){x.nodeValue=h;return}}d.textContent=h}var zoe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Y3(d,h,x){var b=h.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?b?d.setProperty(h,""):h==="float"?d.cssFloat="":d[h]="":b?d.setProperty(h,x):typeof x!="number"||x===0||zoe.has(h)?h==="float"?d.cssFloat=x:d[h]=(""+x).trim():d[h]=x+"px"}function X3(d,h,x){if(h!=null&&typeof h!="object")throw Error(r(62));if(d=d.style,x!=null){for(var b in x)!x.hasOwnProperty(b)||h!=null&&h.hasOwnProperty(b)||(b.indexOf("--")===0?d.setProperty(b,""):b==="float"?d.cssFloat="":d[b]="");for(var k in h)b=h[k],h.hasOwnProperty(k)&&x[k]!==b&&Y3(d,k,b)}else for(var P in h)h.hasOwnProperty(P)&&Y3(d,P,h[P])}function I1(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qoe=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uoe=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $y(d){return Uoe.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}function Xo(){}var L1=null;function $1(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Wu=null,Gu=null;function Q3(d){var h=qe(d);if(h&&(d=h.stateNode)){var x=d[Vn]||null;e:switch(d=h.stateNode,h.type){case"input":if(R1(d,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),h=x.name,x.type==="radio"&&h!=null){for(x=d;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Wa(""+h)+'"][type="radio"]'),h=0;h<x.length;h++){var b=x[h];if(b!==d&&b.form===d.form){var k=b[Vn]||null;if(!k)throw Error(r(90));R1(b,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name)}}for(h=0;h<x.length;h++)b=x[h],b.form===d.form&&H3(b)}break e;case"textarea":W3(d,x.value,x.defaultValue);break e;case"select":h=x.value,h!=null&&Hu(d,!!x.multiple,h,!1)}}}var F1=!1;function J3(d,h,x){if(F1)return d(h,x);F1=!0;try{var b=d(h);return b}finally{if(F1=!1,(Wu!==null||Gu!==null)&&(Cv(),Wu&&(h=Wu,d=Gu,Gu=Wu=null,Q3(h),d)))for(h=0;h<d.length;h++)Q3(d[h])}}function $m(d,h){var x=d.stateNode;if(x===null)return null;var b=x[Vn]||null;if(b===null)return null;x=b[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(d=d.type,b=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!b;break e;default:d=!1}if(d)return null;if(x&&typeof x!="function")throw Error(r(231,h,typeof x));return x}var Qo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),B1=!1;if(Qo)try{var Fm={};Object.defineProperty(Fm,"passive",{get:function(){B1=!0}}),window.addEventListener("test",Fm,Fm),window.removeEventListener("test",Fm,Fm)}catch{B1=!1}var Jl=null,z1=null,Fy=null;function Z3(){if(Fy)return Fy;var d,h=z1,x=h.length,b,k="value"in Jl?Jl.value:Jl.textContent,P=k.length;for(d=0;d<x&&h[d]===k[d];d++);var D=x-d;for(b=1;b<=D&&h[x-b]===k[P-b];b++);return Fy=k.slice(d,1<b?1-b:void 0)}function By(d){var h=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&h===13&&(d=13)):d=h,d===10&&(d=13),32<=d||d===13?d:0}function zy(){return!0}function eD(){return!1}function na(d){function h(x,b,k,P,D){this._reactName=x,this._targetInst=k,this.type=b,this.nativeEvent=P,this.target=D,this.currentTarget=null;for(var W in d)d.hasOwnProperty(W)&&(x=d[W],this[W]=x?x(P):P[W]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?zy:eD,this.isPropagationStopped=eD,this}return m(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=zy)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=zy)},persist:function(){},isPersistent:zy}),h}var fd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qy=na(fd),Bm=m({},fd,{view:0,detail:0}),Voe=na(Bm),q1,U1,zm,Uy=m({},Bm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:H1,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==zm&&(zm&&d.type==="mousemove"?(q1=d.screenX-zm.screenX,U1=d.screenY-zm.screenY):U1=q1=0,zm=d),q1)},movementY:function(d){return"movementY"in d?d.movementY:U1}}),tD=na(Uy),Hoe=m({},Uy,{dataTransfer:0}),Koe=na(Hoe),Woe=m({},Bm,{relatedTarget:0}),V1=na(Woe),Goe=m({},fd,{animationName:0,elapsedTime:0,pseudoElement:0}),Yoe=na(Goe),Xoe=m({},fd,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Qoe=na(Xoe),Joe=m({},fd,{data:0}),nD=na(Joe),Zoe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ele={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tle={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nle(d){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(d):(d=tle[d])?!!h[d]:!1}function H1(){return nle}var rle=m({},Bm,{key:function(d){if(d.key){var h=Zoe[d.key]||d.key;if(h!=="Unidentified")return h}return d.type==="keypress"?(d=By(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?ele[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:H1,charCode:function(d){return d.type==="keypress"?By(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?By(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),sle=na(rle),ale=m({},Uy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rD=na(ale),ile=m({},Bm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:H1}),ole=na(ile),lle=m({},fd,{propertyName:0,elapsedTime:0,pseudoElement:0}),cle=na(lle),dle=m({},Uy,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),ule=na(dle),fle=m({},fd,{newState:0,oldState:0}),hle=na(fle),mle=[9,13,27,32],K1=Qo&&"CompositionEvent"in window,qm=null;Qo&&"documentMode"in document&&(qm=document.documentMode);var ple=Qo&&"TextEvent"in window&&!qm,sD=Qo&&(!K1||qm&&8<qm&&11>=qm),aD=" ",iD=!1;function oD(d,h){switch(d){case"keyup":return mle.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lD(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Yu=!1;function xle(d,h){switch(d){case"compositionend":return lD(h);case"keypress":return h.which!==32?null:(iD=!0,aD);case"textInput":return d=h.data,d===aD&&iD?null:d;default:return null}}function gle(d,h){if(Yu)return d==="compositionend"||!K1&&oD(d,h)?(d=Z3(),Fy=z1=Jl=null,Yu=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return sD&&h.locale!=="ko"?null:h.data;default:return null}}var yle={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cD(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h==="input"?!!yle[d.type]:h==="textarea"}function dD(d,h,x,b){Wu?Gu?Gu.push(b):Gu=[b]:Wu=b,h=Mv(h,"onChange"),0<h.length&&(x=new qy("onChange","change",null,x,b),d.push({event:x,listeners:h}))}var Um=null,Vm=null;function vle(d){KL(d,0)}function Vy(d){var h=nn(d);if(H3(h))return d}function uD(d,h){if(d==="change")return h}var fD=!1;if(Qo){var W1;if(Qo){var G1="oninput"in document;if(!G1){var hD=document.createElement("div");hD.setAttribute("oninput","return;"),G1=typeof hD.oninput=="function"}W1=G1}else W1=!1;fD=W1&&(!document.documentMode||9<document.documentMode)}function mD(){Um&&(Um.detachEvent("onpropertychange",pD),Vm=Um=null)}function pD(d){if(d.propertyName==="value"&&Vy(Vm)){var h=[];dD(h,Vm,d,$1(d)),J3(vle,h)}}function ble(d,h,x){d==="focusin"?(mD(),Um=h,Vm=x,Um.attachEvent("onpropertychange",pD)):d==="focusout"&&mD()}function jle(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Vy(Vm)}function wle(d,h){if(d==="click")return Vy(h)}function Nle(d,h){if(d==="input"||d==="change")return Vy(h)}function Sle(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var ya=typeof Object.is=="function"?Object.is:Sle;function Hm(d,h){if(ya(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var x=Object.keys(d),b=Object.keys(h);if(x.length!==b.length)return!1;for(b=0;b<x.length;b++){var k=x[b];if(!St.call(h,k)||!ya(d[k],h[k]))return!1}return!0}function xD(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function gD(d,h){var x=xD(d);d=0;for(var b;x;){if(x.nodeType===3){if(b=d+x.textContent.length,d<=h&&b>=h)return{node:x,offset:h-d};d=b}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=xD(x)}}function yD(d,h){return d&&h?d===h?!0:d&&d.nodeType===3?!1:h&&h.nodeType===3?yD(d,h.parentNode):"contains"in d?d.contains(h):d.compareDocumentPosition?!!(d.compareDocumentPosition(h)&16):!1:!1}function vD(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var h=Ly(d.document);h instanceof d.HTMLIFrameElement;){try{var x=typeof h.contentWindow.location.href=="string"}catch{x=!1}if(x)d=h.contentWindow;else break;h=Ly(d.document)}return h}function Y1(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h&&(h==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||h==="textarea"||d.contentEditable==="true")}var Cle=Qo&&"documentMode"in document&&11>=document.documentMode,Xu=null,X1=null,Km=null,Q1=!1;function bD(d,h,x){var b=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Q1||Xu==null||Xu!==Ly(b)||(b=Xu,"selectionStart"in b&&Y1(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Km&&Hm(Km,b)||(Km=b,b=Mv(X1,"onSelect"),0<b.length&&(h=new qy("onSelect","select",null,h,x),d.push({event:h,listeners:b}),h.target=Xu)))}function hd(d,h){var x={};return x[d.toLowerCase()]=h.toLowerCase(),x["Webkit"+d]="webkit"+h,x["Moz"+d]="moz"+h,x}var Qu={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionrun:hd("Transition","TransitionRun"),transitionstart:hd("Transition","TransitionStart"),transitioncancel:hd("Transition","TransitionCancel"),transitionend:hd("Transition","TransitionEnd")},J1={},jD={};Qo&&(jD=document.createElement("div").style,"AnimationEvent"in window||(delete Qu.animationend.animation,delete Qu.animationiteration.animation,delete Qu.animationstart.animation),"TransitionEvent"in window||delete Qu.transitionend.transition);function md(d){if(J1[d])return J1[d];if(!Qu[d])return d;var h=Qu[d],x;for(x in h)if(h.hasOwnProperty(x)&&x in jD)return J1[d]=h[x];return d}var wD=md("animationend"),ND=md("animationiteration"),SD=md("animationstart"),kle=md("transitionrun"),Tle=md("transitionstart"),Ale=md("transitioncancel"),CD=md("transitionend"),kD=new Map,Z1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Z1.push("scrollEnd");function Pi(d,h){kD.set(d,h),ta(h,[d])}var Hy=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},Ga=[],Ju=0,eS=0;function Ky(){for(var d=Ju,h=eS=Ju=0;h<d;){var x=Ga[h];Ga[h++]=null;var b=Ga[h];Ga[h++]=null;var k=Ga[h];Ga[h++]=null;var P=Ga[h];if(Ga[h++]=null,b!==null&&k!==null){var D=b.pending;D===null?k.next=k:(k.next=D.next,D.next=k),b.pending=k}P!==0&&TD(x,k,P)}}function Wy(d,h,x,b){Ga[Ju++]=d,Ga[Ju++]=h,Ga[Ju++]=x,Ga[Ju++]=b,eS|=b,d.lanes|=b,d=d.alternate,d!==null&&(d.lanes|=b)}function tS(d,h,x,b){return Wy(d,h,x,b),Gy(d)}function pd(d,h){return Wy(d,null,null,h),Gy(d)}function TD(d,h,x){d.lanes|=x;var b=d.alternate;b!==null&&(b.lanes|=x);for(var k=!1,P=d.return;P!==null;)P.childLanes|=x,b=P.alternate,b!==null&&(b.childLanes|=x),P.tag===22&&(d=P.stateNode,d===null||d._visibility&1||(k=!0)),d=P,P=P.return;return d.tag===3?(P=d.stateNode,k&&h!==null&&(k=31-Q(x),d=P.hiddenUpdates,b=d[k],b===null?d[k]=[h]:b.push(h),h.lane=x|536870912),P):null}function Gy(d){if(50<mp)throw mp=0,d2=null,Error(r(185));for(var h=d.return;h!==null;)d=h,h=d.return;return d.tag===3?d.stateNode:null}var Zu={};function Ele(d,h,x,b){this.tag=d,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function va(d,h,x,b){return new Ele(d,h,x,b)}function nS(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Jo(d,h){var x=d.alternate;return x===null?(x=va(d.tag,h,d.key,d.mode),x.elementType=d.elementType,x.type=d.type,x.stateNode=d.stateNode,x.alternate=d,d.alternate=x):(x.pendingProps=h,x.type=d.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=d.flags&65011712,x.childLanes=d.childLanes,x.lanes=d.lanes,x.child=d.child,x.memoizedProps=d.memoizedProps,x.memoizedState=d.memoizedState,x.updateQueue=d.updateQueue,h=d.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=d.sibling,x.index=d.index,x.ref=d.ref,x.refCleanup=d.refCleanup,x}function AD(d,h){d.flags&=65011714;var x=d.alternate;return x===null?(d.childLanes=0,d.lanes=h,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,h=x.dependencies,d.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),d}function Yy(d,h,x,b,k,P){var D=0;if(b=d,typeof d=="function")nS(d)&&(D=1);else if(typeof d=="string")D=Rce(d,x,X.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case M:return d=va(31,x,h,k),d.elementType=M,d.lanes=P,d;case y:return xd(x.children,k,P,h);case w:D=8,k|=24;break;case N:return d=va(12,x,h,k|2),d.elementType=N,d.lanes=P,d;case S:return d=va(13,x,h,k),d.elementType=S,d.lanes=P,d;case E:return d=va(19,x,h,k),d.elementType=E,d.lanes=P,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case T:D=10;break e;case A:D=9;break e;case C:D=11;break e;case O:D=14;break e;case _:D=16,b=null;break e}D=29,x=Error(r(130,d===null?"null":typeof d,"")),b=null}return h=va(D,x,h,k),h.elementType=d,h.type=b,h.lanes=P,h}function xd(d,h,x,b){return d=va(7,d,b,h),d.lanes=x,d}function rS(d,h,x){return d=va(6,d,null,h),d.lanes=x,d}function ED(d){var h=va(18,null,null,0);return h.stateNode=d,h}function sS(d,h,x){return h=va(4,d.children!==null?d.children:[],d.key,h),h.lanes=x,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}var OD=new WeakMap;function Ya(d,h){if(typeof d=="object"&&d!==null){var x=OD.get(d);return x!==void 0?x:(h={value:d,source:h,stack:Et(h)},OD.set(d,h),h)}return{value:d,source:h,stack:Et(h)}}var ef=[],tf=0,Xy=null,Wm=0,Xa=[],Qa=0,Zl=null,ho=1,mo="";function Zo(d,h){ef[tf++]=Wm,ef[tf++]=Xy,Xy=d,Wm=h}function PD(d,h,x){Xa[Qa++]=ho,Xa[Qa++]=mo,Xa[Qa++]=Zl,Zl=d;var b=ho;d=mo;var k=32-Q(b)-1;b&=~(1<<k),x+=1;var P=32-Q(h)+k;if(30<P){var D=k-k%5;P=(b&(1<<D)-1).toString(32),b>>=D,k-=D,ho=1<<32-Q(h)+k|x<<k|b,mo=P+d}else ho=1<<P|x<<k|b,mo=d}function aS(d){d.return!==null&&(Zo(d,1),PD(d,1,0))}function iS(d){for(;d===Xy;)Xy=ef[--tf],ef[tf]=null,Wm=ef[--tf],ef[tf]=null;for(;d===Zl;)Zl=Xa[--Qa],Xa[Qa]=null,mo=Xa[--Qa],Xa[Qa]=null,ho=Xa[--Qa],Xa[Qa]=null}function MD(d,h){Xa[Qa++]=ho,Xa[Qa++]=mo,Xa[Qa++]=Zl,ho=h.id,mo=h.overflow,Zl=d}var cs=null,Dn=null,Bt=!1,ec=null,Ja=!1,oS=Error(r(519));function tc(d){var h=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gm(Ya(h,d)),oS}function _D(d){var h=d.stateNode,x=d.type,b=d.memoizedProps;switch(h[wr]=d,h[Vn]=b,x){case"dialog":Lt("cancel",h),Lt("close",h);break;case"iframe":case"object":case"embed":Lt("load",h);break;case"video":case"audio":for(x=0;x<xp.length;x++)Lt(xp[x],h);break;case"source":Lt("error",h);break;case"img":case"image":case"link":Lt("error",h),Lt("load",h);break;case"details":Lt("toggle",h);break;case"input":Lt("invalid",h),K3(h,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":Lt("invalid",h);break;case"textarea":Lt("invalid",h),G3(h,b.value,b.defaultValue,b.children)}x=b.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||h.textContent===""+x||b.suppressHydrationWarning===!0||XL(h.textContent,x)?(b.popover!=null&&(Lt("beforetoggle",h),Lt("toggle",h)),b.onScroll!=null&&Lt("scroll",h),b.onScrollEnd!=null&&Lt("scrollend",h),b.onClick!=null&&(h.onclick=Xo),h=!0):h=!1,h||tc(d,!0)}function RD(d){for(cs=d.return;cs;)switch(cs.tag){case 5:case 31:case 13:Ja=!1;return;case 27:case 3:Ja=!0;return;default:cs=cs.return}}function nf(d){if(d!==cs)return!1;if(!Bt)return RD(d),Bt=!0,!1;var h=d.tag,x;if((x=h!==3&&h!==27)&&((x=h===5)&&(x=d.type,x=!(x!=="form"&&x!=="button")||C2(d.type,d.memoizedProps)),x=!x),x&&Dn&&tc(d),RD(d),h===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));Dn=a$(d)}else if(h===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));Dn=a$(d)}else h===27?(h=Dn,pc(d.type)?(d=O2,O2=null,Dn=d):Dn=h):Dn=cs?ei(d.stateNode.nextSibling):null;return!0}function gd(){Dn=cs=null,Bt=!1}function lS(){var d=ec;return d!==null&&(ia===null?ia=d:ia.push.apply(ia,d),ec=null),d}function Gm(d){ec===null?ec=[d]:ec.push(d)}var cS=H(null),yd=null,el=null;function nc(d,h,x){G(cS,h._currentValue),h._currentValue=x}function tl(d){d._currentValue=cS.current,Y(cS)}function dS(d,h,x){for(;d!==null;){var b=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,b!==null&&(b.childLanes|=h)):b!==null&&(b.childLanes&h)!==h&&(b.childLanes|=h),d===x)break;d=d.return}}function uS(d,h,x,b){var k=d.child;for(k!==null&&(k.return=d);k!==null;){var P=k.dependencies;if(P!==null){var D=k.child;P=P.firstContext;e:for(;P!==null;){var W=P;P=k;for(var re=0;re<h.length;re++)if(W.context===h[re]){P.lanes|=x,W=P.alternate,W!==null&&(W.lanes|=x),dS(P.return,x,d),b||(D=null);break e}P=W.next}}else if(k.tag===18){if(D=k.return,D===null)throw Error(r(341));D.lanes|=x,P=D.alternate,P!==null&&(P.lanes|=x),dS(D,x,d),D=null}else D=k.child;if(D!==null)D.return=k;else for(D=k;D!==null;){if(D===d){D=null;break}if(k=D.sibling,k!==null){k.return=D.return,D=k;break}D=D.return}k=D}}function rf(d,h,x,b){d=null;for(var k=h,P=!1;k!==null;){if(!P){if((k.flags&524288)!==0)P=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var D=k.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var W=k.type;ya(k.pendingProps.value,D.value)||(d!==null?d.push(W):d=[W])}}else if(k===he.current){if(D=k.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(d!==null?d.push(jp):d=[jp])}k=k.return}d!==null&&uS(h,d,x,b),h.flags|=262144}function Qy(d){for(d=d.firstContext;d!==null;){if(!ya(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function vd(d){yd=d,el=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function ds(d){return DD(yd,d)}function Jy(d,h){return yd===null&&vd(d),DD(d,h)}function DD(d,h){var x=h._currentValue;if(h={context:h,memoizedValue:x,next:null},el===null){if(d===null)throw Error(r(308));el=h,d.dependencies={lanes:0,firstContext:h},d.flags|=524288}else el=el.next=h;return x}var Ole=typeof AbortController<"u"?AbortController:function(){var d=[],h=this.signal={aborted:!1,addEventListener:function(x,b){d.push(b)}};this.abort=function(){h.aborted=!0,d.forEach(function(x){return x()})}},Ple=e.unstable_scheduleCallback,Mle=e.unstable_NormalPriority,Nr={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fS(){return{controller:new Ole,data:new Map,refCount:0}}function Ym(d){d.refCount--,d.refCount===0&&Ple(Mle,function(){d.controller.abort()})}var Xm=null,hS=0,sf=0,af=null;function _le(d,h){if(Xm===null){var x=Xm=[];hS=0,sf=x2(),af={status:"pending",value:void 0,then:function(b){x.push(b)}}}return hS++,h.then(ID,ID),h}function ID(){if(--hS===0&&Xm!==null){af!==null&&(af.status="fulfilled");var d=Xm;Xm=null,sf=0,af=null;for(var h=0;h<d.length;h++)(0,d[h])()}}function Rle(d,h){var x=[],b={status:"pending",value:null,reason:null,then:function(k){x.push(k)}};return d.then(function(){b.status="fulfilled",b.value=h;for(var k=0;k<x.length;k++)(0,x[k])(h)},function(k){for(b.status="rejected",b.reason=k,k=0;k<x.length;k++)(0,x[k])(void 0)}),b}var LD=R.S;R.S=function(d,h){bL=Vt(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&_le(d,h),LD!==null&&LD(d,h)};var bd=H(null);function mS(){var d=bd.current;return d!==null?d:Nn.pooledCache}function Zy(d,h){h===null?G(bd,bd.current):G(bd,h.pool)}function $D(){var d=mS();return d===null?null:{parent:Nr._currentValue,pool:d}}var of=Error(r(460)),pS=Error(r(474)),ev=Error(r(542)),tv={then:function(){}};function FD(d){return d=d.status,d==="fulfilled"||d==="rejected"}function BD(d,h,x){switch(x=d[x],x===void 0?d.push(h):x!==h&&(h.then(Xo,Xo),h=x),h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,qD(d),d;default:if(typeof h.status=="string")h.then(Xo,Xo);else{if(d=Nn,d!==null&&100<d.shellSuspendCounter)throw Error(r(482));d=h,d.status="pending",d.then(function(b){if(h.status==="pending"){var k=h;k.status="fulfilled",k.value=b}},function(b){if(h.status==="pending"){var k=h;k.status="rejected",k.reason=b}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,qD(d),d}throw wd=h,of}}function jd(d){try{var h=d._init;return h(d._payload)}catch(x){throw x!==null&&typeof x=="object"&&typeof x.then=="function"?(wd=x,of):x}}var wd=null;function zD(){if(wd===null)throw Error(r(459));var d=wd;return wd=null,d}function qD(d){if(d===of||d===ev)throw Error(r(483))}var lf=null,Qm=0;function nv(d){var h=Qm;return Qm+=1,lf===null&&(lf=[]),BD(lf,d,h)}function Jm(d,h){h=h.props.ref,d.ref=h!==void 0?h:null}function rv(d,h){throw h.$$typeof===p?Error(r(525)):(d=Object.prototype.toString.call(h),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d)))}function UD(d){function h(ce,oe){if(d){var ue=ce.deletions;ue===null?(ce.deletions=[oe],ce.flags|=16):ue.push(oe)}}function x(ce,oe){if(!d)return null;for(;oe!==null;)h(ce,oe),oe=oe.sibling;return null}function b(ce){for(var oe=new Map;ce!==null;)ce.key!==null?oe.set(ce.key,ce):oe.set(ce.index,ce),ce=ce.sibling;return oe}function k(ce,oe){return ce=Jo(ce,oe),ce.index=0,ce.sibling=null,ce}function P(ce,oe,ue){return ce.index=ue,d?(ue=ce.alternate,ue!==null?(ue=ue.index,ue<oe?(ce.flags|=67108866,oe):ue):(ce.flags|=67108866,oe)):(ce.flags|=1048576,oe)}function D(ce){return d&&ce.alternate===null&&(ce.flags|=67108866),ce}function W(ce,oe,ue,Se){return oe===null||oe.tag!==6?(oe=rS(ue,ce.mode,Se),oe.return=ce,oe):(oe=k(oe,ue),oe.return=ce,oe)}function re(ce,oe,ue,Se){var Ze=ue.type;return Ze===y?be(ce,oe,ue.props.children,Se,ue.key):oe!==null&&(oe.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===_&&jd(Ze)===oe.type)?(oe=k(oe,ue.props),Jm(oe,ue),oe.return=ce,oe):(oe=Yy(ue.type,ue.key,ue.props,null,ce.mode,Se),Jm(oe,ue),oe.return=ce,oe)}function fe(ce,oe,ue,Se){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ue.containerInfo||oe.stateNode.implementation!==ue.implementation?(oe=sS(ue,ce.mode,Se),oe.return=ce,oe):(oe=k(oe,ue.children||[]),oe.return=ce,oe)}function be(ce,oe,ue,Se,Ze){return oe===null||oe.tag!==7?(oe=xd(ue,ce.mode,Se,Ze),oe.return=ce,oe):(oe=k(oe,ue),oe.return=ce,oe)}function Te(ce,oe,ue){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=rS(""+oe,ce.mode,ue),oe.return=ce,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case g:return ue=Yy(oe.type,oe.key,oe.props,null,ce.mode,ue),Jm(ue,oe),ue.return=ce,ue;case v:return oe=sS(oe,ce.mode,ue),oe.return=ce,oe;case _:return oe=jd(oe),Te(ce,oe,ue)}if(K(oe)||V(oe))return oe=xd(oe,ce.mode,ue,null),oe.return=ce,oe;if(typeof oe.then=="function")return Te(ce,nv(oe),ue);if(oe.$$typeof===T)return Te(ce,Jy(ce,oe),ue);rv(ce,oe)}return null}function me(ce,oe,ue,Se){var Ze=oe!==null?oe.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Ze!==null?null:W(ce,oe,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case g:return ue.key===Ze?re(ce,oe,ue,Se):null;case v:return ue.key===Ze?fe(ce,oe,ue,Se):null;case _:return ue=jd(ue),me(ce,oe,ue,Se)}if(K(ue)||V(ue))return Ze!==null?null:be(ce,oe,ue,Se,null);if(typeof ue.then=="function")return me(ce,oe,nv(ue),Se);if(ue.$$typeof===T)return me(ce,oe,Jy(ce,ue),Se);rv(ce,ue)}return null}function xe(ce,oe,ue,Se,Ze){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return ce=ce.get(ue)||null,W(oe,ce,""+Se,Ze);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case g:return ce=ce.get(Se.key===null?ue:Se.key)||null,re(oe,ce,Se,Ze);case v:return ce=ce.get(Se.key===null?ue:Se.key)||null,fe(oe,ce,Se,Ze);case _:return Se=jd(Se),xe(ce,oe,ue,Se,Ze)}if(K(Se)||V(Se))return ce=ce.get(ue)||null,be(oe,ce,Se,Ze,null);if(typeof Se.then=="function")return xe(ce,oe,ue,nv(Se),Ze);if(Se.$$typeof===T)return xe(ce,oe,ue,Jy(oe,Se),Ze);rv(oe,Se)}return null}function Ve(ce,oe,ue,Se){for(var Ze=null,Xt=null,Ye=oe,Tt=oe=0,Ft=null;Ye!==null&&Tt<ue.length;Tt++){Ye.index>Tt?(Ft=Ye,Ye=null):Ft=Ye.sibling;var Qt=me(ce,Ye,ue[Tt],Se);if(Qt===null){Ye===null&&(Ye=Ft);break}d&&Ye&&Qt.alternate===null&&h(ce,Ye),oe=P(Qt,oe,Tt),Xt===null?Ze=Qt:Xt.sibling=Qt,Xt=Qt,Ye=Ft}if(Tt===ue.length)return x(ce,Ye),Bt&&Zo(ce,Tt),Ze;if(Ye===null){for(;Tt<ue.length;Tt++)Ye=Te(ce,ue[Tt],Se),Ye!==null&&(oe=P(Ye,oe,Tt),Xt===null?Ze=Ye:Xt.sibling=Ye,Xt=Ye);return Bt&&Zo(ce,Tt),Ze}for(Ye=b(Ye);Tt<ue.length;Tt++)Ft=xe(Ye,ce,Tt,ue[Tt],Se),Ft!==null&&(d&&Ft.alternate!==null&&Ye.delete(Ft.key===null?Tt:Ft.key),oe=P(Ft,oe,Tt),Xt===null?Ze=Ft:Xt.sibling=Ft,Xt=Ft);return d&&Ye.forEach(function(bc){return h(ce,bc)}),Bt&&Zo(ce,Tt),Ze}function ot(ce,oe,ue,Se){if(ue==null)throw Error(r(151));for(var Ze=null,Xt=null,Ye=oe,Tt=oe=0,Ft=null,Qt=ue.next();Ye!==null&&!Qt.done;Tt++,Qt=ue.next()){Ye.index>Tt?(Ft=Ye,Ye=null):Ft=Ye.sibling;var bc=me(ce,Ye,Qt.value,Se);if(bc===null){Ye===null&&(Ye=Ft);break}d&&Ye&&bc.alternate===null&&h(ce,Ye),oe=P(bc,oe,Tt),Xt===null?Ze=bc:Xt.sibling=bc,Xt=bc,Ye=Ft}if(Qt.done)return x(ce,Ye),Bt&&Zo(ce,Tt),Ze;if(Ye===null){for(;!Qt.done;Tt++,Qt=ue.next())Qt=Te(ce,Qt.value,Se),Qt!==null&&(oe=P(Qt,oe,Tt),Xt===null?Ze=Qt:Xt.sibling=Qt,Xt=Qt);return Bt&&Zo(ce,Tt),Ze}for(Ye=b(Ye);!Qt.done;Tt++,Qt=ue.next())Qt=xe(Ye,ce,Tt,Qt.value,Se),Qt!==null&&(d&&Qt.alternate!==null&&Ye.delete(Qt.key===null?Tt:Qt.key),oe=P(Qt,oe,Tt),Xt===null?Ze=Qt:Xt.sibling=Qt,Xt=Qt);return d&&Ye.forEach(function(Hce){return h(ce,Hce)}),Bt&&Zo(ce,Tt),Ze}function vn(ce,oe,ue,Se){if(typeof ue=="object"&&ue!==null&&ue.type===y&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case g:e:{for(var Ze=ue.key;oe!==null;){if(oe.key===Ze){if(Ze=ue.type,Ze===y){if(oe.tag===7){x(ce,oe.sibling),Se=k(oe,ue.props.children),Se.return=ce,ce=Se;break e}}else if(oe.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===_&&jd(Ze)===oe.type){x(ce,oe.sibling),Se=k(oe,ue.props),Jm(Se,ue),Se.return=ce,ce=Se;break e}x(ce,oe);break}else h(ce,oe);oe=oe.sibling}ue.type===y?(Se=xd(ue.props.children,ce.mode,Se,ue.key),Se.return=ce,ce=Se):(Se=Yy(ue.type,ue.key,ue.props,null,ce.mode,Se),Jm(Se,ue),Se.return=ce,ce=Se)}return D(ce);case v:e:{for(Ze=ue.key;oe!==null;){if(oe.key===Ze)if(oe.tag===4&&oe.stateNode.containerInfo===ue.containerInfo&&oe.stateNode.implementation===ue.implementation){x(ce,oe.sibling),Se=k(oe,ue.children||[]),Se.return=ce,ce=Se;break e}else{x(ce,oe);break}else h(ce,oe);oe=oe.sibling}Se=sS(ue,ce.mode,Se),Se.return=ce,ce=Se}return D(ce);case _:return ue=jd(ue),vn(ce,oe,ue,Se)}if(K(ue))return Ve(ce,oe,ue,Se);if(V(ue)){if(Ze=V(ue),typeof Ze!="function")throw Error(r(150));return ue=Ze.call(ue),ot(ce,oe,ue,Se)}if(typeof ue.then=="function")return vn(ce,oe,nv(ue),Se);if(ue.$$typeof===T)return vn(ce,oe,Jy(ce,ue),Se);rv(ce,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,oe!==null&&oe.tag===6?(x(ce,oe.sibling),Se=k(oe,ue),Se.return=ce,ce=Se):(x(ce,oe),Se=rS(ue,ce.mode,Se),Se.return=ce,ce=Se),D(ce)):x(ce,oe)}return function(ce,oe,ue,Se){try{Qm=0;var Ze=vn(ce,oe,ue,Se);return lf=null,Ze}catch(Ye){if(Ye===of||Ye===ev)throw Ye;var Xt=va(29,Ye,null,ce.mode);return Xt.lanes=Se,Xt.return=ce,Xt}finally{}}}var Nd=UD(!0),VD=UD(!1),rc=!1;function xS(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gS(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function sc(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function ac(d,h,x){var b=d.updateQueue;if(b===null)return null;if(b=b.shared,(tn&2)!==0){var k=b.pending;return k===null?h.next=h:(h.next=k.next,k.next=h),b.pending=h,h=Gy(d),TD(d,null,x),h}return Wy(d,b,h,x),Gy(d)}function Zm(d,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194048)!==0)){var b=h.lanes;b&=d.pendingLanes,x|=b,h.lanes=x,_m(d,x)}}function yS(d,h){var x=d.updateQueue,b=d.alternate;if(b!==null&&(b=b.updateQueue,x===b)){var k=null,P=null;if(x=x.firstBaseUpdate,x!==null){do{var D={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};P===null?k=P=D:P=P.next=D,x=x.next}while(x!==null);P===null?k=P=h:P=P.next=h}else k=P=h;x={baseState:b.baseState,firstBaseUpdate:k,lastBaseUpdate:P,shared:b.shared,callbacks:b.callbacks},d.updateQueue=x;return}d=x.lastBaseUpdate,d===null?x.firstBaseUpdate=h:d.next=h,x.lastBaseUpdate=h}var vS=!1;function ep(){if(vS){var d=af;if(d!==null)throw d}}function tp(d,h,x,b){vS=!1;var k=d.updateQueue;rc=!1;var P=k.firstBaseUpdate,D=k.lastBaseUpdate,W=k.shared.pending;if(W!==null){k.shared.pending=null;var re=W,fe=re.next;re.next=null,D===null?P=fe:D.next=fe,D=re;var be=d.alternate;be!==null&&(be=be.updateQueue,W=be.lastBaseUpdate,W!==D&&(W===null?be.firstBaseUpdate=fe:W.next=fe,be.lastBaseUpdate=re))}if(P!==null){var Te=k.baseState;D=0,be=fe=re=null,W=P;do{var me=W.lane&-536870913,xe=me!==W.lane;if(xe?($t&me)===me:(b&me)===me){me!==0&&me===sf&&(vS=!0),be!==null&&(be=be.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var Ve=d,ot=W;me=h;var vn=x;switch(ot.tag){case 1:if(Ve=ot.payload,typeof Ve=="function"){Te=Ve.call(vn,Te,me);break e}Te=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=ot.payload,me=typeof Ve=="function"?Ve.call(vn,Te,me):Ve,me==null)break e;Te=m({},Te,me);break e;case 2:rc=!0}}me=W.callback,me!==null&&(d.flags|=64,xe&&(d.flags|=8192),xe=k.callbacks,xe===null?k.callbacks=[me]:xe.push(me))}else xe={lane:me,tag:W.tag,payload:W.payload,callback:W.callback,next:null},be===null?(fe=be=xe,re=Te):be=be.next=xe,D|=me;if(W=W.next,W===null){if(W=k.shared.pending,W===null)break;xe=W,W=xe.next,xe.next=null,k.lastBaseUpdate=xe,k.shared.pending=null}}while(!0);be===null&&(re=Te),k.baseState=re,k.firstBaseUpdate=fe,k.lastBaseUpdate=be,P===null&&(k.shared.lanes=0),dc|=D,d.lanes=D,d.memoizedState=Te}}function HD(d,h){if(typeof d!="function")throw Error(r(191,d));d.call(h)}function KD(d,h){var x=d.callbacks;if(x!==null)for(d.callbacks=null,d=0;d<x.length;d++)HD(x[d],h)}var cf=H(null),sv=H(0);function WD(d,h){d=dl,G(sv,d),G(cf,h),dl=d|h.baseLanes}function bS(){G(sv,dl),G(cf,cf.current)}function jS(){dl=sv.current,Y(cf),Y(sv)}var ba=H(null),Za=null;function ic(d){var h=d.alternate;G(pr,pr.current&1),G(ba,d),Za===null&&(h===null||cf.current!==null||h.memoizedState!==null)&&(Za=d)}function wS(d){G(pr,pr.current),G(ba,d),Za===null&&(Za=d)}function GD(d){d.tag===22?(G(pr,pr.current),G(ba,d),Za===null&&(Za=d)):oc()}function oc(){G(pr,pr.current),G(ba,ba.current)}function ja(d){Y(ba),Za===d&&(Za=null),Y(pr)}var pr=H(0);function av(d){for(var h=d;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||A2(x)||E2(x)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var nl=0,kt=null,gn=null,Sr=null,iv=!1,df=!1,Sd=!1,ov=0,np=0,uf=null,Dle=0;function sr(){throw Error(r(321))}function NS(d,h){if(h===null)return!1;for(var x=0;x<h.length&&x<d.length;x++)if(!ya(d[x],h[x]))return!1;return!0}function SS(d,h,x,b,k,P){return nl=P,kt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,R.H=d===null||d.memoizedState===null?PI:FS,Sd=!1,P=x(b,k),Sd=!1,df&&(P=XD(h,x,b,k)),YD(d),P}function YD(d){R.H=ap;var h=gn!==null&&gn.next!==null;if(nl=0,Sr=gn=kt=null,iv=!1,np=0,uf=null,h)throw Error(r(300));d===null||Cr||(d=d.dependencies,d!==null&&Qy(d)&&(Cr=!0))}function XD(d,h,x,b){kt=d;var k=0;do{if(df&&(uf=null),np=0,df=!1,25<=k)throw Error(r(301));if(k+=1,Sr=gn=null,d.updateQueue!=null){var P=d.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}R.H=MI,P=h(x,b)}while(df);return P}function Ile(){var d=R.H,h=d.useState()[0];return h=typeof h.then=="function"?rp(h):h,d=d.useState()[0],(gn!==null?gn.memoizedState:null)!==d&&(kt.flags|=1024),h}function CS(){var d=ov!==0;return ov=0,d}function kS(d,h,x){h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~x}function TS(d){if(iv){for(d=d.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}iv=!1}nl=0,Sr=gn=kt=null,df=!1,np=ov=0,uf=null}function Ds(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?kt.memoizedState=Sr=d:Sr=Sr.next=d,Sr}function xr(){if(gn===null){var d=kt.alternate;d=d!==null?d.memoizedState:null}else d=gn.next;var h=Sr===null?kt.memoizedState:Sr.next;if(h!==null)Sr=h,gn=d;else{if(d===null)throw kt.alternate===null?Error(r(467)):Error(r(310));gn=d,d={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},Sr===null?kt.memoizedState=Sr=d:Sr=Sr.next=d}return Sr}function lv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rp(d){var h=np;return np+=1,uf===null&&(uf=[]),d=BD(uf,d,h),h=kt,(Sr===null?h.memoizedState:Sr.next)===null&&(h=h.alternate,R.H=h===null||h.memoizedState===null?PI:FS),d}function cv(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return rp(d);if(d.$$typeof===T)return ds(d)}throw Error(r(438,String(d)))}function AS(d){var h=null,x=kt.updateQueue;if(x!==null&&(h=x.memoCache),h==null){var b=kt.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(h={data:b.data.map(function(k){return k.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),x===null&&(x=lv(),kt.updateQueue=x),x.memoCache=h,x=h.data[h.index],x===void 0)for(x=h.data[h.index]=Array(d),b=0;b<d;b++)x[b]=$;return h.index++,x}function rl(d,h){return typeof h=="function"?h(d):h}function dv(d){var h=xr();return ES(h,gn,d)}function ES(d,h,x){var b=d.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=x;var k=d.baseQueue,P=b.pending;if(P!==null){if(k!==null){var D=k.next;k.next=P.next,P.next=D}h.baseQueue=k=P,b.pending=null}if(P=d.baseState,k===null)d.memoizedState=P;else{h=k.next;var W=D=null,re=null,fe=h,be=!1;do{var Te=fe.lane&-536870913;if(Te!==fe.lane?($t&Te)===Te:(nl&Te)===Te){var me=fe.revertLane;if(me===0)re!==null&&(re=re.next={lane:0,revertLane:0,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Te===sf&&(be=!0);else if((nl&me)===me){fe=fe.next,me===sf&&(be=!0);continue}else Te={lane:0,revertLane:fe.revertLane,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},re===null?(W=re=Te,D=P):re=re.next=Te,kt.lanes|=me,dc|=me;Te=fe.action,Sd&&x(P,Te),P=fe.hasEagerState?fe.eagerState:x(P,Te)}else me={lane:Te,revertLane:fe.revertLane,gesture:fe.gesture,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},re===null?(W=re=me,D=P):re=re.next=me,kt.lanes|=Te,dc|=Te;fe=fe.next}while(fe!==null&&fe!==h);if(re===null?D=P:re.next=W,!ya(P,d.memoizedState)&&(Cr=!0,be&&(x=af,x!==null)))throw x;d.memoizedState=P,d.baseState=D,d.baseQueue=re,b.lastRenderedState=P}return k===null&&(b.lanes=0),[d.memoizedState,b.dispatch]}function OS(d){var h=xr(),x=h.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=d;var b=x.dispatch,k=x.pending,P=h.memoizedState;if(k!==null){x.pending=null;var D=k=k.next;do P=d(P,D.action),D=D.next;while(D!==k);ya(P,h.memoizedState)||(Cr=!0),h.memoizedState=P,h.baseQueue===null&&(h.baseState=P),x.lastRenderedState=P}return[P,b]}function QD(d,h,x){var b=kt,k=xr(),P=Bt;if(P){if(x===void 0)throw Error(r(407));x=x()}else x=h();var D=!ya((gn||k).memoizedState,x);if(D&&(k.memoizedState=x,Cr=!0),k=k.queue,_S(eI.bind(null,b,k,d),[d]),k.getSnapshot!==h||D||Sr!==null&&Sr.memoizedState.tag&1){if(b.flags|=2048,ff(9,{destroy:void 0},ZD.bind(null,b,k,x,h),null),Nn===null)throw Error(r(349));P||(nl&127)!==0||JD(b,h,x)}return x}function JD(d,h,x){d.flags|=16384,d={getSnapshot:h,value:x},h=kt.updateQueue,h===null?(h=lv(),kt.updateQueue=h,h.stores=[d]):(x=h.stores,x===null?h.stores=[d]:x.push(d))}function ZD(d,h,x,b){h.value=x,h.getSnapshot=b,tI(h)&&nI(d)}function eI(d,h,x){return x(function(){tI(h)&&nI(d)})}function tI(d){var h=d.getSnapshot;d=d.value;try{var x=h();return!ya(d,x)}catch{return!0}}function nI(d){var h=pd(d,2);h!==null&&oa(h,d,2)}function PS(d){var h=Ds();if(typeof d=="function"){var x=d;if(d=x(),Sd){qn(!0);try{x()}finally{qn(!1)}}}return h.memoizedState=h.baseState=d,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:d},h}function rI(d,h,x,b){return d.baseState=x,ES(d,gn,typeof b=="function"?b:rl)}function Lle(d,h,x,b,k){if(hv(d))throw Error(r(485));if(d=h.action,d!==null){var P={payload:k,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){P.listeners.push(D)}};R.T!==null?x(!0):P.isTransition=!1,b(P),x=h.pending,x===null?(P.next=h.pending=P,sI(h,P)):(P.next=x.next,h.pending=x.next=P)}}function sI(d,h){var x=h.action,b=h.payload,k=d.state;if(h.isTransition){var P=R.T,D={};R.T=D;try{var W=x(k,b),re=R.S;re!==null&&re(D,W),aI(d,h,W)}catch(fe){MS(d,h,fe)}finally{P!==null&&D.types!==null&&(P.types=D.types),R.T=P}}else try{P=x(k,b),aI(d,h,P)}catch(fe){MS(d,h,fe)}}function aI(d,h,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(b){iI(d,h,b)},function(b){return MS(d,h,b)}):iI(d,h,x)}function iI(d,h,x){h.status="fulfilled",h.value=x,oI(h),d.state=x,h=d.pending,h!==null&&(x=h.next,x===h?d.pending=null:(x=x.next,h.next=x,sI(d,x)))}function MS(d,h,x){var b=d.pending;if(d.pending=null,b!==null){b=b.next;do h.status="rejected",h.reason=x,oI(h),h=h.next;while(h!==b)}d.action=null}function oI(d){d=d.listeners;for(var h=0;h<d.length;h++)(0,d[h])()}function lI(d,h){return h}function cI(d,h){if(Bt){var x=Nn.formState;if(x!==null){e:{var b=kt;if(Bt){if(Dn){t:{for(var k=Dn,P=Ja;k.nodeType!==8;){if(!P){k=null;break t}if(k=ei(k.nextSibling),k===null){k=null;break t}}P=k.data,k=P==="F!"||P==="F"?k:null}if(k){Dn=ei(k.nextSibling),b=k.data==="F!";break e}}tc(b)}b=!1}b&&(h=x[0])}}return x=Ds(),x.memoizedState=x.baseState=h,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lI,lastRenderedState:h},x.queue=b,x=AI.bind(null,kt,b),b.dispatch=x,b=PS(!1),P=$S.bind(null,kt,!1,b.queue),b=Ds(),k={state:h,dispatch:null,action:d,pending:null},b.queue=k,x=Lle.bind(null,kt,k,P,x),k.dispatch=x,b.memoizedState=d,[h,x,!1]}function dI(d){var h=xr();return uI(h,gn,d)}function uI(d,h,x){if(h=ES(d,h,lI)[0],d=dv(rl)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var b=rp(h)}catch(D){throw D===of?ev:D}else b=h;h=xr();var k=h.queue,P=k.dispatch;return x!==h.memoizedState&&(kt.flags|=2048,ff(9,{destroy:void 0},$le.bind(null,k,x),null)),[b,P,d]}function $le(d,h){d.action=h}function fI(d){var h=xr(),x=gn;if(x!==null)return uI(h,x,d);xr(),h=h.memoizedState,x=xr();var b=x.queue.dispatch;return x.memoizedState=d,[h,b,!1]}function ff(d,h,x,b){return d={tag:d,create:x,deps:b,inst:h,next:null},h=kt.updateQueue,h===null&&(h=lv(),kt.updateQueue=h),x=h.lastEffect,x===null?h.lastEffect=d.next=d:(b=x.next,x.next=d,d.next=b,h.lastEffect=d),d}function hI(){return xr().memoizedState}function uv(d,h,x,b){var k=Ds();kt.flags|=d,k.memoizedState=ff(1|h,{destroy:void 0},x,b===void 0?null:b)}function fv(d,h,x,b){var k=xr();b=b===void 0?null:b;var P=k.memoizedState.inst;gn!==null&&b!==null&&NS(b,gn.memoizedState.deps)?k.memoizedState=ff(h,P,x,b):(kt.flags|=d,k.memoizedState=ff(1|h,P,x,b))}function mI(d,h){uv(8390656,8,d,h)}function _S(d,h){fv(2048,8,d,h)}function Fle(d){kt.flags|=4;var h=kt.updateQueue;if(h===null)h=lv(),kt.updateQueue=h,h.events=[d];else{var x=h.events;x===null?h.events=[d]:x.push(d)}}function pI(d){var h=xr().memoizedState;return Fle({ref:h,nextImpl:d}),function(){if((tn&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}function xI(d,h){return fv(4,2,d,h)}function gI(d,h){return fv(4,4,d,h)}function yI(d,h){if(typeof h=="function"){d=d();var x=h(d);return function(){typeof x=="function"?x():h(null)}}if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function vI(d,h,x){x=x!=null?x.concat([d]):null,fv(4,4,yI.bind(null,h,d),x)}function RS(){}function bI(d,h){var x=xr();h=h===void 0?null:h;var b=x.memoizedState;return h!==null&&NS(h,b[1])?b[0]:(x.memoizedState=[d,h],d)}function jI(d,h){var x=xr();h=h===void 0?null:h;var b=x.memoizedState;if(h!==null&&NS(h,b[1]))return b[0];if(b=d(),Sd){qn(!0);try{d()}finally{qn(!1)}}return x.memoizedState=[b,h],b}function DS(d,h,x){return x===void 0||(nl&1073741824)!==0&&($t&261930)===0?d.memoizedState=h:(d.memoizedState=x,d=wL(),kt.lanes|=d,dc|=d,x)}function wI(d,h,x,b){return ya(x,h)?x:cf.current!==null?(d=DS(d,x,b),ya(d,h)||(Cr=!0),d):(nl&42)===0||(nl&1073741824)!==0&&($t&261930)===0?(Cr=!0,d.memoizedState=x):(d=wL(),kt.lanes|=d,dc|=d,h)}function NI(d,h,x,b,k){var P=B.p;B.p=P!==0&&8>P?P:8;var D=R.T,W={};R.T=W,$S(d,!1,h,x);try{var re=k(),fe=R.S;if(fe!==null&&fe(W,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var be=Rle(re,b);sp(d,h,be,Sa(d))}else sp(d,h,b,Sa(d))}catch(Te){sp(d,h,{then:function(){},status:"rejected",reason:Te},Sa())}finally{B.p=P,D!==null&&W.types!==null&&(D.types=W.types),R.T=D}}function Ble(){}function IS(d,h,x,b){if(d.tag!==5)throw Error(r(476));var k=SI(d).queue;NI(d,k,h,L,x===null?Ble:function(){return CI(d),x(b)})}function SI(d){var h=d.memoizedState;if(h!==null)return h;h={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:L},next:null};var x={};return h.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:x},next:null},d.memoizedState=h,d=d.alternate,d!==null&&(d.memoizedState=h),h}function CI(d){var h=SI(d);h.next===null&&(h=d.alternate.memoizedState),sp(d,h.next.queue,{},Sa())}function LS(){return ds(jp)}function kI(){return xr().memoizedState}function TI(){return xr().memoizedState}function zle(d){for(var h=d.return;h!==null;){switch(h.tag){case 24:case 3:var x=Sa();d=sc(x);var b=ac(h,d,x);b!==null&&(oa(b,h,x),Zm(b,h,x)),h={cache:fS()},d.payload=h;return}h=h.return}}function qle(d,h,x){var b=Sa();x={lane:b,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},hv(d)?EI(h,x):(x=tS(d,h,x,b),x!==null&&(oa(x,d,b),OI(x,h,b)))}function AI(d,h,x){var b=Sa();sp(d,h,x,b)}function sp(d,h,x,b){var k={lane:b,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null};if(hv(d))EI(h,k);else{var P=d.alternate;if(d.lanes===0&&(P===null||P.lanes===0)&&(P=h.lastRenderedReducer,P!==null))try{var D=h.lastRenderedState,W=P(D,x);if(k.hasEagerState=!0,k.eagerState=W,ya(W,D))return Wy(d,h,k,0),Nn===null&&Ky(),!1}catch{}finally{}if(x=tS(d,h,k,b),x!==null)return oa(x,d,b),OI(x,h,b),!0}return!1}function $S(d,h,x,b){if(b={lane:2,revertLane:x2(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},hv(d)){if(h)throw Error(r(479))}else h=tS(d,x,b,2),h!==null&&oa(h,d,2)}function hv(d){var h=d.alternate;return d===kt||h!==null&&h===kt}function EI(d,h){df=iv=!0;var x=d.pending;x===null?h.next=h:(h.next=x.next,x.next=h),d.pending=h}function OI(d,h,x){if((x&4194048)!==0){var b=h.lanes;b&=d.pendingLanes,x|=b,h.lanes=x,_m(d,x)}}var ap={readContext:ds,use:cv,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useLayoutEffect:sr,useInsertionEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useSyncExternalStore:sr,useId:sr,useHostTransitionStatus:sr,useFormState:sr,useActionState:sr,useOptimistic:sr,useMemoCache:sr,useCacheRefresh:sr};ap.useEffectEvent=sr;var PI={readContext:ds,use:cv,useCallback:function(d,h){return Ds().memoizedState=[d,h===void 0?null:h],d},useContext:ds,useEffect:mI,useImperativeHandle:function(d,h,x){x=x!=null?x.concat([d]):null,uv(4194308,4,yI.bind(null,h,d),x)},useLayoutEffect:function(d,h){return uv(4194308,4,d,h)},useInsertionEffect:function(d,h){uv(4,2,d,h)},useMemo:function(d,h){var x=Ds();h=h===void 0?null:h;var b=d();if(Sd){qn(!0);try{d()}finally{qn(!1)}}return x.memoizedState=[b,h],b},useReducer:function(d,h,x){var b=Ds();if(x!==void 0){var k=x(h);if(Sd){qn(!0);try{x(h)}finally{qn(!1)}}}else k=h;return b.memoizedState=b.baseState=k,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:k},b.queue=d,d=d.dispatch=qle.bind(null,kt,d),[b.memoizedState,d]},useRef:function(d){var h=Ds();return d={current:d},h.memoizedState=d},useState:function(d){d=PS(d);var h=d.queue,x=AI.bind(null,kt,h);return h.dispatch=x,[d.memoizedState,x]},useDebugValue:RS,useDeferredValue:function(d,h){var x=Ds();return DS(x,d,h)},useTransition:function(){var d=PS(!1);return d=NI.bind(null,kt,d.queue,!0,!1),Ds().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,h,x){var b=kt,k=Ds();if(Bt){if(x===void 0)throw Error(r(407));x=x()}else{if(x=h(),Nn===null)throw Error(r(349));($t&127)!==0||JD(b,h,x)}k.memoizedState=x;var P={value:x,getSnapshot:h};return k.queue=P,mI(eI.bind(null,b,P,d),[d]),b.flags|=2048,ff(9,{destroy:void 0},ZD.bind(null,b,P,x,h),null),x},useId:function(){var d=Ds(),h=Nn.identifierPrefix;if(Bt){var x=mo,b=ho;x=(b&~(1<<32-Q(b)-1)).toString(32)+x,h="_"+h+"R_"+x,x=ov++,0<x&&(h+="H"+x.toString(32)),h+="_"}else x=Dle++,h="_"+h+"r_"+x.toString(32)+"_";return d.memoizedState=h},useHostTransitionStatus:LS,useFormState:cI,useActionState:cI,useOptimistic:function(d){var h=Ds();h.memoizedState=h.baseState=d;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=x,h=$S.bind(null,kt,!0,x),x.dispatch=h,[d,h]},useMemoCache:AS,useCacheRefresh:function(){return Ds().memoizedState=zle.bind(null,kt)},useEffectEvent:function(d){var h=Ds(),x={impl:d};return h.memoizedState=x,function(){if((tn&2)!==0)throw Error(r(440));return x.impl.apply(void 0,arguments)}}},FS={readContext:ds,use:cv,useCallback:bI,useContext:ds,useEffect:_S,useImperativeHandle:vI,useInsertionEffect:xI,useLayoutEffect:gI,useMemo:jI,useReducer:dv,useRef:hI,useState:function(){return dv(rl)},useDebugValue:RS,useDeferredValue:function(d,h){var x=xr();return wI(x,gn.memoizedState,d,h)},useTransition:function(){var d=dv(rl)[0],h=xr().memoizedState;return[typeof d=="boolean"?d:rp(d),h]},useSyncExternalStore:QD,useId:kI,useHostTransitionStatus:LS,useFormState:dI,useActionState:dI,useOptimistic:function(d,h){var x=xr();return rI(x,gn,d,h)},useMemoCache:AS,useCacheRefresh:TI};FS.useEffectEvent=pI;var MI={readContext:ds,use:cv,useCallback:bI,useContext:ds,useEffect:_S,useImperativeHandle:vI,useInsertionEffect:xI,useLayoutEffect:gI,useMemo:jI,useReducer:OS,useRef:hI,useState:function(){return OS(rl)},useDebugValue:RS,useDeferredValue:function(d,h){var x=xr();return gn===null?DS(x,d,h):wI(x,gn.memoizedState,d,h)},useTransition:function(){var d=OS(rl)[0],h=xr().memoizedState;return[typeof d=="boolean"?d:rp(d),h]},useSyncExternalStore:QD,useId:kI,useHostTransitionStatus:LS,useFormState:fI,useActionState:fI,useOptimistic:function(d,h){var x=xr();return gn!==null?rI(x,gn,d,h):(x.baseState=d,[d,x.queue.dispatch])},useMemoCache:AS,useCacheRefresh:TI};MI.useEffectEvent=pI;function BS(d,h,x,b){h=d.memoizedState,x=x(b,h),x=x==null?h:m({},h,x),d.memoizedState=x,d.lanes===0&&(d.updateQueue.baseState=x)}var zS={enqueueSetState:function(d,h,x){d=d._reactInternals;var b=Sa(),k=sc(b);k.payload=h,x!=null&&(k.callback=x),h=ac(d,k,b),h!==null&&(oa(h,d,b),Zm(h,d,b))},enqueueReplaceState:function(d,h,x){d=d._reactInternals;var b=Sa(),k=sc(b);k.tag=1,k.payload=h,x!=null&&(k.callback=x),h=ac(d,k,b),h!==null&&(oa(h,d,b),Zm(h,d,b))},enqueueForceUpdate:function(d,h){d=d._reactInternals;var x=Sa(),b=sc(x);b.tag=2,h!=null&&(b.callback=h),h=ac(d,b,x),h!==null&&(oa(h,d,x),Zm(h,d,x))}};function _I(d,h,x,b,k,P,D){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(b,P,D):h.prototype&&h.prototype.isPureReactComponent?!Hm(x,b)||!Hm(k,P):!0}function RI(d,h,x,b){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,b),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,b),h.state!==d&&zS.enqueueReplaceState(h,h.state,null)}function Cd(d,h){var x=h;if("ref"in h){x={};for(var b in h)b!=="ref"&&(x[b]=h[b])}if(d=d.defaultProps){x===h&&(x=m({},x));for(var k in d)x[k]===void 0&&(x[k]=d[k])}return x}function DI(d){Hy(d)}function II(d){console.error(d)}function LI(d){Hy(d)}function mv(d,h){try{var x=d.onUncaughtError;x(h.value,{componentStack:h.stack})}catch(b){setTimeout(function(){throw b})}}function $I(d,h,x){try{var b=d.onCaughtError;b(x.value,{componentStack:x.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function qS(d,h,x){return x=sc(x),x.tag=3,x.payload={element:null},x.callback=function(){mv(d,h)},x}function FI(d){return d=sc(d),d.tag=3,d}function BI(d,h,x,b){var k=x.type.getDerivedStateFromError;if(typeof k=="function"){var P=b.value;d.payload=function(){return k(P)},d.callback=function(){$I(h,x,b)}}var D=x.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(d.callback=function(){$I(h,x,b),typeof k!="function"&&(uc===null?uc=new Set([this]):uc.add(this));var W=b.stack;this.componentDidCatch(b.value,{componentStack:W!==null?W:""})})}function Ule(d,h,x,b,k){if(x.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(h=x.alternate,h!==null&&rf(h,x,k,!0),x=ba.current,x!==null){switch(x.tag){case 31:case 13:return Za===null?kv():x.alternate===null&&ar===0&&(ar=3),x.flags&=-257,x.flags|=65536,x.lanes=k,b===tv?x.flags|=16384:(h=x.updateQueue,h===null?x.updateQueue=new Set([b]):h.add(b),h2(d,b,k)),!1;case 22:return x.flags|=65536,b===tv?x.flags|=16384:(h=x.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([b])},x.updateQueue=h):(x=h.retryQueue,x===null?h.retryQueue=new Set([b]):x.add(b)),h2(d,b,k)),!1}throw Error(r(435,x.tag))}return h2(d,b,k),kv(),!1}if(Bt)return h=ba.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=k,b!==oS&&(d=Error(r(422),{cause:b}),Gm(Ya(d,x)))):(b!==oS&&(h=Error(r(423),{cause:b}),Gm(Ya(h,x))),d=d.current.alternate,d.flags|=65536,k&=-k,d.lanes|=k,b=Ya(b,x),k=qS(d.stateNode,b,k),yS(d,k),ar!==4&&(ar=2)),!1;var P=Error(r(520),{cause:b});if(P=Ya(P,x),hp===null?hp=[P]:hp.push(P),ar!==4&&(ar=2),h===null)return!0;b=Ya(b,x),x=h;do{switch(x.tag){case 3:return x.flags|=65536,d=k&-k,x.lanes|=d,d=qS(x.stateNode,b,d),yS(x,d),!1;case 1:if(h=x.type,P=x.stateNode,(x.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(uc===null||!uc.has(P))))return x.flags|=65536,k&=-k,x.lanes|=k,k=FI(k),BI(k,d,x,b),yS(x,k),!1}x=x.return}while(x!==null);return!1}var US=Error(r(461)),Cr=!1;function us(d,h,x,b){h.child=d===null?VD(h,null,x,b):Nd(h,d.child,x,b)}function zI(d,h,x,b,k){x=x.render;var P=h.ref;if("ref"in b){var D={};for(var W in b)W!=="ref"&&(D[W]=b[W])}else D=b;return vd(h),b=SS(d,h,x,D,P,k),W=CS(),d!==null&&!Cr?(kS(d,h,k),sl(d,h,k)):(Bt&&W&&aS(h),h.flags|=1,us(d,h,b,k),h.child)}function qI(d,h,x,b,k){if(d===null){var P=x.type;return typeof P=="function"&&!nS(P)&&P.defaultProps===void 0&&x.compare===null?(h.tag=15,h.type=P,UI(d,h,P,b,k)):(d=Yy(x.type,null,b,h,h.mode,k),d.ref=h.ref,d.return=h,h.child=d)}if(P=d.child,!QS(d,k)){var D=P.memoizedProps;if(x=x.compare,x=x!==null?x:Hm,x(D,b)&&d.ref===h.ref)return sl(d,h,k)}return h.flags|=1,d=Jo(P,b),d.ref=h.ref,d.return=h,h.child=d}function UI(d,h,x,b,k){if(d!==null){var P=d.memoizedProps;if(Hm(P,b)&&d.ref===h.ref)if(Cr=!1,h.pendingProps=b=P,QS(d,k))(d.flags&131072)!==0&&(Cr=!0);else return h.lanes=d.lanes,sl(d,h,k)}return VS(d,h,x,b,k)}function VI(d,h,x,b){var k=b.children,P=d!==null?d.memoizedState:null;if(d===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((h.flags&128)!==0){if(P=P!==null?P.baseLanes|x:x,d!==null){for(b=h.child=d.child,k=0;b!==null;)k=k|b.lanes|b.childLanes,b=b.sibling;b=k&~P}else b=0,h.child=null;return HI(d,h,P,x,b)}if((x&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},d!==null&&Zy(h,P!==null?P.cachePool:null),P!==null?WD(h,P):bS(),GD(h);else return b=h.lanes=536870912,HI(d,h,P!==null?P.baseLanes|x:x,x,b)}else P!==null?(Zy(h,P.cachePool),WD(h,P),oc(),h.memoizedState=null):(d!==null&&Zy(h,null),bS(),oc());return us(d,h,k,x),h.child}function ip(d,h){return d!==null&&d.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function HI(d,h,x,b,k){var P=mS();return P=P===null?null:{parent:Nr._currentValue,pool:P},h.memoizedState={baseLanes:x,cachePool:P},d!==null&&Zy(h,null),bS(),GD(h),d!==null&&rf(d,h,b,!0),h.childLanes=k,null}function pv(d,h){return h=gv({mode:h.mode,children:h.children},d.mode),h.ref=d.ref,d.child=h,h.return=d,h}function KI(d,h,x){return Nd(h,d.child,null,x),d=pv(h,h.pendingProps),d.flags|=2,ja(h),h.memoizedState=null,d}function Vle(d,h,x){var b=h.pendingProps,k=(h.flags&128)!==0;if(h.flags&=-129,d===null){if(Bt){if(b.mode==="hidden")return d=pv(h,b),h.lanes=536870912,ip(null,d);if(wS(h),(d=Dn)?(d=s$(d,Ja),d=d!==null&&d.data==="&"?d:null,d!==null&&(h.memoizedState={dehydrated:d,treeContext:Zl!==null?{id:ho,overflow:mo}:null,retryLane:536870912,hydrationErrors:null},x=ED(d),x.return=h,h.child=x,cs=h,Dn=null)):d=null,d===null)throw tc(h);return h.lanes=536870912,null}return pv(h,b)}var P=d.memoizedState;if(P!==null){var D=P.dehydrated;if(wS(h),k)if(h.flags&256)h.flags&=-257,h=KI(d,h,x);else if(h.memoizedState!==null)h.child=d.child,h.flags|=128,h=null;else throw Error(r(558));else if(Cr||rf(d,h,x,!1),k=(x&d.childLanes)!==0,Cr||k){if(b=Nn,b!==null&&(D=Py(b,x),D!==0&&D!==P.retryLane))throw P.retryLane=D,pd(d,D),oa(b,d,D),US;kv(),h=KI(d,h,x)}else d=P.treeContext,Dn=ei(D.nextSibling),cs=h,Bt=!0,ec=null,Ja=!1,d!==null&&MD(h,d),h=pv(h,b),h.flags|=4096;return h}return d=Jo(d.child,{mode:b.mode,children:b.children}),d.ref=h.ref,h.child=d,d.return=h,d}function xv(d,h){var x=h.ref;if(x===null)d!==null&&d.ref!==null&&(h.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(r(284));(d===null||d.ref!==x)&&(h.flags|=4194816)}}function VS(d,h,x,b,k){return vd(h),x=SS(d,h,x,b,void 0,k),b=CS(),d!==null&&!Cr?(kS(d,h,k),sl(d,h,k)):(Bt&&b&&aS(h),h.flags|=1,us(d,h,x,k),h.child)}function WI(d,h,x,b,k,P){return vd(h),h.updateQueue=null,x=XD(h,b,x,k),YD(d),b=CS(),d!==null&&!Cr?(kS(d,h,P),sl(d,h,P)):(Bt&&b&&aS(h),h.flags|=1,us(d,h,x,P),h.child)}function GI(d,h,x,b,k){if(vd(h),h.stateNode===null){var P=Zu,D=x.contextType;typeof D=="object"&&D!==null&&(P=ds(D)),P=new x(b,P),h.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=zS,h.stateNode=P,P._reactInternals=h,P=h.stateNode,P.props=b,P.state=h.memoizedState,P.refs={},xS(h),D=x.contextType,P.context=typeof D=="object"&&D!==null?ds(D):Zu,P.state=h.memoizedState,D=x.getDerivedStateFromProps,typeof D=="function"&&(BS(h,x,D,b),P.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(D=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),D!==P.state&&zS.enqueueReplaceState(P,P.state,null),tp(h,b,P,k),ep(),P.state=h.memoizedState),typeof P.componentDidMount=="function"&&(h.flags|=4194308),b=!0}else if(d===null){P=h.stateNode;var W=h.memoizedProps,re=Cd(x,W);P.props=re;var fe=P.context,be=x.contextType;D=Zu,typeof be=="object"&&be!==null&&(D=ds(be));var Te=x.getDerivedStateFromProps;be=typeof Te=="function"||typeof P.getSnapshotBeforeUpdate=="function",W=h.pendingProps!==W,be||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(W||fe!==D)&&RI(h,P,b,D),rc=!1;var me=h.memoizedState;P.state=me,tp(h,b,P,k),ep(),fe=h.memoizedState,W||me!==fe||rc?(typeof Te=="function"&&(BS(h,x,Te,b),fe=h.memoizedState),(re=rc||_I(h,x,re,b,me,fe,D))?(be||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(h.flags|=4194308)):(typeof P.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=b,h.memoizedState=fe),P.props=b,P.state=fe,P.context=D,b=re):(typeof P.componentDidMount=="function"&&(h.flags|=4194308),b=!1)}else{P=h.stateNode,gS(d,h),D=h.memoizedProps,be=Cd(x,D),P.props=be,Te=h.pendingProps,me=P.context,fe=x.contextType,re=Zu,typeof fe=="object"&&fe!==null&&(re=ds(fe)),W=x.getDerivedStateFromProps,(fe=typeof W=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(D!==Te||me!==re)&&RI(h,P,b,re),rc=!1,me=h.memoizedState,P.state=me,tp(h,b,P,k),ep();var xe=h.memoizedState;D!==Te||me!==xe||rc||d!==null&&d.dependencies!==null&&Qy(d.dependencies)?(typeof W=="function"&&(BS(h,x,W,b),xe=h.memoizedState),(be=rc||_I(h,x,be,b,me,xe,re)||d!==null&&d.dependencies!==null&&Qy(d.dependencies))?(fe||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(b,xe,re),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(b,xe,re)),typeof P.componentDidUpdate=="function"&&(h.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof P.componentDidUpdate!="function"||D===d.memoizedProps&&me===d.memoizedState||(h.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||D===d.memoizedProps&&me===d.memoizedState||(h.flags|=1024),h.memoizedProps=b,h.memoizedState=xe),P.props=b,P.state=xe,P.context=re,b=be):(typeof P.componentDidUpdate!="function"||D===d.memoizedProps&&me===d.memoizedState||(h.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||D===d.memoizedProps&&me===d.memoizedState||(h.flags|=1024),b=!1)}return P=b,xv(d,h),b=(h.flags&128)!==0,P||b?(P=h.stateNode,x=b&&typeof x.getDerivedStateFromError!="function"?null:P.render(),h.flags|=1,d!==null&&b?(h.child=Nd(h,d.child,null,k),h.child=Nd(h,null,x,k)):us(d,h,x,k),h.memoizedState=P.state,d=h.child):d=sl(d,h,k),d}function YI(d,h,x,b){return gd(),h.flags|=256,us(d,h,x,b),h.child}var HS={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function KS(d){return{baseLanes:d,cachePool:$D()}}function WS(d,h,x){return d=d!==null?d.childLanes&~x:0,h&&(d|=Na),d}function XI(d,h,x){var b=h.pendingProps,k=!1,P=(h.flags&128)!==0,D;if((D=P)||(D=d!==null&&d.memoizedState===null?!1:(pr.current&2)!==0),D&&(k=!0,h.flags&=-129),D=(h.flags&32)!==0,h.flags&=-33,d===null){if(Bt){if(k?ic(h):oc(),(d=Dn)?(d=s$(d,Ja),d=d!==null&&d.data!=="&"?d:null,d!==null&&(h.memoizedState={dehydrated:d,treeContext:Zl!==null?{id:ho,overflow:mo}:null,retryLane:536870912,hydrationErrors:null},x=ED(d),x.return=h,h.child=x,cs=h,Dn=null)):d=null,d===null)throw tc(h);return E2(d)?h.lanes=32:h.lanes=536870912,null}var W=b.children;return b=b.fallback,k?(oc(),k=h.mode,W=gv({mode:"hidden",children:W},k),b=xd(b,k,x,null),W.return=h,b.return=h,W.sibling=b,h.child=W,b=h.child,b.memoizedState=KS(x),b.childLanes=WS(d,D,x),h.memoizedState=HS,ip(null,b)):(ic(h),GS(h,W))}var re=d.memoizedState;if(re!==null&&(W=re.dehydrated,W!==null)){if(P)h.flags&256?(ic(h),h.flags&=-257,h=YS(d,h,x)):h.memoizedState!==null?(oc(),h.child=d.child,h.flags|=128,h=null):(oc(),W=b.fallback,k=h.mode,b=gv({mode:"visible",children:b.children},k),W=xd(W,k,x,null),W.flags|=2,b.return=h,W.return=h,b.sibling=W,h.child=b,Nd(h,d.child,null,x),b=h.child,b.memoizedState=KS(x),b.childLanes=WS(d,D,x),h.memoizedState=HS,h=ip(null,b));else if(ic(h),E2(W)){if(D=W.nextSibling&&W.nextSibling.dataset,D)var fe=D.dgst;D=fe,b=Error(r(419)),b.stack="",b.digest=D,Gm({value:b,source:null,stack:null}),h=YS(d,h,x)}else if(Cr||rf(d,h,x,!1),D=(x&d.childLanes)!==0,Cr||D){if(D=Nn,D!==null&&(b=Py(D,x),b!==0&&b!==re.retryLane))throw re.retryLane=b,pd(d,b),oa(D,d,b),US;A2(W)||kv(),h=YS(d,h,x)}else A2(W)?(h.flags|=192,h.child=d.child,h=null):(d=re.treeContext,Dn=ei(W.nextSibling),cs=h,Bt=!0,ec=null,Ja=!1,d!==null&&MD(h,d),h=GS(h,b.children),h.flags|=4096);return h}return k?(oc(),W=b.fallback,k=h.mode,re=d.child,fe=re.sibling,b=Jo(re,{mode:"hidden",children:b.children}),b.subtreeFlags=re.subtreeFlags&65011712,fe!==null?W=Jo(fe,W):(W=xd(W,k,x,null),W.flags|=2),W.return=h,b.return=h,b.sibling=W,h.child=b,ip(null,b),b=h.child,W=d.child.memoizedState,W===null?W=KS(x):(k=W.cachePool,k!==null?(re=Nr._currentValue,k=k.parent!==re?{parent:re,pool:re}:k):k=$D(),W={baseLanes:W.baseLanes|x,cachePool:k}),b.memoizedState=W,b.childLanes=WS(d,D,x),h.memoizedState=HS,ip(d.child,b)):(ic(h),x=d.child,d=x.sibling,x=Jo(x,{mode:"visible",children:b.children}),x.return=h,x.sibling=null,d!==null&&(D=h.deletions,D===null?(h.deletions=[d],h.flags|=16):D.push(d)),h.child=x,h.memoizedState=null,x)}function GS(d,h){return h=gv({mode:"visible",children:h},d.mode),h.return=d,d.child=h}function gv(d,h){return d=va(22,d,null,h),d.lanes=0,d}function YS(d,h,x){return Nd(h,d.child,null,x),d=GS(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function QI(d,h,x){d.lanes|=h;var b=d.alternate;b!==null&&(b.lanes|=h),dS(d.return,h,x)}function XS(d,h,x,b,k,P){var D=d.memoizedState;D===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:b,tail:x,tailMode:k,treeForkCount:P}:(D.isBackwards=h,D.rendering=null,D.renderingStartTime=0,D.last=b,D.tail=x,D.tailMode=k,D.treeForkCount=P)}function JI(d,h,x){var b=h.pendingProps,k=b.revealOrder,P=b.tail;b=b.children;var D=pr.current,W=(D&2)!==0;if(W?(D=D&1|2,h.flags|=128):D&=1,G(pr,D),us(d,h,b,x),b=Bt?Wm:0,!W&&d!==null&&(d.flags&128)!==0)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&QI(d,x,h);else if(d.tag===19)QI(d,x,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(k){case"forwards":for(x=h.child,k=null;x!==null;)d=x.alternate,d!==null&&av(d)===null&&(k=x),x=x.sibling;x=k,x===null?(k=h.child,h.child=null):(k=x.sibling,x.sibling=null),XS(h,!1,k,x,P,b);break;case"backwards":case"unstable_legacy-backwards":for(x=null,k=h.child,h.child=null;k!==null;){if(d=k.alternate,d!==null&&av(d)===null){h.child=k;break}d=k.sibling,k.sibling=x,x=k,k=d}XS(h,!0,x,null,P,b);break;case"together":XS(h,!1,null,null,void 0,b);break;default:h.memoizedState=null}return h.child}function sl(d,h,x){if(d!==null&&(h.dependencies=d.dependencies),dc|=h.lanes,(x&h.childLanes)===0)if(d!==null){if(rf(d,h,x,!1),(x&h.childLanes)===0)return null}else return null;if(d!==null&&h.child!==d.child)throw Error(r(153));if(h.child!==null){for(d=h.child,x=Jo(d,d.pendingProps),h.child=x,x.return=h;d.sibling!==null;)d=d.sibling,x=x.sibling=Jo(d,d.pendingProps),x.return=h;x.sibling=null}return h.child}function QS(d,h){return(d.lanes&h)!==0?!0:(d=d.dependencies,!!(d!==null&&Qy(d)))}function Hle(d,h,x){switch(h.tag){case 3:Fe(h,h.stateNode.containerInfo),nc(h,Nr,d.memoizedState.cache),gd();break;case 27:case 5:Ae(h);break;case 4:Fe(h,h.stateNode.containerInfo);break;case 10:nc(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,wS(h),null;break;case 13:var b=h.memoizedState;if(b!==null)return b.dehydrated!==null?(ic(h),h.flags|=128,null):(x&h.child.childLanes)!==0?XI(d,h,x):(ic(h),d=sl(d,h,x),d!==null?d.sibling:null);ic(h);break;case 19:var k=(d.flags&128)!==0;if(b=(x&h.childLanes)!==0,b||(rf(d,h,x,!1),b=(x&h.childLanes)!==0),k){if(b)return JI(d,h,x);h.flags|=128}if(k=h.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),G(pr,pr.current),b)break;return null;case 22:return h.lanes=0,VI(d,h,x,h.pendingProps);case 24:nc(h,Nr,d.memoizedState.cache)}return sl(d,h,x)}function ZI(d,h,x){if(d!==null)if(d.memoizedProps!==h.pendingProps)Cr=!0;else{if(!QS(d,x)&&(h.flags&128)===0)return Cr=!1,Hle(d,h,x);Cr=(d.flags&131072)!==0}else Cr=!1,Bt&&(h.flags&1048576)!==0&&PD(h,Wm,h.index);switch(h.lanes=0,h.tag){case 16:e:{var b=h.pendingProps;if(d=jd(h.elementType),h.type=d,typeof d=="function")nS(d)?(b=Cd(d,b),h.tag=1,h=GI(null,h,d,b,x)):(h.tag=0,h=VS(null,h,d,b,x));else{if(d!=null){var k=d.$$typeof;if(k===C){h.tag=11,h=zI(null,h,d,b,x);break e}else if(k===O){h.tag=14,h=qI(null,h,d,b,x);break e}}throw h=F(d)||d,Error(r(306,h,""))}}return h;case 0:return VS(d,h,h.type,h.pendingProps,x);case 1:return b=h.type,k=Cd(b,h.pendingProps),GI(d,h,b,k,x);case 3:e:{if(Fe(h,h.stateNode.containerInfo),d===null)throw Error(r(387));b=h.pendingProps;var P=h.memoizedState;k=P.element,gS(d,h),tp(h,b,null,x);var D=h.memoizedState;if(b=D.cache,nc(h,Nr,b),b!==P.cache&&uS(h,[Nr],x,!0),ep(),b=D.element,P.isDehydrated)if(P={element:b,isDehydrated:!1,cache:D.cache},h.updateQueue.baseState=P,h.memoizedState=P,h.flags&256){h=YI(d,h,b,x);break e}else if(b!==k){k=Ya(Error(r(424)),h),Gm(k),h=YI(d,h,b,x);break e}else{switch(d=h.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(Dn=ei(d.firstChild),cs=h,Bt=!0,ec=null,Ja=!0,x=VD(h,null,b,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(gd(),b===k){h=sl(d,h,x);break e}us(d,h,b,x)}h=h.child}return h;case 26:return xv(d,h),d===null?(x=d$(h.type,null,h.pendingProps,null))?h.memoizedState=x:Bt||(x=h.type,d=h.pendingProps,b=_v(de.current).createElement(x),b[wr]=h,b[Vn]=d,fs(b,x,d),Ot(b),h.stateNode=b):h.memoizedState=d$(h.type,d.memoizedProps,h.pendingProps,d.memoizedState),null;case 27:return Ae(h),d===null&&Bt&&(b=h.stateNode=o$(h.type,h.pendingProps,de.current),cs=h,Ja=!0,k=Dn,pc(h.type)?(O2=k,Dn=ei(b.firstChild)):Dn=k),us(d,h,h.pendingProps.children,x),xv(d,h),d===null&&(h.flags|=4194304),h.child;case 5:return d===null&&Bt&&((k=b=Dn)&&(b=jce(b,h.type,h.pendingProps,Ja),b!==null?(h.stateNode=b,cs=h,Dn=ei(b.firstChild),Ja=!1,k=!0):k=!1),k||tc(h)),Ae(h),k=h.type,P=h.pendingProps,D=d!==null?d.memoizedProps:null,b=P.children,C2(k,P)?b=null:D!==null&&C2(k,D)&&(h.flags|=32),h.memoizedState!==null&&(k=SS(d,h,Ile,null,null,x),jp._currentValue=k),xv(d,h),us(d,h,b,x),h.child;case 6:return d===null&&Bt&&((d=x=Dn)&&(x=wce(x,h.pendingProps,Ja),x!==null?(h.stateNode=x,cs=h,Dn=null,d=!0):d=!1),d||tc(h)),null;case 13:return XI(d,h,x);case 4:return Fe(h,h.stateNode.containerInfo),b=h.pendingProps,d===null?h.child=Nd(h,null,b,x):us(d,h,b,x),h.child;case 11:return zI(d,h,h.type,h.pendingProps,x);case 7:return us(d,h,h.pendingProps,x),h.child;case 8:return us(d,h,h.pendingProps.children,x),h.child;case 12:return us(d,h,h.pendingProps.children,x),h.child;case 10:return b=h.pendingProps,nc(h,h.type,b.value),us(d,h,b.children,x),h.child;case 9:return k=h.type._context,b=h.pendingProps.children,vd(h),k=ds(k),b=b(k),h.flags|=1,us(d,h,b,x),h.child;case 14:return qI(d,h,h.type,h.pendingProps,x);case 15:return UI(d,h,h.type,h.pendingProps,x);case 19:return JI(d,h,x);case 31:return Vle(d,h,x);case 22:return VI(d,h,x,h.pendingProps);case 24:return vd(h),b=ds(Nr),d===null?(k=mS(),k===null&&(k=Nn,P=fS(),k.pooledCache=P,P.refCount++,P!==null&&(k.pooledCacheLanes|=x),k=P),h.memoizedState={parent:b,cache:k},xS(h),nc(h,Nr,k)):((d.lanes&x)!==0&&(gS(d,h),tp(h,null,null,x),ep()),k=d.memoizedState,P=h.memoizedState,k.parent!==b?(k={parent:b,cache:b},h.memoizedState=k,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=k),nc(h,Nr,b)):(b=P.cache,nc(h,Nr,b),b!==k.cache&&uS(h,[Nr],x,!0))),us(d,h,h.pendingProps.children,x),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function al(d){d.flags|=4}function JS(d,h,x,b,k){if((h=(d.mode&32)!==0)&&(h=!1),h){if(d.flags|=16777216,(k&335544128)===k)if(d.stateNode.complete)d.flags|=8192;else if(kL())d.flags|=8192;else throw wd=tv,pS}else d.flags&=-16777217}function eL(d,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!p$(h))if(kL())d.flags|=8192;else throw wd=tv,pS}function yv(d,h){h!==null&&(d.flags|=4),d.flags&16384&&(h=d.tag!==22?Wo():536870912,d.lanes|=h,xf|=h)}function op(d,h){if(!Bt)switch(d.tailMode){case"hidden":h=d.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?d.tail=null:x.sibling=null;break;case"collapsed":x=d.tail;for(var b=null;x!==null;)x.alternate!==null&&(b=x),x=x.sibling;b===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:b.sibling=null}}function In(d){var h=d.alternate!==null&&d.alternate.child===d.child,x=0,b=0;if(h)for(var k=d.child;k!==null;)x|=k.lanes|k.childLanes,b|=k.subtreeFlags&65011712,b|=k.flags&65011712,k.return=d,k=k.sibling;else for(k=d.child;k!==null;)x|=k.lanes|k.childLanes,b|=k.subtreeFlags,b|=k.flags,k.return=d,k=k.sibling;return d.subtreeFlags|=b,d.childLanes=x,h}function Kle(d,h,x){var b=h.pendingProps;switch(iS(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(h),null;case 1:return In(h),null;case 3:return x=h.stateNode,b=null,d!==null&&(b=d.memoizedState.cache),h.memoizedState.cache!==b&&(h.flags|=2048),tl(Nr),ge(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(d===null||d.child===null)&&(nf(h)?al(h):d===null||d.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,lS())),In(h),null;case 26:var k=h.type,P=h.memoizedState;return d===null?(al(h),P!==null?(In(h),eL(h,P)):(In(h),JS(h,k,null,b,x))):P?P!==d.memoizedState?(al(h),In(h),eL(h,P)):(In(h),h.flags&=-16777217):(d=d.memoizedProps,d!==b&&al(h),In(h),JS(h,k,d,b,x)),null;case 27:if(_e(h),x=de.current,k=h.type,d!==null&&h.stateNode!=null)d.memoizedProps!==b&&al(h);else{if(!b){if(h.stateNode===null)throw Error(r(166));return In(h),null}d=X.current,nf(h)?_D(h):(d=o$(k,b,x),h.stateNode=d,al(h))}return In(h),null;case 5:if(_e(h),k=h.type,d!==null&&h.stateNode!=null)d.memoizedProps!==b&&al(h);else{if(!b){if(h.stateNode===null)throw Error(r(166));return In(h),null}if(P=X.current,nf(h))_D(h);else{var D=_v(de.current);switch(P){case 1:P=D.createElementNS("http://www.w3.org/2000/svg",k);break;case 2:P=D.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;default:switch(k){case"svg":P=D.createElementNS("http://www.w3.org/2000/svg",k);break;case"math":P=D.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;case"script":P=D.createElement("div"),P.innerHTML="<script><\/script>",P=P.removeChild(P.firstChild);break;case"select":P=typeof b.is=="string"?D.createElement("select",{is:b.is}):D.createElement("select"),b.multiple?P.multiple=!0:b.size&&(P.size=b.size);break;default:P=typeof b.is=="string"?D.createElement(k,{is:b.is}):D.createElement(k)}}P[wr]=h,P[Vn]=b;e:for(D=h.child;D!==null;){if(D.tag===5||D.tag===6)P.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===h)break e;for(;D.sibling===null;){if(D.return===null||D.return===h)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}h.stateNode=P;e:switch(fs(P,k,b),k){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&al(h)}}return In(h),JS(h,h.type,d===null?null:d.memoizedProps,h.pendingProps,x),null;case 6:if(d&&h.stateNode!=null)d.memoizedProps!==b&&al(h);else{if(typeof b!="string"&&h.stateNode===null)throw Error(r(166));if(d=de.current,nf(h)){if(d=h.stateNode,x=h.memoizedProps,b=null,k=cs,k!==null)switch(k.tag){case 27:case 5:b=k.memoizedProps}d[wr]=h,d=!!(d.nodeValue===x||b!==null&&b.suppressHydrationWarning===!0||XL(d.nodeValue,x)),d||tc(h,!0)}else d=_v(d).createTextNode(b),d[wr]=h,h.stateNode=d}return In(h),null;case 31:if(x=h.memoizedState,d===null||d.memoizedState!==null){if(b=nf(h),x!==null){if(d===null){if(!b)throw Error(r(318));if(d=h.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(557));d[wr]=h}else gd(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;In(h),d=!1}else x=lS(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=x),d=!0;if(!d)return h.flags&256?(ja(h),h):(ja(h),null);if((h.flags&128)!==0)throw Error(r(558))}return In(h),null;case 13:if(b=h.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(k=nf(h),b!==null&&b.dehydrated!==null){if(d===null){if(!k)throw Error(r(318));if(k=h.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[wr]=h}else gd(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;In(h),k=!1}else k=lS(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=k),k=!0;if(!k)return h.flags&256?(ja(h),h):(ja(h),null)}return ja(h),(h.flags&128)!==0?(h.lanes=x,h):(x=b!==null,d=d!==null&&d.memoizedState!==null,x&&(b=h.child,k=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(k=b.alternate.memoizedState.cachePool.pool),P=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(P=b.memoizedState.cachePool.pool),P!==k&&(b.flags|=2048)),x!==d&&x&&(h.child.flags|=8192),yv(h,h.updateQueue),In(h),null);case 4:return ge(),d===null&&b2(h.stateNode.containerInfo),In(h),null;case 10:return tl(h.type),In(h),null;case 19:if(Y(pr),b=h.memoizedState,b===null)return In(h),null;if(k=(h.flags&128)!==0,P=b.rendering,P===null)if(k)op(b,!1);else{if(ar!==0||d!==null&&(d.flags&128)!==0)for(d=h.child;d!==null;){if(P=av(d),P!==null){for(h.flags|=128,op(b,!1),d=P.updateQueue,h.updateQueue=d,yv(h,d),h.subtreeFlags=0,d=x,x=h.child;x!==null;)AD(x,d),x=x.sibling;return G(pr,pr.current&1|2),Bt&&Zo(h,b.treeForkCount),h.child}d=d.sibling}b.tail!==null&&Vt()>Nv&&(h.flags|=128,k=!0,op(b,!1),h.lanes=4194304)}else{if(!k)if(d=av(P),d!==null){if(h.flags|=128,k=!0,d=d.updateQueue,h.updateQueue=d,yv(h,d),op(b,!0),b.tail===null&&b.tailMode==="hidden"&&!P.alternate&&!Bt)return In(h),null}else 2*Vt()-b.renderingStartTime>Nv&&x!==536870912&&(h.flags|=128,k=!0,op(b,!1),h.lanes=4194304);b.isBackwards?(P.sibling=h.child,h.child=P):(d=b.last,d!==null?d.sibling=P:h.child=P,b.last=P)}return b.tail!==null?(d=b.tail,b.rendering=d,b.tail=d.sibling,b.renderingStartTime=Vt(),d.sibling=null,x=pr.current,G(pr,k?x&1|2:x&1),Bt&&Zo(h,b.treeForkCount),d):(In(h),null);case 22:case 23:return ja(h),jS(),b=h.memoizedState!==null,d!==null?d.memoizedState!==null!==b&&(h.flags|=8192):b&&(h.flags|=8192),b?(x&536870912)!==0&&(h.flags&128)===0&&(In(h),h.subtreeFlags&6&&(h.flags|=8192)):In(h),x=h.updateQueue,x!==null&&yv(h,x.retryQueue),x=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==x&&(h.flags|=2048),d!==null&&Y(bd),null;case 24:return x=null,d!==null&&(x=d.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),tl(Nr),In(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function Wle(d,h){switch(iS(h),h.tag){case 1:return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return tl(Nr),ge(),d=h.flags,(d&65536)!==0&&(d&128)===0?(h.flags=d&-65537|128,h):null;case 26:case 27:case 5:return _e(h),null;case 31:if(h.memoizedState!==null){if(ja(h),h.alternate===null)throw Error(r(340));gd()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 13:if(ja(h),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(r(340));gd()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return Y(pr),null;case 4:return ge(),null;case 10:return tl(h.type),null;case 22:case 23:return ja(h),jS(),d!==null&&Y(bd),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 24:return tl(Nr),null;case 25:return null;default:return null}}function tL(d,h){switch(iS(h),h.tag){case 3:tl(Nr),ge();break;case 26:case 27:case 5:_e(h);break;case 4:ge();break;case 31:h.memoizedState!==null&&ja(h);break;case 13:ja(h);break;case 19:Y(pr);break;case 10:tl(h.type);break;case 22:case 23:ja(h),jS(),d!==null&&Y(bd);break;case 24:tl(Nr)}}function lp(d,h){try{var x=h.updateQueue,b=x!==null?x.lastEffect:null;if(b!==null){var k=b.next;x=k;do{if((x.tag&d)===d){b=void 0;var P=x.create,D=x.inst;b=P(),D.destroy=b}x=x.next}while(x!==k)}}catch(W){fn(h,h.return,W)}}function lc(d,h,x){try{var b=h.updateQueue,k=b!==null?b.lastEffect:null;if(k!==null){var P=k.next;b=P;do{if((b.tag&d)===d){var D=b.inst,W=D.destroy;if(W!==void 0){D.destroy=void 0,k=h;var re=x,fe=W;try{fe()}catch(be){fn(k,re,be)}}}b=b.next}while(b!==P)}}catch(be){fn(h,h.return,be)}}function nL(d){var h=d.updateQueue;if(h!==null){var x=d.stateNode;try{KD(h,x)}catch(b){fn(d,d.return,b)}}}function rL(d,h,x){x.props=Cd(d.type,d.memoizedProps),x.state=d.memoizedState;try{x.componentWillUnmount()}catch(b){fn(d,h,b)}}function cp(d,h){try{var x=d.ref;if(x!==null){switch(d.tag){case 26:case 27:case 5:var b=d.stateNode;break;case 30:b=d.stateNode;break;default:b=d.stateNode}typeof x=="function"?d.refCleanup=x(b):x.current=b}}catch(k){fn(d,h,k)}}function po(d,h){var x=d.ref,b=d.refCleanup;if(x!==null)if(typeof b=="function")try{b()}catch(k){fn(d,h,k)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(k){fn(d,h,k)}else x.current=null}function sL(d){var h=d.type,x=d.memoizedProps,b=d.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":x.autoFocus&&b.focus();break e;case"img":x.src?b.src=x.src:x.srcSet&&(b.srcset=x.srcSet)}}catch(k){fn(d,d.return,k)}}function ZS(d,h,x){try{var b=d.stateNode;pce(b,d.type,x,h),b[Vn]=h}catch(k){fn(d,d.return,k)}}function aL(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&pc(d.type)||d.tag===4}function e2(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||aL(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&pc(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function t2(d,h,x){var b=d.tag;if(b===5||b===6)d=d.stateNode,h?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(d,h):(h=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,h.appendChild(d),x=x._reactRootContainer,x!=null||h.onclick!==null||(h.onclick=Xo));else if(b!==4&&(b===27&&pc(d.type)&&(x=d.stateNode,h=null),d=d.child,d!==null))for(t2(d,h,x),d=d.sibling;d!==null;)t2(d,h,x),d=d.sibling}function vv(d,h,x){var b=d.tag;if(b===5||b===6)d=d.stateNode,h?x.insertBefore(d,h):x.appendChild(d);else if(b!==4&&(b===27&&pc(d.type)&&(x=d.stateNode),d=d.child,d!==null))for(vv(d,h,x),d=d.sibling;d!==null;)vv(d,h,x),d=d.sibling}function iL(d){var h=d.stateNode,x=d.memoizedProps;try{for(var b=d.type,k=h.attributes;k.length;)h.removeAttributeNode(k[0]);fs(h,b,x),h[wr]=d,h[Vn]=x}catch(P){fn(d,d.return,P)}}var il=!1,kr=!1,n2=!1,oL=typeof WeakSet=="function"?WeakSet:Set,Kr=null;function Gle(d,h){if(d=d.containerInfo,N2=Bv,d=vD(d),Y1(d)){if("selectionStart"in d)var x={start:d.selectionStart,end:d.selectionEnd};else e:{x=(x=d.ownerDocument)&&x.defaultView||window;var b=x.getSelection&&x.getSelection();if(b&&b.rangeCount!==0){x=b.anchorNode;var k=b.anchorOffset,P=b.focusNode;b=b.focusOffset;try{x.nodeType,P.nodeType}catch{x=null;break e}var D=0,W=-1,re=-1,fe=0,be=0,Te=d,me=null;t:for(;;){for(var xe;Te!==x||k!==0&&Te.nodeType!==3||(W=D+k),Te!==P||b!==0&&Te.nodeType!==3||(re=D+b),Te.nodeType===3&&(D+=Te.nodeValue.length),(xe=Te.firstChild)!==null;)me=Te,Te=xe;for(;;){if(Te===d)break t;if(me===x&&++fe===k&&(W=D),me===P&&++be===b&&(re=D),(xe=Te.nextSibling)!==null)break;Te=me,me=Te.parentNode}Te=xe}x=W===-1||re===-1?null:{start:W,end:re}}else x=null}x=x||{start:0,end:0}}else x=null;for(S2={focusedElem:d,selectionRange:x},Bv=!1,Kr=h;Kr!==null;)if(h=Kr,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,Kr=d;else for(;Kr!==null;){switch(h=Kr,P=h.alternate,d=h.flags,h.tag){case 0:if((d&4)!==0&&(d=h.updateQueue,d=d!==null?d.events:null,d!==null))for(x=0;x<d.length;x++)k=d[x],k.ref.impl=k.nextImpl;break;case 11:case 15:break;case 1:if((d&1024)!==0&&P!==null){d=void 0,x=h,k=P.memoizedProps,P=P.memoizedState,b=x.stateNode;try{var Ve=Cd(x.type,k);d=b.getSnapshotBeforeUpdate(Ve,P),b.__reactInternalSnapshotBeforeUpdate=d}catch(ot){fn(x,x.return,ot)}}break;case 3:if((d&1024)!==0){if(d=h.stateNode.containerInfo,x=d.nodeType,x===9)T2(d);else if(x===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":T2(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=h.sibling,d!==null){d.return=h.return,Kr=d;break}Kr=h.return}}function lL(d,h,x){var b=x.flags;switch(x.tag){case 0:case 11:case 15:ll(d,x),b&4&&lp(5,x);break;case 1:if(ll(d,x),b&4)if(d=x.stateNode,h===null)try{d.componentDidMount()}catch(D){fn(x,x.return,D)}else{var k=Cd(x.type,h.memoizedProps);h=h.memoizedState;try{d.componentDidUpdate(k,h,d.__reactInternalSnapshotBeforeUpdate)}catch(D){fn(x,x.return,D)}}b&64&&nL(x),b&512&&cp(x,x.return);break;case 3:if(ll(d,x),b&64&&(d=x.updateQueue,d!==null)){if(h=null,x.child!==null)switch(x.child.tag){case 27:case 5:h=x.child.stateNode;break;case 1:h=x.child.stateNode}try{KD(d,h)}catch(D){fn(x,x.return,D)}}break;case 27:h===null&&b&4&&iL(x);case 26:case 5:ll(d,x),h===null&&b&4&&sL(x),b&512&&cp(x,x.return);break;case 12:ll(d,x);break;case 31:ll(d,x),b&4&&uL(d,x);break;case 13:ll(d,x),b&4&&fL(d,x),b&64&&(d=x.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(x=rce.bind(null,x),Nce(d,x))));break;case 22:if(b=x.memoizedState!==null||il,!b){h=h!==null&&h.memoizedState!==null||kr,k=il;var P=kr;il=b,(kr=h)&&!P?cl(d,x,(x.subtreeFlags&8772)!==0):ll(d,x),il=k,kr=P}break;case 30:break;default:ll(d,x)}}function cL(d){var h=d.alternate;h!==null&&(d.alternate=null,cL(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&ie(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var Hn=null,ra=!1;function ol(d,h,x){for(x=x.child;x!==null;)dL(d,h,x),x=x.sibling}function dL(d,h,x){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(rr,x)}catch{}switch(x.tag){case 26:kr||po(x,h),ol(d,h,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:kr||po(x,h);var b=Hn,k=ra;pc(x.type)&&(Hn=x.stateNode,ra=!1),ol(d,h,x),yp(x.stateNode),Hn=b,ra=k;break;case 5:kr||po(x,h);case 6:if(b=Hn,k=ra,Hn=null,ol(d,h,x),Hn=b,ra=k,Hn!==null)if(ra)try{(Hn.nodeType===9?Hn.body:Hn.nodeName==="HTML"?Hn.ownerDocument.body:Hn).removeChild(x.stateNode)}catch(P){fn(x,h,P)}else try{Hn.removeChild(x.stateNode)}catch(P){fn(x,h,P)}break;case 18:Hn!==null&&(ra?(d=Hn,n$(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,x.stateNode),Sf(d)):n$(Hn,x.stateNode));break;case 4:b=Hn,k=ra,Hn=x.stateNode.containerInfo,ra=!0,ol(d,h,x),Hn=b,ra=k;break;case 0:case 11:case 14:case 15:lc(2,x,h),kr||lc(4,x,h),ol(d,h,x);break;case 1:kr||(po(x,h),b=x.stateNode,typeof b.componentWillUnmount=="function"&&rL(x,h,b)),ol(d,h,x);break;case 21:ol(d,h,x);break;case 22:kr=(b=kr)||x.memoizedState!==null,ol(d,h,x),kr=b;break;default:ol(d,h,x)}}function uL(d,h){if(h.memoizedState===null&&(d=h.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{Sf(d)}catch(x){fn(h,h.return,x)}}}function fL(d,h){if(h.memoizedState===null&&(d=h.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{Sf(d)}catch(x){fn(h,h.return,x)}}function Yle(d){switch(d.tag){case 31:case 13:case 19:var h=d.stateNode;return h===null&&(h=d.stateNode=new oL),h;case 22:return d=d.stateNode,h=d._retryCache,h===null&&(h=d._retryCache=new oL),h;default:throw Error(r(435,d.tag))}}function bv(d,h){var x=Yle(d);h.forEach(function(b){if(!x.has(b)){x.add(b);var k=sce.bind(null,d,b);b.then(k,k)}})}function sa(d,h){var x=h.deletions;if(x!==null)for(var b=0;b<x.length;b++){var k=x[b],P=d,D=h,W=D;e:for(;W!==null;){switch(W.tag){case 27:if(pc(W.type)){Hn=W.stateNode,ra=!1;break e}break;case 5:Hn=W.stateNode,ra=!1;break e;case 3:case 4:Hn=W.stateNode.containerInfo,ra=!0;break e}W=W.return}if(Hn===null)throw Error(r(160));dL(P,D,k),Hn=null,ra=!1,P=k.alternate,P!==null&&(P.return=null),k.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)hL(h,d),h=h.sibling}var Mi=null;function hL(d,h){var x=d.alternate,b=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:sa(h,d),aa(d),b&4&&(lc(3,d,d.return),lp(3,d),lc(5,d,d.return));break;case 1:sa(h,d),aa(d),b&512&&(kr||x===null||po(x,x.return)),b&64&&il&&(d=d.updateQueue,d!==null&&(b=d.callbacks,b!==null&&(x=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=x===null?b:x.concat(b))));break;case 26:var k=Mi;if(sa(h,d),aa(d),b&512&&(kr||x===null||po(x,x.return)),b&4){var P=x!==null?x.memoizedState:null;if(b=d.memoizedState,x===null)if(b===null)if(d.stateNode===null){e:{b=d.type,x=d.memoizedProps,k=k.ownerDocument||k;t:switch(b){case"title":P=k.getElementsByTagName("title")[0],(!P||P[Ge]||P[wr]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=k.createElement(b),k.head.insertBefore(P,k.querySelector("head > title"))),fs(P,b,x),P[wr]=d,Ot(P),b=P;break e;case"link":var D=h$("link","href",k).get(b+(x.href||""));if(D){for(var W=0;W<D.length;W++)if(P=D[W],P.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&P.getAttribute("rel")===(x.rel==null?null:x.rel)&&P.getAttribute("title")===(x.title==null?null:x.title)&&P.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){D.splice(W,1);break t}}P=k.createElement(b),fs(P,b,x),k.head.appendChild(P);break;case"meta":if(D=h$("meta","content",k).get(b+(x.content||""))){for(W=0;W<D.length;W++)if(P=D[W],P.getAttribute("content")===(x.content==null?null:""+x.content)&&P.getAttribute("name")===(x.name==null?null:x.name)&&P.getAttribute("property")===(x.property==null?null:x.property)&&P.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&P.getAttribute("charset")===(x.charSet==null?null:x.charSet)){D.splice(W,1);break t}}P=k.createElement(b),fs(P,b,x),k.head.appendChild(P);break;default:throw Error(r(468,b))}P[wr]=d,Ot(P),b=P}d.stateNode=b}else m$(k,d.type,d.stateNode);else d.stateNode=f$(k,b,d.memoizedProps);else P!==b?(P===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):P.count--,b===null?m$(k,d.type,d.stateNode):f$(k,b,d.memoizedProps)):b===null&&d.stateNode!==null&&ZS(d,d.memoizedProps,x.memoizedProps)}break;case 27:sa(h,d),aa(d),b&512&&(kr||x===null||po(x,x.return)),x!==null&&b&4&&ZS(d,d.memoizedProps,x.memoizedProps);break;case 5:if(sa(h,d),aa(d),b&512&&(kr||x===null||po(x,x.return)),d.flags&32){k=d.stateNode;try{Ku(k,"")}catch(Ve){fn(d,d.return,Ve)}}b&4&&d.stateNode!=null&&(k=d.memoizedProps,ZS(d,k,x!==null?x.memoizedProps:k)),b&1024&&(n2=!0);break;case 6:if(sa(h,d),aa(d),b&4){if(d.stateNode===null)throw Error(r(162));b=d.memoizedProps,x=d.stateNode;try{x.nodeValue=b}catch(Ve){fn(d,d.return,Ve)}}break;case 3:if(Iv=null,k=Mi,Mi=Rv(h.containerInfo),sa(h,d),Mi=k,aa(d),b&4&&x!==null&&x.memoizedState.isDehydrated)try{Sf(h.containerInfo)}catch(Ve){fn(d,d.return,Ve)}n2&&(n2=!1,mL(d));break;case 4:b=Mi,Mi=Rv(d.stateNode.containerInfo),sa(h,d),aa(d),Mi=b;break;case 12:sa(h,d),aa(d);break;case 31:sa(h,d),aa(d),b&4&&(b=d.updateQueue,b!==null&&(d.updateQueue=null,bv(d,b)));break;case 13:sa(h,d),aa(d),d.child.flags&8192&&d.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(wv=Vt()),b&4&&(b=d.updateQueue,b!==null&&(d.updateQueue=null,bv(d,b)));break;case 22:k=d.memoizedState!==null;var re=x!==null&&x.memoizedState!==null,fe=il,be=kr;if(il=fe||k,kr=be||re,sa(h,d),kr=be,il=fe,aa(d),b&8192)e:for(h=d.stateNode,h._visibility=k?h._visibility&-2:h._visibility|1,k&&(x===null||re||il||kr||kd(d)),x=null,h=d;;){if(h.tag===5||h.tag===26){if(x===null){re=x=h;try{if(P=re.stateNode,k)D=P.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{W=re.stateNode;var Te=re.memoizedProps.style,me=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;W.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(Ve){fn(re,re.return,Ve)}}}else if(h.tag===6){if(x===null){re=h;try{re.stateNode.nodeValue=k?"":re.memoizedProps}catch(Ve){fn(re,re.return,Ve)}}}else if(h.tag===18){if(x===null){re=h;try{var xe=re.stateNode;k?r$(xe,!0):r$(re.stateNode,!1)}catch(Ve){fn(re,re.return,Ve)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===d)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}b&4&&(b=d.updateQueue,b!==null&&(x=b.retryQueue,x!==null&&(b.retryQueue=null,bv(d,x))));break;case 19:sa(h,d),aa(d),b&4&&(b=d.updateQueue,b!==null&&(d.updateQueue=null,bv(d,b)));break;case 30:break;case 21:break;default:sa(h,d),aa(d)}}function aa(d){var h=d.flags;if(h&2){try{for(var x,b=d.return;b!==null;){if(aL(b)){x=b;break}b=b.return}if(x==null)throw Error(r(160));switch(x.tag){case 27:var k=x.stateNode,P=e2(d);vv(d,P,k);break;case 5:var D=x.stateNode;x.flags&32&&(Ku(D,""),x.flags&=-33);var W=e2(d);vv(d,W,D);break;case 3:case 4:var re=x.stateNode.containerInfo,fe=e2(d);t2(d,fe,re);break;default:throw Error(r(161))}}catch(be){fn(d,d.return,be)}d.flags&=-3}h&4096&&(d.flags&=-4097)}function mL(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var h=d;mL(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),d=d.sibling}}function ll(d,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)lL(d,h.alternate,h),h=h.sibling}function kd(d){for(d=d.child;d!==null;){var h=d;switch(h.tag){case 0:case 11:case 14:case 15:lc(4,h,h.return),kd(h);break;case 1:po(h,h.return);var x=h.stateNode;typeof x.componentWillUnmount=="function"&&rL(h,h.return,x),kd(h);break;case 27:yp(h.stateNode);case 26:case 5:po(h,h.return),kd(h);break;case 22:h.memoizedState===null&&kd(h);break;case 30:kd(h);break;default:kd(h)}d=d.sibling}}function cl(d,h,x){for(x=x&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var b=h.alternate,k=d,P=h,D=P.flags;switch(P.tag){case 0:case 11:case 15:cl(k,P,x),lp(4,P);break;case 1:if(cl(k,P,x),b=P,k=b.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(fe){fn(b,b.return,fe)}if(b=P,k=b.updateQueue,k!==null){var W=b.stateNode;try{var re=k.shared.hiddenCallbacks;if(re!==null)for(k.shared.hiddenCallbacks=null,k=0;k<re.length;k++)HD(re[k],W)}catch(fe){fn(b,b.return,fe)}}x&&D&64&&nL(P),cp(P,P.return);break;case 27:iL(P);case 26:case 5:cl(k,P,x),x&&b===null&&D&4&&sL(P),cp(P,P.return);break;case 12:cl(k,P,x);break;case 31:cl(k,P,x),x&&D&4&&uL(k,P);break;case 13:cl(k,P,x),x&&D&4&&fL(k,P);break;case 22:P.memoizedState===null&&cl(k,P,x),cp(P,P.return);break;case 30:break;default:cl(k,P,x)}h=h.sibling}}function r2(d,h){var x=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),d=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(d=h.memoizedState.cachePool.pool),d!==x&&(d!=null&&d.refCount++,x!=null&&Ym(x))}function s2(d,h){d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&Ym(d))}function _i(d,h,x,b){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)pL(d,h,x,b),h=h.sibling}function pL(d,h,x,b){var k=h.flags;switch(h.tag){case 0:case 11:case 15:_i(d,h,x,b),k&2048&&lp(9,h);break;case 1:_i(d,h,x,b);break;case 3:_i(d,h,x,b),k&2048&&(d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&Ym(d)));break;case 12:if(k&2048){_i(d,h,x,b),d=h.stateNode;try{var P=h.memoizedProps,D=P.id,W=P.onPostCommit;typeof W=="function"&&W(D,h.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(re){fn(h,h.return,re)}}else _i(d,h,x,b);break;case 31:_i(d,h,x,b);break;case 13:_i(d,h,x,b);break;case 23:break;case 22:P=h.stateNode,D=h.alternate,h.memoizedState!==null?P._visibility&2?_i(d,h,x,b):dp(d,h):P._visibility&2?_i(d,h,x,b):(P._visibility|=2,hf(d,h,x,b,(h.subtreeFlags&10256)!==0||!1)),k&2048&&r2(D,h);break;case 24:_i(d,h,x,b),k&2048&&s2(h.alternate,h);break;default:_i(d,h,x,b)}}function hf(d,h,x,b,k){for(k=k&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var P=d,D=h,W=x,re=b,fe=D.flags;switch(D.tag){case 0:case 11:case 15:hf(P,D,W,re,k),lp(8,D);break;case 23:break;case 22:var be=D.stateNode;D.memoizedState!==null?be._visibility&2?hf(P,D,W,re,k):dp(P,D):(be._visibility|=2,hf(P,D,W,re,k)),k&&fe&2048&&r2(D.alternate,D);break;case 24:hf(P,D,W,re,k),k&&fe&2048&&s2(D.alternate,D);break;default:hf(P,D,W,re,k)}h=h.sibling}}function dp(d,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var x=d,b=h,k=b.flags;switch(b.tag){case 22:dp(x,b),k&2048&&r2(b.alternate,b);break;case 24:dp(x,b),k&2048&&s2(b.alternate,b);break;default:dp(x,b)}h=h.sibling}}var up=8192;function mf(d,h,x){if(d.subtreeFlags&up)for(d=d.child;d!==null;)xL(d,h,x),d=d.sibling}function xL(d,h,x){switch(d.tag){case 26:mf(d,h,x),d.flags&up&&d.memoizedState!==null&&Dce(x,Mi,d.memoizedState,d.memoizedProps);break;case 5:mf(d,h,x);break;case 3:case 4:var b=Mi;Mi=Rv(d.stateNode.containerInfo),mf(d,h,x),Mi=b;break;case 22:d.memoizedState===null&&(b=d.alternate,b!==null&&b.memoizedState!==null?(b=up,up=16777216,mf(d,h,x),up=b):mf(d,h,x));break;default:mf(d,h,x)}}function gL(d){var h=d.alternate;if(h!==null&&(d=h.child,d!==null)){h.child=null;do h=d.sibling,d.sibling=null,d=h;while(d!==null)}}function fp(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var b=h[x];Kr=b,vL(b,d)}gL(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)yL(d),d=d.sibling}function yL(d){switch(d.tag){case 0:case 11:case 15:fp(d),d.flags&2048&&lc(9,d,d.return);break;case 3:fp(d);break;case 12:fp(d);break;case 22:var h=d.stateNode;d.memoizedState!==null&&h._visibility&2&&(d.return===null||d.return.tag!==13)?(h._visibility&=-3,jv(d)):fp(d);break;default:fp(d)}}function jv(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var b=h[x];Kr=b,vL(b,d)}gL(d)}for(d=d.child;d!==null;){switch(h=d,h.tag){case 0:case 11:case 15:lc(8,h,h.return),jv(h);break;case 22:x=h.stateNode,x._visibility&2&&(x._visibility&=-3,jv(h));break;default:jv(h)}d=d.sibling}}function vL(d,h){for(;Kr!==null;){var x=Kr;switch(x.tag){case 0:case 11:case 15:lc(8,x,h);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var b=x.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Ym(x.memoizedState.cache)}if(b=x.child,b!==null)b.return=x,Kr=b;else e:for(x=d;Kr!==null;){b=Kr;var k=b.sibling,P=b.return;if(cL(b),b===x){Kr=null;break e}if(k!==null){k.return=P,Kr=k;break e}Kr=P}}}var Xle={getCacheForType:function(d){var h=ds(Nr),x=h.data.get(d);return x===void 0&&(x=d(),h.data.set(d,x)),x},cacheSignal:function(){return ds(Nr).controller.signal}},Qle=typeof WeakMap=="function"?WeakMap:Map,tn=0,Nn=null,It=null,$t=0,un=0,wa=null,cc=!1,pf=!1,a2=!1,dl=0,ar=0,dc=0,Td=0,i2=0,Na=0,xf=0,hp=null,ia=null,o2=!1,wv=0,bL=0,Nv=1/0,Sv=null,uc=null,Dr=0,fc=null,gf=null,ul=0,l2=0,c2=null,jL=null,mp=0,d2=null;function Sa(){return(tn&2)!==0&&$t!==0?$t&-$t:R.T!==null?x2():Rm()}function wL(){if(Na===0)if(($t&536870912)===0||Bt){var d=Un;Un<<=1,(Un&3932160)===0&&(Un=262144),Na=d}else Na=536870912;return d=ba.current,d!==null&&(d.flags|=32),Na}function oa(d,h,x){(d===Nn&&(un===2||un===9)||d.cancelPendingCommit!==null)&&(yf(d,0),hc(d,$t,Na,!1)),Ql(d,x),((tn&2)===0||d!==Nn)&&(d===Nn&&((tn&2)===0&&(Td|=x),ar===4&&hc(d,$t,Na,!1)),xo(d))}function NL(d,h,x){if((tn&6)!==0)throw Error(r(327));var b=!x&&(h&127)===0&&(h&d.expiredLanes)===0||ud(d,h),k=b?ece(d,h):f2(d,h,!0),P=b;do{if(k===0){pf&&!b&&hc(d,h,0,!1);break}else{if(x=d.current.alternate,P&&!Jle(x)){k=f2(d,h,!1),P=!1;continue}if(k===2){if(P=h,d.errorRecoveryDisabledLanes&P)var D=0;else D=d.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){h=D;e:{var W=d;k=hp;var re=W.current.memoizedState.isDehydrated;if(re&&(yf(W,D).flags|=256),D=f2(W,D,!1),D!==2){if(a2&&!re){W.errorRecoveryDisabledLanes|=P,Td|=P,k=4;break e}P=ia,ia=k,P!==null&&(ia===null?ia=P:ia.push.apply(ia,P))}k=D}if(P=!1,k!==2)continue}}if(k===1){yf(d,0),hc(d,h,0,!0);break}e:{switch(b=d,P=k,P){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:hc(b,h,Na,!cc);break e;case 2:ia=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(k=wv+300-Vt(),10<k)){if(hc(b,h,Na,!cc),Uu(b,0,!0)!==0)break e;ul=h,b.timeoutHandle=e$(SL.bind(null,b,x,ia,Sv,o2,h,Na,Td,xf,cc,P,"Throttled",-0,0),k);break e}SL(b,x,ia,Sv,o2,h,Na,Td,xf,cc,P,null,-0,0)}}break}while(!0);xo(d)}function SL(d,h,x,b,k,P,D,W,re,fe,be,Te,me,xe){if(d.timeoutHandle=-1,Te=h.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xo},xL(h,P,Te);var Ve=(P&62914560)===P?wv-Vt():(P&4194048)===P?bL-Vt():0;if(Ve=Ice(Te,Ve),Ve!==null){ul=P,d.cancelPendingCommit=Ve(ML.bind(null,d,h,P,x,b,k,D,W,re,be,Te,null,me,xe)),hc(d,P,D,!fe);return}}ML(d,h,P,x,b,k,D,W,re)}function Jle(d){for(var h=d;;){var x=h.tag;if((x===0||x===11||x===15)&&h.flags&16384&&(x=h.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var b=0;b<x.length;b++){var k=x[b],P=k.getSnapshot;k=k.value;try{if(!ya(P(),k))return!1}catch{return!1}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function hc(d,h,x,b){h&=~i2,h&=~Td,d.suspendedLanes|=h,d.pingedLanes&=~h,b&&(d.warmLanes|=h),b=d.expirationTimes;for(var k=h;0<k;){var P=31-Q(k),D=1<<P;b[P]=-1,k&=~D}x!==0&&Mm(d,x,h)}function Cv(){return(tn&6)===0?(pp(0),!1):!0}function u2(){if(It!==null){if(un===0)var d=It.return;else d=It,el=yd=null,TS(d),lf=null,Qm=0,d=It;for(;d!==null;)tL(d.alternate,d),d=d.return;It=null}}function yf(d,h){var x=d.timeoutHandle;x!==-1&&(d.timeoutHandle=-1,yce(x)),x=d.cancelPendingCommit,x!==null&&(d.cancelPendingCommit=null,x()),ul=0,u2(),Nn=d,It=x=Jo(d.current,null),$t=h,un=0,wa=null,cc=!1,pf=ud(d,h),a2=!1,xf=Na=i2=Td=dc=ar=0,ia=hp=null,o2=!1,(h&8)!==0&&(h|=h&32);var b=d.entangledLanes;if(b!==0)for(d=d.entanglements,b&=h;0<b;){var k=31-Q(b),P=1<<k;h|=d[k],b&=~P}return dl=h,Ky(),x}function CL(d,h){kt=null,R.H=ap,h===of||h===ev?(h=zD(),un=3):h===pS?(h=zD(),un=4):un=h===US?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,wa=h,It===null&&(ar=1,mv(d,Ya(h,d.current)))}function kL(){var d=ba.current;return d===null?!0:($t&4194048)===$t?Za===null:($t&62914560)===$t||($t&536870912)!==0?d===Za:!1}function TL(){var d=R.H;return R.H=ap,d===null?ap:d}function AL(){var d=R.A;return R.A=Xle,d}function kv(){ar=4,cc||($t&4194048)!==$t&&ba.current!==null||(pf=!0),(dc&134217727)===0&&(Td&134217727)===0||Nn===null||hc(Nn,$t,Na,!1)}function f2(d,h,x){var b=tn;tn|=2;var k=TL(),P=AL();(Nn!==d||$t!==h)&&(Sv=null,yf(d,h)),h=!1;var D=ar;e:do try{if(un!==0&&It!==null){var W=It,re=wa;switch(un){case 8:u2(),D=6;break e;case 3:case 2:case 9:case 6:ba.current===null&&(h=!0);var fe=un;if(un=0,wa=null,vf(d,W,re,fe),x&&pf){D=0;break e}break;default:fe=un,un=0,wa=null,vf(d,W,re,fe)}}Zle(),D=ar;break}catch(be){CL(d,be)}while(!0);return h&&d.shellSuspendCounter++,el=yd=null,tn=b,R.H=k,R.A=P,It===null&&(Nn=null,$t=0,Ky()),D}function Zle(){for(;It!==null;)EL(It)}function ece(d,h){var x=tn;tn|=2;var b=TL(),k=AL();Nn!==d||$t!==h?(Sv=null,Nv=Vt()+500,yf(d,h)):pf=ud(d,h);e:do try{if(un!==0&&It!==null){h=It;var P=wa;t:switch(un){case 1:un=0,wa=null,vf(d,h,P,1);break;case 2:case 9:if(FD(P)){un=0,wa=null,OL(h);break}h=function(){un!==2&&un!==9||Nn!==d||(un=7),xo(d)},P.then(h,h);break e;case 3:un=7;break e;case 4:un=5;break e;case 7:FD(P)?(un=0,wa=null,OL(h)):(un=0,wa=null,vf(d,h,P,7));break;case 5:var D=null;switch(It.tag){case 26:D=It.memoizedState;case 5:case 27:var W=It;if(D?p$(D):W.stateNode.complete){un=0,wa=null;var re=W.sibling;if(re!==null)It=re;else{var fe=W.return;fe!==null?(It=fe,Tv(fe)):It=null}break t}}un=0,wa=null,vf(d,h,P,5);break;case 6:un=0,wa=null,vf(d,h,P,6);break;case 8:u2(),ar=6;break e;default:throw Error(r(462))}}tce();break}catch(be){CL(d,be)}while(!0);return el=yd=null,R.H=b,R.A=k,tn=x,It!==null?0:(Nn=null,$t=0,Ky(),ar)}function tce(){for(;It!==null&&!cn();)EL(It)}function EL(d){var h=ZI(d.alternate,d,dl);d.memoizedProps=d.pendingProps,h===null?Tv(d):It=h}function OL(d){var h=d,x=h.alternate;switch(h.tag){case 15:case 0:h=WI(x,h,h.pendingProps,h.type,void 0,$t);break;case 11:h=WI(x,h,h.pendingProps,h.type.render,h.ref,$t);break;case 5:TS(h);default:tL(x,h),h=It=AD(h,dl),h=ZI(x,h,dl)}d.memoizedProps=d.pendingProps,h===null?Tv(d):It=h}function vf(d,h,x,b){el=yd=null,TS(h),lf=null,Qm=0;var k=h.return;try{if(Ule(d,k,h,x,$t)){ar=1,mv(d,Ya(x,d.current)),It=null;return}}catch(P){if(k!==null)throw It=k,P;ar=1,mv(d,Ya(x,d.current)),It=null;return}h.flags&32768?(Bt||b===1?d=!0:pf||($t&536870912)!==0?d=!1:(cc=d=!0,(b===2||b===9||b===3||b===6)&&(b=ba.current,b!==null&&b.tag===13&&(b.flags|=16384))),PL(h,d)):Tv(h)}function Tv(d){var h=d;do{if((h.flags&32768)!==0){PL(h,cc);return}d=h.return;var x=Kle(h.alternate,h,dl);if(x!==null){It=x;return}if(h=h.sibling,h!==null){It=h;return}It=h=d}while(h!==null);ar===0&&(ar=5)}function PL(d,h){do{var x=Wle(d.alternate,d);if(x!==null){x.flags&=32767,It=x;return}if(x=d.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!h&&(d=d.sibling,d!==null)){It=d;return}It=d=x}while(d!==null);ar=6,It=null}function ML(d,h,x,b,k,P,D,W,re){d.cancelPendingCommit=null;do Av();while(Dr!==0);if((tn&6)!==0)throw Error(r(327));if(h!==null){if(h===d.current)throw Error(r(177));if(P=h.lanes|h.childLanes,P|=eS,Pm(d,x,P,D,W,re),d===Nn&&(It=Nn=null,$t=0),gf=h,fc=d,ul=x,l2=P,c2=k,jL=b,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,ace(_s,function(){return LL(),null})):(d.callbackNode=null,d.callbackPriority=0),b=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||b){b=R.T,R.T=null,k=B.p,B.p=2,D=tn,tn|=4;try{Gle(d,h,x)}finally{tn=D,B.p=k,R.T=b}}Dr=1,_L(),RL(),DL()}}function _L(){if(Dr===1){Dr=0;var d=fc,h=gf,x=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||x){x=R.T,R.T=null;var b=B.p;B.p=2;var k=tn;tn|=4;try{hL(h,d);var P=S2,D=vD(d.containerInfo),W=P.focusedElem,re=P.selectionRange;if(D!==W&&W&&W.ownerDocument&&yD(W.ownerDocument.documentElement,W)){if(re!==null&&Y1(W)){var fe=re.start,be=re.end;if(be===void 0&&(be=fe),"selectionStart"in W)W.selectionStart=fe,W.selectionEnd=Math.min(be,W.value.length);else{var Te=W.ownerDocument||document,me=Te&&Te.defaultView||window;if(me.getSelection){var xe=me.getSelection(),Ve=W.textContent.length,ot=Math.min(re.start,Ve),vn=re.end===void 0?ot:Math.min(re.end,Ve);!xe.extend&&ot>vn&&(D=vn,vn=ot,ot=D);var ce=gD(W,ot),oe=gD(W,vn);if(ce&&oe&&(xe.rangeCount!==1||xe.anchorNode!==ce.node||xe.anchorOffset!==ce.offset||xe.focusNode!==oe.node||xe.focusOffset!==oe.offset)){var ue=Te.createRange();ue.setStart(ce.node,ce.offset),xe.removeAllRanges(),ot>vn?(xe.addRange(ue),xe.extend(oe.node,oe.offset)):(ue.setEnd(oe.node,oe.offset),xe.addRange(ue))}}}}for(Te=[],xe=W;xe=xe.parentNode;)xe.nodeType===1&&Te.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Te.length;W++){var Se=Te[W];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}Bv=!!N2,S2=N2=null}finally{tn=k,B.p=b,R.T=x}}d.current=h,Dr=2}}function RL(){if(Dr===2){Dr=0;var d=fc,h=gf,x=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||x){x=R.T,R.T=null;var b=B.p;B.p=2;var k=tn;tn|=4;try{lL(d,h.alternate,h)}finally{tn=k,B.p=b,R.T=x}}Dr=3}}function DL(){if(Dr===4||Dr===3){Dr=0,_r();var d=fc,h=gf,x=ul,b=jL;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Dr=5:(Dr=0,gf=fc=null,IL(d,d.pendingLanes));var k=d.pendingLanes;if(k===0&&(uc=null),Oi(x),h=h.stateNode,Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(rr,h,void 0,(h.current.flags&128)===128)}catch{}if(b!==null){h=R.T,k=B.p,B.p=2,R.T=null;try{for(var P=d.onRecoverableError,D=0;D<b.length;D++){var W=b[D];P(W.value,{componentStack:W.stack})}}finally{R.T=h,B.p=k}}(ul&3)!==0&&Av(),xo(d),k=d.pendingLanes,(x&261930)!==0&&(k&42)!==0?d===d2?mp++:(mp=0,d2=d):mp=0,pp(0)}}function IL(d,h){(d.pooledCacheLanes&=h)===0&&(h=d.pooledCache,h!=null&&(d.pooledCache=null,Ym(h)))}function Av(){return _L(),RL(),DL(),LL()}function LL(){if(Dr!==5)return!1;var d=fc,h=l2;l2=0;var x=Oi(ul),b=R.T,k=B.p;try{B.p=32>x?32:x,R.T=null,x=c2,c2=null;var P=fc,D=ul;if(Dr=0,gf=fc=null,ul=0,(tn&6)!==0)throw Error(r(331));var W=tn;if(tn|=4,yL(P.current),pL(P,P.current,D,x),tn=W,pp(0,!1),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(rr,P)}catch{}return!0}finally{B.p=k,R.T=b,IL(d,h)}}function $L(d,h,x){h=Ya(x,h),h=qS(d.stateNode,h,2),d=ac(d,h,2),d!==null&&(Ql(d,2),xo(d))}function fn(d,h,x){if(d.tag===3)$L(d,d,x);else for(;h!==null;){if(h.tag===3){$L(h,d,x);break}else if(h.tag===1){var b=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(uc===null||!uc.has(b))){d=Ya(x,d),x=FI(2),b=ac(h,x,2),b!==null&&(BI(x,b,h,d),Ql(b,2),xo(b));break}}h=h.return}}function h2(d,h,x){var b=d.pingCache;if(b===null){b=d.pingCache=new Qle;var k=new Set;b.set(h,k)}else k=b.get(h),k===void 0&&(k=new Set,b.set(h,k));k.has(x)||(a2=!0,k.add(x),d=nce.bind(null,d,h,x),h.then(d,d))}function nce(d,h,x){var b=d.pingCache;b!==null&&b.delete(h),d.pingedLanes|=d.suspendedLanes&x,d.warmLanes&=~x,Nn===d&&($t&x)===x&&(ar===4||ar===3&&($t&62914560)===$t&&300>Vt()-wv?(tn&2)===0&&yf(d,0):i2|=x,xf===$t&&(xf=0)),xo(d)}function FL(d,h){h===0&&(h=Wo()),d=pd(d,h),d!==null&&(Ql(d,h),xo(d))}function rce(d){var h=d.memoizedState,x=0;h!==null&&(x=h.retryLane),FL(d,x)}function sce(d,h){var x=0;switch(d.tag){case 31:case 13:var b=d.stateNode,k=d.memoizedState;k!==null&&(x=k.retryLane);break;case 19:b=d.stateNode;break;case 22:b=d.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(h),FL(d,x)}function ace(d,h){return Gt(d,h)}var Ev=null,bf=null,m2=!1,Ov=!1,p2=!1,mc=0;function xo(d){d!==bf&&d.next===null&&(bf===null?Ev=bf=d:bf=bf.next=d),Ov=!0,m2||(m2=!0,oce())}function pp(d,h){if(!p2&&Ov){p2=!0;do for(var x=!1,b=Ev;b!==null;){if(d!==0){var k=b.pendingLanes;if(k===0)var P=0;else{var D=b.suspendedLanes,W=b.pingedLanes;P=(1<<31-Q(42|d)+1)-1,P&=k&~(D&~W),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(x=!0,UL(b,P))}else P=$t,P=Uu(b,b===Nn?P:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(P&3)===0||ud(b,P)||(x=!0,UL(b,P));b=b.next}while(x);p2=!1}}function ice(){BL()}function BL(){Ov=m2=!1;var d=0;mc!==0&&gce()&&(d=mc);for(var h=Vt(),x=null,b=Ev;b!==null;){var k=b.next,P=zL(b,h);P===0?(b.next=null,x===null?Ev=k:x.next=k,k===null&&(bf=x)):(x=b,(d!==0||(P&3)!==0)&&(Ov=!0)),b=k}Dr!==0&&Dr!==5||pp(d),mc!==0&&(mc=0)}function zL(d,h){for(var x=d.suspendedLanes,b=d.pingedLanes,k=d.expirationTimes,P=d.pendingLanes&-62914561;0<P;){var D=31-Q(P),W=1<<D,re=k[D];re===-1?((W&x)===0||(W&b)!==0)&&(k[D]=mr(W,h)):re<=h&&(d.expiredLanes|=W),P&=~W}if(h=Nn,x=$t,x=Uu(d,d===h?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),b=d.callbackNode,x===0||d===h&&(un===2||un===9)||d.cancelPendingCommit!==null)return b!==null&&b!==null&&Jn(b),d.callbackNode=null,d.callbackPriority=0;if((x&3)===0||ud(d,x)){if(h=x&-x,h===d.callbackPriority)return h;switch(b!==null&&Jn(b),Oi(x)){case 2:case 8:x=Rn;break;case 32:x=_s;break;case 268435456:x=Ei;break;default:x=_s}return b=qL.bind(null,d),x=Gt(x,b),d.callbackPriority=h,d.callbackNode=x,h}return b!==null&&b!==null&&Jn(b),d.callbackPriority=2,d.callbackNode=null,2}function qL(d,h){if(Dr!==0&&Dr!==5)return d.callbackNode=null,d.callbackPriority=0,null;var x=d.callbackNode;if(Av()&&d.callbackNode!==x)return null;var b=$t;return b=Uu(d,d===Nn?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),b===0?null:(NL(d,b,h),zL(d,Vt()),d.callbackNode!=null&&d.callbackNode===x?qL.bind(null,d):null)}function UL(d,h){if(Av())return null;NL(d,h,!0)}function oce(){vce(function(){(tn&6)!==0?Gt(zn,ice):BL()})}function x2(){if(mc===0){var d=sf;d===0&&(d=vs,vs<<=1,(vs&261888)===0&&(vs=256)),mc=d}return mc}function VL(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:$y(""+d)}function HL(d,h){var x=h.ownerDocument.createElement("input");return x.name=h.name,x.value=h.value,d.id&&x.setAttribute("form",d.id),h.parentNode.insertBefore(x,h),d=new FormData(d),x.parentNode.removeChild(x),d}function lce(d,h,x,b,k){if(h==="submit"&&x&&x.stateNode===k){var P=VL((k[Vn]||null).action),D=b.submitter;D&&(h=(h=D[Vn]||null)?VL(h.formAction):D.getAttribute("formAction"),h!==null&&(P=h,D=null));var W=new qy("action","action",null,b,k);d.push({event:W,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(mc!==0){var re=D?HL(k,D):new FormData(k);IS(x,{pending:!0,data:re,method:k.method,action:P},null,re)}}else typeof P=="function"&&(W.preventDefault(),re=D?HL(k,D):new FormData(k),IS(x,{pending:!0,data:re,method:k.method,action:P},P,re))},currentTarget:k}]})}}for(var g2=0;g2<Z1.length;g2++){var y2=Z1[g2],cce=y2.toLowerCase(),dce=y2[0].toUpperCase()+y2.slice(1);Pi(cce,"on"+dce)}Pi(wD,"onAnimationEnd"),Pi(ND,"onAnimationIteration"),Pi(SD,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(kle,"onTransitionRun"),Pi(Tle,"onTransitionStart"),Pi(Ale,"onTransitionCancel"),Pi(CD,"onTransitionEnd"),fo("onMouseEnter",["mouseout","mouseover"]),fo("onMouseLeave",["mouseout","mouseover"]),fo("onPointerEnter",["pointerout","pointerover"]),fo("onPointerLeave",["pointerout","pointerover"]),ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uce=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xp));function KL(d,h){h=(h&4)!==0;for(var x=0;x<d.length;x++){var b=d[x],k=b.event;b=b.listeners;e:{var P=void 0;if(h)for(var D=b.length-1;0<=D;D--){var W=b[D],re=W.instance,fe=W.currentTarget;if(W=W.listener,re!==P&&k.isPropagationStopped())break e;P=W,k.currentTarget=fe;try{P(k)}catch(be){Hy(be)}k.currentTarget=null,P=re}else for(D=0;D<b.length;D++){if(W=b[D],re=W.instance,fe=W.currentTarget,W=W.listener,re!==P&&k.isPropagationStopped())break e;P=W,k.currentTarget=fe;try{P(k)}catch(be){Hy(be)}k.currentTarget=null,P=re}}}}function Lt(d,h){var x=h[Vu];x===void 0&&(x=h[Vu]=new Set);var b=d+"__bubble";x.has(b)||(WL(h,d,2,!1),x.add(b))}function v2(d,h,x){var b=0;h&&(b|=4),WL(x,d,b,h)}var Pv="_reactListening"+Math.random().toString(36).slice(2);function b2(d){if(!d[Pv]){d[Pv]=!0,ls.forEach(function(x){x!=="selectionchange"&&(uce.has(x)||v2(x,!1,d),v2(x,!0,d))});var h=d.nodeType===9?d:d.ownerDocument;h===null||h[Pv]||(h[Pv]=!0,v2("selectionchange",!1,h))}}function WL(d,h,x,b){switch(w$(h)){case 2:var k=Fce;break;case 8:k=Bce;break;default:k=D2}x=k.bind(null,h,x,d),k=void 0,!B1||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(k=!0),b?k!==void 0?d.addEventListener(h,x,{capture:!0,passive:k}):d.addEventListener(h,x,!0):k!==void 0?d.addEventListener(h,x,{passive:k}):d.addEventListener(h,x,!1)}function j2(d,h,x,b,k){var P=b;if((h&1)===0&&(h&2)===0&&b!==null)e:for(;;){if(b===null)return;var D=b.tag;if(D===3||D===4){var W=b.stateNode.containerInfo;if(W===k)break;if(D===4)for(D=b.return;D!==null;){var re=D.tag;if((re===3||re===4)&&D.stateNode.containerInfo===k)return;D=D.return}for(;W!==null;){if(D=Oe(W),D===null)return;if(re=D.tag,re===5||re===6||re===26||re===27){b=P=D;continue e}W=W.parentNode}}b=b.return}J3(function(){var fe=P,be=$1(x),Te=[];e:{var me=kD.get(d);if(me!==void 0){var xe=qy,Ve=d;switch(d){case"keypress":if(By(x)===0)break e;case"keydown":case"keyup":xe=sle;break;case"focusin":Ve="focus",xe=V1;break;case"focusout":Ve="blur",xe=V1;break;case"beforeblur":case"afterblur":xe=V1;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=tD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=Koe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=ole;break;case wD:case ND:case SD:xe=Yoe;break;case CD:xe=cle;break;case"scroll":case"scrollend":xe=Voe;break;case"wheel":xe=ule;break;case"copy":case"cut":case"paste":xe=Qoe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=rD;break;case"toggle":case"beforetoggle":xe=hle}var ot=(h&4)!==0,vn=!ot&&(d==="scroll"||d==="scrollend"),ce=ot?me!==null?me+"Capture":null:me;ot=[];for(var oe=fe,ue;oe!==null;){var Se=oe;if(ue=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||ue===null||ce===null||(Se=$m(oe,ce),Se!=null&&ot.push(gp(oe,Se,ue))),vn)break;oe=oe.return}0<ot.length&&(me=new xe(me,Ve,null,x,be),Te.push({event:me,listeners:ot}))}}if((h&7)===0){e:{if(me=d==="mouseover"||d==="pointerover",xe=d==="mouseout"||d==="pointerout",me&&x!==L1&&(Ve=x.relatedTarget||x.fromElement)&&(Oe(Ve)||Ve[Go]))break e;if((xe||me)&&(me=be.window===be?be:(me=be.ownerDocument)?me.defaultView||me.parentWindow:window,xe?(Ve=x.relatedTarget||x.toElement,xe=fe,Ve=Ve?Oe(Ve):null,Ve!==null&&(vn=i(Ve),ot=Ve.tag,Ve!==vn||ot!==5&&ot!==27&&ot!==6)&&(Ve=null)):(xe=null,Ve=fe),xe!==Ve)){if(ot=tD,Se="onMouseLeave",ce="onMouseEnter",oe="mouse",(d==="pointerout"||d==="pointerover")&&(ot=rD,Se="onPointerLeave",ce="onPointerEnter",oe="pointer"),vn=xe==null?me:nn(xe),ue=Ve==null?me:nn(Ve),me=new ot(Se,oe+"leave",xe,x,be),me.target=vn,me.relatedTarget=ue,Se=null,Oe(be)===fe&&(ot=new ot(ce,oe+"enter",Ve,x,be),ot.target=ue,ot.relatedTarget=vn,Se=ot),vn=Se,xe&&Ve)t:{for(ot=fce,ce=xe,oe=Ve,ue=0,Se=ce;Se;Se=ot(Se))ue++;Se=0;for(var Ze=oe;Ze;Ze=ot(Ze))Se++;for(;0<ue-Se;)ce=ot(ce),ue--;for(;0<Se-ue;)oe=ot(oe),Se--;for(;ue--;){if(ce===oe||oe!==null&&ce===oe.alternate){ot=ce;break t}ce=ot(ce),oe=ot(oe)}ot=null}else ot=null;xe!==null&&GL(Te,me,xe,ot,!1),Ve!==null&&vn!==null&&GL(Te,vn,Ve,ot,!0)}}e:{if(me=fe?nn(fe):window,xe=me.nodeName&&me.nodeName.toLowerCase(),xe==="select"||xe==="input"&&me.type==="file")var Xt=uD;else if(cD(me))if(fD)Xt=Nle;else{Xt=jle;var Ye=ble}else xe=me.nodeName,!xe||xe.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?fe&&I1(fe.elementType)&&(Xt=uD):Xt=wle;if(Xt&&(Xt=Xt(d,fe))){dD(Te,Xt,x,be);break e}Ye&&Ye(d,me,fe),d==="focusout"&&fe&&me.type==="number"&&fe.memoizedProps.value!=null&&D1(me,"number",me.value)}switch(Ye=fe?nn(fe):window,d){case"focusin":(cD(Ye)||Ye.contentEditable==="true")&&(Xu=Ye,X1=fe,Km=null);break;case"focusout":Km=X1=Xu=null;break;case"mousedown":Q1=!0;break;case"contextmenu":case"mouseup":case"dragend":Q1=!1,bD(Te,x,be);break;case"selectionchange":if(Cle)break;case"keydown":case"keyup":bD(Te,x,be)}var Tt;if(K1)e:{switch(d){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else Yu?oD(d,x)&&(Ft="onCompositionEnd"):d==="keydown"&&x.keyCode===229&&(Ft="onCompositionStart");Ft&&(sD&&x.locale!=="ko"&&(Yu||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&Yu&&(Tt=Z3()):(Jl=be,z1="value"in Jl?Jl.value:Jl.textContent,Yu=!0)),Ye=Mv(fe,Ft),0<Ye.length&&(Ft=new nD(Ft,d,null,x,be),Te.push({event:Ft,listeners:Ye}),Tt?Ft.data=Tt:(Tt=lD(x),Tt!==null&&(Ft.data=Tt)))),(Tt=ple?xle(d,x):gle(d,x))&&(Ft=Mv(fe,"onBeforeInput"),0<Ft.length&&(Ye=new nD("onBeforeInput","beforeinput",null,x,be),Te.push({event:Ye,listeners:Ft}),Ye.data=Tt)),lce(Te,d,fe,x,be)}KL(Te,h)})}function gp(d,h,x){return{instance:d,listener:h,currentTarget:x}}function Mv(d,h){for(var x=h+"Capture",b=[];d!==null;){var k=d,P=k.stateNode;if(k=k.tag,k!==5&&k!==26&&k!==27||P===null||(k=$m(d,x),k!=null&&b.unshift(gp(d,k,P)),k=$m(d,h),k!=null&&b.push(gp(d,k,P))),d.tag===3)return b;d=d.return}return[]}function fce(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function GL(d,h,x,b,k){for(var P=h._reactName,D=[];x!==null&&x!==b;){var W=x,re=W.alternate,fe=W.stateNode;if(W=W.tag,re!==null&&re===b)break;W!==5&&W!==26&&W!==27||fe===null||(re=fe,k?(fe=$m(x,P),fe!=null&&D.unshift(gp(x,fe,re))):k||(fe=$m(x,P),fe!=null&&D.push(gp(x,fe,re)))),x=x.return}D.length!==0&&d.push({event:h,listeners:D})}var hce=/\r\n?/g,mce=/\u0000|\uFFFD/g;function YL(d){return(typeof d=="string"?d:""+d).replace(hce,`
`).replace(mce,"")}function XL(d,h){return h=YL(h),YL(d)===h}function yn(d,h,x,b,k,P){switch(x){case"children":typeof b=="string"?h==="body"||h==="textarea"&&b===""||Ku(d,b):(typeof b=="number"||typeof b=="bigint")&&h!=="body"&&Ku(d,""+b);break;case"className":Iy(d,"class",b);break;case"tabIndex":Iy(d,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Iy(d,x,b);break;case"style":X3(d,b,P);break;case"data":if(h!=="object"){Iy(d,"data",b);break}case"src":case"href":if(b===""&&(h!=="a"||x!=="href")){d.removeAttribute(x);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){d.removeAttribute(x);break}b=$y(""+b),d.setAttribute(x,b);break;case"action":case"formAction":if(typeof b=="function"){d.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(x==="formAction"?(h!=="input"&&yn(d,h,"name",k.name,k,null),yn(d,h,"formEncType",k.formEncType,k,null),yn(d,h,"formMethod",k.formMethod,k,null),yn(d,h,"formTarget",k.formTarget,k,null)):(yn(d,h,"encType",k.encType,k,null),yn(d,h,"method",k.method,k,null),yn(d,h,"target",k.target,k,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){d.removeAttribute(x);break}b=$y(""+b),d.setAttribute(x,b);break;case"onClick":b!=null&&(d.onclick=Xo);break;case"onScroll":b!=null&&Lt("scroll",d);break;case"onScrollEnd":b!=null&&Lt("scrollend",d);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(x=b.__html,x!=null){if(k.children!=null)throw Error(r(60));d.innerHTML=x}}break;case"multiple":d.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":d.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){d.removeAttribute("xlink:href");break}x=$y(""+b),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?d.setAttribute(x,""+b):d.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?d.setAttribute(x,""):d.removeAttribute(x);break;case"capture":case"download":b===!0?d.setAttribute(x,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?d.setAttribute(x,b):d.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?d.setAttribute(x,b):d.removeAttribute(x);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?d.removeAttribute(x):d.setAttribute(x,b);break;case"popover":Lt("beforetoggle",d),Lt("toggle",d),Dy(d,"popover",b);break;case"xlinkActuate":Yo(d,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Yo(d,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Yo(d,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Yo(d,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Yo(d,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Yo(d,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Yo(d,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Yo(d,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Yo(d,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Dy(d,"is",b);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=qoe.get(x)||x,Dy(d,x,b))}}function w2(d,h,x,b,k,P){switch(x){case"style":X3(d,b,P);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(x=b.__html,x!=null){if(k.children!=null)throw Error(r(60));d.innerHTML=x}}break;case"children":typeof b=="string"?Ku(d,b):(typeof b=="number"||typeof b=="bigint")&&Ku(d,""+b);break;case"onScroll":b!=null&&Lt("scroll",d);break;case"onScrollEnd":b!=null&&Lt("scrollend",d);break;case"onClick":b!=null&&(d.onclick=Xo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ha.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(k=x.endsWith("Capture"),h=x.slice(2,k?x.length-7:void 0),P=d[Vn]||null,P=P!=null?P[x]:null,typeof P=="function"&&d.removeEventListener(h,P,k),typeof b=="function")){typeof P!="function"&&P!==null&&(x in d?d[x]=null:d.hasAttribute(x)&&d.removeAttribute(x)),d.addEventListener(h,b,k);break e}x in d?d[x]=b:b===!0?d.setAttribute(x,""):Dy(d,x,b)}}}function fs(d,h,x){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",d),Lt("load",d);var b=!1,k=!1,P;for(P in x)if(x.hasOwnProperty(P)){var D=x[P];if(D!=null)switch(P){case"src":b=!0;break;case"srcSet":k=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:yn(d,h,P,D,x,null)}}k&&yn(d,h,"srcSet",x.srcSet,x,null),b&&yn(d,h,"src",x.src,x,null);return;case"input":Lt("invalid",d);var W=P=D=k=null,re=null,fe=null;for(b in x)if(x.hasOwnProperty(b)){var be=x[b];if(be!=null)switch(b){case"name":k=be;break;case"type":D=be;break;case"checked":re=be;break;case"defaultChecked":fe=be;break;case"value":P=be;break;case"defaultValue":W=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,h));break;default:yn(d,h,b,be,x,null)}}K3(d,P,W,re,fe,D,k,!1);return;case"select":Lt("invalid",d),b=D=P=null;for(k in x)if(x.hasOwnProperty(k)&&(W=x[k],W!=null))switch(k){case"value":P=W;break;case"defaultValue":D=W;break;case"multiple":b=W;default:yn(d,h,k,W,x,null)}h=P,x=D,d.multiple=!!b,h!=null?Hu(d,!!b,h,!1):x!=null&&Hu(d,!!b,x,!0);return;case"textarea":Lt("invalid",d),P=k=b=null;for(D in x)if(x.hasOwnProperty(D)&&(W=x[D],W!=null))switch(D){case"value":b=W;break;case"defaultValue":k=W;break;case"children":P=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(91));break;default:yn(d,h,D,W,x,null)}G3(d,b,k,P);return;case"option":for(re in x)if(x.hasOwnProperty(re)&&(b=x[re],b!=null))switch(re){case"selected":d.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:yn(d,h,re,b,x,null)}return;case"dialog":Lt("beforetoggle",d),Lt("toggle",d),Lt("cancel",d),Lt("close",d);break;case"iframe":case"object":Lt("load",d);break;case"video":case"audio":for(b=0;b<xp.length;b++)Lt(xp[b],d);break;case"image":Lt("error",d),Lt("load",d);break;case"details":Lt("toggle",d);break;case"embed":case"source":case"link":Lt("error",d),Lt("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in x)if(x.hasOwnProperty(fe)&&(b=x[fe],b!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:yn(d,h,fe,b,x,null)}return;default:if(I1(h)){for(be in x)x.hasOwnProperty(be)&&(b=x[be],b!==void 0&&w2(d,h,be,b,x,void 0));return}}for(W in x)x.hasOwnProperty(W)&&(b=x[W],b!=null&&yn(d,h,W,b,x,null))}function pce(d,h,x,b){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var k=null,P=null,D=null,W=null,re=null,fe=null,be=null;for(xe in x){var Te=x[xe];if(x.hasOwnProperty(xe)&&Te!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":re=Te;default:b.hasOwnProperty(xe)||yn(d,h,xe,null,b,Te)}}for(var me in b){var xe=b[me];if(Te=x[me],b.hasOwnProperty(me)&&(xe!=null||Te!=null))switch(me){case"type":P=xe;break;case"name":k=xe;break;case"checked":fe=xe;break;case"defaultChecked":be=xe;break;case"value":D=xe;break;case"defaultValue":W=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,h));break;default:xe!==Te&&yn(d,h,me,xe,b,Te)}}R1(d,D,W,re,fe,be,P,k);return;case"select":xe=D=W=me=null;for(P in x)if(re=x[P],x.hasOwnProperty(P)&&re!=null)switch(P){case"value":break;case"multiple":xe=re;default:b.hasOwnProperty(P)||yn(d,h,P,null,b,re)}for(k in b)if(P=b[k],re=x[k],b.hasOwnProperty(k)&&(P!=null||re!=null))switch(k){case"value":me=P;break;case"defaultValue":W=P;break;case"multiple":D=P;default:P!==re&&yn(d,h,k,P,b,re)}h=W,x=D,b=xe,me!=null?Hu(d,!!x,me,!1):!!b!=!!x&&(h!=null?Hu(d,!!x,h,!0):Hu(d,!!x,x?[]:"",!1));return;case"textarea":xe=me=null;for(W in x)if(k=x[W],x.hasOwnProperty(W)&&k!=null&&!b.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:yn(d,h,W,null,b,k)}for(D in b)if(k=b[D],P=x[D],b.hasOwnProperty(D)&&(k!=null||P!=null))switch(D){case"value":me=k;break;case"defaultValue":xe=k;break;case"children":break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:k!==P&&yn(d,h,D,k,b,P)}W3(d,me,xe);return;case"option":for(var Ve in x)if(me=x[Ve],x.hasOwnProperty(Ve)&&me!=null&&!b.hasOwnProperty(Ve))switch(Ve){case"selected":d.selected=!1;break;default:yn(d,h,Ve,null,b,me)}for(re in b)if(me=b[re],xe=x[re],b.hasOwnProperty(re)&&me!==xe&&(me!=null||xe!=null))switch(re){case"selected":d.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:yn(d,h,re,me,b,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in x)me=x[ot],x.hasOwnProperty(ot)&&me!=null&&!b.hasOwnProperty(ot)&&yn(d,h,ot,null,b,me);for(fe in b)if(me=b[fe],xe=x[fe],b.hasOwnProperty(fe)&&me!==xe&&(me!=null||xe!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,h));break;default:yn(d,h,fe,me,b,xe)}return;default:if(I1(h)){for(var vn in x)me=x[vn],x.hasOwnProperty(vn)&&me!==void 0&&!b.hasOwnProperty(vn)&&w2(d,h,vn,void 0,b,me);for(be in b)me=b[be],xe=x[be],!b.hasOwnProperty(be)||me===xe||me===void 0&&xe===void 0||w2(d,h,be,me,b,xe);return}}for(var ce in x)me=x[ce],x.hasOwnProperty(ce)&&me!=null&&!b.hasOwnProperty(ce)&&yn(d,h,ce,null,b,me);for(Te in b)me=b[Te],xe=x[Te],!b.hasOwnProperty(Te)||me===xe||me==null&&xe==null||yn(d,h,Te,me,b,xe)}function QL(d){switch(d){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xce(){if(typeof performance.getEntriesByType=="function"){for(var d=0,h=0,x=performance.getEntriesByType("resource"),b=0;b<x.length;b++){var k=x[b],P=k.transferSize,D=k.initiatorType,W=k.duration;if(P&&W&&QL(D)){for(D=0,W=k.responseEnd,b+=1;b<x.length;b++){var re=x[b],fe=re.startTime;if(fe>W)break;var be=re.transferSize,Te=re.initiatorType;be&&QL(Te)&&(re=re.responseEnd,D+=be*(re<W?1:(W-fe)/(re-fe)))}if(--b,h+=8*(P+D)/(k.duration/1e3),d++,10<d)break}}if(0<d)return h/d/1e6}return navigator.connection&&(d=navigator.connection.downlink,typeof d=="number")?d:5}var N2=null,S2=null;function _v(d){return d.nodeType===9?d:d.ownerDocument}function JL(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ZL(d,h){if(d===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&h==="foreignObject"?0:d}function C2(d,h){return d==="textarea"||d==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var k2=null;function gce(){var d=window.event;return d&&d.type==="popstate"?d===k2?!1:(k2=d,!0):(k2=null,!1)}var e$=typeof setTimeout=="function"?setTimeout:void 0,yce=typeof clearTimeout=="function"?clearTimeout:void 0,t$=typeof Promise=="function"?Promise:void 0,vce=typeof queueMicrotask=="function"?queueMicrotask:typeof t$<"u"?function(d){return t$.resolve(null).then(d).catch(bce)}:e$;function bce(d){setTimeout(function(){throw d})}function pc(d){return d==="head"}function n$(d,h){var x=h,b=0;do{var k=x.nextSibling;if(d.removeChild(x),k&&k.nodeType===8)if(x=k.data,x==="/$"||x==="/&"){if(b===0){d.removeChild(k),Sf(h);return}b--}else if(x==="$"||x==="$?"||x==="$~"||x==="$!"||x==="&")b++;else if(x==="html")yp(d.ownerDocument.documentElement);else if(x==="head"){x=d.ownerDocument.head,yp(x);for(var P=x.firstChild;P;){var D=P.nextSibling,W=P.nodeName;P[Ge]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&P.rel.toLowerCase()==="stylesheet"||x.removeChild(P),P=D}}else x==="body"&&yp(d.ownerDocument.body);x=k}while(x);Sf(h)}function r$(d,h){var x=d;d=0;do{var b=x.nextSibling;if(x.nodeType===1?h?(x._stashedDisplay=x.style.display,x.style.display="none"):(x.style.display=x._stashedDisplay||"",x.getAttribute("style")===""&&x.removeAttribute("style")):x.nodeType===3&&(h?(x._stashedText=x.nodeValue,x.nodeValue=""):x.nodeValue=x._stashedText||""),b&&b.nodeType===8)if(x=b.data,x==="/$"){if(d===0)break;d--}else x!=="$"&&x!=="$?"&&x!=="$~"&&x!=="$!"||d++;x=b}while(x)}function T2(d){var h=d.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var x=h;switch(h=h.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":T2(x),ie(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}d.removeChild(x)}}function jce(d,h,x,b){for(;d.nodeType===1;){var k=x;if(d.nodeName.toLowerCase()!==h.toLowerCase()){if(!b&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(b){if(!d[Ge])switch(h){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(P=d.getAttribute("rel"),P==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(P!==k.rel||d.getAttribute("href")!==(k.href==null||k.href===""?null:k.href)||d.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin)||d.getAttribute("title")!==(k.title==null?null:k.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(P=d.getAttribute("src"),(P!==(k.src==null?null:k.src)||d.getAttribute("type")!==(k.type==null?null:k.type)||d.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin))&&P&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(h==="input"&&d.type==="hidden"){var P=k.name==null?null:""+k.name;if(k.type==="hidden"&&d.getAttribute("name")===P)return d}else return d;if(d=ei(d.nextSibling),d===null)break}return null}function wce(d,h,x){if(h==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!x||(d=ei(d.nextSibling),d===null))return null;return d}function s$(d,h){for(;d.nodeType!==8;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!h||(d=ei(d.nextSibling),d===null))return null;return d}function A2(d){return d.data==="$?"||d.data==="$~"}function E2(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState!=="loading"}function Nce(d,h){var x=d.ownerDocument;if(d.data==="$~")d._reactRetry=h;else if(d.data!=="$?"||x.readyState!=="loading")h();else{var b=function(){h(),x.removeEventListener("DOMContentLoaded",b)};x.addEventListener("DOMContentLoaded",b),d._reactRetry=b}}function ei(d){for(;d!=null;d=d.nextSibling){var h=d.nodeType;if(h===1||h===3)break;if(h===8){if(h=d.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return d}var O2=null;function a$(d){d=d.nextSibling;for(var h=0;d;){if(d.nodeType===8){var x=d.data;if(x==="/$"||x==="/&"){if(h===0)return ei(d.nextSibling);h--}else x!=="$"&&x!=="$!"&&x!=="$?"&&x!=="$~"&&x!=="&"||h++}d=d.nextSibling}return null}function i$(d){d=d.previousSibling;for(var h=0;d;){if(d.nodeType===8){var x=d.data;if(x==="$"||x==="$!"||x==="$?"||x==="$~"||x==="&"){if(h===0)return d;h--}else x!=="/$"&&x!=="/&"||h++}d=d.previousSibling}return null}function o$(d,h,x){switch(h=_v(x),d){case"html":if(d=h.documentElement,!d)throw Error(r(452));return d;case"head":if(d=h.head,!d)throw Error(r(453));return d;case"body":if(d=h.body,!d)throw Error(r(454));return d;default:throw Error(r(451))}}function yp(d){for(var h=d.attributes;h.length;)d.removeAttributeNode(h[0]);ie(d)}var ti=new Map,l$=new Set;function Rv(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var fl=B.d;B.d={f:Sce,r:Cce,D:kce,C:Tce,L:Ace,m:Ece,X:Pce,S:Oce,M:Mce};function Sce(){var d=fl.f(),h=Cv();return d||h}function Cce(d){var h=qe(d);h!==null&&h.tag===5&&h.type==="form"?CI(h):fl.r(d)}var jf=typeof document>"u"?null:document;function c$(d,h,x){var b=jf;if(b&&typeof h=="string"&&h){var k=Wa(h);k='link[rel="'+d+'"][href="'+k+'"]',typeof x=="string"&&(k+='[crossorigin="'+x+'"]'),l$.has(k)||(l$.add(k),d={rel:d,crossOrigin:x,href:h},b.querySelector(k)===null&&(h=b.createElement("link"),fs(h,"link",d),Ot(h),b.head.appendChild(h)))}}function kce(d){fl.D(d),c$("dns-prefetch",d,null)}function Tce(d,h){fl.C(d,h),c$("preconnect",d,h)}function Ace(d,h,x){fl.L(d,h,x);var b=jf;if(b&&d&&h){var k='link[rel="preload"][as="'+Wa(h)+'"]';h==="image"&&x&&x.imageSrcSet?(k+='[imagesrcset="'+Wa(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(k+='[imagesizes="'+Wa(x.imageSizes)+'"]')):k+='[href="'+Wa(d)+'"]';var P=k;switch(h){case"style":P=wf(d);break;case"script":P=Nf(d)}ti.has(P)||(d=m({rel:"preload",href:h==="image"&&x&&x.imageSrcSet?void 0:d,as:h},x),ti.set(P,d),b.querySelector(k)!==null||h==="style"&&b.querySelector(vp(P))||h==="script"&&b.querySelector(bp(P))||(h=b.createElement("link"),fs(h,"link",d),Ot(h),b.head.appendChild(h)))}}function Ece(d,h){fl.m(d,h);var x=jf;if(x&&d){var b=h&&typeof h.as=="string"?h.as:"script",k='link[rel="modulepreload"][as="'+Wa(b)+'"][href="'+Wa(d)+'"]',P=k;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=Nf(d)}if(!ti.has(P)&&(d=m({rel:"modulepreload",href:d},h),ti.set(P,d),x.querySelector(k)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(bp(P)))return}b=x.createElement("link"),fs(b,"link",d),Ot(b),x.head.appendChild(b)}}}function Oce(d,h,x){fl.S(d,h,x);var b=jf;if(b&&d){var k=Zn(b).hoistableStyles,P=wf(d);h=h||"default";var D=k.get(P);if(!D){var W={loading:0,preload:null};if(D=b.querySelector(vp(P)))W.loading=5;else{d=m({rel:"stylesheet",href:d,"data-precedence":h},x),(x=ti.get(P))&&P2(d,x);var re=D=b.createElement("link");Ot(re),fs(re,"link",d),re._p=new Promise(function(fe,be){re.onload=fe,re.onerror=be}),re.addEventListener("load",function(){W.loading|=1}),re.addEventListener("error",function(){W.loading|=2}),W.loading|=4,Dv(D,h,b)}D={type:"stylesheet",instance:D,count:1,state:W},k.set(P,D)}}}function Pce(d,h){fl.X(d,h);var x=jf;if(x&&d){var b=Zn(x).hoistableScripts,k=Nf(d),P=b.get(k);P||(P=x.querySelector(bp(k)),P||(d=m({src:d,async:!0},h),(h=ti.get(k))&&M2(d,h),P=x.createElement("script"),Ot(P),fs(P,"link",d),x.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},b.set(k,P))}}function Mce(d,h){fl.M(d,h);var x=jf;if(x&&d){var b=Zn(x).hoistableScripts,k=Nf(d),P=b.get(k);P||(P=x.querySelector(bp(k)),P||(d=m({src:d,async:!0,type:"module"},h),(h=ti.get(k))&&M2(d,h),P=x.createElement("script"),Ot(P),fs(P,"link",d),x.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},b.set(k,P))}}function d$(d,h,x,b){var k=(k=de.current)?Rv(k):null;if(!k)throw Error(r(446));switch(d){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(h=wf(x.href),x=Zn(k).hoistableStyles,b=x.get(h),b||(b={type:"style",instance:null,count:0,state:null},x.set(h,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){d=wf(x.href);var P=Zn(k).hoistableStyles,D=P.get(d);if(D||(k=k.ownerDocument||k,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(d,D),(P=k.querySelector(vp(d)))&&!P._p&&(D.instance=P,D.state.loading=5),ti.has(d)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},ti.set(d,x),P||_ce(k,d,x,D.state))),h&&b===null)throw Error(r(528,""));return D}if(h&&b!==null)throw Error(r(529,""));return null;case"script":return h=x.async,x=x.src,typeof x=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Nf(x),x=Zn(k).hoistableScripts,b=x.get(h),b||(b={type:"script",instance:null,count:0,state:null},x.set(h,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,d))}}function wf(d){return'href="'+Wa(d)+'"'}function vp(d){return'link[rel="stylesheet"]['+d+"]"}function u$(d){return m({},d,{"data-precedence":d.precedence,precedence:null})}function _ce(d,h,x,b){d.querySelector('link[rel="preload"][as="style"]['+h+"]")?b.loading=1:(h=d.createElement("link"),b.preload=h,h.addEventListener("load",function(){return b.loading|=1}),h.addEventListener("error",function(){return b.loading|=2}),fs(h,"link",x),Ot(h),d.head.appendChild(h))}function Nf(d){return'[src="'+Wa(d)+'"]'}function bp(d){return"script[async]"+d}function f$(d,h,x){if(h.count++,h.instance===null)switch(h.type){case"style":var b=d.querySelector('style[data-href~="'+Wa(x.href)+'"]');if(b)return h.instance=b,Ot(b),b;var k=m({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return b=(d.ownerDocument||d).createElement("style"),Ot(b),fs(b,"style",k),Dv(b,x.precedence,d),h.instance=b;case"stylesheet":k=wf(x.href);var P=d.querySelector(vp(k));if(P)return h.state.loading|=4,h.instance=P,Ot(P),P;b=u$(x),(k=ti.get(k))&&P2(b,k),P=(d.ownerDocument||d).createElement("link"),Ot(P);var D=P;return D._p=new Promise(function(W,re){D.onload=W,D.onerror=re}),fs(P,"link",b),h.state.loading|=4,Dv(P,x.precedence,d),h.instance=P;case"script":return P=Nf(x.src),(k=d.querySelector(bp(P)))?(h.instance=k,Ot(k),k):(b=x,(k=ti.get(P))&&(b=m({},x),M2(b,k)),d=d.ownerDocument||d,k=d.createElement("script"),Ot(k),fs(k,"link",b),d.head.appendChild(k),h.instance=k);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(b=h.instance,h.state.loading|=4,Dv(b,x.precedence,d));return h.instance}function Dv(d,h,x){for(var b=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),k=b.length?b[b.length-1]:null,P=k,D=0;D<b.length;D++){var W=b[D];if(W.dataset.precedence===h)P=W;else if(P!==k)break}P?P.parentNode.insertBefore(d,P.nextSibling):(h=x.nodeType===9?x.head:x,h.insertBefore(d,h.firstChild))}function P2(d,h){d.crossOrigin==null&&(d.crossOrigin=h.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=h.referrerPolicy),d.title==null&&(d.title=h.title)}function M2(d,h){d.crossOrigin==null&&(d.crossOrigin=h.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=h.referrerPolicy),d.integrity==null&&(d.integrity=h.integrity)}var Iv=null;function h$(d,h,x){if(Iv===null){var b=new Map,k=Iv=new Map;k.set(x,b)}else k=Iv,b=k.get(x),b||(b=new Map,k.set(x,b));if(b.has(d))return b;for(b.set(d,null),x=x.getElementsByTagName(d),k=0;k<x.length;k++){var P=x[k];if(!(P[Ge]||P[wr]||d==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var D=P.getAttribute(h)||"";D=d+D;var W=b.get(D);W?W.push(P):b.set(D,[P])}}return b}function m$(d,h,x){d=d.ownerDocument||d,d.head.insertBefore(x,h==="title"?d.querySelector("head > title"):null)}function Rce(d,h,x){if(x===1||h.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return d=h.disabled,typeof h.precedence=="string"&&d==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function p$(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}function Dce(d,h,x,b){if(x.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(x.state.loading&4)===0){if(x.instance===null){var k=wf(b.href),P=h.querySelector(vp(k));if(P){h=P._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(d.count++,d=Lv.bind(d),h.then(d,d)),x.state.loading|=4,x.instance=P,Ot(P);return}P=h.ownerDocument||h,b=u$(b),(k=ti.get(k))&&P2(b,k),P=P.createElement("link"),Ot(P);var D=P;D._p=new Promise(function(W,re){D.onload=W,D.onerror=re}),fs(P,"link",b),x.instance=P}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(x,h),(h=x.state.preload)&&(x.state.loading&3)===0&&(d.count++,x=Lv.bind(d),h.addEventListener("load",x),h.addEventListener("error",x))}}var _2=0;function Ice(d,h){return d.stylesheets&&d.count===0&&Fv(d,d.stylesheets),0<d.count||0<d.imgCount?function(x){var b=setTimeout(function(){if(d.stylesheets&&Fv(d,d.stylesheets),d.unsuspend){var P=d.unsuspend;d.unsuspend=null,P()}},6e4+h);0<d.imgBytes&&_2===0&&(_2=62500*xce());var k=setTimeout(function(){if(d.waitingForImages=!1,d.count===0&&(d.stylesheets&&Fv(d,d.stylesheets),d.unsuspend)){var P=d.unsuspend;d.unsuspend=null,P()}},(d.imgBytes>_2?50:800)+h);return d.unsuspend=x,function(){d.unsuspend=null,clearTimeout(b),clearTimeout(k)}}:null}function Lv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fv(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var $v=null;function Fv(d,h){d.stylesheets=null,d.unsuspend!==null&&(d.count++,$v=new Map,h.forEach(Lce,d),$v=null,Lv.call(d))}function Lce(d,h){if(!(h.state.loading&4)){var x=$v.get(d);if(x)var b=x.get(null);else{x=new Map,$v.set(d,x);for(var k=d.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<k.length;P++){var D=k[P];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(x.set(D.dataset.precedence,D),b=D)}b&&x.set(null,b)}k=h.instance,D=k.getAttribute("data-precedence"),P=x.get(D)||b,P===b&&x.set(null,k),x.set(D,k),this.count++,b=Lv.bind(this),k.addEventListener("load",b),k.addEventListener("error",b),P?P.parentNode.insertBefore(k,P.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(k,d.firstChild)),h.state.loading|=4}}var jp={$$typeof:T,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function $ce(d,h,x,b,k,P,D,W,re){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Om(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Om(0),this.hiddenUpdates=Om(null),this.identifierPrefix=b,this.onUncaughtError=k,this.onCaughtError=P,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=re,this.incompleteTransitions=new Map}function x$(d,h,x,b,k,P,D,W,re,fe,be,Te){return d=new $ce(d,h,x,D,re,fe,be,Te,W),h=1,P===!0&&(h|=24),P=va(3,null,null,h),d.current=P,P.stateNode=d,h=fS(),h.refCount++,d.pooledCache=h,h.refCount++,P.memoizedState={element:b,isDehydrated:x,cache:h},xS(P),d}function g$(d){return d?(d=Zu,d):Zu}function y$(d,h,x,b,k,P){k=g$(k),b.context===null?b.context=k:b.pendingContext=k,b=sc(h),b.payload={element:x},P=P===void 0?null:P,P!==null&&(b.callback=P),x=ac(d,b,h),x!==null&&(oa(x,d,h),Zm(x,d,h))}function v$(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var x=d.retryLane;d.retryLane=x!==0&&x<h?x:h}}function R2(d,h){v$(d,h),(d=d.alternate)&&v$(d,h)}function b$(d){if(d.tag===13||d.tag===31){var h=pd(d,67108864);h!==null&&oa(h,d,67108864),R2(d,67108864)}}function j$(d){if(d.tag===13||d.tag===31){var h=Sa();h=ea(h);var x=pd(d,h);x!==null&&oa(x,d,h),R2(d,h)}}var Bv=!0;function Fce(d,h,x,b){var k=R.T;R.T=null;var P=B.p;try{B.p=2,D2(d,h,x,b)}finally{B.p=P,R.T=k}}function Bce(d,h,x,b){var k=R.T;R.T=null;var P=B.p;try{B.p=8,D2(d,h,x,b)}finally{B.p=P,R.T=k}}function D2(d,h,x,b){if(Bv){var k=I2(b);if(k===null)j2(d,h,b,zv,x),N$(d,b);else if(qce(k,d,h,x,b))b.stopPropagation();else if(N$(d,b),h&4&&-1<zce.indexOf(d)){for(;k!==null;){var P=qe(k);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var D=Rs(P.pendingLanes);if(D!==0){var W=P;for(W.pendingLanes|=2,W.entangledLanes|=2;D;){var re=1<<31-Q(D);W.entanglements[1]|=re,D&=~re}xo(P),(tn&6)===0&&(Nv=Vt()+500,pp(0))}}break;case 31:case 13:W=pd(P,2),W!==null&&oa(W,P,2),Cv(),R2(P,2)}if(P=I2(b),P===null&&j2(d,h,b,zv,x),P===k)break;k=P}k!==null&&b.stopPropagation()}else j2(d,h,b,null,x)}}function I2(d){return d=$1(d),L2(d)}var zv=null;function L2(d){if(zv=null,d=Oe(d),d!==null){var h=i(d);if(h===null)d=null;else{var x=h.tag;if(x===13){if(d=o(h),d!==null)return d;d=null}else if(x===31){if(d=l(h),d!==null)return d;d=null}else if(x===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;d=null}else h!==d&&(d=null)}}return zv=d,null}function w$(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_n()){case zn:return 2;case Rn:return 8;case _s:case Ai:return 32;case Ei:return 268435456;default:return 32}default:return 32}}var $2=!1,xc=null,gc=null,yc=null,wp=new Map,Np=new Map,vc=[],zce="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N$(d,h){switch(d){case"focusin":case"focusout":xc=null;break;case"dragenter":case"dragleave":gc=null;break;case"mouseover":case"mouseout":yc=null;break;case"pointerover":case"pointerout":wp.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Np.delete(h.pointerId)}}function Sp(d,h,x,b,k,P){return d===null||d.nativeEvent!==P?(d={blockedOn:h,domEventName:x,eventSystemFlags:b,nativeEvent:P,targetContainers:[k]},h!==null&&(h=qe(h),h!==null&&b$(h)),d):(d.eventSystemFlags|=b,h=d.targetContainers,k!==null&&h.indexOf(k)===-1&&h.push(k),d)}function qce(d,h,x,b,k){switch(h){case"focusin":return xc=Sp(xc,d,h,x,b,k),!0;case"dragenter":return gc=Sp(gc,d,h,x,b,k),!0;case"mouseover":return yc=Sp(yc,d,h,x,b,k),!0;case"pointerover":var P=k.pointerId;return wp.set(P,Sp(wp.get(P)||null,d,h,x,b,k)),!0;case"gotpointercapture":return P=k.pointerId,Np.set(P,Sp(Np.get(P)||null,d,h,x,b,k)),!0}return!1}function S$(d){var h=Oe(d.target);if(h!==null){var x=i(h);if(x!==null){if(h=x.tag,h===13){if(h=o(x),h!==null){d.blockedOn=h,Dm(d.priority,function(){j$(x)});return}}else if(h===31){if(h=l(x),h!==null){d.blockedOn=h,Dm(d.priority,function(){j$(x)});return}}else if(h===3&&x.stateNode.current.memoizedState.isDehydrated){d.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}d.blockedOn=null}function qv(d){if(d.blockedOn!==null)return!1;for(var h=d.targetContainers;0<h.length;){var x=I2(d.nativeEvent);if(x===null){x=d.nativeEvent;var b=new x.constructor(x.type,x);L1=b,x.target.dispatchEvent(b),L1=null}else return h=qe(x),h!==null&&b$(h),d.blockedOn=x,!1;h.shift()}return!0}function C$(d,h,x){qv(d)&&x.delete(h)}function Uce(){$2=!1,xc!==null&&qv(xc)&&(xc=null),gc!==null&&qv(gc)&&(gc=null),yc!==null&&qv(yc)&&(yc=null),wp.forEach(C$),Np.forEach(C$)}function Uv(d,h){d.blockedOn===h&&(d.blockedOn=null,$2||($2=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Uce)))}var Vv=null;function k$(d){Vv!==d&&(Vv=d,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Vv===d&&(Vv=null);for(var h=0;h<d.length;h+=3){var x=d[h],b=d[h+1],k=d[h+2];if(typeof b!="function"){if(L2(b||x)===null)continue;break}var P=qe(x);P!==null&&(d.splice(h,3),h-=3,IS(P,{pending:!0,data:k,method:x.method,action:b},b,k))}}))}function Sf(d){function h(re){return Uv(re,d)}xc!==null&&Uv(xc,d),gc!==null&&Uv(gc,d),yc!==null&&Uv(yc,d),wp.forEach(h),Np.forEach(h);for(var x=0;x<vc.length;x++){var b=vc[x];b.blockedOn===d&&(b.blockedOn=null)}for(;0<vc.length&&(x=vc[0],x.blockedOn===null);)S$(x),x.blockedOn===null&&vc.shift();if(x=(d.ownerDocument||d).$$reactFormReplay,x!=null)for(b=0;b<x.length;b+=3){var k=x[b],P=x[b+1],D=k[Vn]||null;if(typeof P=="function")D||k$(x);else if(D){var W=null;if(P&&P.hasAttribute("formAction")){if(k=P,D=P[Vn]||null)W=D.formAction;else if(L2(k)!==null)continue}else W=D.action;typeof W=="function"?x[b+1]=W:(x.splice(b,3),b-=3),k$(x)}}}function T$(){function d(P){P.canIntercept&&P.info==="react-transition"&&P.intercept({handler:function(){return new Promise(function(D){return k=D})},focusReset:"manual",scroll:"manual"})}function h(){k!==null&&(k(),k=null),b||setTimeout(x,20)}function x(){if(!b&&!navigation.transition){var P=navigation.currentEntry;P&&P.url!=null&&navigation.navigate(P.url,{state:P.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,k=null;return navigation.addEventListener("navigate",d),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(x,100),function(){b=!0,navigation.removeEventListener("navigate",d),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),k!==null&&(k(),k=null)}}}function F2(d){this._internalRoot=d}Hv.prototype.render=F2.prototype.render=function(d){var h=this._internalRoot;if(h===null)throw Error(r(409));var x=h.current,b=Sa();y$(x,b,d,h,null,null)},Hv.prototype.unmount=F2.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var h=d.containerInfo;y$(d.current,2,null,d,null,null),Cv(),h[Go]=null}};function Hv(d){this._internalRoot=d}Hv.prototype.unstable_scheduleHydration=function(d){if(d){var h=Rm();d={blockedOn:null,target:d,priority:h};for(var x=0;x<vc.length&&h!==0&&h<vc[x].priority;x++);vc.splice(x,0,d),x===0&&S$(d)}};var A$=t.version;if(A$!=="19.2.0")throw Error(r(527,A$,"19.2.0"));B.findDOMNode=function(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=u(h),d=d!==null?f(d):null,d=d===null?null:d.stateNode,d};var Vce={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kv.isDisabled&&Kv.supportsFiber)try{rr=Kv.inject(Vce),Tn=Kv}catch{}}return kp.createRoot=function(d,h){if(!a(d))throw Error(r(299));var x=!1,b="",k=DI,P=II,D=LI;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onUncaughtError!==void 0&&(k=h.onUncaughtError),h.onCaughtError!==void 0&&(P=h.onCaughtError),h.onRecoverableError!==void 0&&(D=h.onRecoverableError)),h=x$(d,1,!1,null,null,x,b,null,k,P,D,T$),d[Go]=h.current,b2(d),new F2(h)},kp.hydrateRoot=function(d,h,x){if(!a(d))throw Error(r(299));var b=!1,k="",P=DI,D=II,W=LI,re=null;return x!=null&&(x.unstable_strictMode===!0&&(b=!0),x.identifierPrefix!==void 0&&(k=x.identifierPrefix),x.onUncaughtError!==void 0&&(P=x.onUncaughtError),x.onCaughtError!==void 0&&(D=x.onCaughtError),x.onRecoverableError!==void 0&&(W=x.onRecoverableError),x.formState!==void 0&&(re=x.formState)),h=x$(d,1,!0,h,x??null,b,k,re,P,D,W,T$),h.context=g$(null),x=h.current,b=Sa(),b=ea(b),k=sc(b),k.callback=null,ac(x,k,b),x=b,h.current.lanes=x,Ql(h,x),xo(h),d[Go]=h.current,b2(d),new Hv(h)},kp.version="19.2.0",kp}var $$;function ede(){if($$)return z2.exports;$$=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),z2.exports=Zce(),z2.exports}var tde=ede();function nde(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)n=a[0],n==="*"?(o.push(n),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~r?r:~i?i:a.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var j=Kg();const Z=on(j),pa=Kce({__proto__:null,default:Z},[j]);var K2={exports:{}},W2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F$;function rde(){if(F$)return W2;F$=1;var e=Kg();function t(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(m,p){var g=p(),v=r({inst:{value:g,getSnapshot:p}}),y=v[0].inst,w=v[1];return i(function(){y.value=g,y.getSnapshot=p,c(y)&&w({inst:y})},[m,g,p]),a(function(){return c(y)&&w({inst:y}),m(function(){c(y)&&w({inst:y})})},[m]),o(g),g}function c(m){var p=m.getSnapshot;m=m.value;try{var g=p();return!n(m,g)}catch{return!0}}function u(m,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return W2.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,W2}var B$;function $K(){return B$||(B$=1,K2.exports=rde()),K2.exports}var Fw=$K();const sde=pa.useInsertionEffect,ade=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ide=ade?j.useLayoutEffect:j.useEffect,ode=sde||ide,FK=e=>{const t=j.useRef([e,(...n)=>t[0](...n)]).current;return ode(()=>{t[0]=e}),t[1]},lde="popstate",IM="pushState",LM="replaceState",cde="hashchange",z$=[lde,IM,LM,cde],dde=e=>{for(const t of z$)addEventListener(t,e);return()=>{for(const t of z$)removeEventListener(t,e)}},BK=(e,t)=>Fw.useSyncExternalStore(dde,e,t),ude=()=>location.search,fde=({ssrSearch:e=""}={})=>BK(ude,()=>e),q$=()=>location.pathname,hde=({ssrPath:e}={})=>BK(q$,e?()=>e:q$),mde=(e,{replace:t=!1,state:n=null}={})=>history[t?LM:IM](n,"",e),pde=(e={})=>[hde(e),mde],U$=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[U$]>"u"){for(const e of[IM,LM]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,U$,{value:!0})}const xde=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",zK=(e="")=>e==="/"?"":e,gde=(e,t)=>e[0]==="~"?e.slice(1):zK(t)+e,yde=(e="",t)=>xde(V$(zK(e)),V$(t)),V$=e=>{try{return decodeURI(e)}catch{return e}},qK={hook:pde,searchHook:fde,parser:nde,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},UK=j.createContext(qK),rm=()=>j.useContext(UK),VK={},HK=j.createContext(VK),$M=()=>j.useContext(HK),Bw=e=>{const[t,n]=e.hook(e);return[yde(e.base,t),FK((r,a)=>n(gde(r,e.base),a))]},hr=()=>Bw(rm()),FM=(e,t,n,r)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=a.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((m,p)=>[m,c[p]])):o.groups;let f={...c};return u&&Object.assign(f,u),f})(),...r?[l]:[]]:[!1,null]},an=e=>FM(rm().parser,e,hr()[0]),vde=({children:e,...t})=>{const n=rm(),r=t.hook?qK:n;let a=r;const[i,o]=t.ssrPath?.split("?")??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??t.hook?.hrefs;let l=j.useRef({}),c=l.current,u=c;for(let f in r){const m=f==="base"?r[f]+(t[f]||""):t[f]||r[f];c===u&&m!==u[f]&&(l.current=u={...u}),u[f]=m,m!==r[f]&&(a=u)}return j.createElement(UK.Provider,{value:a,children:e})},H$=({children:e,component:t},n)=>t?j.createElement(t,{params:n}):typeof e=="function"?e(n):e,bde=e=>{let t=j.useRef(VK),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Is=({path:e,nest:t,match:n,...r})=>{const a=rm(),[i]=Bw(a),[o,l,c]=n??FM(a.parser,e,i,t),u=bde({...$M(),...l});if(!o)return null;const f=c?j.createElement(vde,{base:c},H$(r,u)):H$(r,u);return j.createElement(HK.Provider,{value:u,children:f})},Mt=j.forwardRef((e,t)=>{const n=rm(),[r,a]=Bw(n),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:f,replace:m,state:p,...g}=e,v=FK(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(l?.(w),w.defaultPrevented||(w.preventDefault(),a(o,e)))}),y=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&j.isValidElement(u)?j.cloneElement(u,{onClick:v,href:y}):j.createElement("a",{...g,onClick:v,href:y,className:f?.call?f(r===o):f,children:u,ref:t})}),KK=e=>Array.isArray(e)?e.flatMap(t=>KK(t&&t.type===j.Fragment?t.props.children:t)):[e],jde=({children:e,location:t})=>{const n=rm(),[r]=Bw(n);for(const a of KK(e)){let i=0;if(j.isValidElement(a)&&(i=FM(n.parser,a.props.path,t||r,a.props.nest))[0])return j.cloneElement(a,{match:i})}return null};var sm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lu=typeof window>"u"||"Deno"in globalThis;function di(){}function wde(e,t){return typeof e=="function"?e(t):e}function NO(e){return typeof e=="number"&&e>=0&&e!==1/0}function WK(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zf(e,t){return typeof e=="function"?e(t):e}function Bi(e,t){return typeof e=="function"?e(t):e}function K$(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==BM(o,t.options))return!1}else if(!Fx(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function W$(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(cu(t.options.mutationKey)!==cu(i))return!1}else if(!Fx(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function BM(e,t){return(t?.queryKeyHashFn||cu)(e)}function cu(e){return JSON.stringify(e,(t,n)=>SO(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Fx(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Fx(e[n],t[n])):!1}function GK(e,t){if(e===t)return e;const n=G$(e)&&G$(t);if(n||SO(e)&&SO(t)){const r=n?e:Object.keys(e),a=r.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{};let c=0;for(let u=0;u<o;u++){const f=n?u:i[u];(!n&&r.includes(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,c++):(l[f]=GK(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function m0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function G$(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function SO(e){if(!Y$(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Y$(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Y$(e){return Object.prototype.toString.call(e)==="[object Object]"}function Nde(e){return new Promise(t=>{setTimeout(t,e)})}function CO(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?GK(e,t):t}function Sde(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Cde(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var zM=Symbol();function YK(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===zM?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var kde=class extends sm{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!lu&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},qM=new kde,Tde=class extends sm{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!lu&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},p0=new Tde;function kO(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function Ade(e){return Math.min(1e3*2**e,3e4)}function XK(e){return(e??"online")==="online"?p0.isOnline():!0}var QK=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function G2(e){return e instanceof QK}function JK(e){let t=!1,n=0,r=!1,a;const i=kO(),o=y=>{r||(p(new QK(y)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},u=()=>qM.isFocused()&&(e.networkMode==="always"||p0.isOnline())&&e.canRun(),f=()=>XK(e.networkMode)&&e.canRun(),m=y=>{r||(r=!0,e.onSuccess?.(y),a?.(),i.resolve(y))},p=y=>{r||(r=!0,e.onError?.(y),a?.(),i.reject(y))},g=()=>new Promise(y=>{a=w=>{(r||u())&&y(w)},e.onPause?.()}).then(()=>{a=void 0,r||e.onContinue?.()}),v=()=>{if(r)return;let y;const w=n===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(N){y=Promise.reject(N)}Promise.resolve(y).then(m).catch(N=>{if(r)return;const A=e.retry??(lu?0:3),T=e.retryDelay??Ade,C=typeof T=="function"?T(n,N):T,S=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,N);if(t||!S){p(N);return}n++,e.onFail?.(n,N),Nde(C).then(()=>u()?void 0:g()).then(()=>{t?p(N):v()})})};return{promise:i,cancel:o,continue:()=>(a?.(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?v():g().then(v),i)}}function Ede(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var Fr=Ede(),ZK=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),NO(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(lu?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Ode=class extends ZK{#e;#t;#r;#n;#i;#a;constructor(e){super(),this.#a=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Pde(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const n=CO(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(di).catch(di):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Bi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zM||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!WK(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},a=()=>{const l=YK(this.options,t),c={queryKey:this.queryKey,meta:this.meta};return r(c),this.#a=!1,this.options.persister?this.options.persister(l,c,this):l(c)},i={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};r(i),this.options.behavior?.onFetch(i,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#s({type:"fetch",meta:i.fetchOptions?.meta});const o=l=>{G2(l)&&l.silent||this.#s({type:"error",error:l}),G2(l)||(this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#n=JK({initialPromise:t?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){o(c);return}this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,c)=>{this.#s({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...eW(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return G2(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Fr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function eW(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:XK(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Pde(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Mde=class extends sm{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,a=t.queryHash??BM(r,t);let i=this.get(a);return i||(i=new Ode({cache:this,queryKey:r,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Fr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>K$(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>K$(e,n)):t}notify(e){Fr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Fr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Fr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},_de=class extends ZK{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||tW(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=JK({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(r,a)=>{this.#n({type:"failed",failureCount:r,error:a})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",n=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:n}),await this.#t.config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&this.#n({type:"pending",context:a,variables:e,isPaused:n})}const r=await this.#r.start();return await this.#t.config.onSuccess?.(r,e,this.state.context,this),await this.options.onSuccess?.(r,e,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,e,this.state.context),this.#n({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,e,this.state.context,this),await this.options.onError?.(r,e,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,e,this.state.context),r}finally{this.#n({type:"error",error:r})}}finally{this.#t.runNext(this)}}#n(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Fr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function tW(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rde=class extends sm{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,n){const r=new _de({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){const t=Gv(e),n=this.#e.get(t)??[];n.push(e),this.#e.set(t,n),this.notify({type:"added",mutation:e})}remove(e){const t=Gv(e);if(this.#e.has(t)){const n=this.#e.get(t)?.filter(r=>r!==e);n&&(n.length===0?this.#e.delete(t):this.#e.set(t,n))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(Gv(e))?.find(n=>n.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(Gv(e))?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){Fr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(n=>W$(t,n))}findAll(e={}){return this.getAll().filter(t=>W$(e,t))}notify(e){Fr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Fr.batch(()=>Promise.all(e.map(t=>t.continue().catch(di))))}};function Gv(e){return e.options.scope?.id??String(e.mutationId)}function X$(e){return{onFetch:(t,n)=>{const r=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let f=!1;const m=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},p=YK(t.options,t.fetchOptions),g=async(v,y,w)=>{if(f)return Promise.reject();if(y==null&&v.pages.length)return Promise.resolve(v);const N={queryKey:t.queryKey,pageParam:y,direction:w?"backward":"forward",meta:t.options.meta};m(N);const A=await p(N),{maxPages:T}=t.options,C=w?Cde:Sde;return{pages:C(v.pages,A,T),pageParams:C(v.pageParams,y,T)}};if(a&&i.length){const v=a==="backward",y=v?Dde:Q$,w={pages:i,pageParams:o},N=y(r,w);l=await g(w,N,v)}else{const v=e??i.length;do{const y=c===0?o[0]??r.initialPageParam:Q$(r,l);if(c>0&&y==null)break;l=await g(l,y),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function Q$(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Dde(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Ide=class{#e;#t;#r;#n;#i;#a;#s;#o;constructor(e={}){this.#e=e.queryCache||new Mde,this.#t=e.mutationCache||new Rde,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#s=qM.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=p0.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=this.#e.build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Zf(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(r.queryHash)?.state.data,o=wde(t,i);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Fr.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Fr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e,r={type:"active",...e};return Fr.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Fr.batch(()=>this.#e.findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(di).catch(di)}invalidateQueries(e={},t={}){return Fr.batch(()=>{if(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:t?.cancelRefetch??!0},r=Fr.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(di)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(di)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Zf(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(di).catch(di)}fetchInfiniteQuery(e){return e.behavior=X$(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(di).catch(di)}ensureInfiniteQueryData(e){return e.behavior=X$(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return p0.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(cu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let n={};return t.forEach(r=>{Fx(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){this.#i.set(cu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()];let n={};return t.forEach(r=>{Fx(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=BM(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===zM&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Lde=class extends sm{constructor(e,t){super(),this.options=t,this.#e=e,this.#o=null,this.#s=kO(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#a;#s;#o;#p;#f;#h;#c;#d;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),J$(this.#t,this.options)?this.#u():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return TO(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return TO(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#j(),this.#t.removeObserver(this)}setOptions(e,t){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),n._defaulted&&!m0(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&Z$(this.#t,r,this.options,n)&&this.#u(),this.updateResult(t),a&&(this.#t!==r||Bi(this.options.enabled,this.#t)!==Bi(n.enabled,this.#t)||Zf(this.options.staleTime,this.#t)!==Zf(n.staleTime,this.#t))&&this.#x();const i=this.#g();a&&(this.#t!==r||Bi(this.options.enabled,this.#t)!==Bi(n.enabled,this.#t)||i!==this.#l)&&this.#y(i)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return Fde(this,n)&&(this.#n=n,this.#a=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(e,t){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t?.(r),e[r])})}),n}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#u(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(di)),t}#x(){this.#b();const e=Zf(this.options.staleTime,this.#t);if(lu||this.#n.isStale||!NO(e))return;const n=WK(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#j(),this.#l=e,!(lu||Bi(this.options.enabled,this.#t)===!1||!NO(this.#l)||this.#l===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||qM.isFocused())&&this.#u()},this.#l))}#v(){this.#x(),this.#y(this.#g())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#j(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const n=this.#t,r=this.options,a=this.#n,i=this.#i,o=this.#a,c=e!==n?e.state:this.#r,{state:u}=e;let f={...u},m=!1,p;if(t._optimisticResults){const O=this.hasListeners(),_=!O&&J$(e,t),M=O&&Z$(e,n,t,r);(_||M)&&(f={...f,...eW(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:y}=f;if(t.select&&f.data!==void 0)if(a&&f.data===i?.data&&t.select===this.#p)p=this.#f;else try{this.#p=t.select,p=t.select(f.data),p=CO(a?.data,p,t),this.#f=p,this.#o=null}catch(O){this.#o=O}else p=f.data;if(t.placeholderData!==void 0&&p===void 0&&y==="pending"){let O;if(a?.isPlaceholderData&&t.placeholderData===o?.placeholderData)O=a.data;else if(O=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,t.select&&O!==void 0)try{O=t.select(O),this.#o=null}catch(_){this.#o=_}O!==void 0&&(y="success",p=CO(a?.data,O,t),m=!0)}this.#o&&(g=this.#o,p=this.#f,v=Date.now(),y="error");const w=f.fetchStatus==="fetching",N=y==="pending",A=y==="error",T=N&&w,C=p!==void 0,E={status:y,fetchStatus:f.fetchStatus,isPending:N,isSuccess:y==="success",isError:A,isInitialLoading:T,isLoading:T,data:p,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!N,isLoadingError:A&&!C,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:A&&C,isStale:UM(e,t),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const O=$=>{E.status==="error"?$.reject(E.error):E.data!==void 0&&$.resolve(E.data)},_=()=>{const $=this.#s=E.promise=kO();O($)},M=this.#s;switch(M.status){case"pending":e.queryHash===n.queryHash&&O(M);break;case"fulfilled":(E.status==="error"||E.data!==M.value)&&_();break;case"rejected":(E.status!=="error"||E.error!==M.reason)&&_();break}}return E}updateResult(e){const t=this.#n,n=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#t),m0(n,t))return;this.#n=n;const r={},a=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!this.#m.size)return!0;const l=new Set(o??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#n).some(c=>{const u=c;return this.#n[u]!==t[u]&&l.has(u)})};e?.listeners!==!1&&a()&&(r.listeners=!0),this.#N({...r,...e})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#N(e){Fr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function $de(e,t){return Bi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function J$(e,t){return $de(e,t)||e.state.data!==void 0&&TO(e,t,t.refetchOnMount)}function TO(e,t,n){if(Bi(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&UM(e,t)}return!1}function Z$(e,t,n,r){return(e!==t||Bi(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&UM(e,n)}function UM(e,t){return Bi(t.enabled,e)!==!1&&e.isStaleByTime(Zf(t.staleTime,e))}function Fde(e,t){return!m0(e.getCurrentResult(),t)}var Bde=class extends sm{#e;#t=void 0;#r;#n;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),m0(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&cu(n.mutationKey)!==cu(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#a()}mutate(t,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){const t=this.#r?.state??tW();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){Fr.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,n,r),this.#n.onSettled?.(t.data,null,n,r)):t?.type==="error"&&(this.#n.onError?.(t.error,n,r),this.#n.onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},nW=j.createContext(void 0),rt=e=>{const t=j.useContext(nW);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},zde=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(nW.Provider,{value:e,children:t})),rW=j.createContext(!1),qde=()=>j.useContext(rW);rW.Provider;function Ude(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Vde=j.createContext(Ude()),Hde=()=>j.useContext(Vde);function sW(e,t){return typeof e=="function"?e(...t):!!e}function AO(){}var Kde=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Wde=e=>{j.useEffect(()=>{e.clearReset()},[e])},Gde=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&sW(n,[e.error,r]),Yde=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Xde=(e,t)=>e.isLoading&&e.isFetching&&!t,Qde=(e,t)=>e?.suspense&&t.isPending,eF=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Jde(e,t,n){const r=rt(),a=qde(),i=Hde(),o=r.defaultQueryOptions(e);r.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=a?"isRestoring":"optimistic",Yde(o),Kde(o,i),Wde(i);const l=!r.getQueryCache().get(o.queryHash),[c]=j.useState(()=>new t(r,o)),u=c.getOptimisticResult(o);if(j.useSyncExternalStore(j.useCallback(f=>{const m=a?AO:c.subscribe(Fr.batchCalls(f));return c.updateResult(),m},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),Qde(o,u))throw eF(o,c,i);if(Gde({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!lu&&Xde(u,a)&&(l?eF(o,c,i):r.getQueryCache().get(o.queryHash)?.promise)?.catch(AO).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function Ne(e,t){return Jde(e,Lde)}function ve(e,t){const n=rt(),[r]=j.useState(()=>new Bde(n,e));j.useEffect(()=>{r.setOptions(e)},[r,e]);const a=j.useSyncExternalStore(j.useCallback(o=>r.subscribe(Fr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=j.useCallback((o,l)=>{r.mutate(o,l).catch(AO)},[r]);if(a.error&&sW(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}async function aW(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Be(e,t,n){const r=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await aW(r),r}const Zde=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return await aW(n),await n.json()},eue=new Ide({defaultOptions:{queries:{queryFn:Zde({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});var tue=(e,t,n,r,a,i,o,l)=>{let c=document.documentElement,u=["light","dark"];function f(g){(Array.isArray(e)?e:[e]).forEach(v=>{let y=v==="class",w=y&&i?a.map(N=>i[N]||N):a;y?(c.classList.remove(...w),c.classList.add(i&&i[g]?i[g]:g)):c.setAttribute(v,g)}),m(g)}function m(g){l&&u.includes(g)&&(c.style.colorScheme=g)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)f(r);else try{let g=localStorage.getItem(t)||n,v=o&&g==="system"?p():g;f(v)}catch{}},tF=["light","dark"],iW="(prefers-color-scheme: dark)",nue=typeof window>"u",VM=j.createContext(void 0),rue={setTheme:e=>{},themes:[]},sue=()=>{var e;return(e=j.useContext(VM))!=null?e:rue},aue=e=>j.useContext(VM)?j.createElement(j.Fragment,null,e.children):j.createElement(oue,{...e}),iue=["light","dark"],oue=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:a="theme",themes:i=iue,defaultTheme:o=n?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:f,scriptProps:m})=>{let[p,g]=j.useState(()=>cue(a,o)),[v,y]=j.useState(()=>p==="system"?Y2():p),w=c?Object.values(c):i,N=j.useCallback(S=>{let E=S;if(!E)return;S==="system"&&n&&(E=Y2());let O=c?c[E]:E,_=t?due(f):null,M=document.documentElement,$=z=>{z==="class"?(M.classList.remove(...w),O&&M.classList.add(O)):z.startsWith("data-")&&(O?M.setAttribute(z,O):M.removeAttribute(z))};if(Array.isArray(l)?l.forEach($):$(l),r){let z=tF.includes(o)?o:null,V=tF.includes(E)?E:z;M.style.colorScheme=V}_?.()},[f]),A=j.useCallback(S=>{let E=typeof S=="function"?S(p):S;g(E);try{localStorage.setItem(a,E)}catch{}},[p]),T=j.useCallback(S=>{let E=Y2(S);y(E),p==="system"&&n&&!e&&N("system")},[p,e]);j.useEffect(()=>{let S=window.matchMedia(iW);return S.addListener(T),T(S),()=>S.removeListener(T)},[T]),j.useEffect(()=>{let S=E=>{E.key===a&&(E.newValue?g(E.newValue):A(o))};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[A]),j.useEffect(()=>{N(e??p)},[e,p]);let C=j.useMemo(()=>({theme:p,setTheme:A,forcedTheme:e,resolvedTheme:p==="system"?v:p,themes:n?[...i,"system"]:i,systemTheme:n?v:void 0}),[p,A,e,v,n,i]);return j.createElement(VM.Provider,{value:C},j.createElement(lue,{forcedTheme:e,storageKey:a,attribute:l,enableSystem:n,enableColorScheme:r,defaultTheme:o,value:c,themes:i,nonce:f,scriptProps:m}),u)},lue=j.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:i,value:o,themes:l,nonce:c,scriptProps:u})=>{let f=JSON.stringify([n,t,i,e,l,o,r,a]).slice(1,-1);return j.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${tue.toString()})(${f})`}})}),cue=(e,t)=>{if(nue)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},due=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Y2=e=>(e||(e=window.matchMedia(iW)),e.matches?"dark":"light");const uue=1,fue=1e6;let X2=0;function hue(){return X2=(X2+1)%Number.MAX_SAFE_INTEGER,X2.toString()}const Q2=new Map,nF=e=>{if(Q2.has(e))return;const t=setTimeout(()=>{Q2.delete(e),dx({type:"REMOVE_TOAST",toastId:e})},fue);Q2.set(e,t)},mue=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,uue)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?nF(n):e.toasts.forEach(r=>{nF(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ub=[];let Vb={toasts:[]};function dx(e){Vb=mue(Vb,e),Ub.forEach(t=>{t(Vb)})}function pue({...e}){const t=hue(),n=a=>dx({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>dx({type:"DISMISS_TOAST",toastId:t});return dx({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function Dt(){const[e,t]=j.useState(Vb);return j.useEffect(()=>(Ub.push(t),()=>{const n=Ub.indexOf(t);n>-1&&Ub.splice(n,1)}),[e]),{...e,toast:pue,dismiss:n=>dx({type:"DISMISS_TOAST",toastId:n})}}var Ul=LK();const HM=on(Ul);function Pa(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function rF(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function io(...e){return t=>{let n=!1;const r=e.map(a=>{const i=rF(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():rF(e[a],null)}}}}function it(...e){return j.useCallback(io(...e),e)}function xue(e,t){const n=j.createContext(t),r=i=>{const{children:o,...l}=i,c=j.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(i){const o=j.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function ss(e,t=[]){let n=[];function r(i,o){const l=j.createContext(o),c=n.length;n=[...n,o];const u=m=>{const{scope:p,children:g,...v}=m,y=p?.[e]?.[c]||l,w=j.useMemo(()=>v,Object.values(v));return s.jsx(y.Provider,{value:w,children:g})};u.displayName=i+"Provider";function f(m,p){const g=p?.[e]?.[c]||l,v=j.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[u,f]}const a=()=>{const i=n.map(o=>j.createContext(o));return function(l){const c=l?.[e]||i;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,gue(a,...t)]}function gue(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const m=c(i)[`__scope${u}`];return{...l,...m}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function EO(e){const t=yue(e),n=j.forwardRef((r,a)=>{const{children:i,...o}=r,l=j.Children.toArray(i),c=l.find(bue);if(c){const u=c.props.children,f=l.map(m=>m===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function yue(e){const t=j.forwardRef((n,r)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=wue(a),l=jue(i,a.props);return a.type!==j.Fragment&&(l.ref=r?io(r,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vue=Symbol("radix.slottable");function bue(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vue}function jue(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{i(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function wue(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Nue(e){const t=e+"CollectionProvider",[n,r]=ss(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:w,children:N}=y,A=Z.useRef(null),T=Z.useRef(new Map).current;return s.jsx(a,{scope:w,itemMap:T,collectionRef:A,children:N})};o.displayName=t;const l=e+"CollectionSlot",c=EO(l),u=Z.forwardRef((y,w)=>{const{scope:N,children:A}=y,T=i(l,N),C=it(w,T.collectionRef);return s.jsx(c,{ref:C,children:A})});u.displayName=l;const f=e+"CollectionItemSlot",m="data-radix-collection-item",p=EO(f),g=Z.forwardRef((y,w)=>{const{scope:N,children:A,...T}=y,C=Z.useRef(null),S=it(w,C),E=i(f,N);return Z.useEffect(()=>(E.itemMap.set(C,{ref:C,...T}),()=>void E.itemMap.delete(C))),s.jsx(p,{[m]:"",ref:S,children:A})});g.displayName=f;function v(y){const w=i(e+"CollectionConsumer",y);return Z.useCallback(()=>{const A=w.collectionRef.current;if(!A)return[];const T=Array.from(A.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((E,O)=>T.indexOf(E.ref.current)-T.indexOf(O.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},v,r]}var Sue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],qo=Sue.reduce((e,t)=>{const n=EO(`Primitive.${t}`),r=j.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function oW(e,t){e&&Ul.flushSync(()=>e.dispatchEvent(t))}function Pn(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...n)=>t.current?.(...n),[])}function lW(e,t=globalThis?.document){const n=Pn(e);j.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Cue="DismissableLayer",OO="dismissableLayer.update",kue="dismissableLayer.pointerDownOutside",Tue="dismissableLayer.focusOutside",sF,cW=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dW=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=j.useContext(cW),[f,m]=j.useState(null),p=f?.ownerDocument??globalThis?.document,[,g]=j.useState({}),v=it(t,O=>m(O)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),N=y.indexOf(w),A=f?y.indexOf(f):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,C=A>=N,S=Eue(O=>{const _=O.target,M=[...u.branches].some($=>$.contains(_));!C||M||(a?.(O),o?.(O),O.defaultPrevented||l?.())},p),E=Oue(O=>{const _=O.target;[...u.branches].some($=>$.contains(_))||(i?.(O),o?.(O),O.defaultPrevented||l?.())},p);return lW(O=>{A===u.layers.size-1&&(r?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},p),j.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(sF=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),aF(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=sF)}},[f,p,n,u]),j.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),aF())},[f,u]),j.useEffect(()=>{const O=()=>g({});return document.addEventListener(OO,O),()=>document.removeEventListener(OO,O)},[]),s.jsx(qo.div,{...c,ref:v,style:{pointerEvents:T?C?"auto":"none":void 0,...e.style},onFocusCapture:Pa(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Pa(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Pa(e.onPointerDownCapture,S.onPointerDownCapture)})});dW.displayName=Cue;var Aue="DismissableLayerBranch",uW=j.forwardRef((e,t)=>{const n=j.useContext(cW),r=j.useRef(null),a=it(t,r);return j.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(qo.div,{...e,ref:a})});uW.displayName=Aue;function Eue(e,t=globalThis?.document){const n=Pn(e),r=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){fW(kue,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Oue(e,t=globalThis?.document){const n=Pn(e),r=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!r.current&&fW(Tue,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function aF(){const e=new CustomEvent(OO);document.dispatchEvent(e)}function fW(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?oW(a,i):a.dispatchEvent(i)}var Pue=dW,Mue=uW,Zt=globalThis?.document?j.useLayoutEffect:()=>{},_ue="Portal",hW=j.forwardRef((e,t)=>{const{container:n,...r}=e,[a,i]=j.useState(!1);Zt(()=>i(!0),[]);const o=n||a&&globalThis?.document?.body;return o?HM.createPortal(s.jsx(qo.div,{...r,ref:t}),o):null});hW.displayName=_ue;function Rue(e,t){return j.useReducer((n,r)=>t[n][r]??n,e)}var mW=e=>{const{present:t,children:n}=e,r=Due(t),a=typeof n=="function"?n({present:r.isPresent}):j.Children.only(n),i=it(r.ref,Iue(a));return typeof n=="function"||r.isPresent?j.cloneElement(a,{ref:i}):null};mW.displayName="Presence";function Due(e){const[t,n]=j.useState(),r=j.useRef({}),a=j.useRef(e),i=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Rue(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=Yv(r.current);i.current=l==="mounted"?u:"none"},[l]),Zt(()=>{const u=r.current,f=a.current;if(f!==e){const p=i.current,g=Yv(u);e?c("MOUNT"):g==="none"||u?.display==="none"?c("UNMOUNT"):c(f&&p!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Zt(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,m=g=>{const y=Yv(r.current).includes(g.animationName);if(g.target===t&&y&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=g=>{g.target===t&&(i.current=Yv(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Yv(e){return e?.animationName||"none"}function Iue(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Lue({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=$ue({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,l=Pn(n),c=j.useCallback(u=>{if(i){const m=typeof u=="function"?u(e):u;m!==e&&l(m)}else a(u)},[i,e,a,l]);return[o,c]}function $ue({defaultProp:e,onChange:t}){const n=j.useState(e),[r]=n,a=j.useRef(r),i=Pn(t);return j.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}var Fue="VisuallyHidden",KM=j.forwardRef((e,t)=>s.jsx(qo.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));KM.displayName=Fue;var WM="ToastProvider",[GM,Bue,zue]=Nue("Toast"),[pW]=ss("Toast",[zue]),[que,zw]=pW(WM),xW=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=j.useState(null),[u,f]=j.useState(0),m=j.useRef(!1),p=j.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${WM}\`. Expected non-empty \`string\`.`),s.jsx(GM.Provider,{scope:t,children:s.jsx(que,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:j.useCallback(()=>f(g=>g+1),[]),onToastRemove:j.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:p,children:o})})};xW.displayName=WM;var gW="ToastViewport",Uue=["F8"],PO="toast.viewportPause",MO="toast.viewportResume",yW=j.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Uue,label:a="Notifications ({hotkey})",...i}=e,o=zw(gW,n),l=Bue(n),c=j.useRef(null),u=j.useRef(null),f=j.useRef(null),m=j.useRef(null),p=it(t,m,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;j.useEffect(()=>{const w=N=>{r.length!==0&&r.every(T=>N[T]||N.code===T)&&m.current?.focus()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),j.useEffect(()=>{const w=c.current,N=m.current;if(v&&w&&N){const A=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(PO);N.dispatchEvent(E),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(MO);N.dispatchEvent(E),o.isClosePausedRef.current=!1}},C=E=>{!w.contains(E.relatedTarget)&&T()},S=()=>{w.contains(document.activeElement)||T()};return w.addEventListener("focusin",A),w.addEventListener("focusout",C),w.addEventListener("pointermove",A),w.addEventListener("pointerleave",S),window.addEventListener("blur",A),window.addEventListener("focus",T),()=>{w.removeEventListener("focusin",A),w.removeEventListener("focusout",C),w.removeEventListener("pointermove",A),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",A),window.removeEventListener("focus",T)}}},[v,o.isClosePausedRef]);const y=j.useCallback(({tabbingDirection:w})=>{const A=l().map(T=>{const C=T.ref.current,S=[C,...nfe(C)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?A.reverse():A).flat()},[l]);return j.useEffect(()=>{const w=m.current;if(w){const N=A=>{const T=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!T){const S=document.activeElement,E=A.shiftKey;if(A.target===w&&E){u.current?.focus();return}const M=y({tabbingDirection:E?"backwards":"forwards"}),$=M.findIndex(z=>z===S);J2(M.slice($+1))?A.preventDefault():E?u.current?.focus():f.current?.focus()}};return w.addEventListener("keydown",N),()=>w.removeEventListener("keydown",N)}},[l,y]),s.jsxs(Mue,{ref:c,role:"region","aria-label":a.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&s.jsx(_O,{ref:u,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});J2(w)}}),s.jsx(GM.Slot,{scope:n,children:s.jsx(qo.ol,{tabIndex:-1,...i,ref:p})}),v&&s.jsx(_O,{ref:f,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});J2(w)}})]})});yW.displayName=gW;var vW="ToastFocusProxy",_O=j.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=zw(vW,n);return s.jsx(KM,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!i.viewport?.contains(l)&&r()}})});_O.displayName=vW;var qw="Toast",Vue="toast.swipeStart",Hue="toast.swipeMove",Kue="toast.swipeCancel",Wue="toast.swipeEnd",bW=j.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=Lue({prop:r,defaultProp:a,onChange:i});return s.jsx(mW,{present:n||l,children:s.jsx(Xue,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Pn(e.onPause),onResume:Pn(e.onResume),onSwipeStart:Pa(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pa(e.onSwipeMove,u=>{const{x:f,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Pa(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pa(e.onSwipeEnd,u=>{const{x:f,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});bW.displayName=qw;var[Gue,Yue]=pW(qw,{onClose(){}}),Xue=j.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:p,onSwipeEnd:g,...v}=e,y=zw(qw,n),[w,N]=j.useState(null),A=it(t,F=>N(F)),T=j.useRef(null),C=j.useRef(null),S=a||y.duration,E=j.useRef(0),O=j.useRef(S),_=j.useRef(0),{onToastAdd:M,onToastRemove:$}=y,z=Pn(()=>{w?.contains(document.activeElement)&&y.viewport?.focus(),o()}),V=j.useCallback(F=>{!F||F===1/0||(window.clearTimeout(_.current),E.current=new Date().getTime(),_.current=window.setTimeout(z,F))},[z]);j.useEffect(()=>{const F=y.viewport;if(F){const K=()=>{V(O.current),u?.()},R=()=>{const B=new Date().getTime()-E.current;O.current=O.current-B,window.clearTimeout(_.current),c?.()};return F.addEventListener(PO,R),F.addEventListener(MO,K),()=>{F.removeEventListener(PO,R),F.removeEventListener(MO,K)}}},[y.viewport,S,c,u,V]),j.useEffect(()=>{i&&!y.isClosePausedRef.current&&V(S)},[i,S,y.isClosePausedRef,V]),j.useEffect(()=>(M(),()=>$()),[M,$]);const I=j.useMemo(()=>w?TW(w):null,[w]);return y.viewport?s.jsxs(s.Fragment,{children:[I&&s.jsx(Que,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),s.jsx(Gue,{scope:n,onClose:z,children:Ul.createPortal(s.jsx(GM.ItemSlot,{scope:n,children:s.jsx(Pue,{asChild:!0,onEscapeKeyDown:Pa(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||z(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(qo.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:A,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Pa(e.onKeyDown,F=>{F.key==="Escape"&&(l?.(F.nativeEvent),F.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:Pa(e.onPointerDown,F=>{F.button===0&&(T.current={x:F.clientX,y:F.clientY})}),onPointerMove:Pa(e.onPointerMove,F=>{if(!T.current)return;const K=F.clientX-T.current.x,R=F.clientY-T.current.y,B=!!C.current,L=["left","right"].includes(y.swipeDirection),q=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,se=L?q(0,K):0,H=L?0:q(0,R),Y=F.pointerType==="touch"?10:2,G={x:se,y:H},X={originalEvent:F,delta:G};B?(C.current=G,Xv(Hue,m,X,{discrete:!1})):iF(G,y.swipeDirection,Y)?(C.current=G,Xv(Vue,f,X,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(K)>Y||Math.abs(R)>Y)&&(T.current=null)}),onPointerUp:Pa(e.onPointerUp,F=>{const K=C.current,R=F.target;if(R.hasPointerCapture(F.pointerId)&&R.releasePointerCapture(F.pointerId),C.current=null,T.current=null,K){const B=F.currentTarget,L={originalEvent:F,delta:K};iF(K,y.swipeDirection,y.swipeThreshold)?Xv(Wue,g,L,{discrete:!0}):Xv(Kue,p,L,{discrete:!0}),B.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Que=e=>{const{__scopeToast:t,children:n,...r}=e,a=zw(qw,t),[i,o]=j.useState(!1),[l,c]=j.useState(!1);return efe(()=>o(!0)),j.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(hW,{asChild:!0,children:s.jsx(KM,{...r,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",n]})})})},Jue="ToastTitle",jW=j.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(qo.div,{...r,ref:t})});jW.displayName=Jue;var Zue="ToastDescription",wW=j.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(qo.div,{...r,ref:t})});wW.displayName=Zue;var NW="ToastAction",SW=j.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(kW,{altText:n,asChild:!0,children:s.jsx(YM,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${NW}\`. Expected non-empty \`string\`.`),null)});SW.displayName=NW;var CW="ToastClose",YM=j.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=Yue(CW,n);return s.jsx(kW,{asChild:!0,children:s.jsx(qo.button,{type:"button",...r,ref:t,onClick:Pa(e.onClick,a.onClose)})})});YM.displayName=CW;var kW=j.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return s.jsx(qo.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function TW(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),tfe(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...TW(r))}}),t}function Xv(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?oW(a,i):a.dispatchEvent(i)}var iF=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return t==="left"||t==="right"?i&&r>n:!i&&a>n};function efe(e=()=>{}){const t=Pn(e);Zt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function tfe(e){return e.nodeType===e.ELEMENT_NODE}function nfe(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function J2(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var rfe=xW,AW=yW,EW=bW,OW=jW,PW=wW,MW=SW,_W=YM;function RW(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=RW(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ct(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=RW(e))&&(r&&(r+=" "),r+=t);return r}const oF=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,lF=Ct,am=(e,t)=>n=>{var r;if(t?.variants==null)return lF(e,n?.class,n?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const f=n?.[u],m=i?.[u];if(f===null)return null;const p=oF(f)||oF(m);return a[u][p]}),l=n&&Object.entries(n).reduce((u,f)=>{let[m,p]=f;return p===void 0||(u[m]=p),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:m,className:p,...g}=f;return Object.entries(g).every(v=>{let[y,w]=v;return Array.isArray(w)?w.includes({...i,...l}[y]):{...i,...l}[y]===w})?[...u,m,p]:u},[]);return lF(e,o,c,n?.class,n?.className)};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sfe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),afe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),cF=e=>{const t=afe(e);return t.charAt(0).toUpperCase()+t.slice(1)},DW=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),ife=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ofe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lfe=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>j.createElement("svg",{ref:c,...ofe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:DW("lucide",a),...!i&&!ife(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,f])=>j.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const n=j.forwardRef(({className:r,...a},i)=>j.createElement(lfe,{ref:i,iconNode:t,className:DW(`lucide-${sfe(cF(e))}`,`lucide-${e}`,r),...a}));return n.displayName=cF(e),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Il=pe("activity",cfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dfe=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],ufe=pe("archive-restore",dfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ffe=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],dF=pe("archive",ffe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hfe=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],mfe=pe("arrow-down-right",hfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pfe=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],fh=pe("arrow-down-to-line",pfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xfe=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],gfe=pe("arrow-down",xfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yfe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],As=pe("arrow-left",yfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vfe=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],bfe=pe("arrow-right-left",vfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jfe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Qp=pe("arrow-right",jfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wfe=[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]],x0=pe("arrow-up-from-line",wfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nfe=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],IW=pe("arrow-up-right",Nfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sfe=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bx=pe("ban",Sfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cfe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],_o=pe("bell",Cfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kfe=[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]],fi=pe("bitcoin",kfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tfe=[["path",{d:"M10 22V7a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5a1 1 0 0 0-1-1H2",key:"1ah6g2"}],["rect",{x:"14",y:"2",width:"8",height:"8",rx:"1",key:"88lufb"}]],LW=pe("blocks",Tfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Afe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Efe=pe("bold",Afe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ofe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],zx=pe("book-open",Ofe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Mfe=pe("bot",Pfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _fe=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],hh=pe("briefcase",_fe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rfe=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],er=pe("building-2",Rfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dfe=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],$W=pe("building",Dfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ife=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],Lfe=pe("calendar-plus",Ife);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $fe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Uw=pe("calendar",$fe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ffe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],RO=pe("chart-column",Ffe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bfe=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],mh=pe("chart-no-axes-column",Bfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],XM=pe("check-check",zfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qfe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bt=pe("check",qfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ufe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],fa=pe("chevron-down",Ufe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vfe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],FW=pe("chevron-left",Vfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hc=pe("chevron-right",Hfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kfe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Wfe=pe("chevron-up",Kfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Kn=pe("circle-alert",Gfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Vs=pe("circle-check",Yfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Gn=pe("circle-check-big",Xfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Sl=pe("circle-question-mark",Qfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ts=pe("circle-x",Jfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],BW=pe("circle",Zfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Yt=pe("clock",ehe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Yn=pe("copy",the);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nhe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],On=pe("credit-card",nhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rhe=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],she=pe("crown",rhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],qx=pe("database",ahe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Sn=pe("dollar-sign",ihe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ohe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Wi=pe("download",ohe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],che=pe("ellipsis-vertical",lhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dhe=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ph=pe("external-link",dhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uhe=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ca=pe("eye-off",uhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fhe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ur=pe("eye",fhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hhe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Z2=pe("file-spreadsheet",hhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mhe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],gi=pe("file-text",mhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],DO=pe("fingerprint",phe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xhe=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],ghe=pe("flag",xhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yhe=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],vhe=pe("folder-open",yhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bhe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Wg=pe("funnel",bhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jhe=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],whe=pe("gift",jhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nhe=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],QM=pe("git-branch",Nhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const She=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],jn=pe("globe",She);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Che=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],khe=pe("heading-1",Che);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const The=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Ahe=pe("heading-2",The);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ehe=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],Ohe=pe("heading-3",Ehe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phe=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],zW=pe("headphones",Phe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mhe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Hb=pe("history",Mhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _he=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],qW=pe("image",_he);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],UW=pe("info",Rhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dhe=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Ihe=pe("italic",Dhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lhe=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],eC=pe("key-round",Lhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $he=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Da=pe("key",$he);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fhe=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],eh=pe("layout-dashboard",Fhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bhe=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],VW=pe("lightbulb",Bhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zhe=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],JM=pe("link-2",zhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qhe=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Gg=pe("link",qhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uhe=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Vhe=pe("list-ordered",Uhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hhe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Khe=pe("list",Hhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Whe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],we=pe("loader-circle",Whe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ghe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],HW=pe("log-out",Ghe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yhe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ns=pe("lock",Yhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xhe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ji=pe("mail",Xhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qhe=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],uF=pe("map",Qhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jhe=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],ZM=pe("megaphone",Jhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zhe=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],KW=pe("menu",Zhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eme=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],g0=pe("message-circle",eme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tme=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Vw=pe("message-square",tme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nme=[["path",{d:"M5 12h14",key:"1ays0h"}]],IO=pe("minus",nme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rme=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],fF=pe("monitor",rme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sme=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],hF=pe("moon",sme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ame=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],y0=pe("mouse-pointer-2",ame);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ime=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],ome=pe("mouse-pointer-click",ime);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lme=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],e_=pe("mouse-pointer",lme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cme=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],Ia=pe("newspaper",cme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dme=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],mF=pe("package",dme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ume=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],t_=pe("palette",ume);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fme=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],LO=pe("pause",fme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hme=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],mme=pe("pen",hme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pme=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],WW=pe("pencil",pme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xme=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],gme=pe("percent",xme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yme=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],im=pe("phone",yme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vme=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],bme=pe("pin",vme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jme=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Kc=pe("play",jme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wme=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fr=pe("plus",wme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nme=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Sme=pe("quote",Nme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cme=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Br=pe("refresh-cw",Cme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kme=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Tme=pe("repeat",kme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ame=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Es=pe("save",Ame);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eme=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zi=pe("search",Eme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ome=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],dr=pe("send",Ome);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pme=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Mme=pe("settings-2",Pme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _me=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gi=pe("settings",_me);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rme=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Dme=pe("share-2",Rme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ime=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],GW=pe("shield-alert",Ime);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lme=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tC=pe("shield-check",Lme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $me=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fn=pe("shield",$me);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fme=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],v0=pe("smartphone",Fme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bme=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],n_=pe("sparkles",Bme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zme=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pF=pe("square-check-big",zme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qme=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],r_=pe("square-pen",qme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ume=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$O=pe("star",Ume);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vme=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],Hme=pe("strikethrough",Vme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kme=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],xF=pe("sun",Kme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wme=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],xh=pe("tag",Wme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ro=pe("target",Gme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yme=[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]],s_=pe("test-tube-diagonal",Yme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xme=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Qme=pe("terminal",Xme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jme=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],Zme=pe("test-tube",Jme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const epe=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],tpe=pe("text-align-center",epe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const npe=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],rpe=pe("text-align-end",npe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const spe=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],ape=pe("text-align-start",spe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ipe=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],ope=pe("timer",ipe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lpe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Os=pe("trash-2",lpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cpe=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],dpe=pe("trending-down",cpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const upe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],qr=pe("trending-up",upe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fpe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ui=pe("triangle-alert",fpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hpe=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],mpe=pe("underline",hpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ppe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],du=pe("upload",ppe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xpe=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Jp=pe("user-check",xpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gpe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Do=pe("user-plus",gpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ype=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],nC=pe("user-x",ype);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vpe=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],Ea=pe("users-round",vpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bpe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pn=pe("users",bpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jpe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Or=pe("user",jpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wpe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Qr=pe("wallet",wpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Npe=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],a_=pe("webhook",Npe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Spe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xn=pe("x",Spe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cpe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],FO=pe("zap",Cpe),kpe=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},Tpe=(e,t)=>({classGroupId:e,validator:t}),YW=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),b0="-",gF=[],Ape="arbitrary..",Epe=e=>{const t=Ppe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return Ope(o);const l=o.split(b0),c=l[0]===""&&l.length>1?1:0;return XW(l,c,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=r[o],u=n[o];return c?u?kpe(u,c):c:u||gF}return n[o]||gF}}},XW=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const a=e[t],i=n.nextPart.get(a);if(i){const u=XW(e,t+1,i);if(u)return u}const o=n.validators;if(o===null)return;const l=t===0?e.join(b0):e.slice(t).join(b0),c=o.length;for(let u=0;u<c;u++){const f=o[u];if(f.validator(l))return f.classGroupId}},Ope=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?Ape+r:void 0})(),Ppe=e=>{const{theme:t,classGroups:n}=e;return Mpe(n,t)},Mpe=(e,t)=>{const n=YW();for(const r in e){const a=e[r];i_(a,n,r,t)}return n},i_=(e,t,n,r)=>{const a=e.length;for(let i=0;i<a;i++){const o=e[i];_pe(o,t,n,r)}},_pe=(e,t,n,r)=>{if(typeof e=="string"){Rpe(e,t,n);return}if(typeof e=="function"){Dpe(e,t,n,r);return}Ipe(e,t,n,r)},Rpe=(e,t,n)=>{const r=e===""?t:QW(t,e);r.classGroupId=n},Dpe=(e,t,n,r)=>{if(Lpe(e)){i_(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(Tpe(n,e))},Ipe=(e,t,n,r)=>{const a=Object.entries(e),i=a.length;for(let o=0;o<i;o++){const[l,c]=a[o];i_(c,QW(t,l),n,r)}},QW=(e,t)=>{let n=e;const r=t.split(b0),a=r.length;for(let i=0;i<a;i++){const o=r[i];let l=n.nextPart.get(o);l||(l=YW(),n.nextPart.set(o,l)),n=l}return n},Lpe=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,$pe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const a=(i,o)=>{n[i]=o,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(i){let o=n[i];if(o!==void 0)return o;if((o=r[i])!==void 0)return a(i,o),o},set(i,o){i in n?n[i]=o:a(i,o)}}},BO="!",yF=":",Fpe=[],vF=(e,t,n,r,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),Bpe=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=a=>{const i=[];let o=0,l=0,c=0,u;const f=a.length;for(let y=0;y<f;y++){const w=a[y];if(o===0&&l===0){if(w===yF){i.push(a.slice(c,y)),c=y+1;continue}if(w==="/"){u=y;continue}}w==="["?o++:w==="]"?o--:w==="("?l++:w===")"&&l--}const m=i.length===0?a:a.slice(c);let p=m,g=!1;m.endsWith(BO)?(p=m.slice(0,-1),g=!0):m.startsWith(BO)&&(p=m.slice(1),g=!0);const v=u&&u>c?u-c:void 0;return vF(i,g,p,v)};if(t){const a=t+yF,i=r;r=o=>o.startsWith(a)?i(o.slice(a.length)):vF(Fpe,!1,o,void 0,!0)}if(n){const a=r;r=i=>n({className:i,parseClassName:a})}return r},zpe=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let i=0;i<n.length;i++){const o=n[i],l=o[0]==="[",c=t.has(o);l||c?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(o)):a.push(o)}return a.length>0&&(a.sort(),r.push(...a)),r}},qpe=e=>({cache:$pe(e.cacheSize),parseClassName:Bpe(e),sortModifiers:zpe(e),...Epe(e)}),Upe=/\s+/,Vpe=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(Upe);let c="";for(let u=l.length-1;u>=0;u-=1){const f=l[u],{isExternal:m,modifiers:p,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}=n(f);if(m){c=f+(c.length>0?" "+c:c);continue}let w=!!y,N=r(w?v.substring(0,y):v);if(!N){if(!w){c=f+(c.length>0?" "+c:c);continue}if(N=r(v),!N){c=f+(c.length>0?" "+c:c);continue}w=!1}const A=p.length===0?"":p.length===1?p[0]:i(p).join(":"),T=g?A+BO:A,C=T+N;if(o.indexOf(C)>-1)continue;o.push(C);const S=a(N,w);for(let E=0;E<S.length;++E){const O=S[E];o.push(T+O)}c=f+(c.length>0?" "+c:c)}return c},Hpe=(...e)=>{let t=0,n,r,a="";for(;t<e.length;)(n=e[t++])&&(r=JW(n))&&(a&&(a+=" "),a+=r);return a},JW=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=JW(e[r]))&&(n&&(n+=" "),n+=t);return n},Kpe=(e,...t)=>{let n,r,a,i;const o=c=>{const u=t.reduce((f,m)=>m(f),e());return n=qpe(u),r=n.cache.get,a=n.cache.set,i=l,l(c)},l=c=>{const u=r(c);if(u)return u;const f=Vpe(c,n);return a(c,f),f};return i=o,(...c)=>i(Hpe(...c))},Wpe=[],Ir=e=>{const t=n=>n[e]||Wpe;return t.isThemeGetter=!0,t},ZW=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,eG=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Gpe=/^\d+\/\d+$/,Ype=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xpe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qpe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Jpe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Zpe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cf=e=>Gpe.test(e),Pt=e=>!!e&&!Number.isNaN(Number(e)),jc=e=>!!e&&Number.isInteger(Number(e)),rC=e=>e.endsWith("%")&&Pt(e.slice(0,-1)),hl=e=>Ype.test(e),exe=()=>!0,txe=e=>Xpe.test(e)&&!Qpe.test(e),tG=()=>!1,nxe=e=>Jpe.test(e),rxe=e=>Zpe.test(e),sxe=e=>!He(e)&&!Ke(e),axe=e=>om(e,sG,tG),He=e=>ZW.test(e),Ad=e=>om(e,aG,txe),sC=e=>om(e,dxe,Pt),bF=e=>om(e,nG,tG),ixe=e=>om(e,rG,rxe),Qv=e=>om(e,iG,nxe),Ke=e=>eG.test(e),Tp=e=>lm(e,aG),oxe=e=>lm(e,uxe),jF=e=>lm(e,nG),lxe=e=>lm(e,sG),cxe=e=>lm(e,rG),Jv=e=>lm(e,iG,!0),om=(e,t,n)=>{const r=ZW.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},lm=(e,t,n=!1)=>{const r=eG.exec(e);return r?r[1]?t(r[1]):n:!1},nG=e=>e==="position"||e==="percentage",rG=e=>e==="image"||e==="url",sG=e=>e==="length"||e==="size"||e==="bg-size",aG=e=>e==="length",dxe=e=>e==="number",uxe=e=>e==="family-name",iG=e=>e==="shadow",fxe=()=>{const e=Ir("color"),t=Ir("font"),n=Ir("text"),r=Ir("font-weight"),a=Ir("tracking"),i=Ir("leading"),o=Ir("breakpoint"),l=Ir("container"),c=Ir("spacing"),u=Ir("radius"),f=Ir("shadow"),m=Ir("inset-shadow"),p=Ir("text-shadow"),g=Ir("drop-shadow"),v=Ir("blur"),y=Ir("perspective"),w=Ir("aspect"),N=Ir("ease"),A=Ir("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...C(),Ke,He],E=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],_=()=>[Ke,He,c],M=()=>[Cf,"full","auto",..._()],$=()=>[jc,"none","subgrid",Ke,He],z=()=>["auto",{span:["full",jc,Ke,He]},jc,Ke,He],V=()=>[jc,"auto",Ke,He],I=()=>["auto","min","max","fr",Ke,He],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],R=()=>["auto",..._()],B=()=>[Cf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],L=()=>[e,Ke,He],q=()=>[...C(),jF,bF,{position:[Ke,He]}],se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",lxe,axe,{size:[Ke,He]}],Y=()=>[rC,Tp,Ad],G=()=>["","none","full",u,Ke,He],X=()=>["",Pt,Tp,Ad],ae=()=>["solid","dashed","dotted","double"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[Pt,rC,jF,bF],Fe=()=>["","none",v,Ke,He],ge=()=>["none",Pt,Ke,He],Ae=()=>["none",Pt,Ke,He],_e=()=>[Pt,Ke,He],ee=()=>[Cf,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hl],breakpoint:[hl],color:[exe],container:[hl],"drop-shadow":[hl],ease:["in","out","in-out"],font:[sxe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hl],shadow:[hl],spacing:["px",Pt],text:[hl],"text-shadow":[hl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Cf,He,Ke,w]}],container:["container"],columns:[{columns:[Pt,He,Ke,l]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[jc,"auto",Ke,He]}],basis:[{basis:[Cf,"full","auto",l,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pt,Cf,"auto","initial","none",He]}],grow:[{grow:["",Pt,Ke,He]}],shrink:[{shrink:["",Pt,Ke,He]}],order:[{order:[jc,"first","last","none",Ke,He]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[l,"screen",...B()]}],"min-w":[{"min-w":[l,"screen","none",...B()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",n,Tp,Ad]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ke,sC]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",rC,He]}],"font-family":[{font:[oxe,He,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ke,He]}],"line-clamp":[{"line-clamp":[Pt,"none",Ke,sC]}],leading:[{leading:[i,..._()]}],"list-image":[{"list-image":["none",Ke,He]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ke,He]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pt,"from-font","auto",Ke,Ad]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[Pt,"auto",Ke,He]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke,He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke,He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:q()}],"bg-repeat":[{bg:se()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},jc,Ke,He],radial:["",Ke,He],conic:[jc,Ke,He]},cxe,ixe]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pt,Ke,He]}],"outline-w":[{outline:["",Pt,Tp,Ad]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",f,Jv,Qv]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",m,Jv,Qv]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[Pt,Ad]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",p,Jv,Qv]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[Pt,Ke,He]}],"mix-blend":[{"mix-blend":[...de(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":de()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[Ke,He]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:q()}],"mask-repeat":[{mask:se()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ke,He]}],filter:[{filter:["","none",Ke,He]}],blur:[{blur:Fe()}],brightness:[{brightness:[Pt,Ke,He]}],contrast:[{contrast:[Pt,Ke,He]}],"drop-shadow":[{"drop-shadow":["","none",g,Jv,Qv]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",Pt,Ke,He]}],"hue-rotate":[{"hue-rotate":[Pt,Ke,He]}],invert:[{invert:["",Pt,Ke,He]}],saturate:[{saturate:[Pt,Ke,He]}],sepia:[{sepia:["",Pt,Ke,He]}],"backdrop-filter":[{"backdrop-filter":["","none",Ke,He]}],"backdrop-blur":[{"backdrop-blur":Fe()}],"backdrop-brightness":[{"backdrop-brightness":[Pt,Ke,He]}],"backdrop-contrast":[{"backdrop-contrast":[Pt,Ke,He]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pt,Ke,He]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pt,Ke,He]}],"backdrop-invert":[{"backdrop-invert":["",Pt,Ke,He]}],"backdrop-opacity":[{"backdrop-opacity":[Pt,Ke,He]}],"backdrop-saturate":[{"backdrop-saturate":[Pt,Ke,He]}],"backdrop-sepia":[{"backdrop-sepia":["",Pt,Ke,He]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ke,He]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pt,"initial",Ke,He]}],ease:[{ease:["linear","initial",N,Ke,He]}],delay:[{delay:[Pt,Ke,He]}],animate:[{animate:["none",A,Ke,He]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Ke,He]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:ge()}],"rotate-x":[{"rotate-x":ge()}],"rotate-y":[{"rotate-y":ge()}],"rotate-z":[{"rotate-z":ge()}],scale:[{scale:Ae()}],"scale-x":[{"scale-x":Ae()}],"scale-y":[{"scale-y":Ae()}],"scale-z":[{"scale-z":Ae()}],"scale-3d":["scale-3d"],skew:[{skew:_e()}],"skew-x":[{"skew-x":_e()}],"skew-y":[{"skew-y":_e()}],transform:[{transform:[Ke,He,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ee()}],"translate-x":[{"translate-x":ee()}],"translate-y":[{"translate-y":ee()}],"translate-z":[{"translate-z":ee()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke,He]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke,He]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[Pt,Tp,Ad,sC]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},hxe=Kpe(fxe);function Re(...e){return hxe(Ct(e))}const mxe={USD:"$",EUR:"",RUB:"",GBP:"",USDT:"",BTC:"",ETH:""};function Hs(e){return e?mxe[e.toUpperCase()]||e:"$"}function Xe(e,t){if(e==null)return"";const n=typeof e=="string"?parseFloat(e):e;return isNaN(n)?"":`${Hs(t)}${n.toFixed(2)}`}function Ol(e){return e.landings?.[0]?.currency||"USD"}const pxe=rfe,oG=j.forwardRef(({className:e,...t},n)=>s.jsx(AW,{ref:n,className:Re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));oG.displayName=AW.displayName;const xxe=am("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),lG=j.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(EW,{ref:r,className:Re(xxe({variant:t}),e),...n}));lG.displayName=EW.displayName;const gxe=j.forwardRef(({className:e,...t},n)=>s.jsx(MW,{ref:n,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));gxe.displayName=MW.displayName;const cG=j.forwardRef(({className:e,...t},n)=>s.jsx(_W,{ref:n,className:Re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Xn,{className:"h-4 w-4"})}));cG.displayName=_W.displayName;const dG=j.forwardRef(({className:e,...t},n)=>s.jsx(OW,{ref:n,className:Re("text-sm font-semibold",e),...t}));dG.displayName=OW.displayName;const uG=j.forwardRef(({className:e,...t},n)=>s.jsx(PW,{ref:n,className:Re("text-sm opacity-90",e),...t}));uG.displayName=PW.displayName;function yxe(){const{toasts:e}=Dt();return s.jsxs(pxe,{children:[e.map(function({id:t,title:n,description:r,action:a,...i}){return s.jsxs(lG,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(dG,{children:n}),r&&s.jsx(uG,{children:r})]}),a,s.jsx(cG,{})]},t)}),s.jsx(oG,{})]})}function kf(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function aC(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function vxe(e){const t=bxe(e),n=j.forwardRef((r,a)=>{const{children:i,...o}=r,l=j.Children.toArray(i),c=l.find(wxe);if(c){const u=c.props.children,f=l.map(m=>m===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function bxe(e){const t=j.forwardRef((n,r)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=Sxe(a),l=Nxe(i,a.props);return a.type!==j.Fragment&&(l.ref=r?io(r,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jxe=Symbol("radix.slottable");function wxe(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jxe}function Nxe(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function Sxe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Cxe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Je=Cxe.reduce((e,t)=>{const n=vxe(`Primitive.${t}`),r=j.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function fG(e,t){e&&Ul.flushSync(()=>e.dispatchEvent(t))}var kxe="DismissableLayer",zO="dismissableLayer.update",Txe="dismissableLayer.pointerDownOutside",Axe="dismissableLayer.focusOutside",wF,hG=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cm=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=j.useContext(hG),[f,m]=j.useState(null),p=f?.ownerDocument??globalThis?.document,[,g]=j.useState({}),v=it(t,O=>m(O)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),N=y.indexOf(w),A=f?y.indexOf(f):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,C=A>=N,S=Pxe(O=>{const _=O.target,M=[...u.branches].some($=>$.contains(_));!C||M||(a?.(O),o?.(O),O.defaultPrevented||l?.())},p),E=Mxe(O=>{const _=O.target;[...u.branches].some($=>$.contains(_))||(i?.(O),o?.(O),O.defaultPrevented||l?.())},p);return lW(O=>{A===u.layers.size-1&&(r?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},p),j.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(wF=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),NF(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=wF)}},[f,p,n,u]),j.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),NF())},[f,u]),j.useEffect(()=>{const O=()=>g({});return document.addEventListener(zO,O),()=>document.removeEventListener(zO,O)},[]),s.jsx(Je.div,{...c,ref:v,style:{pointerEvents:T?C?"auto":"none":void 0,...e.style},onFocusCapture:aC(e.onFocusCapture,E.onFocusCapture),onBlurCapture:aC(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:aC(e.onPointerDownCapture,S.onPointerDownCapture)})});cm.displayName=kxe;var Exe="DismissableLayerBranch",Oxe=j.forwardRef((e,t)=>{const n=j.useContext(hG),r=j.useRef(null),a=it(t,r);return j.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(Je.div,{...e,ref:a})});Oxe.displayName=Exe;function Pxe(e,t=globalThis?.document){const n=Pn(e),r=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){mG(Txe,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Mxe(e,t=globalThis?.document){const n=Pn(e),r=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!r.current&&mG(Axe,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function NF(){const e=new CustomEvent(zO);document.dispatchEvent(e)}function mG(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?fG(a,i):a.dispatchEvent(i)}var _xe=pa[" useId ".trim().toString()]||(()=>{}),Rxe=0;function Ts(e){const[t,n]=j.useState(_xe());return Zt(()=>{n(r=>r??String(Rxe++))},[e]),t?`radix-${t}`:""}const pG=["top","right","bottom","left"],SF=["start","end"],CF=pG.reduce((e,t)=>e.concat(t,t+"-"+SF[0],t+"-"+SF[1]),[]),eo=Math.min,Ns=Math.max,j0=Math.round,Zv=Math.floor,To=e=>({x:e,y:e}),Dxe={left:"right",right:"left",bottom:"top",top:"bottom"},Ixe={start:"end",end:"start"};function qO(e,t,n){return Ns(e,eo(t,n))}function to(e,t){return typeof e=="function"?e(t):e}function qa(e){return e.split("-")[0]}function Yi(e){return e.split("-")[1]}function o_(e){return e==="x"?"y":"x"}function l_(e){return e==="y"?"height":"width"}const Lxe=new Set(["top","bottom"]);function Vi(e){return Lxe.has(qa(e))?"y":"x"}function c_(e){return o_(Vi(e))}function xG(e,t,n){n===void 0&&(n=!1);const r=Yi(e),a=c_(e),i=l_(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=N0(o)),[o,N0(o)]}function $xe(e){const t=N0(e);return[w0(e),t,w0(t)]}function w0(e){return e.replace(/start|end/g,t=>Ixe[t])}const kF=["left","right"],TF=["right","left"],Fxe=["top","bottom"],Bxe=["bottom","top"];function zxe(e,t,n){switch(e){case"top":case"bottom":return n?t?TF:kF:t?kF:TF;case"left":case"right":return t?Fxe:Bxe;default:return[]}}function qxe(e,t,n,r){const a=Yi(e);let i=zxe(qa(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(w0)))),i}function N0(e){return e.replace(/left|right|bottom|top/g,t=>Dxe[t])}function Uxe(e){return{top:0,right:0,bottom:0,left:0,...e}}function d_(e){return typeof e!="number"?Uxe(e):{top:e,right:e,bottom:e,left:e}}function gh(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function AF(e,t,n){let{reference:r,floating:a}=e;const i=Vi(t),o=c_(t),l=l_(o),c=qa(t),u=i==="y",f=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,p=r[l]/2-a[l]/2;let g;switch(c){case"top":g={x:f,y:r.y-a.height};break;case"bottom":g={x:f,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:m};break;case"left":g={x:r.x-a.width,y:m};break;default:g={x:r.x,y:r.y}}switch(Yi(t)){case"start":g[o]-=p*(n&&u?-1:1);break;case"end":g[o]+=p*(n&&u?-1:1);break}return g}const Vxe=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:m}=AF(u,r,c),p=r,g={},v=0;for(let y=0;y<l.length;y++){const{name:w,fn:N}=l[y],{x:A,y:T,data:C,reset:S}=await N({x:f,y:m,initialPlacement:r,placement:p,strategy:a,middlewareData:g,rects:u,platform:o,elements:{reference:e,floating:t}});f=A??f,m=T??m,g={...g,[w]:{...g[w],...C}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:f,y:m}=AF(u,p,c)),y=-1)}return{x:f,y:m,placement:p,strategy:a,middlewareData:g}};async function yh(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:p=!1,padding:g=0}=to(t,e),v=d_(g),w=l[p?m==="floating"?"reference":"floating":m],N=gh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),A=m==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),C=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},S=gh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:A,offsetParent:T,strategy:c}):A);return{top:(N.top-S.top+v.top)/C.y,bottom:(S.bottom-N.bottom+v.bottom)/C.y,left:(N.left-S.left+v.left)/C.x,right:(S.right-N.right+v.right)/C.x}}const Hxe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=to(e,t)||{};if(u==null)return{};const m=d_(f),p={x:n,y:r},g=c_(a),v=l_(g),y=await o.getDimensions(u),w=g==="y",N=w?"top":"left",A=w?"bottom":"right",T=w?"clientHeight":"clientWidth",C=i.reference[v]+i.reference[g]-p[g]-i.floating[v],S=p[g]-i.reference[g],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=E?E[T]:0;(!O||!await(o.isElement==null?void 0:o.isElement(E)))&&(O=l.floating[T]||i.floating[v]);const _=C/2-S/2,M=O/2-y[v]/2-1,$=eo(m[N],M),z=eo(m[A],M),V=$,I=O-y[v]-z,F=O/2-y[v]/2+_,K=qO(V,F,I),R=!c.arrow&&Yi(a)!=null&&F!==K&&i.reference[v]/2-(F<V?$:z)-y[v]/2<0,B=R?F<V?F-V:F-I:0;return{[g]:p[g]+B,data:{[g]:K,centerOffset:F-K-B,...R&&{alignmentOffset:B}},reset:R}}});function Kxe(e,t,n){return(e?[...n.filter(a=>Yi(a)===e),...n.filter(a=>Yi(a)!==e)]:n.filter(a=>qa(a)===a)).filter(a=>e?Yi(a)===e||(t?w0(a)!==a:!1):!0)}const Wxe=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,a;const{rects:i,middlewareData:o,placement:l,platform:c,elements:u}=t,{crossAxis:f=!1,alignment:m,allowedPlacements:p=CF,autoAlignment:g=!0,...v}=to(e,t),y=m!==void 0||p===CF?Kxe(m||null,g,p):p,w=await yh(t,v),N=((n=o.autoPlacement)==null?void 0:n.index)||0,A=y[N];if(A==null)return{};const T=xG(A,i,await(c.isRTL==null?void 0:c.isRTL(u.floating)));if(l!==A)return{reset:{placement:y[0]}};const C=[w[qa(A)],w[T[0]],w[T[1]]],S=[...((r=o.autoPlacement)==null?void 0:r.overflows)||[],{placement:A,overflows:C}],E=y[N+1];if(E)return{data:{index:N+1,overflows:S},reset:{placement:E}};const O=S.map($=>{const z=Yi($.placement);return[$.placement,z&&f?$.overflows.slice(0,2).reduce((V,I)=>V+I,0):$.overflows[0],$.overflows]}).sort(($,z)=>$[1]-z[1]),M=((a=O.filter($=>$[2].slice(0,Yi($[0])?2:3).every(z=>z<=0))[0])==null?void 0:a[0])||O[0][0];return M!==l?{data:{index:N+1,overflows:S},reset:{placement:M}}:{}}}},Gxe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...w}=to(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const N=qa(a),A=Vi(l),T=qa(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=p||(T||!y?[N0(l)]:$xe(l)),E=v!=="none";!p&&E&&S.push(...qxe(l,y,v,C));const O=[l,...S],_=await yh(t,w),M=[];let $=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&M.push(_[N]),m){const F=xG(a,o,C);M.push(_[F[0]],_[F[1]])}if($=[...$,{placement:a,overflows:M}],!M.every(F=>F<=0)){var z,V;const F=(((z=i.flip)==null?void 0:z.index)||0)+1,K=O[F];if(K&&(!(m==="alignment"?A!==Vi(K):!1)||$.every(L=>Vi(L.placement)===A?L.overflows[0]>0:!0)))return{data:{index:F,overflows:$},reset:{placement:K}};let R=(V=$.filter(B=>B.overflows[0]<=0).sort((B,L)=>B.overflows[1]-L.overflows[1])[0])==null?void 0:V.placement;if(!R)switch(g){case"bestFit":{var I;const B=(I=$.filter(L=>{if(E){const q=Vi(L.placement);return q===A||q==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(q=>q>0).reduce((q,se)=>q+se,0)]).sort((L,q)=>L[1]-q[1])[0])==null?void 0:I[0];B&&(R=B);break}case"initialPlacement":R=l;break}if(a!==R)return{reset:{placement:R}}}return{}}}};function EF(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function OF(e){return pG.some(t=>e[t]>=0)}const Yxe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=to(e,t);switch(r){case"referenceHidden":{const i=await yh(t,{...a,elementContext:"reference"}),o=EF(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:OF(o)}}}case"escaped":{const i=await yh(t,{...a,altBoundary:!0}),o=EF(i,n.floating);return{data:{escapedOffsets:o,escaped:OF(o)}}}default:return{}}}}};function gG(e){const t=eo(...e.map(i=>i.left)),n=eo(...e.map(i=>i.top)),r=Ns(...e.map(i=>i.right)),a=Ns(...e.map(i=>i.bottom));return{x:t,y:n,width:r-t,height:a-n}}function Xxe(e){const t=e.slice().sort((a,i)=>a.y-i.y),n=[];let r=null;for(let a=0;a<t.length;a++){const i=t[a];!r||i.y-r.y>r.height/2?n.push([i]):n[n.length-1].push(i),r=i}return n.map(a=>gh(gG(a)))}const Qxe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:a,platform:i,strategy:o}=t,{padding:l=2,x:c,y:u}=to(e,t),f=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(r.reference))||[]),m=Xxe(f),p=gh(gG(f)),g=d_(l);function v(){if(m.length===2&&m[0].left>m[1].right&&c!=null&&u!=null)return m.find(w=>c>w.left-g.left&&c<w.right+g.right&&u>w.top-g.top&&u<w.bottom+g.bottom)||p;if(m.length>=2){if(Vi(n)==="y"){const $=m[0],z=m[m.length-1],V=qa(n)==="top",I=$.top,F=z.bottom,K=V?$.left:z.left,R=V?$.right:z.right,B=R-K,L=F-I;return{top:I,bottom:F,left:K,right:R,width:B,height:L,x:K,y:I}}const w=qa(n)==="left",N=Ns(...m.map($=>$.right)),A=eo(...m.map($=>$.left)),T=m.filter($=>w?$.left===A:$.right===N),C=T[0].top,S=T[T.length-1].bottom,E=A,O=N,_=O-E,M=S-C;return{top:C,bottom:S,left:E,right:O,width:_,height:M,x:E,y:C}}return p}const y=await i.getElementRects({reference:{getBoundingClientRect:v},floating:r.floating,strategy:o});return a.reference.x!==y.reference.x||a.reference.y!==y.reference.y||a.reference.width!==y.reference.width||a.reference.height!==y.reference.height?{reset:{rects:y}}:{}}}},yG=new Set(["left","top"]);async function Jxe(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=qa(n),l=Yi(n),c=Vi(n)==="y",u=yG.has(o)?-1:1,f=i&&c?-1:1,m=to(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*f,y:p*u}:{x:p*u,y:g*f}}const Zxe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await Jxe(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},ege=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:N,y:A}=w;return{x:N,y:A}}},...c}=to(e,t),u={x:n,y:r},f=await yh(t,c),m=Vi(qa(a)),p=o_(m);let g=u[p],v=u[m];if(i){const w=p==="y"?"top":"left",N=p==="y"?"bottom":"right",A=g+f[w],T=g-f[N];g=qO(A,g,T)}if(o){const w=m==="y"?"top":"left",N=m==="y"?"bottom":"right",A=v+f[w],T=v-f[N];v=qO(A,v,T)}const y=l.fn({...t,[p]:g,[m]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:i,[m]:o}}}}}},tge=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=to(e,t),f={x:n,y:r},m=Vi(a),p=o_(m);let g=f[p],v=f[m];const y=to(l,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const T=p==="y"?"height":"width",C=i.reference[p]-i.floating[T]+w.mainAxis,S=i.reference[p]+i.reference[T]-w.mainAxis;g<C?g=C:g>S&&(g=S)}if(u){var N,A;const T=p==="y"?"width":"height",C=yG.has(qa(a)),S=i.reference[m]-i.floating[T]+(C&&((N=o.offset)==null?void 0:N[m])||0)+(C?0:w.crossAxis),E=i.reference[m]+i.reference[T]+(C?0:((A=o.offset)==null?void 0:A[m])||0)-(C?w.crossAxis:0);v<S?v=S:v>E&&(v=E)}return{[p]:g,[m]:v}}}},nge=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=to(e,t),f=await yh(t,u),m=qa(a),p=Yi(a),g=Vi(a)==="y",{width:v,height:y}=i.floating;let w,N;m==="top"||m==="bottom"?(w=m,N=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=m,w=p==="end"?"top":"bottom");const A=y-f.top-f.bottom,T=v-f.left-f.right,C=eo(y-f[w],A),S=eo(v-f[N],T),E=!t.middlewareData.shift;let O=C,_=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=T),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(O=A),E&&!p){const $=Ns(f.left,0),z=Ns(f.right,0),V=Ns(f.top,0),I=Ns(f.bottom,0);g?_=v-2*($!==0||z!==0?$+z:Ns(f.left,f.right)):O=y-2*(V!==0||I!==0?V+I:Ns(f.top,f.bottom))}await c({...t,availableWidth:_,availableHeight:O});const M=await o.getDimensions(l.floating);return v!==M.width||y!==M.height?{reset:{rects:!0}}:{}}}};function Hw(){return typeof window<"u"}function dm(e){return vG(e)?(e.nodeName||"").toLowerCase():"#document"}function La(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Uo(e){var t;return(t=(vG(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function vG(e){return Hw()?e instanceof Node||e instanceof La(e).Node:!1}function no(e){return Hw()?e instanceof Element||e instanceof La(e).Element:!1}function Io(e){return Hw()?e instanceof HTMLElement||e instanceof La(e).HTMLElement:!1}function PF(e){return!Hw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof La(e).ShadowRoot}const rge=new Set(["inline","contents"]);function Yg(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=ro(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!rge.has(a)}const sge=new Set(["table","td","th"]);function age(e){return sge.has(dm(e))}const ige=[":popover-open",":modal"];function Kw(e){return ige.some(t=>{try{return e.matches(t)}catch{return!1}})}const oge=["transform","translate","scale","rotate","perspective"],lge=["transform","translate","scale","rotate","perspective","filter"],cge=["paint","layout","strict","content"];function u_(e){const t=f_(),n=no(e)?ro(e):e;return oge.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||lge.some(r=>(n.willChange||"").includes(r))||cge.some(r=>(n.contain||"").includes(r))}function dge(e){let t=Wc(e);for(;Io(t)&&!vh(t);){if(u_(t))return t;if(Kw(t))return null;t=Wc(t)}return null}function f_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uge=new Set(["html","body","#document"]);function vh(e){return uge.has(dm(e))}function ro(e){return La(e).getComputedStyle(e)}function Ww(e){return no(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wc(e){if(dm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||PF(e)&&e.host||Uo(e);return PF(t)?t.host:t}function bG(e){const t=Wc(e);return vh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Io(t)&&Yg(t)?t:bG(t)}function Ux(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=bG(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=La(a);if(i){const l=UO(o);return t.concat(o,o.visualViewport||[],Yg(a)?a:[],l&&n?Ux(l):[])}return t.concat(a,Ux(a,[],n))}function UO(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function jG(e){const t=ro(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Io(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=j0(n)!==i||j0(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function h_(e){return no(e)?e:e.contextElement}function th(e){const t=h_(e);if(!Io(t))return To(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=jG(t);let o=(i?j0(n.width):n.width)/r,l=(i?j0(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const fge=To(0);function wG(e){const t=La(e);return!f_()||!t.visualViewport?fge:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hge(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==La(e)?!1:t}function uu(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=h_(e);let o=To(1);t&&(r?no(r)&&(o=th(r)):o=th(e));const l=hge(i,n,r)?wG(i):To(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,f=a.width/o.x,m=a.height/o.y;if(i){const p=La(i),g=r&&no(r)?La(r):r;let v=p,y=UO(v);for(;y&&r&&g!==v;){const w=th(y),N=y.getBoundingClientRect(),A=ro(y),T=N.left+(y.clientLeft+parseFloat(A.paddingLeft))*w.x,C=N.top+(y.clientTop+parseFloat(A.paddingTop))*w.y;c*=w.x,u*=w.y,f*=w.x,m*=w.y,c+=T,u+=C,v=La(y),y=UO(v)}}return gh({width:f,height:m,x:c,y:u})}function Gw(e,t){const n=Ww(e).scrollLeft;return t?t.left+n:uu(Uo(e)).left+n}function NG(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Gw(e,n),a=n.top+t.scrollTop;return{x:r,y:a}}function mge(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=Uo(r),l=t?Kw(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=To(1);const f=To(0),m=Io(r);if((m||!m&&!i)&&((dm(r)!=="body"||Yg(o))&&(c=Ww(r)),Io(r))){const g=uu(r);u=th(r),f.x=g.x+r.clientLeft,f.y=g.y+r.clientTop}const p=o&&!m&&!i?NG(o,c):To(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+p.x,y:n.y*u.y-c.scrollTop*u.y+f.y+p.y}}function pge(e){return Array.from(e.getClientRects())}function xge(e){const t=Uo(e),n=Ww(e),r=e.ownerDocument.body,a=Ns(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ns(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Gw(e);const l=-n.scrollTop;return ro(r).direction==="rtl"&&(o+=Ns(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}const MF=25;function gge(e,t){const n=La(e),r=Uo(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const f=f_();(!f||f&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=Gw(r);if(u<=0){const f=r.ownerDocument,m=f.body,p=getComputedStyle(m),g=f.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,v=Math.abs(r.clientWidth-m.clientWidth-g);v<=MF&&(i-=v)}else u<=MF&&(i+=u);return{width:i,height:o,x:l,y:c}}const yge=new Set(["absolute","fixed"]);function vge(e,t){const n=uu(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Io(e)?th(e):To(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function _F(e,t,n){let r;if(t==="viewport")r=gge(e,n);else if(t==="document")r=xge(Uo(e));else if(no(t))r=vge(t,n);else{const a=wG(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return gh(r)}function SG(e,t){const n=Wc(e);return n===t||!no(n)||vh(n)?!1:ro(n).position==="fixed"||SG(n,t)}function bge(e,t){const n=t.get(e);if(n)return n;let r=Ux(e,[],!1).filter(l=>no(l)&&dm(l)!=="body"),a=null;const i=ro(e).position==="fixed";let o=i?Wc(e):e;for(;no(o)&&!vh(o);){const l=ro(o),c=u_(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&yge.has(a.position)||Yg(o)&&!c&&SG(e,o))?r=r.filter(f=>f!==o):a=l,o=Wc(o)}return t.set(e,r),r}function jge(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?Kw(t)?[]:bge(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,f)=>{const m=_F(t,f,a);return u.top=Ns(m.top,u.top),u.right=eo(m.right,u.right),u.bottom=eo(m.bottom,u.bottom),u.left=Ns(m.left,u.left),u},_F(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function wge(e){const{width:t,height:n}=jG(e);return{width:t,height:n}}function Nge(e,t,n){const r=Io(t),a=Uo(t),i=n==="fixed",o=uu(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=To(0);function u(){c.x=Gw(a)}if(r||!r&&!i)if((dm(t)!=="body"||Yg(a))&&(l=Ww(t)),r){const g=uu(t,!0,i,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else a&&u();i&&!r&&a&&u();const f=a&&!r&&!i?NG(a,l):To(0),m=o.left+l.scrollLeft-c.x-f.x,p=o.top+l.scrollTop-c.y-f.y;return{x:m,y:p,width:o.width,height:o.height}}function iC(e){return ro(e).position==="static"}function RF(e,t){if(!Io(e)||ro(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Uo(e)===n&&(n=n.ownerDocument.body),n}function CG(e,t){const n=La(e);if(Kw(e))return n;if(!Io(e)){let a=Wc(e);for(;a&&!vh(a);){if(no(a)&&!iC(a))return a;a=Wc(a)}return n}let r=RF(e,t);for(;r&&age(r)&&iC(r);)r=RF(r,t);return r&&vh(r)&&iC(r)&&!u_(r)?n:r||dge(e)||n}const Sge=async function(e){const t=this.getOffsetParent||CG,n=this.getDimensions,r=await n(e.floating);return{reference:Nge(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Cge(e){return ro(e).direction==="rtl"}const kge={convertOffsetParentRelativeRectToViewportRelativeRect:mge,getDocumentElement:Uo,getClippingRect:jge,getOffsetParent:CG,getElementRects:Sge,getClientRects:pge,getDimensions:wge,getScale:th,isElement:no,isRTL:Cge};function kG(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Tge(e,t){let n=null,r;const a=Uo(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:f,top:m,width:p,height:g}=u;if(l||t(),!p||!g)return;const v=Zv(m),y=Zv(a.clientWidth-(f+p)),w=Zv(a.clientHeight-(m+g)),N=Zv(f),T={rootMargin:-v+"px "+-y+"px "+-w+"px "+-N+"px",threshold:Ns(0,eo(1,c))||1};let C=!0;function S(E){const O=E[0].intersectionRatio;if(O!==c){if(!C)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!kG(u,e.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(S,{...T,root:a.ownerDocument})}catch{n=new IntersectionObserver(S,T)}n.observe(e)}return o(!0),i}function Age(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=h_(e),f=a||i?[...u?Ux(u):[],...Ux(t)]:[];f.forEach(N=>{a&&N.addEventListener("scroll",n,{passive:!0}),i&&N.addEventListener("resize",n)});const m=u&&l?Tge(u,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(N=>{let[A]=N;A&&A.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(t)})),n()}),u&&!c&&g.observe(u),g.observe(t));let v,y=c?uu(e):null;c&&w();function w(){const N=uu(e);y&&!kG(y,N)&&n(),y=N,v=requestAnimationFrame(w)}return n(),()=>{var N;f.forEach(A=>{a&&A.removeEventListener("scroll",n),i&&A.removeEventListener("resize",n)}),m?.(),(N=g)==null||N.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const m_=Zxe,TG=Wxe,p_=ege,x_=Gxe,g_=nge,y_=Yxe,S0=Hxe,AG=Qxe,Ege=tge,v_=(e,t,n)=>{const r=new Map,a={platform:kge,...n},i={...a.platform,_c:r};return Vxe(e,t,{...a,platform:i})};var Oge=typeof document<"u",Pge=function(){},Kb=Oge?j.useLayoutEffect:Pge;function C0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!C0(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!C0(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function EG(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function DF(e,t){const n=EG(e);return Math.round(t*n)/n}function oC(e){const t=j.useRef(e);return Kb(()=>{t.current=e}),t}function Mge(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,m]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,g]=j.useState(r);C0(p,r)||g(r);const[v,y]=j.useState(null),[w,N]=j.useState(null),A=j.useCallback(L=>{L!==E.current&&(E.current=L,y(L))},[]),T=j.useCallback(L=>{L!==O.current&&(O.current=L,N(L))},[]),C=i||v,S=o||w,E=j.useRef(null),O=j.useRef(null),_=j.useRef(f),M=c!=null,$=oC(c),z=oC(a),V=oC(u),I=j.useCallback(()=>{if(!E.current||!O.current)return;const L={placement:t,strategy:n,middleware:p};z.current&&(L.platform=z.current),v_(E.current,O.current,L).then(q=>{const se={...q,isPositioned:V.current!==!1};F.current&&!C0(_.current,se)&&(_.current=se,Ul.flushSync(()=>{m(se)}))})},[p,t,n,z,V]);Kb(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,m(L=>({...L,isPositioned:!1})))},[u]);const F=j.useRef(!1);Kb(()=>(F.current=!0,()=>{F.current=!1}),[]),Kb(()=>{if(C&&(E.current=C),S&&(O.current=S),C&&S){if($.current)return $.current(C,S,I);I()}},[C,S,I,$,M]);const K=j.useMemo(()=>({reference:E,floating:O,setReference:A,setFloating:T}),[A,T]),R=j.useMemo(()=>({reference:C,floating:S}),[C,S]),B=j.useMemo(()=>{const L={position:n,left:0,top:0};if(!R.floating)return L;const q=DF(R.floating,f.x),se=DF(R.floating,f.y);return l?{...L,transform:"translate("+q+"px, "+se+"px)",...EG(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:se}},[n,l,R.floating,f.x,f.y]);return j.useMemo(()=>({...f,update:I,refs:K,elements:R,floatingStyles:B}),[f,I,K,R,B])}const _ge=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?S0({element:r.current,padding:a}).fn(n):{}:r?S0({element:r,padding:a}).fn(n):{}}}},Rge=(e,t)=>({...m_(e),options:[e,t]}),Dge=(e,t)=>({...p_(e),options:[e,t]}),Ige=(e,t)=>({...Ege(e),options:[e,t]}),Lge=(e,t)=>({...x_(e),options:[e,t]}),$ge=(e,t)=>({...g_(e),options:[e,t]}),Fge=(e,t)=>({...y_(e),options:[e,t]}),Bge=(e,t)=>({..._ge(e),options:[e,t]});var zge="Arrow",OG=j.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(Je.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});OG.displayName=zge;var qge=OG;function b_(e){const[t,n]=j.useState(void 0);return Zt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var j_="Popper",[PG,Qc]=ss(j_),[Uge,MG]=PG(j_),_G=e=>{const{__scopePopper:t,children:n}=e,[r,a]=j.useState(null);return s.jsx(Uge,{scope:t,anchor:r,onAnchorChange:a,children:n})};_G.displayName=j_;var RG="PopperAnchor",DG=j.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=MG(RG,n),o=j.useRef(null),l=it(t,o),c=j.useRef(null);return j.useEffect(()=>{const u=c.current;c.current=r?.current||o.current,u!==c.current&&i.onAnchorChange(c.current)}),r?null:s.jsx(Je.div,{...a,ref:l})});DG.displayName=RG;var w_="PopperContent",[Vge,Hge]=PG(w_),IG=j.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:v,...y}=e,w=MG(w_,n),[N,A]=j.useState(null),T=it(t,he=>A(he)),[C,S]=j.useState(null),E=b_(C),O=E?.width??0,_=E?.height??0,M=r+(i!=="center"?"-"+i:""),$=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},z=Array.isArray(u)?u:[u],V=z.length>0,I={padding:$,boundary:z.filter(Wge),altBoundary:V},{refs:F,floatingStyles:K,placement:R,isPositioned:B,middlewareData:L}=Mge({strategy:"fixed",placement:M,whileElementsMounted:(...he)=>Age(...he,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[Rge({mainAxis:a+_,alignmentAxis:o}),c&&Dge({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Ige():void 0,...I}),c&&Lge({...I}),$ge({...I,apply:({elements:he,rects:Fe,availableWidth:ge,availableHeight:Ae})=>{const{width:_e,height:ee}=Fe.reference,Le=he.floating.style;Le.setProperty("--radix-popper-available-width",`${ge}px`),Le.setProperty("--radix-popper-available-height",`${Ae}px`),Le.setProperty("--radix-popper-anchor-width",`${_e}px`),Le.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),C&&Bge({element:C,padding:l}),Gge({arrowWidth:O,arrowHeight:_}),p&&Fge({strategy:"referenceHidden",...I})]}),[q,se]=FG(R),H=Pn(v);Zt(()=>{B&&H?.()},[B,H]);const Y=L.arrow?.x,G=L.arrow?.y,X=L.arrow?.centerOffset!==0,[ae,de]=j.useState();return Zt(()=>{N&&de(window.getComputedStyle(N).zIndex)},[N]),s.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:B?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Vge,{scope:n,placedSide:q,onArrowChange:S,arrowX:Y,arrowY:G,shouldHideArrow:X,children:s.jsx(Je.div,{"data-side":q,"data-align":se,...y,ref:T,style:{...y.style,animation:B?void 0:"none"}})})})});IG.displayName=w_;var LG="PopperArrow",Kge={top:"bottom",right:"left",bottom:"top",left:"right"},$G=j.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=Hge(LG,r),o=Kge[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(qge,{...a,ref:n,style:{...a.style,display:"block"}})})});$G.displayName=LG;function Wge(e){return e!==null}var Gge=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=FG(n),m={start:"0%",center:"50%",end:"100%"}[f],p=(a.arrow?.x??0)+l/2,g=(a.arrow?.y??0)+c/2;let v="",y="";return u==="bottom"?(v=o?m:`${p}px`,y=`${-c}px`):u==="top"?(v=o?m:`${p}px`,y=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,y=o?m:`${g}px`):u==="left"&&(v=`${r.floating.width+c}px`,y=o?m:`${g}px`),{data:{x:v,y}}}});function FG(e){const[t,n="center"]=e.split("-");return[t,n]}var Xg=_G,Qg=DG,Yw=IG,Xw=$G,Yge="Portal",um=j.forwardRef((e,t)=>{const{container:n,...r}=e,[a,i]=j.useState(!1);Zt(()=>i(!0),[]);const o=n||a&&globalThis?.document?.body;return o?HM.createPortal(s.jsx(Je.div,{...r,ref:t}),o):null});um.displayName=Yge;function Xge(e,t){return j.useReducer((n,r)=>t[n][r]??n,e)}var Vr=e=>{const{present:t,children:n}=e,r=Qge(t),a=typeof n=="function"?n({present:r.isPresent}):j.Children.only(n),i=it(r.ref,Jge(a));return typeof n=="function"||r.isPresent?j.cloneElement(a,{ref:i}):null};Vr.displayName="Presence";function Qge(e){const[t,n]=j.useState(),r=j.useRef(null),a=j.useRef(e),i=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Xge(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=eb(r.current);i.current=l==="mounted"?u:"none"},[l]),Zt(()=>{const u=r.current,f=a.current;if(f!==e){const p=i.current,g=eb(u);e?c("MOUNT"):g==="none"||u?.display==="none"?c("UNMOUNT"):c(f&&p!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Zt(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,m=g=>{const y=eb(r.current).includes(CSS.escape(g.animationName));if(g.target===t&&y&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=g=>{g.target===t&&(i.current=eb(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function eb(e){return e?.animationName||"none"}function Jge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Zge=Symbol("radix.slottable");function eye(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Zge,t}var tye=pa[" useInsertionEffect ".trim().toString()]||Zt;function nye({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=rye({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=sye(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function rye({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return tye(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function sye(e){return typeof e=="function"}var BG=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),aye="VisuallyHidden",zG=j.forwardRef((e,t)=>s.jsx(Je.span,{...e,ref:t,style:{...BG,...e.style}}));zG.displayName=aye;var iye=zG,[Qw]=ss("Tooltip",[Qc]),Jw=Qc(),qG="TooltipProvider",oye=700,VO="tooltip.open",[lye,N_]=Qw(qG),UG=e=>{const{__scopeTooltip:t,delayDuration:n=oye,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=e,o=j.useRef(!0),l=j.useRef(!1),c=j.useRef(0);return j.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(lye,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:j.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:j.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};UG.displayName=qG;var Vx="Tooltip",[cye,Jg]=Qw(Vx),VG=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=N_(Vx,e.__scopeTooltip),u=Jw(t),[f,m]=j.useState(null),p=Ts(),g=j.useRef(0),v=o??c.disableHoverableContent,y=l??c.delayDuration,w=j.useRef(!1),[N,A]=nye({prop:r,defaultProp:a??!1,onChange:O=>{O?(c.onOpen(),document.dispatchEvent(new CustomEvent(VO))):c.onClose(),i?.(O)},caller:Vx}),T=j.useMemo(()=>N?w.current?"delayed-open":"instant-open":"closed",[N]),C=j.useCallback(()=>{window.clearTimeout(g.current),g.current=0,w.current=!1,A(!0)},[A]),S=j.useCallback(()=>{window.clearTimeout(g.current),g.current=0,A(!1)},[A]),E=j.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{w.current=!0,A(!0),g.current=0},y)},[y,A]);return j.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),s.jsx(Xg,{...u,children:s.jsx(cye,{scope:t,contentId:p,open:N,stateAttribute:T,trigger:f,onTriggerChange:m,onTriggerEnter:j.useCallback(()=>{c.isOpenDelayedRef.current?E():C()},[c.isOpenDelayedRef,E,C]),onTriggerLeave:j.useCallback(()=>{v?S():(window.clearTimeout(g.current),g.current=0)},[S,v]),onOpen:C,onClose:S,disableHoverableContent:v,children:n})})};VG.displayName=Vx;var HO="TooltipTrigger",HG=j.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Jg(HO,n),i=N_(HO,n),o=Jw(n),l=j.useRef(null),c=it(t,l,a.onTriggerChange),u=j.useRef(!1),f=j.useRef(!1),m=j.useCallback(()=>u.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(Qg,{asChild:!0,...o,children:s.jsx(Je.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:kf(e.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:kf(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:kf(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:kf(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:kf(e.onBlur,a.onClose),onClick:kf(e.onClick,a.onClose)})})});HG.displayName=HO;var S_="TooltipPortal",[dye,uye]=Qw(S_,{forceMount:void 0}),KG=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:a}=e,i=Jg(S_,t);return s.jsx(dye,{scope:t,forceMount:n,children:s.jsx(Vr,{present:n||i.open,children:s.jsx(um,{asChild:!0,container:a,children:r})})})};KG.displayName=S_;var bh="TooltipContent",WG=j.forwardRef((e,t)=>{const n=uye(bh,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=e,o=Jg(bh,e.__scopeTooltip);return s.jsx(Vr,{present:r||o.open,children:o.disableHoverableContent?s.jsx(GG,{side:a,...i,ref:t}):s.jsx(fye,{side:a,...i,ref:t})})}),fye=j.forwardRef((e,t)=>{const n=Jg(bh,e.__scopeTooltip),r=N_(bh,e.__scopeTooltip),a=j.useRef(null),i=it(t,a),[o,l]=j.useState(null),{trigger:c,onClose:u}=n,f=a.current,{onPointerInTransitChange:m}=r,p=j.useCallback(()=>{l(null),m(!1)},[m]),g=j.useCallback((v,y)=>{const w=v.currentTarget,N={x:v.clientX,y:v.clientY},A=gye(N,w.getBoundingClientRect()),T=yye(N,A),C=vye(y.getBoundingClientRect()),S=jye([...T,...C]);l(S),m(!0)},[m]);return j.useEffect(()=>()=>p(),[p]),j.useEffect(()=>{if(c&&f){const v=w=>g(w,f),y=w=>g(w,c);return c.addEventListener("pointerleave",v),f.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",y)}}},[c,f,g,p]),j.useEffect(()=>{if(o){const v=y=>{const w=y.target,N={x:y.clientX,y:y.clientY},A=c?.contains(w)||f?.contains(w),T=!bye(N,o);A?p():T&&(p(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,f,o,u,p]),s.jsx(GG,{...e,ref:i})}),[hye,mye]=Qw(Vx,{isInside:!1}),pye=eye("TooltipContent"),GG=j.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Jg(bh,n),u=Jw(n),{onClose:f}=c;return j.useEffect(()=>(document.addEventListener(VO,f),()=>document.removeEventListener(VO,f)),[f]),j.useEffect(()=>{if(c.trigger){const m=p=>{p.target?.contains(c.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,f]),s.jsx(cm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:s.jsxs(Yw,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(pye,{children:r}),s.jsx(hye,{scope:n,isInside:!0,children:s.jsx(iye,{id:c.contentId,role:"tooltip",children:a||r})})]})})});WG.displayName=bh;var YG="TooltipArrow",xye=j.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Jw(n);return mye(YG,n).isInside?null:s.jsx(Xw,{...a,...r,ref:t})});xye.displayName=YG;function gye(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function yye(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function vye(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function bye(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,f=l.y,m=c.x,p=c.y;f>r!=p>r&&n<(m-u)*(r-f)/(p-f)+u&&(a=!a)}return a}function jye(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),wye(t)}function wye(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Nye=UG,Sye=VG,Cye=HG,kye=KG,XG=WG;const k0=Nye,Wb=Sye,Gb=Cye,ux=j.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(kye,{children:s.jsx(XG,{ref:r,sideOffset:t,className:Re("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})}));ux.displayName=XG.displayName;const Tye={manager:{overview:{canView:!0,canWrite:!0},offers:{canView:!0,canWrite:!0},partners:{canView:!0,canWrite:!0},requests:{canView:!0,canWrite:!0},reports:{canView:!0,canWrite:!0},finance:{canView:!0,canWrite:!0},antifraud:{canView:!0,canWrite:!0},postbacks:{canView:!0,canWrite:!0},news:{canView:!0,canWrite:!0},team:{canView:!0,canWrite:!0},settings:{canView:!0,canWrite:!0}},analyst:{overview:{canView:!0,canWrite:!1},offers:{canView:!0,canWrite:!1},partners:{canView:!1,canWrite:!1},requests:{canView:!1,canWrite:!1},reports:{canView:!0,canWrite:!1},finance:{canView:!1,canWrite:!1},antifraud:{canView:!0,canWrite:!1},postbacks:{canView:!0,canWrite:!1},news:{canView:!0,canWrite:!1},team:{canView:!1,canWrite:!1},settings:{canView:!1,canWrite:!1}},support:{overview:{canView:!0,canWrite:!1},offers:{canView:!1,canWrite:!1},partners:{canView:!0,canWrite:!0},requests:{canView:!0,canWrite:!0},reports:{canView:!1,canWrite:!1},finance:{canView:!1,canWrite:!1},antifraud:{canView:!1,canWrite:!1},postbacks:{canView:!0,canWrite:!1},news:{canView:!0,canWrite:!1},team:{canView:!1,canWrite:!1},settings:{canView:!1,canWrite:!1}},finance:{overview:{canView:!0,canWrite:!1},offers:{canView:!1,canWrite:!1},partners:{canView:!1,canWrite:!1},requests:{canView:!1,canWrite:!1},reports:{canView:!1,canWrite:!1},finance:{canView:!0,canWrite:!0},antifraud:{canView:!1,canWrite:!1},postbacks:{canView:!0,canWrite:!1},news:{canView:!0,canWrite:!1},team:{canView:!1,canWrite:!1},settings:{canView:!1,canWrite:!1}}};function QG(e,t){return Tye[e]?.[t]??{canView:!1,canWrite:!1}}function Aye(e,t){return QG(e,t).canView}function Eye(e,t){return QG(e,t).canWrite}const Oye={"":"overview",offers:"offers",partners:"partners",requests:"requests",reports:"reports",finance:"finance",antifraud:"antifraud",postbacks:"postbacks",news:"news",team:"team",settings:"settings"};function JG(e){const t=e.split("/").filter(Boolean).pop()||"";return e.match(/\/dashboard\/advertiser\/?$/)?"overview":e.includes("/offer/")?"offers":e.includes("/partner/")?"partners":Oye[t]??null}const ZG=j.createContext({isStaff:!1,staffRole:null,staffAdvertiserId:null,advertiserName:null,staffLoading:!0,canWrite:()=>!0,canAccess:()=>!0});function Pye({children:e}){const{data:t,isLoading:n}=Ne({queryKey:["/api/user"]}),r=n,a=t?.isStaff||!1,i=t?.staffRole||null,o=t?.staffAdvertiserId||null,l=t?.advertiserName||null,c=f=>r||!a||!i?!0:Aye(i,f),u=f=>r||!a||!i?!0:Eye(i,f);return s.jsx(ZG.Provider,{value:{isStaff:a,staffRole:i,staffAdvertiserId:o,advertiserName:l,staffLoading:r,canWrite:u,canAccess:c},children:e})}function Zg(){return j.useContext(ZG)}const KO={isWhiteLabel:!1,brandName:"Primetrack",logoUrl:null,hidePlatformBranding:!1},eY=j.createContext({branding:KO,isLoading:!0});function Mye({children:e}){const{data:t=KO,isLoading:n}=Ne({queryKey:["/api/public/branding",window.location.hostname],queryFn:async()=>{const r=await fetch(`/api/public/branding?domain=${window.location.hostname}`);return r.ok?r.json():KO},staleTime:3e5});return s.jsx(eY.Provider,{value:{branding:t,isLoading:n},children:e})}function _ye(){return j.useContext(eY)}const J=j.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Re("rounded-xl border bg-card text-card-foreground shadow",e),...t}));J.displayName="Card";const Pe=j.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Re("flex flex-col space-y-1.5 p-6",e),...t}));Pe.displayName="CardHeader";const Ie=j.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Re("font-semibold leading-none tracking-tight",e),...t}));Ie.displayName="CardTitle";const et=j.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Re("text-sm text-muted-foreground",e),...t}));et.displayName="CardDescription";const ne=j.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Re("p-6 pt-0",e),...t}));ne.displayName="CardContent";const tY=j.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Re("flex items-center p-6 pt-0",e),...t}));tY.displayName="CardFooter";function Rye(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(J,{className:"w-full max-w-md mx-4",children:s.jsxs(ne,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(Kn,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const lC={en:{title:"Page Unavailable",message:"This page is temporarily unavailable. Please try again later."},es:{title:"Pgina no disponible",message:"Este sitio no est disponible en este momento. Por favor, intntelo ms tarde."},pt:{title:"Pgina indisponvel",message:"Este site no est disponvel no momento. Por favor, tente novamente mais tarde."},de:{title:"Seite nicht verfgbar",message:"Diese Seite ist vorbergehend nicht verfgbar. Bitte versuchen Sie es spter erneut."},ru:{title:" ",message:"   . ,  ."},fr:{title:"Page indisponible",message:"Cette page est temporairement indisponible. Veuillez ressayer plus tard."},it:{title:"Pagina non disponibile",message:"Questa pagina  temporaneamente non disponibile. Si prega di riprovare pi tardi."},pl:{title:"Strona niedostpna",message:"Ta strona jest tymczasowo niedostpna. Prosz sprbowa ponownie pniej."},tr:{title:"Sayfa Kullanlamyor",message:"Bu sayfa geici olarak kullanlamyor. Ltfen daha sonra tekrar deneyin."},ja:{title:"",message:""},ko:{title:"   ",message:"     .    ."},zh:{title:"",message:""},ar:{title:"  ",message:"    .     ."},hi:{title:"   ",message:"            "},th:{title:"",message:" "},vi:{title:"Trang khng kh dng",message:"Trang ny tm thi khng kh dng. Vui lng th li sau."},id:{title:"Halaman Tidak Tersedia",message:"Halaman ini sementara tidak tersedia. Silakan coba lagi nanti."},nl:{title:"Pagina niet beschikbaar",message:"Deze pagina is tijdelijk niet beschikbaar. Probeer het later opnieuw."},sv:{title:"Sidan r inte tillgnglig",message:"Denna sida r tillflligt otillgnglig. Frsk igen senare."},uk:{title:" ",message:"   .  ,  ."}};function Dye(){const[e,t]=j.useState(lC.en);return j.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("lang")?.toLowerCase()||"en";t(lC[r]||lC.en)},[]),s.jsx("div",{"data-testid":"system-unavailable-page",className:"min-h-screen bg-white flex items-center justify-center",style:{fontFamily:"'Segoe UI', 'Helvetica Neue', Arial, sans-serif"},children:s.jsxs("div",{className:"text-center px-6 max-w-md",children:[s.jsx("h1",{"data-testid":"system-unavailable-title",className:"text-xl font-medium text-gray-700 mb-4",children:e.title}),s.jsx("p",{"data-testid":"system-unavailable-message",className:"text-gray-500 text-base leading-relaxed",children:e.message})]})})}var Iye=Symbol.for("react.lazy"),T0=pa[" use ".trim().toString()];function Lye(e){return typeof e=="object"&&e!==null&&"then"in e}function nY(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Iye&&"_payload"in e&&Lye(e._payload)}function C_(e){const t=Fye(e),n=j.forwardRef((r,a)=>{let{children:i,...o}=r;nY(i)&&typeof T0=="function"&&(i=T0(i._payload));const l=j.Children.toArray(i),c=l.find(zye);if(c){const u=c.props.children,f=l.map(m=>m===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var $ye=C_("Slot");function Fye(e){const t=j.forwardRef((n,r)=>{let{children:a,...i}=n;if(nY(a)&&typeof T0=="function"&&(a=T0(a._payload)),j.isValidElement(a)){const o=Uye(a),l=qye(i,a.props);return a.type!==j.Fragment&&(l.ref=r?io(r,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Bye=Symbol("radix.slottable");function zye(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Bye}function qye(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function Uye(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const k_=am("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground shadow-sm border-destructive-border",outline:" border [border-color:var(--button-outline)] shadow-xs active:shadow-none ",accent:"border border-emerald-600 text-white bg-emerald-500 hover:bg-emerald-600 shadow-xs active:shadow-none",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),U=j.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},i)=>{const o=r?$ye:"button";return s.jsx(o,{className:Re(k_({variant:t,size:n,className:e})),ref:i,...a})});U.displayName="Button";const jt=e=>typeof e=="string",Ap=()=>{let e,t;const n=new Promise((r,a)=>{e=r,t=a});return n.resolve=e,n.reject=t,n},IF=e=>e==null?"":""+e,Vye=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},Hye=/###/g,LF=e=>e&&e.indexOf("###")>-1?e.replace(Hye,"."):e,$F=e=>!e||jt(e),fx=(e,t,n)=>{const r=jt(t)?t.split("."):t;let a=0;for(;a<r.length-1;){if($F(e))return{};const i=LF(r[a]);!e[i]&&n&&(e[i]=new n),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++a}return $F(e)?{}:{obj:e,k:LF(r[a])}},FF=(e,t,n)=>{const{obj:r,k:a}=fx(e,t,Object);if(r!==void 0||t.length===1){r[a]=n;return}let i=t[t.length-1],o=t.slice(0,t.length-1),l=fx(e,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=fx(e,o,Object),l?.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=n},Kye=(e,t,n,r)=>{const{obj:a,k:i}=fx(e,t,Object);a[i]=a[i]||[],a[i].push(n)},A0=(e,t)=>{const{obj:n,k:r}=fx(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Wye=(e,t,n)=>{const r=A0(e,n);return r!==void 0?r:A0(t,n)},rY=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?jt(e[r])||e[r]instanceof String||jt(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):rY(e[r],t[r],n):e[r]=t[r]);return e},Tf=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Gye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Yye=e=>jt(e)?e.replace(/[&<>"'\/]/g,t=>Gye[t]):e;class Xye{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const Qye=[" ",",","?","!",";"],Jye=new Xye(20),Zye=(e,t,n)=>{t=t||"",n=n||"";const r=Qye.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const a=Jye.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!a.test(e);if(!i){const o=e.indexOf(n);o>0&&!a.test(e.substring(0,o))&&(i=!0)}return i},WO=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let a=e;for(let i=0;i<r.length;){if(!a||typeof a!="object")return;let o,l="";for(let c=i;c<r.length;++c)if(c!==i&&(l+=n),l+=r[c],o=a[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<r.length-1)continue;i+=c-i+1;break}a=o}return a},Hx=e=>e?.replace("_","-"),eve={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class E0{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||eve,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,a){return a&&!this.debug?null:(jt(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new E0(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new E0(this.logger,t)}}var Co=new E0;let Zw=class{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(n)||0;this.observers[r].set(n,a+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a.apply(a,[t,...n])})}};class BF extends Zw{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,a={}){const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,n],r&&(Array.isArray(r)?l.push(...r):jt(r)&&i?l.push(...r.split(i)):l.push(r)));const c=A0(this.data,l);return!c&&!n&&!r&&t.indexOf(".")>-1&&(t=l[0],n=l[1],r=l.slice(2).join(".")),c||!o||!jt(r)?c:WO(this.data?.[t]?.[n],r,i)}addResource(t,n,r,a,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[t,n];r&&(l=l.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(l=t.split("."),a=n,n=l[1]),this.addNamespaces(n),FF(this.data,l,a),i.silent||this.emit("added",t,n,r,a)}addResources(t,n,r,a={silent:!1}){for(const i in r)(jt(r[i])||Array.isArray(r[i]))&&this.addResource(t,n,i,r[i],{silent:!0});a.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,a,i,o={silent:!1,skipCopy:!1}){let l=[t,n];t.indexOf(".")>-1&&(l=t.split("."),a=r,r=n,n=l[1]),this.addNamespaces(n);let c=A0(this.data,l)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?rY(c,r,i):c={...c,...r},FF(this.data,l,c),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var sY={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,a){return e.forEach(i=>{t=this.processors[i]?.process(t,n,r,a)??t}),t}};const aY=Symbol("i18next/PATH_KEY");function tve(){const e=[],t=Object.create(null);let n;return t.get=(r,a)=>(n?.revoke?.(),a===aY?e:(e.push(a),n=Proxy.revocable(r,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function GO(e,t){const{[aY]:n}=e(tve());return n.join(t?.keySeparator??".")}const zF={},cC=e=>!jt(e)&&typeof e!="boolean"&&typeof e!="number";class O0 extends Zw{constructor(t,n={}){super(),Vye(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Co.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const r={...n};if(t==null)return!1;const a=this.resolve(t,r);if(a?.res===void 0)return!1;const i=cC(a.res);return!(r.returnObjects===!1&&i)}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Zye(t,r,a);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:jt(i)?[i]:i};const u=t.split(r);(r!==a||r===a&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),t=u.join(a)}return{key:t,namespaces:jt(i)?[i]:i}}translate(t,n,r){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),t==null)return"";typeof t=="function"&&(t=GO(t,{...this.options,...a})),Array.isArray(t)||(t=[String(t)]);const i=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],a),u=c[c.length-1];let f=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");const m=a.lng||this.language,p=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m?.toLowerCase()==="cimode")return p?i?{res:`${u}${f}${l}`,usedKey:l,exactUsedKey:l,usedLng:m,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:`${u}${f}${l}`:i?{res:l,usedKey:l,exactUsedKey:l,usedLng:m,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:l;const g=this.resolve(t,a);let v=g?.res;const y=g?.usedKey||l,w=g?.exactUsedKey||l,N=["[object Number]","[object Function]","[object RegExp]"],A=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,C=a.count!==void 0&&!jt(a.count),S=O0.hasDefaultValue(a),E=C?this.pluralResolver.getSuffix(m,a.count,a):"",O=a.ordinal&&C?this.pluralResolver.getSuffix(m,a.count,{ordinal:!1}):"",_=C&&!a.ordinal&&a.count===0,M=_&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${E}`]||a[`defaultValue${O}`]||a.defaultValue;let $=v;T&&!v&&S&&($=M);const z=cC($),V=Object.prototype.toString.apply($);if(T&&$&&z&&N.indexOf(V)<0&&!(jt(A)&&Array.isArray($))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const I=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,$,{...a,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return i?(g.res=I,g.usedParams=this.getUsedParamsDetails(a),g):I}if(o){const I=Array.isArray($),F=I?[]:{},K=I?w:y;for(const R in $)if(Object.prototype.hasOwnProperty.call($,R)){const B=`${K}${o}${R}`;S&&!v?F[R]=this.translate(B,{...a,defaultValue:cC(M)?M[R]:void 0,joinArrays:!1,ns:c}):F[R]=this.translate(B,{...a,joinArrays:!1,ns:c}),F[R]===B&&(F[R]=$[R])}v=F}}else if(T&&jt(A)&&Array.isArray(v))v=v.join(A),v&&(v=this.extendTranslation(v,t,a,r));else{let I=!1,F=!1;!this.isValidLookup(v)&&S&&(I=!0,v=M),this.isValidLookup(v)||(F=!0,v=l);const R=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&F?void 0:v,B=S&&M!==v&&this.options.updateMissing;if(F||I||B){if(this.logger.log(B?"updateKey":"missingKey",m,u,l,B?M:v),o){const H=this.resolve(l,{...a,keySeparator:!1});H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let L=[];const q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&q&&q[0])for(let H=0;H<q.length;H++)L.push(q[H]);else this.options.saveMissingTo==="all"?L=this.languageUtils.toResolveHierarchy(a.lng||this.language):L.push(a.lng||this.language);const se=(H,Y,G)=>{const X=S&&G!==v?G:R;this.options.missingKeyHandler?this.options.missingKeyHandler(H,u,Y,X,B,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(H,u,Y,X,B,a),this.emit("missingKey",H,u,Y,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?L.forEach(H=>{const Y=this.pluralResolver.getSuffixes(H,a);_&&a[`defaultValue${this.options.pluralSeparator}zero`]&&Y.indexOf(`${this.options.pluralSeparator}zero`)<0&&Y.push(`${this.options.pluralSeparator}zero`),Y.forEach(G=>{se([H],l+G,a[`defaultValue${G}`]||M)})}):se(L,l,M))}v=this.extendTranslation(v,t,a,g,r),F&&v===l&&this.options.appendNamespaceToMissingKey&&(v=`${u}${f}${l}`),(F||I)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${f}${l}`:l,I?v:void 0,a))}return i?(g.res=v,g.usedParams=this.getUsedParamsDetails(a),g):v}extendTranslation(t,n,r,a,i){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=jt(t)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const m=t.match(this.interpolator.nestingRegexp);u=m&&m.length}let f=r.replace&&!jt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,r.lng||this.language||a.usedLng,r),c){const m=t.match(this.interpolator.nestingRegexp),p=m&&m.length;u<p&&(r.nest=!1)}!r.lng&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...m)=>i?.[0]===m[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):this.translate(...m,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,l=jt(o)?[o]:o;return t!=null&&l?.length&&r.applyPostProcessor!==!1&&(t=sY.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,a,i,o,l;return jt(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(c,n),f=u.key;a=f;let m=u.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const p=n.count!==void 0&&!jt(n.count),g=p&&!n.ordinal&&n.count===0,v=n.context!==void 0&&(jt(n.context)||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);m.forEach(w=>{this.isValidLookup(r)||(l=w,!zF[`${y[0]}-${w}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(zF[`${y[0]}-${w}`]=!0,this.logger.warn(`key "${a}" for languages "${y.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(N=>{if(this.isValidLookup(r))return;o=N;const A=[f];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(A,f,N,w,n);else{let C;p&&(C=this.pluralResolver.getSuffix(N,n.count,n));const S=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(n.ordinal&&C.indexOf(E)===0&&A.push(f+C.replace(E,this.options.pluralSeparator)),A.push(f+C),g&&A.push(f+S)),v){const O=`${f}${this.options.contextSeparator||"_"}${n.context}`;A.push(O),p&&(n.ordinal&&C.indexOf(E)===0&&A.push(O+C.replace(E,this.options.pluralSeparator)),A.push(O+C),g&&A.push(O+S))}}let T;for(;T=A.pop();)this.isValidLookup(r)||(i=T,r=this.getResource(N,w,T,n))}))})}),{res:r,usedKey:a,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,r,a):this.resourceStore.getResource(t,n,r,a)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!jt(t.replace);let a=r?t.replace:t;if(r&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const i of n)delete a[i]}return a}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class qF{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Co.create("languageUtils")}getScriptPartFromCode(t){if(t=Hx(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Hx(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(jt(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const a=this.getScriptPartFromCode(r);if(this.isSupportedCode(a))return n=a;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),jt(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),a=[],i=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return jt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):jt(t)&&i(this.formatLanguageCode(t)),r.forEach(o=>{a.indexOf(o)<0&&i(this.formatLanguageCode(o))}),a}}const UF={zero:0,one:1,two:2,few:3,many:4,other:5},VF={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class nve{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=Co.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const r=Hx(t==="dev"?"en":t),a=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),VF;if(!t.match(/-|_/))return VF;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,n)}return this.pluralRulesCache[i]=o,o}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(a=>`${n}${a}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((a,i)=>UF[a]-UF[i]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,n,r={}){const a=this.getRule(t,r);return a?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const HF=(e,t,n,r=".",a=!0)=>{let i=Wye(e,t,n);return!i&&a&&jt(n)&&(i=WO(e,n,r),i===void 0&&(i=WO(t,n,r))),i},dC=e=>e.replace(/\$/g,"$$$$");class KF{constructor(t={}){this.logger=Co.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:a,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:f,unescapePrefix:m,nestingPrefix:p,nestingPrefixEscaped:g,nestingSuffix:v,nestingSuffixEscaped:y,nestingOptionsSeparator:w,maxReplaces:N,alwaysFormat:A}=t.interpolation;this.escape=n!==void 0?n:Yye,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?Tf(i):o||"{{",this.suffix=l?Tf(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=f?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=p?Tf(p):g||Tf("$t("),this.nestingSuffix=v?Tf(v):y||Tf(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=N||1e3,this.alwaysFormat=A!==void 0?A:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,r,a){let i,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const N=HF(n,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(N,void 0,r,{...a,...n,interpolationkey:g}):N}const v=g.split(this.formatSeparator),y=v.shift().trim(),w=v.join(this.formatSeparator).trim();return this.format(HF(n,c,y,this.options.keySeparator,this.options.ignoreJSONStructure),w,r,{...a,...n,interpolationkey:y})};this.resetRegExp();const f=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>dC(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?dC(this.escape(g)):dC(g)}].forEach(g=>{for(l=0;i=g.regex.exec(t);){const v=i[1].trim();if(o=u(v),o===void 0)if(typeof f=="function"){const w=f(t,i,a);o=jt(w)?w:""}else if(a&&Object.prototype.hasOwnProperty.call(a,v))o="";else if(m){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${t}`),o="";else!jt(o)&&!this.useRawValueToEscape&&(o=IF(o));const y=g.safeValue(o);if(t=t.replace(i[0],y),m?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=i[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n,r={}){let a,i,o;const l=(c,u)=>{const f=this.nestingOptionsSeparator;if(c.indexOf(f)<0)return c;const m=c.split(new RegExp(`${f}[ ]*{`));let p=`{${m[1]}`;c=m[0],p=this.interpolate(p,o);const g=p.match(/'/g),v=p.match(/"/g);((g?.length??0)%2===0&&!v||v.length%2!==0)&&(p=p.replace(/'/g,'"'));try{o=JSON.parse(p),u&&(o={...u,...o})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,y),`${c}${f}${p}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;a=this.nestingRegexp.exec(t);){let c=[];o={...r},o=o.replace&&!jt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(u!==-1&&(c=a[1].slice(u).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),a[1]=a[1].slice(0,u)),i=n(l.call(this,a[1].trim(),o),o),i&&a[0]===t&&!jt(i))return i;jt(i)||(i=IF(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),i=""),c.length&&(i=c.reduce((f,m)=>this.format(f,m,r.lng,{...r,interpolationkey:a[1].trim()}),i.trim())),t=t.replace(a[0],i),this.regexp.lastIndex=0}return t}}const rve=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);t==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),f=l.trim();n[f]||(n[f]=u),u==="false"&&(n[f]=!1),u==="true"&&(n[f]=!0),isNaN(u)||(n[f]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},WF=e=>{const t={};return(n,r,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const o=r+JSON.stringify(i);let l=t[o];return l||(l=e(Hx(r),a),t[o]=l),l(n)}},sve=e=>(t,n,r)=>e(Hx(n),r)(t);class ave{constructor(t={}){this.logger=Co.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?WF:sve;this.formats={number:r((a,i)=>{const o=new Intl.NumberFormat(a,{...i});return l=>o.format(l)}),currency:r((a,i)=>{const o=new Intl.NumberFormat(a,{...i,style:"currency"});return l=>o.format(l)}),datetime:r((a,i)=>{const o=new Intl.DateTimeFormat(a,{...i});return l=>o.format(l)}),relativetime:r((a,i)=>{const o=new Intl.RelativeTimeFormat(a,{...i});return l=>o.format(l,i.range||"day")}),list:r((a,i)=>{const o=new Intl.ListFormat(a,{...i});return l=>o.format(l)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=WF(n)}format(t,n,r,a={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,c)=>{const{formatName:u,formatOptions:f}=rve(c);if(this.formats[u]){let m=l;try{const p=a?.formatParams?.[a.interpolationkey]||{},g=p.locale||p.lng||a.locale||a.lng||r;m=this.formats[u](l,g,{...f,...a,...p})}catch(p){this.logger.warn(p)}return m}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const ive=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class ove extends Zw{constructor(t,n,r,a={}){super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=Co.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,a.backend,a)}queueLoad(t,n,r,a){const i={},o={},l={},c={};return t.forEach(u=>{let f=!0;n.forEach(m=>{const p=`${u}|${m}`;!r.reload&&this.store.hasResourceBundle(u,m)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?o[p]===void 0&&(o[p]=!0):(this.state[p]=1,f=!1,o[p]===void 0&&(o[p]=!0),i[p]===void 0&&(i[p]=!0),c[m]===void 0&&(c[m]=!0)))}),f||(l[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,n,r){const a=t.split("|"),i=a[0],o=a[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const l={};this.queue.forEach(c=>{Kye(c.loaded,[i],o),ive(c,t),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const f=c.loaded[u];f.length&&f.forEach(m=>{l[u][m]===void 0&&(l[u][m]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,n,r,a=0,i=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:a,wait:i,callback:o});return}this.readingCalls++;const l=(u,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(u&&f&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,a+1,i*2,o)},i);return}o(u,f)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const u=c(t,n);u&&typeof u.then=="function"?u.then(f=>l(null,f)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,n,l)}prepareLoading(t,n,r={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();jt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),jt(n)&&(n=[n]);const i=this.queueLoad(t,n,r,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){const r=t.split("|"),a=r[0],i=r[1];this.read(a,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${a} failed`,o),!o&&l&&this.logger.log(`${n}loaded namespace ${i} for language ${a}`,l),this.loaded(t,o,l)})}saveMissing(t,n,r,a,i,o={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const c={...o,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let f;u.length===5?f=u(t,n,r,a,c):f=u(t,n,r,a),f&&typeof f.then=="function"?f.then(m=>l(null,m)).catch(l):l(null,f)}catch(f){l(f)}else u(t,n,r,a,l,c)}!t||!t[0]||this.store.addResource(t[0],n,r,a)}}}const GF=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),jt(e[1])&&(t.defaultValue=e[1]),jt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),YF=e=>(jt(e.ns)&&(e.ns=[e.ns]),jt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),jt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),tb=()=>{},lve=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class hx extends Zw{constructor(t={},n){if(super(),this.options=YF(t),this.services={},this.logger=Co,this.modules={external:[]},lve(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(jt(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=GF();this.options={...r,...this.options,...YF(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Co.init(a(this.modules.logger),this.options):Co.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=ave;const f=new qF(this.options);this.store=new BF(this.options.resources,this.options);const m=this.services;m.logger=Co,m.resourceStore=this.store,m.languageUtils=f,m.pluralResolver=new nve(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(m.formatter=a(u),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new KF(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new ove(a(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(g,...v)=>{this.emit(g,...v)}),this.modules.languageDetector&&(m.languageDetector=a(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=a(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new O0(this.services,this.options),this.translator.on("*",(g,...v)=>{this.emit(g,...v)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=tb),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...f)=>this.store[u](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...f)=>(this.store[u](...f),this)});const l=Ap(),c=()=>{const u=(f,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(m),n(f,m)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,n=tb){let r=n;const a=jt(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};a?o(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload?.forEach?.(l=>o(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(t,n,r){const a=Ap();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=tb),this.services.backendConnector.reload(t,n,i=>{a.resolve(),r(i)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&sY.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const r=Ap();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,c)=>{c?this.isLanguageChangingTo===t&&(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(l,(...u)=>this.t(...u))},o=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const c=jt(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(jt(l)?[l]:l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,f=>{i(f,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),r}getFixedT(t,n,r){const a=(i,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([i,o].concat(l)):c={...o},c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||a.keyPrefix);const u=this.options.keySeparator||".";let f;return c.keyPrefix&&Array.isArray(i)?f=i.map(m=>(typeof m=="function"&&(m=GO(m,{...this.options,...o})),`${c.keyPrefix}${u}${m}`)):(typeof i=="function"&&(i=GO(i,{...this.options,...o})),f=c.keyPrefix?`${c.keyPrefix}${u}${i}`:i),this.t(f,c)};return jt(t)?a.lng=t:a.lngs=t,a.ns=n,a.keyPrefix=r,a}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(n.precheck){const l=n.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!a||o(i,t)))}loadNamespaces(t,n){const r=Ap();return this.options.ns?(jt(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Ap();jt(t)&&(t=[t]);const a=this.options.preload||[],i=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=a.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const a=new Intl.Locale(t);if(a&&a.getTextInfo){const i=a.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new qF(GF());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const r=new hx(t,n);return r.createInstance=hx.createInstance,r}cloneInstance(t={},n=tb){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},i=new hx(a);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((f,m)=>(f[m]={...c[u][m]},f),c[u]),c),{});i.store=new BF(l,a),i.services.resourceStore=i.store}return t.interpolation&&(i.services.interpolator=new KF(a)),i.translator=new O0(i.services,a),i.translator.on("*",(l,...c)=>{i.emit(l,...c)}),i.init(a,n),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Qs=hx.createInstance();Qs.createInstance;Qs.dir;Qs.init;Qs.loadResources;Qs.reloadResources;Qs.use;Qs.changeLanguage;Qs.getFixedT;Qs.t;Qs.exists;Qs.setDefaultNamespace;Qs.hasLoadedNamespace;Qs.loadNamespaces;Qs.loadLanguages;const cve=(e,t,n,r)=>{const a=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);fu(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...a):console?.warn&&console.warn(...a)},XF={},iY=(e,t,n,r)=>{fu(n)&&XF[n]||(fu(n)&&(XF[n]=new Date),cve(e,t,n,r))},oY=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},YO=(e,t,n)=>{e.loadNamespaces(t,oY(e,n))},QF=(e,t,n,r)=>{if(fu(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return YO(e,n,r);n.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,oY(e,r))},dve=(e,t,n={})=>!t.languages||!t.languages.length?(iY(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,e))return!1}}),fu=e=>typeof e=="string",uve=e=>typeof e=="object"&&e!==null,fve=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,hve={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},mve=e=>hve[e],pve=e=>e.replace(fve,mve);let XO={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:pve,transDefaultProps:void 0};const xve=(e={})=>{XO={...XO,...e}},gve=()=>XO;let lY;const yve=e=>{lY=e},vve=()=>lY,bve={type:"3rdParty",init(e){xve(e.options.react),yve(e)}},jve=j.createContext();class wve{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Nve=(e,t)=>fu(t)?t:uve(t)&&fu(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,Sve={t:Nve,ready:!1},Cve=()=>()=>{},as=(e,t={})=>{const{i18n:n}=t,{i18n:r,defaultNS:a}=j.useContext(jve)||{},i=n||r||vve();i&&!i.reportNamespaces&&(i.reportNamespaces=new wve),i||iY(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=j.useMemo(()=>({...gve(),...i?.options?.react,...t}),[i,t]),{useSuspense:l,keyPrefix:c}=o,u=a||i?.options?.defaultNS,f=fu(u)?[u]:u||["translation"],m=j.useMemo(()=>f,f);i?.reportNamespaces?.addUsedNamespaces?.(m);const p=j.useRef(0),g=j.useCallback(M=>{if(!i)return Cve;const{bindI18n:$,bindI18nStore:z}=o,V=()=>{p.current+=1,M()};return $&&i.on($,V),z&&i.store.on(z,V),()=>{$&&$.split(" ").forEach(I=>i.off(I,V)),z&&z.split(" ").forEach(I=>i.store.off(I,V))}},[i,o]),v=j.useRef(),y=j.useCallback(()=>{if(!i)return Sve;const M=!!(i.isInitialized||i.initializedStoreOnce)&&m.every(K=>dve(K,i,o)),$=t.lng||i.language,z=p.current,V=v.current;if(V&&V.ready===M&&V.lng===$&&V.keyPrefix===c&&V.revision===z)return V;const F={t:i.getFixedT($,o.nsMode==="fallback"?m:m[0],c),ready:M,lng:$,keyPrefix:c,revision:z};return v.current=F,F},[i,m,c,o,t.lng]),[w,N]=j.useState(0),{t:A,ready:T}=Fw.useSyncExternalStore(g,y,y);j.useEffect(()=>{if(i&&!T&&!l){const M=()=>N($=>$+1);t.lng?QF(i,t.lng,m,M):YO(i,m,M)}},[i,t.lng,m,T,l,w]);const C=i||{},S=j.useRef(null),E=j.useRef(),O=M=>{const $=Object.getOwnPropertyDescriptors(M);$.__original&&delete $.__original;const z=Object.create(Object.getPrototypeOf(M),$);if(!Object.prototype.hasOwnProperty.call(z,"__original"))try{Object.defineProperty(z,"__original",{value:M,writable:!1,enumerable:!1,configurable:!1})}catch{}return z},_=j.useMemo(()=>{const M=C,$=M?.language;let z=M;M&&(S.current&&S.current.__original===M?E.current!==$?(z=O(M),S.current=z,E.current=$):z=S.current:(z=O(M),S.current=z,E.current=$));const V=[A,z,T];return V.t=A,V.i18n=z,V.ready=T,V},[A,C,T,C.resolvedLanguage,C.language,C.languages]);if(i&&l&&!T)throw new Promise(M=>{const $=()=>M();t.lng?QF(i,t.lng,m,$):YO(i,m,$)});return _};function P0(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}var kve=pa[" useInsertionEffect ".trim().toString()]||Zt;function cY({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=Tve({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=Ave(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function Tve({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return kve(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function Ave(e){return typeof e=="function"}function yr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function JF(e){const t=Eve(e),n=j.forwardRef((r,a)=>{const{children:i,...o}=r,l=j.Children.toArray(i),c=l.find(Pve);if(c){const u=c.props.children,f=l.map(m=>m===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function Eve(e){const t=j.forwardRef((n,r)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=_ve(a),l=Mve(i,a.props);return a.type!==j.Fragment&&(l.ref=r?io(r,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ove=Symbol("radix.slottable");function Pve(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ove}function Mve(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function _ve(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function eN(e){const t=e+"CollectionProvider",[n,r]=ss(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:w,children:N}=y,A=Z.useRef(null),T=Z.useRef(new Map).current;return s.jsx(a,{scope:w,itemMap:T,collectionRef:A,children:N})};o.displayName=t;const l=e+"CollectionSlot",c=JF(l),u=Z.forwardRef((y,w)=>{const{scope:N,children:A}=y,T=i(l,N),C=it(w,T.collectionRef);return s.jsx(c,{ref:C,children:A})});u.displayName=l;const f=e+"CollectionItemSlot",m="data-radix-collection-item",p=JF(f),g=Z.forwardRef((y,w)=>{const{scope:N,children:A,...T}=y,C=Z.useRef(null),S=it(w,C),E=i(f,N);return Z.useEffect(()=>(E.itemMap.set(C,{ref:C,...T}),()=>void E.itemMap.delete(C))),s.jsx(p,{[m]:"",ref:S,children:A})});g.displayName=f;function v(y){const w=i(e+"CollectionConsumer",y);return Z.useCallback(()=>{const A=w.collectionRef.current;if(!A)return[];const T=Array.from(A.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((E,O)=>T.indexOf(E.ref.current)-T.indexOf(O.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},v,r]}var Rve=j.createContext(void 0);function fm(e){const t=j.useContext(Rve);return e||t||"ltr"}var uC=0;function tN(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ZF()),document.body.insertAdjacentElement("beforeend",e[1]??ZF()),uC++,()=>{uC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),uC--}},[])}function ZF(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fC="focusScope.autoFocusOnMount",hC="focusScope.autoFocusOnUnmount",e6={bubbles:!1,cancelable:!0},Dve="FocusScope",ey=j.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=j.useState(null),u=Pn(a),f=Pn(i),m=j.useRef(null),p=it(t,y=>c(y)),g=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(r){let y=function(T){if(g.paused||!l)return;const C=T.target;l.contains(C)?m.current=C:Sc(m.current,{select:!0})},w=function(T){if(g.paused||!l)return;const C=T.relatedTarget;C!==null&&(l.contains(C)||Sc(m.current,{select:!0}))},N=function(T){if(document.activeElement===document.body)for(const S of T)S.removedNodes.length>0&&Sc(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const A=new MutationObserver(N);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),A.disconnect()}}},[r,l,g.paused]),j.useEffect(()=>{if(l){n6.add(g);const y=document.activeElement;if(!l.contains(y)){const N=new CustomEvent(fC,e6);l.addEventListener(fC,u),l.dispatchEvent(N),N.defaultPrevented||(Ive(zve(dY(l)),{select:!0}),document.activeElement===y&&Sc(l))}return()=>{l.removeEventListener(fC,u),setTimeout(()=>{const N=new CustomEvent(hC,e6);l.addEventListener(hC,f),l.dispatchEvent(N),N.defaultPrevented||Sc(y??document.body,{select:!0}),l.removeEventListener(hC,f),n6.remove(g)},0)}}},[l,u,f,g]);const v=j.useCallback(y=>{if(!n&&!r||g.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,N=document.activeElement;if(w&&N){const A=y.currentTarget,[T,C]=Lve(A);T&&C?!y.shiftKey&&N===C?(y.preventDefault(),n&&Sc(T,{select:!0})):y.shiftKey&&N===T&&(y.preventDefault(),n&&Sc(C,{select:!0})):N===A&&y.preventDefault()}},[n,r,g.paused]);return s.jsx(Je.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});ey.displayName=Dve;function Ive(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Sc(r,{select:t}),document.activeElement!==n)return}function Lve(e){const t=dY(e),n=t6(t,e),r=t6(t.reverse(),e);return[n,r]}function dY(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function t6(e,t){for(const n of e)if(!$ve(n,{upTo:t}))return n}function $ve(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Fve(e){return e instanceof HTMLInputElement&&"select"in e}function Sc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Fve(e)&&t&&e.select()}}var n6=Bve();function Bve(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=r6(e,t),e.unshift(t)},remove(t){e=r6(e,t),e[0]?.resume()}}}function r6(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function zve(e){return e.filter(t=>t.tagName!=="A")}function nh(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}var qve=pa[" useInsertionEffect ".trim().toString()]||Zt;function Uve({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=Vve({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=Hve(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function Vve({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return qve(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function Hve(e){return typeof e=="function"}var mC="rovingFocusGroup.onEntryFocus",Kve={bubbles:!1,cancelable:!0},ty="RovingFocusGroup",[QO,uY,Wve]=eN(ty),[Gve,nN]=ss(ty,[Wve]),[Yve,Xve]=Gve(ty),fY=j.forwardRef((e,t)=>s.jsx(QO.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(QO.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Qve,{...e,ref:t})})}));fY.displayName=ty;var Qve=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...m}=e,p=j.useRef(null),g=it(t,p),v=fm(i),[y,w]=Uve({prop:o,defaultProp:l??null,onChange:c,caller:ty}),[N,A]=j.useState(!1),T=Pn(u),C=uY(n),S=j.useRef(!1),[E,O]=j.useState(0);return j.useEffect(()=>{const _=p.current;if(_)return _.addEventListener(mC,T),()=>_.removeEventListener(mC,T)},[T]),s.jsx(Yve,{scope:n,orientation:r,dir:v,loop:a,currentTabStopId:y,onItemFocus:j.useCallback(_=>w(_),[w]),onItemShiftTab:j.useCallback(()=>A(!0),[]),onFocusableItemAdd:j.useCallback(()=>O(_=>_+1),[]),onFocusableItemRemove:j.useCallback(()=>O(_=>_-1),[]),children:s.jsx(Je.div,{tabIndex:N||E===0?-1:0,"data-orientation":r,...m,ref:g,style:{outline:"none",...e.style},onMouseDown:nh(e.onMouseDown,()=>{S.current=!0}),onFocus:nh(e.onFocus,_=>{const M=!S.current;if(_.target===_.currentTarget&&M&&!N){const $=new CustomEvent(mC,Kve);if(_.currentTarget.dispatchEvent($),!$.defaultPrevented){const z=C().filter(R=>R.focusable),V=z.find(R=>R.active),I=z.find(R=>R.id===y),K=[V,I,...z].filter(Boolean).map(R=>R.ref.current);pY(K,f)}}S.current=!1}),onBlur:nh(e.onBlur,()=>A(!1))})})}),hY="RovingFocusGroupItem",mY=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Ts(),u=i||c,f=Xve(hY,n),m=f.currentTabStopId===u,p=uY(n),{onFocusableItemAdd:g,onFocusableItemRemove:v,currentTabStopId:y}=f;return j.useEffect(()=>{if(r)return g(),()=>v()},[r,g,v]),s.jsx(QO.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:s.jsx(Je.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:nh(e.onMouseDown,w=>{r?f.onItemFocus(u):w.preventDefault()}),onFocus:nh(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:nh(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const N=ebe(w,f.orientation,f.dir);if(N!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let T=p().filter(C=>C.focusable).map(C=>C.ref.current);if(N==="last")T.reverse();else if(N==="prev"||N==="next"){N==="prev"&&T.reverse();const C=T.indexOf(w.currentTarget);T=f.loop?tbe(T,C+1):T.slice(C+1)}setTimeout(()=>pY(T))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:y!=null}):o})})});mY.displayName=hY;var Jve={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Zve(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ebe(e,t,n){const r=Zve(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Jve[r]}function pY(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function tbe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var xY=fY,gY=mY;function nbe(e){const t=rbe(e),n=j.forwardRef((r,a)=>{const{children:i,...o}=r,l=j.Children.toArray(i),c=l.find(abe);if(c){const u=c.props.children,f=l.map(m=>m===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function rbe(e){const t=j.forwardRef((n,r)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=obe(a),l=ibe(i,a.props);return a.type!==j.Fragment&&(l.ref=r?io(r,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sbe=Symbol("radix.slottable");function abe(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sbe}function ibe(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function obe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var lbe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Af=new WeakMap,nb=new WeakMap,rb={},pC=0,yY=function(e){return e&&(e.host||yY(e.parentNode))},cbe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=yY(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},dbe=function(e,t,n,r){var a=cbe(t,Array.isArray(e)?e:[e]);rb[n]||(rb[n]=new WeakMap);var i=rb[n],o=[],l=new Set,c=new Set(a),u=function(m){!m||l.has(m)||(l.add(m),u(m.parentNode))};a.forEach(u);var f=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))f(p);else try{var g=p.getAttribute(r),v=g!==null&&g!=="false",y=(Af.get(p)||0)+1,w=(i.get(p)||0)+1;Af.set(p,y),i.set(p,w),o.push(p),y===1&&v&&nb.set(p,!0),w===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",p,N)}})};return f(t),l.clear(),pC++,function(){o.forEach(function(m){var p=Af.get(m)-1,g=i.get(m)-1;Af.set(m,p),i.set(m,g),p||(nb.has(m)||m.removeAttribute(r),nb.delete(m)),g||m.removeAttribute(n)}),pC--,pC||(Af=new WeakMap,Af=new WeakMap,nb=new WeakMap,rb={})}},rN=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=lbe(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),dbe(r,a,n,"aria-hidden")):function(){return null}},jo=function(){return jo=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},jo.apply(this,arguments)};function vY(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function ube(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Yb="right-scroll-bar-position",Xb="width-before-scroll-bar",fbe="with-scroll-bars-hidden",hbe="--removed-body-scroll-bar-size";function xC(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function mbe(e,t){var n=j.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var pbe=typeof window<"u"?j.useLayoutEffect:j.useEffect,s6=new WeakMap;function xbe(e,t){var n=mbe(null,function(r){return e.forEach(function(a){return xC(a,r)})});return pbe(function(){var r=s6.get(n);if(r){var a=new Set(r),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||xC(l,null)}),i.forEach(function(l){a.has(l)||xC(l,o)})}s6.set(n,e)},[e]),n}function gbe(e){return e}function ybe(e,t){t===void 0&&(t=gbe);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),n}}}};return a}function vbe(e){e===void 0&&(e={});var t=ybe(null);return t.options=jo({async:!0,ssr:!1},e),t}var bY=function(e){var t=e.sideCar,n=vY(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,jo({},n))};bY.isSideCarExport=!0;function bbe(e,t){return e.useMedium(t),bY}var jY=vbe(),gC=function(){},sN=j.forwardRef(function(e,t){var n=j.useRef(null),r=j.useState({onScrollCapture:gC,onWheelCapture:gC,onTouchMoveCapture:gC}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,m=e.shards,p=e.sideCar,g=e.noIsolation,v=e.inert,y=e.allowPinchZoom,w=e.as,N=w===void 0?"div":w,A=e.gapMode,T=vY(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,S=xbe([n,t]),E=jo(jo({},T),a);return j.createElement(j.Fragment,null,f&&j.createElement(C,{sideCar:jY,removeScrollBar:u,shards:m,noIsolation:g,inert:v,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:A}),o?j.cloneElement(j.Children.only(l),jo(jo({},E),{ref:S})):j.createElement(N,jo({},E,{className:c,ref:S}),l))});sN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sN.classNames={fullWidth:Xb,zeroRight:Yb};var jbe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wbe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=jbe();return t&&e.setAttribute("nonce",t),e}function Nbe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Sbe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Cbe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=wbe())&&(Nbe(t,n),Sbe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},kbe=function(){var e=Cbe();return function(t,n){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},wY=function(){var e=kbe(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},Tbe={left:0,top:0,right:0,gap:0},yC=function(e){return parseInt(e||"",10)||0},Abe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[yC(n),yC(r),yC(a)]},Ebe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Tbe;var t=Abe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Obe=wY(),rh="data-scroll-locked",Pbe=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(fbe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(rh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yb,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Xb,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Yb," .").concat(Yb,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Xb," .").concat(Xb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(rh,`] {
    `).concat(hbe,": ").concat(l,`px;
  }
`)},a6=function(){var e=parseInt(document.body.getAttribute(rh)||"0",10);return isFinite(e)?e:0},Mbe=function(){j.useEffect(function(){return document.body.setAttribute(rh,(a6()+1).toString()),function(){var e=a6()-1;e<=0?document.body.removeAttribute(rh):document.body.setAttribute(rh,e.toString())}},[])},_be=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;Mbe();var i=j.useMemo(function(){return Ebe(a)},[a]);return j.createElement(Obe,{styles:Pbe(i,!t,a,n?"":"!important")})},JO=!1;if(typeof window<"u")try{var sb=Object.defineProperty({},"passive",{get:function(){return JO=!0,!0}});window.addEventListener("test",sb,sb),window.removeEventListener("test",sb,sb)}catch{JO=!1}var Ef=JO?{passive:!1}:!1,Rbe=function(e){return e.tagName==="TEXTAREA"},NY=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Rbe(e)&&n[t]==="visible")},Dbe=function(e){return NY(e,"overflowY")},Ibe=function(e){return NY(e,"overflowX")},i6=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=SY(e,r);if(a){var i=CY(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Lbe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},$be=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},SY=function(e,t){return e==="v"?Dbe(t):Ibe(t)},CY=function(e,t){return e==="v"?Lbe(t):$be(t)},Fbe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Bbe=function(e,t,n,r,a){var i=Fbe(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,f=o>0,m=0,p=0;do{var g=CY(e,l),v=g[0],y=g[1],w=g[2],N=y-w-i*v;(v||N)&&SY(e,l)&&(m+=N,p+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(m)<1||!f&&Math.abs(p)<1)&&(u=!0),u},ab=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},o6=function(e){return[e.deltaX,e.deltaY]},l6=function(e){return e&&"current"in e?e.current:e},zbe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},qbe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ube=0,Of=[];function Vbe(e){var t=j.useRef([]),n=j.useRef([0,0]),r=j.useRef(),a=j.useState(Ube++)[0],i=j.useState(wY)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var y=ube([e.lockRef.current],(e.shards||[]).map(l6),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=j.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var N=ab(y),A=n.current,T="deltaX"in y?y.deltaX:A[0]-N[0],C="deltaY"in y?y.deltaY:A[1]-N[1],S,E=y.target,O=Math.abs(T)>Math.abs(C)?"h":"v";if("touches"in y&&O==="h"&&E.type==="range")return!1;var _=i6(O,E);if(!_)return!0;if(_?S=O:(S=O==="v"?"h":"v",_=i6(O,E)),!_)return!1;if(!r.current&&"changedTouches"in y&&(T||C)&&(r.current=S),!S)return!0;var M=r.current||S;return Bbe(M,w,y,M==="h"?T:C)},[]),c=j.useCallback(function(y){var w=y;if(!(!Of.length||Of[Of.length-1]!==i)){var N="deltaY"in w?o6(w):ab(w),A=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&zbe(S.delta,N)})[0];if(A&&A.should){w.cancelable&&w.preventDefault();return}if(!A){var T=(o.current.shards||[]).map(l6).filter(Boolean).filter(function(S){return S.contains(w.target)}),C=T.length>0?l(w,T[0]):!o.current.noIsolation;C&&w.cancelable&&w.preventDefault()}}},[]),u=j.useCallback(function(y,w,N,A){var T={name:y,delta:w,target:N,should:A,shadowParent:Hbe(N)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(C){return C!==T})},1)},[]),f=j.useCallback(function(y){n.current=ab(y),r.current=void 0},[]),m=j.useCallback(function(y){u(y.type,o6(y),y.target,l(y,e.lockRef.current))},[]),p=j.useCallback(function(y){u(y.type,ab(y),y.target,l(y,e.lockRef.current))},[]);j.useEffect(function(){return Of.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Ef),document.addEventListener("touchmove",c,Ef),document.addEventListener("touchstart",f,Ef),function(){Of=Of.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,Ef),document.removeEventListener("touchmove",c,Ef),document.removeEventListener("touchstart",f,Ef)}},[]);var g=e.removeScrollBar,v=e.inert;return j.createElement(j.Fragment,null,v?j.createElement(i,{styles:qbe(a)}):null,g?j.createElement(_be,{gapMode:e.gapMode}):null)}function Hbe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Kbe=bbe(jY,Vbe);var ny=j.forwardRef(function(e,t){return j.createElement(sN,jo({},e,{ref:t,sideCar:Kbe}))});ny.classNames=sN.classNames;var ZO=["Enter"," "],Wbe=["ArrowDown","PageUp","Home"],kY=["ArrowUp","PageDown","End"],Gbe=[...Wbe,...kY],Ybe={ltr:[...ZO,"ArrowRight"],rtl:[...ZO,"ArrowLeft"]},Xbe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ry="Menu",[Kx,Qbe,Jbe]=eN(ry),[_u,TY]=ss(ry,[Jbe,Qc,nN]),sy=Qc(),AY=nN(),[EY,Jc]=_u(ry),[Zbe,ay]=_u(ry),OY=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=e,l=sy(t),[c,u]=j.useState(null),f=j.useRef(!1),m=Pn(i),p=fm(a);return j.useEffect(()=>{const g=()=>{f.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>f.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),s.jsx(Xg,{...l,children:s.jsx(EY,{scope:t,open:n,onOpenChange:m,content:c,onContentChange:u,children:s.jsx(Zbe,{scope:t,onClose:j.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:p,modal:o,children:r})})})};OY.displayName=ry;var e0e="MenuAnchor",T_=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=sy(n);return s.jsx(Qg,{...a,...r,ref:t})});T_.displayName=e0e;var A_="MenuPortal",[t0e,PY]=_u(A_,{forceMount:void 0}),MY=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,i=Jc(A_,t);return s.jsx(t0e,{scope:t,forceMount:n,children:s.jsx(Vr,{present:n||i.open,children:s.jsx(um,{asChild:!0,container:a,children:r})})})};MY.displayName=A_;var yi="MenuContent",[n0e,E_]=_u(yi),_Y=j.forwardRef((e,t)=>{const n=PY(yi,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Jc(yi,e.__scopeMenu),o=ay(yi,e.__scopeMenu);return s.jsx(Kx.Provider,{scope:e.__scopeMenu,children:s.jsx(Vr,{present:r||i.open,children:s.jsx(Kx.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(r0e,{...a,ref:t}):s.jsx(s0e,{...a,ref:t})})})})}),r0e=j.forwardRef((e,t)=>{const n=Jc(yi,e.__scopeMenu),r=j.useRef(null),a=it(t,r);return j.useEffect(()=>{const i=r.current;if(i)return rN(i)},[]),s.jsx(O_,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:yr(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),s0e=j.forwardRef((e,t)=>{const n=Jc(yi,e.__scopeMenu);return s.jsx(O_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),a0e=nbe("MenuContent.ScrollLock"),O_=j.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:p,onDismiss:g,disableOutsideScroll:v,...y}=e,w=Jc(yi,n),N=ay(yi,n),A=sy(n),T=AY(n),C=Qbe(n),[S,E]=j.useState(null),O=j.useRef(null),_=it(t,O,w.onContentChange),M=j.useRef(0),$=j.useRef(""),z=j.useRef(0),V=j.useRef(null),I=j.useRef("right"),F=j.useRef(0),K=v?ny:j.Fragment,R=v?{as:a0e,allowPinchZoom:!0}:void 0,B=q=>{const se=$.current+q,H=C().filter(he=>!he.disabled),Y=document.activeElement,G=H.find(he=>he.ref.current===Y)?.textValue,X=H.map(he=>he.textValue),ae=g0e(X,se,G),de=H.find(he=>he.textValue===ae)?.ref.current;(function he(Fe){$.current=Fe,window.clearTimeout(M.current),Fe!==""&&(M.current=window.setTimeout(()=>he(""),1e3))})(se),de&&setTimeout(()=>de.focus())};j.useEffect(()=>()=>window.clearTimeout(M.current),[]),tN();const L=j.useCallback(q=>I.current===V.current?.side&&v0e(q,V.current?.area),[]);return s.jsx(n0e,{scope:n,searchRef:$,onItemEnter:j.useCallback(q=>{L(q)&&q.preventDefault()},[L]),onItemLeave:j.useCallback(q=>{L(q)||(O.current?.focus(),E(null))},[L]),onTriggerLeave:j.useCallback(q=>{L(q)&&q.preventDefault()},[L]),pointerGraceTimerRef:z,onPointerGraceIntentChange:j.useCallback(q=>{V.current=q},[]),children:s.jsx(K,{...R,children:s.jsx(ey,{asChild:!0,trapped:a,onMountAutoFocus:yr(i,q=>{q.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(cm,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:p,onDismiss:g,children:s.jsx(xY,{asChild:!0,...T,dir:N.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:E,onEntryFocus:yr(c,q=>{N.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Yw,{role:"menu","aria-orientation":"vertical","data-state":XY(w.open),"data-radix-menu-content":"",dir:N.dir,...A,...y,ref:_,style:{outline:"none",...y.style},onKeyDown:yr(y.onKeyDown,q=>{const H=q.target.closest("[data-radix-menu-content]")===q.currentTarget,Y=q.ctrlKey||q.altKey||q.metaKey,G=q.key.length===1;H&&(q.key==="Tab"&&q.preventDefault(),!Y&&G&&B(q.key));const X=O.current;if(q.target!==X||!Gbe.includes(q.key))return;q.preventDefault();const de=C().filter(he=>!he.disabled).map(he=>he.ref.current);kY.includes(q.key)&&de.reverse(),p0e(de)}),onBlur:yr(e.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(M.current),$.current="")}),onPointerMove:yr(e.onPointerMove,Wx(q=>{const se=q.target,H=F.current!==q.clientX;if(q.currentTarget.contains(se)&&H){const Y=q.clientX>F.current?"right":"left";I.current=Y,F.current=q.clientX}}))})})})})})})});_Y.displayName=yi;var i0e="MenuGroup",P_=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Je.div,{role:"group",...r,ref:t})});P_.displayName=i0e;var o0e="MenuLabel",RY=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Je.div,{...r,ref:t})});RY.displayName=o0e;var M0="MenuItem",c6="menu.itemSelect",aN=j.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,i=j.useRef(null),o=ay(M0,e.__scopeMenu),l=E_(M0,e.__scopeMenu),c=it(t,i),u=j.useRef(!1),f=()=>{const m=i.current;if(!n&&m){const p=new CustomEvent(c6,{bubbles:!0,cancelable:!0});m.addEventListener(c6,g=>r?.(g),{once:!0}),fG(m,p),p.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(DY,{...a,ref:c,disabled:n,onClick:yr(e.onClick,f),onPointerDown:m=>{e.onPointerDown?.(m),u.current=!0},onPointerUp:yr(e.onPointerUp,m=>{u.current||m.currentTarget?.click()}),onKeyDown:yr(e.onKeyDown,m=>{const p=l.searchRef.current!=="";n||p&&m.key===" "||ZO.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});aN.displayName=M0;var DY=j.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=e,o=E_(M0,n),l=AY(n),c=j.useRef(null),u=it(t,c),[f,m]=j.useState(!1),[p,g]=j.useState("");return j.useEffect(()=>{const v=c.current;v&&g((v.textContent??"").trim())},[i.children]),s.jsx(Kx.ItemSlot,{scope:n,disabled:r,textValue:a??p,children:s.jsx(gY,{asChild:!0,...l,focusable:!r,children:s.jsx(Je.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:yr(e.onPointerMove,Wx(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:yr(e.onPointerLeave,Wx(v=>o.onItemLeave(v))),onFocus:yr(e.onFocus,()=>m(!0)),onBlur:yr(e.onBlur,()=>m(!1))})})})}),l0e="MenuCheckboxItem",IY=j.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return s.jsx(zY,{scope:e.__scopeMenu,checked:n,children:s.jsx(aN,{role:"menuitemcheckbox","aria-checked":_0(n)?"mixed":n,...a,ref:t,"data-state":R_(n),onSelect:yr(a.onSelect,()=>r?.(_0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});IY.displayName=l0e;var LY="MenuRadioGroup",[c0e,d0e]=_u(LY,{value:void 0,onValueChange:()=>{}}),$Y=j.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,i=Pn(r);return s.jsx(c0e,{scope:e.__scopeMenu,value:n,onValueChange:i,children:s.jsx(P_,{...a,ref:t})})});$Y.displayName=LY;var FY="MenuRadioItem",BY=j.forwardRef((e,t)=>{const{value:n,...r}=e,a=d0e(FY,e.__scopeMenu),i=n===a.value;return s.jsx(zY,{scope:e.__scopeMenu,checked:i,children:s.jsx(aN,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":R_(i),onSelect:yr(r.onSelect,()=>a.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});BY.displayName=FY;var M_="MenuItemIndicator",[zY,u0e]=_u(M_,{checked:!1}),qY=j.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,i=u0e(M_,n);return s.jsx(Vr,{present:r||_0(i.checked)||i.checked===!0,children:s.jsx(Je.span,{...a,ref:t,"data-state":R_(i.checked)})})});qY.displayName=M_;var f0e="MenuSeparator",UY=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Je.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});UY.displayName=f0e;var h0e="MenuArrow",VY=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=sy(n);return s.jsx(Xw,{...a,...r,ref:t})});VY.displayName=h0e;var __="MenuSub",[m0e,HY]=_u(__),KY=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:a}=e,i=Jc(__,t),o=sy(t),[l,c]=j.useState(null),[u,f]=j.useState(null),m=Pn(a);return j.useEffect(()=>(i.open===!1&&m(!1),()=>m(!1)),[i.open,m]),s.jsx(Xg,{...o,children:s.jsx(EY,{scope:t,open:r,onOpenChange:m,content:u,onContentChange:f,children:s.jsx(m0e,{scope:t,contentId:Ts(),triggerId:Ts(),trigger:l,onTriggerChange:c,children:n})})})};KY.displayName=__;var Zp="MenuSubTrigger",WY=j.forwardRef((e,t)=>{const n=Jc(Zp,e.__scopeMenu),r=ay(Zp,e.__scopeMenu),a=HY(Zp,e.__scopeMenu),i=E_(Zp,e.__scopeMenu),o=j.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},f=j.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return j.useEffect(()=>f,[f]),j.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),s.jsx(T_,{asChild:!0,...u,children:s.jsx(DY,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":XY(n.open),...e,ref:io(t,a.onTriggerChange),onClick:m=>{e.onClick?.(m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:yr(e.onPointerMove,Wx(m=>{i.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:yr(e.onPointerLeave,Wx(m=>{f();const p=n.content?.getBoundingClientRect();if(p){const g=n.content?.dataset.side,v=g==="right",y=v?-5:5,w=p[v?"left":"right"],N=p[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+y,y:m.clientY},{x:w,y:p.top},{x:N,y:p.top},{x:N,y:p.bottom},{x:w,y:p.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:yr(e.onKeyDown,m=>{const p=i.searchRef.current!=="";e.disabled||p&&m.key===" "||Ybe[r.dir].includes(m.key)&&(n.onOpenChange(!0),n.content?.focus(),m.preventDefault())})})})});WY.displayName=Zp;var GY="MenuSubContent",YY=j.forwardRef((e,t)=>{const n=PY(yi,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Jc(yi,e.__scopeMenu),o=ay(yi,e.__scopeMenu),l=HY(GY,e.__scopeMenu),c=j.useRef(null),u=it(t,c);return s.jsx(Kx.Provider,{scope:e.__scopeMenu,children:s.jsx(Vr,{present:r||i.open,children:s.jsx(Kx.Slot,{scope:e.__scopeMenu,children:s.jsx(O_,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{o.isUsingKeyboardRef.current&&c.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:yr(e.onFocusOutside,f=>{f.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:yr(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:yr(e.onKeyDown,f=>{const m=f.currentTarget.contains(f.target),p=Xbe[o.dir].includes(f.key);m&&p&&(i.onOpenChange(!1),l.trigger?.focus(),f.preventDefault())})})})})})});YY.displayName=GY;function XY(e){return e?"open":"closed"}function _0(e){return e==="indeterminate"}function R_(e){return _0(e)?"indeterminate":e?"checked":"unchecked"}function p0e(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function x0e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function g0e(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=x0e(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function y0e(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,f=l.y,m=c.x,p=c.y;f>r!=p>r&&n<(m-u)*(r-f)/(p-f)+u&&(a=!a)}return a}function v0e(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return y0e(n,t)}function Wx(e){return t=>t.pointerType==="mouse"?e(t):void 0}var b0e=OY,j0e=T_,w0e=MY,N0e=_Y,S0e=P_,C0e=RY,k0e=aN,T0e=IY,A0e=$Y,E0e=BY,O0e=qY,P0e=UY,M0e=VY,_0e=KY,R0e=WY,D0e=YY,iN="DropdownMenu",[I0e]=ss(iN,[TY]),Ps=TY(),[L0e,QY]=I0e(iN),JY=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Ps(t),u=j.useRef(null),[f,m]=cY({prop:a,defaultProp:i??!1,onChange:o,caller:iN});return s.jsx(L0e,{scope:t,triggerId:Ts(),triggerRef:u,contentId:Ts(),open:f,onOpenChange:m,onOpenToggle:j.useCallback(()=>m(p=>!p),[m]),modal:l,children:s.jsx(b0e,{...c,open:f,onOpenChange:m,dir:r,modal:l,children:n})})};JY.displayName=iN;var ZY="DropdownMenuTrigger",eX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,i=QY(ZY,n),o=Ps(n);return s.jsx(j0e,{asChild:!0,...o,children:s.jsx(Je.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:io(t,i.triggerRef),onPointerDown:P0(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:P0(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});eX.displayName=ZY;var $0e="DropdownMenuPortal",tX=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Ps(t);return s.jsx(w0e,{...r,...n})};tX.displayName=$0e;var nX="DropdownMenuContent",rX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=QY(nX,n),i=Ps(n),o=j.useRef(!1);return s.jsx(N0e,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:t,onCloseAutoFocus:P0(e.onCloseAutoFocus,l=>{o.current||a.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:P0(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!a.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rX.displayName=nX;var F0e="DropdownMenuGroup",B0e=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(S0e,{...a,...r,ref:t})});B0e.displayName=F0e;var z0e="DropdownMenuLabel",sX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(C0e,{...a,...r,ref:t})});sX.displayName=z0e;var q0e="DropdownMenuItem",aX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(k0e,{...a,...r,ref:t})});aX.displayName=q0e;var U0e="DropdownMenuCheckboxItem",iX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(T0e,{...a,...r,ref:t})});iX.displayName=U0e;var V0e="DropdownMenuRadioGroup",H0e=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(A0e,{...a,...r,ref:t})});H0e.displayName=V0e;var K0e="DropdownMenuRadioItem",oX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(E0e,{...a,...r,ref:t})});oX.displayName=K0e;var W0e="DropdownMenuItemIndicator",lX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(O0e,{...a,...r,ref:t})});lX.displayName=W0e;var G0e="DropdownMenuSeparator",cX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(P0e,{...a,...r,ref:t})});cX.displayName=G0e;var Y0e="DropdownMenuArrow",X0e=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(M0e,{...a,...r,ref:t})});X0e.displayName=Y0e;var Q0e=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:a,defaultOpen:i}=e,o=Ps(t),[l,c]=cY({prop:r,defaultProp:i??!1,onChange:a,caller:"DropdownMenuSub"});return s.jsx(_0e,{...o,open:l,onOpenChange:c,children:n})},J0e="DropdownMenuSubTrigger",dX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(R0e,{...a,...r,ref:t})});dX.displayName=J0e;var Z0e="DropdownMenuSubContent",uX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(D0e,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uX.displayName=Z0e;var eje=JY,tje=eX,nje=tX,fX=rX,hX=sX,mX=aX,pX=iX,xX=oX,gX=lX,yX=cX,rje=Q0e,vX=dX,bX=uX;const Ru=eje,Du=tje,d6=rje,eP=j.forwardRef(({className:e,inset:t,children:n,...r},a)=>s.jsxs(vX,{ref:a,className:Re("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,s.jsx(Hc,{className:"ml-auto"})]}));eP.displayName=vX.displayName;const tP=j.forwardRef(({className:e,...t},n)=>s.jsx(bX,{ref:n,className:Re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));tP.displayName=bX.displayName;const Zc=j.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(nje,{children:s.jsx(fX,{ref:r,sideOffset:t,className:Re("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));Zc.displayName=fX.displayName;const $a=j.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(mX,{ref:r,className:Re("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...n}));$a.displayName=mX.displayName;const sje=j.forwardRef(({className:e,children:t,checked:n,...r},a)=>s.jsxs(pX,{ref:a,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(gX,{children:s.jsx(bt,{className:"h-4 w-4"})})}),t]}));sje.displayName=pX.displayName;const aje=j.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(xX,{ref:r,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(gX,{children:s.jsx(BW,{className:"h-2 w-2 fill-current"})})}),t]}));aje.displayName=xX.displayName;const ije=j.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(hX,{ref:r,className:Re("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));ije.displayName=hX.displayName;const jX=j.forwardRef(({className:e,...t},n)=>s.jsx(yX,{ref:n,className:Re("-mx-1 my-1 h-px bg-muted",e),...t}));jX.displayName=yX.displayName;function D_(){const{setTheme:e,theme:t}=sue();return s.jsxs(Ru,{children:[s.jsx(Du,{asChild:!0,children:s.jsxs(U,{variant:"ghost",size:"icon",className:"h-9 w-9","data-testid":"button-theme-toggle",children:[s.jsx(xF,{className:"h-4 w-4 text-yellow-500 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(hF,{className:"absolute h-4 w-4 text-blue-400 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),s.jsxs(Zc,{align:"end",children:[s.jsxs($a,{onClick:()=>e("light"),"data-testid":"menu-theme-light",children:[s.jsx(xF,{className:"mr-2 h-4 w-4"}),""]}),s.jsxs($a,{onClick:()=>e("dark"),"data-testid":"menu-theme-dark",children:[s.jsx(hF,{className:"mr-2 h-4 w-4"}),""]}),s.jsxs($a,{onClick:()=>e("system"),"data-testid":"menu-theme-system",children:[s.jsx("span",{className:"mr-2",children:""}),""]})]})]})}function oje(){const{t:e,i18n:t}=as();hr();const[n,r]=j.useState(!1),[a,i]=j.useState(!1),{data:o}=Ne({queryKey:["/api/public/platform-settings"]}),l=o?.platformName||e("brand");j.useEffect(()=>{const u=()=>{r(window.scrollY>10)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]);const c=u=>{t.changeLanguage(u)};return s.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-200 border-b ${n?"bg-background/90 backdrop-blur-md border-border py-3":"bg-background border-transparent py-4"}`,children:[s.jsxs("div",{className:"container mx-auto px-4 flex items-center justify-between",children:[s.jsxs(Mt,{href:"/",className:"flex items-center gap-2 group",children:[o?.platformLogoUrl?s.jsx("img",{src:o.platformLogoUrl,alt:l,className:"w-8 h-8 rounded object-cover"}):s.jsx("div",{className:"w-8 h-8 rounded bg-emerald-600 flex items-center justify-center text-foreground font-bold font-mono text-sm shadow-[0_0_15px_rgba(16,185,129,0.4)] group-hover:bg-emerald-500 transition-colors",children:l.substring(0,2).toUpperCase()}),s.jsxs("span",{className:"font-bold text-lg tracking-tight text-foreground group-hover:text-emerald-400 transition-colors font-mono",children:[l,"_"]})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-8 text-xs font-mono font-medium text-muted-foreground uppercase tracking-widest",children:[s.jsx("a",{href:"#features",className:"hover:text-foreground transition-colors",children:e("nav.features")}),s.jsx("a",{href:"#pricing",className:"hover:text-foreground transition-colors",children:e("nav.pricing")}),s.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:e("nav.apiDocs")})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[s.jsxs(Ru,{children:[s.jsx(Du,{asChild:!0,children:s.jsxs(U,{variant:"ghost",size:"sm",className:"h-8 text-xs font-mono text-muted-foreground hover:text-foreground hover:bg-muted",children:[s.jsx(jn,{className:"h-3 w-3 mr-2"}),t.language.toUpperCase()]})}),s.jsxs(Zc,{align:"end",className:"bg-card border-border text-foreground",children:[s.jsx($a,{onClick:()=>c("ru"),className:"hover:bg-muted hover:text-foreground cursor-pointer font-mono text-xs",children:"RUSSIAN"}),s.jsx($a,{onClick:()=>c("en"),className:"hover:bg-muted hover:text-foreground cursor-pointer font-mono text-xs",children:"ENGLISH"})]})]}),s.jsx(D_,{}),s.jsx("div",{className:"h-4 w-px bg-border"}),s.jsx(Mt,{href:"/login",children:s.jsx(U,{variant:"ghost",size:"sm",className:"h-8 text-xs font-mono text-foreground hover:bg-muted",children:e("nav.login")})}),s.jsx(Mt,{href:"/register/advertiser",children:s.jsxs(U,{size:"sm",className:"h-8 bg-white text-black hover:bg-muted text-xs font-bold font-mono px-4 rounded-sm",children:[e("nav.start")," ",s.jsx(Qp,{className:"w-3 h-3 ml-2"})]})})]}),s.jsx("div",{className:"md:hidden flex items-center gap-4",children:s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>i(!a),className:"text-foreground",children:a?s.jsx(Xn,{className:"h-5 w-5"}):s.jsx(KW,{className:"h-5 w-5"})})})]}),a&&s.jsxs("div",{className:"md:hidden absolute top-full left-0 right-0 bg-background border-b border-border p-4 shadow-xl flex flex-col gap-4",children:[s.jsx("a",{href:"#features",className:"text-sm font-mono text-muted-foreground py-2",children:e("nav.features")}),s.jsx("a",{href:"#pricing",className:"text-sm font-mono text-muted-foreground py-2",children:e("nav.pricing")}),s.jsx(Mt,{href:"/login",children:s.jsx(U,{className:"w-full bg-emerald-600 hover:bg-emerald-500 text-foreground font-mono",children:e("nav.loginSystem")})})]})]})}function lje(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}var cje=pa[" useInsertionEffect ".trim().toString()]||Zt;function dje({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=uje({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=fje(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function uje({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return cje(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function fje(e){return typeof e=="function"}function I_(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var oN="Switch",[hje]=ss(oN),[mje,pje]=hje(oN),wX=j.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:f,...m}=e,[p,g]=j.useState(null),v=it(t,T=>g(T)),y=j.useRef(!1),w=p?f||!!p.closest("form"):!0,[N,A]=dje({prop:a,defaultProp:i??!1,onChange:u,caller:oN});return s.jsxs(mje,{scope:n,checked:N,disabled:l,children:[s.jsx(Je.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":kX(N),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:v,onClick:lje(e.onClick,T=>{A(C=>!C),w&&(y.current=T.isPropagationStopped(),y.current||T.stopPropagation())})}),w&&s.jsx(CX,{control:p,bubbles:!y.current,name:r,value:c,checked:N,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});wX.displayName=oN;var NX="SwitchThumb",SX=j.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=pje(NX,n);return s.jsx(Je.span,{"data-state":kX(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});SX.displayName=NX;var xje="SwitchBubbleInput",CX=j.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...a},i)=>{const o=j.useRef(null),l=it(o,i),c=I_(n),u=b_(t);return j.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&g){const v=new Event("click",{bubbles:r});g.call(f,n),f.dispatchEvent(v)}},[c,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});CX.displayName=xje;function kX(e){return e?"checked":"unchecked"}var TX=wX,gje=SX;const vr=j.forwardRef(({className:e,...t},n)=>s.jsx(TX,{className:Re("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(gje,{className:Re("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));vr.displayName=TX.displayName;const yje=am("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:"text-foreground border [border-color:var(--badge-outline)]"}},defaultVariants:{variant:"default"}});function ye({className:e,variant:t,...n}){return s.jsx("div",{className:Re(yje({variant:t}),e),...n})}const AX=j.createContext({});function lN(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const L_=typeof window<"u",$_=L_?j.useLayoutEffect:j.useEffect,F_=j.createContext(null);function B_(e,t){e.indexOf(t)===-1&&e.push(t)}function z_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Lo=(e,t,n)=>n>t?t:n<e?e:n;let Gx=()=>{};const Ll={},EX=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function OX(e){return typeof e=="object"&&e!==null}const PX=e=>/^0[^.\s]+$/u.test(e);function q_(e){let t;return()=>(t===void 0&&(t=e()),t)}const ha=e=>e,vje=(e,t)=>n=>t(e(n)),iy=(...e)=>e.reduce(vje),jh=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class U_{constructor(){this.subscriptions=[]}add(t){return B_(this.subscriptions,t),()=>z_(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ao=e=>e*1e3,pi=e=>e/1e3;function V_(e,t){return t?e*(1e3/t):0}const MX=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,bje=1e-7,jje=12;function wje(e,t,n,r,a){let i,o,l=0;do o=t+(n-t)/2,i=MX(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>bje&&++l<jje);return o}function oy(e,t,n,r){if(e===t&&n===r)return ha;const a=i=>wje(i,0,1,e,n);return i=>i===0||i===1?i:MX(a(i),t,r)}const _X=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,RX=e=>t=>1-e(1-t),DX=oy(.33,1.53,.69,.99),H_=RX(DX),IX=_X(H_),LX=e=>(e*=2)<1?.5*H_(e):.5*(2-Math.pow(2,-10*(e-1))),K_=e=>1-Math.sin(Math.acos(e)),$X=RX(K_),FX=_X(K_),Nje=oy(.42,0,1,1),Sje=oy(0,0,.58,1),BX=oy(.42,0,.58,1),Cje=e=>Array.isArray(e)&&typeof e[0]!="number",zX=e=>Array.isArray(e)&&typeof e[0]=="number",kje={linear:ha,easeIn:Nje,easeInOut:BX,easeOut:Sje,circIn:K_,circInOut:FX,circOut:$X,backIn:H_,backInOut:IX,backOut:DX,anticipate:LX},Tje=e=>typeof e=="string",u6=e=>{if(zX(e)){Gx(e.length===4);const[t,n,r,a]=e;return oy(t,n,r,a)}else if(Tje(e))return kje[e];return e},ib=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Aje(e,t){let n=new Set,r=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){o.has(f)&&(u.schedule(f),e()),f(l)}const u={schedule:(f,m=!1,p=!1)=>{const v=p&&a?n:r;return m&&o.add(f),v.has(f)||v.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(l=f,a){i=!0;return}a=!0,[n,r]=[r,n],n.forEach(c),n.clear(),a=!1,i&&(i=!1,u.process(f))}};return u}const Eje=40;function qX(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=ib.reduce((T,C)=>(T[C]=Aje(i),T),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:f,update:m,preRender:p,render:g,postRender:v}=o,y=()=>{const T=Ll.useManualTiming?a.timestamp:performance.now();n=!1,Ll.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(T-a.timestamp,Eje),1)),a.timestamp=T,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),f.process(a),m.process(a),p.process(a),g.process(a),v.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(y))},w=()=>{n=!0,r=!0,a.isProcessing||e(y)};return{schedule:ib.reduce((T,C)=>{const S=o[C];return T[C]=(E,O=!1,_=!1)=>(n||w(),S.schedule(E,O,_)),T},{}),cancel:T=>{for(let C=0;C<ib.length;C++)o[ib[C]].cancel(T)},state:a,steps:o}}const{schedule:xn,cancel:so,state:Wr,steps:vC}=qX(typeof requestAnimationFrame<"u"?requestAnimationFrame:ha,!0);let Qb;function Oje(){Qb=void 0}const da={now:()=>(Qb===void 0&&da.set(Wr.isProcessing||Ll.useManualTiming?Wr.timestamp:performance.now()),Qb),set:e=>{Qb=e,queueMicrotask(Oje)}},UX=e=>t=>typeof t=="string"&&t.startsWith(e),W_=UX("--"),Pje=UX("var(--"),G_=e=>Pje(e)?Mje.test(e.split("/*")[0].trim()):!1,Mje=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Yx={...hm,transform:e=>Lo(0,1,e)},ob={...hm,default:1},mx=e=>Math.round(e*1e5)/1e5,Y_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _je(e){return e==null}const Rje=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,X_=(e,t)=>n=>!!(typeof n=="string"&&Rje.test(n)&&n.startsWith(e)||t&&!_je(n)&&Object.prototype.hasOwnProperty.call(n,t)),VX=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,i,o,l]=r.match(Y_);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Dje=e=>Lo(0,255,e),bC={...hm,transform:e=>Math.round(Dje(e))},qd={test:X_("rgb","red"),parse:VX("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+bC.transform(e)+", "+bC.transform(t)+", "+bC.transform(n)+", "+mx(Yx.transform(r))+")"};function Ije(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const nP={test:X_("#"),parse:Ije,transform:qd.transform},ly=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Cc=ly("deg"),Eo=ly("%"),gt=ly("px"),Lje=ly("vh"),$je=ly("vw"),f6={...Eo,parse:e=>Eo.parse(e)/100,transform:e=>Eo.transform(e*100)},zf={test:X_("hsl","hue"),parse:VX("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Eo.transform(mx(t))+", "+Eo.transform(mx(n))+", "+mx(Yx.transform(r))+")"},Ar={test:e=>qd.test(e)||nP.test(e)||zf.test(e),parse:e=>qd.test(e)?qd.parse(e):zf.test(e)?zf.parse(e):nP.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?qd.transform(e):zf.transform(e),getAnimatableNone:e=>{const t=Ar.parse(e);return t.alpha=0,Ar.transform(t)}},Fje=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Bje(e){return isNaN(e)&&typeof e=="string"&&(e.match(Y_)?.length||0)+(e.match(Fje)?.length||0)>0}const HX="number",KX="color",zje="var",qje="var(",h6="${}",Uje=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xx(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(Uje,c=>(Ar.test(c)?(r.color.push(i),a.push(KX),n.push(Ar.parse(c))):c.startsWith(qje)?(r.var.push(i),a.push(zje),n.push(c)):(r.number.push(i),a.push(HX),n.push(parseFloat(c))),++i,h6)).split(h6);return{values:n,split:l,indexes:r,types:a}}function WX(e){return Xx(e).values}function GX(e){const{split:t,types:n}=Xx(e),r=t.length;return a=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],a[o]!==void 0){const l=n[o];l===HX?i+=mx(a[o]):l===KX?i+=Ar.transform(a[o]):i+=a[o]}return i}}const Vje=e=>typeof e=="number"?0:Ar.test(e)?Ar.getAnimatableNone(e):e;function Hje(e){const t=WX(e);return GX(e)(t.map(Vje))}const Gc={test:Bje,parse:WX,createTransformer:GX,getAnimatableNone:Hje};function jC(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Kje({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=jC(c,l,e+1/3),i=jC(c,l,e),o=jC(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function R0(e,t){return n=>n>0?t:e}const nr=(e,t,n)=>e+(t-e)*n,wC=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},Wje=[nP,qd,zf],Gje=e=>Wje.find(t=>t.test(e));function m6(e){const t=Gje(e);if(!t)return!1;let n=t.parse(e);return t===zf&&(n=Kje(n)),n}const p6=(e,t)=>{const n=m6(e),r=m6(t);if(!n||!r)return R0(e,t);const a={...n};return i=>(a.red=wC(n.red,r.red,i),a.green=wC(n.green,r.green,i),a.blue=wC(n.blue,r.blue,i),a.alpha=nr(n.alpha,r.alpha,i),qd.transform(a))},rP=new Set(["none","hidden"]);function Yje(e,t){return rP.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Xje(e,t){return n=>nr(e,t,n)}function Q_(e){return typeof e=="number"?Xje:typeof e=="string"?G_(e)?R0:Ar.test(e)?p6:Zje:Array.isArray(e)?YX:typeof e=="object"?Ar.test(e)?p6:Qje:R0}function YX(e,t){const n=[...e],r=n.length,a=e.map((i,o)=>Q_(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}}function Qje(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=Q_(e[a])(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}}function Jje(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][r[i]],l=e.values[o]??0;n[a]=l,r[i]++}return n}const Zje=(e,t)=>{const n=Gc.createTransformer(t),r=Xx(e),a=Xx(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?rP.has(e)&&!a.values.length||rP.has(t)&&!r.values.length?Yje(e,t):iy(YX(Jje(r,a),a.values),n):R0(e,t)};function XX(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?nr(e,t,n):Q_(e)(e,t)}const ewe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>xn.update(t,n),stop:()=>so(t),now:()=>Wr.isProcessing?Wr.timestamp:da.now()}},QX=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)r+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},D0=2e4;function J_(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<D0;)t+=n,r=e.next(t);return t>=D0?1/0:t}function twe(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(J_(r),D0);return{type:"keyframes",ease:i=>r.next(a*i).value/t,duration:pi(a)}}const nwe=5;function JX(e,t,n){const r=Math.max(t-nwe,0);return V_(n-e(r),t-r)}const or={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},NC=.001;function rwe({duration:e=or.duration,bounce:t=or.bounce,velocity:n=or.velocity,mass:r=or.mass}){let a,i,o=1-t;o=Lo(or.minDamping,or.maxDamping,o),e=Lo(or.minDuration,or.maxDuration,pi(e)),o<1?(a=u=>{const f=u*o,m=f*e,p=f-n,g=sP(u,o),v=Math.exp(-m);return NC-p/g*v},i=u=>{const m=u*o*e,p=m*n+n,g=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-m),y=sP(Math.pow(u,2),o);return(-a(u)+NC>0?-1:1)*((p-g)*v)/y}):(a=u=>{const f=Math.exp(-u*e),m=(u-n)*e+1;return-NC+f*m},i=u=>{const f=Math.exp(-u*e),m=(n-u)*(e*e);return f*m});const l=5/e,c=awe(a,i,l);if(e=Ao(e),isNaN(c))return{stiffness:or.stiffness,damping:or.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const swe=12;function awe(e,t,n){let r=n;for(let a=1;a<swe;a++)r=r-e(r)/t(r);return r}function sP(e,t){return e*Math.sqrt(1-t*t)}const iwe=["duration","bounce"],owe=["stiffness","damping","mass"];function x6(e,t){return t.some(n=>e[n]!==void 0)}function lwe(e){let t={velocity:or.velocity,stiffness:or.stiffness,damping:or.damping,mass:or.mass,isResolvedFromDuration:!1,...e};if(!x6(e,owe)&&x6(e,iwe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,i=2*Lo(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:or.mass,stiffness:a,damping:i}}else{const n=rwe(e);t={...t,...n,mass:or.mass},t.isResolvedFromDuration=!0}return t}function I0(e=or.visualDuration,t=or.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:f,duration:m,velocity:p,isResolvedFromDuration:g}=lwe({...n,velocity:-pi(n.velocity||0)}),v=p||0,y=u/(2*Math.sqrt(c*f)),w=o-i,N=pi(Math.sqrt(c/f)),A=Math.abs(w)<5;r||(r=A?or.restSpeed.granular:or.restSpeed.default),a||(a=A?or.restDelta.granular:or.restDelta.default);let T;if(y<1){const S=sP(N,y);T=E=>{const O=Math.exp(-y*N*E);return o-O*((v+y*N*w)/S*Math.sin(S*E)+w*Math.cos(S*E))}}else if(y===1)T=S=>o-Math.exp(-N*S)*(w+(v+N*w)*S);else{const S=N*Math.sqrt(y*y-1);T=E=>{const O=Math.exp(-y*N*E),_=Math.min(S*E,300);return o-O*((v+y*N*w)*Math.sinh(_)+S*w*Math.cosh(_))/S}}const C={calculatedDuration:g&&m||null,next:S=>{const E=T(S);if(g)l.done=S>=m;else{let O=S===0?v:0;y<1&&(O=S===0?Ao(v):JX(T,S,E));const _=Math.abs(O)<=r,M=Math.abs(o-E)<=a;l.done=_&&M}return l.value=l.done?o:E,l},toString:()=>{const S=Math.min(J_(C),D0),E=QX(O=>C.next(S*O).value,S,30);return S+"ms "+E},toTransition:()=>{}};return C}I0.applyToOptions=e=>{const t=twe(e,100,I0);return e.ease=t.ease,e.duration=Ao(t.duration),e.type="keyframes",e};function aP({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:f}){const m=e[0],p={done:!1,value:m},g=_=>l!==void 0&&_<l||c!==void 0&&_>c,v=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let y=n*t;const w=m+y,N=o===void 0?w:o(w);N!==w&&(y=N-m);const A=_=>-y*Math.exp(-_/r),T=_=>N+A(_),C=_=>{const M=A(_),$=T(_);p.done=Math.abs(M)<=u,p.value=p.done?N:$};let S,E;const O=_=>{g(p.value)&&(S=_,E=I0({keyframes:[p.value,v(p.value)],velocity:JX(T,_,p.value),damping:a,stiffness:i,restDelta:u,restSpeed:f}))};return O(0),{calculatedDuration:null,next:_=>{let M=!1;return!E&&S===void 0&&(M=!0,C(_),O(_)),S!==void 0&&_>=S?E.next(_-S):(!M&&C(_),p)}}}function cwe(e,t,n){const r=[],a=n||Ll.mix||XX,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ha:t;l=iy(c,l)}r.push(l)}return r}function Z_(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(Gx(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=cwe(t,r,a),c=l.length,u=f=>{if(o&&f<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(f<e[m+1]);m++);const p=jh(e[m],e[m+1],f);return l[m](p)};return n?f=>u(Lo(e[0],e[i-1],f)):u}function dwe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=jh(0,t,r);e.push(nr(n,1,a))}}function ZX(e){const t=[0];return dwe(t,e.length-1),t}function uwe(e,t){return e.map(n=>n*t)}function fwe(e,t){return e.map(()=>t||BX).splice(0,e.length-1)}function px({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=Cje(r)?r.map(u6):u6(r),i={done:!1,value:t[0]},o=uwe(n&&n.length===t.length?n:ZX(t),e),l=Z_(o,t,{ease:Array.isArray(a)?a:fwe(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const hwe=e=>e!==null;function eR(e,{repeat:t,repeatType:n="loop"},r,a=1){const i=e.filter(hwe),l=a<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const mwe={decay:aP,inertia:aP,tween:px,keyframes:px,spring:I0};function eQ(e){typeof e.type=="string"&&(e.type=mwe[e.type])}class tR{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const pwe=e=>e/100;class nR extends tR{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==da.now()&&this.tick(da.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;eQ(t);const{type:n=px,repeat:r=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=n||px;c!==px&&typeof l[0]!="number"&&(this.mixKeyframes=iy(pwe,XX(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=J_(u));const{calculatedDuration:f}=u;this.calculatedDuration=f,this.resolvedDuration=f+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:f,repeat:m,repeatType:p,repeatDelay:g,type:v,onUpdate:y,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const N=this.currentTime-u*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?N<0:N>a;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let T=this.currentTime,C=r;if(m){const _=Math.min(this.currentTime,a)/l;let M=Math.floor(_),$=_%1;!$&&_>=1&&($=1),$===1&&M--,M=Math.min(M,m+1),!!(M%2)&&(p==="reverse"?($=1-$,g&&($-=g/l)):p==="mirror"&&(C=o)),T=Lo(0,1,$)*l}const S=A?{done:!1,value:f[0]}:C.next(T);i&&(S.value=i(S.value));let{done:E}=S;!A&&c!==null&&(E=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return O&&v!==aP&&(S.value=eR(f,this.options,w,this.speed)),y&&y(S.value),O&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return pi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+pi(t)}get time(){return pi(this.currentTime)}set time(t){t=Ao(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(da.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=pi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=ewe,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(da.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function xwe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ud=e=>e*180/Math.PI,iP=e=>{const t=Ud(Math.atan2(e[1],e[0]));return oP(t)},gwe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:iP,rotateZ:iP,skewX:e=>Ud(Math.atan(e[1])),skewY:e=>Ud(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},oP=e=>(e=e%360,e<0&&(e+=360),e),g6=iP,y6=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),v6=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ywe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:y6,scaleY:v6,scale:e=>(y6(e)+v6(e))/2,rotateX:e=>oP(Ud(Math.atan2(e[6],e[5]))),rotateY:e=>oP(Ud(Math.atan2(-e[2],e[0]))),rotateZ:g6,rotate:g6,skewX:e=>Ud(Math.atan(e[4])),skewY:e=>Ud(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function lP(e){return e.includes("scale")?1:0}function cP(e,t){if(!e||e==="none")return lP(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=ywe,a=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=gwe,a=l}if(!a)return lP(t);const i=r[t],o=a[1].split(",").map(bwe);return typeof i=="function"?i(o):o[i]}const vwe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return cP(n,t)};function bwe(e){return parseFloat(e.trim())}const mm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pm=new Set(mm),b6=e=>e===hm||e===gt,jwe=new Set(["x","y","z"]),wwe=mm.filter(e=>!jwe.has(e));function Nwe(e){const t=[];return wwe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Qd={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>cP(t,"x"),y:(e,{transform:t})=>cP(t,"y")};Qd.translateX=Qd.x;Qd.translateY=Qd.y;const Jd=new Set;let dP=!1,uP=!1,fP=!1;function tQ(){if(uP){const e=Array.from(Jd).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=Nwe(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([i,o])=>{r.getValue(i)?.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}uP=!1,dP=!1,Jd.forEach(e=>e.complete(fP)),Jd.clear()}function nQ(){Jd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(uP=!0)})}function Swe(){fP=!0,nQ(),tQ(),fP=!1}class rR{constructor(t,n,r,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Jd.add(this),dP||(dP=!0,xn.read(nQ),xn.resolveKeyframes(tQ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const i=a?.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}xwe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Jd.delete(this)}cancel(){this.state==="scheduled"&&(Jd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Cwe=e=>e.startsWith("--");function kwe(e,t,n){Cwe(t)?e.style.setProperty(t,n):e.style[t]=n}const rQ=q_(()=>window.ScrollTimeline!==void 0),Twe={};function Awe(e,t){const n=q_(e);return()=>Twe[t]??n()}const sQ=Awe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ex=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,j6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ex([0,.65,.55,1]),circOut:ex([.55,0,1,.45]),backIn:ex([.31,.01,.66,-.59]),backOut:ex([.33,1.53,.69,.99])};function aQ(e,t){if(e)return typeof e=="function"?sQ()?QX(e,t):"ease-out":zX(e)?ex(e):Array.isArray(e)?e.map(n=>aQ(n,t)||j6.easeOut):j6[e]}function Ewe(e,t,n,{delay:r=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const f={[t]:n};c&&(f.offset=c);const m=aQ(l,a);Array.isArray(m)&&(f.easing=m);const p={delay:r,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),e.animate(f,p)}function iQ(e){return typeof e=="function"&&"applyToOptions"in e}function Owe({type:e,...t}){return iQ(e)&&sQ()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Pwe extends tR{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Gx(typeof t.type!="string");const u=Owe(t);this.animation=Ewe(n,r,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const f=eR(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):kwe(n,r,f),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return pi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+pi(t)}get time(){return pi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ao(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&rQ()?(this.animation.timeline=t,ha):n(this)}}const oQ={anticipate:LX,backInOut:IX,circInOut:FX};function Mwe(e){return e in oQ}function _we(e){typeof e.ease=="string"&&Mwe(e.ease)&&(e.ease=oQ[e.ease])}const w6=10;class Rwe extends Pwe{constructor(t){_we(t),eQ(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new nR({...o,autoplay:!1}),c=Ao(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-w6).value,l.sample(c).value,w6),l.stop()}}const N6=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Gc.test(e)||e==="0")&&!e.startsWith("url("));function Dwe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Iwe(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=N6(a,t),l=N6(i,t);return!o||!l?!1:Dwe(e)||(n==="spring"||iQ(n))&&r}function hP(e){e.duration=0,e.type="keyframes"}const Lwe=new Set(["opacity","clipPath","filter","transform"]),$we=q_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Fwe(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:i,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return $we()&&n&&Lwe.has(n)&&(n!=="transform"||!u)&&!c&&!r&&a!=="mirror"&&i!==0&&o!=="inertia"}const Bwe=40;class zwe extends tR{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:f,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=da.now();const p={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:f,...m},g=f?.KeyframeResolver||rR;this.keyframeResolver=new g(l,(v,y,w)=>this.onKeyframesResolved(v,y,p,!w),c,u,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:f}=r;this.resolvedAt=da.now(),Iwe(t,i,o,l)||((Ll.instantAnimations||!c)&&f?.(eR(t,r,n)),t[0]=t[t.length-1],hP(r),r.repeat=0);const p={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Bwe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},g=!u&&Fwe(p)?new Rwe({...p,element:p.motionValue.owner.current}):new nR(p);g.finished.then(()=>this.notifyFinished()).catch(ha),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Swe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const qwe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Uwe(e){const t=qwe.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function lQ(e,t,n=1){const[r,a]=Uwe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return EX(o)?parseFloat(o):o}return G_(a)?lQ(a,t,n+1):a}function sR(e,t){return e?.[t]??e?.default??e}const cQ=new Set(["width","height","top","left","right","bottom",...mm]),Vwe={test:e=>e==="auto",parse:e=>e},dQ=e=>t=>t.test(e),uQ=[hm,gt,Eo,Cc,$je,Lje,Vwe],S6=e=>uQ.find(dQ(e));function Hwe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||PX(e):!0}const Kwe=new Set(["brightness","contrast","saturate","opacity"]);function Wwe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Y_)||[];if(!r)return e;const a=n.replace(r,"");let i=Kwe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const Gwe=/\b([a-z-]*)\(.*?\)/gu,mP={...Gc,getAnimatableNone:e=>{const t=e.match(Gwe);return t?t.map(Wwe).join(" "):e}},C6={...hm,transform:Math.round},Ywe={rotate:Cc,rotateX:Cc,rotateY:Cc,rotateZ:Cc,scale:ob,scaleX:ob,scaleY:ob,scaleZ:ob,skew:Cc,skewX:Cc,skewY:Cc,distance:gt,translateX:gt,translateY:gt,translateZ:gt,x:gt,y:gt,z:gt,perspective:gt,transformPerspective:gt,opacity:Yx,originX:f6,originY:f6,originZ:gt},aR={borderWidth:gt,borderTopWidth:gt,borderRightWidth:gt,borderBottomWidth:gt,borderLeftWidth:gt,borderRadius:gt,radius:gt,borderTopLeftRadius:gt,borderTopRightRadius:gt,borderBottomRightRadius:gt,borderBottomLeftRadius:gt,width:gt,maxWidth:gt,height:gt,maxHeight:gt,top:gt,right:gt,bottom:gt,left:gt,padding:gt,paddingTop:gt,paddingRight:gt,paddingBottom:gt,paddingLeft:gt,margin:gt,marginTop:gt,marginRight:gt,marginBottom:gt,marginLeft:gt,backgroundPositionX:gt,backgroundPositionY:gt,...Ywe,zIndex:C6,fillOpacity:Yx,strokeOpacity:Yx,numOctaves:C6},Xwe={...aR,color:Ar,backgroundColor:Ar,outlineColor:Ar,fill:Ar,stroke:Ar,borderColor:Ar,borderTopColor:Ar,borderRightColor:Ar,borderBottomColor:Ar,borderLeftColor:Ar,filter:mP,WebkitFilter:mP},fQ=e=>Xwe[e];function hQ(e,t){let n=fQ(e);return n!==mP&&(n=Gc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Qwe=new Set(["auto","none","0"]);function Jwe(e,t,n){let r=0,a;for(;r<e.length&&!a;){const i=e[r];typeof i=="string"&&!Qwe.has(i)&&Xx(i).values.length&&(a=e[r]),r++}if(a&&n)for(const i of t)e[i]=hQ(n,a)}class Zwe extends rR{constructor(t,n,r,a,i){super(t,n,r,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),G_(u))){const f=lQ(u,n.current);f!==void 0&&(t[c]=f),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!cQ.has(r)||t.length!==2)return;const[a,i]=t,o=S6(a),l=S6(i);if(o!==l)if(b6(o)&&b6(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Qd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||Hwe(t[a]))&&r.push(a);r.length&&Jwe(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Qd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function iR(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const a=document.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const mQ=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function pQ(e){return OX(e)&&"offsetHeight"in e}const k6=30,eNe=e=>!isNaN(parseFloat(e)),xx={current:void 0};class tNe{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=da.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=da.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=eNe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new U_);const r=this.events[t].add(n);return t==="change"?()=>{r(),xn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return xx.current&&xx.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=da.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>k6)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,k6);return V_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hi(e,t){return new tNe(e,t)}const{schedule:oR}=qX(queueMicrotask,!1),Di={x:!1,y:!1};function xQ(){return Di.x||Di.y}function nNe(e){return e==="x"||e==="y"?Di[e]?null:(Di[e]=!0,()=>{Di[e]=!1}):Di.x||Di.y?null:(Di.x=Di.y=!0,()=>{Di.x=Di.y=!1})}function gQ(e,t){const n=iR(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function T6(e){return!(e.pointerType==="touch"||xQ())}function rNe(e,t,n={}){const[r,a,i]=gQ(e,n),o=l=>{if(!T6(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const f=m=>{T6(m)&&(u(m),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,a)};return r.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const yQ=(e,t)=>t?e===t?!0:yQ(e,t.parentElement):!1,lR=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,sNe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aNe(e){return sNe.has(e.tagName)||e.tabIndex!==-1}const Jb=new WeakSet;function A6(e){return t=>{t.key==="Enter"&&e(t)}}function SC(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const iNe=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=A6(()=>{if(Jb.has(n))return;SC(n,"down");const a=A6(()=>{SC(n,"up")}),i=()=>SC(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function E6(e){return lR(e)&&!xQ()}function oNe(e,t,n={}){const[r,a,i]=gQ(e,n),o=l=>{const c=l.currentTarget;if(!E6(l))return;Jb.add(c);const u=t(c,l),f=(g,v)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),Jb.has(c)&&Jb.delete(c),E6(g)&&typeof u=="function"&&u(g,{success:v})},m=g=>{f(g,c===window||c===document||n.useGlobalTarget||yQ(c,g.target))},p=g=>{f(g,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",p,a)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),pQ(l)&&(l.addEventListener("focus",u=>iNe(u,a)),!aNe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function cR(e){return OX(e)&&"ownerSVGElement"in e}const Zb=new WeakMap;let e0;const vQ=(e,t,n)=>(r,a)=>a&&a[0]?a[0][e+"Size"]:cR(r)&&"getBBox"in r?r.getBBox()[t]:r[n],lNe=vQ("inline","width","offsetWidth"),cNe=vQ("block","height","offsetHeight");function dNe({target:e,borderBoxSize:t}){Zb.get(e)?.forEach(n=>{n(e,{get width(){return lNe(e,t)},get height(){return cNe(e,t)}})})}function uNe(e){e.forEach(dNe)}function fNe(){typeof ResizeObserver>"u"||(e0=new ResizeObserver(uNe))}function hNe(e,t){e0||fNe();const n=iR(e);return n.forEach(r=>{let a=Zb.get(r);a||(a=new Set,Zb.set(r,a)),a.add(t),e0?.observe(r)}),()=>{n.forEach(r=>{const a=Zb.get(r);a?.delete(t),a?.size||e0?.unobserve(r)})}}const t0=new Set;let qf;function mNe(){qf=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};t0.forEach(t=>t(e))},window.addEventListener("resize",qf)}function pNe(e){return t0.add(e),qf||mNe(),()=>{t0.delete(e),!t0.size&&typeof qf=="function"&&(window.removeEventListener("resize",qf),qf=void 0)}}function xNe(e,t){return typeof e=="function"?pNe(e):hNe(e,t)}function bQ(e,t){let n;const r=()=>{const{currentTime:a}=t,o=(a===null?0:a.value)/100;n!==o&&e(o),n=o};return xn.preUpdate(r,!0),()=>so(r)}function gNe(e){return cR(e)&&e.tagName==="svg"}function yNe(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],a=e[1+n],i=e[2+n],o=e[3+n],l=Z_(a,i,o);return t?l(r):l}const Cs=e=>!!(e&&e.getVelocity),vNe=[...uQ,Ar,Gc],bNe=e=>vNe.find(dQ(e)),dR=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function jNe(e=!0){const t=j.useContext(F_);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,i=j.useId();j.useEffect(()=>{if(e)return a(i)},[e]);const o=j.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const jQ=j.createContext({strict:!1}),O6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wh={};for(const e in O6)wh[e]={isEnabled:t=>O6[e].some(n=>!!t[n])};function wNe(e){for(const t in e)wh[t]={...wh[t],...e[t]}}const NNe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function L0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||NNe.has(e)}let wQ=e=>!L0(e);function SNe(e){typeof e=="function"&&(wQ=t=>t.startsWith("on")?!L0(t):e(t))}try{SNe(require("@emotion/is-prop-valid").default)}catch{}function CNe(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(wQ(a)||n===!0&&L0(a)||!t&&!L0(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const cN=j.createContext({});function dN(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Qx(e){return typeof e=="string"||Array.isArray(e)}const uR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fR=["initial",...uR];function uN(e){return dN(e.animate)||fR.some(t=>Qx(e[t]))}function NQ(e){return!!(uN(e)||e.variants)}function kNe(e,t){if(uN(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Qx(n)?n:void 0,animate:Qx(r)?r:void 0}}return e.inherit!==!1?t:{}}function TNe(e){const{initial:t,animate:n}=kNe(e,j.useContext(cN));return j.useMemo(()=>({initial:t,animate:n}),[P6(t),P6(n)])}function P6(e){return Array.isArray(e)?e.join(" "):e}const Jx={};function ANe(e){for(const t in e)Jx[t]=e[t],W_(t)&&(Jx[t].isCSSVariable=!0)}function SQ(e,{layout:t,layoutId:n}){return pm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Jx[e]||e==="opacity")}const ENe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ONe=mm.length;function PNe(e,t,n){let r="",a=!0;for(let i=0;i<ONe;i++){const o=mm[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=mQ(l,aR[o]);if(!c){a=!1;const f=ENe[o]||o;r+=`${f}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function hR(e,t,n){const{style:r,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(pm.has(c)){o=!0;continue}else if(W_(c)){a[c]=u;continue}else{const f=mQ(u,aR[c]);c.startsWith("origin")?(l=!0,i[c]=f):r[c]=f}}if(t.transform||(o||n?r.transform=PNe(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:f=0}=i;r.transformOrigin=`${c} ${u} ${f}`}}const mR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function CQ(e,t,n){for(const r in t)!Cs(t[r])&&!SQ(r,n)&&(e[r]=t[r])}function MNe({transformTemplate:e},t){return j.useMemo(()=>{const n=mR();return hR(n,t,e),Object.assign({},n.vars,n.style)},[t])}function _Ne(e,t){const n=e.style||{},r={};return CQ(r,n,e),Object.assign(r,MNe(e,t)),r}function RNe(e,t){const n={},r=_Ne(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const DNe={offset:"stroke-dashoffset",array:"stroke-dasharray"},INe={offset:"strokeDashoffset",array:"strokeDasharray"};function LNe(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?DNe:INe;e[i.offset]=gt.transform(-r);const o=gt.transform(t),l=gt.transform(n);e[i.array]=`${o} ${l}`}function kQ(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,u,f){if(hR(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p}=e;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=f?.transformBox??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&LNe(m,a,i,o,!1)}const TQ=()=>({...mR(),attrs:{}}),AQ=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $Ne(e,t,n,r){const a=j.useMemo(()=>{const i=TQ();return kQ(i,t,AQ(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};CQ(i,e.style,e),a.style={...i,...a.style}}return a}const FNe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pR(e){return typeof e!="string"||e.includes("-")?!1:!!(FNe.indexOf(e)>-1||/[A-Z]/u.test(e))}function BNe(e,t,n,{latestValues:r},a,i=!1){const l=(pR(e)?$Ne:RNe)(t,r,a,e),c=CNe(t,typeof e=="string",i),u=e!==j.Fragment?{...c,...l,ref:n}:{},{children:f}=t,m=j.useMemo(()=>Cs(f)?f.get():f,[f]);return j.createElement(e,{...u,children:m})}function M6(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function xR(e,t,n,r){if(typeof t=="function"){const[a,i]=M6(r);t=t(n!==void 0?n:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=M6(r);t=t(n!==void 0?n:e.custom,a,i)}return t}function n0(e){return Cs(e)?e.get():e}function zNe({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:qNe(n,r,a,e),renderState:t()}}function qNe(e,t,n,r){const a={},i=r(e,{});for(const p in i)a[p]=n0(i[p]);let{initial:o,animate:l}=e;const c=uN(e),u=NQ(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const m=f?l:o;if(m&&typeof m!="boolean"&&!dN(m)){const p=Array.isArray(m)?m:[m];for(let g=0;g<p.length;g++){const v=xR(e,p[g]);if(v){const{transitionEnd:y,transition:w,...N}=v;for(const A in N){let T=N[A];if(Array.isArray(T)){const C=f?T.length-1:0;T=T[C]}T!==null&&(a[A]=T)}for(const A in y)a[A]=y[A]}}}return a}const EQ=e=>(t,n)=>{const r=j.useContext(cN),a=j.useContext(F_),i=()=>zNe(e,t,r,a);return n?i():lN(i)};function gR(e,t,n){const{style:r}=e,a={};for(const i in r)(Cs(r[i])||t.style&&Cs(t.style[i])||SQ(i,e)||n?.getValue(i)?.liveStyle!==void 0)&&(a[i]=r[i]);return a}const UNe=EQ({scrapeMotionValuesFromProps:gR,createRenderState:mR});function OQ(e,t,n){const r=gR(e,t,n);for(const a in e)if(Cs(e[a])||Cs(t[a])){const i=mm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[i]=e[a]}return r}const VNe=EQ({scrapeMotionValuesFromProps:OQ,createRenderState:TQ}),HNe=Symbol.for("motionComponentSymbol");function Uf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function KNe(e,t,n){return j.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Uf(n)&&(n.current=r))},[t])}const yR=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),WNe="framerAppearId",PQ="data-"+yR(WNe),MQ=j.createContext({});function GNe(e,t,n,r,a){const{visualElement:i}=j.useContext(cN),o=j.useContext(jQ),l=j.useContext(F_),c=j.useContext(dR).reducedMotion,u=j.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=u.current,m=j.useContext(MQ);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&YNe(u.current,n,a,m);const p=j.useRef(!1);j.useInsertionEffect(()=>{f&&p.current&&f.update(n,l)});const g=n[PQ],v=j.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return $_(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),v.current&&f.animationState&&f.animationState.animateChanges())}),j.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),v.current=!1),f.enteringChildren=void 0)}),f}function YNe(e,t,n,r){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:_Q(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Uf(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:c,layoutRoot:u})}function _Q(e){if(e)return e.options.allowProjection!==!1?e.projection:_Q(e.parent)}function CC(e,{forwardMotionProps:t=!1}={},n,r){n&&wNe(n);const a=pR(e)?VNe:UNe;function i(l,c){let u;const f={...j.useContext(dR),...l,layoutId:XNe(l)},{isStatic:m}=f,p=TNe(l),g=a(l,m);if(!m&&L_){QNe();const v=JNe(f);u=v.MeasureLayout,p.visualElement=GNe(e,g,f,r,v.ProjectionNode)}return s.jsxs(cN.Provider,{value:p,children:[u&&p.visualElement?s.jsx(u,{visualElement:p.visualElement,...f}):null,BNe(e,l,KNe(g,p.visualElement,c),g,m,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=j.forwardRef(i);return o[HNe]=e,o}function XNe({layoutId:e}){const t=j.useContext(AX).id;return t&&e!==void 0?t+"-"+e:e}function QNe(e,t){j.useContext(jQ).strict}function JNe(e){const{drag:t,layout:n}=wh;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function ZNe(e,t){if(typeof Proxy>"u")return CC;const n=new Map,r=(i,o)=>CC(i,o,e,t),a=(i,o)=>r(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,CC(o,void 0,e,t)),n.get(o))})}function RQ({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function e1e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function t1e(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function kC(e){return e===void 0||e===1}function pP({scale:e,scaleX:t,scaleY:n}){return!kC(e)||!kC(t)||!kC(n)}function Dd(e){return pP(e)||DQ(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function DQ(e){return _6(e.x)||_6(e.y)}function _6(e){return e&&e!=="0%"}function $0(e,t,n){const r=e-n,a=t*r;return n+a}function R6(e,t,n,r,a){return a!==void 0&&(e=$0(e,a,r)),$0(e,n,r)+t}function xP(e,t=0,n=1,r,a){e.min=R6(e.min,t,n,r,a),e.max=R6(e.max,t,n,r,a)}function IQ(e,{x:t,y:n}){xP(e.x,t.translate,t.scale,t.originPoint),xP(e.y,n.translate,n.scale,n.originPoint)}const D6=.999999999999,I6=1.0000000000001;function n1e(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Hf(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,IQ(e,o)),r&&Dd(i.latestValues)&&Hf(e,i.latestValues))}t.x<I6&&t.x>D6&&(t.x=1),t.y<I6&&t.y>D6&&(t.y=1)}function Vf(e,t){e.min=e.min+t,e.max=e.max+t}function L6(e,t,n,r,a=.5){const i=nr(e.min,e.max,a);xP(e,t,n,i,r)}function Hf(e,t){L6(e.x,t.x,t.scaleX,t.scale,t.originX),L6(e.y,t.y,t.scaleY,t.scale,t.originY)}function LQ(e,t){return RQ(t1e(e.getBoundingClientRect(),t))}function r1e(e,t,n){const r=LQ(e,n),{scroll:a}=t;return a&&(Vf(r.x,a.offset.x),Vf(r.y,a.offset.y)),r}const $6=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kf=()=>({x:$6(),y:$6()}),F6=()=>({min:0,max:0}),gr=()=>({x:F6(),y:F6()}),gP={current:null},$Q={current:!1};function s1e(){if($Q.current=!0,!!L_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>gP.current=e.matches;e.addEventListener("change",t),t()}else gP.current=!1}const a1e=new WeakMap;function i1e(e,t,n){for(const r in t){const a=t[r],i=n[r];if(Cs(a))e.addValue(r,a);else if(Cs(i))e.addValue(r,Hi(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(r);e.addValue(r,Hi(o!==void 0?o:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const B6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class o1e{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=da.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,xn.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=uN(n),this.isVariantNode=NQ(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in m){const g=m[p];c[p]!==void 0&&Cs(g)&&g.set(c[p])}}mount(t){this.current=t,a1e.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$Q.current||s1e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gP.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),so(this.notifyUpdate),so(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=pm.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&xn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in wh){const n=wh[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<B6.length;r++){const a=B6[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=i1e(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Hi(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(EX(r)||PX(r))?r=parseFloat(r):!bNe(r)&&Gc.test(n)&&(r=hQ(t,n)),this.setBaseTarget(t,Cs(r)?r.get():r)),Cs(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const i=xR(this.props,n,this.presenceContext?.custom);i&&(r=i[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Cs(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new U_),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){oR.render(this.render)}}class FQ extends o1e{constructor(){super(...arguments),this.KeyframeResolver=Zwe}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Cs(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function BQ(e,{style:t,vars:n},r,a){const i=e.style;let o;for(o in t)i[o]=t[o];a?.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function l1e(e){return window.getComputedStyle(e)}class c1e extends FQ{constructor(){super(...arguments),this.type="html",this.renderInstance=BQ}readValueFromInstance(t,n){if(pm.has(n))return this.projection?.isProjecting?lP(n):vwe(t,n);{const r=l1e(t),a=(W_(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return LQ(t,n)}build(t,n,r){hR(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return gR(t,n,r)}}const zQ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function d1e(e,t,n,r){BQ(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(zQ.has(a)?a:yR(a),t.attrs[a])}class u1e extends FQ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(pm.has(n)){const r=fQ(n);return r&&r.default||0}return n=zQ.has(n)?n:yR(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return OQ(t,n,r)}build(t,n,r){kQ(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){d1e(t,n,r,a)}mount(t){this.isSVGTag=AQ(t.tagName),super.mount(t)}}const f1e=(e,t)=>pR(e)?new u1e(t):new c1e(t,{allowProjection:e!==j.Fragment});function sh(e,t,n){const r=e.getProps();return xR(r,t,n!==void 0?n:r.custom,e)}const yP=e=>Array.isArray(e);function h1e(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Hi(n))}function m1e(e){return yP(e)?e[e.length-1]||0:e}function p1e(e,t){const n=sh(e,t);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const o in i){const l=m1e(i[o]);h1e(e,o,l)}}function x1e(e){return!!(Cs(e)&&e.add)}function vP(e,t){const n=e.getValue("willChange");if(x1e(n))return n.add(t);if(!n&&Ll.WillChange){const r=new Ll.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function qQ(e){return e.props[PQ]}const g1e=e=>e!==null;function y1e(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(g1e),i=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[i]}const v1e={type:"spring",stiffness:500,damping:25,restSpeed:10},b1e=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),j1e={type:"keyframes",duration:.8},w1e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},N1e=(e,{keyframes:t})=>t.length>2?j1e:pm.has(e)?e.startsWith("scale")?b1e(t[1]):v1e:w1e;function S1e({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...f}){return!!Object.keys(f).length}const vR=(e,t,n,r={},a,i)=>o=>{const l=sR(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ao(c);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:p=>{t.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};S1e(l)||Object.assign(f,N1e(e,f)),f.duration&&(f.duration=Ao(f.duration)),f.repeatDelay&&(f.repeatDelay=Ao(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(hP(f),f.delay===0&&(m=!0)),(Ll.instantAnimations||Ll.skipAnimations)&&(m=!0,hP(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!i&&t.get()!==void 0){const p=y1e(f.keyframes,l);if(p!==void 0){xn.update(()=>{f.onUpdate(p),f.onComplete()});return}}return l.isSync?new nR(f):new zwe(f)};function C1e({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function UQ(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(i=r);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const f in l){const m=e.getValue(f,e.latestValues[f]??null),p=l[f];if(p===void 0||u&&C1e(u,f))continue;const g={delay:n,...sR(i||{},f)},v=m.get();if(v!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===v&&!g.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const N=qQ(e);if(N){const A=window.MotionHandoffAnimation(N,f,xn);A!==null&&(g.startTime=A,y=!0)}}vP(e,f),m.start(vR(f,m,p,e.shouldReduceMotion&&cQ.has(f)?{type:!1}:g,e,y));const w=m.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{xn.update(()=>{o&&p1e(e,o)})}),c}function VQ(e,t,n,r=0,a=1){const i=Array.from(e).sort((u,f)=>u.sortNodePosition(f)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(i,o):a===1?i*r:l-i*r}function bP(e,t,n={}){const r=sh(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(UQ(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:m}=a;return k1e(e,t,c,u,f,m,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function k1e(e,t,n=0,r=0,a=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(bP(c,t,{...o,delay:n+(typeof r=="function"?0:r)+VQ(e.variantChildren,c,r,a,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function T1e(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>bP(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=bP(e,t,n);else{const a=typeof t=="function"?sh(e,t,n.custom):t;r=Promise.all(UQ(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function HQ(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const A1e=fR.length;function KQ(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?KQ(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<A1e;n++){const r=fR[n],a=e.props[r];(Qx(a)||a===!1)&&(t[r]=a)}return t}const E1e=[...uR].reverse(),O1e=uR.length;function P1e(e){return t=>Promise.all(t.map(({animation:n,options:r})=>T1e(e,n,r)))}function M1e(e){let t=P1e(e),n=z6(),r=!0;const a=c=>(u,f)=>{const m=sh(e,f,c==="exit"?e.presenceContext?.custom:void 0);if(m){const{transition:p,transitionEnd:g,...v}=m;u={...u,...v,...g}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,f=KQ(e.parent)||{},m=[],p=new Set;let g={},v=1/0;for(let w=0;w<O1e;w++){const N=E1e[w],A=n[N],T=u[N]!==void 0?u[N]:f[N],C=Qx(T),S=N===c?A.isActive:null;S===!1&&(v=w);let E=T===f[N]&&T!==u[N]&&C;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),A.protectedKeys={...g},!A.isActive&&S===null||!T&&!A.prevProp||dN(T)||typeof T=="boolean")continue;const O=_1e(A.prevProp,T);let _=O||N===c&&A.isActive&&!E&&C||w>v&&C,M=!1;const $=Array.isArray(T)?T:[T];let z=$.reduce(a(N),{});S===!1&&(z={});const{prevResolvedValues:V={}}=A,I={...V,...z},F=B=>{_=!0,p.has(B)&&(M=!0,p.delete(B)),A.needsAnimating[B]=!0;const L=e.getValue(B);L&&(L.liveStyle=!1)};for(const B in I){const L=z[B],q=V[B];if(g.hasOwnProperty(B))continue;let se=!1;yP(L)&&yP(q)?se=!HQ(L,q):se=L!==q,se?L!=null?F(B):p.add(B):L!==void 0&&p.has(B)?F(B):A.protectedKeys[B]=!0}A.prevProp=T,A.prevResolvedValues=z,A.isActive&&(g={...g,...z}),r&&e.blockInitialAnimation&&(_=!1);const K=E&&O;_&&(!K||M)&&m.push(...$.map(B=>{const L={type:N};if(typeof B=="string"&&r&&!K&&e.manuallyAnimateOnMount&&e.parent){const{parent:q}=e,se=sh(q,B);if(q.enteringChildren&&se){const{delayChildren:H}=se.transition||{};L.delay=VQ(q.enteringChildren,e,H)}}return{animation:B,options:L}}))}if(p.size){const w={};if(typeof u.initial!="boolean"){const N=sh(e,Array.isArray(u.initial)?u.initial[0]:u.initial);N&&N.transition&&(w.transition=N.transition)}p.forEach(N=>{const A=e.getBaseTarget(N),T=e.getValue(N);T&&(T.liveStyle=!0),w[N]=A??null}),m.push({animation:w})}let y=!!m.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(m):Promise.resolve()}function l(c,u){if(n[c].isActive===u)return Promise.resolve();e.variantChildren?.forEach(m=>m.animationState?.setActive(c,u)),n[c].isActive=u;const f=o(c);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=z6()}}}function _1e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!HQ(t,e):!1}function Ed(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function z6(){return{animate:Ed(!0),whileInView:Ed(),whileHover:Ed(),whileTap:Ed(),whileDrag:Ed(),whileFocus:Ed(),exit:Ed()}}class ed{constructor(t){this.isMounted=!1,this.node=t}update(){}}class R1e extends ed{constructor(t){super(t),t.animationState||(t.animationState=M1e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();dN(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let D1e=0;class I1e extends ed{constructor(){super(...arguments),this.id=D1e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const L1e={animation:{Feature:R1e},exit:{Feature:I1e}};function Zx(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function cy(e){return{point:{x:e.pageX,y:e.pageY}}}const $1e=e=>t=>lR(t)&&e(t,cy(t));function gx(e,t,n,r){return Zx(e,t,$1e(n),r)}const WQ=1e-4,F1e=1-WQ,B1e=1+WQ,GQ=.01,z1e=0-GQ,q1e=0+GQ;function Fs(e){return e.max-e.min}function U1e(e,t,n){return Math.abs(e-t)<=n}function q6(e,t,n,r=.5){e.origin=r,e.originPoint=nr(t.min,t.max,e.origin),e.scale=Fs(n)/Fs(t),e.translate=nr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=F1e&&e.scale<=B1e||isNaN(e.scale))&&(e.scale=1),(e.translate>=z1e&&e.translate<=q1e||isNaN(e.translate))&&(e.translate=0)}function yx(e,t,n,r){q6(e.x,t.x,n.x,r?r.originX:void 0),q6(e.y,t.y,n.y,r?r.originY:void 0)}function U6(e,t,n){e.min=n.min+t.min,e.max=e.min+Fs(t)}function V1e(e,t,n){U6(e.x,t.x,n.x),U6(e.y,t.y,n.y)}function V6(e,t,n){e.min=t.min-n.min,e.max=e.min+Fs(t)}function vx(e,t,n){V6(e.x,t.x,n.x),V6(e.y,t.y,n.y)}function oi(e){return[e("x"),e("y")]}const YQ=({current:e})=>e?e.ownerDocument.defaultView:null,H6=(e,t)=>Math.abs(e-t);function H1e(e,t){const n=H6(e.x,t.x),r=H6(e.y,t.y);return Math.sqrt(n**2+r**2)}class XQ{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=AC(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=H1e(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!v)return;const{point:y}=p,{timestamp:w}=Wr;this.history.push({...y,timestamp:w});const{onStart:N,onMove:A}=this.handlers;g||(N&&N(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=TC(g,this.transformPagePoint),xn.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=AC(p.type==="pointercancel"?this.lastMoveEventInfo:TC(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,N),y&&y(p,N)},!lR(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=a||window;const l=cy(t),c=TC(l,this.transformPagePoint),{point:u}=c,{timestamp:f}=Wr;this.history=[{...u,timestamp:f}];const{onSessionStart:m}=n;m&&m(t,AC(c,this.history)),this.removeListeners=iy(gx(this.contextWindow,"pointermove",this.handlePointerMove),gx(this.contextWindow,"pointerup",this.handlePointerUp),gx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),so(this.updatePoint)}}function TC(e,t){return t?{point:t(e.point)}:e}function K6(e,t){return{x:e.x-t.x,y:e.y-t.y}}function AC({point:e},t){return{point:e,delta:K6(e,QQ(t)),offset:K6(e,K1e(t)),velocity:W1e(t,.1)}}function K1e(e){return e[0]}function QQ(e){return e[e.length-1]}function W1e(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=QQ(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Ao(t)));)n--;if(!r)return{x:0,y:0};const i=pi(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function G1e(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?nr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?nr(n,e,r.max):Math.min(e,n)),e}function W6(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Y1e(e,{top:t,left:n,bottom:r,right:a}){return{x:W6(e.x,n,a),y:W6(e.y,t,r)}}function G6(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function X1e(e,t){return{x:G6(e.x,t.x),y:G6(e.y,t.y)}}function Q1e(e,t){let n=.5;const r=Fs(e),a=Fs(t);return a>r?n=jh(t.min,t.max-r,e.min):r>a&&(n=jh(e.min,e.max-a,t.min)),Lo(0,1,n)}function J1e(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const jP=.35;function Z1e(e=jP){return e===!1?e=0:e===!0&&(e=jP),{x:Y6(e,"left","right"),y:Y6(e,"top","bottom")}}function Y6(e,t,n){return{min:X6(e,t),max:X6(e,n)}}function X6(e,t){return typeof e=="number"?e:e[t]||0}const eSe=new WeakMap;class tSe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cy(m).point)},o=(m,p)=>{const{drag:g,dragPropagation:v,onDragStart:y}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nNe(g),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),oi(N=>{let A=this.getAxisMotionValue(N).get()||0;if(Eo.test(A)){const{projection:T}=this.visualElement;if(T&&T.layout){const C=T.layout.layoutBox[N];C&&(A=Fs(C)*(parseFloat(A)/100))}}this.originPoint[N]=A}),y&&xn.postRender(()=>y(m,p)),vP(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:y,onDrag:w}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:N}=p;if(v&&this.currentDirection===null){this.currentDirection=nSe(N),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,N),this.updateAxis("y",p.point,N),this.visualElement.render(),w&&w(m,p)},c=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>oi(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new XQ(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:YQ(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!r)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&xn.postRender(()=>l(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!lb(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=G1e(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Uf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Y1e(r.layoutBox,t):this.constraints=!1,this.elastic=Z1e(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&oi(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=J1e(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Uf(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=r1e(r,a.root,this.visualElement.getTransformPagePoint());let o=X1e(a.layout.layoutBox,i);if(n){const l=n(e1e(o));this.hasMutatedConstraints=!!l,l&&(o=RQ(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=oi(f=>{if(!lb(f,n,this.currentDirection))return;let m=c&&c[f]||{};o&&(m={min:0,max:0});const p=a?200:1e6,g=a?40:1e7,v={type:"inertia",velocity:r?t[f]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(f,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return vP(this.visualElement,t),r.start(vR(t,r,0,n,this.visualElement,!1))}stopAnimation(){oi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){oi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){oi(n=>{const{drag:r}=this.getProps();if(!lb(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[n];i.set(t[n]-nr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Uf(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};oi(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=Q1e({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),oi(o=>{if(!lb(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(nr(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;eSe.set(this.visualElement,this);const t=this.visualElement.current,n=gx(t,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Uf(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),xn.read(r);const o=Zx(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(oi(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=c[f].translate,m.set(m.get()+c[f].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=jP,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function lb(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function nSe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class rSe extends ed{constructor(t){super(t),this.removeGroupControls=ha,this.removeListeners=ha,this.controls=new tSe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ha}unmount(){this.removeGroupControls(),this.removeListeners()}}const Q6=e=>(t,n)=>{e&&xn.postRender(()=>e(t,n))};class sSe extends ed{constructor(){super(...arguments),this.removePointerDownListener=ha}onPointerDown(t){this.session=new XQ(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YQ(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:Q6(t),onStart:Q6(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&xn.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=gx(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const r0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function J6(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ep={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(gt.test(e))e=parseFloat(e);else return e;const n=J6(e,t.target.x),r=J6(e,t.target.y);return`${n}% ${r}%`}},aSe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Gc.parse(e);if(a.length>5)return r;const i=Gc.createTransformer(e),o=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=nr(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};let EC=!1;class iSe extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;ANe(oSe),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),EC&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),r0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,EC=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||xn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),oR.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;EC=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function JQ(e){const[t,n]=jNe(),r=j.useContext(AX);return s.jsx(iSe,{...e,layoutGroup:r,switchLayoutGroup:j.useContext(MQ),isPresent:t,safeToRemove:n})}const oSe={borderRadius:{...Ep,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ep,borderTopRightRadius:Ep,borderBottomLeftRadius:Ep,borderBottomRightRadius:Ep,boxShadow:aSe};function lSe(e,t,n){const r=Cs(e)?e:Hi(e);return r.start(vR("",r,t,n)),r.animation}const cSe=(e,t)=>e.depth-t.depth;class dSe{constructor(){this.children=[],this.isDirty=!1}add(t){B_(this.children,t),this.isDirty=!0}remove(t){z_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(cSe),this.isDirty=!1,this.children.forEach(t)}}function uSe(e,t){const n=da.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(so(r),e(i-t))};return xn.setup(r,!0),()=>so(r)}const ZQ=["TopLeft","TopRight","BottomLeft","BottomRight"],fSe=ZQ.length,Z6=e=>typeof e=="string"?parseFloat(e):e,eB=e=>typeof e=="number"||gt.test(e);function hSe(e,t,n,r,a,i){a?(e.opacity=nr(0,n.opacity??1,mSe(r)),e.opacityExit=nr(t.opacity??1,0,pSe(r))):i&&(e.opacity=nr(t.opacity??1,n.opacity??1,r));for(let o=0;o<fSe;o++){const l=`border${ZQ[o]}Radius`;let c=tB(t,l),u=tB(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||eB(c)===eB(u)?(e[l]=Math.max(nr(Z6(c),Z6(u),r),0),(Eo.test(u)||Eo.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=nr(t.rotate||0,n.rotate||0,r))}function tB(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const mSe=eJ(0,.5,$X),pSe=eJ(.5,.95,ha);function eJ(e,t,n){return r=>r<e?0:r>t?1:n(jh(e,t,r))}function nB(e,t){e.min=t.min,e.max=t.max}function ni(e,t){nB(e.x,t.x),nB(e.y,t.y)}function rB(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function sB(e,t,n,r,a){return e-=t,e=$0(e,1/n,r),a!==void 0&&(e=$0(e,1/a,r)),e}function xSe(e,t=0,n=1,r=.5,a,i=e,o=e){if(Eo.test(t)&&(t=parseFloat(t),t=nr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=nr(i.min,i.max,r);e===i&&(l-=t),e.min=sB(e.min,t,n,l,a),e.max=sB(e.max,t,n,l,a)}function aB(e,t,[n,r,a],i,o){xSe(e,t[n],t[r],t[a],t.scale,i,o)}const gSe=["x","scaleX","originX"],ySe=["y","scaleY","originY"];function iB(e,t,n,r){aB(e.x,t,gSe,n?n.x:void 0,r?r.x:void 0),aB(e.y,t,ySe,n?n.y:void 0,r?r.y:void 0)}function oB(e){return e.translate===0&&e.scale===1}function tJ(e){return oB(e.x)&&oB(e.y)}function lB(e,t){return e.min===t.min&&e.max===t.max}function vSe(e,t){return lB(e.x,t.x)&&lB(e.y,t.y)}function cB(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function nJ(e,t){return cB(e.x,t.x)&&cB(e.y,t.y)}function dB(e){return Fs(e.x)/Fs(e.y)}function uB(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class bSe{constructor(){this.members=[]}add(t){B_(this.members,t),t.scheduleRender()}remove(t){if(z_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jSe(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=n?.z||0;if((a||i||o)&&(r=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:f,rotateX:m,rotateY:p,skewX:g,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const OC=["","X","Y","Z"],wSe=1e3;let NSe=0;function PC(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function rJ(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=qQ(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",xn,!(a||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&rJ(r)}function sJ({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},l=t?.()){this.id=NSe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kSe),this.nodes.forEach(OSe),this.nodes.forEach(PSe),this.nodes.forEach(TSe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new dSe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new U_),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=cR(o)&&!gNe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let f,m=0;const p=()=>this.root.updateBlockedByResize=!1;xn.read(()=>{m=window.innerWidth}),e(o,()=>{const g=window.innerWidth;g!==m&&(m=g,this.root.updateBlockedByResize=!0,f&&f(),f=uSe(p,250),r0.hasAnimatedSinceResize&&(r0.hasAnimatedSinceResize=!1,this.nodes.forEach(mB)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||ISe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=u.getProps(),N=!this.targetLayout||!nJ(this.targetLayout,g),A=!m&&p;if(this.options.layoutRoot||this.resumeFrom||A||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...sR(v,"layout"),onPlay:y,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(f,A)}else m||mB(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),so(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MSe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rJ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fB);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hB);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ESe),this.nodes.forEach(SSe),this.nodes.forEach(CSe)):this.nodes.forEach(hB),this.clearAllSnapshots();const l=da.now();Wr.delta=Lo(0,1e3/60,l-Wr.timestamp),Wr.timestamp=l,Wr.isProcessing=!0,vC.update.process(Wr),vC.preRender.process(Wr),vC.render.process(Wr),Wr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ASe),this.sharedNodes.forEach(_Se)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fs(this.snapshot.measuredBox.x)&&!Fs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!tJ(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Dd(this.latestValues)||f)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),LSe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return gr();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some($Se))){const{scroll:u}=this.root;u&&(Vf(l.x,u.offset.x),Vf(l.y,u.offset.y))}return l}removeElementScroll(o){const l=gr();if(ni(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:m}=u;u!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&ni(l,o),Vf(l.x,f.offset.x),Vf(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=gr();ni(c,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Hf(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Dd(f.latestValues)&&Hf(c,f.latestValues)}return Dd(this.latestValues)&&Hf(c,this.latestValues),c}removeTransform(o){const l=gr();ni(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Dd(u.latestValues))continue;pP(u.latestValues)&&u.updateSnapshot();const f=gr(),m=u.measurePageBox();ni(f,m),iB(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Dd(this.latestValues)&&iB(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Wr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gr(),this.relativeTargetOrigin=gr(),vx(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gr(),this.targetWithTransforms=gr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),V1e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ni(this.target,this.layout.layoutBox),IQ(this.target,this.targetDelta)):ni(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gr(),this.relativeTargetOrigin=gr(),vx(this.relativeTargetOrigin,this.target,p.target),ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||pP(this.parent.latestValues)||DQ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Wr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;ni(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;n1e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=gr());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rB(this.prevProjectionDelta.x,this.projectionDelta.x),rB(this.prevProjectionDelta.y,this.projectionDelta.y)),yx(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!uB(this.projectionDelta.x,this.prevProjectionDelta.x)||!uB(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kf(),this.projectionDelta=Kf(),this.projectionDeltaWithTransform=Kf()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},m=Kf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=gr(),g=c?c.source:void 0,v=this.layout?this.layout.source:void 0,y=g!==v,w=this.getStack(),N=!w||w.members.length<=1,A=!!(y&&!N&&this.options.crossfade===!0&&!this.path.some(DSe));this.animationProgress=0;let T;this.mixTargetDelta=C=>{const S=C/1e3;pB(m.x,o.x,S),pB(m.y,o.y,S),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vx(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),RSe(this.relativeTarget,this.relativeTargetOrigin,p,S),T&&vSe(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=gr()),ni(T,this.relativeTarget)),y&&(this.animationValues=f,hSe(f,u,this.latestValues,S,A,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(so(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xn.update(()=>{r0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hi(0)),this.currentAnimation=lSe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wSe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:f}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&aJ(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||gr();const m=Fs(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const p=Fs(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}ni(l,c),Hf(l,f),yx(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new bSe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&PC("z",o,u,this.animationValues);for(let f=0;f<OC.length;f++)PC(`rotate${OC[f]}`,o,u,this.animationValues),PC(`skew${OC[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=n0(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=n0(l?.pointerEvents)||""),this.hasProjected&&!Dd(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=u.animationValues||u.latestValues;this.applyTransformsToTarget();let m=jSe(this.projectionDeltaWithTransform,this.treeScale,f);c&&(m=c(f,m)),o.transform=m;const{x:p,y:g}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,u.animationValues?o.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Jx){if(f[v]===void 0)continue;const{correct:y,applyTo:w,isCSSVariable:N}=Jx[v],A=m==="none"?f[v]:y(f[v],u);if(w){const T=w.length;for(let C=0;C<T;C++)o[w[C]]=A}else N?this.options.visualElement.renderState.vars[v]=A:o[v]=A}this.options.layoutId&&(o.pointerEvents=u===this?n0(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(fB),this.root.sharedNodes.clear()}}}function SSe(e){e.updateLayout()}function CSe(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;a==="size"?oi(f=>{const m=i?t.measuredBox[f]:t.layoutBox[f],p=Fs(m);m.min=n[f].min,m.max=m.min+p}):aJ(a,t.layoutBox,n)&&oi(f=>{const m=i?t.measuredBox[f]:t.layoutBox[f],p=Fs(n[f]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const o=Kf();yx(o,n,t.layoutBox);const l=Kf();i?yx(l,e.applyTransform(r,!0),t.measuredBox):yx(l,n,t.layoutBox);const c=!tJ(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const g=gr();vx(g,t.layoutBox,m.layoutBox);const v=gr();vx(v,n,p.layoutBox),nJ(g,v)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function kSe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function TSe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ASe(e){e.clearSnapshot()}function fB(e){e.clearMeasurements()}function hB(e){e.isLayoutDirty=!1}function ESe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function mB(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function OSe(e){e.resolveTargetDelta()}function PSe(e){e.calcProjection()}function MSe(e){e.resetSkewAndRotation()}function _Se(e){e.removeLeadSnapshot()}function pB(e,t,n){e.translate=nr(t.translate,0,n),e.scale=nr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function xB(e,t,n,r){e.min=nr(t.min,n.min,r),e.max=nr(t.max,n.max,r)}function RSe(e,t,n,r){xB(e.x,t.x,n.x,r),xB(e.y,t.y,n.y,r)}function DSe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ISe={duration:.45,ease:[.4,0,.1,1]},gB=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),yB=gB("applewebkit/")&&!gB("chrome/")?Math.round:ha;function vB(e){e.min=yB(e.min),e.max=yB(e.max)}function LSe(e){vB(e.x),vB(e.y)}function aJ(e,t,n){return e==="position"||e==="preserve-aspect"&&!U1e(dB(t),dB(n),.2)}function $Se(e){return e!==e.root&&e.scroll?.wasRoot}const FSe=sJ({attachResizeListener:(e,t)=>Zx(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),MC={current:void 0},iJ=sJ({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!MC.current){const e=new FSe({});e.mount(window),e.setOptions({layoutScroll:!0}),MC.current=e}return MC.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),BSe={pan:{Feature:sSe},drag:{Feature:rSe,ProjectionNode:iJ,MeasureLayout:JQ}};function bB(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,i=r[a];i&&xn.postRender(()=>i(t,cy(t)))}class zSe extends ed{mount(){const{current:t}=this.node;t&&(this.unmount=rNe(t,(n,r)=>(bB(this.node,r,"Start"),a=>bB(this.node,a,"End"))))}unmount(){}}class qSe extends ed{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=iy(Zx(this.node.current,"focus",()=>this.onFocus()),Zx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jB(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),i=r[a];i&&xn.postRender(()=>i(t,cy(t)))}class USe extends ed{mount(){const{current:t}=this.node;t&&(this.unmount=oNe(t,(n,r)=>(jB(this.node,r,"Start"),(a,{success:i})=>jB(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wP=new WeakMap,_C=new WeakMap,VSe=e=>{const t=wP.get(e.target);t&&t(e)},HSe=e=>{e.forEach(VSe)};function KSe({root:e,...t}){const n=e||document;_C.has(n)||_C.set(n,{});const r=_C.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(HSe,{root:e,...t})),r[a]}function WSe(e,t,n){const r=KSe(t);return wP.set(e,n),r.observe(e),()=>{wP.delete(e),r.unobserve(e)}}const GSe={some:0,all:1};class YSe extends ed{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:GSe[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),p=u?f:m;p&&p(c)};return WSe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(XSe(t,n))&&this.startObserver()}unmount(){}}function XSe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const QSe={inView:{Feature:YSe},tap:{Feature:USe},focus:{Feature:qSe},hover:{Feature:zSe}},JSe={layout:{ProjectionNode:iJ,MeasureLayout:JQ}},ZSe={...L1e,...QSe,...BSe,...JSe},st=ZNe(ZSe,f1e),e2e=50,wB=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),t2e=()=>({time:0,x:wB(),y:wB()}),n2e={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function NB(e,t,n,r){const a=n[t],{length:i,position:o}=n2e[t],l=a.current,c=n.time;a.current=e[`scroll${o}`],a.scrollLength=e[`scroll${i}`]-e[`client${i}`],a.offset.length=0,a.offset[0]=0,a.offset[1]=a.scrollLength,a.progress=jh(0,a.scrollLength,a.current);const u=r-c;a.velocity=u>e2e?0:V_(a.current-l,u)}function r2e(e,t,n){NB(e,"x",t,n),NB(e,"y",t,n),t.time=n}function s2e(e,t){const n={x:0,y:0};let r=e;for(;r&&r!==t;)if(pQ(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const a=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();n.x+=a.left-i.left,n.y+=a.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:a,y:i}=r.getBBox();n.x+=a,n.y+=i;let o=null,l=r.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=r.parentNode;r=o}else break;return n}const NP={start:0,center:.5,end:1};function SB(e,t,n=0){let r=0;if(e in NP&&(e=NP[e]),typeof e=="string"){const a=parseFloat(e);e.endsWith("px")?r=a:e.endsWith("%")?e=a/100:e.endsWith("vw")?r=a/100*document.documentElement.clientWidth:e.endsWith("vh")?r=a/100*document.documentElement.clientHeight:e=a}return typeof e=="number"&&(r=t*e),n+r}const a2e=[0,0];function i2e(e,t,n,r){let a=Array.isArray(e)?e:a2e,i=0,o=0;return typeof e=="number"?a=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?a=e.split(" "):a=[e,NP[e]?e:"0"]),i=SB(a[0],n,r),o=SB(a[1],t),i-o}const o2e={All:[[0,0],[1,1]]},l2e={x:0,y:0};function c2e(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function d2e(e,t,n){const{offset:r=o2e.All}=n,{target:a=e,axis:i="y"}=n,o=i==="y"?"height":"width",l=a!==e?s2e(a,e):l2e,c=a===e?{width:e.scrollWidth,height:e.scrollHeight}:c2e(a),u={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let f=!t[i].interpolate;const m=r.length;for(let p=0;p<m;p++){const g=i2e(r[p],u[o],c[o],l[i]);!f&&g!==t[i].interpolatorOffsets[p]&&(f=!0),t[i].offset[p]=g}f&&(t[i].interpolate=Z_(t[i].offset,ZX(r),{clamp:!1}),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=Lo(0,1,t[i].interpolate(t[i].current))}function u2e(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function f2e(e,t,n,r={}){return{measure:a=>{u2e(e,r.target,n),r2e(e,n,a),(r.offset||r.target)&&d2e(e,n,r)},notify:()=>t(n)}}const Op=new WeakMap,CB=new WeakMap,RC=new WeakMap,kB=e=>e===document.scrollingElement?window:e;function oJ(e,{container:t=document.scrollingElement,...n}={}){if(!t)return ha;let r=RC.get(t);r||(r=new Set,RC.set(t,r));const a=t2e(),i=f2e(t,e,a,n);if(r.add(i),!Op.has(t)){const l=()=>{for(const m of r)m.measure(Wr.timestamp);xn.preUpdate(c)},c=()=>{for(const m of r)m.notify()},u=()=>xn.read(l);Op.set(t,u);const f=kB(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&CB.set(t,xNe(t,u)),f.addEventListener("scroll",u,{passive:!0}),u()}const o=Op.get(t);return xn.read(o,!1,!0),()=>{so(o);const l=RC.get(t);if(!l||(l.delete(i),l.size))return;const c=Op.get(t);Op.delete(t),c&&(kB(t).removeEventListener("scroll",c),CB.get(t)?.(),window.removeEventListener("resize",c))}}const TB=new Map;function h2e(e){const t={value:0},n=oJ(r=>{t.value=r[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function lJ({source:e,container:t,...n}){const{axis:r}=n;e&&(t=e);const a=TB.get(t)??new Map;TB.set(t,a);const i=n.target??"self",o=a.get(i)??{},l=r+(n.offset??[]).join(",");return o[l]||(o[l]=!n.target&&rQ()?new ScrollTimeline({source:t,axis:r}):h2e({container:t,...n})),o[l]}function m2e(e,t){const n=lJ(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:r=>(r.pause(),bQ(a=>{r.time=r.iterationDuration*a},n))})}function p2e(e){return e.length===2}function x2e(e,t){return p2e(e)?oJ(n=>{e(n[t.axis].progress,n)},t):bQ(e,lJ(t))}function g2e(e,{axis:t="y",container:n=document.scrollingElement,...r}={}){if(!n)return ha;const a={axis:t,container:n,...r};return typeof e=="function"?x2e(e,a):m2e(e,a)}const y2e=()=>({scrollX:Hi(0),scrollY:Hi(0),scrollXProgress:Hi(0),scrollYProgress:Hi(0)}),cb=e=>e?!e.current:!1;function v2e({container:e,target:t,...n}={}){const r=lN(y2e),a=j.useRef(null),i=j.useRef(!1),o=j.useCallback(()=>(a.current=g2e((l,{x:c,y:u})=>{r.scrollX.set(c.current),r.scrollXProgress.set(c.progress),r.scrollY.set(u.current),r.scrollYProgress.set(u.progress)},{...n,container:e?.current||void 0,target:t?.current||void 0}),()=>{a.current?.()}),[e,t,JSON.stringify(n.offset)]);return $_(()=>{if(i.current=!1,cb(e)||cb(t)){i.current=!0;return}else return o()},[o]),j.useEffect(()=>{if(i.current)return Gx(!cb(e)),Gx(!cb(t)),o()},[o]),r}function b2e(e){const t=lN(()=>Hi(e)),{isStatic:n}=j.useContext(dR);if(n){const[,r]=j.useState(e);j.useEffect(()=>t.on("change",r),[])}return t}function cJ(e,t){const n=b2e(t()),r=()=>n.set(t());return r(),$_(()=>{const a=()=>xn.preRender(r,!1,!0),i=e.map(o=>o.on("change",a));return()=>{i.forEach(o=>o()),so(r)}}),n}function j2e(e){xx.current=[],e();const t=cJ(xx.current,e);return xx.current=void 0,t}function DC(e,t,n,r){if(typeof e=="function")return j2e(e);const a=typeof t=="function"?t:yNe(t,n,r);return Array.isArray(e)?AB(e,a):AB([e],([i])=>a(i))}function AB(e,t){const n=lN(()=>[]);return cJ(e,()=>{n.length=0;const r=e.length;for(let a=0;a<r;a++)n[a]=e[a].get();return t(n)})}const w2e={some:0,all:1};function N2e(e,t,{root:n,margin:r,amount:a="some"}={}){const i=iR(e),o=new WeakMap,l=u=>{u.forEach(f=>{const m=o.get(f.target);if(f.isIntersecting!==!!m)if(f.isIntersecting){const p=t(f.target,f);typeof p=="function"?o.set(f.target,p):c.unobserve(f.target)}else typeof m=="function"&&(m(f),o.delete(f.target))})},c=new IntersectionObserver(l,{root:n,rootMargin:r,threshold:typeof a=="number"?a:w2e[a]});return i.forEach(u=>c.observe(u)),()=>c.disconnect()}function S2e(e,{root:t,margin:n,amount:r,once:a=!1,initial:i=!1}={}){const[o,l]=j.useState(i);return j.useEffect(()=>{if(!e.current||a&&o)return;const c=()=>(l(!0),a?void 0:()=>l(!1)),u={root:t&&t.current||void 0,margin:n,amount:r};return N2e(e.current,c,u)},[t,e,n,a,r]),o}function db({children:e,className:t="",tiltAmount:n=10,glareEnabled:r=!0}){const a=j.useRef(null),[i,o]=j.useState(0),[l,c]=j.useState(0),[u,f]=j.useState({x:50,y:50}),m=g=>{if(!a.current)return;const v=a.current.getBoundingClientRect(),y=v.left+v.width/2,w=v.top+v.height/2,N=g.clientX-y,T=(g.clientY-w)/(v.height/2)*-n,C=N/(v.width/2)*n;o(T),c(C);const S=(g.clientX-v.left)/v.width*100,E=(g.clientY-v.top)/v.height*100;f({x:S,y:E})},p=()=>{o(0),c(0),f({x:50,y:50})};return s.jsxs(st.div,{ref:a,className:`relative ${t}`,onMouseMove:m,onMouseLeave:p,animate:{rotateX:i,rotateY:l,transformPerspective:1e3},transition:{type:"spring",stiffness:300,damping:20},style:{transformStyle:"preserve-3d"},children:[e,r&&s.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{background:`radial-gradient(circle at ${u.x}% ${u.y}%, rgba(255,255,255,0.15) 0%, transparent 60%)`}})]})}function C2e(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}var k2e=pa[" useInsertionEffect ".trim().toString()]||Zt;function dJ({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=T2e({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=A2e(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function T2e({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return k2e(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function A2e(e){return typeof e=="function"}function E2e(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}var O2e=pa[" useInsertionEffect ".trim().toString()]||Zt;function P2e({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=M2e({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=_2e(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function M2e({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return O2e(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function _2e(e){return typeof e=="function"}var fN="Collapsible",[R2e,uJ]=ss(fN),[D2e,bR]=R2e(fN),fJ=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,u]=P2e({prop:r,defaultProp:a??!1,onChange:o,caller:fN});return s.jsx(D2e,{scope:n,disabled:i,contentId:Ts(),open:c,onOpenToggle:j.useCallback(()=>u(f=>!f),[u]),children:s.jsx(Je.div,{"data-state":SR(c),"data-disabled":i?"":void 0,...l,ref:t})})});fJ.displayName=fN;var hJ="CollapsibleTrigger",jR=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=bR(hJ,n);return s.jsx(Je.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":SR(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:E2e(e.onClick,a.onOpenToggle)})});jR.displayName=hJ;var wR="CollapsibleContent",NR=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=bR(wR,e.__scopeCollapsible);return s.jsx(Vr,{present:n||a.open,children:({present:i})=>s.jsx(I2e,{...r,ref:t,present:i})})});NR.displayName=wR;var I2e=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...i}=e,o=bR(wR,n),[l,c]=j.useState(r),u=j.useRef(null),f=it(t,u),m=j.useRef(0),p=m.current,g=j.useRef(0),v=g.current,y=o.open||l,w=j.useRef(y),N=j.useRef(void 0);return j.useEffect(()=>{const A=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(A)},[]),Zt(()=>{const A=u.current;if(A){N.current=N.current||{transitionDuration:A.style.transitionDuration,animationName:A.style.animationName},A.style.transitionDuration="0s",A.style.animationName="none";const T=A.getBoundingClientRect();m.current=T.height,g.current=T.width,w.current||(A.style.transitionDuration=N.current.transitionDuration,A.style.animationName=N.current.animationName),c(r)}},[o.open,r]),s.jsx(Je.div,{"data-state":SR(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...i,ref:f,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:y&&a})});function SR(e){return e?"open":"closed"}var mJ=fJ,L2e=jR,$2e=NR,oo="Accordion",F2e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[CR,B2e,z2e]=eN(oo),[hN]=ss(oo,[z2e,uJ]),kR=uJ(),pJ=Z.forwardRef((e,t)=>{const{type:n,...r}=e,a=r,i=r;return s.jsx(CR.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?s.jsx(H2e,{...i,ref:t}):s.jsx(V2e,{...a,ref:t})})});pJ.displayName=oo;var[xJ,q2e]=hN(oo),[gJ,U2e]=hN(oo,{collapsible:!1}),V2e=Z.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=dJ({prop:n,defaultProp:r??"",onChange:a,caller:oo});return s.jsx(xJ,{scope:e.__scopeAccordion,value:Z.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:Z.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(gJ,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(yJ,{...o,ref:t})})})}),H2e=Z.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...i}=e,[o,l]=dJ({prop:n,defaultProp:r??[],onChange:a,caller:oo}),c=Z.useCallback(f=>l((m=[])=>[...m,f]),[l]),u=Z.useCallback(f=>l((m=[])=>m.filter(p=>p!==f)),[l]);return s.jsx(xJ,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(gJ,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(yJ,{...i,ref:t})})})}),[K2e,mN]=hN(oo),yJ=Z.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:a,orientation:i="vertical",...o}=e,l=Z.useRef(null),c=it(l,t),u=B2e(n),m=fm(a)==="ltr",p=C2e(e.onKeyDown,g=>{if(!F2e.includes(g.key))return;const v=g.target,y=u().filter(_=>!_.ref.current?.disabled),w=y.findIndex(_=>_.ref.current===v),N=y.length;if(w===-1)return;g.preventDefault();let A=w;const T=0,C=N-1,S=()=>{A=w+1,A>C&&(A=T)},E=()=>{A=w-1,A<T&&(A=C)};switch(g.key){case"Home":A=T;break;case"End":A=C;break;case"ArrowRight":i==="horizontal"&&(m?S():E());break;case"ArrowDown":i==="vertical"&&S();break;case"ArrowLeft":i==="horizontal"&&(m?E():S());break;case"ArrowUp":i==="vertical"&&E();break}const O=A%N;y[O].ref.current?.focus()});return s.jsx(K2e,{scope:n,disabled:r,direction:a,orientation:i,children:s.jsx(CR.Slot,{scope:n,children:s.jsx(Je.div,{...o,"data-orientation":i,ref:c,onKeyDown:r?void 0:p})})})}),F0="AccordionItem",[W2e,TR]=hN(F0),vJ=Z.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...a}=e,i=mN(F0,n),o=q2e(F0,n),l=kR(n),c=Ts(),u=r&&o.value.includes(r)||!1,f=i.disabled||e.disabled;return s.jsx(W2e,{scope:n,open:u,disabled:f,triggerId:c,children:s.jsx(mJ,{"data-orientation":i.orientation,"data-state":CJ(u),...l,...a,ref:t,disabled:f,open:u,onOpenChange:m=>{m?o.onItemOpen(r):o.onItemClose(r)}})})});vJ.displayName=F0;var bJ="AccordionHeader",jJ=Z.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=mN(oo,n),i=TR(bJ,n);return s.jsx(Je.h3,{"data-orientation":a.orientation,"data-state":CJ(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});jJ.displayName=bJ;var SP="AccordionTrigger",wJ=Z.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=mN(oo,n),i=TR(SP,n),o=U2e(SP,n),l=kR(n);return s.jsx(CR.ItemSlot,{scope:n,children:s.jsx(L2e,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...r,ref:t})})});wJ.displayName=SP;var NJ="AccordionContent",SJ=Z.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=mN(oo,n),i=TR(NJ,n),o=kR(n);return s.jsx($2e,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});SJ.displayName=NJ;function CJ(e){return e?"open":"closed"}var G2e=pJ,Y2e=vJ,X2e=jJ,kJ=wJ,TJ=SJ;const CP=G2e,B0=j.forwardRef(({className:e,...t},n)=>s.jsx(Y2e,{ref:n,className:Re("border-b",e),...t}));B0.displayName="AccordionItem";const z0=j.forwardRef(({className:e,children:t,...n},r)=>s.jsx(X2e,{className:"flex",children:s.jsxs(kJ,{ref:r,className:Re("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,s.jsx(fa,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));z0.displayName=kJ.displayName;const q0=j.forwardRef(({className:e,children:t,...n},r)=>s.jsx(TJ,{ref:r,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:s.jsx("div",{className:Re("pb-4 pt-0",e),children:t})}));q0.displayName=TJ.displayName;function bx(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}var Q2e=pa[" useInsertionEffect ".trim().toString()]||Zt;function J2e({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=Z2e({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=eCe(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function Z2e({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return Q2e(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function eCe(e){return typeof e=="function"}function tCe(e){const t=nCe(e),n=j.forwardRef((r,a)=>{const{children:i,...o}=r,l=j.Children.toArray(i),c=l.find(sCe);if(c){const u=c.props.children,f=l.map(m=>m===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function nCe(e){const t=j.forwardRef((n,r)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=iCe(a),l=aCe(i,a.props);return a.type!==j.Fragment&&(l.ref=r?io(r,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rCe=Symbol("radix.slottable");function sCe(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rCe}function aCe(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function iCe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pN="Dialog",[AJ,EJ]=ss(pN),[oCe,lo]=AJ(pN),OJ=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=j.useRef(null),c=j.useRef(null),[u,f]=J2e({prop:r,defaultProp:a??!1,onChange:i,caller:pN});return s.jsx(oCe,{scope:t,triggerRef:l,contentRef:c,contentId:Ts(),titleId:Ts(),descriptionId:Ts(),open:u,onOpenChange:f,onOpenToggle:j.useCallback(()=>f(m=>!m),[f]),modal:o,children:n})};OJ.displayName=pN;var PJ="DialogTrigger",MJ=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=lo(PJ,n),i=it(t,a.triggerRef);return s.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":OR(a.open),...r,ref:i,onClick:bx(e.onClick,a.onOpenToggle)})});MJ.displayName=PJ;var AR="DialogPortal",[lCe,_J]=AJ(AR,{forceMount:void 0}),RJ=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=lo(AR,t);return s.jsx(lCe,{scope:t,forceMount:n,children:j.Children.map(r,o=>s.jsx(Vr,{present:n||i.open,children:s.jsx(um,{asChild:!0,container:a,children:o})}))})};RJ.displayName=AR;var U0="DialogOverlay",DJ=j.forwardRef((e,t)=>{const n=_J(U0,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=lo(U0,e.__scopeDialog);return i.modal?s.jsx(Vr,{present:r||i.open,children:s.jsx(dCe,{...a,ref:t})}):null});DJ.displayName=U0;var cCe=tCe("DialogOverlay.RemoveScroll"),dCe=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=lo(U0,n);return s.jsx(ny,{as:cCe,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Je.div,{"data-state":OR(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),hu="DialogContent",IJ=j.forwardRef((e,t)=>{const n=_J(hu,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=lo(hu,e.__scopeDialog);return s.jsx(Vr,{present:r||i.open,children:i.modal?s.jsx(uCe,{...a,ref:t}):s.jsx(fCe,{...a,ref:t})})});IJ.displayName=hu;var uCe=j.forwardRef((e,t)=>{const n=lo(hu,e.__scopeDialog),r=j.useRef(null),a=it(t,n.contentRef,r);return j.useEffect(()=>{const i=r.current;if(i)return rN(i)},[]),s.jsx(LJ,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:bx(e.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:bx(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:bx(e.onFocusOutside,i=>i.preventDefault())})}),fCe=j.forwardRef((e,t)=>{const n=lo(hu,e.__scopeDialog),r=j.useRef(!1),a=j.useRef(!1);return s.jsx(LJ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;n.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),LJ=j.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=lo(hu,n),c=j.useRef(null),u=it(t,c);return tN(),s.jsxs(s.Fragment,{children:[s.jsx(ey,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(cm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":OR(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(mCe,{titleId:l.titleId}),s.jsx(xCe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ER="DialogTitle",$J=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=lo(ER,n);return s.jsx(Je.h2,{id:a.titleId,...r,ref:t})});$J.displayName=ER;var FJ="DialogDescription",BJ=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=lo(FJ,n);return s.jsx(Je.p,{id:a.descriptionId,...r,ref:t})});BJ.displayName=FJ;var zJ="DialogClose",qJ=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=lo(zJ,n);return s.jsx(Je.button,{type:"button",...r,ref:t,onClick:bx(e.onClick,()=>a.onOpenChange(!1))})});qJ.displayName=zJ;function OR(e){return e?"open":"closed"}var UJ="DialogTitleWarning",[hCe,VJ]=xue(UJ,{contentName:hu,titleName:ER,docsSlug:"dialog"}),mCe=({titleId:e})=>{const t=VJ(UJ),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},pCe="DialogDescriptionWarning",xCe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${VJ(pCe).contentName}}.`;return j.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},PR=OJ,HJ=MJ,MR=RJ,dy=DJ,uy=IJ,fy=$J,hy=BJ,xN=qJ;const Wt=PR,ks=HJ,gCe=MR,KJ=j.forwardRef(({className:e,...t},n)=>s.jsx(dy,{ref:n,className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));KJ.displayName=dy.displayName;const zt=j.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(gCe,{children:[s.jsx(KJ,{}),s.jsxs(uy,{ref:r,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(xN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Xn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zt.displayName=uy.displayName;const qt=({className:e,...t})=>s.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});qt.displayName="DialogHeader";const Ks=({className:e,...t})=>s.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ks.displayName="DialogFooter";const Ut=j.forwardRef(({className:e,...t},n)=>s.jsx(fy,{ref:n,className:Re("text-lg font-semibold leading-none tracking-tight",e),...t}));Ut.displayName=fy.displayName;const ao=j.forwardRef(({className:e,...t},n)=>s.jsx(hy,{ref:n,className:Re("text-sm text-muted-foreground",e),...t}));ao.displayName=hy.displayName;const le=j.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:Re("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));le.displayName="Input";const vi=j.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:Re("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));vi.displayName="Textarea";const yCe="/assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA_09.01.2026_%D0%B2_21.12_1767983590330-BAhPDH0M.png",vCe="/assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA_09.01.2026_%D0%B2_21.12_1767983590340-Bp90ddAd.png",bCe="/assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA_09.01.2026_%D0%B2_21.11_1767983590341-gQeC2xVZ.png",jCe=({value:e,suffix:t="",prefix:n=""})=>{const[r,a]=Z.useState(0),[i,o]=Z.useState(!1),l=Z.useRef(null),c=S2e(l,{once:!0,margin:"-50px"});Z.useEffect(()=>{if(c&&!i){o(!0);const f=e,m=2e3,p=Date.now(),g=()=>{const y=Date.now()-p,w=Math.min(y/m,1),N=1-Math.pow(1-w,3),A=Math.floor(N*f);a(A),w<1?requestAnimationFrame(g):a(f)};requestAnimationFrame(g)}},[c,i,e]);const u=f=>f>=1e9?(f/1e9).toFixed(1)+"B":f>=1e6?(f/1e6).toFixed(1)+"M":f>=1e3?(f/1e3).toFixed(0)+"K":f.toString();return s.jsxs("span",{ref:l,children:[n,u(r),t]})},wCe=[yCe,vCe,bCe];function NCe(){const{t:e}=as(),[,t]=hr(),[n,r]=j.useState(!1),[a,i]=j.useState(0),[o,l]=j.useState(4285),[c,u]=j.useState({name:"",email:"",message:""}),[f,m]=j.useState(!1),[p,g]=j.useState(null),[v,y]=j.useState(!1),[w,N]=j.useState(0),A=Z.useRef(null),{toast:T}=Dt(),{scrollY:C}=v2e(),S=DC(C,[0,500],[0,100]),E=DC(C,[0,500],[0,60]),O=DC(C,[0,500],[0,40]),_=[{label:e("landing.demoTabs.dashboard"),src:"/demo-videos/.mp4",icon:RO,color:"emerald",iconColor:"text-emerald-400"},{label:e("landing.demoTabs.offers"),src:"/demo-videos/_.mp4",icon:gi,color:"blue",iconColor:"text-blue-400"},{label:e("landing.demoTabs.createOffer"),src:"/demo-videos/_.mp4",icon:Gi,color:"purple",iconColor:"text-purple-400"},{label:e("landing.demoTabs.statistics"),src:"/demo-videos/.mp4",icon:qr,color:"cyan",iconColor:"text-cyan-400"},{label:e("landing.demoTabs.finance"),src:"/demo-videos/.mp4",icon:On,color:"amber",iconColor:"text-amber-400"},{label:e("landing.demoTabs.team"),src:"/demo-videos/.mp4",icon:pn,color:"pink",iconColor:"text-pink-400"},{label:e("landing.demoTabs.antifraud"),src:"/demo-videos/.mp4",icon:tC,color:"red",iconColor:"text-red-400"}],M=()=>{N(ee=>(ee+1)%_.length)};j.useEffect(()=>{A.current&&(A.current.load(),A.current.play().catch(()=>{}))},[w]);const{data:$=[],isLoading:z}=Ne({queryKey:["/api/public/news"]}),{data:V=[],isLoading:I}=Ne({queryKey:["/api/public/roadmap"]}),F=[{id:"1",title:e("fallbackNews.news1.title"),category:e("fallbackNews.news1.category"),shortDescription:e("fallbackNews.news1.shortDesc"),body:e("fallbackNews.news1.body"),createdAt:"2026-01-15T00:00:00Z"},{id:"2",title:e("fallbackNews.news2.title"),category:e("fallbackNews.news2.category"),shortDescription:e("fallbackNews.news2.shortDesc"),body:e("fallbackNews.news2.body"),createdAt:"2026-01-10T00:00:00Z"},{id:"3",title:e("fallbackNews.news3.title"),category:e("fallbackNews.news3.category"),shortDescription:e("fallbackNews.news3.shortDesc"),body:e("fallbackNews.news3.body"),createdAt:"2026-01-05T00:00:00Z"}],K=[{id:"1",title:e("fallbackRoadmap.item1.title"),description:e("fallbackRoadmap.item1.desc"),quarter:"Q1 2026",status:"in_progress"},{id:"2",title:e("fallbackRoadmap.item2.title"),description:e("fallbackRoadmap.item2.desc"),quarter:"Q2 2026",status:"planned"},{id:"3",title:e("fallbackRoadmap.item3.title"),description:e("fallbackRoadmap.item3.desc"),quarter:"Q3 2026",status:"planned"}],R=($||[]).map(ee=>({id:ee.id||`news-${Math.random()}`,title:ee.title||e("landing.fallbacks.noTitle"),category:ee.category||e("landing.fallbacks.news"),shortDescription:ee.shortDescription||ee.body?.substring(0,150)||"",body:ee.body||"",createdAt:ee.createdAt||ee.publishedAt||new Date().toISOString()})),B=(V||[]).map(ee=>({id:ee.id||`roadmap-${Math.random()}`,title:ee.title||e("landing.fallbacks.noTitle"),description:ee.description||"",quarter:ee.quarter||"TBD",status:ee.status||"planned"})),L=R.length>0?R:F,q=B.length>0?B:K,se={[e("categoryLabels.update")]:tC,[e("categoryLabels.integration")]:On,[e("categoryLabels.feature")]:_o,[e("categoryLabels.news")]:Ia},H=ee=>se[ee]||Ia;j.useEffect(()=>{const ee=setInterval(()=>{i(Le=>(Le+1)%wCe.length)},4e3);return()=>clearInterval(ee)},[]),j.useEffect(()=>{const ee=setInterval(()=>{l(Le=>Le+Math.floor(Math.random()*15)+5)},2e3);return()=>clearInterval(ee)},[]);const Y=async ee=>{ee.preventDefault(),m(!0),await new Promise(Le=>setTimeout(Le,1e3)),T({title:e("landing.contact.form.success"),description:e("landing.contact.form.successDesc")}),u({name:"",email:"",message:""}),m(!1)},G={initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5}},{data:X=[]}=Ne({queryKey:["/api/subscription/plans"]}),{data:ae}=Ne({queryKey:["/api/public/platform-settings"]}),de=ae?.platformName||e("brand"),he=ae?.supportEmail||"support@example.com",ge=(ae?.supportTelegram||"primetrack_support_bot").replace(/^@/,""),Ae=ae?.copyrightText||e("copyright",{year:new Date().getFullYear(),name:de}),_e=ee=>{document.getElementById(ee)?.scrollIntoView({behavior:"smooth"})};return s.jsxs("div",{className:"min-h-screen bg-background text-foreground font-sans selection:bg-emerald-500/30",children:[s.jsx(oje,{}),s.jsxs("section",{className:"relative pt-20 pb-12 overflow-hidden noise-overlay",children:[s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808006_1px,transparent_1px),linear-gradient(to_bottom,#80808006_1px,transparent_1px)] bg-[size:40px_40px]"}),s.jsx(st.div,{className:"absolute left-1/2 -translate-x-1/2 top-0 -z-10 h-[600px] w-[900px] rounded-full bg-emerald-500 opacity-20 blur-[150px]",style:{y:S}}),s.jsx(st.div,{className:"absolute left-1/4 top-1/4 -z-10 h-[400px] w-[400px] rounded-full bg-blue-500 opacity-10 blur-[120px]",style:{y:E}}),s.jsx(st.div,{className:"absolute right-1/4 top-1/3 -z-10 h-[300px] w-[300px] rounded-full bg-purple-500 opacity-10 blur-[100px]",style:{y:O}}),s.jsx(st.div,{className:"absolute left-[10%] top-[20%] w-3 h-3 rounded-full bg-emerald-400/30 animate-float",animate:{y:[0,-20,0],opacity:[.3,.6,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),s.jsx(st.div,{className:"absolute right-[15%] top-[30%] w-2 h-2 rounded-full bg-blue-400/30 animate-float-fast",animate:{y:[0,-15,0],opacity:[.2,.5,.2]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1}}),s.jsx(st.div,{className:"absolute left-[20%] bottom-[40%] w-4 h-4 rounded-full bg-purple-400/20 animate-float-slow",animate:{y:[0,-25,0],opacity:[.2,.4,.2]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:2}}),s.jsx(st.div,{className:"absolute right-[8%] top-[60%] w-2 h-2 rounded-full bg-cyan-400/25 animate-float",animate:{y:[0,-18,0],opacity:[.2,.45,.2]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:.5}}),s.jsx(st.div,{className:"absolute left-[5%] top-[70%] w-3 h-3 rounded-full bg-pink-400/20 animate-float-slow",animate:{y:[0,-22,0],opacity:[.15,.35,.15]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:1.5}}),s.jsx(st.div,{className:"absolute right-[25%] top-[15%] w-1.5 h-1.5 rounded-full bg-amber-400/30 animate-float-fast",animate:{y:[0,-12,0],opacity:[.25,.5,.25]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut",delay:2.5}}),s.jsx("div",{className:"container px-4 mx-auto relative z-10",children:s.jsxs("div",{className:"flex flex-col items-center text-center max-w-4xl mx-auto",children:[s.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-gradient-to-r from-emerald-500/10 to-blue-500/10 border border-emerald-500/30 text-emerald-400 text-sm font-medium mb-6",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),e("landing.badges.freeTrialFull")]}),s.jsxs(st.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-5xl md:text-6xl lg:text-7xl font-extrabold tracking-tight mb-5 leading-[1.1] font-display",children:[e("landing.hero.title1")," ",s.jsx("span",{className:"gradient-text",children:e("landing.hero.title2")})]}),s.jsx(st.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-lg text-muted-foreground mb-6 max-w-xl leading-relaxed",children:ae?.platformDescription||e("landing.hero.subtitle")}),s.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"flex flex-col sm:flex-row gap-3 mb-5",children:[s.jsxs(U,{size:"lg",className:"group h-14 px-10 rounded-xl bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white font-semibold text-base shadow-[0_0_40px_rgba(16,185,129,0.5)] hover:shadow-[0_0_60px_rgba(16,185,129,0.6)] border border-emerald-400/50 transition-all duration-300 hover:scale-[1.02]",onClick:()=>t("/register/advertiser"),"data-testid":"button-hero-register",children:[e("landing.hero.cta"),s.jsx(Qp,{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),s.jsx(U,{size:"lg",variant:"outline",className:"h-14 px-10 rounded-xl border-border/50 hover:border-emerald-500/50 hover:bg-emerald-500/5 text-muted-foreground hover:text-foreground font-semibold text-base transition-all duration-300 hover:scale-[1.02]",onClick:()=>_e("pricing"),"data-testid":"button-hero-pricing",children:e("landing.whoFor.viewPricing")})]}),s.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"flex flex-wrap justify-center gap-4 mb-10",children:[e("landing.heroTags.cpaRevshare"),e("landing.heroTags.postback"),e("landing.heroTags.subid"),e("landing.heroTags.antiDuplicate")].map((ee,Le)=>s.jsxs("span",{className:"flex items-center gap-1.5 text-sm text-muted-foreground/80",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500"}),ee]},Le))})]})}),s.jsxs(st.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,delay:.5},className:"w-full max-w-[1200px] mx-auto px-4 relative z-10",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-emerald-500/20 via-blue-500/10 to-purple-500/20 rounded-[32px] blur-2xl opacity-60 group-hover:opacity-80 transition-opacity duration-500"}),s.jsx("div",{className:"relative rounded-[24px] bg-gradient-to-b from-[#3a3a3c] via-[#2c2c2e] to-[#1c1c1e] p-[3px] shadow-[0_60px_120px_-20px_rgba(0,0,0,0.9),0_0_100px_rgba(16,185,129,0.15)]",children:s.jsx("div",{className:"rounded-[22px] bg-gradient-to-b from-[#1a1a1c] to-[#0a0a0a] overflow-hidden",children:s.jsxs("div",{className:"p-3 md:p-4",children:[s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx("div",{className:"w-2 h-2 rounded-full bg-[#1a1a1c] ring-1 ring-[#2a2a2c]"})}),s.jsxs("div",{className:"relative rounded-lg bg-[#0a0a0a] border border-[#2a2a2c] overflow-hidden shadow-inner",children:[s.jsxs("div",{className:"h-10 md:h-12 bg-[#111] border-b border-[#2a2a2c] flex items-center px-3 md:px-4",children:[s.jsxs("div",{className:"flex gap-1.5 md:gap-2",children:[s.jsx("div",{className:"w-2.5 h-2.5 md:w-3 md:h-3 rounded-full bg-[#ff5f57]"}),s.jsx("div",{className:"w-2.5 h-2.5 md:w-3 md:h-3 rounded-full bg-[#febc2e]"}),s.jsx("div",{className:"w-2.5 h-2.5 md:w-3 md:h-3 rounded-full bg-[#28c840]"})]}),s.jsx("div",{className:"flex-1 flex justify-center gap-1 md:gap-2 overflow-x-auto px-2 md:px-4",children:_.map((ee,Le)=>{const Ce=ee.icon,De={emerald:"bg-emerald-500/20 border-emerald-500/40 shadow-[0_0_12px_rgba(16,185,129,0.4)]",blue:"bg-blue-500/20 border-blue-500/40 shadow-[0_0_12px_rgba(59,130,246,0.4)]",purple:"bg-purple-500/20 border-purple-500/40 shadow-[0_0_12px_rgba(168,85,247,0.4)]",cyan:"bg-cyan-500/20 border-cyan-500/40 shadow-[0_0_12px_rgba(6,182,212,0.4)]",amber:"bg-amber-500/20 border-amber-500/40 shadow-[0_0_12px_rgba(245,158,11,0.4)]",pink:"bg-pink-500/20 border-pink-500/40 shadow-[0_0_12px_rgba(236,72,153,0.4)]",red:"bg-red-500/20 border-red-500/40 shadow-[0_0_12px_rgba(239,68,68,0.4)]"};return s.jsxs("button",{onClick:()=>N(Le),"data-testid":`demo-tab-${Le}`,className:`flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 text-[10px] md:text-sm font-medium rounded-lg transition-all whitespace-nowrap border ${w===Le?`text-white ${De[ee.color]}`:"text-muted-foreground hover:text-foreground hover:bg-[#1a1a2e]/50 border-transparent hover:border-[#2a2a4a]/50"}`,children:[s.jsx(Ce,{className:`w-3 h-3 md:w-3.5 md:h-3.5 ${ee.iconColor}`}),s.jsx("span",{className:"hidden md:inline",children:ee.label})]},ee.label)})})]}),s.jsxs("div",{className:"relative w-full",style:{aspectRatio:"16/9"},"data-testid":"demo-video-container",children:[s.jsx("video",{ref:A,src:_[w].src,className:"absolute inset-0 w-full h-full object-contain bg-black",autoPlay:!0,muted:!0,playsInline:!0,onEnded:M},w),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.03] via-transparent to-transparent pointer-events-none"}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1/3 bg-gradient-to-b from-white/[0.02] to-transparent pointer-events-none"})]})]})]})})}),s.jsxs("div",{className:"flex flex-col items-center -mt-1",children:[s.jsx("div",{className:"w-24 md:w-32 h-12 md:h-16 bg-gradient-to-b from-[#2c2c2e] via-[#3a3a3c] to-[#2c2c2e] rounded-b-lg shadow-inner",style:{clipPath:"polygon(15% 0, 85% 0, 100% 100%, 0% 100%)"}}),s.jsx("div",{className:"w-40 md:w-56 h-2 md:h-3 bg-gradient-to-b from-[#3a3a3c] to-[#2c2c2e] rounded-full shadow-lg"}),s.jsx("div",{className:"w-56 md:w-72 h-2 bg-black/30 rounded-full blur-md -mt-1"})]})]}),s.jsx("div",{className:"flex justify-center gap-2 mt-6",children:_.map((ee,Le)=>s.jsx("button",{onClick:()=>N(Le),"data-testid":`demo-dot-${Le}`,className:`w-2 h-2 rounded-full transition-all duration-300 ${Le===w?"bg-emerald-500 scale-125":"bg-muted-foreground/30 hover:bg-muted-foreground/50"}`},Le))})]})]}),s.jsxs("section",{className:"border-y border-border/50 bg-gradient-to-r from-background via-muted/30 to-background relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-emerald-500/5 via-transparent to-transparent"}),s.jsx("div",{className:"container mx-auto relative",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4",children:[{label:e("landing.stats.clicksProcessed"),numValue:12e8,suffix:"+",icon:ome,color:"from-emerald-400 to-cyan-400"},{label:e("landing.stats.availability"),displayValue:"99.99%",icon:Il,color:"from-green-400 to-emerald-400",isLive:!0},{label:e("landing.stats.responseTime"),displayValue:"< 5ms",icon:ope,color:"from-cyan-400 to-blue-400"},{label:e("landing.stats.advertisers"),numValue:500,suffix:"+",icon:er,color:"from-violet-400 to-purple-400"}].map((ee,Le)=>s.jsxs(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:Le*.1,duration:.5},className:"group relative py-8 px-4 text-center transition-all duration-300 hover:bg-muted/50",children:[Le<3&&s.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 h-12 w-px bg-gradient-to-b from-transparent via-border to-transparent hidden md:block"}),s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:`p-2.5 rounded-xl bg-gradient-to-br ${ee.color} bg-opacity-10 group-hover:scale-110 transition-transform duration-300`,children:s.jsx(ee.icon,{className:"h-5 w-5 text-white/90"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[ee.isLive&&s.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-green-500"})]}),s.jsx("div",{className:`text-3xl md:text-4xl font-bold font-mono bg-gradient-to-r ${ee.color} bg-clip-text text-transparent`,children:ee.numValue?s.jsx(jCe,{value:ee.numValue,suffix:ee.suffix}):ee.displayValue})]}),s.jsx("div",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:ee.label})]})]},Le))})})]}),s.jsx("section",{className:"py-16 bg-background",children:s.jsxs("div",{className:"container px-4 mx-auto",children:[s.jsxs(st.div,{...G,className:"text-center mb-4",children:[s.jsx(ye,{variant:"secondary",className:"mb-3 bg-violet-500/10 text-violet-400 border-violet-500/20",children:e("landing.badges.whoFor")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.whoFor.title",{platform:de})})]}),s.jsx(st.div,{...G,className:"text-center mb-10 max-w-2xl mx-auto",children:s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("landing.whoFor.intro",{platform:de})})}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsx(st.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},transition:{delay:0,duration:.5},children:s.jsx(db,{className:"h-full group",tiltAmount:8,children:s.jsx(J,{className:"bg-card border-border h-full hover:border-emerald-500/40 hover:shadow-[0_20px_60px_-15px_rgba(16,185,129,0.2)] transition-all duration-300 gradient-border rounded-2xl",children:s.jsxs(ne,{className:"p-8 relative z-10",children:[s.jsx(st.div,{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-emerald-500/20 to-emerald-500/5 flex items-center justify-center mb-6 shadow-lg",whileHover:{scale:1.1,rotate:6},transition:{type:"spring",stiffness:400,damping:10},children:s.jsx(qr,{className:"w-8 h-8 text-emerald-400"})}),s.jsx("h3",{className:"text-xl font-bold mb-3 font-display",children:e("landing.whoFor.affiliates.title")}),s.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed mb-4",children:e("landing.whoFor.affiliates.desc",{platform:de})}),s.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:e("landing.whoFor.affiliates.youGet")}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e("landing.whoFor.affiliates.item1")]}),s.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e("landing.whoFor.affiliates.item2")]}),s.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e("landing.whoFor.affiliates.item3")]})]}),s.jsx("p",{className:"text-muted-foreground text-sm mt-4",children:e("landing.whoFor.affiliates.footer")})]})})})}),s.jsx(st.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},transition:{delay:.1,duration:.5},children:s.jsx(db,{className:"h-full group",tiltAmount:8,children:s.jsx(J,{className:"bg-card border-border h-full hover:border-blue-500/40 hover:shadow-[0_20px_60px_-15px_rgba(59,130,246,0.2)] transition-all duration-300 gradient-border rounded-2xl",children:s.jsxs(ne,{className:"p-8 relative z-10",children:[s.jsx(st.div,{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500/20 to-blue-500/5 flex items-center justify-center mb-6 shadow-lg",whileHover:{scale:1.1,rotate:6},transition:{type:"spring",stiffness:400,damping:10},children:s.jsx(pn,{className:"w-8 h-8 text-blue-400"})}),s.jsx("h3",{className:"text-xl font-bold mb-3 font-display",children:e("landing.whoFor.teams.title")}),s.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed mb-4",children:e("landing.whoFor.teams.desc",{platform:de})}),s.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:e("landing.whoFor.teams.platformAllows")}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e("landing.whoFor.teams.item1")]}),s.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e("landing.whoFor.teams.item2")]}),s.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e("landing.whoFor.teams.item3")]})]}),s.jsx("p",{className:"text-muted-foreground text-sm mt-4",children:e("landing.whoFor.teams.footer")})]})})})}),s.jsx(st.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},transition:{delay:.2,duration:.5},children:s.jsx(db,{className:"h-full group",tiltAmount:8,children:s.jsx(J,{className:"bg-card border-border h-full hover:border-purple-500/40 hover:shadow-[0_20px_60px_-15px_rgba(168,85,247,0.2)] transition-all duration-300 gradient-border rounded-2xl",children:s.jsxs(ne,{className:"p-8 relative z-10",children:[s.jsx(st.div,{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-500/20 to-purple-500/5 flex items-center justify-center mb-6 shadow-lg",whileHover:{scale:1.1,rotate:6},transition:{type:"spring",stiffness:400,damping:10},children:s.jsx(jn,{className:"w-8 h-8 text-purple-400"})}),s.jsx("h3",{className:"text-xl font-bold mb-3 font-display",children:e("landing.whoFor.partners.title")}),s.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed mb-4",children:e("landing.whoFor.partners.desc",{platform:de})}),s.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:e("landing.whoFor.partners.youCan")}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e("landing.whoFor.partners.item1")]}),s.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e("landing.whoFor.partners.item2")]}),s.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e("landing.whoFor.partners.item3")]})]}),s.jsx("p",{className:"text-muted-foreground text-sm mt-4",children:e("landing.whoFor.partners.footer")})]})})})})]})]})}),s.jsx("section",{className:"py-16 border-t border-border bg-background",children:s.jsxs("div",{className:"container px-4 mx-auto",children:[s.jsxs(st.div,{...G,className:"text-center mb-12",children:[s.jsx(ye,{variant:"secondary",className:"mb-3 bg-emerald-500/10 text-emerald-400 border-emerald-500/20",children:e("landing.badges.advantages")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display",children:e("landing.advantages.title")})]}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-5",children:[s.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:0,duration:.4},whileHover:{y:-6,transition:{duration:.2}},children:s.jsx(J,{className:"h-full bg-card border-border hover:border-amber-500/40 hover:shadow-[0_15px_50px_-12px_rgba(245,158,11,0.2)] transition-all duration-300",children:s.jsxs(ne,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 mb-4 rounded-xl bg-gradient-to-br from-amber-500/20 to-amber-500/5 flex items-center justify-center shadow-md",children:s.jsx(FO,{className:"w-6 h-6 text-amber-400"})}),s.jsx("h3",{className:"text-lg font-bold mb-3",children:e("landing.advantages.cards.noModules.title")}),s.jsxs("div",{className:"text-muted-foreground text-sm leading-relaxed space-y-2",children:[s.jsx("p",{children:e("landing.advantages.cards.noModules.p1")}),s.jsx("p",{children:e("landing.advantages.cards.noModules.p2",{platform:de})}),s.jsx("p",{children:e("landing.advantages.cards.noModules.p3")})]})]})})}),s.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1,duration:.4},whileHover:{y:-6,transition:{duration:.2}},children:s.jsx(J,{className:"h-full bg-card border-border hover:border-cyan-500/40 hover:shadow-[0_15px_50px_-12px_rgba(6,182,212,0.2)] transition-all duration-300",children:s.jsxs(ne,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 mb-4 rounded-xl bg-gradient-to-br from-cyan-500/20 to-cyan-500/5 flex items-center justify-center shadow-md",children:s.jsx(Yt,{className:"w-6 h-6 text-cyan-400"})}),s.jsx("h3",{className:"text-lg font-bold mb-3",children:e("landing.advantages.cards.quickStart.title")}),s.jsxs("div",{className:"text-muted-foreground text-sm leading-relaxed space-y-2",children:[s.jsx("p",{children:e("landing.advantages.cards.quickStart.p1")}),s.jsx("p",{children:e("landing.advantages.cards.quickStart.p2")}),s.jsx("p",{children:e("landing.advantages.cards.quickStart.p3")})]})]})})}),s.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2,duration:.4},whileHover:{y:-6,transition:{duration:.2}},children:s.jsx(J,{className:"h-full bg-card border-border hover:border-pink-500/40 hover:shadow-[0_15px_50px_-12px_rgba(236,72,153,0.2)] transition-all duration-300",children:s.jsxs(ne,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 mb-4 rounded-xl bg-gradient-to-br from-pink-500/20 to-pink-500/5 flex items-center justify-center shadow-md",children:s.jsx(Qme,{className:"w-6 h-6 text-pink-400"})}),s.jsx("h3",{className:"text-lg font-bold mb-3",children:e("landing.advantages.cards.simpleLogic.title")}),s.jsxs("div",{className:"text-muted-foreground text-sm leading-relaxed space-y-2",children:[s.jsx("p",{children:e("landing.advantages.cards.simpleLogic.p1")}),s.jsx("p",{children:e("landing.advantages.cards.simpleLogic.p2",{platform:de})})]})]})})}),s.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3,duration:.4},whileHover:{y:-6,transition:{duration:.2}},children:s.jsx(J,{className:"h-full bg-card border-border hover:border-emerald-500/40 hover:shadow-[0_15px_50px_-12px_rgba(16,185,129,0.2)] transition-all duration-300",children:s.jsxs(ne,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 mb-4 rounded-xl bg-gradient-to-br from-emerald-500/20 to-emerald-500/5 flex items-center justify-center shadow-md",children:s.jsx(qr,{className:"w-6 h-6 text-emerald-400"})}),s.jsx("h3",{className:"text-lg font-bold mb-3",children:e("landing.advantages.cards.affiliate.title")}),s.jsxs("div",{className:"text-muted-foreground text-sm leading-relaxed space-y-2",children:[s.jsx("p",{children:e("landing.advantages.cards.affiliate.p1",{platform:de})}),s.jsx("p",{children:e("landing.advantages.cards.affiliate.p2")}),s.jsx("p",{children:e("landing.advantages.cards.affiliate.p3")})]})]})})})]})]})}),s.jsx("section",{id:"features",className:"py-16 border-t border-border bg-background",children:s.jsxs("div",{className:"container px-4 mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(ye,{variant:"secondary",className:"mb-3 bg-cyan-500/10 text-cyan-400 border-cyan-500/20",children:e("landing.badges.features")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.features.title")}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:e("landing.features.subtitle")})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:[{icon:FO,key:"miniTracker",iconBg:"bg-emerald-500/10",iconColor:"text-emerald-500",hoverBorder:"hover:border-emerald-500/40",hoverShadow:"hover:shadow-[0_15px_50px_-12px_rgba(16,185,129,0.2)]"},{icon:RO,key:"statistics",iconBg:"bg-blue-500/10",iconColor:"text-blue-500",hoverBorder:"hover:border-blue-500/40",hoverShadow:"hover:shadow-[0_15px_50px_-12px_rgba(59,130,246,0.2)]"},{icon:tC,key:"antifraud",iconBg:"bg-red-500/10",iconColor:"text-red-500",hoverBorder:"hover:border-red-500/40",hoverShadow:"hover:shadow-[0_15px_50px_-12px_rgba(239,68,68,0.2)]"},{icon:a_,key:"postback",iconBg:"bg-purple-500/10",iconColor:"text-purple-500",hoverBorder:"hover:border-purple-500/40",hoverShadow:"hover:shadow-[0_15px_50px_-12px_rgba(168,85,247,0.2)]"},{icon:pn,key:"teamwork",iconBg:"bg-orange-500/10",iconColor:"text-orange-500",hoverBorder:"hover:border-orange-500/40",hoverShadow:"hover:shadow-[0_15px_50px_-12px_rgba(249,115,22,0.2)]"},{icon:jn,key:"customDomains",iconBg:"bg-cyan-500/10",iconColor:"text-cyan-500",hoverBorder:"hover:border-cyan-500/40",hoverShadow:"hover:shadow-[0_15px_50px_-12px_rgba(6,182,212,0.2)]"},{icon:On,key:"finance",iconBg:"bg-green-500/10",iconColor:"text-green-500",hoverBorder:"hover:border-green-500/40",hoverShadow:"hover:shadow-[0_15px_50px_-12px_rgba(34,197,94,0.2)]"},{icon:_o,key:"notifications",iconBg:"bg-yellow-500/10",iconColor:"text-yellow-500",hoverBorder:"hover:border-yellow-500/40",hoverShadow:"hover:shadow-[0_15px_50px_-12px_rgba(234,179,8,0.2)]"},{icon:gi,key:"migration",iconBg:"bg-pink-500/10",iconColor:"text-pink-500",hoverBorder:"hover:border-pink-500/40",hoverShadow:"hover:shadow-[0_15px_50px_-12px_rgba(236,72,153,0.2)]"}].map((ee,Le)=>s.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},transition:{delay:Le*.05,duration:.4},children:s.jsx(db,{className:"h-full group",tiltAmount:6,children:s.jsx(J,{className:`h-full bg-card/50 border-border ${ee.hoverBorder} ${ee.hoverShadow} transition-all duration-300 gradient-border rounded-2xl`,children:s.jsxs(ne,{className:"p-6 relative z-10",children:[s.jsx(st.div,{className:`w-12 h-12 ${ee.iconBg} rounded-xl flex items-center justify-center ${ee.iconColor} mb-4 shadow-md`,whileHover:{scale:1.15,rotate:6},transition:{type:"spring",stiffness:400,damping:10},children:s.jsx(ee.icon,{className:"w-6 h-6"})}),s.jsx("h3",{className:"text-lg font-bold mb-2 font-display",children:e(`features.cards.${ee.key}.title`)}),s.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:e(`features.cards.${ee.key}.desc`)})]})})})},Le))})]})}),s.jsx("section",{className:"py-16 border-t border-border bg-muted/30",children:s.jsxs("div",{className:"container px-4 mx-auto",children:[s.jsxs(st.div,{...G,className:"text-center mb-12",children:[s.jsx(ye,{variant:"secondary",className:"mb-3 bg-orange-500/10 text-orange-400 border-orange-500/20",children:e("landing.badges.howItWorks")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.howItWorks.title")})]}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[s.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:0,duration:.4},children:s.jsx(J,{className:"h-full bg-card border-border hover:border-emerald-500/30 transition-colors",children:s.jsxs(ne,{className:"p-6",children:[s.jsx("div",{className:"w-10 h-10 mb-4 rounded-full bg-blue-500/10 flex items-center justify-center",children:s.jsx(Do,{className:"w-5 h-5 text-blue-400"})}),s.jsx("div",{className:"text-xs font-mono text-blue-400 mb-2",children:"01"}),s.jsx("h3",{className:"text-lg font-bold mb-3",children:e("landing.howItWorks.steps.registration.title")}),s.jsxs("div",{className:"text-muted-foreground text-sm leading-relaxed space-y-2",children:[s.jsx("p",{children:e("landing.howItWorks.steps.registration.p1",{platform:de})}),s.jsx("p",{children:e("landing.howItWorks.steps.registration.p2")}),s.jsx("p",{children:e("landing.howItWorks.steps.registration.p3")})]})]})})}),s.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1,duration:.4},children:s.jsx(J,{className:"h-full bg-card border-border hover:border-emerald-500/30 transition-colors",children:s.jsxs(ne,{className:"p-6",children:[s.jsx("div",{className:"w-10 h-10 mb-4 rounded-full bg-purple-500/10 flex items-center justify-center",children:s.jsx(Gi,{className:"w-5 h-5 text-purple-400"})}),s.jsx("div",{className:"text-xs font-mono text-purple-400 mb-2",children:"02"}),s.jsx("h3",{className:"text-lg font-bold mb-3",children:e("landing.howItWorks.steps.createOffer.title")}),s.jsxs("div",{className:"text-muted-foreground text-sm leading-relaxed space-y-2",children:[s.jsx("p",{children:e("landing.howItWorks.steps.createOffer.p1")}),s.jsx("p",{children:e("landing.howItWorks.steps.createOffer.p2")}),s.jsx("p",{children:e("landing.howItWorks.steps.createOffer.p3")})]})]})})}),s.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2,duration:.4},children:s.jsx(J,{className:"h-full bg-card border-border hover:border-emerald-500/30 transition-colors",children:s.jsxs(ne,{className:"p-6",children:[s.jsx("div",{className:"w-10 h-10 mb-4 rounded-full bg-amber-500/10 flex items-center justify-center",children:s.jsx(pn,{className:"w-5 h-5 text-amber-400"})}),s.jsx("div",{className:"text-xs font-mono text-amber-400 mb-2",children:"03"}),s.jsx("h3",{className:"text-lg font-bold mb-3",children:e("landing.howItWorks.steps.attractPartners.title")}),s.jsxs("div",{className:"text-muted-foreground text-sm leading-relaxed space-y-2",children:[s.jsx("p",{children:e("landing.howItWorks.steps.attractPartners.p1")}),s.jsx("p",{children:e("landing.howItWorks.steps.attractPartners.p2")}),s.jsx("p",{children:e("landing.howItWorks.steps.attractPartners.p3")})]})]})})}),s.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3,duration:.4},children:s.jsx(J,{className:"h-full bg-card border-border hover:border-emerald-500/30 transition-colors",children:s.jsxs(ne,{className:"p-6",children:[s.jsx("div",{className:"w-10 h-10 mb-4 rounded-full bg-emerald-500/10 flex items-center justify-center",children:s.jsx(qr,{className:"w-5 h-5 text-emerald-400"})}),s.jsx("div",{className:"text-xs font-mono text-emerald-400 mb-2",children:"04"}),s.jsx("h3",{className:"text-lg font-bold mb-3",children:e("landing.howItWorks.steps.trackResults.title")}),s.jsxs("div",{className:"text-muted-foreground text-sm leading-relaxed space-y-2",children:[s.jsx("p",{children:e("landing.howItWorks.steps.trackResults.p1")}),s.jsx("p",{children:e("landing.howItWorks.steps.trackResults.p2")}),s.jsx("p",{children:e("landing.howItWorks.steps.trackResults.p3")})]})]})})})]}),s.jsx(st.div,{...G,className:"text-center mt-12 max-w-2xl mx-auto",children:s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("landing.howItWorks.subtitle")})})]})}),s.jsx("section",{className:"py-16 border-t border-border bg-background",children:s.jsx("div",{className:"container px-4 mx-auto",children:s.jsxs(st.div,{...G,className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(ye,{variant:"secondary",className:"mb-4 bg-blue-500/10 text-blue-400 border-blue-500/20",children:e("landing.badges.migration")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.migration.title")}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:e("landing.migration.subtitle")})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:["Scaleo","Affilka","Affise","Alanbase"].map(ee=>s.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 rounded border border-border bg-card/50 hover:border-emerald-500/30 transition-colors",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500"}),s.jsx("span",{className:"font-medium text-sm",children:ee})]},ee))}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(U,{variant:"outline",onClick:()=>y(!0),"data-testid":"button-migration-details",children:[e("landing.migrationSection.moreAbout"),s.jsx(Hc,{className:"ml-1 w-4 h-4"})]}),s.jsxs(U,{onClick:()=>t("/register/advertiser"),className:"bg-emerald-600 hover:bg-emerald-500","data-testid":"button-migration-register",children:[e("landing.migrationSection.startMigration"),s.jsx(Qp,{className:"ml-2 w-4 h-4"})]})]})]})})}),s.jsx(Wt,{open:v,onOpenChange:y,children:s.jsxs(zt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(qt,{children:s.jsx(Ut,{className:"text-xl",children:e("landing.migrationModal.title")})}),s.jsxs("div",{className:"text-muted-foreground leading-relaxed space-y-6 mt-4",children:[s.jsxs("div",{children:[s.jsx("p",{children:e("landing.migrationModal.intro1")}),s.jsx("p",{className:"mt-2",children:e("landing.migrationModal.intro2",{platform:de})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:e("landing.migrationModal.platformsTitle")}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Scaleo","Affilka","Affise","Alanbase"].map(ee=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500"}),s.jsx("span",{children:ee})]},ee))}),s.jsx("p",{className:"text-sm mt-2",children:e("landing.migrationSection.otherTracker")})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:e("landing.migrationSection.whatTransfers")}),s.jsxs("ul",{className:"space-y-1",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500"}),e("landing.fallbacks.offersSettings")]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500"}),e("landing.migrationSection.campaigns")]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500"}),e("landing.migrationSection.subidParams")]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500"}),e("landing.migrationSection.conversions")]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:e("landing.migrationSection.howProcess")}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[s.jsx("li",{children:e("landing.migrationSection.step1")}),s.jsx("li",{children:e("landing.migrationSection.step2")}),s.jsx("li",{children:e("landing.migrationSection.step3")}),s.jsx("li",{children:e("landing.migrationSection.step4")}),s.jsx("li",{children:e("landing.migrationSection.step5")})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"p-3 rounded bg-muted/50",children:[s.jsx("div",{className:"font-medium text-foreground",children:e("landing.migrationSection.importMethods")}),s.jsx("div",{children:"CSV, JSON, API"})]}),s.jsxs("div",{className:"p-3 rounded bg-muted/50",children:[s.jsx("div",{className:"font-medium text-foreground",children:e("landing.migrationSection.importTime")}),s.jsx("div",{children:e("landing.migrationSection.minutes")})]})]}),s.jsx("div",{className:"text-sm border-t border-border pt-4",children:s.jsx("p",{children:e("landing.migrationSection.securityNote")})}),s.jsx("div",{className:"flex justify-center pt-2",children:s.jsxs(U,{onClick:()=>{y(!1),t("/register/advertiser")},className:"bg-emerald-600 hover:bg-emerald-500",children:[e("landing.migrationSection.startMigration"),s.jsx(Qp,{className:"ml-2 w-4 h-4"})]})})]})]})}),s.jsx("section",{className:"py-16 border-t border-border bg-muted/30",children:s.jsxs("div",{className:"container px-4 mx-auto",children:[s.jsxs(st.div,{...G,className:"text-center mb-16",children:[s.jsx(ye,{variant:"secondary",className:"mb-4 bg-amber-500/10 text-amber-400 border-amber-500/20",children:e("landing.badges.testimonials")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.testimonials.title",{platform:de})}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:e("landing.testimonials.subtitle")})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{name:"MediaBuy Pro",role:e("landing.testimonials.items.t1.role"),avatar:"mediabuy",text:e("landing.testimonials.items.t1.text"),rating:5},{name:"TrafficLab",role:e("landing.testimonials.items.t2.role"),avatar:"trafficlab",text:e("landing.testimonials.items.t2.text"),rating:5},{name:"LeadGen Network",role:e("landing.testimonials.items.t3.role"),avatar:"leadgen",text:e("landing.testimonials.items.t3.text"),rating:5},{name:e("landing.testimonials.items.t4.name"),role:e("landing.testimonials.items.t4.role"),avatar:"anon2024",text:e("landing.testimonials.items.t4.text"),rating:4}].map((ee,Le)=>s.jsx(st.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:Le*.1,duration:.5},children:s.jsx(J,{className:"bg-card border-border h-full hover:border-emerald-500/30 transition-colors",children:s.jsxs(ne,{className:"p-6",children:[s.jsx(Sme,{className:"w-8 h-8 text-emerald-500/30 mb-4"}),s.jsxs("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:['"',ee.text,'"']}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${ee.avatar}`,alt:ee.name,className:"w-12 h-12 rounded-full bg-muted"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:ee.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:ee.role})]})]}),s.jsx("div",{className:"flex gap-1 mt-4",children:Array.from({length:ee.rating}).map((Ce,De)=>s.jsx($O,{className:"w-4 h-4 fill-yellow-500 text-yellow-500"},De))})]})})},Le))})]})}),s.jsx("section",{id:"pricing",className:"py-16 border-t border-border bg-card/50",children:s.jsxs("div",{className:"container px-4 mx-auto max-w-5xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(ye,{variant:"secondary",className:"mb-4 bg-emerald-500/10 text-emerald-400 border-emerald-500/20",children:e("landing.badges.freeTrial")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.pricing.title")}),s.jsx("p",{className:"text-muted-foreground",children:e("landing.pricing.subtitle")})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-12",children:[s.jsx("span",{className:`text-sm font-medium ${n?"text-muted-foreground":"text-foreground"}`,children:e("landing.pricing.monthly")}),s.jsx(vr,{checked:n,onCheckedChange:r,"data-testid":"switch-billing-cycle"}),s.jsx("span",{className:`text-sm font-medium ${n?"text-foreground":"text-muted-foreground"}`,children:e("landing.pricing.yearly")}),n&&s.jsx(ye,{className:"bg-emerald-600 hover:bg-emerald-600 text-white",children:"-15%"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-0 border border-border rounded-xl mt-4",children:X.map((ee,Le)=>{const Ce=Le===1,De=n?(parseFloat(ee.yearlyPrice)/12).toFixed(0):parseFloat(ee.monthlyPrice).toFixed(0),We=[{label:ee.maxPartners?e("landing.pricingFeatures.maxPartners",{count:ee.maxPartners}):e("landing.pricingFeatures.unlimitedPartners"),included:!0},{label:e("landing.pricingFeatures.unlimitedOffers"),included:!0},{label:e("landing.pricingFeatures.postbacks"),included:ee.hasPostbacks},{label:e("landing.pricingFeatures.statistics"),included:!0},{label:e("landing.pricingFeatures.finance"),included:!0},{label:e("landing.pricingFeatures.antifraud"),included:ee.hasAntifraud},{label:e("landing.pricingFeatures.news"),included:ee.hasNews},{label:e("landing.pricingFeatures.team"),included:ee.hasTeam},{label:"Webhooks",included:ee.hasWebhooks},{label:e("landing.pricingFeatures.customDomain"),included:ee.hasCustomDomain},{label:"API",included:ee.hasApiAccess}];return s.jsxs("div",{className:`p-8 ${Ce?"bg-secondary relative z-10":"bg-background"} border-r border-border last:border-r-0 flex flex-col first:rounded-l-xl last:rounded-r-xl overflow-visible`,children:[Ce&&s.jsx("div",{className:"absolute top-0 inset-x-0 h-1 bg-emerald-500"}),Ce&&s.jsx(ye,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-emerald-600",children:e("landing.pricingFeatures.popular")}),s.jsx("h3",{className:"text-lg font-mono font-medium text-muted-foreground mb-2",children:ee.name}),s.jsxs("div",{className:"text-4xl font-bold text-foreground mb-2",children:["$",De,s.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:e("landing.pricing.perMonth")})]}),n&&s.jsxs("p",{className:"text-xs text-emerald-400 mb-6",children:["$",parseFloat(ee.yearlyPrice).toFixed(0),e("landing.pricing.perYear")]}),!n&&s.jsx("div",{className:"mb-6"}),s.jsx("ul",{className:"space-y-3 mb-8 flex-1",children:We.map((nt,Et)=>s.jsxs("li",{className:`flex items-center text-sm ${nt.included?"text-muted-foreground":"text-muted-foreground/40"}`,children:[nt.included?s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mr-3 flex-shrink-0"}):s.jsx(Xn,{className:"w-4 h-4 text-muted-foreground/30 mr-3 flex-shrink-0"}),nt.label]},Et))}),s.jsx(U,{variant:Ce?"default":"outline",className:`w-full ${Ce?"bg-emerald-600 hover:bg-emerald-500":"border-border hover:bg-muted"}`,onClick:()=>t(`/register/advertiser?plan=${ee.id}&billing=${n?"yearly":"monthly"}`),"data-testid":`button-plan-${ee.name.toLowerCase()}`,children:e("landing.hero.cta")})]},ee.id)})})]})}),s.jsxs("section",{id:"faq",className:"py-20 border-t border-border bg-gradient-to-b from-background via-muted/10 to-background relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMtOS45NDEgMC0xOCA4LjA1OS0xOCAxOHM4LjA1OSAxOCAxOCAxOGM5Ljk0MSAwIDE4LTguMDU5IDE4LTE4cy04LjA1OS0xOC0xOC0xOHptMCAzMmMtNy43MzIgMC0xNC02LjI2OC0xNC0xNHM2LjI2OC0xNCAxNC0xNCAxNCA2LjI2OCAxNCAxNC02LjI2OCAxNC0xNCAxNHoiIGZpbGwtb3BhY2l0eT0iLjAyIiBmaWxsPSIjZmZmIi8+PC9nPjwvc3ZnPg==')] opacity-50"}),s.jsxs("div",{className:"container px-4 mx-auto max-w-6xl relative",children:[s.jsxs(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx(ye,{variant:"secondary",className:"mb-4 bg-emerald-500/10 text-emerald-400 border-emerald-500/20",children:e("landing.badges.faq")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.faq.title")})]}),(()=>{const ee=[{q:e("landing.faq.q1"),a:e("landing.faq.a1")},{q:e("landing.faq.q2"),a:e("landing.faq.a2")},{q:e("landing.faq.q3"),a:e("landing.faq.a3")},{q:e("landing.faq.q4"),a:e("landing.faq.a4")},{q:e("landing.faq.q5"),a:e("landing.faq.a5")},{q:e("landing.faq.q6"),a:e("landing.faq.a6")},{q:e("landing.faq.q7"),a:e("landing.faq.a7")},{q:e("landing.faq.q8"),a:e("landing.faq.a8")},{q:e("landing.faq.q9"),a:e("landing.faq.a9")},{q:e("landing.faq.q10"),a:e("landing.faq.a10")},{q:e("landing.faq.q11"),a:e("landing.faq.a11")},{q:e("landing.faq.q12"),a:e("landing.faq.a12")},{q:e("landing.faq.q13"),a:e("landing.faq.a13")},{q:e("landing.faq.q14"),a:e("landing.faq.a14")},{q:e("landing.faq.q15"),a:e("landing.faq.a15")},{q:e("landing.faq.q16"),a:e("landing.faq.a16")}],Le=Math.ceil(ee.length/2),Ce=ee.slice(0,Le),De=ee.slice(Le);return s.jsx("div",{className:"p-6 md:p-8 rounded-2xl bg-card/20 backdrop-blur-md border border-white/10 shadow-xl",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx(CP,{type:"single",collapsible:!0,className:"space-y-3",children:Ce.map((We,nt)=>s.jsx(st.div,{initial:{opacity:0,y:15},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:nt*.05,duration:.4},children:s.jsx(B0,{value:`item-left-${nt}`,className:"group border border-border/50 rounded-xl bg-card/40 backdrop-blur-sm hover:bg-card/70 hover:border-border transition-all duration-300 overflow-hidden data-[state=open]:shadow-[0_0_25px_rgba(16,185,129,0.15)] data-[state=open]:scale-[1.02] data-[state=open]:border-emerald-500/30",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1 bg-gradient-to-b from-emerald-500 to-cyan-500 opacity-0 group-data-[state=open]:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"flex-1 px-5",children:[s.jsxs(z0,{className:"text-left font-semibold hover:no-underline text-base py-5 [&>svg]:hidden gap-4",children:[s.jsx("span",{className:"flex-1",children:We.q}),s.jsxs("div",{className:"relative w-5 h-5 shrink-0",children:[s.jsx(fr,{className:"absolute inset-0 h-5 w-5 text-emerald-500 transition-all duration-300 group-data-[state=open]:opacity-0 group-data-[state=open]:rotate-90"}),s.jsx(IO,{className:"absolute inset-0 h-5 w-5 text-emerald-500 transition-all duration-300 opacity-0 group-data-[state=open]:opacity-100"})]})]}),s.jsx(q0,{className:"text-muted-foreground text-sm pb-5 leading-relaxed",children:We.a})]})]})})},nt))}),s.jsx(CP,{type:"single",collapsible:!0,className:"space-y-3",children:De.map((We,nt)=>s.jsx(st.div,{initial:{opacity:0,y:15},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:nt*.05+.1,duration:.4},children:s.jsx(B0,{value:`item-right-${nt}`,className:"group border border-border/50 rounded-xl bg-card/40 backdrop-blur-sm hover:bg-card/70 hover:border-border transition-all duration-300 overflow-hidden data-[state=open]:shadow-[0_0_25px_rgba(16,185,129,0.15)] data-[state=open]:scale-[1.02] data-[state=open]:border-emerald-500/30",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1 bg-gradient-to-b from-emerald-500 to-cyan-500 opacity-0 group-data-[state=open]:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"flex-1 px-5",children:[s.jsxs(z0,{className:"text-left font-semibold hover:no-underline text-base py-5 [&>svg]:hidden gap-4",children:[s.jsx("span",{className:"flex-1",children:We.q}),s.jsxs("div",{className:"relative w-5 h-5 shrink-0",children:[s.jsx(fr,{className:"absolute inset-0 h-5 w-5 text-emerald-500 transition-all duration-300 group-data-[state=open]:opacity-0 group-data-[state=open]:rotate-90"}),s.jsx(IO,{className:"absolute inset-0 h-5 w-5 text-emerald-500 transition-all duration-300 opacity-0 group-data-[state=open]:opacity-100"})]})]}),s.jsx(q0,{className:"text-muted-foreground text-sm pb-5 leading-relaxed",children:We.a})]})]})})},nt))})]})})})()]})]}),s.jsx("section",{id:"contact",className:"py-16 border-t border-border bg-muted/30",children:s.jsxs("div",{className:"container px-4 mx-auto max-w-4xl",children:[s.jsxs(st.div,{...G,className:"text-center mb-16",children:[s.jsx(ye,{variant:"secondary",className:"mb-4 bg-rose-500/10 text-rose-400 border-rose-500/20",children:e("landing.badges.contact")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.contact.title")}),s.jsx("p",{className:"text-muted-foreground",children:e("landing.contact.subtitle")})]}),s.jsx(st.div,{...G,children:s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"p-8",children:s.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:e("landing.contact.form.name")}),s.jsx(le,{placeholder:e("landing.contactForm.namePlaceholder"),value:c.name,onChange:ee=>u({...c,name:ee.target.value}),required:!0,"data-testid":"input-contact-name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:e("landing.contact.form.email")}),s.jsx(le,{type:"email",placeholder:"ivan@example.com",value:c.email,onChange:ee=>u({...c,email:ee.target.value}),required:!0,"data-testid":"input-contact-email"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:e("landing.contact.form.message")}),s.jsx(vi,{placeholder:e("landing.contactForm.messagePlaceholder"),rows:5,value:c.message,onChange:ee=>u({...c,message:ee.target.value}),required:!0,"data-testid":"input-contact-message"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[e("landing.contactForm.writeUs")," ",s.jsx("a",{href:`mailto:${he}`,className:"text-emerald-500 hover:underline",children:he})]}),s.jsx(U,{type:"submit",className:"bg-emerald-600 hover:bg-emerald-500 min-w-[200px]",disabled:f,"data-testid":"button-contact-submit",children:f?s.jsx(s.Fragment,{children:e("landing.contactForm.sending")}):s.jsxs(s.Fragment,{children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),e("landing.contact.form.submit")]})})]})]})})})})]})}),s.jsx("section",{className:"py-16 border-t border-border bg-background",children:s.jsx("div",{className:"container px-4 mx-auto",children:s.jsx("div",{className:"max-w-3xl mx-auto text-center",children:s.jsxs(st.div,{...G,children:[s.jsx(ye,{variant:"secondary",className:"mb-4 bg-indigo-500/10 text-indigo-400 border-indigo-500/20",children:e("landing.badges.aboutUs")}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:de}),s.jsx("p",{className:"text-lg text-muted-foreground mb-6 leading-relaxed",children:e("landing.aboutUs.description")}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("landing.description.liveSupport")}),s.jsxs("div",{className:"flex justify-center gap-6 mt-8",children:[s.jsxs("a",{href:`mailto:${he}`,className:"flex items-center gap-2 text-muted-foreground hover:text-emerald-500 transition-colors",children:[s.jsx(Ji,{className:"w-5 h-5"}),s.jsx("span",{children:he})]}),ge&&s.jsxs("a",{href:`https://t.me/${ge}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-muted-foreground hover:text-emerald-500 transition-colors",children:[s.jsx(g0,{className:"w-5 h-5"}),s.jsx("span",{children:"Telegram"})]})]})]})})})}),s.jsx("section",{className:"py-16 border-t border-border bg-background",children:s.jsxs("div",{className:"container px-4 mx-auto",children:[s.jsxs(st.div,{...G,className:"text-center mb-16",children:[s.jsx(ye,{variant:"secondary",className:"mb-4 bg-purple-500/10 text-purple-400 border-purple-500/20",children:e("landing.badges.roadmap")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.roadmap.title")}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:e("landing.roadmap.subtitle")})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:I?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsx("div",{className:"space-y-4",children:q.map((ee,Le)=>s.jsx(st.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:Le*.1,duration:.5},children:s.jsx(J,{className:"border-border hover:border-emerald-500/30 transition-colors",children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${ee.status==="completed"?"bg-green-500/20":ee.status==="in_progress"?"bg-yellow-500/20":"bg-muted"}`,children:ee.status==="completed"?s.jsx(Vs,{className:"w-5 h-5 text-green-500"}):ee.status==="in_progress"?s.jsx(Kc,{className:"w-5 h-5 text-yellow-500"}):s.jsx(BW,{className:"w-5 h-5 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"font-bold text-lg",children:ee.title}),s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-muted text-muted-foreground",children:ee.quarter}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${ee.status==="completed"?"bg-green-500/20 text-green-500":ee.status==="in_progress"?"bg-yellow-500/20 text-yellow-500":"bg-muted text-muted-foreground"}`,children:ee.status==="completed"?e("roadmapStatus.completed"):ee.status==="in_progress"?e("roadmapStatus.inProgress"):e("roadmapStatus.planned")})]}),s.jsx("p",{className:"text-muted-foreground",children:ee.description})]})]})})})},ee.id))})})]})}),s.jsx("section",{className:"py-16 border-t border-border bg-background",children:s.jsxs("div",{className:"container px-4 mx-auto",children:[s.jsxs(st.div,{...G,className:"text-center mb-16",children:[s.jsx(ye,{variant:"secondary",className:"mb-4 bg-sky-500/10 text-sky-400 border-sky-500/20",children:e("landing.badges.news")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.news.title")})]}),z?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:L.map((ee,Le)=>{const Ce=H(ee.category);return s.jsx(st.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:Le*.1,duration:.5},children:s.jsx(J,{className:"bg-card border-border h-full hover:border-emerald-500/30 transition-colors group cursor-pointer",onClick:()=>g(ee),"data-testid":`card-news-${ee.id}`,children:s.jsxs(ne,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded bg-emerald-500/10 flex items-center justify-center",children:s.jsx(Ce,{className:"w-5 h-5 text-emerald-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-emerald-500 font-mono",children:ee.category||e("landing.fallbacks.news")}),s.jsx("div",{className:"text-xs text-muted-foreground",children:ee.createdAt?new Date(ee.createdAt).toLocaleDateString("ru-RU"):""})]})]}),s.jsx("h3",{className:"text-lg font-bold mb-2 group-hover:text-emerald-400 transition-colors",children:ee.title}),s.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:ee.shortDescription||ee.body?.substring(0,120)+"..."}),s.jsxs("div",{className:"mt-4 flex items-center text-sm text-emerald-500 font-medium",children:[e("landing.news.readMore")," ",s.jsx(Hc,{className:"w-4 h-4 ml-1"})]})]})})},ee.id)})})]})}),s.jsx(Wt,{open:!!p,onOpenChange:()=>g(null),children:s.jsx(zt,{className:"max-w-2xl",children:p&&s.jsxs(s.Fragment,{children:[s.jsxs(qt,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded bg-emerald-500/10 flex items-center justify-center",children:(()=>{const ee=H(p.category);return s.jsx(ee,{className:"w-5 h-5 text-emerald-500"})})()}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-emerald-500 font-mono",children:p.category||e("landing.fallbacks.news")}),s.jsx("div",{className:"text-xs text-muted-foreground",children:p.createdAt?new Date(p.createdAt).toLocaleDateString("ru-RU"):""})]})]}),s.jsx(Ut,{className:"text-xl",children:p.title})]}),s.jsx("div",{className:"text-muted-foreground leading-relaxed mt-4",children:p.body})]})})}),s.jsx("section",{className:"py-16 border-t border-border bg-gradient-to-b from-emerald-500/5 to-background",children:s.jsx("div",{className:"container px-4 mx-auto text-center",children:s.jsxs(st.div,{...G,children:[s.jsx(n_,{className:"w-12 h-12 mx-auto mb-6 text-emerald-500"}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.cta.title")}),s.jsx("p",{className:"text-muted-foreground mb-4 max-w-xl mx-auto",children:e("landing.cta.subtitle1")}),s.jsx("p",{className:"text-muted-foreground mb-8 max-w-xl mx-auto",children:e("landing.cta.subtitle2",{platform:de})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(U,{size:"lg",className:"h-14 px-8 bg-emerald-600 hover:bg-emerald-500",onClick:()=>t("/register/advertiser"),"data-testid":"button-cta-register",children:[e("landing.cta.register"),s.jsx(Qp,{className:"ml-2 w-5 h-5"})]}),s.jsx(U,{size:"lg",variant:"outline",className:"h-14 px-8",onClick:()=>t("/login"),"data-testid":"button-cta-login",children:e("landing.cta.login")})]})]})})}),s.jsx("footer",{className:"py-16 border-t border-border bg-background",children:s.jsxs("div",{className:"container px-4 mx-auto",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-12",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xl font-bold text-foreground mb-4",children:de}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e("landing.description.tagline")}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("a",{href:`mailto:${he}`,className:"text-muted-foreground hover:text-foreground transition-colors",children:s.jsx(Ji,{className:"w-5 h-5"})}),ge&&s.jsx("a",{href:`https://t.me/${ge}`,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground transition-colors",children:s.jsx(g0,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground mb-4",children:e("landing.footerNav.navigation")}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>_e("features"),className:"hover:text-foreground transition-colors",children:e("landing.footerNav.advantages")})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>_e("pricing"),className:"hover:text-foreground transition-colors",children:e("landing.footerNav.pricing")})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>_e("faq"),className:"hover:text-foreground transition-colors",children:"FAQ"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>_e("contact"),className:"hover:text-foreground transition-colors",children:e("landing.footerNav.contacts")})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground mb-4",children:e("landing.footerNav.features")}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsx("li",{children:s.jsx("span",{className:"hover:text-foreground transition-colors cursor-default",children:e("landing.footerNav.clickTracking")})}),s.jsx("li",{children:s.jsx("span",{className:"hover:text-foreground transition-colors cursor-default",children:e("landing.footerNav.postbackIntegration")})}),s.jsx("li",{children:s.jsx("span",{className:"hover:text-foreground transition-colors cursor-default",children:e("landing.footerNav.antifraudSystem")})}),s.jsx("li",{children:s.jsx("span",{className:"hover:text-foreground transition-colors cursor-default",children:e("landing.footerNav.detailedStats")})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground mb-4",children:e("landing.footerNav.account")}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>t("/register/advertiser"),className:"hover:text-foreground transition-colors",children:e("landing.footerNav.registration")})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>t("/login"),className:"hover:text-foreground transition-colors",children:e("landing.footerNav.login")})}),s.jsx("li",{children:s.jsx("a",{href:`mailto:${he}`,className:"hover:text-foreground transition-colors",children:e("landing.footerNav.support")})}),ge&&s.jsx("li",{children:s.jsx("a",{href:`https://t.me/${ge}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-foreground transition-colors",children:"Telegram"})})]})]})]}),s.jsx("div",{className:"pt-8 border-t border-border text-center text-xs text-muted-foreground font-mono",children:s.jsx("p",{children:Ae})})]})})]})}var SCe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],CCe=SCe.reduce((e,t)=>{const n=C_(`Primitive.${t}`),r=j.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),kCe="Label",WJ=j.forwardRef((e,t)=>s.jsx(CCe.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));WJ.displayName=kCe;var GJ=WJ;const TCe=am("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),te=j.forwardRef(({className:e,...t},n)=>s.jsx(GJ,{ref:n,className:Re(TCe(),e),...t}));te.displayName=GJ.displayName;function ACe({open:e,onOpenChange:t}){const{toast:n}=Dt(),[r,a]=j.useState(""),[i,o]=j.useState(""),l=ve({mutationFn:async u=>Be("POST","/api/feature-suggestion",u),onSuccess:()=>{n({title:"  !",description:"   ."}),a(""),o(""),t(!1)},onError:u=>{n({title:"",description:u.message||"  ",variant:"destructive"})}}),c=u=>{if(u.preventDefault(),!r.trim()||!i.trim()){n({title:"",description:"  ",variant:"destructive"});return}l.mutate({title:r,description:i})};return s.jsx(Wt,{open:e,onOpenChange:t,children:s.jsxs(zt,{className:"sm:max-w-md",children:[s.jsxs(qt,{children:[s.jsxs(Ut,{className:"flex items-center gap-2",children:[s.jsx(VW,{className:"h-5 w-5 text-yellow-500"})," "]}),s.jsx(ao,{children:",        "})]}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"feature-title",children:""}),s.jsx(le,{id:"feature-title","data-testid":"input-feature-title",placeholder:"  ",value:r,onChange:u=>a(u.target.value),disabled:l.isPending})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"feature-description",children:""}),s.jsx(vi,{id:"feature-description","data-testid":"input-feature-description",placeholder:" ,         ",rows:4,value:i,onChange:u=>o(u.target.value),disabled:l.isPending})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(U,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:l.isPending,children:""}),s.jsx(U,{type:"submit",disabled:l.isPending,"data-testid":"button-submit-feature",children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"..."]}):""})]})]})]})})}const ECe=PR,OCe=MR,YJ=j.forwardRef(({className:e,...t},n)=>s.jsx(dy,{className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));YJ.displayName=dy.displayName;const PCe=am("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),XJ=j.forwardRef(({side:e="right",className:t,children:n,...r},a)=>s.jsxs(OCe,{children:[s.jsx(YJ,{}),s.jsxs(uy,{ref:a,className:Re(PCe({side:e}),t),...r,children:[s.jsxs(xN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Xn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));XJ.displayName=uy.displayName;const MCe=j.forwardRef(({className:e,...t},n)=>s.jsx(fy,{ref:n,className:Re("text-lg font-semibold text-foreground",e),...t}));MCe.displayName=fy.displayName;const _Ce=j.forwardRef(({className:e,...t},n)=>s.jsx(hy,{ref:n,className:Re("text-sm text-muted-foreground",e),...t}));_Ce.displayName=hy.displayName;const QJ=j.createContext(void 0),EB="primetrack_selected_advertiser";function RCe({children:e,role:t}){const[n,r]=j.useState(()=>{try{return localStorage.getItem(EB)||""}catch{return""}}),a=c=>{r(c);try{localStorage.setItem(EB,c)}catch{}},{data:i=[],isLoading:o}=Ne({queryKey:["/api/publisher/advertisers-extended"],queryFn:async()=>{const c=await fetch("/api/publisher/advertisers-extended",{credentials:"include"});return c.ok?c.json():[]},enabled:t==="publisher"});j.useEffect(()=>{if(i.length>0){const c=n,u=i.some(f=>f.id===c);(!c||!u)&&a(i[0].id)}},[i]);const l=i.find(c=>c.id===n)||null;return t!=="publisher"?s.jsx(s.Fragment,{children:e}):s.jsx(QJ.Provider,{value:{advertisers:i,selectedAdvertiserId:n,selectedAdvertiser:l,setSelectedAdvertiserId:a,isLoading:o},children:e})}function Vl(){const e=j.useContext(QJ);return e||{advertisers:[],selectedAdvertiserId:"",selectedAdvertiser:null,setSelectedAdvertiserId:()=>{},isLoading:!1}}function kP(e,[t,n]){return Math.min(n,Math.max(t,e))}function ps(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function DCe(e){const t=ICe(e),n=j.forwardRef((r,a)=>{const{children:i,...o}=r,l=j.Children.toArray(i),c=l.find($Ce);if(c){const u=c.props.children,f=l.map(m=>m===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function ICe(e){const t=j.forwardRef((n,r)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=BCe(a),l=FCe(i,a.props);return a.type!==j.Fragment&&(l.ref=r?io(r,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var LCe=Symbol("radix.slottable");function $Ce(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===LCe}function FCe(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function BCe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var zCe=pa[" useInsertionEffect ".trim().toString()]||Zt;function OB({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=qCe({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=UCe(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function qCe({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return zCe(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function UCe(e){return typeof e=="function"}var VCe=[" ","Enter","ArrowUp","ArrowDown"],HCe=[" ","Enter"],mu="Select",[gN,yN,KCe]=eN(mu),[xm]=ss(mu,[KCe,Qc]),vN=Qc(),[WCe,td]=xm(mu),[GCe,YCe]=xm(mu),JJ=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:m,disabled:p,required:g,form:v}=e,y=vN(t),[w,N]=j.useState(null),[A,T]=j.useState(null),[C,S]=j.useState(!1),E=fm(u),[O,_]=OB({prop:r,defaultProp:a??!1,onChange:i,caller:mu}),[M,$]=OB({prop:o,defaultProp:l,onChange:c,caller:mu}),z=j.useRef(null),V=w?v||!!w.closest("form"):!0,[I,F]=j.useState(new Set),K=Array.from(I).map(R=>R.props.value).join(";");return s.jsx(Xg,{...y,children:s.jsxs(WCe,{required:g,scope:t,trigger:w,onTriggerChange:N,valueNode:A,onValueNodeChange:T,valueNodeHasChildren:C,onValueNodeHasChildrenChange:S,contentId:Ts(),value:M,onValueChange:$,open:O,onOpenChange:_,dir:E,triggerPointerDownPosRef:z,disabled:p,children:[s.jsx(gN.Provider,{scope:t,children:s.jsx(GCe,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(R=>{F(B=>new Set(B).add(R))},[]),onNativeOptionRemove:j.useCallback(R=>{F(B=>{const L=new Set(B);return L.delete(R),L})},[]),children:n})}),V?s.jsxs(wZ,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:m,value:M,onChange:R=>$(R.target.value),disabled:p,form:v,children:[M===void 0?s.jsx("option",{value:""}):null,Array.from(I)]},K):null]})})};JJ.displayName=mu;var ZJ="SelectTrigger",eZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=vN(n),o=td(ZJ,n),l=o.disabled||r,c=it(t,o.onTriggerChange),u=yN(n),f=j.useRef("touch"),[m,p,g]=SZ(y=>{const w=u().filter(T=>!T.disabled),N=w.find(T=>T.value===o.value),A=CZ(w,y,N);A!==void 0&&o.onValueChange(A.value)}),v=y=>{l||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return s.jsx(Qg,{asChild:!0,...i,children:s.jsx(Je.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":NZ(o.value)?"":void 0,...a,ref:c,onClick:ps(a.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&v(y)}),onPointerDown:ps(a.onPointerDown,y=>{f.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:ps(a.onKeyDown,y=>{const w=m.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(w&&y.key===" ")&&VCe.includes(y.key)&&(v(),y.preventDefault())})})})});eZ.displayName=ZJ;var tZ="SelectValue",nZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o="",...l}=e,c=td(tZ,n),{onValueNodeHasChildrenChange:u}=c,f=i!==void 0,m=it(t,c.onValueNodeChange);return Zt(()=>{u(f)},[u,f]),s.jsx(Je.span,{...l,ref:m,style:{pointerEvents:"none"},children:NZ(c.value)?s.jsx(s.Fragment,{children:o}):i})});nZ.displayName=tZ;var XCe="SelectIcon",rZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(Je.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});rZ.displayName=XCe;var QCe="SelectPortal",sZ=e=>s.jsx(um,{asChild:!0,...e});sZ.displayName=QCe;var pu="SelectContent",aZ=j.forwardRef((e,t)=>{const n=td(pu,e.__scopeSelect),[r,a]=j.useState();if(Zt(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?Ul.createPortal(s.jsx(iZ,{scope:e.__scopeSelect,children:s.jsx(gN.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(oZ,{...e,ref:t})});aZ.displayName=pu;var Ii=10,[iZ,nd]=xm(pu),JCe="SelectContentImpl",ZCe=DCe("SelectContent.RemoveScroll"),oZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:w,...N}=e,A=td(pu,n),[T,C]=j.useState(null),[S,E]=j.useState(null),O=it(t,he=>C(he)),[_,M]=j.useState(null),[$,z]=j.useState(null),V=yN(n),[I,F]=j.useState(!1),K=j.useRef(!1);j.useEffect(()=>{if(T)return rN(T)},[T]),tN();const R=j.useCallback(he=>{const[Fe,...ge]=V().map(ee=>ee.ref.current),[Ae]=ge.slice(-1),_e=document.activeElement;for(const ee of he)if(ee===_e||(ee?.scrollIntoView({block:"nearest"}),ee===Fe&&S&&(S.scrollTop=0),ee===Ae&&S&&(S.scrollTop=S.scrollHeight),ee?.focus(),document.activeElement!==_e))return},[V,S]),B=j.useCallback(()=>R([_,T]),[R,_,T]);j.useEffect(()=>{I&&B()},[I,B]);const{onOpenChange:L,triggerPointerDownPosRef:q}=A;j.useEffect(()=>{if(T){let he={x:0,y:0};const Fe=Ae=>{he={x:Math.abs(Math.round(Ae.pageX)-(q.current?.x??0)),y:Math.abs(Math.round(Ae.pageY)-(q.current?.y??0))}},ge=Ae=>{he.x<=10&&he.y<=10?Ae.preventDefault():T.contains(Ae.target)||L(!1),document.removeEventListener("pointermove",Fe),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",ge,{capture:!0})}}},[T,L,q]),j.useEffect(()=>{const he=()=>L(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[L]);const[se,H]=SZ(he=>{const Fe=V().filter(_e=>!_e.disabled),ge=Fe.find(_e=>_e.ref.current===document.activeElement),Ae=CZ(Fe,he,ge);Ae&&setTimeout(()=>Ae.ref.current.focus())}),Y=j.useCallback((he,Fe,ge)=>{const Ae=!K.current&&!ge;(A.value!==void 0&&A.value===Fe||Ae)&&(M(he),Ae&&(K.current=!0))},[A.value]),G=j.useCallback(()=>T?.focus(),[T]),X=j.useCallback((he,Fe,ge)=>{const Ae=!K.current&&!ge;(A.value!==void 0&&A.value===Fe||Ae)&&z(he)},[A.value]),ae=r==="popper"?TP:lZ,de=ae===TP?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:w}:{};return s.jsx(iZ,{scope:n,content:T,viewport:S,onViewportChange:E,itemRefCallback:Y,selectedItem:_,onItemLeave:G,itemTextRefCallback:X,focusSelectedItem:B,selectedItemText:$,position:r,isPositioned:I,searchRef:se,children:s.jsx(ny,{as:ZCe,allowPinchZoom:!0,children:s.jsx(ey,{asChild:!0,trapped:A.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:ps(a,he=>{A.trigger?.focus({preventScroll:!0}),he.preventDefault()}),children:s.jsx(cm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:s.jsx(ae,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:he=>he.preventDefault(),...N,...de,onPlaced:()=>F(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:ps(N.onKeyDown,he=>{const Fe=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!Fe&&he.key.length===1&&H(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let Ae=V().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(he.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const _e=he.target,ee=Ae.indexOf(_e);Ae=Ae.slice(ee+1)}setTimeout(()=>R(Ae)),he.preventDefault()}})})})})})})});oZ.displayName=JCe;var eke="SelectItemAlignedPosition",lZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=td(pu,n),o=nd(pu,n),[l,c]=j.useState(null),[u,f]=j.useState(null),m=it(t,O=>f(O)),p=yN(n),g=j.useRef(!1),v=j.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:N,focusSelectedItem:A}=o,T=j.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&y&&w&&N){const O=i.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),$=N.getBoundingClientRect();if(i.dir!=="rtl"){const _e=$.left-_.left,ee=M.left-_e,Le=O.left-ee,Ce=O.width+Le,De=Math.max(Ce,_.width),We=window.innerWidth-Ii,nt=kP(ee,[Ii,Math.max(Ii,We-De)]);l.style.minWidth=Ce+"px",l.style.left=nt+"px"}else{const _e=_.right-$.right,ee=window.innerWidth-M.right-_e,Le=window.innerWidth-O.right-ee,Ce=O.width+Le,De=Math.max(Ce,_.width),We=window.innerWidth-Ii,nt=kP(ee,[Ii,Math.max(Ii,We-De)]);l.style.minWidth=Ce+"px",l.style.right=nt+"px"}const z=p(),V=window.innerHeight-Ii*2,I=y.scrollHeight,F=window.getComputedStyle(u),K=parseInt(F.borderTopWidth,10),R=parseInt(F.paddingTop,10),B=parseInt(F.borderBottomWidth,10),L=parseInt(F.paddingBottom,10),q=K+R+I+L+B,se=Math.min(w.offsetHeight*5,q),H=window.getComputedStyle(y),Y=parseInt(H.paddingTop,10),G=parseInt(H.paddingBottom,10),X=O.top+O.height/2-Ii,ae=V-X,de=w.offsetHeight/2,he=w.offsetTop+de,Fe=K+R+he,ge=q-Fe;if(Fe<=X){const _e=z.length>0&&w===z[z.length-1].ref.current;l.style.bottom="0px";const ee=u.clientHeight-y.offsetTop-y.offsetHeight,Le=Math.max(ae,de+(_e?G:0)+ee+B),Ce=Fe+Le;l.style.height=Ce+"px"}else{const _e=z.length>0&&w===z[0].ref.current;l.style.top="0px";const Le=Math.max(X,K+y.offsetTop+(_e?Y:0)+de)+ge;l.style.height=Le+"px",y.scrollTop=Fe-X+y.offsetTop}l.style.margin=`${Ii}px 0`,l.style.minHeight=se+"px",l.style.maxHeight=V+"px",r?.(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,l,u,y,w,N,i.dir,r]);Zt(()=>T(),[T]);const[C,S]=j.useState();Zt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=j.useCallback(O=>{O&&v.current===!0&&(T(),A?.(),v.current=!1)},[T,A]);return s.jsx(nke,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:s.jsx(Je.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});lZ.displayName=eke;var tke="SelectPopperPosition",TP=j.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Ii,...i}=e,o=vN(n);return s.jsx(Yw,{...o,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});TP.displayName=tke;var[nke,_R]=xm(pu,{}),AP="SelectViewport",cZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=nd(AP,n),o=_R(AP,n),l=it(t,i.onViewportChange),c=j.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(gN.Slot,{scope:n,children:s.jsx(Je.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ps(a.onScroll,u=>{const f=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=o;if(p?.current&&m){const g=Math.abs(c.current-f.scrollTop);if(g>0){const v=window.innerHeight-Ii*2,y=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),N=Math.max(y,w);if(N<v){const A=N+g,T=Math.min(v,A),C=A-T;m.style.height=T+"px",m.style.bottom==="0px"&&(f.scrollTop=C>0?C:0,m.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});cZ.displayName=AP;var dZ="SelectGroup",[rke,ske]=xm(dZ),ake=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Ts();return s.jsx(rke,{scope:n,id:a,children:s.jsx(Je.div,{role:"group","aria-labelledby":a,...r,ref:t})})});ake.displayName=dZ;var uZ="SelectLabel",fZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=ske(uZ,n);return s.jsx(Je.div,{id:a.id,...r,ref:t})});fZ.displayName=uZ;var V0="SelectItem",[ike,hZ]=xm(V0),mZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=e,l=td(V0,n),c=nd(V0,n),u=l.value===r,[f,m]=j.useState(i??""),[p,g]=j.useState(!1),v=it(t,A=>c.itemRefCallback?.(A,r,a)),y=Ts(),w=j.useRef("touch"),N=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(ike,{scope:n,value:r,disabled:a,textId:y,isSelected:u,onItemTextChange:j.useCallback(A=>{m(T=>T||(A?.textContent??"").trim())},[]),children:s.jsx(gN.ItemSlot,{scope:n,value:r,disabled:a,textValue:f,children:s.jsx(Je.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:ps(o.onFocus,()=>g(!0)),onBlur:ps(o.onBlur,()=>g(!1)),onClick:ps(o.onClick,()=>{w.current!=="mouse"&&N()}),onPointerUp:ps(o.onPointerUp,()=>{w.current==="mouse"&&N()}),onPointerDown:ps(o.onPointerDown,A=>{w.current=A.pointerType}),onPointerMove:ps(o.onPointerMove,A=>{w.current=A.pointerType,a?c.onItemLeave?.():w.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ps(o.onPointerLeave,A=>{A.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:ps(o.onKeyDown,A=>{c.searchRef?.current!==""&&A.key===" "||(HCe.includes(A.key)&&N(),A.key===" "&&A.preventDefault())})})})})});mZ.displayName=V0;var tx="SelectItemText",pZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,o=td(tx,n),l=nd(tx,n),c=hZ(tx,n),u=YCe(tx,n),[f,m]=j.useState(null),p=it(t,N=>m(N),c.onItemTextChange,N=>l.itemTextRefCallback?.(N,c.value,c.disabled)),g=f?.textContent,v=j.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=u;return Zt(()=>(y(v),()=>w(v)),[y,w,v]),s.jsxs(s.Fragment,{children:[s.jsx(Je.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ul.createPortal(i.children,o.valueNode):null]})});pZ.displayName=tx;var xZ="SelectItemIndicator",gZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return hZ(xZ,n).isSelected?s.jsx(Je.span,{"aria-hidden":!0,...r,ref:t}):null});gZ.displayName=xZ;var EP="SelectScrollUpButton",yZ=j.forwardRef((e,t)=>{const n=nd(EP,e.__scopeSelect),r=_R(EP,e.__scopeSelect),[a,i]=j.useState(!1),o=it(t,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(bZ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});yZ.displayName=EP;var OP="SelectScrollDownButton",vZ=j.forwardRef((e,t)=>{const n=nd(OP,e.__scopeSelect),r=_R(OP,e.__scopeSelect),[a,i]=j.useState(!1),o=it(t,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;i(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(bZ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});vZ.displayName=OP;var bZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=nd("SelectScrollButton",n),o=j.useRef(null),l=yN(n),c=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),Zt(()=>{l().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(Je.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ps(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ps(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ps(a.onPointerLeave,()=>{c()})})}),oke="SelectSeparator",jZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Je.div,{"aria-hidden":!0,...r,ref:t})});jZ.displayName=oke;var PP="SelectArrow",lke=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=vN(n),i=td(PP,n),o=nd(PP,n);return i.open&&o.position==="popper"?s.jsx(Xw,{...a,...r,ref:t}):null});lke.displayName=PP;var cke="SelectBubbleInput",wZ=j.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const a=j.useRef(null),i=it(r,a),o=I_(t);return j.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const m=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(m)}},[o,t]),s.jsx(Je.select,{...n,style:{...BG,...n.style},ref:i,defaultValue:t})});wZ.displayName=cke;function NZ(e){return e===""||e===void 0}function SZ(e){const t=Pn(e),n=j.useRef(""),r=j.useRef(0),a=j.useCallback(o=>{const l=n.current+o;t(l),(function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),i=j.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function CZ(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=dke(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function dke(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var uke=JJ,kZ=eZ,fke=nZ,hke=rZ,mke=sZ,TZ=aZ,pke=cZ,AZ=fZ,EZ=mZ,xke=pZ,gke=gZ,OZ=yZ,PZ=vZ,MZ=jZ;const ht=uke,mt=fke,dt=j.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(kZ,{ref:r,className:Re("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(hke,{asChild:!0,children:s.jsx(fa,{className:"h-4 w-4 opacity-50"})})]}));dt.displayName=kZ.displayName;const _Z=j.forwardRef(({className:e,...t},n)=>s.jsx(OZ,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Wfe,{className:"h-4 w-4"})}));_Z.displayName=OZ.displayName;const RZ=j.forwardRef(({className:e,...t},n)=>s.jsx(PZ,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(fa,{className:"h-4 w-4"})}));RZ.displayName=PZ.displayName;const ut=j.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(mke,{children:s.jsxs(TZ,{ref:a,className:Re("relative z-[100] max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border border-border bg-card text-foreground shadow-xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(_Z,{}),s.jsx(pke,{className:Re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(RZ,{})]})}));ut.displayName=TZ.displayName;const yke=j.forwardRef(({className:e,...t},n)=>s.jsx(AZ,{ref:n,className:Re("px-2 py-1.5 text-sm font-semibold",e),...t}));yke.displayName=AZ.displayName;const ke=j.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(EZ,{ref:r,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-muted focus:text-foreground hover:bg-muted data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(gke,{children:s.jsx(bt,{className:"h-4 w-4"})})}),s.jsx(xke,{children:t})]}));ke.displayName=EZ.displayName;const vke=j.forwardRef(({className:e,...t},n)=>s.jsx(MZ,{ref:n,className:Re("-mx-1 my-1 h-px bg-muted",e),...t}));vke.displayName=MZ.displayName;function H0({options:e,value:t,onValueChange:n,placeholder:r="...",searchPlaceholder:a="...",emptyText:i=" ",className:o,"data-testid":l}){const[c,u]=j.useState(!1),[f,m]=j.useState(""),p=j.useRef(null),g=j.useRef(null),v=j.useMemo(()=>{if(!f.trim())return e;const N=f.toLowerCase();return e.filter(A=>A.label.toLowerCase().includes(N))},[e,f]),y=e.find(N=>N.value===t);j.useEffect(()=>{c&&(m(""),setTimeout(()=>g.current?.focus(),10))},[c]),j.useEffect(()=>{const N=A=>{p.current&&!p.current.contains(A.target)&&u(!1)};return c&&document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[c]);const w=N=>{n(N),u(!1)};return s.jsxs("div",{ref:p,className:Re("relative",o),children:[s.jsxs("button",{type:"button",onClick:()=>u(!c),className:Re("flex h-9 w-full items-center justify-between rounded-md border border-border bg-input px-3 py-2 text-sm text-foreground shadow-sm transition-colors hover:bg-input/80 focus:outline-none focus:ring-1 focus:ring-ring",!y&&"text-muted-foreground"),"data-testid":l,children:[s.jsx("span",{className:"truncate flex items-center gap-1",children:y?s.jsxs(s.Fragment,{children:[y.icon&&s.jsx("span",{children:y.icon}),y.label]}):r}),s.jsx(fa,{className:Re("h-4 w-4 opacity-50 transition-transform",c&&"rotate-180")})]}),c&&s.jsxs("div",{className:"absolute z-50 mt-1 w-full rounded-md border border-border bg-card shadow-lg",children:[s.jsxs("div",{className:"flex items-center border-b border-border px-3 py-2",children:[s.jsx(Zi,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx("input",{ref:g,type:"text",placeholder:a,value:f,onChange:N=>m(N.target.value),className:"flex-1 bg-transparent text-sm text-foreground placeholder:text-muted-foreground outline-none","data-testid":l?`${l}-search`:"input-search"})]}),s.jsx("div",{className:"max-h-[250px] overflow-y-auto py-1",children:v.length===0?s.jsx("div",{className:"py-4 text-center text-sm text-muted-foreground",children:i}):v.map(N=>s.jsxs("div",{onClick:()=>w(N.value),className:Re("flex items-center gap-2 px-3 py-2 text-sm cursor-pointer hover:bg-accent",t===N.value&&"bg-accent"),children:[N.icon&&s.jsx("span",{children:N.icon}),s.jsx("span",{className:"flex-1",children:N.label}),t===N.value&&s.jsx(bt,{className:"h-4 w-4 text-primary"})]},N.value))})]})]})}function bke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}var jke=Symbol("radix.slottable");function wke(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=jke,t}var DZ="AlertDialog",[Nke]=ss(DZ,[EJ]),Hl=EJ(),IZ=e=>{const{__scopeAlertDialog:t,...n}=e,r=Hl(t);return s.jsx(PR,{...r,...n,modal:!0})};IZ.displayName=DZ;var Ske="AlertDialogTrigger",LZ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Hl(n);return s.jsx(HJ,{...a,...r,ref:t})});LZ.displayName=Ske;var Cke="AlertDialogPortal",$Z=e=>{const{__scopeAlertDialog:t,...n}=e,r=Hl(t);return s.jsx(MR,{...r,...n})};$Z.displayName=Cke;var kke="AlertDialogOverlay",FZ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Hl(n);return s.jsx(dy,{...a,...r,ref:t})});FZ.displayName=kke;var ah="AlertDialogContent",[Tke,Ake]=Nke(ah),Eke=wke("AlertDialogContent"),BZ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,i=Hl(n),o=j.useRef(null),l=it(t,o),c=j.useRef(null);return s.jsx(hCe,{contentName:ah,titleName:zZ,docsSlug:"alert-dialog",children:s.jsx(Tke,{scope:n,cancelRef:c,children:s.jsxs(uy,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:bke(a.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(Eke,{children:r}),s.jsx(Pke,{contentRef:o})]})})})});BZ.displayName=ah;var zZ="AlertDialogTitle",qZ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Hl(n);return s.jsx(fy,{...a,...r,ref:t})});qZ.displayName=zZ;var UZ="AlertDialogDescription",VZ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Hl(n);return s.jsx(hy,{...a,...r,ref:t})});VZ.displayName=UZ;var Oke="AlertDialogAction",HZ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Hl(n);return s.jsx(xN,{...a,...r,ref:t})});HZ.displayName=Oke;var KZ="AlertDialogCancel",WZ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=Ake(KZ,n),i=Hl(n),o=it(t,a);return s.jsx(xN,{...i,...r,ref:o})});WZ.displayName=KZ;var Pke=({contentRef:e})=>{const t=`\`${ah}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ah}\` by passing a \`${UZ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ah}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Mke=IZ,_ke=LZ,Rke=$Z,GZ=FZ,YZ=BZ,XZ=HZ,QZ=WZ,JZ=qZ,ZZ=VZ;const RR=Mke,Dke=_ke,Ike=Rke,eee=j.forwardRef(({className:e,...t},n)=>s.jsx(GZ,{className:Re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));eee.displayName=GZ.displayName;const bN=j.forwardRef(({className:e,...t},n)=>s.jsxs(Ike,{children:[s.jsx(eee,{}),s.jsx(YZ,{ref:n,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));bN.displayName=YZ.displayName;const jN=({className:e,...t})=>s.jsx("div",{className:Re("flex flex-col space-y-2 text-center sm:text-left",e),...t});jN.displayName="AlertDialogHeader";const wN=({className:e,...t})=>s.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});wN.displayName="AlertDialogFooter";const NN=j.forwardRef(({className:e,...t},n)=>s.jsx(JZ,{ref:n,className:Re("text-lg font-semibold",e),...t}));NN.displayName=JZ.displayName;const SN=j.forwardRef(({className:e,...t},n)=>s.jsx(ZZ,{ref:n,className:Re("text-sm text-muted-foreground",e),...t}));SN.displayName=ZZ.displayName;const CN=j.forwardRef(({className:e,...t},n)=>s.jsx(XZ,{ref:n,className:Re(k_(),e),...t}));CN.displayName=XZ.displayName;const kN=j.forwardRef(({className:e,...t},n)=>s.jsx(QZ,{ref:n,className:Re(k_({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));kN.displayName=QZ.displayName;function Lke(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Array(12).fill(0);let MP=1;class $ke{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...a}=t,i=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:MP++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:r}),{...c,...t,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...a,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=r!==void 0,o;const l=a.then(async u=>{if(o=["resolve",u],Z.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(Bke(u)&&!u.ok){i=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,v=typeof m=="object"&&!Z.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:p,...v})}else if(u instanceof Error){i=!1;const m=typeof n.error=="function"?await n.error(u):n.error,p=typeof n.description=="function"?await n.description(u):n.description,v=typeof m=="object"&&!Z.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:p,...v})}else if(n.success!==void 0){i=!1;const m=typeof n.success=="function"?await n.success(u):n.success,p=typeof n.description=="function"?await n.description(u):n.description,v=typeof m=="object"&&!Z.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:p,...v})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;const f=typeof n.error=="function"?await n.error(u):n.error,m=typeof n.description=="function"?await n.description(u):n.description,g=typeof f=="object"&&!Z.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:m,...g})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,f)=>l.then(()=>o[0]==="reject"?f(o[1]):u(o[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{const r=n?.id||MP++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ci=new $ke,Fke=(e,t)=>{const n=t?.id||MP++;return ci.addToast({title:e,...t,id:n}),n},Bke=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",zke=Fke,qke=()=>ci.toasts,Uke=()=>ci.getActiveToasts(),Rt=Object.assign(zke,{success:ci.success,info:ci.info,warning:ci.warning,error:ci.error,custom:ci.custom,message:ci.message,promise:ci.promise,dismiss:ci.dismiss,loading:ci.loading},{getHistory:qke,getToasts:Uke});Lke("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const s0=[{code:"AD",name:"Andorra"},{code:"AE",name:"United Arab Emirates"},{code:"AF",name:"Afghanistan"},{code:"AG",name:"Antigua and Barbuda"},{code:"AI",name:"Anguilla"},{code:"AL",name:"Albania"},{code:"AM",name:"Armenia"},{code:"AO",name:"Angola"},{code:"AQ",name:"Antarctica"},{code:"AR",name:"Argentina"},{code:"AS",name:"American Samoa"},{code:"AT",name:"Austria"},{code:"AU",name:"Australia"},{code:"AW",name:"Aruba"},{code:"AX",name:"land Islands"},{code:"AZ",name:"Azerbaijan"},{code:"BA",name:"Bosnia and Herzegovina"},{code:"BB",name:"Barbados"},{code:"BD",name:"Bangladesh"},{code:"BE",name:"Belgium"},{code:"BF",name:"Burkina Faso"},{code:"BG",name:"Bulgaria"},{code:"BH",name:"Bahrain"},{code:"BI",name:"Burundi"},{code:"BJ",name:"Benin"},{code:"BL",name:"Saint Barthlemy"},{code:"BM",name:"Bermuda"},{code:"BN",name:"Brunei"},{code:"BO",name:"Bolivia"},{code:"BQ",name:"Caribbean Netherlands"},{code:"BR",name:"Brazil"},{code:"BS",name:"Bahamas"},{code:"BT",name:"Bhutan"},{code:"BV",name:"Bouvet Island"},{code:"BW",name:"Botswana"},{code:"BY",name:"Belarus"},{code:"BZ",name:"Belize"},{code:"CA",name:"Canada"},{code:"CC",name:"Cocos Islands"},{code:"CD",name:"Congo - Kinshasa"},{code:"CF",name:"Central African Republic"},{code:"CG",name:"Congo - Brazzaville"},{code:"CH",name:"Switzerland"},{code:"CI",name:"Cte d'Ivoire"},{code:"CK",name:"Cook Islands"},{code:"CL",name:"Chile"},{code:"CM",name:"Cameroon"},{code:"CN",name:"China"},{code:"CO",name:"Colombia"},{code:"CR",name:"Costa Rica"},{code:"CU",name:"Cuba"},{code:"CV",name:"Cape Verde"},{code:"CW",name:"Curaao"},{code:"CX",name:"Christmas Island"},{code:"CY",name:"Cyprus"},{code:"CZ",name:"Czech Republic"},{code:"DE",name:"Germany"},{code:"DJ",name:"Djibouti"},{code:"DK",name:"Denmark"},{code:"DM",name:"Dominica"},{code:"DO",name:"Dominican Republic"},{code:"DZ",name:"Algeria"},{code:"EC",name:"Ecuador"},{code:"EE",name:"Estonia"},{code:"EG",name:"Egypt"},{code:"EH",name:"Western Sahara"},{code:"ER",name:"Eritrea"},{code:"ES",name:"Spain"},{code:"ET",name:"Ethiopia"},{code:"FI",name:"Finland"},{code:"FJ",name:"Fiji"},{code:"FK",name:"Falkland Islands"},{code:"FM",name:"Micronesia"},{code:"FO",name:"Faroe Islands"},{code:"FR",name:"France"},{code:"GA",name:"Gabon"},{code:"GB",name:"United Kingdom"},{code:"GD",name:"Grenada"},{code:"GE",name:"Georgia"},{code:"GF",name:"French Guiana"},{code:"GG",name:"Guernsey"},{code:"GH",name:"Ghana"},{code:"GI",name:"Gibraltar"},{code:"GL",name:"Greenland"},{code:"GM",name:"Gambia"},{code:"GN",name:"Guinea"},{code:"GP",name:"Guadeloupe"},{code:"GQ",name:"Equatorial Guinea"},{code:"GR",name:"Greece"},{code:"GS",name:"South Georgia and the South Sandwich Islands"},{code:"GT",name:"Guatemala"},{code:"GU",name:"Guam"},{code:"GW",name:"Guinea-Bissau"},{code:"GY",name:"Guyana"},{code:"HK",name:"Hong Kong"},{code:"HM",name:"Heard Island and McDonald Islands"},{code:"HN",name:"Honduras"},{code:"HR",name:"Croatia"},{code:"HT",name:"Haiti"},{code:"HU",name:"Hungary"},{code:"ID",name:"Indonesia"},{code:"IE",name:"Ireland"},{code:"IL",name:"Israel"},{code:"IM",name:"Isle of Man"},{code:"IN",name:"India"},{code:"IO",name:"British Indian Ocean Territory"},{code:"IQ",name:"Iraq"},{code:"IR",name:"Iran"},{code:"IS",name:"Iceland"},{code:"IT",name:"Italy"},{code:"JE",name:"Jersey"},{code:"JM",name:"Jamaica"},{code:"JO",name:"Jordan"},{code:"JP",name:"Japan"},{code:"KE",name:"Kenya"},{code:"KG",name:"Kyrgyzstan"},{code:"KH",name:"Cambodia"},{code:"KI",name:"Kiribati"},{code:"KM",name:"Comoros"},{code:"KN",name:"Saint Kitts and Nevis"},{code:"KP",name:"North Korea"},{code:"KR",name:"South Korea"},{code:"KW",name:"Kuwait"},{code:"KY",name:"Cayman Islands"},{code:"KZ",name:"Kazakhstan"},{code:"LA",name:"Laos"},{code:"LB",name:"Lebanon"},{code:"LC",name:"Saint Lucia"},{code:"LI",name:"Liechtenstein"},{code:"LK",name:"Sri Lanka"},{code:"LR",name:"Liberia"},{code:"LS",name:"Lesotho"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"LV",name:"Latvia"},{code:"LY",name:"Libya"},{code:"MA",name:"Morocco"},{code:"MC",name:"Monaco"},{code:"MD",name:"Moldova"},{code:"ME",name:"Montenegro"},{code:"MF",name:"Saint Martin"},{code:"MG",name:"Madagascar"},{code:"MH",name:"Marshall Islands"},{code:"MK",name:"North Macedonia"},{code:"ML",name:"Mali"},{code:"MM",name:"Myanmar"},{code:"MN",name:"Mongolia"},{code:"MO",name:"Macao"},{code:"MP",name:"Northern Mariana Islands"},{code:"MQ",name:"Martinique"},{code:"MR",name:"Mauritania"},{code:"MS",name:"Montserrat"},{code:"MT",name:"Malta"},{code:"MU",name:"Mauritius"},{code:"MV",name:"Maldives"},{code:"MW",name:"Malawi"},{code:"MX",name:"Mexico"},{code:"MY",name:"Malaysia"},{code:"MZ",name:"Mozambique"},{code:"NA",name:"Namibia"},{code:"NC",name:"New Caledonia"},{code:"NE",name:"Niger"},{code:"NF",name:"Norfolk Island"},{code:"NG",name:"Nigeria"},{code:"NI",name:"Nicaragua"},{code:"NL",name:"Netherlands"},{code:"NO",name:"Norway"},{code:"NP",name:"Nepal"},{code:"NR",name:"Nauru"},{code:"NU",name:"Niue"},{code:"NZ",name:"New Zealand"},{code:"OM",name:"Oman"},{code:"PA",name:"Panama"},{code:"PE",name:"Peru"},{code:"PF",name:"French Polynesia"},{code:"PG",name:"Papua New Guinea"},{code:"PH",name:"Philippines"},{code:"PK",name:"Pakistan"},{code:"PL",name:"Poland"},{code:"PM",name:"Saint Pierre and Miquelon"},{code:"PN",name:"Pitcairn Islands"},{code:"PR",name:"Puerto Rico"},{code:"PS",name:"Palestine"},{code:"PT",name:"Portugal"},{code:"PW",name:"Palau"},{code:"PY",name:"Paraguay"},{code:"QA",name:"Qatar"},{code:"RE",name:"Runion"},{code:"RO",name:"Romania"},{code:"RS",name:"Serbia"},{code:"RU",name:"Russia"},{code:"RW",name:"Rwanda"},{code:"SA",name:"Saudi Arabia"},{code:"SB",name:"Solomon Islands"},{code:"SC",name:"Seychelles"},{code:"SD",name:"Sudan"},{code:"SE",name:"Sweden"},{code:"SG",name:"Singapore"},{code:"SH",name:"Saint Helena"},{code:"SI",name:"Slovenia"},{code:"SJ",name:"Svalbard and Jan Mayen"},{code:"SK",name:"Slovakia"},{code:"SL",name:"Sierra Leone"},{code:"SM",name:"San Marino"},{code:"SN",name:"Senegal"},{code:"SO",name:"Somalia"},{code:"SR",name:"Suriname"},{code:"SS",name:"South Sudan"},{code:"ST",name:"So Tom and Prncipe"},{code:"SV",name:"El Salvador"},{code:"SX",name:"Sint Maarten"},{code:"SY",name:"Syria"},{code:"SZ",name:"Eswatini"},{code:"TC",name:"Turks and Caicos Islands"},{code:"TD",name:"Chad"},{code:"TF",name:"French Southern Territories"},{code:"TG",name:"Togo"},{code:"TH",name:"Thailand"},{code:"TJ",name:"Tajikistan"},{code:"TK",name:"Tokelau"},{code:"TL",name:"Timor-Leste"},{code:"TM",name:"Turkmenistan"},{code:"TN",name:"Tunisia"},{code:"TO",name:"Tonga"},{code:"TR",name:"Turkey"},{code:"TT",name:"Trinidad and Tobago"},{code:"TV",name:"Tuvalu"},{code:"TW",name:"Taiwan"},{code:"TZ",name:"Tanzania"},{code:"UA",name:"Ukraine"},{code:"UG",name:"Uganda"},{code:"UM",name:"United States Minor Outlying Islands"},{code:"US",name:"United States"},{code:"UY",name:"Uruguay"},{code:"UZ",name:"Uzbekistan"},{code:"VA",name:"Vatican City"},{code:"VC",name:"Saint Vincent and the Grenadines"},{code:"VE",name:"Venezuela"},{code:"VG",name:"British Virgin Islands"},{code:"VI",name:"United States Virgin Islands"},{code:"VN",name:"Vietnam"},{code:"VU",name:"Vanuatu"},{code:"WF",name:"Wallis and Futuna"},{code:"WS",name:"Samoa"},{code:"YE",name:"Yemen"},{code:"YT",name:"Mayotte"},{code:"ZA",name:"South Africa"},{code:"ZM",name:"Zambia"},{code:"ZW",name:"Zimbabwe"}];function xu(e){const n={UK:"GB",EN:"GB"}[e.toUpperCase()]||e.toUpperCase();if(n.length!==2)return"";const r=n.split("").map(a=>127397+a.charCodeAt(0));return String.fromCodePoint(...r)}function Vke({value:e,onChange:t,testId:n}){const[r,a]=j.useState(!1),[i,o]=j.useState(""),l=j.useMemo(()=>{if(!i)return s0;const u=i.toLowerCase();return s0.filter(f=>f.code.toLowerCase().includes(u)||f.name.toLowerCase().includes(u))},[i]),c=s0.find(u=>u.code===e);return s.jsxs("div",{className:"relative",children:[s.jsxs(U,{type:"button",variant:"outline",className:"w-full justify-between bg-card border-border text-foreground hover:bg-muted h-8 text-sm font-mono",onClick:()=>a(!r),"data-testid":n,children:[s.jsx("span",{className:"text-left flex items-center gap-2",children:c?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-lg",children:xu(c.code)}),s.jsxs("span",{children:[c.code," - ",c.name]})]}):" ( )"}),s.jsx(fa,{className:`w-4 h-4 opacity-50 transition-transform ${r?"rotate-180":""}`})]}),r&&s.jsxs("div",{className:"absolute top-full left-0 right-0 z-50 mt-1 bg-card border border-border rounded-md shadow-lg",children:[s.jsx("div",{className:"p-2 border-b border-border",children:s.jsx(le,{placeholder:"    ...",className:"bg-muted border-border text-foreground text-xs h-7",value:i,onChange:u=>o(u.target.value),autoFocus:!0,"data-testid":`${n}-search`})}),s.jsx("div",{className:"max-h-48 overflow-y-auto",children:l.length===0?s.jsx("div",{className:"p-3 text-center text-muted-foreground text-xs",children:" "}):l.map(u=>s.jsxs("button",{type:"button",className:`w-full text-left px-3 py-2 text-xs hover:bg-white/10 transition-colors flex items-center gap-2 ${e===u.code?"bg-blue-600/30 text-blue-400":"text-muted-foreground"}`,onClick:()=>{t(u.code),a(!1),o("")},"data-testid":`country-${u.code}`,children:[s.jsx("span",{className:"text-base",children:xu(u.code)}),s.jsx("span",{className:"font-mono font-bold",children:u.code}),s.jsx("span",{className:"text-muted-foreground",children:u.name})]},u.code))})]}),e&&s.jsx("button",{type:"button",className:"absolute right-8 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>t(""),"data-testid":`${n}-clear`,children:s.jsx(Xn,{className:"w-4 h-4"})})]})}function PB(e){if(e.landings&&e.landings.length>0){const t=e.landings.map(a=>parseFloat(a.partnerPayout)).filter(a=>!isNaN(a));if(t.length===0)return e.partnerPayout||"";const n=Math.min(...t),r=Math.max(...t);return n===r?n.toString():`${n} - ${r}`}return e.partnerPayout?e.partnerPayout:""}function MB(e){if(e.landings&&e.landings.length>0){const t=e.landings.map(a=>a.internalCost?parseFloat(a.internalCost):NaN).filter(a=>!isNaN(a));if(t.length===0)return e.internalCost||null;const n=Math.min(...t),r=Math.max(...t);return n===r?n.toString():`${n} - ${r}`}return e.internalCost?e.internalCost:null}function Hke({role:e}){const{t}=as(),n=rt(),{canWrite:r}=Zg(),[a,i]=j.useState(""),[o,l]=j.useState("all"),[c,u]=j.useState("all"),[f,m]=j.useState("all"),[p,g]=j.useState("all"),[v,y]=j.useState(!1),[w,N]=j.useState(!1),[A,T]=j.useState(!1),[C,S]=j.useState(!1),[E,O]=j.useState(!1),[_,M]=j.useState(null),$=r("offers"),z=ve({mutationFn:async G=>{const X=await fetch(`/api/offers/${G}/archive`,{method:"PATCH",credentials:"include"});if(!X.ok)throw new Error("Failed to archive offer");return X.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/offers"]}),Rt.success("   "),O(!1),M(null)},onError:()=>{Rt.error("   ")}}),V=G=>{M(G),O(!0)},I=()=>{_&&z.mutate(_.id)},{data:F,isLoading:K,error:R}=Ne({queryKey:["/api/offers"],queryFn:async()=>{const G=await fetch("/api/offers",{credentials:"include"});if(!G.ok)throw new Error("Failed to fetch offers");return G.json()}}),{data:B}=Ne({queryKey:["/api/offers/stats"],queryFn:async()=>{const G=await fetch("/api/offers/stats",{credentials:"include"});if(!G.ok)throw new Error("Failed to fetch offer stats");return G.json()}}),L=j.useMemo(()=>B?new Map(B.map(G=>[G.offerId,{clicks:G.clicks,conversions:G.conversions,cr:G.cr,ar:G.ar||0,epc:G.epc||0}])):new Map,[B]),q=j.useMemo(()=>F?Array.from(new Set(F.map(G=>G.category).filter(Boolean))):[],[F]),se=j.useMemo(()=>{if(!F)return[];const G=new Set;return F.forEach(X=>X.geo.forEach(ae=>G.add(ae))),Array.from(G).sort()},[F]),H=j.useMemo(()=>{if(!F)return[];const G=new Set;return F.forEach(X=>X.trafficSources?.forEach(ae=>G.add(ae))),Array.from(G).sort()},[F]),Y=j.useMemo(()=>{if(!F)return[];const G=new Date(Date.now()-336*60*60*1e3);return F.filter(X=>{const ae=a===""||X.name.toLowerCase().includes(a.toLowerCase())||X.category.toLowerCase().includes(a.toLowerCase())||X.geo.some(De=>De.toLowerCase().includes(a.toLowerCase())),de=o==="all"||X.category.toLowerCase()===o.toLowerCase(),he=c==="all"||X.geo.includes(c),Fe=f==="all"||X.trafficSources?.includes(f),ge=p==="all"||X.status===p,Ae=X.createdAt&&new Date(X.createdAt)>G,_e=!v||Ae,ee=!w||X.isTop,Le=!A||X.isExclusive,Ce=!C||X.isPrivate;return ae&&de&&he&&Fe&&ge&&_e&&ee&&Le&&Ce})},[F,a,o,c,f,p,v,w,A,C]);return K?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-blue-500"})}):R?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-red-400",children:"Failed to load offers"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-mono text-foreground mb-2","data-testid":"text-offers-title",children:t("dashboard.offers.title")}),s.jsx("p",{className:"text-muted-foreground text-sm font-mono",children:t("dashboard.offers.subtitle")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[r("offers")&&s.jsx(Mt,{href:`/dashboard/${e}/offers/archived`,children:s.jsxs(U,{variant:"outline",className:"text-foreground font-mono","data-testid":"button-view-archive",children:[s.jsx(dF,{className:"w-4 h-4 mr-2"}),""]})}),$&&s.jsx(Mt,{href:`/dashboard/${e}/offers/new`,children:s.jsxs(U,{className:"bg-blue-600 hover:bg-blue-500 text-foreground font-mono","data-testid":"button-create-offer",children:[s.jsx(fr,{className:"w-4 h-4 mr-2"}),t("dashboard.offers.create")]})})]})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs("div",{className:"p-4 border-b border-border space-y-4",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:t("dashboard.offers.searchPlaceholder"),value:a,onChange:G=>i(G.target.value),className:"w-full bg-muted border border-border rounded pl-9 pr-4 py-2 text-sm text-foreground focus:outline-none focus:border-blue-500 font-mono","data-testid":"input-search-offers"})]})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx(H0,{value:c,onValueChange:u,placeholder:"",searchPlaceholder:" ...",className:"w-[140px] font-mono text-xs h-8","data-testid":"select-geo",options:[{value:"all",label:"  "},...se.map(G=>({value:G,label:`${xu(G)} ${G}`}))]}),s.jsxs(ht,{value:o,onValueChange:l,children:[s.jsxs(dt,{className:"w-[160px] bg-muted border-border text-foreground font-mono text-xs h-8","data-testid":"select-category",children:[s.jsx(vhe,{className:"w-3 h-3 mr-1 text-muted-foreground"}),s.jsx(mt,{placeholder:""})]}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"all",className:"text-foreground font-mono text-xs",children:" "}),q.map(G=>s.jsx(ke,{value:G,className:"text-foreground font-mono text-xs",children:G},G))]})]}),s.jsxs(ht,{value:f,onValueChange:m,children:[s.jsxs(dt,{className:"w-[160px] bg-muted border-border text-foreground font-mono text-xs h-8","data-testid":"select-source",children:[s.jsx(ZM,{className:"w-3 h-3 mr-1 text-muted-foreground"}),s.jsx(mt,{placeholder:""})]}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"all",className:"text-foreground font-mono text-xs",children:" "}),H.map(G=>s.jsx(ke,{value:G,className:"text-foreground font-mono text-xs",children:G},G))]})]}),s.jsxs(ht,{value:p,onValueChange:g,children:[s.jsx(dt,{className:"w-[130px] bg-muted border-border text-foreground font-mono text-xs h-8","data-testid":"select-status",children:s.jsx(mt,{placeholder:""})}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"all",className:"text-foreground font-mono text-xs",children:" "}),s.jsx(ke,{value:"active",className:"text-foreground font-mono text-xs",children:"Active"}),s.jsx(ke,{value:"paused",className:"text-foreground font-mono text-xs",children:"Paused"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-2 pl-2 border-l border-border/50",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:v,onChange:G=>y(G.target.checked),className:"w-3.5 h-3.5 rounded border-border bg-muted accent-emerald-500","data-testid":"checkbox-filter-new"}),s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-emerald-500/20 text-emerald-400",children:"NEW"})]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:w,onChange:G=>N(G.target.checked),className:"w-3.5 h-3.5 rounded border-border bg-muted accent-yellow-500","data-testid":"checkbox-filter-top"}),s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-yellow-500/20 text-yellow-400",children:"TOP"})]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:A,onChange:G=>T(G.target.checked),className:"w-3.5 h-3.5 rounded border-border bg-muted accent-purple-500","data-testid":"checkbox-filter-exclusive"}),s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-purple-500/20 text-purple-400",children:"EXCLUSIVE"})]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:C,onChange:G=>S(G.target.checked),className:"w-3.5 h-3.5 rounded border-border bg-muted accent-red-500","data-testid":"checkbox-filter-private"}),s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-red-500/20 text-red-400",children:"PRIVATE"})]})]}),(c!=="all"||o!=="all"||f!=="all"||p!=="all"||v||w||A||C)&&s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{u("all"),l("all"),m("all"),g("all"),y(!1),N(!1),T(!1),S(!1)},className:"text-muted-foreground hover:text-foreground text-xs h-8","data-testid":"button-clear-filters",children:""})]})]}),Y.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(xh,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No offers yet"}),$&&s.jsx(Mt,{href:`/dashboard/${e}/offers/new`,children:s.jsxs(U,{className:"bg-blue-600 hover:bg-blue-500 text-foreground font-mono",children:[s.jsx(fr,{className:"w-4 h-4 mr-2"}),"Create Your First Offer"]})})]}):s.jsx("div",{className:"overflow-x-auto max-h-[700px] overflow-y-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono table-fixed",children:[s.jsx("thead",{className:"sticky top-0 z-10 bg-card",children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium w-[120px]",children:"ID"}),s.jsx("th",{className:"px-4 py-3 font-medium w-[200px]",children:t("dashboard.offers.name")}),s.jsx("th",{className:"px-4 py-3 font-medium w-[100px]",children:t("dashboard.offers.category")}),s.jsx("th",{className:"px-4 py-3 font-medium w-[70px]",children:"CR%"}),s.jsx("th",{className:"px-4 py-3 font-medium w-[70px]",children:"AR%"}),s.jsx("th",{className:"px-4 py-3 font-medium w-[70px]",children:"EPC"}),s.jsx("th",{className:"px-4 py-3 font-medium w-[120px]",children:"Partner Payout"}),s.jsx("th",{className:"px-4 py-3 font-medium w-[120px]",children:t("dashboard.offers.geo")}),s.jsx("th",{className:"px-4 py-3 font-medium w-[110px]",children:"Internal Cost"}),s.jsx("th",{className:"px-4 py-3 font-medium w-[80px]",children:t("dashboard.offers.status")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[100px]",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:Y.map(G=>s.jsxs("tr",{className:"hover:bg-muted transition-colors group","data-testid":`row-offer-${G.id}`,children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-2",children:[G.logoUrl?s.jsx("img",{src:G.logoUrl,alt:"",className:"w-6 h-6 rounded object-cover"}):s.jsx("div",{className:"w-6 h-6 rounded bg-muted flex items-center justify-center text-xs",children:G.name.charAt(0).toUpperCase()}),s.jsxs("span",{children:["#",G.id.slice(0,8)]})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mt,{href:`/dashboard/${e}/offer/${G.id}`,children:s.jsx("span",{className:"font-medium text-foreground group-hover:text-blue-400 transition-colors cursor-pointer","data-testid":`text-offer-name-${G.id}`,children:G.name})}),G.createdAt&&new Date(G.createdAt)>new Date(Date.now()-336*60*60*1e3)&&s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-emerald-500/20 text-emerald-400 animate-pulse",children:"NEW"}),G.isTop&&s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-yellow-500/20 text-yellow-400",children:"TOP"}),G.isExclusive&&s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-purple-500/20 text-purple-400",children:"EXCLUSIVE"}),G.isPrivate&&s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-red-500/20 text-red-400",children:"PRIVATE"})]})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:G.category}),s.jsx("td",{className:"px-4 py-3 text-blue-400 font-bold","data-testid":`text-cr-${G.id}`,children:(()=>{const X=L.get(G.id);return!X||X.clicks===0?"":`${X.cr}%`})()}),s.jsx("td",{className:"px-4 py-3 text-pink-400 font-medium","data-testid":`text-ar-${G.id}`,children:(()=>{const X=L.get(G.id);return!X||X.conversions===0?"":`${X.ar?.toFixed(1)||0}%`})()}),s.jsx("td",{className:"px-4 py-3 text-teal-400 font-medium","data-testid":`text-epc-${G.id}`,children:(()=>{const X=L.get(G.id);return!X||X.clicks===0?"":`${Hs(Ol(G))}${X.epc?.toFixed(2)||"0.00"}`})()}),s.jsx("td",{className:"px-4 py-3 text-emerald-400 font-bold","data-testid":`text-payout-${G.id}`,children:PB(G)?`${Hs(Ol(G))}${PB(G)}`:"N/A"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:s.jsx("span",{className:"flex items-center gap-1 flex-wrap",children:(()=>{const X=Array.from(new Set(G.geo));return s.jsxs(s.Fragment,{children:[X.slice(0,3).map((ae,de)=>s.jsxs("span",{className:"inline-flex items-center gap-0.5",children:[s.jsx("span",{children:xu(ae)}),s.jsx("span",{children:ae}),de<Math.min(X.length,3)-1&&s.jsx("span",{children:","})]},ae)),X.length>3&&s.jsxs("span",{className:"text-muted-foreground",children:["+",X.length-3]})]})})()})}),s.jsx("td",{className:"px-4 py-3 text-red-400 font-bold","data-testid":`text-cost-${G.id}`,children:MB(G)?`${Hs(Ol(G))}${MB(G)}`:"N/A"}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] uppercase font-bold ${G.status==="active"?"bg-emerald-500/20 text-emerald-500":"bg-yellow-500/20 text-yellow-500"}`,children:G.status})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(Mt,{href:`/dashboard/${e}/offer/${G.id}`,children:s.jsx(U,{size:"icon",variant:"ghost",className:"h-6 w-6 text-emerald-500 hover:text-emerald-400 hover:bg-emerald-500/10","data-testid":`button-view-${G.id}`,children:s.jsx(ur,{className:"w-3 h-3"})})}),$&&s.jsxs(s.Fragment,{children:[s.jsx(Mt,{href:`/dashboard/${e}/offers/new?edit=${G.id}`,children:s.jsx(U,{size:"icon",variant:"ghost",className:"h-6 w-6 text-blue-500 hover:text-blue-400 hover:bg-blue-500/10","data-testid":`button-edit-${G.id}`,children:s.jsx(r_,{className:"w-3 h-3"})})}),s.jsx(U,{size:"icon",variant:"ghost",className:"h-6 w-6 text-orange-500 hover:text-orange-400 hover:bg-orange-500/10","data-testid":`button-archive-${G.id}`,onClick:()=>V(G),title:" ",children:s.jsx(dF,{className:"w-3 h-3"})})]})]})})]},G.id))})]})})]}),s.jsx(RR,{open:E,onOpenChange:O,children:s.jsxs(bN,{children:[s.jsxs(jN,{children:[s.jsx(NN,{children:" ?"}),s.jsxs(SN,{children:[' ,     "',_?.name,'"?       ,      .         .']})]}),s.jsxs(wN,{children:[s.jsx(kN,{children:""}),s.jsx(CN,{onClick:G=>{G.preventDefault(),I()},className:"bg-orange-600 hover:bg-orange-700",disabled:z.isPending,children:z.isPending?"...":" "})]})]})})]})}function Kke({role:e}){const t=rt(),[n,r]=j.useState(""),[a,i]=j.useState(!1),[o,l]=j.useState(null),{data:c,isLoading:u,error:f}=Ne({queryKey:["/api/offers/archived"],queryFn:async()=>{const y=await fetch("/api/offers/archived",{credentials:"include"});if(!y.ok)throw new Error("Failed to fetch archived offers");return y.json()}}),m=ve({mutationFn:async y=>{const w=await fetch(`/api/offers/${y}/restore`,{method:"PATCH",credentials:"include"});if(!w.ok)throw new Error("Failed to restore offer");return w.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/offers/archived"]}),t.invalidateQueries({queryKey:["/api/offers"]}),Rt.success(" "),i(!1),l(null)},onError:()=>{Rt.error("   ")}}),p=y=>{l(y),i(!0)},g=()=>{o&&m.mutate(o.id)},v=j.useMemo(()=>c?c.filter(y=>{if(n){const w=n.toLowerCase();return y.name.toLowerCase().includes(w)||y.description?.toLowerCase().includes(w)}return!0}):[],[c,n]);return u?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-blue-500"})}):f?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-red-400",children:"   "})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Mt,{href:`/dashboard/${e}/offers`,children:s.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8","data-testid":"button-back",children:s.jsx(As,{className:"w-4 h-4"})})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-mono text-foreground mb-1","data-testid":"text-archive-title",children:" "}),s.jsxs("p",{className:"text-muted-foreground text-sm font-mono",children:[v.length," ",v.length===1?"":"","  "]})]})]})}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsx("div",{className:"p-4 border-b border-border",children:s.jsxs("div",{className:"relative max-w-sm",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"  ...",value:n,onChange:y=>r(y.target.value),className:"w-full bg-muted border border-border rounded pl-9 pr-4 py-2 text-sm text-foreground focus:outline-none focus:border-blue-500 font-mono","data-testid":"input-search-archived"})]})}),v.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(xh,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:" "}),s.jsx(Mt,{href:`/dashboard/${e}/offers`,children:s.jsxs(U,{variant:"outline",className:"font-mono",children:[s.jsx(As,{className:"w-4 h-4 mr-2"})," "]})})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"ID"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:v.map(y=>s.jsxs("tr",{className:"hover:bg-muted transition-colors group","data-testid":`row-archived-${y.id}`,children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-2",children:[y.logoUrl?s.jsx("img",{src:y.logoUrl,alt:"",className:"w-6 h-6 rounded object-cover"}):s.jsx("div",{className:"w-6 h-6 rounded bg-muted flex items-center justify-center text-xs",children:y.name.charAt(0).toUpperCase()}),s.jsxs("span",{children:["#",y.id.slice(0,8)]})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"font-medium text-foreground opacity-70","data-testid":`text-archived-name-${y.id}`,children:y.name})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:y.category}),s.jsxs("td",{className:"px-4 py-3 text-muted-foreground",children:[y.geo.slice(0,3).join(", "),y.geo.length>3?` +${y.geo.length-3}`:""]}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:y.archivedAt?new Date(y.archivedAt).toLocaleDateString("ru-RU"):"-"}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs(U,{size:"sm",variant:"outline",className:"h-7 text-xs text-emerald-500 border-emerald-500/30 hover:bg-emerald-500/10","data-testid":`button-restore-${y.id}`,onClick:()=>p(y),children:[s.jsx(ufe,{className:"w-3 h-3 mr-1"}),""]})})]},y.id))})]})})]}),s.jsx(RR,{open:a,onOpenChange:i,children:s.jsxs(bN,{children:[s.jsxs(jN,{children:[s.jsx(NN,{children:" ?"}),s.jsxs(SN,{children:[' ,     "',o?.name,'"?          .']})]}),s.jsxs(wN,{children:[s.jsx(kN,{children:""}),s.jsx(CN,{onClick:y=>{y.preventDefault(),g()},className:"bg-emerald-600 hover:bg-emerald-700",disabled:m.isPending,children:m.isPending?"...":""})]})]})})]})}function Wke({role:e}){const{t}=as(),[n,r]=j.useState(""),[a,i]=j.useState("all"),[o,l]=j.useState("all"),[c,u]=j.useState("all"),[f,m]=j.useState(!1),[p,g]=j.useState(!1),[v,y]=j.useState(!1),[w,N]=j.useState(!1),[A,T]=j.useState(!1),{selectedAdvertiserId:C}=Vl(),{data:S,isLoading:E,error:O}=Ne({queryKey:["/api/marketplace/offers",C],queryFn:async()=>{const q=await fetch("/api/marketplace/offers",{credentials:"include"});if(!q.ok)throw new Error("Failed to fetch marketplace");return q.json()}}),{data:_}=Ne({queryKey:["/api/publisher/offers/stats"],queryFn:async()=>{const q=await fetch("/api/publisher/offers/stats",{credentials:"include"});return q.ok?q.json():[]}}),M=j.useMemo(()=>{const q=new Map;return _&&_.forEach(se=>q.set(se.offerId,{clicks:se.clicks,conversions:se.conversions,cr:se.cr,ar:se.ar||0,epc:se.epc||0})),q},[_]),$=j.useMemo(()=>S?Array.from(new Set(S.map(q=>q.category).filter(Boolean))):[],[S]),z=j.useMemo(()=>{if(!S)return[];const q=new Set;return S.forEach(se=>se.geo.forEach(H=>q.add(H))),Array.from(q).sort()},[S]),V=j.useMemo(()=>{if(!S)return[];const q=new Set;return S.forEach(se=>se.trafficSources?.forEach(H=>q.add(H))),Array.from(q).sort()},[S]),I=j.useMemo(()=>{if(!S)return[];const q=new Date(Date.now()-336*60*60*1e3);return S.filter(se=>{const H=!C||se.advertiserId===C,Y=n===""||se.name.toLowerCase().includes(n.toLowerCase())||se.category.toLowerCase().includes(n.toLowerCase())||se.geo.some(ee=>ee.toLowerCase().includes(n.toLowerCase())),G=a==="all"||se.category.toLowerCase()===a.toLowerCase(),X=o==="all"||se.geo.includes(o),ae=c==="all"||se.trafficSources?.includes(c),de=!f||se.hasAccess===!0,he=se.createdAt&&new Date(se.createdAt)>q,Fe=!p||he,ge=!v||se.isTop,Ae=!w||se.isExclusive,_e=!A||se.isPrivate;return H&&Y&&G&&X&&ae&&de&&Fe&&ge&&Ae&&_e})},[S,n,a,o,c,f,C,p,v,w,A]),F=q=>{if(q.landings&&q.landings.length>0){const se=q.landings.map(G=>parseFloat(G.partnerPayout)),H=Math.min(...se),Y=Math.max(...se);return H===Y?Y.toFixed(2):`${H.toFixed(2)}-${Y.toFixed(2)}`}return q.partnerPayout},K=rt(),R=ve({mutationFn:async q=>{const se=await fetch(`/api/offers/${q}/request-access`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})});if(!se.ok){const H=await se.json();throw new Error(H.message||"Failed to request access")}return se.json()},onSuccess:()=>{K.invalidateQueries({queryKey:["/api/marketplace/offers"],exact:!1})}}),B=q=>q.hasAccess?s.jsxs("span",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-emerald-500/20 text-emerald-500",children:[s.jsx(Gn,{className:"w-3 h-3"}),""]}):q.accessStatus==="pending"?s.jsxs("span",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-yellow-500/20 text-yellow-500",children:[s.jsx(Yt,{className:"w-3 h-3"}),""]}):q.accessStatus==="rejected"?s.jsxs("span",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-red-500/20 text-red-500",children:[s.jsx(ts,{className:"w-3 h-3"}),""]}):q.accessStatus==="revoked"?s.jsxs("span",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-orange-500/20 text-orange-500",children:[s.jsx(Kn,{className:"w-3 h-3"}),""]}):s.jsxs("button",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-blue-500/20 text-blue-500 hover:bg-blue-500/30 hover:text-blue-400 transition-colors disabled:opacity-50",onClick:se=>{se.stopPropagation(),R.mutate(q.id)},disabled:R.isPending,"data-testid":`button-request-access-${q.id}`,children:[s.jsx(dr,{className:"w-3 h-3"}),""]});if(E)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-emerald-500"})});if(O)return s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-red-400",children:"Failed to load offers"})});const L=S?.filter(q=>q.hasAccess).length||0;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-mono text-foreground mb-2","data-testid":"text-offers-title",children:t("dashboard.offers.title")}),s.jsx("p",{className:"text-muted-foreground text-sm font-mono",children:t("dashboard.offers.subtitle")})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",className:`font-mono ${f?"text-muted-foreground border-border":"bg-emerald-500/10 text-emerald-400 border-emerald-500/50"}`,onClick:()=>m(!1),"data-testid":"button-all-offers",children:" "}),s.jsxs(U,{variant:"outline",className:`font-mono ${f?"bg-emerald-500/10 text-emerald-400 border-emerald-500/50":"text-muted-foreground border-border"}`,onClick:()=>m(!0),"data-testid":"button-my-offers",children:["  (",L,")"]})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsx("div",{className:"p-4 border-b border-border flex flex-col gap-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:t("dashboard.offers.searchPlaceholder"),value:n,onChange:q=>r(q.target.value),className:"w-full bg-muted border border-border rounded pl-9 pr-4 py-2 text-sm text-foreground focus:outline-none focus:border-emerald-500 font-mono","data-testid":"input-search-offers"})]}),s.jsxs("div",{className:"flex gap-3 flex-wrap",children:[s.jsxs(ht,{value:a,onValueChange:i,children:[s.jsxs(dt,{className:"w-[140px] bg-muted border-border text-foreground font-mono text-xs","data-testid":"select-category",children:[s.jsx(xh,{className:"w-3 h-3 mr-2 text-muted-foreground"}),s.jsx(mt,{placeholder:""})]}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"all",className:"font-mono text-xs",children:" "}),$.map(q=>s.jsx(ke,{value:q,className:"font-mono text-xs",children:q},q))]})]}),s.jsx(H0,{value:o,onValueChange:l,placeholder:"",searchPlaceholder:" ...",className:"w-[120px] font-mono text-xs","data-testid":"select-geo",options:[{value:"all",label:"  "},...z.map(q=>({value:q,label:`${xu(q)} ${q}`}))]}),s.jsxs(ht,{value:c,onValueChange:u,children:[s.jsxs(dt,{className:"w-[150px] bg-muted border-border text-foreground font-mono text-xs","data-testid":"select-source",children:[s.jsx(ZM,{className:"w-3 h-3 mr-2 text-muted-foreground"}),s.jsx(mt,{placeholder:""})]}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"all",className:"font-mono text-xs",children:" "}),V.map(q=>s.jsx(ke,{value:q,className:"font-mono text-xs",children:q},q))]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-2 pl-2 border-l border-border/50",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:p,onChange:q=>g(q.target.checked),className:"w-3.5 h-3.5 rounded border-border bg-muted accent-emerald-500","data-testid":"checkbox-filter-new"}),s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-emerald-500/20 text-emerald-400",children:"NEW"})]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:v,onChange:q=>y(q.target.checked),className:"w-3.5 h-3.5 rounded border-border bg-muted accent-yellow-500","data-testid":"checkbox-filter-top"}),s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-yellow-500/20 text-yellow-400",children:"TOP"})]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:w,onChange:q=>N(q.target.checked),className:"w-3.5 h-3.5 rounded border-border bg-muted accent-purple-500","data-testid":"checkbox-filter-exclusive"}),s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-purple-500/20 text-purple-400",children:"EXCLUSIVE"})]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:A,onChange:q=>T(q.target.checked),className:"w-3.5 h-3.5 rounded border-border bg-muted accent-red-500","data-testid":"checkbox-filter-private"}),s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-red-500/20 text-red-400",children:"PRIVATE"})]})]})]})]})}),I.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(xh,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"  "})]}):s.jsx("div",{className:"overflow-x-auto max-h-[700px] overflow-y-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono table-fixed",style:{minWidth:"1100px"},children:[s.jsxs("colgroup",{children:[s.jsx("col",{style:{width:"100px"}}),s.jsx("col",{style:{width:"180px"}}),s.jsx("col",{style:{width:"90px"}}),s.jsx("col",{style:{width:"60px"}}),s.jsx("col",{style:{width:"60px"}}),s.jsx("col",{style:{width:"70px"}}),s.jsx("col",{style:{width:"110px"}}),s.jsx("col",{style:{width:"90px"}}),s.jsx("col",{style:{width:"70px"}}),s.jsx("col",{style:{width:"80px"}}),s.jsx("col",{style:{width:"80px"}})]}),s.jsx("thead",{className:"sticky top-0 z-10 bg-card",children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-3 py-3 font-medium",children:"ID"}),s.jsx("th",{className:"px-3 py-3 font-medium",children:t("dashboard.offers.name")}),s.jsx("th",{className:"px-3 py-3 font-medium",children:t("dashboard.offers.category")}),s.jsx("th",{className:"px-3 py-3 font-medium",children:"CR%"}),s.jsx("th",{className:"px-3 py-3 font-medium",children:"AR%"}),s.jsx("th",{className:"px-3 py-3 font-medium",children:"EPC"}),s.jsx("th",{className:"px-3 py-3 font-medium",children:t("dashboard.offers.geo")}),s.jsx("th",{className:"px-3 py-3 font-medium",children:""}),s.jsx("th",{className:"px-3 py-3 font-medium",children:""}),s.jsx("th",{className:"px-3 py-3 font-medium",children:""}),s.jsx("th",{className:"px-3 py-3 font-medium text-right",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:I.map(q=>{const se=F(q),H=M.get(q.id);return s.jsxs("tr",{className:"hover:bg-muted transition-colors group","data-testid":`row-offer-${q.id}`,children:[s.jsx("td",{className:"px-3 py-3 text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-2",children:[q.logoUrl?s.jsx("img",{src:q.logoUrl,alt:"",className:"w-6 h-6 rounded object-cover"}):s.jsx("div",{className:"w-6 h-6 rounded bg-muted flex items-center justify-center text-xs",children:q.name.charAt(0).toUpperCase()}),s.jsxs("span",{className:"truncate",children:["#",q.id.slice(0,8)]})]})}),s.jsx("td",{className:"px-3 py-3",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Mt,{href:`/dashboard/${e}/offer/${q.id}`,children:s.jsx("span",{className:"font-medium text-foreground group-hover:text-emerald-400 transition-colors cursor-pointer truncate","data-testid":`text-offer-name-${q.id}`,children:q.name})}),q.createdAt&&new Date(q.createdAt)>new Date(Date.now()-336*60*60*1e3)&&s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-emerald-500/20 text-emerald-400 animate-pulse",children:"NEW"}),q.isTop&&s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-yellow-500/20 text-yellow-400",children:"TOP"}),q.isExclusive&&s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-purple-500/20 text-purple-400",children:"EXCLUSIVE"}),q.isPrivate&&s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-red-500/20 text-red-400",children:"PRIVATE"})]})}),s.jsx("td",{className:"px-3 py-3 text-muted-foreground truncate",children:q.category}),s.jsx("td",{className:"px-3 py-3 text-cyan-400 font-medium",children:H?`${H.cr.toFixed(1)}%`:""}),s.jsx("td",{className:"px-3 py-3 text-pink-400 font-medium",children:H&&H.conversions>0?`${H.ar?.toFixed(1)||0}%`:""}),s.jsx("td",{className:"px-3 py-3 text-teal-400 font-medium",children:H&&H.clicks>0?`${Hs(Ol(q))}${H.epc?.toFixed(2)||"0.00"}`:""}),s.jsx("td",{className:"px-3 py-3 text-muted-foreground",children:s.jsx("span",{className:"flex items-center gap-1 flex-wrap",children:(()=>{const Y=Array.from(new Set(q.geo)),G=q.approvedGeos&&q.approvedGeos.length>0?q.approvedGeos:Y,X=q.approvedGeos&&q.approvedGeos.length>0&&q.approvedGeos.length<Y.length;return s.jsxs(s.Fragment,{children:[G.slice(0,3).map((ae,de)=>s.jsxs("span",{className:`inline-flex items-center gap-0.5 ${X?"text-yellow-400":""}`,children:[s.jsx("span",{children:xu(ae)}),s.jsx("span",{children:ae}),de<Math.min(G.length,3)-1&&s.jsx("span",{children:","})]},ae)),G.length>3&&s.jsxs("span",{className:X?"text-yellow-400":"text-muted-foreground",children:["+",G.length-3]}),X&&s.jsx("span",{className:"text-yellow-500 text-[10px] ml-1",title:`  ${G.length}  ${Y.length} `,children:"()"})]})})()})}),s.jsxs("td",{className:"px-3 py-3 text-emerald-400 font-bold",children:[Hs(Ol(q)),se]}),s.jsx("td",{className:"px-3 py-3 text-muted-foreground uppercase",children:q.payoutModel}),s.jsx("td",{className:"px-3 py-3",children:B(q)}),s.jsx("td",{className:"px-3 py-3 text-right",children:s.jsx(Mt,{href:`/dashboard/${e}/offer/${q.id}`,children:s.jsxs(U,{size:"sm",variant:"ghost",className:"h-7 px-3 text-muted-foreground hover:text-emerald-400 hover:bg-emerald-500/10","data-testid":`button-view-${q.id}`,children:[s.jsx(ur,{className:"w-3 h-3 mr-1"}),""]})})})]},q.id)})})]})})]})]})}function ms(e){this.content=e}ms.prototype={constructor:ms,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,a=r.find(e),i=r.content.slice();return a==-1?i.push(n||e,t):(i[a+1]=t,n&&(i[a]=n)),new ms(i)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new ms(n)},addToStart:function(e,t){return new ms([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new ms(n)},addBefore:function(e,t,n){var r=this.remove(t),a=r.content.slice(),i=r.find(e);return a.splice(i==-1?a.length:i,0,t,n),new ms(a)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=ms.from(e),e.size?new ms(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=ms.from(e),e.size?new ms(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=ms.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};ms.from=function(e){if(e instanceof ms)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new ms(t)};function tee(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let a=e.child(r),i=t.child(r);if(a==i){n+=a.nodeSize;continue}if(!a.sameMarkup(i))return n;if(a.isText&&a.text!=i.text){for(let o=0;a.text[o]==i.text[o];o++)n++;return n}if(a.content.size||i.content.size){let o=tee(a.content,i.content,n+1);if(o!=null)return o}n+=a.nodeSize}}function nee(e,t,n,r){for(let a=e.childCount,i=t.childCount;;){if(a==0||i==0)return a==i?null:{a:n,b:r};let o=e.child(--a),l=t.child(--i),c=o.nodeSize;if(o==l){n-=c,r-=c;continue}if(!o.sameMarkup(l))return{a:n,b:r};if(o.isText&&o.text!=l.text){let u=0,f=Math.min(o.text.length,l.text.length);for(;u<f&&o.text[o.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(o.content.size||l.content.size){let u=nee(o.content,l.content,n-1,r-1);if(u)return u}n-=c,r-=c}}class Ee{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,a=0,i){for(let o=0,l=0;l<n;o++){let c=this.content[o],u=l+c.nodeSize;if(u>t&&r(c,a+l,i||null,o)!==!1&&c.content.size){let f=l+1;c.nodesBetween(Math.max(0,t-f),Math.min(c.content.size,n-f),r,a+f)}l=u}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,a){let i="",o=!0;return this.nodesBetween(t,n,(l,c)=>{let u=l.isText?l.text.slice(Math.max(t,c)-c,n-c):l.isLeaf?a?typeof a=="function"?a(l):a:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(o?o=!1:i+=r),i+=u},0),i}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,a=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(a[a.length-1]=n.withText(n.text+r.text),i=1);i<t.content.length;i++)a.push(t.content[i]);return new Ee(a,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],a=0;if(n>t)for(let i=0,o=0;o<n;i++){let l=this.content[i],c=o+l.nodeSize;c>t&&((o<t||c>n)&&(l.isText?l=l.cut(Math.max(0,t-o),Math.min(l.text.length,n-o)):l=l.cut(Math.max(0,t-o-1),Math.min(l.content.size,n-o-1))),r.push(l),a+=l.nodeSize),o=c}return new Ee(r,a)}cutByIndex(t,n){return t==n?Ee.empty:t==0&&n==this.content.length?this:new Ee(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let a=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return a[t]=n,new Ee(a,i)}addToStart(t){return new Ee([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Ee(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let a=this.content[n];t(a,r,n),r+=a.nodeSize}}findDiffStart(t,n=0){return tee(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return nee(this,t,n,r)}findIndex(t){if(t==0)return ub(0,t);if(t==this.size)return ub(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let a=this.child(n),i=r+a.nodeSize;if(i>=t)return i==t?ub(n+1,i):ub(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return Ee.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ee(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Ee.empty;let n,r=0;for(let a=0;a<t.length;a++){let i=t[a];r+=i.nodeSize,a&&i.isText&&t[a-1].sameMarkup(i)?(n||(n=t.slice(0,a)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new Ee(n||t,r)}static from(t){if(!t)return Ee.empty;if(t instanceof Ee)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Ee([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ee.empty=new Ee([],0);const IC={index:0,offset:0};function ub(e,t){return IC.index=e,IC.offset=t,IC}function K0(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!K0(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!K0(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let Cn=class _P{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let a=0;a<t.length;a++){let i=t[a];if(this.eq(i))return t;if(this.type.excludes(i.type))n||(n=t.slice(0,a));else{if(i.type.excludes(this.type))return t;!r&&i.type.rank>this.type.rank&&(n||(n=t.slice(0,a)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&K0(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let a=r.create(n.attrs);return r.checkAttrs(a.attrs),a}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return _P.none;if(t instanceof _P)return[t];let n=t.slice();return n.sort((r,a)=>r.type.rank-a.type.rank),n}};Cn.none=[];class W0 extends Error{}class ze{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=see(this.content,t+this.openStart,n);return r&&new ze(r,this.openStart,this.openEnd)}removeBetween(t,n){return new ze(ree(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return ze.empty;let r=n.openStart||0,a=n.openEnd||0;if(typeof r!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ze(Ee.fromJSON(t,n.content),r,a)}static maxOpen(t,n=!0){let r=0,a=0;for(let i=t.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=t.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)a++;return new ze(t,r,a)}}ze.empty=new ze(Ee.empty,0,0);function ree(e,t,n){let{index:r,offset:a}=e.findIndex(t),i=e.maybeChild(r),{index:o,offset:l}=e.findIndex(n);if(a==t||i.isText){if(l!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(ree(i.content,t-a-1,n-a-1)))}function see(e,t,n,r){let{index:a,offset:i}=e.findIndex(t),o=e.maybeChild(a);if(i==t||o.isText)return r&&!r.canReplace(a,a,n)?null:e.cut(0,t).append(n).append(e.cut(t));let l=see(o.content,t-i-1,n,o);return l&&e.replaceChild(a,o.copy(l))}function Gke(e,t,n){if(n.openStart>e.depth)throw new W0("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new W0("Inconsistent open depths");return aee(e,t,n,0)}function aee(e,t,n,r){let a=e.index(r),i=e.node(r);if(a==t.index(r)&&r<e.depth-n.openStart){let o=aee(e,t,n,r+1);return i.copy(i.content.replaceChild(a,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let o=e.parent,l=o.content;return eu(o,l.cut(0,e.parentOffset).append(n.content).append(l.cut(t.parentOffset)))}else{let{start:o,end:l}=Yke(n,e);return eu(i,oee(e,o,l,t,r))}else return eu(i,G0(e,t,r))}function iee(e,t){if(!t.type.compatibleContent(e.type))throw new W0("Cannot join "+t.type.name+" onto "+e.type.name)}function RP(e,t,n){let r=e.node(n);return iee(r,t.node(n)),r}function Zd(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function jx(e,t,n,r){let a=(t||e).node(n),i=0,o=t?t.index(n):a.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(Zd(e.nodeAfter,r),i++));for(let l=i;l<o;l++)Zd(a.child(l),r);t&&t.depth==n&&t.textOffset&&Zd(t.nodeBefore,r)}function eu(e,t){return e.type.checkContent(t),e.copy(t)}function oee(e,t,n,r,a){let i=e.depth>a&&RP(e,t,a+1),o=r.depth>a&&RP(n,r,a+1),l=[];return jx(null,e,a,l),i&&o&&t.index(a)==n.index(a)?(iee(i,o),Zd(eu(i,oee(e,t,n,r,a+1)),l)):(i&&Zd(eu(i,G0(e,t,a+1)),l),jx(t,n,a,l),o&&Zd(eu(o,G0(n,r,a+1)),l)),jx(r,null,a,l),new Ee(l)}function G0(e,t,n){let r=[];if(jx(null,e,n,r),e.depth>n){let a=RP(e,t,n+1);Zd(eu(a,G0(e,t,n+1)),r)}return jx(t,null,n,r),new Ee(r)}function Yke(e,t){let n=t.depth-e.openStart,a=t.node(n).copy(e.content);for(let i=n-1;i>=0;i--)a=t.node(i).copy(Ee.from(a));return{start:a.resolveNoCache(e.openStart+n),end:a.resolveNoCache(a.content.size-e.openEnd-n)}}class eg{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],a=t.child(n);return r?t.child(n).cut(r):a}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],a=n==0?0:this.path[n*3-1]+1;for(let i=0;i<t;i++)a+=r.child(i).nodeSize;return a}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Cn.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),a=t.maybeChild(n);if(!r){let l=r;r=a,a=l}let i=r.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!a||!i[o].isInSet(a.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,a=t.parent.maybeChild(t.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!a||!r[i].isInSet(a.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new Y0(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],a=0,i=n;for(let o=t;;){let{index:l,offset:c}=o.content.findIndex(i),u=i-c;if(r.push(o,l,a+c),!u||(o=o.child(l),o.isText))break;i=u-1,a+=c+1}return new eg(n,r,i)}static resolveCached(t,n){let r=_B.get(t);if(r)for(let i=0;i<r.elts.length;i++){let o=r.elts[i];if(o.pos==n)return o}else _B.set(t,r=new Xke);let a=r.elts[r.i]=eg.resolve(t,n);return r.i=(r.i+1)%Qke,a}}class Xke{constructor(){this.elts=[],this.i=0}}const Qke=12,_B=new WeakMap;class Y0{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Jke=Object.create(null);let $c=class DP{constructor(t,n,r,a=Cn.none){this.type=t,this.attrs=n,this.marks=a,this.content=r||Ee.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,a=0){this.content.nodesBetween(t,n,r,a,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,a){return this.content.textBetween(t,n,r,a)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&K0(this.attrs,n||t.defaultAttrs||Jke)&&Cn.sameSet(this.marks,r||Cn.none)}copy(t=null){return t==this.content?this:new DP(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new DP(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return ze.empty;let a=this.resolve(t),i=this.resolve(n),o=r?0:a.sharedDepth(n),l=a.start(o),u=a.node(o).content.cut(a.pos-l,i.pos-l);return new ze(u,a.depth-o,i.depth-o)}replace(t,n,r){return Gke(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:a}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(a==t||n.isText)return n;t-=a+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let a=this.content.child(n-1);return{node:a,index:n-1,offset:r-a.nodeSize}}resolve(t){return eg.resolveCached(this,t)}resolveNoCache(t){return eg.resolve(this,t)}rangeHasMark(t,n,r){let a=!1;return n>t&&this.nodesBetween(t,n,i=>(r.isInSet(i.marks)&&(a=!0),!a)),a}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),lee(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=Ee.empty,a=0,i=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,a,i),l=o&&o.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let c=a;c<i;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(t,n,r,a){if(a&&!this.type.allowsMarks(a))return!1;let i=this.contentMatchAt(t).matchType(r),o=i&&i.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Cn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Cn.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let a=Ee.fromJSON(t,n.content),i=t.nodeType(n.type).create(n.attrs,a,r);return i.type.checkAttrs(i.attrs),i}};$c.prototype.text=void 0;class X0 extends $c{constructor(t,n,r,a){if(super(t,n,null,a),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):lee(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new X0(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new X0(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function lee(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class gu{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Zke(t,n);if(r.next==null)return gu.empty;let a=cee(r);r.next&&r.err("Unexpected trailing text");let i=iTe(aTe(a));return oTe(i,r),i}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let a=this;for(let i=n;a&&i<r;i++)a=a.matchType(t.child(i).type);return a}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let a=[this];function i(o,l){let c=o.matchFragment(t,r);if(c&&(!n||c.validEnd))return Ee.from(l.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:f,next:m}=o.next[u];if(!(f.isText||f.hasRequiredAttrs())&&a.indexOf(m)==-1){a.push(m);let p=i(m,l.concat(f));if(p)return p}}return null}return i(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let a=r.shift(),i=a.match;if(i.matchType(t)){let o=[];for(let l=a;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:l,next:c}=i.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!a.type||c.validEnd)&&(r.push({match:l.contentMatch,type:l,via:a}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let a=0;a<r.next.length;a++)t.indexOf(r.next[a].next)==-1&&n(r.next[a].next)}return n(this),t.map((r,a)=>{let i=a+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)i+=(o?", ":"")+r.next[o].type.name+"->"+t.indexOf(r.next[o].next);return i}).join(`
`)}}gu.empty=new gu(!0);class Zke{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function cee(e){let t=[];do t.push(eTe(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function eTe(e){let t=[];do t.push(tTe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function tTe(e){let t=sTe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=nTe(e,t);else break;return t}function RB(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function nTe(e,t){let n=RB(e),r=n;return e.eat(",")&&(e.next!="}"?r=RB(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function rTe(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let a=[];for(let i in n){let o=n[i];o.isInGroup(t)&&a.push(o)}return a.length==0&&e.err("No node type or group '"+t+"' found"),a}function sTe(e){if(e.eat("(")){let t=cee(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=rTe(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function aTe(e){let t=[[]];return a(i(e,0),n()),t;function n(){return t.push([])-1}function r(o,l,c){let u={term:c,to:l};return t[o].push(u),u}function a(o,l){o.forEach(c=>c.to=l)}function i(o,l){if(o.type=="choice")return o.exprs.reduce((c,u)=>c.concat(i(u,l)),[]);if(o.type=="seq")for(let c=0;;c++){let u=i(o.exprs[c],l);if(c==o.exprs.length-1)return u;a(u,l=n())}else if(o.type=="star"){let c=n();return r(l,c),a(i(o.expr,c),c),[r(c)]}else if(o.type=="plus"){let c=n();return a(i(o.expr,l),c),a(i(o.expr,c),c),[r(c)]}else{if(o.type=="opt")return[r(l)].concat(i(o.expr,l));if(o.type=="range"){let c=l;for(let u=0;u<o.min;u++){let f=n();a(i(o.expr,c),f),c=f}if(o.max==-1)a(i(o.expr,c),c);else for(let u=o.min;u<o.max;u++){let f=n();r(c,f),a(i(o.expr,c),f),c=f}return[r(c)]}else{if(o.type=="name")return[r(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function dee(e,t){return t-e}function DB(e,t){let n=[];return r(t),n.sort(dee);function r(a){let i=e[a];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(a);for(let o=0;o<i.length;o++){let{term:l,to:c}=i[o];!l&&n.indexOf(c)==-1&&r(c)}}}function iTe(e){let t=Object.create(null);return n(DB(e,0));function n(r){let a=[];r.forEach(o=>{e[o].forEach(({term:l,to:c})=>{if(!l)return;let u;for(let f=0;f<a.length;f++)a[f][0]==l&&(u=a[f][1]);DB(e,c).forEach(f=>{u||a.push([l,u=[]]),u.indexOf(f)==-1&&u.push(f)})})});let i=t[r.join(",")]=new gu(r.indexOf(e.length-1)>-1);for(let o=0;o<a.length;o++){let l=a[o][1].sort(dee);i.next.push({type:a[o][0],next:t[l.join(",")]||n(l)})}return i}}function oTe(e,t){for(let n=0,r=[e];n<r.length;n++){let a=r[n],i=!a.validEnd,o=[];for(let l=0;l<a.next.length;l++){let{type:c,next:u}=a.next[l];o.push(c.name),i&&!(c.isText||c.hasRequiredAttrs())&&(i=!1),r.indexOf(u)==-1&&r.push(u)}i&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function uee(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function fee(e,t){let n=Object.create(null);for(let r in e){let a=t&&t[r];if(a===void 0){let i=e[r];if(i.hasDefault)a=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=a}return n}function hee(e,t,n,r){for(let a in t)if(!(a in e))throw new RangeError(`Unsupported attribute ${a} for ${n} of type ${a}`);for(let a in e){let i=e[a];i.validate&&i.validate(t[a])}}function mee(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new cTe(e,r,t[r]);return n}let IB=class pee{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=mee(t,r.attrs),this.defaultAttrs=uee(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==gu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:fee(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new $c(this,this.computeAttrs(t),Ee.from(n),Cn.setFrom(r))}createChecked(t=null,n,r){return n=Ee.from(n),this.checkContent(n),new $c(this,this.computeAttrs(t),n,Cn.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=Ee.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let a=this.contentMatch.matchFragment(n),i=a&&a.fillBefore(Ee.empty,!0);return i?new $c(this,t,n.append(i),Cn.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){hee(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Cn.none:t}static compile(t,n){let r=Object.create(null);t.forEach((i,o)=>r[i]=new pee(i,n,o));let a=n.spec.topNode||"doc";if(!r[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function lTe(e,t,n){let r=n.split("|");return a=>{let i=a===null?"null":typeof a;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${i}`)}}class cTe{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?lTe(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class TN{constructor(t,n,r,a){this.name=t,this.rank=n,this.schema=r,this.spec=a,this.attrs=mee(t,a.attrs),this.excluded=null;let i=uee(this.attrs);this.instance=i?new Cn(this,i):null}create(t=null){return!t&&this.instance?this.instance:new Cn(this,fee(this.attrs,t))}static compile(t,n){let r=Object.create(null),a=0;return t.forEach((i,o)=>r[i]=new TN(i,a++,n,o)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){hee(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class xee{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let a in t)n[a]=t[a];n.nodes=ms.from(t.nodes),n.marks=ms.from(t.marks||{}),this.nodes=IB.compile(this.spec.nodes,this),this.marks=TN.compile(this.spec.marks,this);let r=Object.create(null);for(let a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");let i=this.nodes[a],o=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=r[o]||(r[o]=gu.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?LB(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let a in this.marks){let i=this.marks[a],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:LB(this,o.split(" "))}this.nodeFromJSON=a=>$c.fromJSON(this,a),this.markFromJSON=a=>Cn.fromJSON(this,a),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,a){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof IB){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,a)}text(t,n){let r=this.nodes.text;return new X0(r,r.defaultAttrs,t,Cn.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function LB(e,t){let n=[];for(let r=0;r<t.length;r++){let a=t[r],i=e.marks[a],o=i;if(i)n.push(i);else for(let l in e.marks){let c=e.marks[l];(a=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(a)>-1)&&n.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function dTe(e){return e.tag!=null}function uTe(e){return e.style!=null}class Fc{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(a=>{if(dTe(a))this.tags.push(a);else if(uTe(a)){let i=/[^=]*/.exec(a.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(a)}}),this.normalizeLists=!this.tags.some(a=>{if(!/^(ul|ol)\b/.test(a.tag)||!a.node)return!1;let i=t.nodes[a.node];return i.contentMatch.matchType(i)})}parse(t,n={}){let r=new FB(this,n,!1);return r.addAll(t,Cn.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new FB(this,n,!0);return r.addAll(t,Cn.none,n.from,n.to),ze.maxOpen(r.finish())}matchTag(t,n,r){for(let a=r?this.tags.indexOf(r)+1:0;a<this.tags.length;a++){let i=this.tags[a];if(mTe(t,i.tag)&&(i.namespace===void 0||t.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(t);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(t,n,r,a){for(let i=a?this.styles.indexOf(a)+1:0;i<this.styles.length;i++){let o=this.styles[i],l=o.style;if(!(l.indexOf(t)!=0||o.context&&!r.matchesContext(o.context)||l.length>t.length&&(l.charCodeAt(t.length)!=61||l.slice(t.length+1)!=n))){if(o.getAttrs){let c=o.getAttrs(n);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(t){let n=[];function r(a){let i=a.priority==null?50:a.priority,o=0;for(;o<n.length;o++){let l=n[o];if((l.priority==null?50:l.priority)<i)break}n.splice(o,0,a)}for(let a in t.marks){let i=t.marks[a].spec.parseDOM;i&&i.forEach(o=>{r(o=BB(o)),o.mark||o.ignore||o.clearMark||(o.mark=a)})}for(let a in t.nodes){let i=t.nodes[a].spec.parseDOM;i&&i.forEach(o=>{r(o=BB(o)),o.node||o.ignore||o.mark||(o.node=a)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Fc(t,Fc.schemaRules(t)))}}const gee={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},fTe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},yee={ol:!0,ul:!0},tg=1,IP=2,wx=4;function $B(e,t,n){return t!=null?(t?tg:0)|(t==="full"?IP:0):e&&e.whitespace=="pre"?tg|IP:n&~wx}class fb{constructor(t,n,r,a,i,o){this.type=t,this.attrs=n,this.marks=r,this.solid=a,this.options=o,this.content=[],this.activeMarks=Cn.none,this.match=i||(o&wx?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Ee.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,a;return(a=r.findWrapping(t.type))?(this.match=r,a):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&tg)){let r=this.content[this.content.length-1],a;if(r&&r.isText&&(a=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==a[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-a[0].length))}}let n=Ee.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(Ee.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!gee.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class FB{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let a=n.topNode,i,o=$B(null,n.preserveWhitespace,0)|(r?wx:0);a?i=new fb(a.type,a.attrs,Cn.none,!0,n.topMatch||a.type.contentMatch,o):r?i=new fb(null,null,Cn.none,!0,null,o):i=new fb(t.schema.topNodeType,null,Cn.none,!0,null,o),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,a=this.top,i=a.options&IP?"full":this.localPreserveWS||(a.options&tg)>0,{schema:o}=this.parser;if(i==="full"||a.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(i)if(i==="full")r=r.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(o.linebreakReplacement.create())){let l=r.split(/\r?\n|\r/);for(let c=0;c<l.length;c++)c&&this.insertNode(o.linebreakReplacement.create(),n,!0),l[c]&&this.insertNode(o.text(l[c]),n,!/\S/.test(l[c]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=a.content[a.content.length-1],c=t.previousSibling;(!l||c&&c.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(o.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let a=this.localPreserveWS,i=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let o=t.nodeName.toLowerCase(),l;yee.hasOwnProperty(o)&&this.parser.normalizeLists&&hTe(t);let c=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(l=this.parser.matchTag(t,this,r));e:if(c?c.ignore:fTe.hasOwnProperty(o))this.findInside(t),this.ignoreFallback(t,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(t=c.skip);let u,f=this.needsBlock;if(gee.hasOwnProperty(o))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),u=!0,i.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let m=c&&c.skip?n:this.readStyles(t,n);m&&this.addAll(t,m),u&&this.sync(i),this.needsBlock=f}else{let u=this.readStyles(t,n);u&&this.addElementByRule(t,c,u,c.consuming===!1?l:void 0)}this.localPreserveWS=a}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let a=0;a<this.parser.matchedStyles.length;a++){let i=this.parser.matchedStyles[a],o=r.getPropertyValue(i);if(o)for(let l=void 0;;){let c=this.parser.matchStyle(i,o,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(u=>!c.clearMark(u)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return n}addElementByRule(t,n,r,a){let i,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let c=this.enter(o,n.attrs||null,r,n.preserveWhitespace);c&&(i=!0,r=c)}else{let c=this.parser.schema.marks[n.mark];r=r.concat(c.create(n.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(t);else if(a)this.addElement(t,r,a);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=t;typeof n.contentElement=="string"?c=t.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(t):n.contentElement&&(c=n.contentElement),this.findAround(t,c,!0),this.addAll(c,r),this.findAround(t,c,!1)}i&&this.sync(l)&&this.open--}addAll(t,n,r,a){let i=r||0;for(let o=r?t.childNodes[r]:t.firstChild,l=a==null?null:t.childNodes[a];o!=l;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o,n);this.findAtPoint(t,i)}findPlace(t,n,r){let a,i;for(let o=this.open,l=0;o>=0;o--){let c=this.nodes[o],u=c.findWrapping(t);if(u&&(!a||a.length>u.length+l)&&(a=u,i=c,!u.length))break;if(c.solid){if(r)break;l+=2}}if(!a)return null;this.sync(i);for(let o=0;o<a.length;o++)n=this.enterInner(a[o],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let a=this.findPlace(t,n,r);if(a){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(t.type));let o=Cn.none;for(let l of a.concat(t.marks))(i.type?i.type.allowsMarkType(l.type):zB(l.type,t.type))&&(o=l.addToSet(o));return i.content.push(t.mark(o)),!0}return!1}enter(t,n,r,a){let i=this.findPlace(t.create(n),r,!1);return i&&(i=this.enterInner(t,n,r,!0,a)),i}enterInner(t,n,r,a=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(t);let l=$B(t,i,o.options);o.options&wx&&o.content.length==0&&(l|=wx);let c=Cn.none;return r=r.filter(u=>(o.type?o.type.allowsMarkType(u.type):zB(u.type,t))?(c=u.addToSet(c),!1):!0),this.nodes.push(new fb(t,n,c,a,null,l)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=tg)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let a=r.length-1;a>=0;a--)t+=r[a].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&t.nodeType==1&&t.contains(this.find[a].node)&&n.compareDocumentPosition(this.find[a].node)&(r?2:4)&&(this.find[a].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,a=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(a?0:1),o=(l,c)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;c>=i;c--)if(o(l-1,c))return!0;return!1}else{let f=c>0||c==0&&a?this.nodes[c].type:r&&c>=i?r.node(c-i).type:null;if(!f||f.name!=u&&!f.isInGroup(u))return!1;c--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function hTe(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&yee.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function mTe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function BB(e){let t={};for(let n in e)t[n]=e[n];return t}function zB(e,t){let n=t.schema.nodes;for(let r in n){let a=n[r];if(!a.allowsMarkType(e))continue;let i=[],o=l=>{i.push(l);for(let c=0;c<l.edgeCount;c++){let{type:u,next:f}=l.edge(c);if(u==t||i.indexOf(f)<0&&o(f))return!0}};if(o(a.contentMatch))return!0}}class Iu{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=LC(n).createDocumentFragment());let a=r,i=[];return t.forEach(o=>{if(i.length||o.marks.length){let l=0,c=0;for(;l<i.length&&c<o.marks.length;){let u=o.marks[c];if(!this.marks[u.type.name]){c++;continue}if(!u.eq(i[l][0])||u.type.spec.spanning===!1)break;l++,c++}for(;l<i.length;)a=i.pop()[1];for(;c<o.marks.length;){let u=o.marks[c++],f=this.serializeMark(u,o.isInline,n);f&&(i.push([u,a]),a.appendChild(f.dom),a=f.contentDOM||f.dom)}}a.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:a}=a0(LC(n),this.nodes[t.type.name](t),null,t.attrs);if(a){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,a)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let a=t.marks.length-1;a>=0;a--){let i=this.serializeMark(t.marks[a],t.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(t,n,r={}){let a=this.marks[t.type.name];return a&&a0(LC(r),a(t,n),null,t.attrs)}static renderSpec(t,n,r=null,a){return a0(t,n,r,a)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Iu(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=qB(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return qB(t.marks)}}function qB(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function LC(e){return e.document||window.document}const UB=new WeakMap;function pTe(e){let t=UB.get(e);return t===void 0&&UB.set(e,t=xTe(e)),t}function xTe(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let a=0;a<r.length;a++)n(r[a]);else for(let a in r)n(r[a])}return n(e),t}function a0(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let a=t[0],i;if(typeof a!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=pTe(r))&&i.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=a.indexOf(" ");o>0&&(n=a.slice(0,o),a=a.slice(o+1));let l,c=n?e.createElementNS(n,a):e.createElement(a),u=t[1],f=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){f=2;for(let m in u)if(u[m]!=null){let p=m.indexOf(" ");p>0?c.setAttributeNS(m.slice(0,p),m.slice(p+1),u[m]):m=="style"&&c.style?c.style.cssText=u[m]:c.setAttribute(m,u[m])}}for(let m=f;m<t.length;m++){let p=t[m];if(p===0){if(m<t.length-1||m>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:g,contentDOM:v}=a0(e,p,n,r);if(c.appendChild(g),v){if(l)throw new RangeError("Multiple content holes");l=v}}}return{dom:c,contentDOM:l}}const vee=65535,bee=Math.pow(2,16);function gTe(e,t){return e+t*bee}function VB(e){return e&vee}function yTe(e){return(e-(e&vee))/bee}const jee=1,wee=2,i0=4,Nee=8;class LP{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Nee)>0}get deletedBefore(){return(this.delInfo&(jee|i0))>0}get deletedAfter(){return(this.delInfo&(wee|i0))>0}get deletedAcross(){return(this.delInfo&i0)>0}}class Ma{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Ma.empty)return Ma.empty}recover(t){let n=0,r=VB(t);if(!this.inverted)for(let a=0;a<r;a++)n+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[r*3]+n+yTe(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let a=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?a:0);if(c>t)break;let u=this.ranges[l+i],f=this.ranges[l+o],m=c+u;if(t<=m){let p=u?t==c?-1:t==m?1:n:n,g=c+a+(p<0?0:f);if(r)return g;let v=t==(n<0?c:m)?null:gTe(l/3,t-c),y=t==c?wee:t==m?jee:i0;return(n<0?t!=c:t!=m)&&(y|=Nee),new LP(g,y,v)}a+=f-u}return r?t+a:new LP(t+a,0,null)}touches(t,n){let r=0,a=VB(n),i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>t)break;let u=this.ranges[l+i],f=c+u;if(t<=f&&l==a*3)return!0;r+=this.ranges[l+o]-u}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let a=0,i=0;a<this.ranges.length;a+=3){let o=this.ranges[a],l=o-(this.inverted?i:0),c=o+(this.inverted?0:i),u=this.ranges[a+n],f=this.ranges[a+r];t(l,l+u,c,c+f),i+=f-u}}invert(){return new Ma(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Ma.empty:new Ma(t<0?[0,-t,0]:[0,0,t])}}Ma.empty=new Ma([]);class ng{constructor(t,n,r=0,a=t?t.length:0){this.mirror=n,this.from=r,this.to=a,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new ng(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let a=t.getMirror(n);this.appendMap(t._maps[n],a!=null&&a<n?r+a:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let a=t.getMirror(n);this.appendMap(t._maps[n].invert(),a!=null&&a>n?r-a-1:void 0)}}invert(){let t=new ng;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let a=0;for(let i=this.from;i<this.to;i++){let o=this._maps[i],l=o.mapResult(t,n);if(l.recover!=null){let c=this.getMirror(i);if(c!=null&&c>i&&c<this.to){i=c,t=this._maps[c].recover(l.recover);continue}}a|=l.delInfo,t=l.pos}return r?t:new LP(t,a,null)}}const $C=Object.create(null);let Ms=class{getMap(){return Ma.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=$C[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in $C)throw new RangeError("Duplicate use of step JSON ID "+t);return $C[t]=n,n.prototype.jsonID=t,n}};class Er{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Er(t,null)}static fail(t){return new Er(null,t)}static fromReplace(t,n,r,a){try{return Er.ok(t.replace(n,r,a))}catch(i){if(i instanceof W0)return Er.fail(i.message);throw i}}}function DR(e,t,n){let r=[];for(let a=0;a<e.childCount;a++){let i=e.child(a);i.content.size&&(i=i.copy(DR(i.content,t,i))),i.isInline&&(i=t(i,n,a)),r.push(i)}return Ee.fromArray(r)}class Rc extends Ms{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),a=r.node(r.sharedDepth(this.to)),i=new ze(DR(n.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),a),n.openStart,n.openEnd);return Er.fromReplace(t,this.from,this.to,i)}invert(){return new Ki(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Rc(n.pos,r.pos,this.mark)}merge(t){return t instanceof Rc&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Rc(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Rc(n.from,n.to,t.markFromJSON(n.mark))}}Ms.jsonID("addMark",Rc);class Ki extends Ms{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new ze(DR(n.content,a=>a.mark(this.mark.removeFromSet(a.marks)),t),n.openStart,n.openEnd);return Er.fromReplace(t,this.from,this.to,r)}invert(){return new Rc(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ki(n.pos,r.pos,this.mark)}merge(t){return t instanceof Ki&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ki(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ki(n.from,n.to,t.markFromJSON(n.mark))}}Ms.jsonID("removeMark",Ki);class Dc extends Ms{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Er.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Er.fromReplace(t,this.pos,this.pos+1,new ze(Ee.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let a=0;a<n.marks.length;a++)if(!n.marks[a].isInSet(r))return new Dc(this.pos,n.marks[a]);return new Dc(this.pos,this.mark)}}return new yu(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Dc(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Dc(n.pos,t.markFromJSON(n.mark))}}Ms.jsonID("addNodeMark",Dc);class yu extends Ms{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Er.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Er.fromReplace(t,this.pos,this.pos+1,new ze(Ee.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Dc(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new yu(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new yu(n.pos,t.markFromJSON(n.mark))}}Ms.jsonID("removeNodeMark",yu);class Yr extends Ms{constructor(t,n,r,a=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=a}apply(t){return this.structure&&$P(t,this.from,this.to)?Er.fail("Structure replace would overwrite content"):Er.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Ma([this.from,this.to-this.from,this.slice.size])}invert(t){return new Yr(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Yr(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof Yr)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?ze.empty:new ze(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Yr(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?ze.empty:new ze(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Yr(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Yr(n.from,n.to,ze.fromJSON(t,n.slice),!!n.structure)}}Ms.jsonID("replace",Yr);class Zr extends Ms{constructor(t,n,r,a,i,o,l=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=a,this.slice=i,this.insert=o,this.structure=l}apply(t){if(this.structure&&($P(t,this.from,this.gapFrom)||$P(t,this.gapTo,this.to)))return Er.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Er.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Er.fromReplace(t,this.from,this.to,r):Er.fail("Content does not fit in gap")}getMap(){return new Ma([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Zr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),a=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||a<n.pos||i>r.pos?null:new Zr(n.pos,r.pos,a,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Zr(n.from,n.to,n.gapFrom,n.gapTo,ze.fromJSON(t,n.slice),n.insert,!!n.structure)}}Ms.jsonID("replaceAround",Zr);function $P(e,t,n){let r=e.resolve(t),a=n-t,i=r.depth;for(;a>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,a--;if(a>0){let o=r.node(i).maybeChild(r.indexAfter(i));for(;a>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,a--}}return!1}function vTe(e,t,n,r){let a=[],i=[],o,l;e.doc.nodesBetween(t,n,(c,u,f)=>{if(!c.isInline)return;let m=c.marks;if(!r.isInSet(m)&&f.type.allowsMarkType(r.type)){let p=Math.max(u,t),g=Math.min(u+c.nodeSize,n),v=r.addToSet(m);for(let y=0;y<m.length;y++)m[y].isInSet(v)||(o&&o.to==p&&o.mark.eq(m[y])?o.to=g:a.push(o=new Ki(p,g,m[y])));l&&l.to==p?l.to=g:i.push(l=new Rc(p,g,r))}}),a.forEach(c=>e.step(c)),i.forEach(c=>e.step(c))}function bTe(e,t,n,r){let a=[],i=0;e.doc.nodesBetween(t,n,(o,l)=>{if(!o.isInline)return;i++;let c=null;if(r instanceof TN){let u=o.marks,f;for(;f=r.isInSet(u);)(c||(c=[])).push(f),u=f.removeFromSet(u)}else r?r.isInSet(o.marks)&&(c=[r]):c=o.marks;if(c&&c.length){let u=Math.min(l+o.nodeSize,n);for(let f=0;f<c.length;f++){let m=c[f],p;for(let g=0;g<a.length;g++){let v=a[g];v.step==i-1&&m.eq(a[g].style)&&(p=v)}p?(p.to=u,p.step=i):a.push({style:m,from:Math.max(l,t),to:u,step:i})}}}),a.forEach(o=>e.step(new Ki(o.from,o.to,o.style)))}function IR(e,t,n,r=n.contentMatch,a=!0){let i=e.doc.nodeAt(t),o=[],l=t+1;for(let c=0;c<i.childCount;c++){let u=i.child(c),f=l+u.nodeSize,m=r.matchType(u.type);if(!m)o.push(new Yr(l,f,ze.empty));else{r=m;for(let p=0;p<u.marks.length;p++)n.allowsMarkType(u.marks[p].type)||e.step(new Ki(l,f,u.marks[p]));if(a&&u.isText&&n.whitespace!="pre"){let p,g=/\r?\n|\r/g,v;for(;p=g.exec(u.text);)v||(v=new ze(Ee.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),o.push(new Yr(l+p.index,l+p.index+p[0].length,v))}}l=f}if(!r.validEnd){let c=r.fillBefore(Ee.empty,!0);e.replace(l,l,new ze(c,0,0))}for(let c=o.length-1;c>=0;c--)e.step(o[c])}function jTe(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function gm(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth,a=0,i=0;;--r){let o=e.$from.node(r),l=e.$from.index(r)+a,c=e.$to.indexAfter(r)-i;if(r<e.depth&&o.canReplace(l,c,n))return r;if(r==0||o.type.spec.isolating||!jTe(o,l,c))break;l&&(a=1),c<o.childCount&&(i=1)}return null}function wTe(e,t,n){let{$from:r,$to:a,depth:i}=t,o=r.before(i+1),l=a.after(i+1),c=o,u=l,f=Ee.empty,m=0;for(let v=i,y=!1;v>n;v--)y||r.index(v)>0?(y=!0,f=Ee.from(r.node(v).copy(f)),m++):c--;let p=Ee.empty,g=0;for(let v=i,y=!1;v>n;v--)y||a.after(v+1)<a.end(v)?(y=!0,p=Ee.from(a.node(v).copy(p)),g++):u++;e.step(new Zr(c,u,o,l,new ze(f.append(p),m,g),f.size-m,!0))}function LR(e,t,n=null,r=e){let a=NTe(e,t),i=a&&STe(r,t);return i?a.map(HB).concat({type:t,attrs:n}).concat(i.map(HB)):null}function HB(e){return{type:e,attrs:null}}function NTe(e,t){let{parent:n,startIndex:r,endIndex:a}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let o=i.length?i[0]:t;return n.canReplaceWith(r,a,o)?i:null}function STe(e,t){let{parent:n,startIndex:r,endIndex:a}=e,i=n.child(r),o=t.contentMatch.findWrapping(i.type);if(!o)return null;let c=(o.length?o[o.length-1]:t).contentMatch;for(let u=r;c&&u<a;u++)c=c.matchType(n.child(u).type);return!c||!c.validEnd?null:o}function CTe(e,t,n){let r=Ee.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let l=n[o].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Ee.from(n[o].type.create(n[o].attrs,r))}let a=t.start,i=t.end;e.step(new Zr(a,i,a,i,new ze(r,0,0),n.length,!0))}function kTe(e,t,n,r,a){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,(o,l)=>{let c=typeof a=="function"?a(o):a;if(o.isTextblock&&!o.hasMarkup(r,c)&&TTe(e.doc,e.mapping.slice(i).map(l),r)){let u=null;if(r.schema.linebreakReplacement){let g=r.whitespace=="pre",v=!!r.contentMatch.matchType(r.schema.linebreakReplacement);g&&!v?u=!1:!g&&v&&(u=!0)}u===!1&&Cee(e,o,l,i),IR(e,e.mapping.slice(i).map(l,1),r,void 0,u===null);let f=e.mapping.slice(i),m=f.map(l,1),p=f.map(l+o.nodeSize,1);return e.step(new Zr(m,p,m+1,p-1,new ze(Ee.from(r.create(c,null,o.marks)),0,0),1,!0)),u===!0&&See(e,o,l,i),!1}})}function See(e,t,n,r){t.forEach((a,i)=>{if(a.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(a.text);){let c=e.mapping.slice(r).map(n+1+i+o.index);e.replaceWith(c,c+1,t.type.schema.linebreakReplacement.create())}}})}function Cee(e,t,n,r){t.forEach((a,i)=>{if(a.type==a.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+i);e.replaceWith(o,o+1,t.type.schema.text(`
`))}})}function TTe(e,t,n){let r=e.resolve(t),a=r.index();return r.parent.canReplaceWith(a,a+1,n)}function ATe(e,t,n,r,a){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let o=n.create(r,null,a||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,o);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Zr(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new ze(Ee.from(o),0,0),1,!0))}function Pl(e,t,n=1,r){let a=e.resolve(t),i=a.depth-n,o=r&&r[r.length-1]||a.parent;if(i<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!o.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let u=a.depth-1,f=n-2;u>i;u--,f--){let m=a.node(u),p=a.index(u);if(m.type.spec.isolating)return!1;let g=m.content.cutByIndex(p,m.childCount),v=r&&r[f+1];v&&(g=g.replaceChild(0,v.type.create(v.attrs)));let y=r&&r[f]||m;if(!m.canReplace(p+1,m.childCount)||!y.type.validContent(g))return!1}let l=a.indexAfter(i),c=r&&r[0];return a.node(i).canReplaceWith(l,l,c?c.type:a.node(i+1).type)}function ETe(e,t,n=1,r){let a=e.doc.resolve(t),i=Ee.empty,o=Ee.empty;for(let l=a.depth,c=a.depth-n,u=n-1;l>c;l--,u--){i=Ee.from(a.node(l).copy(i));let f=r&&r[u];o=Ee.from(f?f.type.create(f.attrs,o):a.node(l).copy(o))}e.step(new Yr(t,t,new ze(i.append(o),n,n),!0))}function rd(e,t){let n=e.resolve(t),r=n.index();return kee(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function OTe(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let a=0;a<t.childCount;a++){let i=t.child(a),o=i.type==r?e.type.schema.nodes.text:i.type;if(n=n.matchType(o),!n||!e.type.allowsMarks(i.marks))return!1}return n.validEnd}function kee(e,t){return!!(e&&t&&!e.isLeaf&&OTe(e,t))}function AN(e,t,n=-1){let r=e.resolve(t);for(let a=r.depth;;a--){let i,o,l=r.index(a);if(a==r.depth?(i=r.nodeBefore,o=r.nodeAfter):n>0?(i=r.node(a+1),l++,o=r.node(a).maybeChild(l)):(i=r.node(a).maybeChild(l-1),o=r.node(a+1)),i&&!i.isTextblock&&kee(i,o)&&r.node(a).canReplace(l,l+1))return t;if(a==0)break;t=n<0?r.before(a):r.after(a)}}function PTe(e,t,n){let r=null,{linebreakReplacement:a}=e.doc.type.schema,i=e.doc.resolve(t-n),o=i.node().type;if(a&&o.inlineContent){let f=o.whitespace=="pre",m=!!o.contentMatch.matchType(a);f&&!m?r=!1:!f&&m&&(r=!0)}let l=e.steps.length;if(r===!1){let f=e.doc.resolve(t+n);Cee(e,f.node(),f.before(),l)}o.inlineContent&&IR(e,t+n-1,o,i.node().contentMatchAt(i.index()),r==null);let c=e.mapping.slice(l),u=c.map(t-n);if(e.step(new Yr(u,c.map(t+n,-1),ze.empty,!0)),r===!0){let f=e.doc.resolve(u);See(e,f.node(),f.before(),e.steps.length)}return e}function MTe(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let a=r.depth-1;a>=0;a--){let i=r.index(a);if(r.node(a).canReplaceWith(i,i,n))return r.before(a+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let a=r.depth-1;a>=0;a--){let i=r.indexAfter(a);if(r.node(a).canReplaceWith(i,i,n))return r.after(a+1);if(i<r.node(a).childCount)return null}return null}function Tee(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let a=n.content;for(let i=0;i<n.openStart;i++)a=a.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let o=r.depth;o>=0;o--){let l=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,c=r.index(o)+(l>0?1:0),u=r.node(o),f=!1;if(i==1)f=u.canReplace(c,c,a);else{let m=u.contentMatchAt(c).findWrapping(a.firstChild.type);f=m&&u.canReplaceWith(c,c,m[0])}if(f)return l==0?r.pos:l<0?r.before(o+1):r.after(o+1)}return null}function EN(e,t,n=t,r=ze.empty){if(t==n&&!r.size)return null;let a=e.resolve(t),i=e.resolve(n);return Aee(a,i,r)?new Yr(t,n,r):new _Te(a,i,r).fit()}function Aee(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class _Te{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Ee.empty;for(let a=0;a<=t.depth;a++){let i=t.node(a);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(a))})}for(let a=t.depth;a>0;a--)this.placed=Ee.from(t.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,a=this.close(t<0?this.$to:r.doc.resolve(t));if(!a)return null;let i=this.placed,o=r.depth,l=a.depth;for(;o&&l&&i.childCount==1;)i=i.firstChild.content,o--,l--;let c=new ze(i,o,l);return t>-1?new Zr(r.pos,t,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new Yr(r.pos,a.pos,c):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,a=this.unplaced.openEnd;r<t;r++){let i=n.firstChild;if(n.childCount>1&&(a=0),i.type.spec.isolating&&a<=r){t=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let a,i=null;r?(i=FC(this.unplaced.content,r-1).firstChild,a=i.content):a=this.unplaced.content;let o=a.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:u}=this.frontier[l],f,m=null;if(n==1&&(o?u.matchType(o.type)||(m=u.fillBefore(Ee.from(o),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:l,parent:i,inject:m};if(n==2&&o&&(f=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:l,parent:i,wrap:f};if(i&&u.matchType(i.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,a=FC(t,n);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new ze(t,n+1,Math.max(r,a.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,a=FC(t,n);if(a.childCount<=1&&n>0){let i=t.size-n<=n+a.size;this.unplaced=new ze(nx(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new ze(nx(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:a,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let y=0;y<i.length;y++)this.openFrontierNode(i[y]);let o=this.unplaced,l=r?r.content:o.content,c=o.openStart-t,u=0,f=[],{match:m,type:p}=this.frontier[n];if(a){for(let y=0;y<a.childCount;y++)f.push(a.child(y));m=m.matchFragment(a)}let g=l.size+t-(o.content.size-o.openEnd);for(;u<l.childCount;){let y=l.child(u),w=m.matchType(y.type);if(!w)break;u++,(u>1||c==0||y.content.size)&&(m=w,f.push(Eee(y.mark(p.allowedMarks(y.marks)),u==1?c:0,u==l.childCount?g:-1)))}let v=u==l.childCount;v||(g=-1),this.placed=rx(this.placed,n,Ee.from(f)),this.frontier[n].match=m,v&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,w=l;y<g;y++){let N=w.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),w=N.content}this.unplaced=v?t==0?ze.empty:new ze(nx(o.content,t-1,1),t-1,g<0?o.openEnd:t-1):new ze(nx(o.content,t,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!BC(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,a=this.$to.after(r);for(;r>1&&a==this.$to.end(--r);)++a;return a}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:a}=this.frontier[n],i=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),o=BC(t,n,a,r,i);if(o){for(let l=n-1;l>=0;l--){let{match:c,type:u}=this.frontier[l],f=BC(t,l,u,c,!0);if(!f||f.childCount)continue e}return{depth:n,fit:o,move:i?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=rx(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let a=t.node(r),i=a.type.contentMatch.fillBefore(a.content,!0,t.index(r));this.openFrontierNode(a.type,a.attrs,i)}return t}openFrontierNode(t,n=null,r){let a=this.frontier[this.depth];a.match=a.match.matchType(t),this.placed=rx(this.placed,this.depth,Ee.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Ee.empty,!0);n.childCount&&(this.placed=rx(this.placed,this.frontier.length,n))}}function nx(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(nx(e.firstChild.content,t-1,n)))}function rx(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(rx(e.lastChild.content,t-1,n)))}function FC(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function Eee(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,Eee(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Ee.empty,!0)))),e.copy(r)}function BC(e,t,n,r,a){let i=e.node(t),o=a?e.indexAfter(t):e.index(t);if(o==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,o);return l&&!RTe(n,i.content,o)?l:null}function RTe(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function DTe(e){return e.spec.defining||e.spec.definingForContent}function ITe(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let a=e.doc.resolve(t),i=e.doc.resolve(n);if(Aee(a,i,r))return e.step(new Yr(t,n,r));let o=Pee(a,i);o[o.length-1]==0&&o.pop();let l=-(a.depth+1);o.unshift(l);for(let p=a.depth,g=a.pos-1;p>0;p--,g--){let v=a.node(p).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;o.indexOf(p)>-1?l=p:a.before(p)==g&&o.splice(1,0,-p)}let c=o.indexOf(l),u=[],f=r.openStart;for(let p=r.content,g=0;;g++){let v=p.firstChild;if(u.push(v),g==r.openStart)break;p=v.content}for(let p=f-1;p>=0;p--){let g=u[p],v=DTe(g.type);if(v&&!g.sameMarkup(a.node(Math.abs(l)-1)))f=p;else if(v||!g.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let g=(p+f+1)%(r.openStart+1),v=u[g];if(v)for(let y=0;y<o.length;y++){let w=o[(y+c)%o.length],N=!0;w<0&&(N=!1,w=-w);let A=a.node(w-1),T=a.index(w-1);if(A.canReplaceWith(T,T,v.type,v.marks))return e.replace(a.before(w),N?i.after(w):n,new ze(Oee(r.content,0,r.openStart,g),g,r.openEnd))}}let m=e.steps.length;for(let p=o.length-1;p>=0&&(e.replace(t,n,r),!(e.steps.length>m));p--){let g=o[p];g<0||(t=a.before(g),n=i.after(g))}}function Oee(e,t,n,r,a){if(t<n){let i=e.firstChild;e=e.replaceChild(0,i.copy(Oee(i.content,t+1,n,r,i)))}if(t>r){let i=a.contentMatchAt(0),o=i.fillBefore(e).append(e);e=o.append(i.matchFragment(o).fillBefore(Ee.empty,!0))}return e}function LTe(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let a=MTe(e.doc,t,r.type);a!=null&&(t=n=a)}e.replaceRange(t,n,new ze(Ee.from(r),0,0))}function $Te(e,t,n){let r=e.doc.resolve(t),a=e.doc.resolve(n),i=Pee(r,a);for(let o=0;o<i.length;o++){let l=i[o],c=o==i.length-1;if(c&&l==0||r.node(l).type.contentMatch.validEnd)return e.delete(r.start(l),a.end(l));if(l>0&&(c||r.node(l-1).canReplace(r.index(l-1),a.indexAfter(l-1))))return e.delete(r.before(l),a.after(l))}for(let o=1;o<=r.depth&&o<=a.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&a.end(o)-n!=a.depth-o&&r.start(o-1)==a.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),a.index(o-1)))return e.delete(r.before(o),n);e.delete(t,n)}function Pee(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let a=r;a>=0;a--){let i=e.start(a);if(i<e.pos-(e.depth-a)||t.end(a)>t.pos+(t.depth-a)||e.node(a).type.spec.isolating||t.node(a).type.spec.isolating)break;(i==t.start(a)||a==e.depth&&a==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&a&&t.start(a-1)==i-1)&&n.push(a)}return n}class ih extends Ms{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return Er.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let a=n.type.create(r,null,n.marks);return Er.fromReplace(t,this.pos,this.pos+1,new ze(Ee.from(a),0,n.isLeaf?0:1))}getMap(){return Ma.empty}invert(t){return new ih(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new ih(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ih(n.pos,n.attr,n.value)}}Ms.jsonID("attr",ih);class rg extends Ms{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let a in t.attrs)n[a]=t.attrs[a];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return Er.ok(r)}getMap(){return Ma.empty}invert(t){return new rg(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new rg(n.attr,n.value)}}Ms.jsonID("docAttr",rg);let Nh=class extends Error{};Nh=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Nh.prototype=Object.create(Error.prototype);Nh.prototype.constructor=Nh;Nh.prototype.name="TransformError";class Mee{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new ng}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Nh(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}changedRange(){let t=1e9,n=-1e9;for(let r=0;r<this.mapping.maps.length;r++){let a=this.mapping.maps[r];r&&(t=a.map(t,1),n=a.map(n,-1)),a.forEach((i,o,l,c)=>{t=Math.min(t,l),n=Math.max(n,c)})}return t==1e9?null:{from:t,to:n}}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=ze.empty){let a=EN(this.doc,t,n,r);return a&&this.step(a),this}replaceWith(t,n,r){return this.replace(t,n,new ze(Ee.from(r),0,0))}delete(t,n){return this.replace(t,n,ze.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return ITe(this,t,n,r),this}replaceRangeWith(t,n,r){return LTe(this,t,n,r),this}deleteRange(t,n){return $Te(this,t,n),this}lift(t,n){return wTe(this,t,n),this}join(t,n=1){return PTe(this,t,n),this}wrap(t,n){return CTe(this,t,n),this}setBlockType(t,n=t,r,a=null){return kTe(this,t,n,r,a),this}setNodeMarkup(t,n,r=null,a){return ATe(this,t,n,r,a),this}setNodeAttribute(t,n,r){return this.step(new ih(t,n,r)),this}setDocAttribute(t,n){return this.step(new rg(t,n)),this}addNodeMark(t,n){return this.step(new Dc(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof Cn)n.isInSet(r.marks)&&this.step(new yu(t,n));else{let a=r.marks,i,o=[];for(;i=n.isInSet(a);)o.push(new yu(t,i)),a=i.removeFromSet(a);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(t,n=1,r){return ETe(this,t,n,r),this}addMark(t,n,r){return vTe(this,t,n,r),this}removeMark(t,n,r){return bTe(this,t,n,r),this}clearIncompatible(t,n,r){return IR(this,t,n,r),this}}const zC=Object.create(null);class pt{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new _ee(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=ze.empty){let r=n.content.lastChild,a=null;for(let l=0;l<n.openEnd;l++)a=r,r=r.lastChild;let i=t.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:c,$to:u}=o[l],f=t.mapping.slice(i);t.replaceRange(f.map(c.pos),f.map(u.pos),l?ze.empty:n),l==0&&GB(t,i,(r?r.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,a=this.ranges;for(let i=0;i<a.length;i++){let{$from:o,$to:l}=a[i],c=t.mapping.slice(r),u=c.map(o.pos),f=c.map(l.pos);i?t.deleteRange(u,f):(t.replaceRangeWith(u,f,n),GB(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let a=t.parent.inlineContent?new yt(t):$f(t.node(0),t.parent,t.pos,t.index(),n,r);if(a)return a;for(let i=t.depth-1;i>=0;i--){let o=n<0?$f(t.node(0),t.node(i),t.before(i+1),t.index(i),n,r):$f(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,n,r);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Fa(t.node(0))}static atStart(t){return $f(t,t,0,0,1)||new Fa(t)}static atEnd(t){return $f(t,t,t.content.size,t.childCount,-1)||new Fa(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=zC[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in zC)throw new RangeError("Duplicate use of selection JSON ID "+t);return zC[t]=n,n.prototype.jsonID=t,n}getBookmark(){return yt.between(this.$anchor,this.$head).getBookmark()}}pt.prototype.visible=!0;class _ee{constructor(t,n){this.$from=t,this.$to=n}}let KB=!1;function WB(e){!KB&&!e.parent.inlineContent&&(KB=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class yt extends pt{constructor(t,n=t){WB(t),WB(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return pt.near(r);let a=t.resolve(n.map(this.anchor));return new yt(a.parent.inlineContent?a:r,r)}replace(t,n=ze.empty){if(super.replace(t,n),n==ze.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof yt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new ON(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new yt(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let a=t.resolve(n);return new this(a,r==n?a:t.resolve(r))}static between(t,n,r){let a=t.pos-n.pos;if((!r||a)&&(r=a>=0?1:-1),!n.parent.inlineContent){let i=pt.findFrom(n,r,!0)||pt.findFrom(n,-r,!0);if(i)n=i.$head;else return pt.near(n,r)}return t.parent.inlineContent||(a==0?t=n:(t=(pt.findFrom(t,-r,!0)||pt.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=a<0&&(t=n))),new yt(t,n)}}pt.jsonID("text",yt);class ON{constructor(t,n){this.anchor=t,this.head=n}map(t){return new ON(t.map(this.anchor),t.map(this.head))}resolve(t){return yt.between(t.resolve(this.anchor),t.resolve(this.head))}}class tt extends pt{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:a}=n.mapResult(this.anchor),i=t.resolve(a);return r?pt.near(i):new tt(i)}content(){return new ze(Ee.from(this.node),0,0)}eq(t){return t instanceof tt&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new $R(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new tt(t.resolve(n.anchor))}static create(t,n){return new tt(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}tt.prototype.visible=!1;pt.jsonID("node",tt);class $R{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new ON(r,r):new $R(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&tt.isSelectable(r)?new tt(n):pt.near(n)}}class Fa extends pt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=ze.empty){if(n==ze.empty){t.delete(0,t.doc.content.size);let r=pt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Fa(t)}map(t){return new Fa(t)}eq(t){return t instanceof Fa}getBookmark(){return FTe}}pt.jsonID("all",Fa);const FTe={map(){return this},resolve(e){return new Fa(e)}};function $f(e,t,n,r,a,i=!1){if(t.inlineContent)return yt.create(e,n);for(let o=r-(a>0?0:1);a>0?o<t.childCount:o>=0;o+=a){let l=t.child(o);if(l.isAtom){if(!i&&tt.isSelectable(l))return tt.create(e,n-(a<0?l.nodeSize:0))}else{let c=$f(e,l,n+a,a<0?l.childCount:0,a,i);if(c)return c}n+=l.nodeSize*a}return null}function GB(e,t,n){let r=e.steps.length-1;if(r<t)return;let a=e.steps[r];if(!(a instanceof Yr||a instanceof Zr))return;let i=e.mapping.maps[r],o;i.forEach((l,c,u,f)=>{o==null&&(o=f)}),e.setSelection(pt.near(e.doc.resolve(o),n))}const YB=1,hb=2,XB=4;class BTe extends Mee{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|YB)&~hb,this.storedMarks=null,this}get selectionSet(){return(this.updated&YB)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=hb,this}ensureMarks(t){return Cn.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&hb)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~hb,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Cn.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let a=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(a.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),!t)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let o=this.doc.resolve(n);i=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,a.text(t,i)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection(pt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=XB,this}get scrolledIntoView(){return(this.updated&XB)>0}}function QB(e,t){return!t||!e?e:e.bind(t)}class sx{constructor(t,n,r){this.name=t,this.init=QB(n.init,r),this.apply=QB(n.apply,r)}}const zTe=[new sx("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new sx("selection",{init(e,t){return e.selection||pt.atStart(t.doc)},apply(e){return e.selection}}),new sx("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new sx("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class qC{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=zTe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new sx(r.key,r.spec.state,r))})}}class Wf{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let a=this.config.plugins[r];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),a=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let c=a?a[o].n:0,u=a?a[o].state:this,f=c<n.length&&l.spec.appendTransaction.call(l,c?n.slice(c):n,u,r);if(f&&r.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",t),!a){a=[];for(let m=0;m<this.config.plugins.length;m++)a.push(m<o?{state:r,n:n.length}:{state:this,n:0})}n.push(f),r=r.applyInner(f),i=!0}a&&(a[o]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Wf(this.config),r=this.config.fields;for(let a=0;a<r.length;a++){let i=r[a];n[i.name]=i.apply(t,this[i.name],this,n)}return n}get tr(){return new BTe(this)}static create(t){let n=new qC(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Wf(n);for(let a=0;a<n.fields.length;a++)r[n.fields[a].name]=n.fields[a].init(t,r);return r}reconfigure(t){let n=new qC(this.schema,t.plugins),r=n.fields,a=new Wf(n);for(let i=0;i<r.length;i++){let o=r[i].name;a[o]=this.hasOwnProperty(o)?this[o]:r[i].init(t,a)}return a}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let a=t[r],i=a.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(a,this[a.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let a=new qC(t.schema,t.plugins),i=new Wf(a);return a.fields.forEach(o=>{if(o.name=="doc")i.doc=$c.fromJSON(t.schema,n.doc);else if(o.name=="selection")i.selection=pt.fromJSON(i.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let l in r){let c=r[l],u=c.spec.state;if(c.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[o.name]=u.fromJSON.call(c,t,n[l],i);return}}i[o.name]=o.init(t,i)}}),i}}function Ree(e,t,n){for(let r in e){let a=e[r];a instanceof Function?a=a.bind(t):r=="handleDOMEvents"&&(a=Ree(a,t,{})),n[r]=a}return n}class Bn{constructor(t){this.spec=t,this.props={},t.props&&Ree(t.props,this,this.props),this.key=t.key?t.key.key:Dee("plugin")}getState(t){return t[this.key]}}const UC=Object.create(null);function Dee(e){return e in UC?e+"$"+ ++UC[e]:(UC[e]=0,e+"$")}class Qn{constructor(t="key"){this.key=Dee(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const FR=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function Iee(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const Lee=(e,t,n)=>{let r=Iee(e,n);if(!r)return!1;let a=BR(r);if(!a){let o=r.blockRange(),l=o&&gm(o);return l==null?!1:(t&&t(e.tr.lift(o,l).scrollIntoView()),!0)}let i=a.nodeBefore;if(Kee(e,a,t,-1))return!0;if(r.parent.content.size==0&&(Sh(i,"end")||tt.isSelectable(i)))for(let o=r.depth;;o--){let l=EN(e.doc,r.before(o),r.after(o),ze.empty);if(l&&l.slice.size<l.to-l.from){if(t){let c=e.tr.step(l);c.setSelection(Sh(i,"end")?pt.findFrom(c.doc.resolve(c.mapping.map(a.pos,-1)),-1):tt.create(c.doc,a.pos-i.nodeSize)),t(c.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return i.isAtom&&a.depth==r.depth-1?(t&&t(e.tr.delete(a.pos-i.nodeSize,a.pos).scrollIntoView()),!0):!1},qTe=(e,t,n)=>{let r=Iee(e,n);if(!r)return!1;let a=BR(r);return a?$ee(e,a,t):!1},UTe=(e,t,n)=>{let r=Bee(e,n);if(!r)return!1;let a=zR(r);return a?$ee(e,a,t):!1};function $ee(e,t,n){let r=t.nodeBefore,a=r,i=t.pos-1;for(;!a.isTextblock;i--){if(a.type.spec.isolating)return!1;let f=a.lastChild;if(!f)return!1;a=f}let o=t.nodeAfter,l=o,c=t.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let f=l.firstChild;if(!f)return!1;l=f}let u=EN(e.doc,i,c,ze.empty);if(!u||u.from!=i||u instanceof Yr&&u.slice.size>=c-i)return!1;if(n){let f=e.tr.step(u);f.setSelection(yt.create(f.doc,i)),n(f.scrollIntoView())}return!0}function Sh(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Fee=(e,t,n)=>{let{$head:r,empty:a}=e.selection,i=r;if(!a)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=BR(r)}let o=i&&i.nodeBefore;return!o||!tt.isSelectable(o)?!1:(t&&t(e.tr.setSelection(tt.create(e.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function BR(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Bee(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const zee=(e,t,n)=>{let r=Bee(e,n);if(!r)return!1;let a=zR(r);if(!a)return!1;let i=a.nodeAfter;if(Kee(e,a,t,1))return!0;if(r.parent.content.size==0&&(Sh(i,"start")||tt.isSelectable(i))){let o=EN(e.doc,r.before(),r.after(),ze.empty);if(o&&o.slice.size<o.to-o.from){if(t){let l=e.tr.step(o);l.setSelection(Sh(i,"start")?pt.findFrom(l.doc.resolve(l.mapping.map(a.pos)),1):tt.create(l.doc,l.mapping.map(a.pos))),t(l.scrollIntoView())}return!0}}return i.isAtom&&a.depth==r.depth-1?(t&&t(e.tr.delete(a.pos,a.pos+i.nodeSize).scrollIntoView()),!0):!1},qee=(e,t,n)=>{let{$head:r,empty:a}=e.selection,i=r;if(!a)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=zR(r)}let o=i&&i.nodeAfter;return!o||!tt.isSelectable(o)?!1:(t&&t(e.tr.setSelection(tt.create(e.doc,i.pos)).scrollIntoView()),!0)};function zR(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const VTe=(e,t)=>{let n=e.selection,r=n instanceof tt,a;if(r){if(n.node.isTextblock||!rd(e.doc,n.from))return!1;a=n.from}else if(a=AN(e.doc,n.from,-1),a==null)return!1;if(t){let i=e.tr.join(a);r&&i.setSelection(tt.create(i.doc,a-e.doc.resolve(a).nodeBefore.nodeSize)),t(i.scrollIntoView())}return!0},HTe=(e,t)=>{let n=e.selection,r;if(n instanceof tt){if(n.node.isTextblock||!rd(e.doc,n.to))return!1;r=n.to}else if(r=AN(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},KTe=(e,t)=>{let{$from:n,$to:r}=e.selection,a=n.blockRange(r),i=a&&gm(a);return i==null?!1:(t&&t(e.tr.lift(a,i).scrollIntoView()),!0)},Uee=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function qR(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const WTe=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let a=n.node(-1),i=n.indexAfter(-1),o=qR(a.contentMatchAt(i));if(!o||!a.canReplaceWith(i,i,o))return!1;if(t){let l=n.after(),c=e.tr.replaceWith(l,l,o.createAndFill());c.setSelection(pt.near(c.doc.resolve(l),1)),t(c.scrollIntoView())}return!0},Vee=(e,t)=>{let n=e.selection,{$from:r,$to:a}=n;if(n instanceof Fa||r.parent.inlineContent||a.parent.inlineContent)return!1;let i=qR(a.parent.contentMatchAt(a.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let o=(!r.parentOffset&&a.index()<a.parent.childCount?r:a).pos,l=e.tr.insert(o,i.createAndFill());l.setSelection(yt.create(l.doc,o+1)),t(l.scrollIntoView())}return!0},Hee=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Pl(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),a=r&&gm(r);return a==null?!1:(t&&t(e.tr.lift(r,a).scrollIntoView()),!0)};function GTe(e){return(t,n)=>{let{$from:r,$to:a}=t.selection;if(t.selection instanceof tt&&t.selection.node.isBlock)return!r.parentOffset||!Pl(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],o,l,c=!1,u=!1;for(let g=r.depth;;g--)if(r.node(g).isBlock){c=r.end(g)==r.pos+(r.depth-g),u=r.start(g)==r.pos-(r.depth-g),l=qR(r.node(g-1).contentMatchAt(r.indexAfter(g-1))),i.unshift(c&&l?{type:l}:null),o=g;break}else{if(g==1)return!1;i.unshift(null)}let f=t.tr;(t.selection instanceof yt||t.selection instanceof Fa)&&f.deleteSelection();let m=f.mapping.map(r.pos),p=Pl(f.doc,m,i.length,i);if(p||(i[0]=l?{type:l}:null,p=Pl(f.doc,m,i.length,i)),!p)return!1;if(f.split(m,i.length,i),!c&&u&&r.node(o).type!=l){let g=f.mapping.map(r.before(o)),v=f.doc.resolve(g);l&&r.node(o-1).canReplaceWith(v.index(),v.index()+1,l)&&f.setNodeMarkup(f.mapping.map(r.before(o)),l)}return n&&n(f.scrollIntoView()),!0}}const YTe=GTe(),XTe=(e,t)=>{let{$from:n,to:r}=e.selection,a,i=n.sharedDepth(r);return i==0?!1:(a=n.before(i),t&&t(e.tr.setSelection(tt.create(e.doc,a))),!0)};function QTe(e,t,n){let r=t.nodeBefore,a=t.nodeAfter,i=t.index();return!r||!a||!r.type.compatibleContent(a.type)?!1:!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(i,i+1)||!(a.isTextblock||rd(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function Kee(e,t,n,r){let a=t.nodeBefore,i=t.nodeAfter,o,l,c=a.type.spec.isolating||i.type.spec.isolating;if(!c&&QTe(e,t,n))return!0;let u=!c&&t.parent.canReplace(t.index(),t.index()+1);if(u&&(o=(l=a.contentMatchAt(a.childCount)).findWrapping(i.type))&&l.matchType(o[0]||i.type).validEnd){if(n){let g=t.pos+i.nodeSize,v=Ee.empty;for(let N=o.length-1;N>=0;N--)v=Ee.from(o[N].create(null,v));v=Ee.from(a.copy(v));let y=e.tr.step(new Zr(t.pos-1,g,t.pos,g,new ze(v,1,0),o.length,!0)),w=y.doc.resolve(g+2*o.length);w.nodeAfter&&w.nodeAfter.type==a.type&&rd(y.doc,w.pos)&&y.join(w.pos),n(y.scrollIntoView())}return!0}let f=i.type.spec.isolating||r>0&&c?null:pt.findFrom(t,1),m=f&&f.$from.blockRange(f.$to),p=m&&gm(m);if(p!=null&&p>=t.depth)return n&&n(e.tr.lift(m,p).scrollIntoView()),!0;if(u&&Sh(i,"start",!0)&&Sh(a,"end")){let g=a,v=[];for(;v.push(g),!g.isTextblock;)g=g.lastChild;let y=i,w=1;for(;!y.isTextblock;y=y.firstChild)w++;if(g.canReplace(g.childCount,g.childCount,y.content)){if(n){let N=Ee.empty;for(let T=v.length-1;T>=0;T--)N=Ee.from(v[T].copy(N));let A=e.tr.step(new Zr(t.pos-v.length,t.pos+i.nodeSize,t.pos+w,t.pos+i.nodeSize-w,new ze(N,v.length,0),0,!0));n(A.scrollIntoView())}return!0}}return!1}function Wee(e){return function(t,n){let r=t.selection,a=e<0?r.$from:r.$to,i=a.depth;for(;a.node(i).isInline;){if(!i)return!1;i--}return a.node(i).isTextblock?(n&&n(t.tr.setSelection(yt.create(t.doc,e<0?a.start(i):a.end(i)))),!0):!1}}const JTe=Wee(-1),ZTe=Wee(1);function eAe(e,t=null){return function(n,r){let{$from:a,$to:i}=n.selection,o=a.blockRange(i),l=o&&LR(o,e,t);return l?(r&&r(n.tr.wrap(o,l).scrollIntoView()),!0):!1}}function JB(e,t=null){return function(n,r){let a=!1;for(let i=0;i<n.selection.ranges.length&&!a;i++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(o,l,(c,u)=>{if(a)return!1;if(!(!c.isTextblock||c.hasMarkup(e,t)))if(c.type==e)a=!0;else{let f=n.doc.resolve(u),m=f.index();a=f.parent.canReplaceWith(m,m+1,e)}})}if(!a)return!1;if(r){let i=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[o];i.setBlockType(l,c,e,t)}r(i.scrollIntoView())}return!0}}function UR(...e){return function(t,n,r){for(let a=0;a<e.length;a++)if(e[a](t,n,r))return!0;return!1}}UR(FR,Lee,Fee);UR(FR,zee,qee);UR(Uee,Vee,Hee,YTe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function tAe(e,t=null){return function(n,r){let{$from:a,$to:i}=n.selection,o=a.blockRange(i);if(!o)return!1;let l=r?n.tr:null;return nAe(l,o,e,t)?(r&&r(l.scrollIntoView()),!0):!1}}function nAe(e,t,n,r=null){let a=!1,i=t,o=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let c=o.resolve(t.start-2);i=new Y0(c,c,t.depth),t.endIndex<t.parent.childCount&&(t=new Y0(t.$from,o.resolve(t.$to.end(t.depth)),t.depth)),a=!0}let l=LR(i,n,r,t);return l?(e&&rAe(e,t,l,a,n),!0):!1}function rAe(e,t,n,r,a){let i=Ee.empty;for(let f=n.length-1;f>=0;f--)i=Ee.from(n[f].type.create(n[f].attrs,i));e.step(new Zr(t.start-(r?2:0),t.end,t.start,t.end,new ze(i,0,0),n.length,!0));let o=0;for(let f=0;f<n.length;f++)n[f].type==a&&(o=f+1);let l=n.length-o,c=t.start+n.length-(r?2:0),u=t.parent;for(let f=t.startIndex,m=t.endIndex,p=!0;f<m;f++,p=!1)!p&&Pl(e.doc,c,l)&&(e.split(c,l),c+=2*l),c+=u.child(f).nodeSize;return e}function sAe(e){return function(t,n){let{$from:r,$to:a}=t.selection,i=r.blockRange(a,o=>o.childCount>0&&o.firstChild.type==e);return i?n?r.node(i.depth-1).type==e?aAe(t,n,e,i):iAe(t,n,i):!0:!1}}function aAe(e,t,n,r){let a=e.tr,i=r.end,o=r.$to.end(r.depth);i<o&&(a.step(new Zr(i-1,o,i,o,new ze(Ee.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Y0(a.doc.resolve(r.$from.pos),a.doc.resolve(o),r.depth));const l=gm(r);if(l==null)return!1;a.lift(r,l);let c=a.doc.resolve(a.mapping.map(i,-1)-1);return rd(a.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&a.join(c.pos),t(a.scrollIntoView()),!0}function iAe(e,t,n){let r=e.tr,a=n.parent;for(let g=n.end,v=n.endIndex-1,y=n.startIndex;v>y;v--)g-=a.child(v).nodeSize,r.delete(g-1,g+1);let i=r.doc.resolve(n.start),o=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,c=n.endIndex==a.childCount,u=i.node(-1),f=i.index(-1);if(!u.canReplace(f+(l?0:1),f+1,o.content.append(c?Ee.empty:Ee.from(a))))return!1;let m=i.pos,p=m+o.nodeSize;return r.step(new Zr(m-(l?1:0),p+(c?1:0),m+1,p-1,new ze((l?Ee.empty:Ee.from(a.copy(Ee.empty))).append(c?Ee.empty:Ee.from(a.copy(Ee.empty))),l?0:1,c?0:1),l?0:1)),t(r.scrollIntoView()),!0}function oAe(e){return function(t,n){let{$from:r,$to:a}=t.selection,i=r.blockRange(a,u=>u.childCount>0&&u.firstChild.type==e);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let l=i.parent,c=l.child(o-1);if(c.type!=e)return!1;if(n){let u=c.lastChild&&c.lastChild.type==l.type,f=Ee.from(u?e.create():null),m=new ze(Ee.from(e.create(null,Ee.from(l.type.create(null,f)))),u?3:1,0),p=i.start,g=i.end;n(t.tr.step(new Zr(p-(u?3:1),g,p,g,m,1,!0)).scrollIntoView())}return!0}}const xs=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Ch=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let FP=null;const bl=function(e,t,n){let r=FP||(FP=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},lAe=function(){FP=null},vu=function(e,t,n,r){return n&&(ZB(e,t,n,r,-1)||ZB(e,t,n,r,1))},cAe=/^(img|br|input|textarea|hr)$/i;function ZB(e,t,n,r,a){for(var i;;){if(e==n&&t==r)return!0;if(t==(a<0?0:hi(e))){let o=e.parentNode;if(!o||o.nodeType!=1||my(e)||cAe.test(e.nodeName)||e.contentEditable=="false")return!1;t=xs(e)+(a<0?0:1),e=o}else if(e.nodeType==1){let o=e.childNodes[t+(a<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((i=o.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)t+=a;else return!1;else e=o,t=a<0?hi(e):0}else return!1}}function hi(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function dAe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=hi(e)}else if(e.parentNode&&!my(e))t=xs(e),e=e.parentNode;else return null}}function uAe(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!my(e))t=xs(e)+1,e=e.parentNode;else return null}}function fAe(e,t,n){for(let r=t==0,a=t==hi(e);r||a;){if(e==n)return!0;let i=xs(e);if(e=e.parentNode,!e)return!1;r=r&&i==0,a=a&&i==hi(e)}}function my(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const PN=function(e){return e.focusNode&&vu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Bd(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function hAe(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function mAe(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(hi(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(hi(r.startContainer),r.startOffset)}}}const $o=typeof navigator<"u"?navigator:null,ez=typeof document<"u"?document:null,sd=$o&&$o.userAgent||"",BP=/Edge\/(\d+)/.exec(sd),Gee=/MSIE \d/.exec(sd),zP=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(sd),ma=!!(Gee||zP||BP),Bc=Gee?document.documentMode:zP?+zP[1]:BP?+BP[1]:0,bi=!ma&&/gecko\/(\d+)/i.test(sd);bi&&+(/Firefox\/(\d+)/.exec(sd)||[0,0])[1];const qP=!ma&&/Chrome\/(\d+)/.exec(sd),Jr=!!qP,Yee=qP?+qP[1]:0,ys=!ma&&!!$o&&/Apple Computer/.test($o.vendor),kh=ys&&(/Mobile\/\w+/.test(sd)||!!$o&&$o.maxTouchPoints>2),ui=kh||($o?/Mac/.test($o.platform):!1),Xee=$o?/Win/.test($o.platform):!1,Cl=/Android \d/.test(sd),py=!!ez&&"webkitFontSmoothing"in ez.documentElement.style,pAe=py?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function xAe(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function ml(e,t){return typeof e=="number"?e:e[t]}function gAe(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function tz(e,t,n){let r=e.someProp("scrollThreshold")||0,a=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let o=n||e.dom;o;){if(o.nodeType!=1){o=Ch(o);continue}let l=o,c=l==i.body,u=c?xAe(i):gAe(l),f=0,m=0;if(t.top<u.top+ml(r,"top")?m=-(u.top-t.top+ml(a,"top")):t.bottom>u.bottom-ml(r,"bottom")&&(m=t.bottom-t.top>u.bottom-u.top?t.top+ml(a,"top")-u.top:t.bottom-u.bottom+ml(a,"bottom")),t.left<u.left+ml(r,"left")?f=-(u.left-t.left+ml(a,"left")):t.right>u.right-ml(r,"right")&&(f=t.right-u.right+ml(a,"right")),f||m)if(c)i.defaultView.scrollBy(f,m);else{let g=l.scrollLeft,v=l.scrollTop;m&&(l.scrollTop+=m),f&&(l.scrollLeft+=f);let y=l.scrollLeft-g,w=l.scrollTop-v;t={left:t.left-y,top:t.top-w,right:t.right-y,bottom:t.bottom-w}}let p=c?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(p))break;o=p=="absolute"?o.offsetParent:Ch(o)}}function yAe(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,a;for(let i=(t.left+t.right)/2,o=n+1;o<Math.min(innerHeight,t.bottom);o+=5){let l=e.root.elementFromPoint(i,o);if(!l||l==e.dom||!e.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=n-20){r=l,a=c.top;break}}return{refDOM:r,refTop:a,stack:Qee(e.dom)}}function Qee(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Ch(r));return t}function vAe({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;Jee(n,r==0?0:r-t)}function Jee(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:a,left:i}=e[n];r.scrollTop!=a+t&&(r.scrollTop=a+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Pf=null;function bAe(e){if(e.setActive)return e.setActive();if(Pf)return e.focus(Pf);let t=Qee(e);e.focus(Pf==null?{get preventScroll(){return Pf={preventScroll:!0},!0}}:void 0),Pf||(Pf=!1,Jee(t,0))}function Zee(e,t){let n,r=2e8,a,i=0,o=t.top,l=t.top,c,u;for(let f=e.firstChild,m=0;f;f=f.nextSibling,m++){let p;if(f.nodeType==1)p=f.getClientRects();else if(f.nodeType==3)p=bl(f).getClientRects();else continue;for(let g=0;g<p.length;g++){let v=p[g];if(v.top<=o&&v.bottom>=l){o=Math.max(v.bottom,o),l=Math.min(v.top,l);let y=v.left>t.left?v.left-t.left:v.right<t.left?t.left-v.right:0;if(y<r){n=f,r=y,a=y&&n.nodeType==3?{left:v.right<t.left?v.right:v.left,top:t.top}:t,f.nodeType==1&&y&&(i=m+(t.left>=(v.left+v.right)/2?1:0));continue}}else v.top>t.top&&!c&&v.left<=t.left&&v.right>=t.left&&(c=f,u={left:Math.max(v.left,Math.min(v.right,t.left)),top:v.top});!n&&(t.left>=v.right&&t.top>=v.top||t.left>=v.left&&t.top>=v.bottom)&&(i=m+1)}}return!n&&c&&(n=c,a=u,r=0),n&&n.nodeType==3?jAe(n,a):!n||r&&n.nodeType==1?{node:e,offset:i}:Zee(n,a)}function jAe(e,t){let n=e.nodeValue.length,r=document.createRange(),a;for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let o=kc(r,1);if(o.top!=o.bottom&&VR(t,o)){a={node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)};break}}return r.detach(),a||{node:e,offset:0}}function VR(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function wAe(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function NAe(e,t,n){let{node:r,offset:a}=Zee(t,n),i=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();i=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return e.docView.posFromDOM(r,a,i)}function SAe(e,t,n,r){let a=-1;for(let i=t,o=!1;i!=e.dom;){let l=e.docView.nearestDesc(i,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!o&&c.left>r.left||c.top>r.top?a=l.posBefore:(!o&&c.right<r.left||c.bottom<r.top)&&(a=l.posAfter),o=!0),!l.contentDOM&&a<0&&!l.node.isText))return(l.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return a>-1?a:e.docView.posFromDOM(t,n,-1)}function ete(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let a=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=a;;){let o=e.childNodes[i];if(o.nodeType==1){let l=o.getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(VR(t,u))return ete(o,t,u)}}if((i=(i+1)%r)==a)break}return e}function CAe(e,t){let n=e.dom.ownerDocument,r,a=0,i=mAe(n,t.left,t.top);i&&({node:r,offset:a}=i);let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),l;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=e.dom.getBoundingClientRect();if(!VR(t,u)||(o=ete(e.dom,t,u),!o))return null}if(ys)for(let u=o;r&&u;u=Ch(u))u.draggable&&(r=void 0);if(o=wAe(o,t),r){if(bi&&r.nodeType==1&&(a=Math.min(a,r.childNodes.length),a<r.childNodes.length)){let f=r.childNodes[a],m;f.nodeName=="IMG"&&(m=f.getBoundingClientRect()).right<=t.left&&m.bottom>t.top&&a++}let u;py&&a&&r.nodeType==1&&(u=r.childNodes[a-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=t.top&&a--,r==e.dom&&a==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?l=e.state.doc.content.size:(a==0||r.nodeType!=1||r.childNodes[a-1].nodeName!="BR")&&(l=SAe(e,r,a,t))}l==null&&(l=NAe(e,o,t));let c=e.docView.nearestDesc(o,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function nz(e){return e.top<e.bottom||e.left<e.right}function kc(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(nz(r))return r}return Array.prototype.find.call(n,nz)||e.getBoundingClientRect()}const kAe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function tte(e,t,n){let{node:r,offset:a,atom:i}=e.docView.domFromPos(t,n<0?-1:1),o=py||bi;if(r.nodeType==3)if(o&&(kAe.test(r.nodeValue)||(n<0?!a:a==r.nodeValue.length))){let c=kc(bl(r,a,a),n);if(bi&&a&&/\s/.test(r.nodeValue[a-1])&&a<r.nodeValue.length){let u=kc(bl(r,a-1,a-1),-1);if(u.top==c.top){let f=kc(bl(r,a,a+1),-1);if(f.top!=c.top)return Pp(f,f.left<u.left)}}return c}else{let c=a,u=a,f=n<0?1:-1;return n<0&&!a?(u++,f=-1):n>=0&&a==r.nodeValue.length?(c--,f=1):n<0?c--:u++,Pp(kc(bl(r,c,u),f),f<0)}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(i==null&&a&&(n<0||a==hi(r))){let c=r.childNodes[a-1];if(c.nodeType==1)return VC(c.getBoundingClientRect(),!1)}if(i==null&&a<hi(r)){let c=r.childNodes[a];if(c.nodeType==1)return VC(c.getBoundingClientRect(),!0)}return VC(r.getBoundingClientRect(),n>=0)}if(i==null&&a&&(n<0||a==hi(r))){let c=r.childNodes[a-1],u=c.nodeType==3?bl(c,hi(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(u)return Pp(kc(u,1),!1)}if(i==null&&a<hi(r)){let c=r.childNodes[a];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let u=c?c.nodeType==3?bl(c,0,o?0:1):c.nodeType==1?c:null:null;if(u)return Pp(kc(u,-1),!0)}return Pp(kc(r.nodeType==3?bl(r):r,-n),n>=0)}function Pp(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function VC(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function nte(e,t,n){let r=e.state,a=e.root.activeElement;r!=t&&e.updateState(t),a!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),a!=e.dom&&a&&a.focus()}}function TAe(e,t,n){let r=t.selection,a=n=="up"?r.$from:r.$to;return nte(e,t,()=>{let{node:i}=e.docView.domFromPos(a.pos,n=="up"?-1:1);for(;;){let l=e.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let o=tte(e,a.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=bl(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<c.length;u++){let f=c[u];if(f.bottom>f.top+1&&(n=="up"?o.top-f.top>(f.bottom-o.top)*2:f.bottom-o.bottom>(o.bottom-f.top)*2))return!1}}return!0})}const AAe=/[\u0590-\u08ac]/;function EAe(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let a=r.parentOffset,i=!a,o=a==r.parent.content.size,l=e.domSelection();return l?!AAe.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:o:nte(e,t,()=>{let{focusNode:c,focusOffset:u,anchorNode:f,anchorOffset:m}=e.domSelectionRange(),p=l.caretBidiLevel;l.modify("move",n,"character");let g=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:v,focusOffset:y}=e.domSelectionRange(),w=v&&!g.contains(v.nodeType==1?v:v.parentNode)||c==v&&u==y;try{l.collapse(f,m),c&&(c!=f||u!=m)&&l.extend&&l.extend(c,u)}catch{}return p!=null&&(l.caretBidiLevel=p),w}):r.pos==r.start()||r.pos==r.end()}let rz=null,sz=null,az=!1;function OAe(e,t,n){return rz==t&&sz==n?az:(rz=t,sz=n,az=n=="up"||n=="down"?TAe(e,t,n):EAe(e,t,n))}const ji=0,iz=1,Vd=2,Fo=3;class xy{constructor(t,n,r,a){this.parent=t,this.children=n,this.dom=r,this.contentDOM=a,this.dirty=ji,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let a=this.children[n];if(a==t)return r;r+=a.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let i,o;if(t==this.contentDOM)i=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(t==this.contentDOM)i=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let a;if(t==this.dom&&this.contentDOM)a=n>xs(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=t;;i=i.parentNode){if(i==this.dom){a=!1;break}if(i.previousSibling)break}if(a==null&&n==t.childNodes.length)for(let i=t;;i=i.parentNode){if(i==this.dom){a=!0;break}if(i.nextSibling)break}}return a??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,a=t;a;a=a.parentNode){let i=this.getDesc(a),o;if(i&&(!n||i.node))if(r&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(t.nodeType==1?t:t.parentNode):o==t))r=!1;else return i}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let a=t;a;a=a.parentNode){let i=this.getDesc(a);if(i)return i.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let a=this.children[n],i=r+a.size;if(r==t&&i!=r){for(;!a.border&&a.children.length;)for(let o=0;o<a.children.length;o++){let l=a.children[o];if(l.size){a=l;break}}return a}if(t<i)return a.descAt(t-r-a.border);r=i}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,a=0;for(let i=0;r<this.children.length;r++){let o=this.children[r],l=i+o.size;if(l>t||o instanceof ste){a=t-i;break}i=l}if(a)return this.children[r].domFromPos(a-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof rte&&i.side>=0;r--);if(n<=0){let i,o=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,o=!1);return i&&n&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?xs(i.dom)+1:0}}else{let i,o=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?xs(i.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let a=-1,i=-1;for(let o=r,l=0;;l++){let c=this.children[l],u=o+c.size;if(a==-1&&t<=u){let f=o+c.border;if(t>=f&&n<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(t,n,f);t=o;for(let m=l;m>0;m--){let p=this.children[m-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){a=xs(p.dom)+1;break}t-=p.size}a==-1&&(a=0)}if(a>-1&&(u>n||l==this.children.length-1)){n=u;for(let f=l+1;f<this.children.length;f++){let m=this.children[f];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){i=xs(m.dom);break}n+=m.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:t,to:n,fromOffset:a,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,a=!1){let i=Math.min(t,n),o=Math.max(t,n);for(let g=0,v=0;g<this.children.length;g++){let y=this.children[g],w=v+y.size;if(i>v&&o<w)return y.setSelection(t-v-y.border,n-v-y.border,r,a);v=w}let l=this.domFromPos(t,t?-1:1),c=n==t?l:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),f=r.domSelectionRange(),m=!1;if((bi||ys)&&t==n){let{node:g,offset:v}=l;if(g.nodeType==3){if(m=!!(v&&g.nodeValue[v-1]==`
`),m&&v==g.nodeValue.length)for(let y=g,w;y;y=y.parentNode){if(w=y.nextSibling){w.nodeName=="BR"&&(l=c={node:w.parentNode,offset:xs(w)+1});break}let N=y.pmViewDesc;if(N&&N.node&&N.node.isBlock)break}}else{let y=g.childNodes[v-1];m=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(bi&&f.focusNode&&f.focusNode!=c.node&&f.focusNode.nodeType==1){let g=f.focusNode.childNodes[f.focusOffset];g&&g.contentEditable=="false"&&(a=!0)}if(!(a||m&&ys)&&vu(l.node,l.offset,f.anchorNode,f.anchorOffset)&&vu(c.node,c.offset,f.focusNode,f.focusOffset))return;let p=!1;if((u.extend||t==n)&&!(m&&bi)){u.collapse(l.node,l.offset);try{t!=n&&u.extend(c.node,c.offset),p=!0}catch{}}if(!p){if(t>n){let v=l;l=c,c=v}let g=document.createRange();g.setEnd(c.node,c.offset),g.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(g)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,a=0;a<this.children.length;a++){let i=this.children[a],o=r+i.size;if(r==o?t<=o&&n>=r:t<o&&n>r){let l=r+i.border,c=o-i.border;if(t>=l&&n<=c){this.dirty=t==r||n==o?Vd:iz,t==l&&n==c&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Fo:i.markDirty(t-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Vd:Fo}r=o}this.dirty=Vd}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Vd:iz;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class rte extends xy{constructor(t,n,r,a){let i,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!i)return a;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=n,this.widget=n,i=this}matchesWidget(t){return this.dirty==ji&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class PAe extends xy{constructor(t,n,r,a){super(t,[],n,null),this.textDOM=r,this.text=a}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class bu extends xy{constructor(t,n,r,a,i){super(t,[],r,a),this.mark=n,this.spec=i}static create(t,n,r,a){let i=a.nodeViews[n.type.name],o=i&&i(n,a,r);return(!o||!o.dom)&&(o=Iu.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new bu(t,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Fo||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Fo&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=ji){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ji}}slice(t,n,r){let a=bu.create(this.parent,this.mark,!0,r),i=this.children,o=this.size;n<o&&(i=VP(i,n,o,r)),t>0&&(i=VP(i,0,t,r));for(let l=0;l<i.length;l++)i[l].parent=a;return a.children=i,a}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class zc extends xy{constructor(t,n,r,a,i,o,l,c,u){super(t,[],i,o),this.node=n,this.outerDeco=r,this.innerDeco=a,this.nodeDOM=l}static create(t,n,r,a,i,o){let l=i.nodeViews[n.type.name],c,u=l&&l(n,i,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},r,a),f=u&&u.dom,m=u&&u.contentDOM;if(n.isText){if(!f)f=document.createTextNode(n.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:m}=Iu.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),n.type.spec.draggable&&(f.draggable=!0));let p=f;return f=ote(f,r,n),u?c=new MAe(t,n,r,a,f,m||null,p,u,i,o+1):n.isText?new MN(t,n,r,a,f,p,i):new zc(t,n,r,a,f,m||null,p,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Ee.empty)}return t}matchesNode(t,n,r){return this.dirty==ji&&t.eq(this.node)&&Q0(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,a=n,i=t.composing?this.localCompositionInfo(t,n):null,o=i&&i.pos>-1?i:null,l=i&&i.pos<0,c=new RAe(this,o&&o.node,t);LAe(this.node,this.innerDeco,(u,f,m)=>{u.spec.marks?c.syncToMarks(u.spec.marks,r,t,f):u.type.side>=0&&!m&&c.syncToMarks(f==this.node.childCount?Cn.none:this.node.child(f).marks,r,t,f),c.placeWidget(u,t,a)},(u,f,m,p)=>{c.syncToMarks(u.marks,r,t,p);let g;c.findNodeMatch(u,f,m,p)||l&&t.state.selection.from>a&&t.state.selection.to<a+u.nodeSize&&(g=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(u,f,m,g,t)||c.updateNextNode(u,f,m,t,p,a)||c.addNode(u,f,m,t,a),a+=u.nodeSize}),c.syncToMarks([],r,t,0),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Vd)&&(o&&this.protectLocalComposition(t,o),ate(this.contentDOM,this.children,t),kh&&$Ae(this.dom))}localCompositionInfo(t,n){let{from:r,to:a}=t.state.selection;if(!(t.state.selection instanceof yt)||r<n||a>n+this.node.content.size)return null;let i=t.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,l=FAe(this.node.content,o,r-n,a-n);return l<0?null:{node:i,pos:l,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:a}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new PAe(this,i,n,a);t.input.compositionNodes.push(o),this.children=VP(this.children,r,r+a.length,t,o)}update(t,n,r,a){return this.dirty==Fo||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,a),!0)}updateInner(t,n,r,a){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=ji}updateOuterDeco(t){if(Q0(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=ite(this.dom,this.nodeDOM,UP(this.outerDeco,this.node,n),UP(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function oz(e,t,n,r,a){ote(r,t,e);let i=new zc(void 0,e,t,n,r,r,r,a,0);return i.contentDOM&&i.updateChildren(a,0),i}class MN extends zc{constructor(t,n,r,a,i,o,l){super(t,n,r,a,i,null,o,l,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,a){return this.dirty==Fo||this.dirty!=ji&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=ji||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=t,this.dirty=ji,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let a=this.node.cut(t,n),i=document.createTextNode(a.text);return new MN(this.parent,a,this.outerDeco,this.innerDeco,i,i,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Fo)}get domAtom(){return!1}isText(t){return this.node.text==t}}class ste extends xy{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==ji&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class MAe extends zc{constructor(t,n,r,a,i,o,l,c,u,f){super(t,n,r,a,i,o,l,u,f),this.spec=c}update(t,n,r,a){if(this.dirty==Fo)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let i=this.spec.update(t,n,r);return i&&this.updateInner(t,n,r,a),i}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,a)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,a){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,a)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function ate(e,t,n){let r=e.firstChild,a=!1;for(let i=0;i<t.length;i++){let o=t[i],l=o.dom;if(l.parentNode==e){for(;l!=r;)r=lz(r),a=!0;r=r.nextSibling}else a=!0,e.insertBefore(l,r);if(o instanceof bu){let c=r?r.previousSibling:e.lastChild;ate(o.contentDOM,o.children,n),r=c?c.nextSibling:e.firstChild}}for(;r;)r=lz(r),a=!0;a&&n.trackWrites==e&&(n.trackWrites=null)}const Nx=function(e){e&&(this.nodeName=e)};Nx.prototype=Object.create(null);const Hd=[new Nx];function UP(e,t,n){if(e.length==0)return Hd;let r=n?Hd[0]:new Nx,a=[r];for(let i=0;i<e.length;i++){let o=e[i].type.attrs;if(o){o.nodeName&&a.push(r=new Nx(o.nodeName));for(let l in o){let c=o[l];c!=null&&(n&&a.length==1&&a.push(r=new Nx(t.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+c:l=="style"?r.style=(r.style?r.style+";":"")+c:l!="nodeName"&&(r[l]=c))}}}return a}function ite(e,t,n,r){if(n==Hd&&r==Hd)return t;let a=t;for(let i=0;i<r.length;i++){let o=r[i],l=n[i];if(i){let c;l&&l.nodeName==o.nodeName&&a!=e&&(c=a.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(a),l=Hd[0]),a=c}_Ae(a,l||Hd[0],o)}return a}function _Ae(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],a=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)a.indexOf(r[i])==-1&&e.classList.remove(r[i]);for(let i=0;i<a.length;i++)r.indexOf(a[i])==-1&&e.classList.add(a[i]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,a;for(;a=r.exec(t.style);)e.style.removeProperty(a[1])}n.style&&(e.style.cssText+=n.style)}}function ote(e,t,n){return ite(e,e,Hd,UP(t,n,e.nodeType!=1))}function Q0(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function lz(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class RAe{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=DAe(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r,a){let i=0,o=this.stack.length>>1,l=Math.min(o,t.length);for(;i<l&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=ji,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let c=-1,u=this.top.children.length;a<this.preMatch.index&&(u=Math.min(this.index+3,u));for(let f=this.index;f<u;f++){let m=this.top.children[f];if(m.matchesMark(t[o])&&!this.isLocked(m.dom)){c=f;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let f=bu.create(this.top,t[o],n,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,r,a){let i=-1,o;if(a>=this.preMatch.index&&(o=this.preMatch.matches[a-this.preMatch.index]).parent==this.top&&o.matchesNode(t,n,r))i=this.top.children.indexOf(o,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let u=this.top.children[l];if(u.matchesNode(t,n,r)&&!this.preMatch.matched.has(u)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(t,n,r,a,i){let o=this.top.children[a];return o.dirty==Fo&&o.dom==o.contentDOM&&(o.dirty=Vd),o.update(t,n,r,i)?(this.destroyBetween(this.index,a),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==r)return a}return-1}t=n}}updateNextNode(t,n,r,a,i,o){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof zc){let u=this.preMatch.matched.get(c);if(u!=null&&u!=i)return!1;let f=c.dom,m,p=this.isLocked(f)&&!(t.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==t.text&&c.dirty!=Fo&&Q0(n,c.outerDeco));if(!p&&c.update(t,n,r,a))return this.destroyBetween(this.index,l),c.dom!=f&&(this.changed=!0),this.index++,!0;if(!p&&(m=this.recreateWrapper(c,t,n,r,a,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Vd,m.updateChildren(a,o+1),m.dirty=ji),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,a,i,o){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!Q0(r,t.outerDeco)||!a.eq(t.innerDeco))return null;let l=zc.create(this.top,n,r,a,i,o);if(l.contentDOM){l.children=t.children,t.children=[];for(let c of l.children)c.parent=l}return t.destroy(),l}addNode(t,n,r,a,i){let o=zc.create(this.top,t,n,r,a,i);o.contentDOM&&o.updateChildren(a,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,n,r){let a=this.index<this.top.children.length?this.top.children[this.index]:null;if(a&&a.matchesWidget(t)&&(t==a.widget||!a.widget.type.toDOM.parentNode))this.index++;else{let i=new rte(this.top,t,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof bu;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof MN)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((ys||Jr)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let a=new ste(this.top,[],r,null);n!=this.top?n.children.push(a):n.children.splice(this.index++,0,a),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function DAe(e,t){let n=t,r=n.children.length,a=e.childCount,i=new Map,o=[];e:for(;a>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof bu)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=l.node;if(c){if(c!=e.child(a-1))break;--a,i.set(l,a),o.push(l)}}return{index:a,matched:i,matches:o.reverse()}}function IAe(e,t){return e.type.side-t.type.side}function LAe(e,t,n,r){let a=t.locals(e),i=0;if(a.length==0){for(let u=0;u<e.childCount;u++){let f=e.child(u);r(f,a,t.forChild(i,f),u),i+=f.nodeSize}return}let o=0,l=[],c=null;for(let u=0;;){let f,m;for(;o<a.length&&a[o].to==i;){let w=a[o++];w.widget&&(f?(m||(m=[f])).push(w):f=w)}if(f)if(m){m.sort(IAe);for(let w=0;w<m.length;w++)n(m[w],u,!!c)}else n(f,u,!!c);let p,g;if(c)g=-1,p=c,c=null;else if(u<e.childCount)g=u,p=e.child(u++);else break;for(let w=0;w<l.length;w++)l[w].to<=i&&l.splice(w--,1);for(;o<a.length&&a[o].from<=i&&a[o].to>i;)l.push(a[o++]);let v=i+p.nodeSize;if(p.isText){let w=v;o<a.length&&a[o].from<w&&(w=a[o].from);for(let N=0;N<l.length;N++)l[N].to<w&&(w=l[N].to);w<v&&(c=p.cut(w-i),p=p.cut(0,w-i),v=w,g=-1)}else for(;o<a.length&&a[o].to<v;)o++;let y=p.isInline&&!p.isLeaf?l.filter(w=>!w.inline):l.slice();r(p,y,t.forChild(i,p),g),i=v}}function $Ae(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function FAe(e,t,n,r){for(let a=0,i=0;a<e.childCount&&i<=r;){let o=e.child(a++),l=i;if(i+=o.nodeSize,!o.isText)continue;let c=o.text;for(;a<e.childCount;){let u=e.child(a++);if(i+=u.nodeSize,!u.isText)break;c+=u.text}if(i>=n){if(i>=r&&c.slice(r-t.length-l,r-l)==t)return r-t.length;let u=l<r?c.lastIndexOf(t,r-l-1):-1;if(u>=0&&u+t.length+l>=n)return l+u;if(n==r&&c.length>=r+t.length-l&&c.slice(r-l,r-l+t.length)==t)return r}}return-1}function VP(e,t,n,r,a){let i=[];for(let o=0,l=0;o<e.length;o++){let c=e[o],u=l,f=l+=c.size;u>=n||f<=t?i.push(c):(u<t&&i.push(c.slice(0,t-u,r)),a&&(i.push(a),a=void 0),f>n&&i.push(c.slice(n-u,c.size,r)))}return i}function HR(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let a=e.docView.nearestDesc(n.focusNode),i=a&&a.size==0,o=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let l=r.resolve(o),c,u;if(PN(n)){for(c=o;a&&!a.node;)a=a.parent;let m=a.node;if(a&&m.isAtom&&tt.isSelectable(m)&&a.parent&&!(m.isInline&&fAe(n.focusNode,n.focusOffset,a.dom))){let p=a.posBefore;u=new tt(o==p?l:r.resolve(p))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=o,p=o;for(let g=0;g<n.rangeCount;g++){let v=n.getRangeAt(g);m=Math.min(m,e.docView.posFromDOM(v.startContainer,v.startOffset,1)),p=Math.max(p,e.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(m<0)return null;[c,o]=p==e.state.selection.anchor?[p,m]:[m,p],l=r.resolve(o)}else c=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let f=r.resolve(c);if(!u){let m=t=="pointer"||e.state.selection.head<l.pos&&!i?1:-1;u=KR(e,f,l,m)}return u}function lte(e){return e.editable?e.hasFocus():dte(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Ml(e,t=!1){let n=e.state.selection;if(cte(e,n),!!lte(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Jr){let r=e.domSelectionRange(),a=e.domObserver.currentSelection;if(r.anchorNode&&a.anchorNode&&vu(r.anchorNode,r.anchorOffset,a.anchorNode,a.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)zAe(e);else{let{anchor:r,head:a}=n,i,o;cz&&!(n instanceof yt)&&(n.$from.parent.inlineContent||(i=dz(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=dz(e,n.to))),e.docView.setSelection(r,a,e,t),cz&&(i&&uz(i),o&&uz(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&BAe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const cz=ys||Jr&&Yee<63;function dz(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),a=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(ys&&a&&a.contentEditable=="false")return HC(a);if((!a||a.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(a)return HC(a);if(i)return HC(i)}}function HC(e){return e.contentEditable="true",ys&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function uz(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function BAe(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,a=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=a)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!lte(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function zAe(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,xs(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&ma&&Bc<=11&&(n.disabled=!0,n.disabled=!1)}function cte(e,t){if(t instanceof tt){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(fz(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else fz(e)}function fz(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function KR(e,t,n,r){return e.someProp("createSelectionBetween",a=>a(e,t,n))||yt.between(t,n,r)}function hz(e){return e.editable&&!e.hasFocus()?!1:dte(e)}function dte(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function qAe(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return vu(t.node,t.offset,n.anchorNode,n.anchorOffset)}function HP(e,t){let{$anchor:n,$head:r}=e.selection,a=t>0?n.max(r):n.min(r),i=a.parent.inlineContent?a.depth?e.doc.resolve(t>0?a.after():a.before()):null:a;return i&&pt.findFrom(i,t)}function Tc(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function mz(e,t,n){let r=e.state.selection;if(r instanceof yt)if(n.indexOf("s")>-1){let{$head:a}=r,i=a.textOffset?null:t<0?a.nodeBefore:a.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=e.state.doc.resolve(a.pos+i.nodeSize*(t<0?-1:1));return Tc(e,new yt(r.$anchor,o))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let a=HP(e.state,t);return a&&a instanceof tt?Tc(e,a):!1}else if(!(ui&&n.indexOf("m")>-1)){let a=r.$head,i=a.textOffset?null:t<0?a.nodeBefore:a.nodeAfter,o;if(!i||i.isText)return!1;let l=t<0?a.pos-i.nodeSize:a.pos;return i.isAtom||(o=e.docView.descAt(l))&&!o.contentDOM?tt.isSelectable(i)?Tc(e,new tt(t<0?e.state.doc.resolve(a.pos-i.nodeSize):a)):py?Tc(e,new yt(e.state.doc.resolve(t<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof tt&&r.node.isInline)return Tc(e,new yt(t>0?r.$to:r.$from));{let a=HP(e.state,t);return a?Tc(e,a):!1}}}function J0(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Sx(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Mf(e,t){return t<0?UAe(e):VAe(e)}function UAe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let a,i,o=!1;for(bi&&n.nodeType==1&&r<J0(n)&&Sx(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(Sx(l,-1))a=n,i=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(ute(n))break;{let l=n.previousSibling;for(;l&&Sx(l,-1);)a=n.parentNode,i=xs(l),l=l.previousSibling;if(l)n=l,r=J0(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}o?KP(e,n,r):a&&KP(e,a,i)}function VAe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let a=J0(n),i,o;for(;;)if(r<a){if(n.nodeType!=1)break;let l=n.childNodes[r];if(Sx(l,1))i=n,o=++r;else break}else{if(ute(n))break;{let l=n.nextSibling;for(;l&&Sx(l,1);)i=l.parentNode,o=xs(l)+1,l=l.nextSibling;if(l)n=l,r=0,a=J0(n);else{if(n=n.parentNode,n==e.dom)break;r=a=0}}}i&&KP(e,i,o)}function ute(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function HAe(e,t){for(;e&&t==e.childNodes.length&&!my(e);)t=xs(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function KAe(e,t){for(;e&&!t&&!my(e);)t=xs(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function KP(e,t,n){if(t.nodeType!=3){let i,o;(o=HAe(t,n))?(t=o,n=0):(i=KAe(t,n))&&(t=i,n=i.nodeValue.length)}let r=e.domSelection();if(!r)return;if(PN(r)){let i=document.createRange();i.setEnd(t,n),i.setStart(t,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:a}=e;setTimeout(()=>{e.state==a&&Ml(e)},50)}function pz(e,t){let n=e.state.doc.resolve(t);if(!(Jr||Xee)&&n.parent.inlineContent){let a=e.coordsAtPos(t);if(t>n.start()){let i=e.coordsAtPos(t-1),o=(i.top+i.bottom)/2;if(o>a.top&&o<a.bottom&&Math.abs(i.left-a.left)>1)return i.left<a.left?"ltr":"rtl"}if(t<n.end()){let i=e.coordsAtPos(t+1),o=(i.top+i.bottom)/2;if(o>a.top&&o<a.bottom&&Math.abs(i.left-a.left)>1)return i.left>a.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function xz(e,t,n){let r=e.state.selection;if(r instanceof yt&&!r.empty||n.indexOf("s")>-1||ui&&n.indexOf("m")>-1)return!1;let{$from:a,$to:i}=r;if(!a.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let o=HP(e.state,t);if(o&&o instanceof tt)return Tc(e,o)}if(!a.parent.inlineContent){let o=t<0?a:i,l=r instanceof Fa?pt.near(o,t):pt.findFrom(o,t);return l?Tc(e,l):!1}return!1}function gz(e,t){if(!(e.state.selection instanceof yt))return!0;let{$head:n,$anchor:r,empty:a}=e.state.selection;if(!n.sameParent(r))return!0;if(!a)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let o=e.state.tr;return t<0?o.delete(n.pos-i.nodeSize,n.pos):o.delete(n.pos,n.pos+i.nodeSize),e.dispatch(o),!0}return!1}function yz(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function WAe(e){if(!ys||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;yz(e,r,"true"),setTimeout(()=>yz(e,r,"false"),20)}return!1}function GAe(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function YAe(e,t){let n=t.keyCode,r=GAe(t);if(n==8||ui&&n==72&&r=="c")return gz(e,-1)||Mf(e,-1);if(n==46&&!t.shiftKey||ui&&n==68&&r=="c")return gz(e,1)||Mf(e,1);if(n==13||n==27)return!0;if(n==37||ui&&n==66&&r=="c"){let a=n==37?pz(e,e.state.selection.from)=="ltr"?-1:1:-1;return mz(e,a,r)||Mf(e,a)}else if(n==39||ui&&n==70&&r=="c"){let a=n==39?pz(e,e.state.selection.from)=="ltr"?1:-1:1;return mz(e,a,r)||Mf(e,a)}else{if(n==38||ui&&n==80&&r=="c")return xz(e,-1,r)||Mf(e,-1);if(n==40||ui&&n==78&&r=="c")return WAe(e)||xz(e,1,r)||Mf(e,1);if(r==(ui?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function WR(e,t){e.someProp("transformCopied",g=>{t=g(t,e)});let n=[],{content:r,openStart:a,openEnd:i}=t;for(;a>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){a--,i--;let g=r.firstChild;n.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),r=g.content}let o=e.someProp("clipboardSerializer")||Iu.fromSchema(e.state.schema),l=gte(),c=l.createElement("div");c.appendChild(o.serializeFragment(r,{document:l}));let u=c.firstChild,f,m=0;for(;u&&u.nodeType==1&&(f=xte[u.nodeName.toLowerCase()]);){for(let g=f.length-1;g>=0;g--){let v=l.createElement(f[g]);for(;c.firstChild;)v.appendChild(c.firstChild);c.appendChild(v),m++}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${a} ${i}${m?` -${m}`:""} ${JSON.stringify(n)}`);let p=e.someProp("clipboardTextSerializer",g=>g(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:c,text:p,slice:t}}function fte(e,t,n,r,a){let i=a.parent.type.spec.code,o,l;if(!n&&!t)return null;let c=!!t&&(r||i||!n);if(c){if(e.someProp("transformPastedText",p=>{t=p(t,i||r,e)}),i)return l=new ze(Ee.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",p=>{l=p(l,e,!0)}),l;let m=e.someProp("clipboardTextParser",p=>p(t,a,r,e));if(m)l=m;else{let p=a.marks(),{schema:g}=e.state,v=Iu.fromSchema(g);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(y=>{let w=o.appendChild(document.createElement("p"));y&&w.appendChild(v.serializeNode(g.text(y,p)))})}}else e.someProp("transformPastedHTML",m=>{n=m(n,e)}),o=ZAe(n),py&&eEe(o);let u=o&&o.querySelector("[data-pm-slice]"),f=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let m=+f[3];m>0;m--){let p=o.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;o=p}if(l||(l=(e.someProp("clipboardParser")||e.someProp("domParser")||Fc.fromSchema(e.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||f),context:a,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!XAe.test(p.parentNode.nodeName)?{ignore:!0}:null}})),f)l=tEe(vz(l,+f[1],+f[2]),f[4]);else if(l=ze.maxOpen(QAe(l.content,a),!0),l.openStart||l.openEnd){let m=0,p=0;for(let g=l.content.firstChild;m<l.openStart&&!g.type.spec.isolating;m++,g=g.firstChild);for(let g=l.content.lastChild;p<l.openEnd&&!g.type.spec.isolating;p++,g=g.lastChild);l=vz(l,m,p)}return e.someProp("transformPasted",m=>{l=m(l,e,c)}),l}const XAe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function QAe(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let a=t.node(n).contentMatchAt(t.index(n)),i,o=[];if(e.forEach(l=>{if(!o)return;let c=a.findWrapping(l.type),u;if(!c)return o=null;if(u=o.length&&i.length&&mte(c,i,l,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=pte(o[o.length-1],i.length));let f=hte(l,c);o.push(f),a=a.matchType(f.type),i=c}}),o)return Ee.from(o)}return e}function hte(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,Ee.from(e));return e}function mte(e,t,n,r,a){if(a<e.length&&a<t.length&&e[a]==t[a]){let i=mte(e,t,n,r.lastChild,a+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(a==e.length-1?n.type:e[a+1]))return r.copy(r.content.append(Ee.from(hte(n,e,a+1))))}}function pte(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,pte(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Ee.empty,!0);return e.copy(n.append(r))}function WP(e,t,n,r,a,i){let o=t<0?e.firstChild:e.lastChild,l=o.content;return e.childCount>1&&(i=0),a<r-1&&(l=WP(l,t,n,r,a+1,i)),a>=n&&(l=t<0?o.contentMatchAt(0).fillBefore(l,i<=a).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(Ee.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(l))}function vz(e,t,n){return t<e.openStart&&(e=new ze(WP(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new ze(WP(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const xte={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let bz=null;function gte(){return bz||(bz=document.implementation.createHTMLDocument("title"))}let KC=null;function JAe(e){let t=window.trustedTypes;return t?(KC||(KC=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),KC.createHTML(e)):e}function ZAe(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=gte().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),a;if((a=r&&xte[r[1].toLowerCase()])&&(e=a.map(i=>"<"+i+">").join("")+e+a.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=JAe(e),a)for(let i=0;i<a.length;i++)n=n.querySelector(a[i])||n;return n}function eEe(e){let t=e.querySelectorAll(Jr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function tEe(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:a,openStart:i,openEnd:o}=e;for(let l=r.length-2;l>=0;l-=2){let c=n.nodes[r[l]];if(!c||c.hasRequiredAttrs())break;a=Ee.from(c.create(r[l+1],a)),i++,o++}return new ze(a,i,o)}const Ws={},Gs={},nEe={touchstart:!0,touchmove:!0};class rEe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function sEe(e){for(let t in Ws){let n=Ws[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{iEe(e,r)&&!GR(e,r)&&(e.editable||!(r.type in Gs))&&n(e,r)},nEe[t]?{passive:!0}:void 0)}ys&&e.dom.addEventListener("input",()=>null),GP(e)}function Ic(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function aEe(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function GP(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>GR(e,r))})}function GR(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function iEe(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function oEe(e,t){!GR(e,t)&&Ws[t.type]&&(e.editable||!(t.type in Gs))&&Ws[t.type](e,t)}Gs.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!vte(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Cl&&Jr&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),kh&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",a=>a(e,Bd(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||YAe(e,n)?n.preventDefault():Ic(e,"key")};Gs.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Gs.keypress=(e,t)=>{let n=t;if(vte(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||ui&&n.metaKey)return;if(e.someProp("handleKeyPress",a=>a(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof yt)||!r.$from.sameParent(r.$to)){let a=String.fromCharCode(n.charCode),i=()=>e.state.tr.insertText(a).scrollIntoView();!/[\r\n]/.test(a)&&!e.someProp("handleTextInput",o=>o(e,r.$from.pos,r.$to.pos,a,i))&&e.dispatch(i()),n.preventDefault()}};function _N(e){return{left:e.clientX,top:e.clientY}}function lEe(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function YR(e,t,n,r,a){if(r==-1)return!1;let i=e.state.doc.resolve(r);for(let o=i.depth+1;o>0;o--)if(e.someProp(t,l=>o>i.depth?l(e,n,i.nodeAfter,i.before(o),a,!0):l(e,n,i.node(o),i.before(o),a,!1)))return!0;return!1}function oh(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function cEe(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&tt.isSelectable(r)?(oh(e,new tt(n)),!0):!1}function dEe(e,t){if(t==-1)return!1;let n=e.state.selection,r,a;n instanceof tt&&(r=n.node);let i=e.state.doc.resolve(t);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o);if(tt.isSelectable(l)){r&&n.$from.depth>0&&o>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?a=i.before(n.$from.depth):a=i.before(o);break}}return a!=null?(oh(e,tt.create(e.state.doc,a)),!0):!1}function uEe(e,t,n,r,a){return YR(e,"handleClickOn",t,n,r)||e.someProp("handleClick",i=>i(e,t,r))||(a?dEe(e,n):cEe(e,n))}function fEe(e,t,n,r){return YR(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",a=>a(e,t,r))}function hEe(e,t,n,r){return YR(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",a=>a(e,t,r))||mEe(e,n,r)}function mEe(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(oh(e,yt.create(r,0,r.content.size)),!0):!1;let a=r.resolve(t);for(let i=a.depth+1;i>0;i--){let o=i>a.depth?a.nodeAfter:a.node(i),l=a.before(i);if(o.inlineContent)oh(e,yt.create(r,l+1,l+1+o.content.size));else if(tt.isSelectable(o))oh(e,tt.create(r,l));else continue;return!0}}function XR(e){return Z0(e)}const yte=ui?"metaKey":"ctrlKey";Ws.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=XR(e),a=Date.now(),i="singleClick";a-e.input.lastClick.time<500&&lEe(n,e.input.lastClick)&&!n[yte]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?i="doubleClick":e.input.lastClick.type=="doubleClick"&&(i="tripleClick")),e.input.lastClick={time:a,x:n.clientX,y:n.clientY,type:i,button:n.button};let o=e.posAtCoords(_N(n));o&&(i=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new pEe(e,o,n,!!r)):(i=="doubleClick"?fEe:hEe)(e,o.pos,o.inside,n)?n.preventDefault():Ic(e,"pointer"))};class pEe{constructor(t,n,r,a){this.view=t,this.pos=n,this.event=r,this.flushed=a,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[yte],this.allowDefault=r.shiftKey;let i,o;if(n.inside>-1)i=t.state.doc.nodeAt(n.inside),o=n.inside;else{let f=t.state.doc.resolve(n.pos);i=f.parent,o=f.depth?f.before():0}const l=a?null:r.target,c=l?t.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:u}=t.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||u instanceof tt&&u.from<=o&&u.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&bi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ic(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ml(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(_N(t))),this.updateAllowDefault(t),this.allowDefault||!n?Ic(this.view,"pointer"):uEe(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||ys&&this.mightDrag&&!this.mightDrag.node.isAtom||Jr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(oh(this.view,pt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Ic(this.view,"pointer")}move(t){this.updateAllowDefault(t),Ic(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Ws.touchstart=e=>{e.input.lastTouch=Date.now(),XR(e),Ic(e,"pointer")};Ws.touchmove=e=>{e.input.lastTouch=Date.now(),Ic(e,"pointer")};Ws.contextmenu=e=>XR(e);function vte(e,t){return e.composing?!0:ys&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const xEe=Cl?5e3:-1;Gs.compositionstart=Gs.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof yt&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||Jr&&Xee&&gEe(e)))e.markCursor=e.state.storedMarks||n.marks(),Z0(e,!0),e.markCursor=null;else if(Z0(e,!t.selection.empty),bi&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let a=r.focusNode,i=r.focusOffset;a&&a.nodeType==1&&i!=0;){let o=i<0?a.lastChild:a.childNodes[i-1];if(!o)break;if(o.nodeType==3){let l=e.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else a=o,i=-1}}e.input.composing=!0}bte(e,xEe)};function gEe(e){let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(!t||t.nodeType!=1||n>=t.childNodes.length)return!1;let r=t.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}Gs.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.badSafariComposition?e.domObserver.forceFlush():e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,bte(e,20))};function bte(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Z0(e),t))}function jte(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=vEe());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function yEe(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=dAe(t.focusNode,t.focusOffset),r=uAe(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let a=r.pmViewDesc,i=e.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!a||!a.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function vEe(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Z0(e,t=!1){if(!(Cl&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),jte(e),t||e.docView&&e.docView.dirty){let n=HR(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function bEe(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),a=document.createRange();a.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(a),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const sg=ma&&Bc<15||kh&&pAe<604;Ws.copy=Gs.cut=(e,t)=>{let n=t,r=e.state.selection,a=n.type=="cut";if(r.empty)return;let i=sg?null:n.clipboardData,o=r.content(),{dom:l,text:c}=WR(e,o);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",c)):bEe(e,l),a&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function jEe(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function wEe(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let a=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?ag(e,r.value,null,a,t):ag(e,r.textContent,r.innerHTML,a,t)},50)}function ag(e,t,n,r,a){let i=fte(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",c=>c(e,a,i||ze.empty)))return!0;if(!i)return!1;let o=jEe(i),l=o?e.state.tr.replaceSelectionWith(o,r):e.state.tr.replaceSelection(i);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function wte(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Gs.paste=(e,t)=>{let n=t;if(e.composing&&!Cl)return;let r=sg?null:n.clipboardData,a=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&ag(e,wte(r),r.getData("text/html"),a,n)?n.preventDefault():wEe(e,n)};class Nte{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const NEe=ui?"altKey":"ctrlKey";function Ste(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[NEe]}Ws.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let a=e.state.selection,i=a.empty?null:e.posAtCoords(_N(n)),o;if(!(i&&i.pos>=a.from&&i.pos<=(a instanceof tt?a.to-1:a.to))){if(r&&r.mightDrag)o=tt.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=e.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=e.docView&&(o=tt.create(e.state.doc,m.posBefore))}}let l=(o||e.state.selection).content(),{dom:c,text:u,slice:f}=WR(e,l);(!n.dataTransfer.files.length||!Jr||Yee>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(sg?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",sg||n.dataTransfer.setData("text/plain",u),e.dragging=new Nte(f,Ste(e,n),o)};Ws.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Gs.dragover=Gs.dragenter=(e,t)=>t.preventDefault();Gs.drop=(e,t)=>{try{SEe(e,t,e.dragging)}finally{e.dragging=null}};function SEe(e,t,n){if(!t.dataTransfer)return;let r=e.posAtCoords(_N(t));if(!r)return;let a=e.state.doc.resolve(r.pos),i=n&&n.slice;i?e.someProp("transformPasted",g=>{i=g(i,e,!1)}):i=fte(e,wte(t.dataTransfer),sg?null:t.dataTransfer.getData("text/html"),!1,a);let o=!!(n&&Ste(e,t));if(e.someProp("handleDrop",g=>g(e,t,i||ze.empty,o))){t.preventDefault();return}if(!i)return;t.preventDefault();let l=i?Tee(e.state.doc,a.pos,i):a.pos;l==null&&(l=a.pos);let c=e.state.tr;if(o){let{node:g}=n;g?g.replace(c):c.deleteSelection()}let u=c.mapping.map(l),f=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,m=c.doc;if(f?c.replaceRangeWith(u,u,i.content.firstChild):c.replaceRange(u,u,i),c.doc.eq(m))return;let p=c.doc.resolve(u);if(f&&tt.isSelectable(i.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(i.content.firstChild))c.setSelection(new tt(p));else{let g=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((v,y,w,N)=>g=N),c.setSelection(KR(e,p,c.doc.resolve(g)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))}Ws.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Ml(e)},20))};Ws.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Ws.beforeinput=(e,t)=>{if(Jr&&Cl&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",i=>i(e,Bd(8,"Backspace")))))return;let{$cursor:a}=e.state.selection;a&&a.pos>0&&e.dispatch(e.state.tr.delete(a.pos-1,a.pos).scrollIntoView())},50)}};for(let e in Gs)Ws[e]=Gs[e];function ig(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class ej{constructor(t,n){this.toDOM=t,this.spec=n||tu,this.side=this.spec.side||0}map(t,n,r,a){let{pos:i,deleted:o}=t.mapResult(n.from+a,this.side<0?-1:1);return o?null:new Bs(i-r,i-r,this)}valid(){return!0}eq(t){return this==t||t instanceof ej&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&ig(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class qc{constructor(t,n){this.attrs=t,this.spec=n||tu}map(t,n,r,a){let i=t.map(n.from+a,this.spec.inclusiveStart?-1:1)-r,o=t.map(n.to+a,this.spec.inclusiveEnd?1:-1)-r;return i>=o?null:new Bs(i,o,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof qc&&ig(this.attrs,t.attrs)&&ig(this.spec,t.spec)}static is(t){return t.type instanceof qc}destroy(){}}class QR{constructor(t,n){this.attrs=t,this.spec=n||tu}map(t,n,r,a){let i=t.mapResult(n.from+a,1);if(i.deleted)return null;let o=t.mapResult(n.to+a,-1);return o.deleted||o.pos<=i.pos?null:new Bs(i.pos-r,o.pos-r,this)}valid(t,n){let{index:r,offset:a}=t.content.findIndex(n.from),i;return a==n.from&&!(i=t.child(r)).isText&&a+i.nodeSize==n.to}eq(t){return this==t||t instanceof QR&&ig(this.attrs,t.attrs)&&ig(this.spec,t.spec)}destroy(){}}class Bs{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Bs(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Bs(t,t,new ej(n,r))}static inline(t,n,r,a){return new Bs(t,n,new qc(r,a))}static node(t,n,r,a){return new Bs(t,n,new QR(r,a))}get spec(){return this.type.spec}get inline(){return this.type instanceof qc}get widget(){return this.type instanceof ej}}const Ff=[],tu={};class tr{constructor(t,n){this.local=t.length?t:Ff,this.children=n.length?n:Ff}static create(t,n){return n.length?tj(n,t,0,tu):js}find(t,n,r){let a=[];return this.findInner(t??0,n??1e9,a,0,r),a}findInner(t,n,r,a,i){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=n&&l.to>=t&&(!i||i(l.spec))&&r.push(l.copy(l.from+a,l.to+a))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>t){let l=this.children[o]+1;this.children[o+2].findInner(t-l,n-l,r,a+l,i)}}map(t,n,r){return this==js||t.maps.length==0?this:this.mapInner(t,n,0,0,r||tu)}mapInner(t,n,r,a,i){let o;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(t,r,a);c&&c.type.valid(n,c)?(o||(o=[])).push(c):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?CEe(this.children,o||[],t,n,r,a,i):o?new tr(o.sort(nu),Ff):js}add(t,n){return n.length?this==js?tr.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let a,i=0;t.forEach((l,c)=>{let u=c+r,f;if(f=kte(n,l,u)){for(a||(a=this.children.slice());i<a.length&&a[i]<c;)i+=3;a[i]==c?a[i+2]=a[i+2].addInner(l,f,u+1):a.splice(i,0,c,c+l.nodeSize,tj(f,l,u+1,tu)),i+=3}});let o=Cte(i?Tte(n):n,-r);for(let l=0;l<o.length;l++)o[l].type.valid(t,o[l])||o.splice(l--,1);return new tr(o.length?this.local.concat(o).sort(nu):this.local,a||this.children)}remove(t){return t.length==0||this==js?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,a=this.local;for(let i=0;i<r.length;i+=3){let o,l=r[i]+n,c=r[i+1]+n;for(let f=0,m;f<t.length;f++)(m=t[f])&&m.from>l&&m.to<c&&(t[f]=null,(o||(o=[])).push(m));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[i+2].removeInner(o,l+1);u!=js?r[i+2]=u:(r.splice(i,3),i-=3)}if(a.length){for(let i=0,o;i<t.length;i++)if(o=t[i])for(let l=0;l<a.length;l++)a[l].eq(o,n)&&(a==this.local&&(a=this.local.slice()),a.splice(l--,1))}return r==this.children&&a==this.local?this:a.length||r.length?new tr(a,r):js}forChild(t,n){if(this==js)return this;if(n.isLeaf)return tr.empty;let r,a;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=t){this.children[l]==t&&(r=this.children[l+2]);break}let i=t+1,o=i+n.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<o&&c.to>i&&c.type instanceof qc){let u=Math.max(i,c.from)-i,f=Math.min(o,c.to)-i;u<f&&(a||(a=[])).push(c.copy(u,f))}}if(a){let l=new tr(a.sort(nu),Ff);return r?new Pc([l,r]):l}return r||js}eq(t){if(this==t)return!0;if(!(t instanceof tr)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return JR(this.localsInner(t))}localsInner(t){if(this==js)return Ff;if(t.inlineContent||!this.local.some(qc.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof qc||n.push(this.local[r]);return n}forEachSet(t){t(this)}}tr.empty=new tr([],[]);tr.removeOverlap=JR;const js=tr.empty;class Pc{constructor(t){this.members=t}map(t,n){const r=this.members.map(a=>a.map(t,n,tu));return Pc.from(r)}forChild(t,n){if(n.isLeaf)return tr.empty;let r=[];for(let a=0;a<this.members.length;a++){let i=this.members[a].forChild(t,n);i!=js&&(i instanceof Pc?r=r.concat(i.members):r.push(i))}return Pc.from(r)}eq(t){if(!(t instanceof Pc)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let a=0;a<this.members.length;a++){let i=this.members[a].localsInner(t);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let o=0;o<i.length;o++)n.push(i[o])}}return n?JR(r?n:n.sort(nu)):Ff}static from(t){switch(t.length){case 0:return js;case 1:return t[0];default:return new Pc(t.every(n=>n instanceof tr)?t:t.reduce((n,r)=>n.concat(r instanceof tr?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function CEe(e,t,n,r,a,i,o){let l=e.slice();for(let u=0,f=i;u<n.maps.length;u++){let m=0;n.maps[u].forEach((p,g,v,y)=>{let w=y-v-(g-p);for(let N=0;N<l.length;N+=3){let A=l[N+1];if(A<0||p>A+f-m)continue;let T=l[N]+f-m;g>=T?l[N+1]=p<=T?-2:-1:p>=f&&w&&(l[N]+=w,l[N+1]+=w)}m+=w}),f=n.maps[u].map(f,-1)}let c=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){c=!0,l[u+1]=-1;continue}let f=n.map(e[u]+i),m=f-a;if(m<0||m>=r.content.size){c=!0;continue}let p=n.map(e[u+1]+i,-1),g=p-a,{index:v,offset:y}=r.content.findIndex(m),w=r.maybeChild(v);if(w&&y==m&&y+w.nodeSize==g){let N=l[u+2].mapInner(n,w,f+1,e[u]+i+1,o);N!=js?(l[u]=m,l[u+1]=g,l[u+2]=N):(l[u+1]=-2,c=!0)}else c=!0}if(c){let u=kEe(l,e,t,n,a,i,o),f=tj(u,r,0,o);t=f.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,p=0;m<f.children.length;m+=3){let g=f.children[m];for(;p<l.length&&l[p]<g;)p+=3;l.splice(p,0,f.children[m],f.children[m+1],f.children[m+2])}}return new tr(t.sort(nu),l)}function Cte(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let a=e[r];n.push(new Bs(a.from+t,a.to+t,a.type))}return n}function kEe(e,t,n,r,a,i,o){function l(c,u){for(let f=0;f<c.local.length;f++){let m=c.local[f].map(r,a,u);m?n.push(m):o.onRemove&&o.onRemove(c.local[f].spec)}for(let f=0;f<c.children.length;f+=3)l(c.children[f+2],c.children[f]+u+1)}for(let c=0;c<e.length;c+=3)e[c+1]==-1&&l(e[c+2],t[c]+i+1);return n}function kte(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,a=null;for(let i=0,o;i<e.length;i++)(o=e[i])&&o.from>n&&o.to<r&&((a||(a=[])).push(o),e[i]=null);return a}function Tte(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function tj(e,t,n,r){let a=[],i=!1;t.forEach((l,c)=>{let u=kte(e,l,c+n);if(u){i=!0;let f=tj(u,l,n+c+1,r);f!=js&&a.push(c,c+l.nodeSize,f)}});let o=Cte(i?Tte(e):e,-n).sort(nu);for(let l=0;l<o.length;l++)o[l].type.valid(t,o[l])||(r.onRemove&&r.onRemove(o[l].spec),o.splice(l--,1));return o.length||a.length?new tr(o,a):js}function nu(e,t){return e.from-t.from||e.to-t.to}function JR(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let a=n+1;a<t.length;a++){let i=t[a];if(i.from==r.from){i.to!=r.to&&(t==e&&(t=e.slice()),t[a]=i.copy(i.from,r.to),jz(t,a+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),jz(t,a,r.copy(i.from,r.to)));break}}}return t}function jz(e,t,n){for(;t<e.length&&nu(n,e[t])>0;)t++;e.splice(t,0,n)}function WC(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=js&&t.push(r)}),e.cursorWrapper&&t.push(tr.create(e.state.doc,[e.cursorWrapper.deco])),Pc.from(t)}const TEe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},AEe=ma&&Bc<=11;class EEe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class OEe{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new EEe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let a=0;a<r.length;a++)this.queue.push(r[a]);ma&&Bc<=11&&r.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():ys&&t.composing&&r.some(a=>a.type=="childList"&&a.target.nodeName=="TR")?(t.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),AEe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,TEe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hz(this.view)){if(this.suppressingSelectionUpdates)return Ml(this.view);if(ma&&Bc<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&vu(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let i=t.focusNode;i;i=Ch(i))n.add(i);for(let i=t.anchorNode;i;i=Ch(i))if(n.has(i)){r=i;break}let a=r&&this.view.docView.nearestDesc(r);if(a&&a.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),a=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&hz(t)&&!this.ignoreSelectionChange(r),i=-1,o=-1,l=!1,c=[];if(t.editable)for(let f=0;f<n.length;f++){let m=this.registerMutation(n[f],c);m&&(i=i<0?m.from:Math.min(m.from,i),o=o<0?m.to:Math.max(m.to,o),m.typeOver&&(l=!0))}if(bi&&c.length){let f=c.filter(m=>m.nodeName=="BR");if(f.length==2){let[m,p]=f;m.parentNode&&m.parentNode.parentNode==p.parentNode?p.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let p of f){let g=p.parentNode;g&&g.nodeName=="LI"&&(!m||_Ee(t,m)!=g)&&p.remove()}}}else if((Jr||ys)&&c.some(f=>f.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let f of c)if(f.nodeName=="BR"&&f.parentNode){let m=f.nextSibling;m&&m.nodeType==1&&m.contentEditable=="false"&&f.parentNode.removeChild(f)}}let u=null;i<0&&a&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&PN(r)&&(u=HR(t))&&u.eq(pt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Ml(t),this.currentSelection.set(r),t.scrollToSelection()):(i>-1||a)&&(i>-1&&(t.docView.markDirty(i,o),PEe(t)),t.input.badSafariComposition&&(t.input.badSafariComposition=!1,REe(t,c)),this.handleDOMChange(i,o,l,c),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Ml(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let f=0;f<t.addedNodes.length;f++){let m=t.addedNodes[f];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let a=t.previousSibling,i=t.nextSibling;if(ma&&Bc<=11&&t.addedNodes.length)for(let f=0;f<t.addedNodes.length;f++){let{previousSibling:m,nextSibling:p}=t.addedNodes[f];(!m||Array.prototype.indexOf.call(t.addedNodes,m)<0)&&(a=m),(!p||Array.prototype.indexOf.call(t.addedNodes,p)<0)&&(i=p)}let o=a&&a.parentNode==t.target?xs(a)+1:0,l=r.localPosFromDOM(t.target,o,-1),c=i&&i.parentNode==t.target?xs(i):t.target.childNodes.length,u=r.localPosFromDOM(t.target,c,1);return{from:l,to:u}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let wz=new WeakMap,Nz=!1;function PEe(e){if(!wz.has(e)&&(wz.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=bi,Nz)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Nz=!0}}function Sz(e,t){let n=t.startContainer,r=t.startOffset,a=t.endContainer,i=t.endOffset,o=e.domAtPos(e.state.selection.anchor);return vu(o.node,o.offset,a,i)&&([n,r,a,i]=[a,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:a,focusOffset:i}}function MEe(e,t){if(t.getComposedRanges){let a=t.getComposedRanges(e.root)[0];if(a)return Sz(e,a)}let n;function r(a){a.preventDefault(),a.stopImmediatePropagation(),n=a.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?Sz(e,n):null}function _Ee(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function REe(e,t){var n;let{focusNode:r,focusOffset:a}=e.domSelectionRange();for(let i of t)if(((n=i.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let o=i.nextSibling;for(;o&&o.nodeName!="TD"&&o.nodeName!="TH";)o=o.nextSibling;if(o){let l=o;for(;;){let c=l.firstChild;if(!c||c.nodeType!=1||c.contentEditable=="false"||/^(BR|IMG)$/.test(c.nodeName))break;l=c}l.insertBefore(i,l.firstChild),r==i&&e.domSelection().collapse(i,a)}else i.parentNode.removeChild(i)}}function DEe(e,t,n){let{node:r,fromOffset:a,toOffset:i,from:o,to:l}=e.docView.parseRange(t,n),c=e.domSelectionRange(),u,f=c.anchorNode;if(f&&e.dom.contains(f.nodeType==1?f:f.parentNode)&&(u=[{node:f,offset:c.anchorOffset}],PN(c)||u.push({node:c.focusNode,offset:c.focusOffset})),Jr&&e.input.lastKeyCode===8)for(let w=i;w>a;w--){let N=r.childNodes[w-1],A=N.pmViewDesc;if(N.nodeName=="BR"&&!A){i=w;break}if(!A||A.size)break}let m=e.state.doc,p=e.someProp("domParser")||Fc.fromSchema(e.state.schema),g=m.resolve(o),v=null,y=p.parse(r,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:a,to:i,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:IEe,context:g});if(u&&u[0].pos!=null){let w=u[0].pos,N=u[1]&&u[1].pos;N==null&&(N=w),v={anchor:w+o,head:N+o}}return{doc:y,sel:v,from:o,to:l}}function IEe(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(ys&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||ys&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const LEe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function $Ee(e,t,n,r,a){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let O=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,_=HR(e,O);if(_&&!e.state.selection.eq(_)){if(Jr&&Cl&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",$=>$(e,Bd(13,"Enter"))))return;let M=e.state.tr.setSelection(_);O=="pointer"?M.setMeta("pointer",!0):O=="key"&&M.scrollIntoView(),i&&M.setMeta("composition",i),e.dispatch(M)}return}let o=e.state.doc.resolve(t),l=o.sharedDepth(n);t=o.before(l+1),n=e.state.doc.resolve(n).after(l+1);let c=e.state.selection,u=DEe(e,t,n),f=e.state.doc,m=f.slice(u.from,u.to),p,g;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(p=e.state.selection.to,g="end"):(p=e.state.selection.from,g="start"),e.input.lastKeyCode=null;let v=zEe(m.content,u.doc.content,u.from,p,g);if(v&&e.input.domChangeCount++,(kh&&e.input.lastIOSEnter>Date.now()-225||Cl)&&a.some(O=>O.nodeType==1&&!LEe.test(O.nodeName))&&(!v||v.endA>=v.endB)&&e.someProp("handleKeyDown",O=>O(e,Bd(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!v)if(r&&c instanceof yt&&!c.empty&&c.$head.sameParent(c.$anchor)&&!e.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))v={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let O=Cz(e,e.state.doc,u.sel);if(O&&!O.eq(e.state.selection)){let _=e.state.tr.setSelection(O);i&&_.setMeta("composition",i),e.dispatch(_)}}return}e.state.selection.from<e.state.selection.to&&v.start==v.endB&&e.state.selection instanceof yt&&(v.start>e.state.selection.from&&v.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?v.start=e.state.selection.from:v.endA<e.state.selection.to&&v.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(v.endB+=e.state.selection.to-v.endA,v.endA=e.state.selection.to)),ma&&Bc<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>u.from&&u.doc.textBetween(v.start-u.from-1,v.start-u.from+1)==" "&&(v.start--,v.endA--,v.endB--);let y=u.doc.resolveNoCache(v.start-u.from),w=u.doc.resolveNoCache(v.endB-u.from),N=f.resolve(v.start),A=y.sameParent(w)&&y.parent.inlineContent&&N.end()>=v.endA;if((kh&&e.input.lastIOSEnter>Date.now()-225&&(!A||a.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!A&&y.pos<u.doc.content.size&&(!y.sameParent(w)||!y.parent.inlineContent)&&y.pos<w.pos&&!/\S/.test(u.doc.textBetween(y.pos,w.pos,"","")))&&e.someProp("handleKeyDown",O=>O(e,Bd(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>v.start&&BEe(f,v.start,v.endA,y,w)&&e.someProp("handleKeyDown",O=>O(e,Bd(8,"Backspace")))){Cl&&Jr&&e.domObserver.suppressSelectionUpdates();return}Jr&&v.endB==v.start&&(e.input.lastChromeDelete=Date.now()),Cl&&!A&&y.start()!=w.start()&&w.parentOffset==0&&y.depth==w.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==v.endA&&(v.endB-=2,w=u.doc.resolveNoCache(v.endB-u.from),setTimeout(()=>{e.someProp("handleKeyDown",function(O){return O(e,Bd(13,"Enter"))})},20));let T=v.start,C=v.endA,S=O=>{let _=O||e.state.tr.replace(T,C,u.doc.slice(v.start-u.from,v.endB-u.from));if(u.sel){let M=Cz(e,_.doc,u.sel);M&&!(Jr&&e.composing&&M.empty&&(v.start!=v.endB||e.input.lastChromeDelete<Date.now()-100)&&(M.head==T||M.head==_.mapping.map(C)-1)||ma&&M.empty&&M.head==T)&&_.setSelection(M)}return i&&_.setMeta("composition",i),_.scrollIntoView()},E;if(A)if(y.pos==w.pos){ma&&Bc<=11&&y.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ml(e),20));let O=S(e.state.tr.delete(T,C)),_=f.resolve(v.start).marksAcross(f.resolve(v.endA));_&&O.ensureMarks(_),e.dispatch(O)}else if(v.endA==v.endB&&(E=FEe(y.parent.content.cut(y.parentOffset,w.parentOffset),N.parent.content.cut(N.parentOffset,v.endA-N.start())))){let O=S(e.state.tr);E.type=="add"?O.addMark(T,C,E.mark):O.removeMark(T,C,E.mark),e.dispatch(O)}else if(y.parent.child(y.index()).isText&&y.index()==w.index()-(w.textOffset?0:1)){let O=y.parent.textBetween(y.parentOffset,w.parentOffset),_=()=>S(e.state.tr.insertText(O,T,C));e.someProp("handleTextInput",M=>M(e,T,C,O,_))||e.dispatch(_())}else e.dispatch(S());else e.dispatch(S())}function Cz(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:KR(e,t.resolve(n.anchor),t.resolve(n.head))}function FEe(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,a=n,i=r,o,l,c;for(let f=0;f<r.length;f++)a=r[f].removeFromSet(a);for(let f=0;f<n.length;f++)i=n[f].removeFromSet(i);if(a.length==1&&i.length==0)l=a[0],o="add",c=f=>f.mark(l.addToSet(f.marks));else if(a.length==0&&i.length==1)l=i[0],o="remove",c=f=>f.mark(l.removeFromSet(f.marks));else return null;let u=[];for(let f=0;f<t.childCount;f++)u.push(c(t.child(f)));if(Ee.from(u).eq(e))return{mark:l,type:o}}function BEe(e,t,n,r,a){if(n-t<=a.pos-r.pos||GC(r,!0,!1)<a.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==t+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=e.resolve(GC(i,!0,!0));return!o.parent.isTextblock||o.pos>n||GC(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function GC(e,t,n){let r=e.depth,a=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,a++,t=!1;if(n){let i=e.node(r).maybeChild(e.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,a++}return a}function zEe(e,t,n,r,a){let i=e.findDiffStart(t,n);if(i==null)return null;let{a:o,b:l}=e.findDiffEnd(t,n+e.size,n+t.size);if(a=="end"){let c=Math.max(0,i-Math.min(o,l));r-=o+c-i}if(o<i&&e.size<t.size){let c=r<=i&&r>=o?i-r:0;i-=c,i&&i<t.size&&kz(t.textBetween(i-1,i+1))&&(i+=c?1:-1),l=i+(l-o),o=i}else if(l<i){let c=r<=i&&r>=l?i-r:0;i-=c,i&&i<e.size&&kz(e.textBetween(i-1,i+1))&&(i+=c?1:-1),o=i+(o-l),l=i}return{start:i,endA:o,endB:l}}function kz(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class Ate{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new rEe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Pz),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Ez(this),Az(this),this.nodeViews=Oz(this),this.docView=oz(this.state.doc,Tz(this),WC(this),this.dom,this),this.domObserver=new OEe(this,(r,a,i,o)=>$Ee(this,r,a,i,o)),this.domObserver.start(),sEe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&GP(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(Pz),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let a=this.state,i=!1,o=!1;t.storedMarks&&this.composing&&(jte(this),o=!0),this.state=t;let l=a.plugins!=t.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let g=Oz(this);UEe(g,this.nodeViews)&&(this.nodeViews=g,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&GP(this),this.editable=Ez(this),Az(this);let c=WC(this),u=Tz(this),f=a.plugins!=t.plugins&&!a.doc.eq(t.doc)?"reset":t.scrollToSelection>a.scrollToSelection?"to selection":"preserve",m=i||!this.docView.matchesNode(t.doc,u,c);(m||!t.selection.eq(a.selection))&&(o=!0);let p=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&yAe(this);if(o){this.domObserver.stop();let g=m&&(ma||Jr)&&!this.composing&&!a.selection.empty&&!t.selection.empty&&qEe(a.selection,t.selection);if(m){let v=Jr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=yEe(this)),(i||!this.docView.update(t.doc,u,c,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=oz(t.doc,u,c,this.dom,this)),v&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&qAe(this))?Ml(this,g):(cte(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(a),!((r=this.dragging)===null||r===void 0)&&r.node&&!a.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,a),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():p&&vAe(p)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof tt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&tz(this,n.getBoundingClientRect(),t)}else tz(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,a=-1;if(this.state.doc.nodeAt(r.from)==r.node)a=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(a=i)}this.dragging=new Nte(t.slice,t.move,a<0?void 0:tt.create(this.state.doc,a))}someProp(t,n){let r=this._props&&this._props[t],a;if(r!=null&&(a=n?n(r):r))return a;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[t];if(l!=null&&(a=n?n(l):l))return a}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let l=i[o].props[t];if(l!=null&&(a=n?n(l):l))return a}}hasFocus(){if(ma){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&bAe(this.dom),Ml(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return CAe(this,t)}coordsAtPos(t,n=1){return tte(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let a=this.docView.posFromDOM(t,n,r);if(a==null)throw new RangeError("DOM position not inside the editor");return a}endOfTextblock(t,n){return OAe(this,n||this.state,t)}pasteHTML(t,n){return ag(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return ag(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return WR(this,t)}destroy(){this.docView&&(aEe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],WC(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,lAe())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return oEe(this,t)}domSelectionRange(){let t=this.domSelection();return t?ys&&this.root.nodeType===11&&hAe(this.dom.ownerDocument)==this.dom&&MEe(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Ate.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function Tz(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[Bs.node(0,e.state.doc.content.size,t)]}function Az(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Bs.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Ez(e){return!e.someProp("editable",t=>t(e.state)===!1)}function qEe(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function Oz(e){let t=Object.create(null);function n(r){for(let a in r)Object.prototype.hasOwnProperty.call(t,a)||(t[a]=r[a])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function UEe(e,t){let n=0,r=0;for(let a in e){if(e[a]!=t[a])return!0;n++}for(let a in t)r++;return n!=r}function Pz(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Yc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},nj={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},VEe=typeof navigator<"u"&&/Mac/.test(navigator.platform),HEe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var gs=0;gs<10;gs++)Yc[48+gs]=Yc[96+gs]=String(gs);for(var gs=1;gs<=24;gs++)Yc[gs+111]="F"+gs;for(var gs=65;gs<=90;gs++)Yc[gs]=String.fromCharCode(gs+32),nj[gs]=String.fromCharCode(gs);for(var YC in Yc)nj.hasOwnProperty(YC)||(nj[YC]=Yc[YC]);function KEe(e){var t=VEe&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||HEe&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?nj:Yc)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const WEe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),GEe=typeof navigator<"u"&&/Win/.test(navigator.platform);function YEe(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,a,i,o;for(let l=0;l<t.length-1;l++){let c=t[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))a=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))WEe?o=!0:a=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),a&&(n="Ctrl-"+n),o&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function XEe(e){let t=Object.create(null);for(let n in e)t[YEe(n)]=e[n];return t}function XC(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function QEe(e){return new Bn({props:{handleKeyDown:ZR(e)}})}function ZR(e){let t=XEe(e);return function(n,r){let a=KEe(r),i,o=t[XC(a,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(a.length==1&&a!=" "){if(r.shiftKey){let l=t[XC(a,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(GEe&&r.ctrlKey&&r.altKey)&&(i=Yc[r.keyCode])&&i!=a){let l=t[XC(i,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}var JEe=Object.defineProperty,e5=(e,t)=>{for(var n in t)JEe(e,n,{get:t[n],enumerable:!0})};function RN(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:a}=n,{storedMarks:i}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return r},get doc(){return a},get tr(){return r=n.selection,a=n.doc,i=n.storedMarks,n}}}var DN=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:a}=n,i=this.buildProps(a);return Object.fromEntries(Object.entries(e).map(([o,l])=>[o,(...u)=>{const f=l(...u)(i);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(a),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:a}=this,{view:i}=r,o=[],l=!!e,c=e||a.tr,u=()=>(!l&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(c),o.every(m=>m===!0)),f={...Object.fromEntries(Object.entries(n).map(([m,p])=>[m,(...v)=>{const y=this.buildProps(c,t),w=p(...v)(y);return o.push(w),f}])),run:u};return f}createCan(e){const{rawCommands:t,state:n}=this,r=!1,a=e||n.tr,i=this.buildProps(a,r);return{...Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...u)=>c(...u)({...i,dispatch:void 0})])),chain:()=>this.createChain(a,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:a}=this,{view:i}=r,o={tr:e,editor:r,view:i,state:RN({state:a,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)(o)]))}};return o}},Ete={};e5(Ete,{blur:()=>ZEe,clearContent:()=>eOe,clearNodes:()=>tOe,command:()=>nOe,createParagraphNear:()=>rOe,cut:()=>sOe,deleteCurrentNode:()=>aOe,deleteNode:()=>iOe,deleteRange:()=>oOe,deleteSelection:()=>lOe,enter:()=>cOe,exitCode:()=>dOe,extendMarkRange:()=>uOe,first:()=>fOe,focus:()=>mOe,forEach:()=>pOe,insertContent:()=>xOe,insertContentAt:()=>vOe,joinBackward:()=>wOe,joinDown:()=>jOe,joinForward:()=>NOe,joinItemBackward:()=>SOe,joinItemForward:()=>COe,joinTextblockBackward:()=>kOe,joinTextblockForward:()=>TOe,joinUp:()=>bOe,keyboardShortcut:()=>EOe,lift:()=>OOe,liftEmptyBlock:()=>POe,liftListItem:()=>MOe,newlineInCode:()=>_Oe,resetAttributes:()=>ROe,scrollIntoView:()=>DOe,selectAll:()=>IOe,selectNodeBackward:()=>LOe,selectNodeForward:()=>$Oe,selectParentNode:()=>FOe,selectTextblockEnd:()=>BOe,selectTextblockStart:()=>zOe,setContent:()=>qOe,setMark:()=>oPe,setMeta:()=>lPe,setNode:()=>cPe,setNodeSelection:()=>dPe,setTextDirection:()=>uPe,setTextSelection:()=>fPe,sinkListItem:()=>hPe,splitBlock:()=>mPe,splitListItem:()=>pPe,toggleList:()=>xPe,toggleMark:()=>gPe,toggleNode:()=>yPe,toggleWrap:()=>vPe,undoInputRule:()=>bPe,unsetAllMarks:()=>jPe,unsetMark:()=>wPe,unsetTextDirection:()=>NPe,updateAttributes:()=>SPe,wrapIn:()=>CPe,wrapInList:()=>kPe});var ZEe=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),eOe=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),tOe=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:a}=r;return n&&a.forEach(({$from:i,$to:o})=>{e.doc.nodesBetween(i.pos,o.pos,(l,c)=>{if(l.type.isText)return;const{doc:u,mapping:f}=t,m=u.resolve(f.map(c)),p=u.resolve(f.map(c+l.nodeSize)),g=m.blockRange(p);if(!g)return;const v=gm(g);if(l.type.isTextblock){const{defaultType:y}=m.parent.contentMatchAt(m.index());t.setNodeMarkup(g.start,y)}(v||v===0)&&t.lift(g,v)})}),!0},nOe=e=>t=>e(t),rOe=()=>({state:e,dispatch:t})=>Vee(e,t),sOe=(e,t)=>({editor:n,tr:r})=>{const{state:a}=n,i=a.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const o=r.mapping.map(t);return r.insert(o,i.content),r.setSelection(new yt(r.doc.resolve(Math.max(o-1,0)))),!0},aOe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const a=e.selection.$anchor;for(let i=a.depth;i>0;i-=1)if(a.node(i).type===r.type){if(t){const l=a.before(i),c=a.after(i);e.delete(l,c).scrollIntoView()}return!0}return!1};function Mr(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var iOe=e=>({tr:t,state:n,dispatch:r})=>{const a=Mr(e,n.schema),i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===a){if(r){const c=i.before(o),u=i.after(o);t.delete(c,u).scrollIntoView()}return!0}return!1},oOe=e=>({tr:t,dispatch:n})=>{const{from:r,to:a}=e;return n&&t.delete(r,a),!0},lOe=()=>({state:e,dispatch:t})=>FR(e,t),cOe=()=>({commands:e})=>e.keyboardShortcut("Enter"),dOe=()=>({state:e,dispatch:t})=>WTe(e,t);function t5(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function rj(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(a=>n.strict?t[a]===e[a]:t5(t[a])?t[a].test(e[a]):t[a]===e[a]):!0}function Ote(e,t,n={}){return e.find(r=>r.type===t&&rj(Object.fromEntries(Object.keys(n).map(a=>[a,r.attrs[a]])),n))}function Mz(e,t,n={}){return!!Ote(e,t,n)}function n5(e,t,n){var r;if(!e||!t)return;let a=e.parent.childAfter(e.parentOffset);if((!a.node||!a.node.marks.some(f=>f.type===t))&&(a=e.parent.childBefore(e.parentOffset)),!a.node||!a.node.marks.some(f=>f.type===t)||(n=n||((r=a.node.marks[0])==null?void 0:r.attrs),!Ote([...a.node.marks],t,n)))return;let o=a.index,l=e.start()+a.offset,c=o+1,u=l+a.node.nodeSize;for(;o>0&&Mz([...e.parent.child(o-1).marks],t,n);)o-=1,l-=e.parent.child(o).nodeSize;for(;c<e.parent.childCount&&Mz([...e.parent.child(c).marks],t,n);)u+=e.parent.child(c).nodeSize,c+=1;return{from:l,to:u}}function Kl(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var uOe=(e,t={})=>({tr:n,state:r,dispatch:a})=>{const i=Kl(e,r.schema),{doc:o,selection:l}=n,{$from:c,from:u,to:f}=l;if(a){const m=n5(c,i,t);if(m&&m.from<=u&&m.to>=f){const p=yt.create(o,m.from,m.to);n.setSelection(p)}}return!0},fOe=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function r5(e){return e instanceof yt}function kl(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function Pte(e,t=null){if(!t)return null;const n=pt.atStart(e),r=pt.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const a=n.from,i=r.to;return t==="all"?yt.create(e,kl(0,a,i),kl(e.content.size,a,i)):yt.create(e,kl(t,a,i),kl(t,a,i))}function _z(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function sj(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function hOe(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var mOe=(e=null,t={})=>({editor:n,view:r,tr:a,dispatch:i})=>{t={scrollIntoView:!0,...t};const o=()=>{(sj()||_z())&&r.dom.focus(),hOe()&&!sj()&&!_z()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};try{if(r.hasFocus()&&e===null||e===!1)return!0}catch{return!1}if(i&&e===null&&!r5(n.state.selection))return o(),!0;const l=Pte(a.doc,e)||n.state.selection,c=n.state.selection.eq(l);return i&&(c||a.setSelection(l),c&&a.storedMarks&&a.setStoredMarks(a.storedMarks),o()),!0},pOe=(e,t)=>n=>e.every((r,a)=>t(r,{...n,index:a})),xOe=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),Mte=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&Mte(r)}return e};function mb(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return Mte(n)}function og(e,t,n){if(e instanceof $c||e instanceof Ee)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,a=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return Ee.fromArray(e.map(l=>t.nodeFromJSON(l)));const o=t.nodeFromJSON(e);return n.errorOnInvalidContent&&o.check(),o}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",i),og("",t,n)}if(a){if(n.errorOnInvalidContent){let o=!1,l="";const c=new xee({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(o=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?Fc.fromSchema(c).parseSlice(mb(e),n.parseOptions):Fc.fromSchema(c).parse(mb(e),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=Fc.fromSchema(t);return n.slice?i.parseSlice(mb(e),n.parseOptions).content:i.parse(mb(e),n.parseOptions)}return og("",t,n)}function gOe(e,t,n){const r=e.steps.length-1;if(r<t)return;const a=e.steps[r];if(!(a instanceof Yr||a instanceof Zr))return;const i=e.mapping.maps[r];let o=0;i.forEach((l,c,u,f)=>{o===0&&(o=f)}),e.setSelection(pt.near(e.doc.resolve(o),n))}var yOe=e=>!("type"in e),vOe=(e,t,n)=>({tr:r,dispatch:a,editor:i})=>{var o;if(a){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const c=w=>{i.emit("contentError",{editor:i,error:w,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{og(t,i.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(w){c(w)}try{l=og(t,i.schema,{parseOptions:u,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:i.options.enableContentCheck})}catch(w){return c(w),!1}let{from:f,to:m}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},p=!0,g=!0;if((yOe(l)?l:[l]).forEach(w=>{w.check(),p=p?w.isText&&w.marks.length===0:!1,g=g?w.isBlock:!1}),f===m&&g){const{parent:w}=r.doc.resolve(f);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(f-=1,m+=1)}let y;if(p){if(Array.isArray(t))y=t.map(w=>w.text||"").join("");else if(t instanceof Ee){let w="";t.forEach(N=>{N.text&&(w+=N.text)}),y=w}else typeof t=="object"&&t&&t.text?y=t.text:y=t;r.insertText(y,f,m)}else{y=l;const w=r.doc.resolve(f),N=w.node(),A=w.parentOffset===0,T=N.isText||N.isTextblock,C=N.content.size>0;A&&T&&C&&(f=Math.max(0,f-1)),r.replaceWith(f,m,y)}n.updateSelection&&gOe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:f,text:y}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:f,text:y})}return!0},bOe=()=>({state:e,dispatch:t})=>VTe(e,t),jOe=()=>({state:e,dispatch:t})=>HTe(e,t),wOe=()=>({state:e,dispatch:t})=>Lee(e,t),NOe=()=>({state:e,dispatch:t})=>zee(e,t),SOe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=AN(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},COe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=AN(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},kOe=()=>({state:e,dispatch:t})=>qTe(e,t),TOe=()=>({state:e,dispatch:t})=>UTe(e,t);function _te(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function AOe(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,a,i,o;for(let l=0;l<t.length-1;l+=1){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))a=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))sj()||_te()?o=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(n=`Alt-${n}`),a&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var EOe=e=>({editor:t,view:n,tr:r,dispatch:a})=>{const i=AOe(e).split(/-(?!$)/),o=i.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=t.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return c?.steps.forEach(u=>{const f=u.map(r.mapping);f&&a&&r.maybeStep(f)}),!0};function Xc(e,t,n={}){const{from:r,to:a,empty:i}=e.selection,o=t?Mr(t,e.schema):null,l=[];e.doc.nodesBetween(r,a,(m,p)=>{if(m.isText)return;const g=Math.max(r,p),v=Math.min(a,p+m.nodeSize);l.push({node:m,from:g,to:v})});const c=a-r,u=l.filter(m=>o?o.name===m.node.type.name:!0).filter(m=>rj(m.node.attrs,n,{strict:!1}));return i?!!u.length:u.reduce((m,p)=>m+p.to-p.from,0)>=c}var OOe=(e,t={})=>({state:n,dispatch:r})=>{const a=Mr(e,n.schema);return Xc(n,a,t)?KTe(n,r):!1},POe=()=>({state:e,dispatch:t})=>Hee(e,t),MOe=e=>({state:t,dispatch:n})=>{const r=Mr(e,t.schema);return sAe(r)(t,n)},_Oe=()=>({state:e,dispatch:t})=>Uee(e,t);function IN(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function Rz(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,a)=>(n.includes(a)||(r[a]=e[a]),r),{})}var ROe=(e,t)=>({tr:n,state:r,dispatch:a})=>{let i=null,o=null;const l=IN(typeof e=="string"?e:e.name,r.schema);if(!l)return!1;l==="node"&&(i=Mr(e,r.schema)),l==="mark"&&(o=Kl(e,r.schema));let c=!1;return n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(f,m)=>{i&&i===f.type&&(c=!0,a&&n.setNodeMarkup(m,void 0,Rz(f.attrs,t))),o&&f.marks.length&&f.marks.forEach(p=>{o===p.type&&(c=!0,a&&n.addMark(m,m+f.nodeSize,o.create(Rz(p.attrs,t))))})})}),c},DOe=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),IOe=()=>({tr:e,dispatch:t})=>{if(t){const n=new Fa(e.doc);e.setSelection(n)}return!0},LOe=()=>({state:e,dispatch:t})=>Fee(e,t),$Oe=()=>({state:e,dispatch:t})=>qee(e,t),FOe=()=>({state:e,dispatch:t})=>XTe(e,t),BOe=()=>({state:e,dispatch:t})=>ZTe(e,t),zOe=()=>({state:e,dispatch:t})=>JTe(e,t);function YP(e,t,n={},r={}){return og(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var qOe=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:a,tr:i,dispatch:o,commands:l})=>{const{doc:c}=i;if(r.preserveWhitespace!=="full"){const u=YP(e,a.schema,r,{errorOnInvalidContent:t??a.options.enableContentCheck});return o&&i.replaceWith(0,c.content.size,u).setMeta("preventUpdate",!n),!0}return o&&i.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:c.content.size},e,{parseOptions:r,errorOnInvalidContent:t??a.options.enableContentCheck})};function Rte(e,t){const n=Kl(t,e.schema),{from:r,to:a,empty:i}=e.selection,o=[];i?(e.storedMarks&&o.push(...e.storedMarks),o.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,a,c=>{o.push(...c.marks)});const l=o.find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function Dte(e,t){const n=new Mee(e);return t.forEach(r=>{r.steps.forEach(a=>{n.step(a)})}),n}function UOe(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function VOe(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(a,i)=>{n(a)&&r.push({node:a,pos:i})}),r}function HOe(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function LN(e){return t=>HOe(t.$from,e)}function Qe(e,t,n){return e.config[t]===void 0&&e.parent?Qe(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Qe(e.parent,t,n):null}):e.config[t]}function s5(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=Qe(t,"addExtensions",n);return r?[t,...s5(r())]:t}).flat(10)}function a5(e,t){const n=Iu.fromSchema(t).serializeFragment(e),a=document.implementation.createHTMLDocument().createElement("div");return a.appendChild(n),a.innerHTML}function Ite(e){return typeof e=="function"}function hn(e,t=void 0,...n){return Ite(e)?t?e.bind(t)(...n):e(...n):e}function KOe(e={}){return Object.keys(e).length===0&&e.constructor===Object}function Th(e){const t=e.filter(a=>a.type==="extension"),n=e.filter(a=>a.type==="node"),r=e.filter(a=>a.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function Lte(e){const t=[],{nodeExtensions:n,markExtensions:r}=Th(e),a=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:a},c=Qe(o,"addGlobalAttributes",l);if(!c)return;c().forEach(f=>{f.types.forEach(m=>{Object.entries(f.attributes).forEach(([p,g])=>{t.push({type:m,name:p,attribute:{...i,...g}})})})})}),a.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},c=Qe(o,"addAttributes",l);if(!c)return;const u=c();Object.entries(u).forEach(([f,m])=>{const p={...i,...m};typeof p?.default=="function"&&(p.default=p.default()),p?.isRequired&&p?.default===void 0&&delete p.default,t.push({type:o.name,name:f,attribute:p})})}),t}function br(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([a,i])=>{if(!r[a]){r[a]=i;return}if(a==="class"){const l=i?String(i).split(" "):[],c=r[a]?r[a].split(" "):[],u=l.filter(f=>!c.includes(f));r[a]=[...c,...u].join(" ")}else if(a==="style"){const l=i?i.split(";").map(f=>f.trim()).filter(Boolean):[],c=r[a]?r[a].split(";").map(f=>f.trim()).filter(Boolean):[],u=new Map;c.forEach(f=>{const[m,p]=f.split(":").map(g=>g.trim());u.set(m,p)}),l.forEach(f=>{const[m,p]=f.split(":").map(g=>g.trim());u.set(m,p)}),r[a]=Array.from(u.entries()).map(([f,m])=>`${f}: ${m}`).join("; ")}else r[a]=i}),r},{})}function lg(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>br(n,r),{})}function WOe(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function Dz(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const a=t.reduce((i,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(n):WOe(n.getAttribute(o.name));return l==null?i:{...i,[o.name]:l}},{});return{...r,...a}}}}function Iz(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&KOe(n)?!1:n!=null))}function Lz(e){var t,n;const r={};return!((t=e?.attribute)!=null&&t.isRequired)&&"default"in(e?.attribute||{})&&(r.default=e.attribute.default),((n=e?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=e.attribute.validate),[e.name,r]}function GOe(e,t){var n;const r=Lte(e),{nodeExtensions:a,markExtensions:i}=Th(e),o=(n=a.find(u=>Qe(u,"topNode")))==null?void 0:n.name,l=Object.fromEntries(a.map(u=>{const f=r.filter(N=>N.type===u.name),m={name:u.name,options:u.options,storage:u.storage,editor:t},p=e.reduce((N,A)=>{const T=Qe(A,"extendNodeSchema",m);return{...N,...T?T(u):{}}},{}),g=Iz({...p,content:hn(Qe(u,"content",m)),marks:hn(Qe(u,"marks",m)),group:hn(Qe(u,"group",m)),inline:hn(Qe(u,"inline",m)),atom:hn(Qe(u,"atom",m)),selectable:hn(Qe(u,"selectable",m)),draggable:hn(Qe(u,"draggable",m)),code:hn(Qe(u,"code",m)),whitespace:hn(Qe(u,"whitespace",m)),linebreakReplacement:hn(Qe(u,"linebreakReplacement",m)),defining:hn(Qe(u,"defining",m)),isolating:hn(Qe(u,"isolating",m)),attrs:Object.fromEntries(f.map(Lz))}),v=hn(Qe(u,"parseHTML",m));v&&(g.parseDOM=v.map(N=>Dz(N,f)));const y=Qe(u,"renderHTML",m);y&&(g.toDOM=N=>y({node:N,HTMLAttributes:lg(N,f)}));const w=Qe(u,"renderText",m);return w&&(g.toText=w),[u.name,g]})),c=Object.fromEntries(i.map(u=>{const f=r.filter(w=>w.type===u.name),m={name:u.name,options:u.options,storage:u.storage,editor:t},p=e.reduce((w,N)=>{const A=Qe(N,"extendMarkSchema",m);return{...w,...A?A(u):{}}},{}),g=Iz({...p,inclusive:hn(Qe(u,"inclusive",m)),excludes:hn(Qe(u,"excludes",m)),group:hn(Qe(u,"group",m)),spanning:hn(Qe(u,"spanning",m)),code:hn(Qe(u,"code",m)),attrs:Object.fromEntries(f.map(Lz))}),v=hn(Qe(u,"parseHTML",m));v&&(g.parseDOM=v.map(w=>Dz(w,f)));const y=Qe(u,"renderHTML",m);return y&&(g.toDOM=w=>y({mark:w,HTMLAttributes:lg(w,f)})),[u.name,g]}));return new xee({topNode:o,nodes:l,marks:c})}function YOe(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function aj(e){return e.sort((n,r)=>{const a=Qe(n,"priority")||100,i=Qe(r,"priority")||100;return a>i?-1:a<i?1:0})}function $te(e){const t=aj(s5(e)),n=YOe(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function Fte(e,t,n){const{from:r,to:a}=t,{blockSeparator:i=`

`,textSerializers:o={}}=n||{};let l="";return e.nodesBetween(r,a,(c,u,f,m)=>{var p;c.isBlock&&u>r&&(l+=i);const g=o?.[c.type.name];if(g)return f&&(l+=g({node:c,pos:u,parent:f,index:m,range:t})),!1;c.isText&&(l+=(p=c?.text)==null?void 0:p.slice(Math.max(r,u)-u,a-u))}),l}function Bte(e,t){const n={from:0,to:e.content.size};return Fte(e,n,t)}function i5(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function XOe(e,t){const n=Mr(t,e.schema),{from:r,to:a}=e.selection,i=[];e.doc.nodesBetween(r,a,l=>{i.push(l)});const o=i.reverse().find(l=>l.type.name===n.name);return o?{...o.attrs}:{}}function zte(e,t){const n=IN(typeof t=="string"?t:t.name,e.schema);return n==="node"?XOe(e,t):n==="mark"?Rte(e,t):{}}function QOe(e,t=JSON.stringify){const n={};return e.filter(r=>{const a=t(r);return Object.prototype.hasOwnProperty.call(n,a)?!1:n[a]=!0})}function JOe(e){const t=QOe(e);return t.length===1?t:t.filter((n,r)=>!t.filter((i,o)=>o!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function qte(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((a,i)=>{const o=[];if(a.ranges.length)a.forEach((l,c)=>{o.push({from:l,to:c})});else{const{from:l,to:c}=n[i];if(l===void 0||c===void 0)return;o.push({from:l,to:c})}o.forEach(({from:l,to:c})=>{const u=t.slice(i).map(l,-1),f=t.slice(i).map(c),m=t.invert().map(u,-1),p=t.invert().map(f);r.push({oldRange:{from:m,to:p},newRange:{from:u,to:f}})})}),JOe(r)}function o5(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(a=>{const i=n.resolve(e),o=n5(i,a.type);o&&r.push({mark:a,...o})}):n.nodesBetween(e,t,(a,i)=>{!a||a?.nodeSize===void 0||r.push(...a.marks.map(o=>({from:i,to:i+a.nodeSize,mark:o})))}),r}var ZOe=(e,t,n,r=20)=>{const a=e.doc.resolve(n);let i=r,o=null;for(;i>0&&o===null;){const l=a.node(i);l?.type.name===t?o=l:i-=1}return[o,i]};function pb(e,t){return t.nodes[e]||t.marks[e]||null}function o0(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const a=e.find(i=>i.type===t&&i.name===r);return a?a.attribute.keepOnSplit:!1}))}var ePe=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(a,i,o,l)=>{var c,u;const f=((u=(c=a.type.spec).toText)==null?void 0:u.call(c,{node:a,pos:i,parent:o,index:l}))||a.textContent||"%leaf%";n+=a.isAtom&&!a.isText?f:f.slice(0,Math.max(0,r-i))}),n};function XP(e,t,n={}){const{empty:r,ranges:a}=e.selection,i=t?Kl(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(m=>i?i.name===m.type.name:!0).find(m=>rj(m.attrs,n,{strict:!1}));let o=0;const l=[];if(a.forEach(({$from:m,$to:p})=>{const g=m.pos,v=p.pos;e.doc.nodesBetween(g,v,(y,w)=>{if(!y.isText&&!y.marks.length)return;const N=Math.max(g,w),A=Math.min(v,w+y.nodeSize),T=A-N;o+=T,l.push(...y.marks.map(C=>({mark:C,from:N,to:A})))})}),o===0)return!1;const c=l.filter(m=>i?i.name===m.mark.type.name:!0).filter(m=>rj(m.mark.attrs,n,{strict:!1})).reduce((m,p)=>m+p.to-p.from,0),u=l.filter(m=>i?m.mark.type!==i&&m.mark.type.excludes(i):!0).reduce((m,p)=>m+p.to-p.from,0);return(c>0?c+u:c)>=o}function tPe(e,t,n={}){if(!t)return Xc(e,null,n)||XP(e,null,n);const r=IN(t,e.schema);return r==="node"?Xc(e,t,n):r==="mark"?XP(e,t,n):!1}var nPe=(e,t)=>{const{$from:n,$to:r,$anchor:a}=e.selection;if(t){const i=LN(l=>l.type.name===t)(e.selection);if(!i)return!1;const o=e.doc.resolve(i.pos+1);return a.pos+1===o.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},rPe=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function $z(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function Fz(e,t){const{nodeExtensions:n}=Th(t),r=n.find(o=>o.name===e);if(!r)return!1;const a={name:r.name,options:r.options,storage:r.storage},i=hn(Qe(r,"group",a));return typeof i!="string"?!1:i.split(" ").includes("list")}function $N(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let a=!0;return e.content.forEach(i=>{a!==!1&&($N(i,{ignoreWhitespace:n,checkChildren:t})||(a=!1))}),a}return!1}function Ute(e){return e instanceof tt}var Vte=class Hte{constructor(t){this.position=t}static fromJSON(t){return new Hte(t.position)}toJSON(){return{position:this.position}}};function sPe(e,t){const n=t.mapping.mapResult(e.position);return{position:new Vte(n.pos),mapResult:n}}function aPe(e){return new Vte(e)}function Kte(e,t,n){const a=e.state.doc.content.size,i=kl(t,0,a),o=kl(n,0,a),l=e.coordsAtPos(i),c=e.coordsAtPos(o,-1),u=Math.min(l.top,c.top),f=Math.max(l.bottom,c.bottom),m=Math.min(l.left,c.left),p=Math.max(l.right,c.right),g=p-m,v=f-u,N={top:u,bottom:f,left:m,right:p,width:g,height:v,x:m,y:u};return{...N,toJSON:()=>N}}function iPe(e,t,n){var r;const{selection:a}=t;let i=null;if(r5(a)&&(i=a.$cursor),i){const l=(r=e.storedMarks)!=null?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(u=>u.type.excludes(n)))}const{ranges:o}=a;return o.some(({$from:l,$to:c})=>{let u=l.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(l.pos,c.pos,(f,m,p)=>{if(u)return!1;if(f.isInline){const g=!p||p.type.allowsMarkType(n),v=!!n.isInSet(f.marks)||!f.marks.some(y=>y.type.excludes(n));u=g&&v}return!u}),u})}var oPe=(e,t={})=>({tr:n,state:r,dispatch:a})=>{const{selection:i}=n,{empty:o,ranges:l}=i,c=Kl(e,r.schema);if(a)if(o){const u=Rte(r,c);n.addStoredMark(c.create({...u,...t}))}else l.forEach(u=>{const f=u.$from.pos,m=u.$to.pos;r.doc.nodesBetween(f,m,(p,g)=>{const v=Math.max(g,f),y=Math.min(g+p.nodeSize,m);p.marks.find(N=>N.type===c)?p.marks.forEach(N=>{c===N.type&&n.addMark(v,y,c.create({...N.attrs,...t}))}):n.addMark(v,y,c.create(t))})});return iPe(r,n,c)},lPe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),cPe=(e,t={})=>({state:n,dispatch:r,chain:a})=>{const i=Mr(e,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),i.isTextblock?a().command(({commands:l})=>JB(i,{...o,...t})(n)?!0:l.clearNodes()).command(({state:l})=>JB(i,{...o,...t})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},dPe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,a=kl(e,0,r.content.size),i=tt.create(r,a);t.setSelection(i)}return!0},uPe=(e,t)=>({tr:n,state:r,dispatch:a})=>{const{selection:i}=r;let o,l;return typeof t=="number"?(o=t,l=t):t&&"from"in t&&"to"in t?(o=t.from,l=t.to):(o=i.from,l=i.to),a&&n.doc.nodesBetween(o,l,(c,u)=>{c.isText||n.setNodeMarkup(u,void 0,{...c.attrs,dir:e})}),!0},fPe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:a,to:i}=typeof e=="number"?{from:e,to:e}:e,o=yt.atStart(r).from,l=yt.atEnd(r).to,c=kl(a,o,l),u=kl(i,o,l),f=yt.create(r,c,u);t.setSelection(f)}return!0},hPe=e=>({state:t,dispatch:n})=>{const r=Mr(e,t.schema);return oAe(r)(t,n)};function Bz(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(a=>t?.includes(a.type.name));e.tr.ensureMarks(r)}}var mPe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:a})=>{const{selection:i,doc:o}=t,{$from:l,$to:c}=i,u=a.extensionManager.attributes,f=o0(u,l.node().type.name,l.node().attrs);if(i instanceof tt&&i.node.isBlock)return!l.parentOffset||!Pl(o,l.pos)?!1:(r&&(e&&Bz(n,a.extensionManager.splittableMarks),t.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const m=c.parentOffset===c.parent.content.size,p=l.depth===0?void 0:UOe(l.node(-1).contentMatchAt(l.indexAfter(-1)));let g=m&&p?[{type:p,attrs:f}]:void 0,v=Pl(t.doc,t.mapping.map(l.pos),1,g);if(!g&&!v&&Pl(t.doc,t.mapping.map(l.pos),1,p?[{type:p}]:void 0)&&(v=!0,g=p?[{type:p,attrs:f}]:void 0),r){if(v&&(i instanceof yt&&t.deleteSelection(),t.split(t.mapping.map(l.pos),1,g),p&&!m&&!l.parentOffset&&l.parent.type!==p)){const y=t.mapping.map(l.before()),w=t.doc.resolve(y);l.node(-1).canReplaceWith(w.index(),w.index()+1,p)&&t.setNodeMarkup(t.mapping.map(l.before()),p)}e&&Bz(n,a.extensionManager.splittableMarks),t.scrollIntoView()}return v},pPe=(e,t={})=>({tr:n,state:r,dispatch:a,editor:i})=>{var o;const l=Mr(e,r.schema),{$from:c,$to:u}=r.selection,f=r.selection.node;if(f&&f.isBlock||c.depth<2||!c.sameParent(u))return!1;const m=c.node(-1);if(m.type!==l)return!1;const p=i.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(a){let N=Ee.empty;const A=c.index(-1)?1:c.index(-2)?2:3;for(let _=c.depth-A;_>=c.depth-3;_-=1)N=Ee.from(c.node(_).copy(N));const T=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,C={...o0(p,c.node().type.name,c.node().attrs),...t},S=((o=l.contentMatch.defaultType)==null?void 0:o.createAndFill(C))||void 0;N=N.append(Ee.from(l.createAndFill(null,S)||void 0));const E=c.before(c.depth-(A-1));n.replace(E,c.after(-T),new ze(N,4-A,0));let O=-1;n.doc.nodesBetween(E,n.doc.content.size,(_,M)=>{if(O>-1)return!1;_.isTextblock&&_.content.size===0&&(O=M+1)}),O>-1&&n.setSelection(yt.near(n.doc.resolve(O))),n.scrollIntoView()}return!0}const g=u.pos===c.end()?m.contentMatchAt(0).defaultType:null,v={...o0(p,m.type.name,m.attrs),...t},y={...o0(p,c.node().type.name,c.node().attrs),...t};n.delete(c.pos,u.pos);const w=g?[{type:l,attrs:v},{type:g,attrs:y}]:[{type:l,attrs:v}];if(!Pl(n.doc,c.pos,2))return!1;if(a){const{selection:N,storedMarks:A}=r,{splittableMarks:T}=i.extensionManager,C=A||N.$to.parentOffset&&N.$from.marks();if(n.split(c.pos,2,w).scrollIntoView(),!C||!a)return!0;const S=C.filter(E=>T.includes(E.type.name));n.ensureMarks(S)}return!0},QC=(e,t)=>{const n=LN(o=>o.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const a=e.doc.nodeAt(r);return n.node.type===a?.type&&rd(e.doc,n.pos)&&e.join(n.pos),!0},JC=(e,t)=>{const n=LN(o=>o.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const a=e.doc.nodeAt(r);return n.node.type===a?.type&&rd(e.doc,r)&&e.join(r),!0},xPe=(e,t,n,r={})=>({editor:a,tr:i,state:o,dispatch:l,chain:c,commands:u,can:f})=>{const{extensions:m,splittableMarks:p}=a.extensionManager,g=Mr(e,o.schema),v=Mr(t,o.schema),{selection:y,storedMarks:w}=o,{$from:N,$to:A}=y,T=N.blockRange(A),C=w||y.$to.parentOffset&&y.$from.marks();if(!T)return!1;const S=LN(E=>Fz(E.type.name,m))(y);if(T.depth>=1&&S&&T.depth-S.depth<=1){if(S.node.type===g)return u.liftListItem(v);if(Fz(S.node.type.name,m)&&g.validContent(S.node.content)&&l)return c().command(()=>(i.setNodeMarkup(S.pos,g),!0)).command(()=>QC(i,g)).command(()=>JC(i,g)).run()}return!n||!C||!l?c().command(()=>f().wrapInList(g,r)?!0:u.clearNodes()).wrapInList(g,r).command(()=>QC(i,g)).command(()=>JC(i,g)).run():c().command(()=>{const E=f().wrapInList(g,r),O=C.filter(_=>p.includes(_.type.name));return i.ensureMarks(O),E?!0:u.clearNodes()}).wrapInList(g,r).command(()=>QC(i,g)).command(()=>JC(i,g)).run()},gPe=(e,t={},n={})=>({state:r,commands:a})=>{const{extendEmptyMarkRange:i=!1}=n,o=Kl(e,r.schema);return XP(r,o,t)?a.unsetMark(o,{extendEmptyMarkRange:i}):a.setMark(o,t)},yPe=(e,t,n={})=>({state:r,commands:a})=>{const i=Mr(e,r.schema),o=Mr(t,r.schema),l=Xc(r,i,n);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),l?a.setNode(o,c):a.setNode(i,{...c,...n})},vPe=(e,t={})=>({state:n,commands:r})=>{const a=Mr(e,n.schema);return Xc(n,a,t)?r.lift(a):r.wrapIn(a,t)},bPe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const a=n[r];let i;if(a.spec.isInputRules&&(i=a.getState(e))){if(t){const o=e.tr,l=i.transform;for(let c=l.steps.length-1;c>=0;c-=1)o.step(l.steps[c].invert(l.docs[c]));if(i.text){const c=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,e.schema.text(i.text,c))}else o.delete(i.from,i.to)}return!0}}return!1},jPe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:a}=n;return r||t&&a.forEach(i=>{e.removeMark(i.$from.pos,i.$to.pos)}),!0},wPe=(e,t={})=>({tr:n,state:r,dispatch:a})=>{var i;const{extendEmptyMarkRange:o=!1}=t,{selection:l}=n,c=Kl(e,r.schema),{$from:u,empty:f,ranges:m}=l;if(!a)return!0;if(f&&o){let{from:p,to:g}=l;const v=(i=u.marks().find(w=>w.type===c))==null?void 0:i.attrs,y=n5(u,c,v);y&&(p=y.from,g=y.to),n.removeMark(p,g,c)}else m.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,c)});return n.removeStoredMark(c),!0},NPe=e=>({tr:t,state:n,dispatch:r})=>{const{selection:a}=n;let i,o;return typeof e=="number"?(i=e,o=e):e&&"from"in e&&"to"in e?(i=e.from,o=e.to):(i=a.from,o=a.to),r&&t.doc.nodesBetween(i,o,(l,c)=>{if(l.isText)return;const u={...l.attrs};delete u.dir,t.setNodeMarkup(c,void 0,u)}),!0},SPe=(e,t={})=>({tr:n,state:r,dispatch:a})=>{let i=null,o=null;const l=IN(typeof e=="string"?e:e.name,r.schema);if(!l)return!1;l==="node"&&(i=Mr(e,r.schema)),l==="mark"&&(o=Kl(e,r.schema));let c=!1;return n.selection.ranges.forEach(u=>{const f=u.$from.pos,m=u.$to.pos;let p,g,v,y;n.selection.empty?r.doc.nodesBetween(f,m,(w,N)=>{i&&i===w.type&&(c=!0,v=Math.max(N,f),y=Math.min(N+w.nodeSize,m),p=N,g=w)}):r.doc.nodesBetween(f,m,(w,N)=>{N<f&&i&&i===w.type&&(c=!0,v=Math.max(N,f),y=Math.min(N+w.nodeSize,m),p=N,g=w),N>=f&&N<=m&&(i&&i===w.type&&(c=!0,a&&n.setNodeMarkup(N,void 0,{...w.attrs,...t})),o&&w.marks.length&&w.marks.forEach(A=>{if(o===A.type&&(c=!0,a)){const T=Math.max(N,f),C=Math.min(N+w.nodeSize,m);n.addMark(T,C,o.create({...A.attrs,...t}))}}))}),g&&(p!==void 0&&a&&n.setNodeMarkup(p,void 0,{...g.attrs,...t}),o&&g.marks.length&&g.marks.forEach(w=>{o===w.type&&a&&n.addMark(v,y,o.create({...w.attrs,...t}))}))}),c},CPe=(e,t={})=>({state:n,dispatch:r})=>{const a=Mr(e,n.schema);return eAe(a,t)(n,r)},kPe=(e,t={})=>({state:n,dispatch:r})=>{const a=Mr(e,n.schema);return tAe(a,t)(n,r)},TPe=class{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(a=>a.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(a=>a!==n):delete this.callbacks[t]),this}once(t,n){const r=(...a)=>{this.off(t,r),n.apply(this,a)};return this.on(t,r)}removeAllListeners(){this.callbacks={}}},FN=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},APe=(e,t)=>{if(t5(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function xb(e){var t;const{editor:n,from:r,to:a,text:i,rules:o,plugin:l}=e,{view:c}=n;if(c.composing)return!1;const u=c.state.doc.resolve(r);if(u.parent.type.spec.code||(t=u.nodeBefore||u.nodeAfter)!=null&&t.marks.find(p=>p.type.spec.code))return!1;let f=!1;const m=ePe(u)+i;return o.forEach(p=>{if(f)return;const g=APe(m,p.find);if(!g)return;const v=c.state.tr,y=RN({state:c.state,transaction:v}),w={from:r-(g[0].length-i.length),to:a},{commands:N,chain:A,can:T}=new DN({editor:n,state:y});p.handler({state:y,range:w,match:g,commands:N,chain:A,can:T})===null||!v.steps.length||(p.undoable&&v.setMeta(l,{transform:v,from:r,to:a,text:i}),c.dispatch(v),f=!0)}),f}function EPe(e){const{editor:t,rules:n}=e,r=new Bn({state:{init(){return null},apply(a,i,o){const l=a.getMeta(r);if(l)return l;const c=a.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:f}=c;typeof f=="string"?f=f:f=a5(Ee.from(f),o.schema);const{from:m}=c,p=m+f.length;xb({editor:t,from:m,to:p,text:f,rules:n,plugin:r})}),a.selectionSet||a.docChanged?null:i}},props:{handleTextInput(a,i,o,l){return xb({editor:t,from:i,to:o,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:a=>(setTimeout(()=>{const{$cursor:i}=a.state.selection;i&&xb({editor:t,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(a,i){if(i.key!=="Enter")return!1;const{$cursor:o}=a.state.selection;return o?xb({editor:t,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function OPe(e){return Object.prototype.toString.call(e).slice(8,-1)}function gb(e){return OPe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Wte(e,t){const n={...e};return gb(e)&&gb(t)&&Object.keys(t).forEach(r=>{gb(t[r])&&gb(e[r])?n[r]=Wte(e[r],t[r]):n[r]=t[r]}),n}var l5=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...hn(Qe(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...hn(Qe(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Wte(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},ad=class Gte extends l5{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new Gte(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,a=t.state.selection.$from;if(a.pos===a.end()){const o=a.marks();if(!!!o.find(u=>u?.type.name===n.name))return!1;const c=o.find(u=>u?.type.name===n.name);return c&&r.removeStoredMark(c),r.insertText(" ",a.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function PPe(e){return typeof e=="number"}var MPe=class{constructor(e){this.find=e.find,this.handler=e.handler}},_Pe=(e,t,n)=>{if(t5(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(a=>{const i=[a.text];return i.index=a.index,i.input=e,i.data=a.data,a.replaceWith&&(a.text.includes(a.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(a.replaceWith)),i}):[]};function RPe(e){const{editor:t,state:n,from:r,to:a,rule:i,pasteEvent:o,dropEvent:l}=e,{commands:c,chain:u,can:f}=new DN({editor:t,state:n}),m=[];return n.doc.nodesBetween(r,a,(g,v)=>{var y,w,N,A,T;if((w=(y=g.type)==null?void 0:y.spec)!=null&&w.code||!(g.isText||g.isTextblock||g.isInline))return;const C=(T=(A=(N=g.content)==null?void 0:N.size)!=null?A:g.nodeSize)!=null?T:0,S=Math.max(r,v),E=Math.min(a,v+C);if(S>=E)return;const O=g.isText?g.text||"":g.textBetween(S-v,E-v,void 0,"");_Pe(O,i.find,o).forEach(M=>{if(M.index===void 0)return;const $=S+M.index+1,z=$+M[0].length,V={from:n.tr.mapping.map($),to:n.tr.mapping.map(z)},I=i.handler({state:n,range:V,match:M,commands:c,chain:u,can:f,pasteEvent:o,dropEvent:l});m.push(I)})}),m.every(g=>g!==null)}var yb=null,DPe=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function IPe(e){const{editor:t,rules:n}=e;let r=null,a=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:f,from:m,to:p,rule:g,pasteEvt:v})=>{const y=f.tr,w=RN({state:f,transaction:y});if(!(!RPe({editor:t,state:w,from:Math.max(m-1,0),to:p.b-1,rule:g,pasteEvent:v,dropEvent:l})||!y.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,y}};return n.map(f=>new Bn({view(m){const p=v=>{var y;r=(y=m.dom.parentElement)!=null&&y.contains(v.target)?m.dom.parentElement:null,r&&(yb=t)},g=()=>{yb&&(yb=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",g),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",g)}}},props:{handleDOMEvents:{drop:(m,p)=>{if(i=r===m.dom.parentElement,l=p,!i){const g=yb;g?.isEditable&&setTimeout(()=>{const v=g.state.selection;v&&g.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(m,p)=>{var g;const v=(g=p.clipboardData)==null?void 0:g.getData("text/html");return o=p,a=!!v?.includes("data-pm-slice"),!1}}},appendTransaction:(m,p,g)=>{const v=m[0],y=v.getMeta("uiEvent")==="paste"&&!a,w=v.getMeta("uiEvent")==="drop"&&!i,N=v.getMeta("applyPasteRules"),A=!!N;if(!y&&!w&&!A)return;if(A){let{text:S}=N;typeof S=="string"?S=S:S=a5(Ee.from(S),g.schema);const{from:E}=N,O=E+S.length,_=DPe(S);return c({rule:f,state:g,from:E,to:{b:O},pasteEvt:_})}const T=p.doc.content.findDiffStart(g.doc.content),C=p.doc.content.findDiffEnd(g.doc.content);if(!(!PPe(T)||!C||T===C.b))return c({rule:f,state:g,from:T,to:C,pasteEvt:o})}}))}var BN=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=$te(e),this.schema=GOe(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:pb(t.name,this.schema)},r=Qe(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this;return aj([...this.extensions].reverse()).flatMap(r=>{const a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:pb(r.name,this.schema)},i=[],o=Qe(r,"addKeyboardShortcuts",a);let l={};if(r.type==="mark"&&Qe(r,"exitable",a)&&(l.ArrowRight=()=>ad.handleExit({editor:e,mark:r})),o){const p=Object.fromEntries(Object.entries(o()).map(([g,v])=>[g,()=>v({editor:e})]));l={...l,...p}}const c=QEe(l);i.push(c);const u=Qe(r,"addInputRules",a);if($z(r,e.options.enableInputRules)&&u){const p=u();if(p&&p.length){const g=EPe({editor:e,rules:p}),v=Array.isArray(g)?g:[g];i.push(...v)}}const f=Qe(r,"addPasteRules",a);if($z(r,e.options.enablePasteRules)&&f){const p=f();if(p&&p.length){const g=IPe({editor:e,rules:p});i.push(...g)}}const m=Qe(r,"addProseMirrorPlugins",a);if(m){const p=m();i.push(...p)}return i})}get attributes(){return Lte(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Th(this.extensions);return Object.fromEntries(t.filter(n=>!!Qe(n,"addNodeView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),a={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Mr(n.name,this.schema)},i=Qe(n,"addNodeView",a);if(!i)return[];const o=i();if(!o)return[];const l=(c,u,f,m,p)=>{const g=lg(c,r);return o({node:c,view:u,getPos:f,decorations:m,innerDecorations:p,editor:e,extension:n,HTMLAttributes:g})};return[n.name,l]}))}dispatchTransaction(e){const{editor:t}=this;return aj([...this.extensions].reverse()).reduceRight((r,a)=>{const i={name:a.name,options:a.options,storage:this.editor.extensionStorage[a.name],editor:t,type:pb(a.name,this.schema)},o=Qe(a,"dispatchTransaction",i);return o?l=>{o.call(i,{transaction:l,next:r})}:r},e)}get markViews(){const{editor:e}=this,{markExtensions:t}=Th(this.extensions);return Object.fromEntries(t.filter(n=>!!Qe(n,"addMarkView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),a={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Kl(n.name,this.schema)},i=Qe(n,"addMarkView",a);if(!i)return[];const o=(l,c,u)=>{const f=lg(l,r);return i()({mark:l,view:c,inline:u,editor:e,extension:n,HTMLAttributes:f,updateAttributes:m=>{XPe(l,e,m)}})};return[n.name,o]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:pb(t.name,this.schema)};t.type==="mark"&&((n=hn(Qe(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const a=Qe(t,"onBeforeCreate",r),i=Qe(t,"onCreate",r),o=Qe(t,"onUpdate",r),l=Qe(t,"onSelectionUpdate",r),c=Qe(t,"onTransaction",r),u=Qe(t,"onFocus",r),f=Qe(t,"onBlur",r),m=Qe(t,"onDestroy",r);a&&this.editor.on("beforeCreate",a),i&&this.editor.on("create",i),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),u&&this.editor.on("focus",u),f&&this.editor.on("blur",f),m&&this.editor.on("destroy",m)})}};BN.resolve=$te;BN.sort=aj;BN.flatten=s5;var LPe={};e5(LPe,{ClipboardTextSerializer:()=>Xte,Commands:()=>Qte,Delete:()=>Jte,Drop:()=>Zte,Editable:()=>ene,FocusEvents:()=>nne,Keymap:()=>rne,Paste:()=>sne,Tabindex:()=>ane,TextDirection:()=>ine,focusEventsPluginKey:()=>tne});var ln=class Yte extends l5{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new Yte(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},Xte=ln.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Bn({key:new Qn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:a}=t,{ranges:i}=a,o=Math.min(...i.map(f=>f.$from.pos)),l=Math.max(...i.map(f=>f.$to.pos)),c=i5(n);return Fte(r,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),Qte=ln.create({name:"commands",addCommands(){return{...Ete}}}),Jte=ln.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,a;const i=()=>{var o,l,c,u;if((u=(c=(l=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,e))!=null?u:e.getMeta("y-sync$"))return;const f=Dte(e.before,[e,...t]);qte(f).forEach(g=>{f.mapping.mapResult(g.oldRange.from).deletedAfter&&f.mapping.mapResult(g.oldRange.to).deletedBefore&&f.before.nodesBetween(g.oldRange.from,g.oldRange.to,(v,y)=>{const w=y+v.nodeSize-2,N=g.oldRange.from<=y&&w<=g.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:y,to:w,newFrom:f.mapping.map(y),newTo:f.mapping.map(w),deletedRange:g.oldRange,newRange:g.newRange,partial:!N,editor:this.editor,transaction:e,combinedTransform:f})})});const p=f.mapping;f.steps.forEach((g,v)=>{var y,w;if(g instanceof Ki){const N=p.slice(v).map(g.from,-1),A=p.slice(v).map(g.to),T=p.invert().map(N,-1),C=p.invert().map(A),S=(y=f.doc.nodeAt(N-1))==null?void 0:y.marks.some(O=>O.eq(g.mark)),E=(w=f.doc.nodeAt(A))==null?void 0:w.marks.some(O=>O.eq(g.mark));this.editor.emit("delete",{type:"mark",mark:g.mark,from:g.from,to:g.to,deletedRange:{from:T,to:C},newRange:{from:N,to:A},partial:!!(E||S),editor:this.editor,transaction:e,combinedTransform:f})}})};(a=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||a?setTimeout(i,0):i()}}),Zte=ln.create({name:"drop",addProseMirrorPlugins(){return[new Bn({key:new Qn("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),ene=ln.create({name:"editable",addProseMirrorPlugins(){return[new Bn({key:new Qn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),tne=new Qn("focusEvents"),nne=ln.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Bn({key:tne,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),rne=ln.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:c,doc:u}=l,{empty:f,$anchor:m}=c,{pos:p,parent:g}=m,v=m.parent.isTextblock&&p>0?l.doc.resolve(p-1):m,y=v.parent.type.spec.isolating,w=m.pos-m.parentOffset,N=y&&v.parent.childCount===1?w===m.pos:pt.atStart(u).from===p;return!f||!g.type.isTextblock||g.textContent.length||!N||N&&m.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},a={...r},i={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return sj()||_te()?i:a},addProseMirrorPlugins(){return[new Bn({key:new Qn("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(y=>y.getMeta("composition")))return;const r=e.some(y=>y.docChanged)&&!t.doc.eq(n.doc),a=e.some(y=>y.getMeta("preventClearDocument"));if(!r||a)return;const{empty:i,from:o,to:l}=t.selection,c=pt.atStart(t.doc).from,u=pt.atEnd(t.doc).to;if(i||!(o===c&&l===u)||!$N(n.doc))return;const p=n.tr,g=RN({state:n,transaction:p}),{commands:v}=new DN({editor:this.editor,state:g});if(v.clearNodes(),!!p.steps.length)return p}})]}}),sne=ln.create({name:"paste",addProseMirrorPlugins(){return[new Bn({key:new Qn("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),ane=ln.create({name:"tabindex",addProseMirrorPlugins(){return[new Bn({key:new Qn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),ine=ln.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=Th(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Bn({key:new Qn("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),$Pe=class ax{constructor(t,n,r=!1,a=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=a}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new ax(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new ax(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new ax(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const a=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,o=n.isInline,l=this.pos+r+(i?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(l);if(!a&&!o&&c.depth<=this.depth)return;const u=new ax(c,this.editor,a,a||o?n:null);a&&(u.actualDepth=this.depth+1),t.push(u)}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,a=this.parent;for(;a&&!r;){if(a.node.type.name===t)if(Object.keys(n).length>0){const i=a.node.attrs,o=Object.keys(n);for(let l=0;l<o.length;l+=1){const c=o[l];if(i[c]!==n[c])break}}else r=a;a=a.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let a=[];if(!this.children||this.children.length===0)return a;const i=Object.keys(n);return this.children.forEach(o=>{r&&a.length>0||(o.node.type.name===t&&i.every(c=>n[c]===o.node.attrs[c])&&a.push(o),!(r&&a.length>0)&&(a=a.concat(o.querySelectorAll(t,n,r))))}),a}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},FPe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function BPe(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const a=document.createElement("style");return t&&a.setAttribute("nonce",t),a.setAttribute("data-tiptap-style",""),a.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(a),a}var zPe=class extends TPe{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:sPe,createMappablePosition:aPe},this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:a,moved:i})=>this.options.onDrop(r,a,i)),this.on("paste",({event:r,slice:a})=>this.options.onPaste(r,a)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=Pte(t,this.options.autofocus);this.editorState=Wf.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=BPe(FPe,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=Ite(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(a=>{const i=typeof a=="string"?`${a}$`:a.key;n=n.filter(o=>!o.key.startsWith(i))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[ene,Xte.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),Qte,nne,rne,ane,Zte,sne,Jte,ine.configure({direction:this.options.textDirection})].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a?.type));this.extensionManager=new BN(r,this)}createCommandManager(){this.commandManager=new DN({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=YP(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=YP(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){const{editorProps:t,enableExtensionDispatchTransaction:n}=this.options,r=t.dispatchTransaction||this.dispatchTransaction.bind(this),a=n?this.extensionManager.dispatchTransaction(r):r;this.editorView=new Ate(e,{...t,attributes:{role:"textbox",...t?.attributes},dispatchTransaction:a,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.prependClass(),this.injectCSS();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(u=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(u)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),a=n.includes(e),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!a)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=n.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),l=o?.getMeta("focus"),c=o?.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:o}),c&&this.emit("blur",{editor:this,event:c.event,transaction:o}),!(e.getMeta("preventUpdate")||!n.some(u=>u.docChanged)||i.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return zte(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return tPe(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return a5(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return Bte(this.state.doc,{blockSeparator:t,textSerializers:{...i5(this.schema),...n}})}get isEmpty(){return $N(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new $Pe(t,this)}get $doc(){return this.$pos(0)}};function Ah(e){return new FN({find:e.find,handler:({state:t,range:n,match:r})=>{const a=hn(e.getAttributes,void 0,r);if(a===!1||a===null)return null;const{tr:i}=t,o=r[r.length-1],l=r[0];if(o){const c=l.search(/\S/),u=n.from+l.indexOf(o),f=u+o.length;if(o5(n.from,n.to,t.doc).filter(g=>g.mark.type.excluded.find(y=>y===e.type&&y!==g.mark.type)).filter(g=>g.to>u).length)return null;f<n.to&&i.delete(f,n.to),u>n.from&&i.delete(n.from+c,u);const p=n.from+c+o.length;i.addMark(n.from+c,p,e.type.create(a||{})),i.removeStoredMark(e.type)}},undoable:e.undoable})}function qPe(e){return new FN({find:e.find,handler:({state:t,range:n,match:r})=>{const a=hn(e.getAttributes,void 0,r)||{},{tr:i}=t,o=n.from;let l=n.to;const c=e.type.create(a);if(r[1]){const u=r[0].lastIndexOf(r[1]);let f=o+u;f>l?f=l:l=f+r[1].length;const m=r[0][r[0].length-1];i.insertText(m,o+r[0].length-1),i.replaceWith(f,l,c)}else if(r[0]){const u=e.type.isInline?o:o-1;i.insert(u,e.type.create(a)).delete(i.mapping.map(o),i.mapping.map(l))}i.scrollIntoView()},undoable:e.undoable})}function QP(e){return new FN({find:e.find,handler:({state:t,range:n,match:r})=>{const a=t.doc.resolve(n.from),i=hn(e.getAttributes,void 0,r)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,i)},undoable:e.undoable})}function Eh(e){return new FN({find:e.find,handler:({state:t,range:n,match:r,chain:a})=>{const i=hn(e.getAttributes,void 0,r)||{},o=t.tr.delete(n.from,n.to),c=o.doc.resolve(n.from).blockRange(),u=c&&LR(c,e.type,i);if(!u)return null;if(o.wrap(c,u),e.keepMarks&&e.editor){const{selection:m,storedMarks:p}=t,{splittableMarks:g}=e.editor.extensionManager,v=p||m.$to.parentOffset&&m.$from.marks();if(v){const y=v.filter(w=>g.includes(w.type.name));o.ensureMarks(y)}}if(e.keepAttributes){const m=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";a().updateAttributes(m,i).run()}const f=o.doc.resolve(n.from-1).nodeBefore;f&&f.type===e.type&&rd(o.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,f))&&o.join(n.from-1)},undoable:e.undoable})}function UPe(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof tt){const i=r.index();return r.parent.canReplaceWith(i,i+1,t)}let a=r.depth;for(;a>=0;){const i=r.index(a);if(r.node(a).contentMatchAt(i).matchType(t))return!0;a-=1}return!1}var VPe={};e5(VPe,{createAtomBlockMarkdownSpec:()=>HPe,createBlockMarkdownSpec:()=>KPe,createInlineMarkdownSpec:()=>YPe,parseAttributes:()=>c5,parseIndentedBlocks:()=>JP,renderNestedMarkdownContent:()=>u5,serializeAttributes:()=>d5});function c5(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,u=>(n.push(u),`__QUOTED_${n.length-1}__`)),a=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(a){const u=a.map(f=>f.trim().slice(1));t.class=u.join(" ")}const i=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(t.id=i[1]);const o=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(o)).forEach(([,u,f])=>{var m;const p=parseInt(((m=f.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),g=n[p];g&&(t[u]=g.slice(1,-1))});const c=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(f=>{f.match(/^[a-zA-Z][\w-]*$/)&&(t[f]=!0)}),t}function d5(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function HPe(e){const{nodeName:t,name:n,parseAttributes:r=c5,serializeAttributes:a=d5,defaultAttributes:i={},requiredAttributes:o=[],allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const m={};return l.forEach(p=>{p in f&&(m[p]=f[p])}),m};return{parseMarkdown:(f,m)=>{const p={...i,...f.attributes};return m.createNode(t,p,[])},markdownTokenizer:{name:t,level:"block",start(f){var m;const p=new RegExp(`^:::${c}(?:\\s|$)`,"m"),g=(m=f.match(p))==null?void 0:m.index;return g!==void 0?g:-1},tokenize(f,m,p){const g=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),v=f.match(g);if(!v)return;const y=v[1]||"",w=r(y);if(!o.find(A=>!(A in w)))return{type:t,raw:v[0],attributes:w}}},renderMarkdown:f=>{const m=u(f.attrs||{}),p=a(m),g=p?` {${p}}`:"";return`:::${c}${g} :::`}}}function KPe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:a=c5,serializeAttributes:i=d5,defaultAttributes:o={},content:l="block",allowedAttributes:c}=e,u=n||t,f=m=>{if(!c)return m;const p={};return c.forEach(g=>{g in m&&(p[g]=m[g])}),p};return{parseMarkdown:(m,p)=>{let g;if(r){const y=r(m);g=typeof y=="string"?[{type:"text",text:y}]:y}else l==="block"?g=p.parseChildren(m.tokens||[]):g=p.parseInline(m.tokens||[]);const v={...o,...m.attributes};return p.createNode(t,v,g)},markdownTokenizer:{name:t,level:"block",start(m){var p;const g=new RegExp(`^:::${u}`,"m"),v=(p=m.match(g))==null?void 0:p.index;return v!==void 0?v:-1},tokenize(m,p,g){var v;const y=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),w=m.match(y);if(!w)return;const[N,A=""]=w,T=a(A);let C=1;const S=N.length;let E="";const O=/^:::([\w-]*)(\s.*)?/gm,_=m.slice(S);for(O.lastIndex=0;;){const M=O.exec(_);if(M===null)break;const $=M.index,z=M[1];if(!((v=M[2])!=null&&v.endsWith(":::"))){if(z)C+=1;else if(C-=1,C===0){const V=_.slice(0,$);E=V.trim();const I=m.slice(0,S+$+M[0].length);let F=[];if(E)if(l==="block")for(F=g.blockTokens(V),F.forEach(K=>{K.text&&(!K.tokens||K.tokens.length===0)&&(K.tokens=g.inlineTokens(K.text))});F.length>0;){const K=F[F.length-1];if(K.type==="paragraph"&&(!K.text||K.text.trim()===""))F.pop();else break}else F=g.inlineTokens(E);return{type:t,raw:I,attributes:T,content:E,tokens:F}}}}}},renderMarkdown:(m,p)=>{const g=f(m.attrs||{}),v=i(g),y=v?` {${v}}`:"",w=p.renderChildren(m.content||[],`

`);return`:::${u}${y}

${w}

:::`}}}function WPe(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,a,i,o]=r;t[a]=i||o,r=n.exec(e)}return t}function GPe(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function YPe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:a=WPe,serializeAttributes:i=GPe,defaultAttributes:o={},selfClosing:l=!1,allowedAttributes:c}=e,u=n||t,f=p=>{if(!c)return p;const g={};return c.forEach(v=>{const y=typeof v=="string"?v:v.name,w=typeof v=="string"?void 0:v.skipIfDefault;if(y in p){const N=p[y];if(w!==void 0&&N===w)return;g[y]=N}}),g},m=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(p,g)=>{const v={...o,...p.attributes};if(l)return g.createNode(t,v);const y=r?r(p):p.content||"";return y?g.createNode(t,v,[g.createTextNode(y)]):g.createNode(t,v,[])},markdownTokenizer:{name:t,level:"inline",start(p){const g=l?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),v=p.match(g),y=v?.index;return y!==void 0?y:-1},tokenize(p,g,v){const y=l?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),w=p.match(y);if(!w)return;let N="",A="";if(l){const[,C]=w;A=C}else{const[,C,S]=w;A=C,N=S||""}const T=a(A.trim());return{type:t,raw:w[0],content:N.trim(),attributes:T}}},renderMarkdown:p=>{let g="";r?g=r(p):p.content&&p.content.length>0&&(g=p.content.filter(N=>N.type==="text").map(N=>N.text).join(""));const v=f(p.attrs||{}),y=i(v),w=y?` ${y}`:"";return l?`[${u}${w}]`:`[${u}${w}]${g}[/${u}]`}}}function JP(e,t,n){var r,a,i,o;const l=e.split(`
`),c=[];let u="",f=0;const m=t.baseIndentSize||2;for(;f<l.length;){const p=l[f],g=p.match(t.itemPattern);if(!g){if(c.length>0)break;if(p.trim()===""){f+=1,u=`${u}${p}
`;continue}else return}const v=t.extractItemData(g),{indentLevel:y,mainContent:w}=v;u=`${u}${p}
`;const N=[w];for(f+=1;f<l.length;){const S=l[f];if(S.trim()===""){const O=l.slice(f+1).findIndex($=>$.trim()!=="");if(O===-1)break;if((((a=(r=l[f+1+O].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:a.length)||0)>y){N.push(S),u=`${u}${S}
`,f+=1;continue}else break}if((((o=(i=S.match(/^(\s*)/))==null?void 0:i[1])==null?void 0:o.length)||0)>y)N.push(S),u=`${u}${S}
`,f+=1;else break}let A;const T=N.slice(1);if(T.length>0){const S=T.map(E=>E.slice(y+m)).join(`
`);S.trim()&&(t.customNestedParser?A=t.customNestedParser(S):A=n.blockTokens(S))}const C=t.createToken(v,A);c.push(C)}if(c.length!==0)return{items:c,raw:u}}function u5(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const a=typeof n=="function"?n(r):n,[i,...o]=e.content,l=t.renderChildren([i]),c=[`${a}${l}`];return o&&o.length>0&&o.forEach(u=>{const f=t.renderChildren([u]);if(f){const m=f.split(`
`).map(p=>p?t.indent(p):"").join(`
`);c.push(m)}}),c.join(`
`)}function XPe(e,t,n={}){const{state:r}=t,{doc:a,tr:i}=r,o=e;a.descendants((l,c)=>{const u=i.mapping.map(c),f=i.mapping.map(c)+l.nodeSize;let m=null;if(l.marks.forEach(g=>{if(g!==o)return!1;m=g}),!m)return;let p=!1;if(Object.keys(n).forEach(g=>{n[g]!==m.attrs[g]&&(p=!0)}),p){const g=e.type.create({...e.attrs,...n});i.removeMark(u,f,e.type),i.addMark(u,f,g)}}),i.docChanged&&t.view.dispatch(i)}var Ua=class one extends l5{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new one(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function ju(e){return new MPe({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:a})=>{const i=hn(e.getAttributes,void 0,r,a);if(i===!1||i===null)return null;const{tr:o}=t,l=r[r.length-1],c=r[0];let u=n.to;if(l){const f=c.search(/\S/),m=n.from+c.indexOf(l),p=m+l.length;if(o5(n.from,n.to,t.doc).filter(v=>v.mark.type.excluded.find(w=>w===e.type&&w!==v.mark.type)).filter(v=>v.to>m).length)return null;p<n.to&&o.delete(p,n.to),m>n.from&&o.delete(n.from+f,m),u=n.from+f+l.length,o.addMark(n.from+f,u,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}const{getOwnPropertyNames:QPe,getOwnPropertySymbols:JPe}=Object,{hasOwnProperty:ZPe}=Object.prototype;function ZC(e,t){return function(r,a,i){return e(r,a,i)&&t(r,a,i)}}function vb(e){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,a);const{cache:i}=a,o=i.get(n),l=i.get(r);if(o&&l)return o===r&&l===n;i.set(n,r),i.set(r,n);const c=e(n,r,a);return i.delete(n),i.delete(r),c}}function e4e(e){return e?.[Symbol.toStringTag]}function zz(e){return QPe(e).concat(JPe(e))}const t4e=Object.hasOwn||((e,t)=>ZPe.call(e,t));function Lu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const n4e="__v",r4e="__o",s4e="_owner",{getOwnPropertyDescriptor:qz,keys:Uz}=Object;function a4e(e,t){return e.byteLength===t.byteLength&&ij(new Uint8Array(e),new Uint8Array(t))}function i4e(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function o4e(e,t){return e.byteLength===t.byteLength&&ij(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function l4e(e,t){return Lu(e.getTime(),t.getTime())}function c4e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function d4e(e,t){return e===t}function Vz(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const a=new Array(r),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let f=!1,m=0;for(;(l=u.next())&&!l.done;){if(a[m]){m++;continue}const p=o.value,g=l.value;if(n.equals(p[0],g[0],c,m,e,t,n)&&n.equals(p[1],g[1],p[0],g[0],e,t,n)){f=a[m]=!0;break}m++}if(!f)return!1;c++}return!0}const u4e=Lu;function f4e(e,t,n){const r=Uz(e);let a=r.length;if(Uz(t).length!==a)return!1;for(;a-- >0;)if(!lne(e,t,n,r[a]))return!1;return!0}function Mp(e,t,n){const r=zz(e);let a=r.length;if(zz(t).length!==a)return!1;let i,o,l;for(;a-- >0;)if(i=r[a],!lne(e,t,n,i)||(o=qz(e,i),l=qz(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function h4e(e,t){return Lu(e.valueOf(),t.valueOf())}function m4e(e,t){return e.source===t.source&&e.flags===t.flags}function Hz(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const a=new Array(r),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,f=0;for(;(l=c.next())&&!l.done;){if(!a[f]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function ij(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function p4e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function lne(e,t,n,r){return(r===s4e||r===r4e||r===n4e)&&(e.$$typeof||t.$$typeof)?!0:t4e(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const x4e="[object ArrayBuffer]",g4e="[object Arguments]",y4e="[object Boolean]",v4e="[object DataView]",b4e="[object Date]",j4e="[object Error]",w4e="[object Map]",N4e="[object Number]",S4e="[object Object]",C4e="[object RegExp]",k4e="[object Set]",T4e="[object String]",A4e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},E4e="[object URL]",O4e=Object.prototype.toString;function P4e({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:f,areSetsEqual:m,areTypedArraysEqual:p,areUrlsEqual:g,unknownTagComparators:v}){return function(w,N,A){if(w===N)return!0;if(w==null||N==null)return!1;const T=typeof w;if(T!==typeof N)return!1;if(T!=="object")return T==="number"?l(w,N,A):T==="function"?i(w,N,A):!1;const C=w.constructor;if(C!==N.constructor)return!1;if(C===Object)return c(w,N,A);if(Array.isArray(w))return t(w,N,A);if(C===Date)return r(w,N,A);if(C===RegExp)return f(w,N,A);if(C===Map)return o(w,N,A);if(C===Set)return m(w,N,A);const S=O4e.call(w);if(S===b4e)return r(w,N,A);if(S===C4e)return f(w,N,A);if(S===w4e)return o(w,N,A);if(S===k4e)return m(w,N,A);if(S===S4e)return typeof w.then!="function"&&typeof N.then!="function"&&c(w,N,A);if(S===E4e)return g(w,N,A);if(S===j4e)return a(w,N,A);if(S===g4e)return c(w,N,A);if(A4e[S])return p(w,N,A);if(S===x4e)return e(w,N,A);if(S===v4e)return n(w,N,A);if(S===y4e||S===N4e||S===T4e)return u(w,N,A);if(v){let E=v[S];if(!E){const O=e4e(w);O&&(E=v[O])}if(E)return E(w,N,A)}return!1}}function M4e({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:a4e,areArraysEqual:n?Mp:i4e,areDataViewsEqual:o4e,areDatesEqual:l4e,areErrorsEqual:c4e,areFunctionsEqual:d4e,areMapsEqual:n?ZC(Vz,Mp):Vz,areNumbersEqual:u4e,areObjectsEqual:n?Mp:f4e,arePrimitiveWrappersEqual:h4e,areRegExpsEqual:m4e,areSetsEqual:n?ZC(Hz,Mp):Hz,areTypedArraysEqual:n?ZC(ij,Mp):ij,areUrlsEqual:p4e,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const a=vb(r.areArraysEqual),i=vb(r.areMapsEqual),o=vb(r.areObjectsEqual),l=vb(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return r}function _4e(e){return function(t,n,r,a,i,o,l){return e(t,n,l)}}function R4e({circular:e,comparator:t,createState:n,equals:r,strict:a}){if(n)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:f}=n();return t(l,c,{cache:u,equals:r,meta:f,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:a})};const i={cache:void 0,equals:r,meta:void 0,strict:a};return function(l,c){return t(l,c,i)}}const cne=id();id({strict:!0});id({circular:!0});id({circular:!0,strict:!0});id({createInternalComparator:()=>Lu});id({strict:!0,createInternalComparator:()=>Lu});id({circular:!0,createInternalComparator:()=>Lu});id({circular:!0,createInternalComparator:()=>Lu,strict:!0});function id(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:a=!1}=e,i=M4e(e),o=P4e(i),l=n?n(o):_4e(o);return R4e({circular:t,comparator:o,createState:r,equals:l,strict:a})}var ek={exports:{}},tk={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kz;function D4e(){if(Kz)return tk;Kz=1;var e=Kg(),t=$K();function n(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,c=e.useDebugValue;return tk.useSyncExternalStoreWithSelector=function(u,f,m,p,g){var v=i(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=l(function(){function N(E){if(!A){if(A=!0,T=E,E=p(E),g!==void 0&&y.hasValue){var O=y.value;if(g(O,E))return C=O}return C=E}if(O=C,r(T,E))return O;var _=p(E);return g!==void 0&&g(O,_)?(T=E,O):(T=E,C=_)}var A=!1,T,C,S=m===void 0?null:m;return[function(){return N(f())},S===null?void 0:function(){return N(S())}]},[f,m,p,g]);var w=a(u,v[0],v[1]);return o(function(){y.hasValue=!0,y.value=w},[w]),c(w),w},tk}var Wz;function I4e(){return Wz||(Wz=1,ek.exports=D4e()),ek.exports}var L4e=I4e();let ZP,e4;if(typeof WeakMap<"u"){let e=new WeakMap;ZP=t=>e.get(t),e4=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;ZP=r=>{for(let a=0;a<e.length;a+=2)if(e[a]==r)return e[a+1]},e4=(r,a)=>(n==10&&(n=0),e[n++]=r,e[n++]=a)}var Nl=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,a=t/this.width|0;let i=r+1,o=a+1;for(let l=1;i<this.width&&this.map[t+l]==n;l++)i++;for(let l=1;o<this.height&&this.map[t+this.width*l]==n;l++)o++;return{left:r,top:a,right:i,bottom:o}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:a,top:i,bottom:o}=this.findCell(e);return t=="horiz"?(n<0?r==0:a==this.width)?null:this.map[i*this.width+(n<0?r-1:a)]:(n<0?i==0:o==this.height)?null:this.map[r+this.width*(n<0?i-1:o)]}rectBetween(e,t){const{left:n,right:r,top:a,bottom:i}=this.findCell(e),{left:o,right:l,top:c,bottom:u}=this.findCell(t);return{left:Math.min(n,o),top:Math.min(a,c),right:Math.max(r,l),bottom:Math.max(i,u)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let a=e.left;a<e.right;a++){const i=r*this.width+a,o=this.map[i];n[o]||(n[o]=!0,!(a==e.left&&a&&this.map[i-1]==o||r==e.top&&r&&this.map[i-this.width]==o)&&t.push(o))}return t}positionAt(e,t,n){for(let r=0,a=0;;r++){const i=a+n.child(r).nodeSize;if(r==e){let o=t+e*this.width;const l=(e+1)*this.width;for(;o<l&&this.map[o]<a;)o++;return o==l?i-1:this.map[o]}a=i}}static get(e){return ZP(e)||e4(e,$4e(e))}};function $4e(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=F4e(e),n=e.childCount,r=[];let a=0,i=null;const o=[];for(let u=0,f=t*n;u<f;u++)r[u]=0;for(let u=0,f=0;u<n;u++){const m=e.child(u);f++;for(let v=0;;v++){for(;a<r.length&&r[a]!=0;)a++;if(v==m.childCount)break;const y=m.child(v),{colspan:w,rowspan:N,colwidth:A}=y.attrs;for(let T=0;T<N;T++){if(T+u>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:f,n:N-T});break}const C=a+T*t;for(let S=0;S<w;S++){r[C+S]==0?r[C+S]=f:(i||(i=[])).push({type:"collision",row:u,pos:f,n:w-S});const E=A&&A[S];if(E){const O=(C+S)%t*2,_=o[O];_==null||_!=E&&o[O+1]==1?(o[O]=E,o[O+1]=1):_==E&&o[O+1]++}}}a+=w,f+=y.nodeSize}const p=(u+1)*t;let g=0;for(;a<p;)r[a++]==0&&g++;g&&(i||(i=[])).push({type:"missing",row:u,n:g}),f++}(t===0||n===0)&&(i||(i=[])).push({type:"zero_sized"});const l=new Nl(t,n,r,i);let c=!1;for(let u=0;!c&&u<o.length;u+=2)o[u]!=null&&o[u+1]<n&&(c=!0);return c&&B4e(l,o,e),l}function F4e(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const a=e.child(r);let i=0;if(n)for(let o=0;o<r;o++){const l=e.child(o);for(let c=0;c<l.childCount;c++){const u=l.child(c);o+u.attrs.rowspan>r&&(i+=u.attrs.colspan)}}for(let o=0;o<a.childCount;o++){const l=a.child(o);i+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}t==-1?t=i:t!=i&&(t=Math.max(t,i))}return t}function B4e(e,t,n){e.problems||(e.problems=[]);const r={};for(let a=0;a<e.map.length;a++){const i=e.map[a];if(r[i])continue;r[i]=!0;const o=n.nodeAt(i);if(!o)throw new RangeError(`No cell with offset ${i} found`);let l=null;const c=o.attrs;for(let u=0;u<c.colspan;u++){const f=t[(a+u)%e.width*2];f!=null&&(!c.colwidth||c.colwidth[u]!=f)&&((l||(l=z4e(c)))[u]=f)}l&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}function z4e(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function f5(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],a=r.spec.tableRole;a&&(t[a]=r)}}return t}new Qn("selectingCells");function q4e(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function dne(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function U4e(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=q4e(t.$head)||V4e(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function V4e(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function Gz(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function une(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function fne(e,t,n){const r=e.node(-1),a=Nl.get(r),i=e.start(-1),o=a.nextCell(e.pos-i,t,n);return o==null?null:e.node(0).resolve(i+o)}function Yz(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(a=>a>0)||(r.colwidth=null)),r}var Oo=class yl extends pt{constructor(t,n=t){const r=t.node(-1),a=Nl.get(r),i=t.start(-1),o=a.rectBetween(t.pos-i,n.pos-i),l=t.node(0),c=a.cellsInRect(o).filter(f=>f!=n.pos-i);c.unshift(n.pos-i);const u=c.map(f=>{const m=r.nodeAt(f);if(!m)throw new RangeError(`No cell with offset ${f} found`);const p=i+f+1;return new _ee(l.resolve(p),l.resolve(p+m.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),a=t.resolve(n.map(this.$headCell.pos));if(Gz(r)&&Gz(a)&&une(r,a)){const i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?yl.rowSelection(r,a):i&&this.isColSelection()?yl.colSelection(r,a):new yl(r,a)}return yt.between(r,a)}content(){const t=this.$anchorCell.node(-1),n=Nl.get(t),r=this.$anchorCell.start(-1),a=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),i={},o=[];for(let c=a.top;c<a.bottom;c++){const u=[];for(let f=c*n.width+a.left,m=a.left;m<a.right;m++,f++){const p=n.map[f];if(i[p])continue;i[p]=!0;const g=n.findCell(p);let v=t.nodeAt(p);if(!v)throw new RangeError(`No cell with offset ${p} found`);const y=a.left-g.left,w=g.right-a.right;if(y>0||w>0){let N=v.attrs;if(y>0&&(N=Yz(N,0,y)),w>0&&(N=Yz(N,N.colspan-w,w)),g.left<a.left){if(v=v.type.createAndFill(N),!v)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(N)}`)}else v=v.type.create(N,v.content)}if(g.top<a.top||g.bottom>a.bottom){const N={...v.attrs,rowspan:Math.min(g.bottom,a.bottom)-Math.max(g.top,a.top)};g.top<a.top?v=v.type.createAndFill(N):v=v.type.create(N,v.content)}u.push(v)}o.push(t.child(c).copy(Ee.from(u)))}const l=this.isColSelection()&&this.isRowSelection()?t:o;return new ze(Ee.from(l),1,1)}replace(t,n=ze.empty){const r=t.steps.length,a=this.ranges;for(let o=0;o<a.length;o++){const{$from:l,$to:c}=a[o],u=t.mapping.slice(r);t.replace(u.map(l.pos),u.map(c.pos),o?ze.empty:n)}const i=pt.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);i&&t.setSelection(i)}replaceWith(t,n){this.replace(t,new ze(Ee.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=Nl.get(n),a=this.$anchorCell.start(-1),i=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-a,this.$headCell.pos-a));for(let o=0;o<i.length;o++)t(n.nodeAt(i[o]),a+i[o])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,a=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,a)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),a=Nl.get(r),i=t.start(-1),o=a.findCell(t.pos-i),l=a.findCell(n.pos-i),c=t.node(0);return o.top<=l.top?(o.top>0&&(t=c.resolve(i+a.map[o.left])),l.bottom<a.height&&(n=c.resolve(i+a.map[a.width*(a.height-1)+l.right-1]))):(l.top>0&&(n=c.resolve(i+a.map[l.left])),o.bottom<a.height&&(t=c.resolve(i+a.map[a.width*(a.height-1)+o.right-1]))),new yl(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=Nl.get(t),r=this.$anchorCell.start(-1),a=n.colCount(this.$anchorCell.pos-r),i=n.colCount(this.$headCell.pos-r);if(Math.min(a,i)>0)return!1;const o=a+this.$anchorCell.nodeAfter.attrs.colspan,l=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,l)==n.width}eq(t){return t instanceof yl&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),a=Nl.get(r),i=t.start(-1),o=a.findCell(t.pos-i),l=a.findCell(n.pos-i),c=t.node(0);return o.left<=l.left?(o.left>0&&(t=c.resolve(i+a.map[o.top*a.width])),l.right<a.width&&(n=c.resolve(i+a.map[a.width*(l.top+1)-1]))):(l.left>0&&(n=c.resolve(i+a.map[l.top*a.width])),o.right<a.width&&(t=c.resolve(i+a.map[a.width*(o.top+1)-1]))),new yl(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new yl(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new yl(t.resolve(n),t.resolve(r))}getBookmark(){return new H4e(this.$anchorCell.pos,this.$headCell.pos)}};Oo.prototype.visible=!1;pt.jsonID("cell",Oo);var H4e=class hne{constructor(t,n){this.anchor=t,this.head=n}map(t){return new hne(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&une(n,r)?new Oo(n,r):pt.near(r,1)}};new Qn("fix-tables");function mne(e){const t=e.selection,n=U4e(e),r=n.node(-1),a=n.start(-1),i=Nl.get(r);return{...t instanceof Oo?i.rectBetween(t.$anchorCell.pos-a,t.$headCell.pos-a):i.findCell(n.pos-a),tableStart:a,map:i,table:r}}function K4e(e){return function(t,n){if(!dne(t))return!1;if(n){const r=f5(t.schema),a=mne(t),i=t.tr,o=a.map.cellsInRect(e=="column"?{left:a.left,top:0,right:a.right,bottom:a.map.height}:e=="row"?{left:0,top:a.top,right:a.map.width,bottom:a.bottom}:a),l=o.map(c=>a.table.nodeAt(c));for(let c=0;c<o.length;c++)l[c].type==r.header_cell&&i.setNodeMarkup(a.tableStart+o[c],r.cell,l[c].attrs);if(i.steps.length===0)for(let c=0;c<o.length;c++)i.setNodeMarkup(a.tableStart+o[c],r.header_cell,l[c].attrs);n(i)}return!0}}function Xz(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let a=0;a<r.length;a++){const i=t.table.nodeAt(r[a]);if(i&&i.type!==n.header_cell)return!1}return!0}function h5(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?K4e(e):function(n,r){if(!dne(n))return!1;if(r){const a=f5(n.schema),i=mne(n),o=n.tr,l=Xz("row",i,a),c=Xz("column",i,a),u=(e==="column"?l:e==="row"&&c)?1:0,f=e=="column"?{left:0,top:u,right:1,bottom:i.map.height}:e=="row"?{left:u,top:0,right:i.map.width,bottom:1}:i,m=e=="column"?c?a.cell:a.header_cell:e=="row"?l?a.cell:a.header_cell:a.cell;i.map.cellsInRect(f).forEach(p=>{const g=p+i.tableStart,v=o.doc.nodeAt(g);v&&o.setNodeMarkup(g,m,v.attrs)}),r(o)}return!0}}h5("row",{useDeprecatedLogic:!0});h5("column",{useDeprecatedLogic:!0});h5("cell",{useDeprecatedLogic:!0});function bb(e,t){const n=e.selection;if(!(n instanceof Oo))return!1;if(t){const r=e.tr,a=f5(e.schema).cell.createAndFill().content;n.forEachCell((i,o)=>{i.content.eq(a)||r.replace(r.mapping.map(o+1),r.mapping.map(o+i.nodeSize-1),new ze(a,0,0))}),r.docChanged&&t(r)}return!0}ZR({ArrowLeft:jb("horiz",-1),ArrowRight:jb("horiz",1),ArrowUp:jb("vert",-1),ArrowDown:jb("vert",1),"Shift-ArrowLeft":wb("horiz",-1),"Shift-ArrowRight":wb("horiz",1),"Shift-ArrowUp":wb("vert",-1),"Shift-ArrowDown":wb("vert",1),Backspace:bb,"Mod-Backspace":bb,Delete:bb,"Mod-Delete":bb});function l0(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function jb(e,t){return(n,r,a)=>{if(!a)return!1;const i=n.selection;if(i instanceof Oo)return l0(n,r,pt.near(i.$headCell,t));if(e!="horiz"&&!i.empty)return!1;const o=pne(a,e,t);if(o==null)return!1;if(e=="horiz")return l0(n,r,pt.near(n.doc.resolve(i.head+t),t));{const l=n.doc.resolve(o),c=fne(l,e,t);let u;return c?u=pt.near(c,1):t<0?u=pt.near(n.doc.resolve(l.before(-1)),-1):u=pt.near(n.doc.resolve(l.after(-1)),1),l0(n,r,u)}}}function wb(e,t){return(n,r,a)=>{if(!a)return!1;const i=n.selection;let o;if(i instanceof Oo)o=i;else{const c=pne(a,e,t);if(c==null)return!1;o=new Oo(n.doc.resolve(c))}const l=fne(o.$headCell,e,t);return l?l0(n,r,new Oo(o.$anchorCell,l)):!1}}function pne(e,t,n){if(!(e.state.selection instanceof yt))return null;const{$head:r}=e.state.selection;for(let a=r.depth-1;a>=0;a--){const i=r.node(a);if((n<0?r.index(a):r.indexAfter(a))!=(n<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const o=r.before(a),l=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(l)?o:null}}return null}new Qn("tableColumnResizing");function W4e(e,t){const n=Math.min(e.top,t.top),r=Math.max(e.bottom,t.bottom),a=Math.min(e.left,t.left),o=Math.max(e.right,t.right)-a,l=r-n,c=a,u=n;return new DOMRect(c,u,o,l)}var G4e=class{constructor({editor:e,element:t,view:n,updateDelay:r=250,resizeDelay:a=60,shouldShow:i,appendTo:o,getReferencedVirtualElement:l,options:c}){this.preventHide=!1,this.isVisible=!1,this.scrollTarget=window,this.floatingUIOptions={strategy:"absolute",placement:"top",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1,onShow:void 0,onHide:void 0,onUpdate:void 0,onDestroy:void 0},this.shouldShow=({view:f,state:m,from:p,to:g})=>{const{doc:v,selection:y}=m,{empty:w}=y,N=!v.textBetween(p,g).length&&r5(m.selection),A=this.element.contains(document.activeElement);return!(!(f.hasFocus()||A)||w||N||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:f})=>{var m;if(this.editor.isDestroyed){this.destroy();return}if(this.preventHide){this.preventHide=!1;return}f?.relatedTarget&&((m=this.element.parentNode)!=null&&m.contains(f.relatedTarget))||f?.relatedTarget!==this.editor.view.dom&&this.hide()},this.handleDebouncedUpdate=(f,m)=>{const p=!m?.selection.eq(f.state.selection),g=!m?.doc.eq(f.state.doc);!p&&!g||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(f,p,g,m)},this.updateDelay))},this.updateHandler=(f,m,p,g)=>{const{composing:v}=f;if(v||!m&&!p)return;if(!this.getShouldShow(g)){this.hide();return}this.updatePosition(),this.show()},this.transactionHandler=({transaction:f})=>{const m=f.getMeta("bubbleMenu");m==="updatePosition"?this.updatePosition():m&&typeof m=="object"&&m.type==="updateOptions"&&this.updateOptions(m.options)};var u;this.editor=e,this.element=t,this.view=n,this.updateDelay=r,this.resizeDelay=a,this.appendTo=o,this.scrollTarget=(u=c?.scrollTarget)!=null?u:window,this.getReferencedVirtualElement=l,this.floatingUIOptions={...this.floatingUIOptions,...c},this.element.tabIndex=0,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.editor.on("transaction",this.transactionHandler),window.addEventListener("resize",this.resizeHandler),this.scrollTarget.addEventListener("scroll",this.resizeHandler),this.update(n,n.state),this.getShouldShow()&&(this.show(),this.updatePosition())}get middlewares(){const e=[];return this.floatingUIOptions.flip&&e.push(x_(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&e.push(p_(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&e.push(m_(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&e.push(S0(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&e.push(g_(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&e.push(TG(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&e.push(y_(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&e.push(AG(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),e}get virtualElement(){var e,t,n;const{selection:r}=this.editor.state,a=(e=this.getReferencedVirtualElement)==null?void 0:e.call(this);if(a)return a;if(!((n=(t=this.view)==null?void 0:t.dom)!=null&&n.parentNode))return;const i=Kte(this.view,r.from,r.to);let o={getBoundingClientRect:()=>i,getClientRects:()=>[i]};if(r instanceof tt){let l=this.view.nodeDOM(r.from);const c=l.dataset.nodeViewWrapper?l:l.querySelector("[data-node-view-wrapper]");c&&(l=c),l&&(o={getBoundingClientRect:()=>l.getBoundingClientRect(),getClientRects:()=>[l.getBoundingClientRect()]})}if(r instanceof Oo){const{$anchorCell:l,$headCell:c}=r,u=l?l.pos:c.pos,f=c?c.pos:l.pos,m=this.view.nodeDOM(u),p=this.view.nodeDOM(f);if(!m||!p)return;const g=m===p?m.getBoundingClientRect():W4e(m.getBoundingClientRect(),p.getBoundingClientRect());o={getBoundingClientRect:()=>g,getClientRects:()=>[g]}}return o}updatePosition(){const e=this.virtualElement;e&&v_(e,this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:t,y:n,strategy:r,middlewareData:a})=>{var i,o;if((i=a.hide)!=null&&i.referenceHidden||(o=a.hide)!=null&&o.escaped){this.element.style.visibility="hidden";return}this.element.style.visibility="visible",this.element.style.width="max-content",this.element.style.position=r,this.element.style.left=`${t}px`,this.element.style.top=`${n}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(e,t){const{state:n}=e,r=n.selection.from!==n.selection.to;if(this.updateDelay>0&&r){this.handleDebouncedUpdate(e,t);return}const a=!t?.selection.eq(e.state.selection),i=!t?.doc.eq(e.state.doc);this.updateHandler(e,a,i,t)}getShouldShow(e){var t;const{state:n}=this.view,{selection:r}=n,{ranges:a}=r,i=Math.min(...a.map(c=>c.$from.pos)),o=Math.max(...a.map(c=>c.$to.pos));return((t=this.shouldShow)==null?void 0:t.call(this,{editor:this.editor,element:this.element,view:this.view,state:n,oldState:e,from:i,to:o}))||!1}show(){var e;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const t=typeof this.appendTo=="function"?this.appendTo():this.appendTo;(e=t??this.view.dom.parentElement)==null||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}updateOptions(e){var t;if(e.updateDelay!==void 0&&(this.updateDelay=e.updateDelay),e.resizeDelay!==void 0&&(this.resizeDelay=e.resizeDelay),e.appendTo!==void 0&&(this.appendTo=e.appendTo),e.getReferencedVirtualElement!==void 0&&(this.getReferencedVirtualElement=e.getReferencedVirtualElement),e.shouldShow!==void 0&&e.shouldShow&&(this.shouldShow=e.shouldShow),e.options!==void 0){const n=(t=e.options.scrollTarget)!=null?t:window;n!==this.scrollTarget&&(this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.scrollTarget=n,this.scrollTarget.addEventListener("scroll",this.resizeHandler)),this.floatingUIOptions={...this.floatingUIOptions,...e.options}}}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),window.removeEventListener("resize",this.resizeHandler),this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.editor.off("transaction",this.transactionHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},xne=e=>new Bn({key:typeof e.pluginKey=="string"?new Qn(e.pluginKey):e.pluginKey,view:t=>new G4e({view:t,...e})});ln.create({name:"bubbleMenu",addOptions(){return{element:null,pluginKey:"bubbleMenu",updateDelay:void 0,appendTo:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[xne({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,options:this.options.options,appendTo:this.options.appendTo,getReferencedVirtualElement:this.options.getReferencedVirtualElement,shouldShow:this.options.shouldShow})]:[]}});var Y4e=class{constructor({editor:e,element:t,view:n,updateDelay:r=250,resizeDelay:a=60,options:i,appendTo:o,shouldShow:l}){this.preventHide=!1,this.isVisible=!1,this.scrollTarget=window,this.shouldShow=({view:u,state:f})=>{const{selection:m}=f,{$anchor:p,empty:g}=m,v=p.depth===1,y=p.parent.isTextblock&&!p.parent.type.spec.code&&!p.parent.textContent&&p.parent.childCount===0&&!this.getTextContent(p.parent);return!(!u.hasFocus()||!g||!v||!y||!this.editor.isEditable)},this.floatingUIOptions={strategy:"absolute",placement:"right",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1},this.updateHandler=(u,f,m,p)=>{const{composing:g}=u;if(g||!f&&!m)return;if(!this.getShouldShow(p)){this.hide();return}this.updatePosition(),this.show()},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:u})=>{var f;if(this.preventHide){this.preventHide=!1;return}u?.relatedTarget&&((f=this.element.parentNode)!=null&&f.contains(u.relatedTarget))||u?.relatedTarget!==this.editor.view.dom&&this.hide()},this.transactionHandler=({transaction:u})=>{const f=u.getMeta("floatingMenu");f==="updatePosition"?this.updatePosition():f&&typeof f=="object"&&f.type==="updateOptions"&&this.updateOptions(f.options)},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)};var c;this.editor=e,this.element=t,this.view=n,this.updateDelay=r,this.resizeDelay=a,this.appendTo=o,this.scrollTarget=(c=i?.scrollTarget)!=null?c:window,this.floatingUIOptions={...this.floatingUIOptions,...i},this.element.tabIndex=0,l&&(this.shouldShow=l),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.editor.on("transaction",this.transactionHandler),window.addEventListener("resize",this.resizeHandler),this.scrollTarget.addEventListener("scroll",this.resizeHandler),this.update(n,n.state),this.getShouldShow()&&(this.show(),this.updatePosition())}getTextContent(e){return Bte(e,{textSerializers:i5(this.editor.schema)})}get middlewares(){const e=[];return this.floatingUIOptions.flip&&e.push(x_(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&e.push(p_(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&e.push(m_(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&e.push(S0(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&e.push(g_(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&e.push(TG(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&e.push(y_(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&e.push(AG(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),e}getShouldShow(e){var t;const{state:n}=this.view,{selection:r}=n,{ranges:a}=r,i=Math.min(...a.map(c=>c.$from.pos)),o=Math.max(...a.map(c=>c.$to.pos));return(t=this.shouldShow)==null?void 0:t.call(this,{editor:this.editor,view:this.view,state:n,oldState:e,from:i,to:o})}updateOptions(e){var t;if(e.updateDelay!==void 0&&(this.updateDelay=e.updateDelay),e.resizeDelay!==void 0&&(this.resizeDelay=e.resizeDelay),e.appendTo!==void 0&&(this.appendTo=e.appendTo),e.shouldShow!==void 0&&e.shouldShow&&(this.shouldShow=e.shouldShow),e.options!==void 0){const n=(t=e.options.scrollTarget)!=null?t:window;n!==this.scrollTarget&&(this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.scrollTarget=n,this.scrollTarget.addEventListener("scroll",this.resizeHandler)),this.floatingUIOptions={...this.floatingUIOptions,...e.options}}}updatePosition(){const{selection:e}=this.editor.state,t=Kte(this.view,e.from,e.to);v_({getBoundingClientRect:()=>t,getClientRects:()=>[t]},this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:r,y:a,strategy:i,middlewareData:o})=>{var l,c;if((l=o.hide)!=null&&l.referenceHidden||(c=o.hide)!=null&&c.escaped){this.element.style.visibility="hidden";return}this.element.style.visibility="visible",this.element.style.width="max-content",this.element.style.position=i,this.element.style.left=`${r}px`,this.element.style.top=`${a}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(e,t){const n=!t?.selection.eq(e.state.selection),r=!t?.doc.eq(e.state.doc);this.updateHandler(e,n,r,t)}show(){var e;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const t=typeof this.appendTo=="function"?this.appendTo():this.appendTo;(e=t??this.view.dom.parentElement)==null||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),window.removeEventListener("resize",this.resizeHandler),this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.editor.off("transaction",this.transactionHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},gne=e=>new Bn({key:typeof e.pluginKey=="string"?new Qn(e.pluginKey):e.pluginKey,view:t=>new Y4e({view:t,...e})});ln.create({name:"floatingMenu",addOptions(){return{element:null,options:{},pluginKey:"floatingMenu",updateDelay:void 0,resizeDelay:void 0,appendTo:void 0,shouldShow:null}},addCommands(){return{updateFloatingMenuPosition:()=>({tr:e,dispatch:t})=>(t&&e.setMeta("floatingMenu","updatePosition"),!0)}},addProseMirrorPlugins(){return this.options.element?[gne({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,resizeDelay:this.options.resizeDelay,options:this.options.options,appendTo:this.options.appendTo,shouldShow:this.options.shouldShow})]:[]}});var X4e=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},Q4e=({contentComponent:e})=>{const t=Fw.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return s.jsx(s.Fragment,{children:Object.values(t)})};function J4e(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:HM.createPortal(r.reactElement,r.element,n)},e.forEach(a=>a())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(a=>a())}}}var Z4e=class extends Z.Component{constructor(e){var t;super(e),this.editorContentRef=Z.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var e;const t=this.props.editor;if(t&&!t.isDestroyed&&((e=t.view.dom)!=null&&e.parentNode)){if(t.contentComponent)return;const n=this.editorContentRef.current;n.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:n}),t.contentComponent=J4e(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.parentNode))return;const n=document.createElement("div");n.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:n})}catch{}}}render(){const{editor:e,innerRef:t,...n}=this.props;return s.jsxs(s.Fragment,{children:[s.jsx("div",{ref:X4e(t,this.editorContentRef),...n}),e?.contentComponent&&s.jsx(Q4e,{contentComponent:e.contentComponent})]})}},eMe=j.forwardRef((e,t)=>{const n=Z.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return Z.createElement(Z4e,{key:n,innerRef:t,...e})}),yne=Z.memo(eMe),tMe=typeof window<"u"?j.useLayoutEffect:j.useEffect,nMe=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}};function rMe(e){var t;const[n]=j.useState(()=>new nMe(e.editor)),r=L4e.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:cne);return tMe(()=>n.watch(e.editor),[e.editor,n]),j.useDebugValue(r),r}var sMe=!1,t4=typeof window>"u",aMe=t4||!!(typeof window<"u"&&window.next),iMe=class vne{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?t4||aMe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...r)=>{var a,i;return(i=(a=this.options.current).onBeforeCreate)==null?void 0:i.call(a,...r)},onBlur:(...r)=>{var a,i;return(i=(a=this.options.current).onBlur)==null?void 0:i.call(a,...r)},onCreate:(...r)=>{var a,i;return(i=(a=this.options.current).onCreate)==null?void 0:i.call(a,...r)},onDestroy:(...r)=>{var a,i;return(i=(a=this.options.current).onDestroy)==null?void 0:i.call(a,...r)},onFocus:(...r)=>{var a,i;return(i=(a=this.options.current).onFocus)==null?void 0:i.call(a,...r)},onSelectionUpdate:(...r)=>{var a,i;return(i=(a=this.options.current).onSelectionUpdate)==null?void 0:i.call(a,...r)},onTransaction:(...r)=>{var a,i;return(i=(a=this.options.current).onTransaction)==null?void 0:i.call(a,...r)},onUpdate:(...r)=>{var a,i;return(i=(a=this.options.current).onUpdate)==null?void 0:i.call(a,...r)},onContentError:(...r)=>{var a,i;return(i=(a=this.options.current).onContentError)==null?void 0:i.call(a,...r)},onDrop:(...r)=>{var a,i;return(i=(a=this.options.current).onDrop)==null?void 0:i.call(a,...r)},onPaste:(...r)=>{var a,i;return(i=(a=this.options.current).onPaste)==null?void 0:i.call(a,...r)},onDelete:(...r)=>{var a,i;return(i=(a=this.options.current).onDelete)==null?void 0:i.call(a,...r)}};return new zPe(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((a,i)=>{var o;return a===((o=n.extensions)==null?void 0:o[i])}):t[r]===n[r])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?vne.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((r,a)=>r===t[a]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function oMe(e={},t=[]){const n=j.useRef(e);n.current=e;const[r]=j.useState(()=>new iMe(n)),a=Fw.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return j.useDebugValue(a),j.useEffect(r.onRender(t)),rMe({editor:a,selector:({transactionNumber:i})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&i===0?0:i+1}),a}var m5=j.createContext({editor:null});m5.Consumer;var bne=()=>j.useContext(m5),lMe=j.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),cMe=()=>j.useContext(lMe);Z.forwardRef((e,t)=>{const{onDragStart:n}=cMe(),r=e.as||"div";return s.jsx(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});Z.createContext({markViewContentRef:()=>{}});var dMe=Z.forwardRef(({pluginKey:e="bubbleMenu",editor:t,updateDelay:n,resizeDelay:r,appendTo:a,shouldShow:i=null,getReferencedVirtualElement:o,options:l,children:c,...u},f)=>{const m=j.useRef(document.createElement("div"));typeof f=="function"?f(m.current):f&&(f.current=m.current);const{editor:p}=bne(),g=t||p,v={updateDelay:n,resizeDelay:r,appendTo:a,pluginKey:e,shouldShow:i,getReferencedVirtualElement:o,options:l},y=j.useRef(v);y.current=v;const[w,N]=j.useState(!1),A=j.useRef(!0);return j.useEffect(()=>{if(g?.isDestroyed)return;if(!g){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const T=m.current;T.style.visibility="hidden",T.style.position="absolute";const C=xne({...y.current,editor:g,element:T});g.registerPlugin(C);const S=y.current.pluginKey;return A.current=!0,N(!0),()=>{N(!1),g.unregisterPlugin(S),window.requestAnimationFrame(()=>{T.parentNode&&T.parentNode.removeChild(T)})}},[g]),j.useEffect(()=>{if(!(!w||!g||g.isDestroyed)){if(A.current){A.current=!1;return}g.view.dispatch(g.state.tr.setMeta("bubbleMenu",{type:"updateOptions",options:y.current}))}},[w,g,n,r,i,l,a,o]),Ul.createPortal(s.jsx("div",{...u,children:c}),m.current)}),uMe=Z.forwardRef(({pluginKey:e="floatingMenu",editor:t,updateDelay:n,resizeDelay:r,appendTo:a,shouldShow:i=null,options:o,children:l,...c},u)=>{const f=j.useRef(document.createElement("div"));typeof u=="function"?u(f.current):u&&(u.current=f.current);const{editor:m}=bne(),p=t||m,g={updateDelay:n,resizeDelay:r,appendTo:a,pluginKey:e,shouldShow:i,options:o},v=j.useRef(g);v.current=g;const[y,w]=j.useState(!1),N=j.useRef(!0);return j.useEffect(()=>{if(p?.isDestroyed)return;if(!p){console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");return}const A=f.current;A.style.visibility="hidden",A.style.position="absolute";const T=gne({...v.current,editor:p,element:A});p.registerPlugin(T);const C=v.current.pluginKey;return N.current=!0,w(!0),()=>{w(!1),p.unregisterPlugin(C),window.requestAnimationFrame(()=>{A.parentNode&&A.parentNode.removeChild(A)})}},[p]),j.useEffect(()=>{if(!(!y||!p||p.isDestroyed)){if(N.current){N.current=!1;return}p.view.dispatch(p.state.tr.setMeta("floatingMenu",{type:"updateOptions",options:v.current}))}},[y,p,n,r,i,o,a]),Ul.createPortal(s.jsx("div",{...c,children:l}),f.current)}),p5=j.createContext({editor:null,isReady:!1});p5.displayName="TiptapContext";var zN=()=>j.useContext(p5);function jne({instance:e,children:t}){var n;const[r,a]=j.useState((n=e?.isInitialized)!=null?n:!1);j.useEffect(()=>{if(!e){a(!1);return}if(e.isInitialized){a(!0);return}const l=()=>{a(!0)};return e.on("create",l),()=>{e.off("create",l)}},[e]);const i=j.useMemo(()=>({editor:e,isReady:r}),[e,r]),o=j.useMemo(()=>({editor:e}),[e]);return s.jsx(m5.Provider,{value:o,children:s.jsx(p5.Provider,{value:i,children:t})})}jne.displayName="Tiptap";function wne({...e}){const{editor:t}=zN();return s.jsx(yne,{editor:t,...e})}wne.displayName="Tiptap.Content";function Nne({children:e}){const{isReady:t}=zN();return t?null:e}Nne.displayName="Tiptap.Loading";function Sne({children:e,...t}){const{editor:n}=zN();return n?s.jsx(dMe,{editor:n,...t,children:e}):null}Sne.displayName="Tiptap.BubbleMenu";function Cne({children:e,...t}){const{editor:n}=zN();return n?s.jsx(uMe,{...t,editor:n,children:e}):null}Cne.displayName="Tiptap.FloatingMenu";Object.assign(jne,{Content:wne,Loading:Nne,BubbleMenu:Sne,FloatingMenu:Cne});var oj=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...r}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},fMe=/^\s*>\s$/,hMe=Ua.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return oj("blockquote",{...br(this.options.HTMLAttributes,e),children:oj("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=">",r=[];return e.content.forEach(a=>{const l=t.renderChildren([a]).split(`
`).map(c=>c.trim()===""?n:`${n} ${c}`);r.push(l.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Eh({find:fMe,type:this.type})]}}),mMe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,pMe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,xMe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,gMe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,yMe=ad.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return oj("strong",{...br(this.options.HTMLAttributes,e),children:oj("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ah({find:mMe,type:this.type}),Ah({find:xMe,type:this.type})]},addPasteRules(){return[ju({find:pMe,type:this.type}),ju({find:gMe,type:this.type})]}}),vMe=/(^|[^`])`([^`]+)`(?!`)$/,bMe=/(^|[^`])`([^`]+)`(?!`)/g,jMe=ad.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",br(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ah({find:vMe,type:this.type})]},addPasteRules(){return[ju({find:bMe,type:this.type})]}}),nk=4,wMe=/^```([a-z]+)?[\s\n]$/,NMe=/^~~~([a-z]+)?[\s\n]$/,SMe=Ua.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:nk,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;const i=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",br(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return((n=e.raw)==null?void 0:n.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let r="";const a=((n=e.attrs)==null?void 0:n.language)||"";return e.content?r=[`\`\`\`${a}`,t.renderChildren(e.content),"```"].join(`
`):r=`\`\`\`${a}

\`\`\``,r},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:nk,{state:r}=e,{selection:a}=r,{$from:i,empty:o}=a;if(i.parent.type!==this.type)return!1;const l=" ".repeat(n);return o?e.commands.insertContent(l):e.commands.command(({tr:c})=>{const{from:u,to:f}=a,g=r.doc.textBetween(u,f,`
`,`
`).split(`
`).map(v=>l+v).join(`
`);return c.replaceWith(u,f,r.schema.text(g)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:nk,{state:r}=e,{selection:a}=r,{$from:i,empty:o}=a;return i.parent.type!==this.type?!1:o?e.commands.command(({tr:l})=>{var c;const{pos:u}=i,f=i.start(),m=i.end(),g=r.doc.textBetween(f,m,`
`,`
`).split(`
`);let v=0,y=0;const w=u-f;for(let E=0;E<g.length;E+=1){if(y+g[E].length>=w){v=E;break}y+=g[E].length+1}const A=((c=g[v].match(/^ */))==null?void 0:c[0])||"",T=Math.min(A.length,n);if(T===0)return!0;let C=f;for(let E=0;E<v;E+=1)C+=g[E].length+1;return l.delete(C,C+T),u-C<=T&&l.setSelection(yt.create(l.doc,C)),!0}):e.commands.command(({tr:l})=>{const{from:c,to:u}=a,p=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(g=>{var v;const y=((v=g.match(/^ */))==null?void 0:v[0])||"",w=Math.min(y.length,n);return g.slice(w)}).join(`
`);return l.replaceWith(c,u,r.schema.text(p)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:a}=n;if(!a||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!i||!o?!1:e.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:a,empty:i}=n;if(!i||a.parent.type!==this.type||!(a.parentOffset===a.parent.nodeSize-2))return!1;const l=a.after();return l===void 0?!1:r.nodeAt(l)?e.commands.command(({tr:u})=>(u.setSelection(pt.near(r.resolve(l))),!0)):e.commands.exitCode()}}},addInputRules(){return[QP({find:wMe,type:this.type,getAttributes:e=>({language:e[1]})}),QP({find:NMe,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Bn({key:new Qn("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),a=r?JSON.parse(r):void 0,i=a?.mode;if(!n||!i)return!1;const{tr:o,schema:l}=e.state,c=l.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},c)),o.selection.$from.parent.type!==this.type&&o.setSelection(yt.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),e.dispatch(o),!0}}})]}}),CMe=Ua.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),kMe=Ua.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",br(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:a,storedMarks:i}=n;if(a.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=r.extensionManager,c=i||a.$to.parentOffset&&a.$from.marks();return t().insertContent({type:this.name}).command(({tr:u,dispatch:f})=>{if(f&&c&&o){const m=c.filter(p=>l.includes(p.type.name));u.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),TMe=Ua.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,br(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const r=(n=e.attrs)!=null&&n.level?parseInt(e.attrs.level,10):1,a="#".repeat(r);return e.content?`${a} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>QP({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),AMe=Ua.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",br(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!UPe(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,a=e();return Ute(n)?a.insertContentAt(r.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({state:i,tr:o,dispatch:l})=>{if(l){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(yt.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(tt.create(o.doc,c.pos)):o.setSelection(yt.create(o.doc,c.pos));else{const f=i.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,m=f?.create();m&&(o.insert(u,m),o.setSelection(yt.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[qPe({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),EMe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,OMe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,PMe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,MMe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,_Me=ad.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",br(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ah({find:EMe,type:this.type}),Ah({find:PMe,type:this.type})]},addPasteRules(){return[ju({find:OMe,type:this.type}),ju({find:MMe,type:this.type})]}});const RMe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",DMe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",n4="numeric",r4="ascii",s4="alpha",Cx="asciinumeric",ix="alphanumeric",a4="domain",kne="emoji",IMe="scheme",LMe="slashscheme",rk="whitespace";function $Me(e,t){return e in t||(t[e]=[]),t[e]}function Kd(e,t,n){t[n4]&&(t[Cx]=!0,t[ix]=!0),t[r4]&&(t[Cx]=!0,t[s4]=!0),t[Cx]&&(t[ix]=!0),t[s4]&&(t[ix]=!0),t[ix]&&(t[a4]=!0),t[kne]&&(t[a4]=!0);for(const r in t){const a=$Me(r,n);a.indexOf(e)<0&&a.push(e)}}function FMe(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function la(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}la.groups={};la.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const a=t.jr[r][0],i=t.jr[r][1];if(i&&a.test(e))return i}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let a=0;a<e.length;a++)this.tt(e[a],t,n,r)},tr(e,t,n,r){r=r||la.groups;let a;return t&&t.j?a=t:(a=new la(t),n&&r&&Kd(t,n,r)),this.jr.push([e,a]),a},ts(e,t,n,r){let a=this;const i=e.length;if(!i)return a;for(let o=0;o<i-1;o++)a=a.tt(e[o]);return a.tt(e[i-1],t,n,r)},tt(e,t,n,r){r=r||la.groups;const a=this;if(t&&t.j)return a.j[e]=t,t;const i=t;let o,l=a.go(e);if(l?(o=new la,Object.assign(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new la,i){if(r)if(o.t&&typeof o.t=="string"){const c=Object.assign(FMe(o.t,r),n);Kd(i,c,r)}else n&&Kd(i,n,r);o.t=i}return a.j[e]=o,o}};const At=(e,t,n,r,a)=>e.ta(t,n,r,a),ir=(e,t,n,r,a)=>e.tr(t,n,r,a),Qz=(e,t,n,r,a)=>e.ts(t,n,r,a),Me=(e,t,n,r,a)=>e.tt(t,n,r,a),vl="WORD",i4="UWORD",Tne="ASCIINUMERICAL",Ane="ALPHANUMERICAL",cg="LOCALHOST",o4="TLD",l4="UTLD",c0="SCHEME",Bf="SLASH_SCHEME",x5="NUM",c4="WS",g5="NL",kx="OPENBRACE",Tx="CLOSEBRACE",lj="OPENBRACKET",cj="CLOSEBRACKET",dj="OPENPAREN",uj="CLOSEPAREN",fj="OPENANGLEBRACKET",hj="CLOSEANGLEBRACKET",mj="FULLWIDTHLEFTPAREN",pj="FULLWIDTHRIGHTPAREN",xj="LEFTCORNERBRACKET",gj="RIGHTCORNERBRACKET",yj="LEFTWHITECORNERBRACKET",vj="RIGHTWHITECORNERBRACKET",bj="FULLWIDTHLESSTHAN",jj="FULLWIDTHGREATERTHAN",wj="AMPERSAND",Nj="APOSTROPHE",Sj="ASTERISK",Ac="AT",Cj="BACKSLASH",kj="BACKTICK",Tj="CARET",Mc="COLON",y5="COMMA",Aj="DOLLAR",yo="DOT",Ej="EQUALS",v5="EXCLAMATION",li="HYPHEN",Ax="PERCENT",Oj="PIPE",Pj="PLUS",Mj="POUND",Ex="QUERY",b5="QUOTE",Ene="FULLWIDTHMIDDLEDOT",j5="SEMI",vo="SLASH",Ox="TILDE",_j="UNDERSCORE",One="EMOJI",Rj="SYM";var Pne=Object.freeze({__proto__:null,ALPHANUMERICAL:Ane,AMPERSAND:wj,APOSTROPHE:Nj,ASCIINUMERICAL:Tne,ASTERISK:Sj,AT:Ac,BACKSLASH:Cj,BACKTICK:kj,CARET:Tj,CLOSEANGLEBRACKET:hj,CLOSEBRACE:Tx,CLOSEBRACKET:cj,CLOSEPAREN:uj,COLON:Mc,COMMA:y5,DOLLAR:Aj,DOT:yo,EMOJI:One,EQUALS:Ej,EXCLAMATION:v5,FULLWIDTHGREATERTHAN:jj,FULLWIDTHLEFTPAREN:mj,FULLWIDTHLESSTHAN:bj,FULLWIDTHMIDDLEDOT:Ene,FULLWIDTHRIGHTPAREN:pj,HYPHEN:li,LEFTCORNERBRACKET:xj,LEFTWHITECORNERBRACKET:yj,LOCALHOST:cg,NL:g5,NUM:x5,OPENANGLEBRACKET:fj,OPENBRACE:kx,OPENBRACKET:lj,OPENPAREN:dj,PERCENT:Ax,PIPE:Oj,PLUS:Pj,POUND:Mj,QUERY:Ex,QUOTE:b5,RIGHTCORNERBRACKET:gj,RIGHTWHITECORNERBRACKET:vj,SCHEME:c0,SEMI:j5,SLASH:vo,SLASH_SCHEME:Bf,SYM:Rj,TILDE:Ox,TLD:o4,UNDERSCORE:_j,UTLD:l4,UWORD:i4,WORD:vl,WS:c4});const pl=/[a-z]/,_p=new RegExp("\\p{L}","u"),sk=new RegExp("\\p{Emoji}","u"),xl=/\d/,ak=/\s/,Jz="\r",ik=`
`,BMe="",zMe="",ok="";let Nb=null,Sb=null;function qMe(e=[]){const t={};la.groups=t;const n=new la;Nb==null&&(Nb=Zz(RMe)),Sb==null&&(Sb=Zz(DMe)),Me(n,"'",Nj),Me(n,"{",kx),Me(n,"}",Tx),Me(n,"[",lj),Me(n,"]",cj),Me(n,"(",dj),Me(n,")",uj),Me(n,"<",fj),Me(n,">",hj),Me(n,"",mj),Me(n,"",pj),Me(n,"",xj),Me(n,"",gj),Me(n,"",yj),Me(n,"",vj),Me(n,"",bj),Me(n,"",jj),Me(n,"&",wj),Me(n,"*",Sj),Me(n,"@",Ac),Me(n,"`",kj),Me(n,"^",Tj),Me(n,":",Mc),Me(n,",",y5),Me(n,"$",Aj),Me(n,".",yo),Me(n,"=",Ej),Me(n,"!",v5),Me(n,"-",li),Me(n,"%",Ax),Me(n,"|",Oj),Me(n,"+",Pj),Me(n,"#",Mj),Me(n,"?",Ex),Me(n,'"',b5),Me(n,"/",vo),Me(n,";",j5),Me(n,"~",Ox),Me(n,"_",_j),Me(n,"\\",Cj),Me(n,"",Ene);const r=ir(n,xl,x5,{[n4]:!0});ir(r,xl,r);const a=ir(r,pl,Tne,{[Cx]:!0}),i=ir(r,_p,Ane,{[ix]:!0}),o=ir(n,pl,vl,{[r4]:!0});ir(o,xl,a),ir(o,pl,o),ir(a,xl,a),ir(a,pl,a);const l=ir(n,_p,i4,{[s4]:!0});ir(l,pl),ir(l,xl,i),ir(l,_p,l),ir(i,xl,i),ir(i,pl),ir(i,_p,i);const c=Me(n,ik,g5,{[rk]:!0}),u=Me(n,Jz,c4,{[rk]:!0}),f=ir(n,ak,c4,{[rk]:!0});Me(n,ok,f),Me(u,ik,c),Me(u,ok,f),ir(u,ak,f),Me(f,Jz),Me(f,ik),ir(f,ak,f),Me(f,ok,f);const m=ir(n,sk,One,{[kne]:!0});Me(m,"#"),ir(m,sk,m),Me(m,BMe,m);const p=Me(m,zMe);Me(p,"#"),ir(p,sk,m);const g=[[pl,o],[xl,a]],v=[[pl,null],[_p,l],[xl,i]];for(let y=0;y<Nb.length;y++)wc(n,Nb[y],o4,vl,g);for(let y=0;y<Sb.length;y++)wc(n,Sb[y],l4,i4,v);Kd(o4,{tld:!0,ascii:!0},t),Kd(l4,{utld:!0,alpha:!0},t),wc(n,"file",c0,vl,g),wc(n,"mailto",c0,vl,g),wc(n,"http",Bf,vl,g),wc(n,"https",Bf,vl,g),wc(n,"ftp",Bf,vl,g),wc(n,"ftps",Bf,vl,g),Kd(c0,{scheme:!0,ascii:!0},t),Kd(Bf,{slashscheme:!0,ascii:!0},t),e=e.sort((y,w)=>y[0]>w[0]?1:-1);for(let y=0;y<e.length;y++){const w=e[y][0],A=e[y][1]?{[IMe]:!0}:{[LMe]:!0};w.indexOf("-")>=0?A[a4]=!0:pl.test(w)?xl.test(w)?A[Cx]=!0:A[r4]=!0:A[n4]=!0,Qz(n,w,w,A)}return Qz(n,"localhost",cg,{ascii:!0}),n.jd=new la(Rj),{start:n,tokens:Object.assign({groups:t},Pne)}}function Mne(e,t){const n=UMe(t.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,a=[];let i=0,o=0;for(;o<r;){let l=e,c=null,u=0,f=null,m=-1,p=-1;for(;o<r&&(c=l.go(n[o]));)l=c,l.accepts()?(m=0,p=0,f=l):m>=0&&(m+=n[o].length,p++),u+=n[o].length,i+=n[o].length,o++;i-=m,o-=p,u-=m,a.push({t:f.t,v:t.slice(i-u,i),s:i-u,e:i})}return a}function UMe(e){const t=[],n=e.length;let r=0;for(;r<n;){let a=e.charCodeAt(r),i,o=a<55296||a>56319||r+1===n||(i=e.charCodeAt(r+1))<56320||i>57343?e[r]:e.slice(r,r+2);t.push(o),r+=o.length}return t}function wc(e,t,n,r,a){let i;const o=t.length;for(let l=0;l<o-1;l++){const c=t[l];e.j[c]?i=e.j[c]:(i=new la(r),i.jr=a.slice(),e.j[c]=i),e=i}return i=new la(n),i.jr=a.slice(),e.j[t[o-1]]=i,i}function Zz(e){const t=[],n=[];let r=0,a="0123456789";for(;r<e.length;){let i=0;for(;a.indexOf(e[r+i])>=0;)i++;if(i>0){t.push(n.join(""));for(let o=parseInt(e.substring(r,r+i),10);o>0;o--)n.pop();r+=i}else n.push(e[r]),r++}return t}const dg={defaultProtocol:"http",events:null,format:eq,formatHref:eq,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function w5(e,t=null){let n=Object.assign({},dg);e&&(n=Object.assign(n,e instanceof w5?e.o:e));const r=n.ignoreTags,a=[];for(let i=0;i<r.length;i++)a.push(r[i].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=a}w5.prototype={o:dg,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let a=this.o[e];return a&&(typeof a=="object"?(a=n.t in a?a[n.t]:dg[e],typeof a=="function"&&r&&(a=a(t,n))):typeof a=="function"&&r&&(a=a(t,n.t,n)),a)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function eq(e){return e}function _ne(e,t){this.t="token",this.v=e,this.tk=t}_ne.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=dg.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),a=e.get("tagName",n,t),i=this.toFormattedString(e),o={},l=e.get("className",n,t),c=e.get("target",n,t),u=e.get("rel",n,t),f=e.getObj("attributes",n,t),m=e.getObj("events",n,t);return o.href=r,l&&(o.class=l),c&&(o.target=c),u&&(o.rel=u),f&&Object.assign(o,f),{tagName:a,attributes:o,content:i,eventListeners:m}}};function qN(e,t){class n extends _ne{constructor(a,i){super(a,i),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const tq=qN("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),nq=qN("text"),VMe=qN("nl"),Cb=qN("url",{isLink:!0,toHref(e=dg.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==cg&&e[1].t===Mc}}),ri=e=>new la(e);function HMe({groups:e}){const t=e.domain.concat([wj,Sj,Ac,Cj,kj,Tj,Aj,Ej,li,x5,Ax,Oj,Pj,Mj,vo,Rj,Ox,_j]),n=[Nj,Mc,y5,yo,v5,Ax,Ex,b5,j5,fj,hj,kx,Tx,cj,lj,dj,uj,mj,pj,xj,gj,yj,vj,bj,jj],r=[wj,Nj,Sj,Cj,kj,Tj,Aj,Ej,li,kx,Tx,Ax,Oj,Pj,Mj,Ex,vo,Rj,Ox,_j],a=ri(),i=Me(a,Ox);At(i,r,i),At(i,e.domain,i);const o=ri(),l=ri(),c=ri();At(a,e.domain,o),At(a,e.scheme,l),At(a,e.slashscheme,c),At(o,r,i),At(o,e.domain,o);const u=Me(o,Ac);Me(i,Ac,u),Me(l,Ac,u),Me(c,Ac,u);const f=Me(i,yo);At(f,r,i),At(f,e.domain,i);const m=ri();At(u,e.domain,m),At(m,e.domain,m);const p=Me(m,yo);At(p,e.domain,m);const g=ri(tq);At(p,e.tld,g),At(p,e.utld,g),Me(u,cg,g);const v=Me(m,li);Me(v,li,v),At(v,e.domain,m),At(g,e.domain,m),Me(g,yo,p),Me(g,li,v);const y=Me(g,Mc);At(y,e.numeric,tq);const w=Me(o,li),N=Me(o,yo);Me(w,li,w),At(w,e.domain,o),At(N,r,i),At(N,e.domain,o);const A=ri(Cb);At(N,e.tld,A),At(N,e.utld,A),At(A,e.domain,o),At(A,r,i),Me(A,yo,N),Me(A,li,w),Me(A,Ac,u);const T=Me(A,Mc),C=ri(Cb);At(T,e.numeric,C);const S=ri(Cb),E=ri();At(S,t,S),At(S,n,E),At(E,t,S),At(E,n,E),Me(A,vo,S),Me(C,vo,S);const O=Me(l,Mc),_=Me(c,Mc),M=Me(_,vo),$=Me(M,vo);At(l,e.domain,o),Me(l,yo,N),Me(l,li,w),At(c,e.domain,o),Me(c,yo,N),Me(c,li,w),At(O,e.domain,S),Me(O,vo,S),Me(O,Ex,S),At($,e.domain,S),At($,t,S),Me($,vo,S);const z=[[kx,Tx],[lj,cj],[dj,uj],[fj,hj],[mj,pj],[xj,gj],[yj,vj],[bj,jj]];for(let V=0;V<z.length;V++){const[I,F]=z[V],K=Me(S,I);Me(E,I,K),Me(K,F,S);const R=ri(Cb);At(K,t,R);const B=ri();At(K,n),At(R,t,R),At(R,n,B),At(B,t,R),At(B,n,B),Me(R,F,S),Me(B,F,S)}return Me(a,cg,A),Me(a,g5,VMe),{start:a,tokens:Pne}}function KMe(e,t,n){let r=n.length,a=0,i=[],o=[];for(;a<r;){let l=e,c=null,u=null,f=0,m=null,p=-1;for(;a<r&&!(c=l.go(n[a].t));)o.push(n[a++]);for(;a<r&&(u=c||l.go(n[a].t));)c=null,l=u,l.accepts()?(p=0,m=l):p>=0&&p++,a++,f++;if(p<0)a-=f,a<r&&(o.push(n[a]),a++);else{o.length>0&&(i.push(lk(nq,t,o)),o=[]),a-=p,f-=p;const g=m.t,v=n.slice(a-f,a);i.push(lk(g,t,v))}}return o.length>0&&i.push(lk(nq,t,o)),i}function lk(e,t,n){const r=n[0].s,a=n[n.length-1].e,i=t.slice(r,a);return new e(i,n)}const WMe=typeof console<"u"&&console&&console.warn||(()=>{}),GMe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ln={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function YMe(){return la.groups={},Ln.scanner=null,Ln.parser=null,Ln.tokenQueue=[],Ln.pluginQueue=[],Ln.customSchemes=[],Ln.initialized=!1,Ln}function rq(e,t=!1){if(Ln.initialized&&WMe(`linkifyjs: already initialized - will not register custom scheme "${e}" ${GMe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ln.customSchemes.push([e,t])}function XMe(){Ln.scanner=qMe(Ln.customSchemes);for(let e=0;e<Ln.tokenQueue.length;e++)Ln.tokenQueue[e][1]({scanner:Ln.scanner});Ln.parser=HMe(Ln.scanner.tokens);for(let e=0;e<Ln.pluginQueue.length;e++)Ln.pluginQueue[e][1]({scanner:Ln.scanner,parser:Ln.parser});return Ln.initialized=!0,Ln}function N5(e){return Ln.initialized||XMe(),KMe(Ln.parser.start,e,Mne(Ln.scanner.start,e))}N5.scan=Mne;function Rne(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new w5(n),a=N5(e),i=[];for(let o=0;o<a.length;o++){const l=a[o];l.isLink&&(!t||l.t===t)&&r.check(l)&&i.push(l.toFormattedObject(r))}return i}var S5="[\0- -\u2029]",QMe=new RegExp(S5),JMe=new RegExp(`${S5}$`),ZMe=new RegExp(S5,"g");function e_e(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function t_e(e){return new Bn({key:new Qn("autolink"),appendTransaction:(t,n,r)=>{const a=t.some(u=>u.docChanged)&&!n.doc.eq(r.doc),i=t.some(u=>u.getMeta("preventAutolink"));if(!a||i)return;const{tr:o}=r,l=Dte(n.doc,[...t]);if(qte(l).forEach(({newRange:u})=>{const f=VOe(r.doc,u,g=>g.isTextblock);let m,p;if(f.length>1)m=f[0],p=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(f.length){const g=r.doc.textBetween(u.from,u.to," "," ");if(!JMe.test(g))return;m=f[0],p=r.doc.textBetween(m.pos,u.to,void 0," ")}if(m&&p){const g=p.split(QMe).filter(Boolean);if(g.length<=0)return!1;const v=g[g.length-1],y=m.pos+p.lastIndexOf(v);if(!v)return!1;const w=N5(v).map(N=>N.toObject(e.defaultProtocol));if(!e_e(w))return!1;w.filter(N=>N.isLink).map(N=>({...N,from:y+N.start+1,to:y+N.end+1})).filter(N=>r.schema.marks.code?!r.doc.rangeHasMark(N.from,N.to,r.schema.marks.code):!0).filter(N=>e.validate(N.value)).filter(N=>e.shouldAutoLink(N.value)).forEach(N=>{o5(N.from,N.to,r.doc).some(A=>A.mark.type===e.type)||o.addMark(N.from,N.to,e.type.create({href:N.href}))})}}),!!o.steps.length)return o}})}function n_e(e){return new Bn({key:new Qn("handleClickLink"),props:{handleClick:(t,n,r)=>{var a,i;if(r.button!==0||!t.editable)return!1;let o=null;if(r.target instanceof HTMLAnchorElement)o=r.target;else{const c=r.target;if(!c)return!1;const u=e.editor.view.dom;o=c.closest("a"),o&&!u.contains(o)&&(o=null)}if(!o)return!1;let l=!1;if(e.enableClickSelection&&(l=e.editor.commands.extendMarkRange(e.type.name)),e.openOnClick){const c=zte(t.state,e.type.name),u=(a=o.href)!=null?a:c.href,f=(i=o.target)!=null?i:c.target;u&&(window.open(u,f),l=!0)}return l}}})}function r_e(e){return new Bn({key:new Qn("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:a}=e,{state:i}=t,{selection:o}=i,{empty:l}=o;if(l)return!1;let c="";r.content.forEach(f=>{c+=f.textContent});const u=Rne(c,{defaultProtocol:e.defaultProtocol}).find(f=>f.isLink&&f.value===c);return!c||!u||a!==void 0&&!a(u.value)?!1:e.editor.commands.setMark(e.type,{href:u.href})}}})}function Od(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const a=typeof r=="string"?r:r.scheme;a&&n.push(a)}),!e||e.replace(ZMe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var s_e=ad.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){rq(e);return}rq(e.scheme,e.optionalSlashes)})},onDestroy(){YMe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Od(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>{const t=/^[a-z][a-z0-9+.-]*:\/\//i.test(e),n=/^[a-z][a-z0-9+.-]*:/i.test(e);if(t||n&&!e.includes("@"))return!0;const a=(e.includes("@")?e.split("@").pop():e).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(a)||!/\./.test(a))}}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!Od(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Od(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",br(this.options.HTMLAttributes,e),0]:["a",br(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const r=((n=e.attrs)==null?void 0:n.href)||"";return`[${t.renderChildren(e)}](${r})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Od(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Od(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ju({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,a=Rne(e).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:o=>!!Od(o,n),protocols:n,defaultProtocol:r}));a.length&&a.forEach(i=>{this.options.shouldAutoLink(i.value)&&t.push({text:i.value,data:{href:i.href},index:i.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(t_e({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:a=>!!Od(a,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),e.push(n_e({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(r_e({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),a_e=Object.defineProperty,i_e=(e,t)=>{for(var n in t)a_e(e,n,{get:t[n],enumerable:!0})},o_e="listItem",sq="textStyle",aq=/^\s*([-+*])\s$/,Dne=Ua.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",br(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(o_e,this.editor.getAttributes(sq)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Eh({find:aq,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Eh({find:aq,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(sq),editor:this.editor})),[e]}}),Ine=Ua.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",br(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let n=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(a=>a.type==="paragraph"))n=t.parseChildren(e.tokens);else{const a=e.tokens[0];if(a&&a.type==="text"&&a.tokens&&a.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(a.tokens)}],e.tokens.length>1){const o=e.tokens.slice(1),l=t.parseChildren(o);n.push(...l)}}else n=t.parseChildren(e.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>u5(e,t,r=>{var a,i;return r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${(((i=(a=r.meta)==null?void 0:a.parentAttrs)==null?void 0:i.start)||1)+r.index}. `:"- "},n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),l_e={};i_e(l_e,{findListItemPos:()=>gy,getNextListDepth:()=>C5,handleBackspace:()=>d4,handleDelete:()=>u4,hasListBefore:()=>Lne,hasListItemAfter:()=>c_e,hasListItemBefore:()=>$ne,listItemHasSubList:()=>Fne,nextListIsDeeper:()=>Bne,nextListIsHigher:()=>zne});var gy=(e,t)=>{const{$from:n}=t.selection,r=Mr(e,t.schema);let a=null,i=n.depth,o=n.pos,l=null;for(;i>0&&l===null;)a=n.node(i),a.type===r?l=i:(i-=1,o-=1);return l===null?null:{$pos:t.doc.resolve(o),depth:l}},C5=(e,t)=>{const n=gy(e,t);if(!n)return!1;const[,r]=ZOe(t,e,n.$pos.pos+4);return r},Lne=(e,t,n)=>{const{$anchor:r}=e.selection,a=Math.max(0,r.pos-2),i=e.doc.resolve(a).node();return!(!i||!n.includes(i.type.name))},$ne=(e,t)=>{var n;const{$anchor:r}=t.selection,a=t.doc.resolve(r.pos-2);return!(a.index()===0||((n=a.nodeBefore)==null?void 0:n.type.name)!==e)},Fne=(e,t,n)=>{if(!n)return!1;const r=Mr(e,t.schema);let a=!1;return n.descendants(i=>{i.type===r&&(a=!0)}),a},d4=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!Xc(e.state,t)&&Lne(e.state,t,n)){const{$anchor:l}=e.state.selection,c=e.state.doc.resolve(l.before()-1),u=[];c.node().descendants((p,g)=>{p.type.name===t&&u.push({node:p,pos:g})});const f=u.at(-1);if(!f)return!1;const m=e.state.doc.resolve(c.start()+f.pos+1);return e.chain().cut({from:l.start()-1,to:l.end()+1},m.end()).joinForward().run()}if(!Xc(e.state,t)||!rPe(e.state))return!1;const r=gy(t,e.state);if(!r)return!1;const i=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),o=Fne(t,e.state,i);return $ne(t,e.state)&&!o?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},Bne=(e,t)=>{const n=C5(e,t),r=gy(e,t);return!r||!n?!1:n>r.depth},zne=(e,t)=>{const n=C5(e,t),r=gy(e,t);return!r||!n?!1:n<r.depth},u4=(e,t)=>{if(!Xc(e.state,t)||!nPe(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:a}=n;return!n.empty&&r.sameParent(a)?!1:Bne(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():zne(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},c_e=(e,t)=>{var n;const{$anchor:r}=t.selection,a=t.doc.resolve(r.pos-r.parentOffset-2);return!(a.index()===a.parent.childCount-1||((n=a.nodeAfter)==null?void 0:n.type.name)!==e)},qne=ln.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&u4(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&u4(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&d4(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&d4(e,n,r)&&(t=!0)}),t}}}}),iq=/^(\s*)(\d+)\.\s+(.*)$/,d_e=/^\s/;function u_e(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n],i=a.match(iq);if(!i)break;const[,o,l,c]=i,u=o.length;let f=c,m=n+1;const p=[a];for(;m<e.length;){const g=e[m];if(g.match(iq))break;if(g.trim()==="")p.push(g),f+=`
`,m+=1;else if(g.match(d_e))p.push(g),f+=`
${g.slice(u+2)}`,m+=1;else break}t.push({indent:u,number:parseInt(l,10),content:f.trim(),raw:p.join(`
`)}),r=m,n=m}return[t,r]}function Une(e,t,n){var r;const a=[];let i=0;for(;i<e.length;){const o=e[i];if(o.indent===t){const l=o.content.split(`
`),c=((r=l[0])==null?void 0:r.trim())||"",u=[];c&&u.push({type:"paragraph",raw:c,tokens:n.inlineTokens(c)});const f=l.slice(1).join(`
`).trim();if(f){const g=n.blockTokens(f);u.push(...g)}let m=i+1;const p=[];for(;m<e.length&&e[m].indent>t;)p.push(e[m]),m+=1;if(p.length>0){const g=Math.min(...p.map(y=>y.indent)),v=Une(p,g,n);u.push({type:"list",ordered:!0,start:p[0].number,items:v,raw:p.map(y=>y.raw).join(`
`)})}a.push({type:"list_item",raw:o.raw,tokens:u}),i=m}else i+=1}return a}function f_e(e,t){return e.map(n=>{if(n.type!=="list_item")return t.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(a=>{if(a.type==="paragraph"||a.type==="list"||a.type==="blockquote"||a.type==="code")r.push(...t.parseChildren([a]));else if(a.type==="text"&&a.tokens){const i=t.parseChildren([a]);r.push({type:"paragraph",content:i})}else{const i=t.parseChildren([a]);i.length>0&&r.push(...i)}}),{type:"listItem",content:r}})}var h_e="listItem",oq="textStyle",lq=/^(\d+)\.\s$/,Vne=Ua.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",br(this.options.HTMLAttributes,n),0]:["ol",br(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const n=e.start||1,r=e.items?f_e(e.items,t):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=t?.index;return n!==void 0?n:-1},tokenize:(e,t,n)=>{var r;const a=e.split(`
`),[i,o]=u_e(a);if(i.length===0)return;const l=Une(i,0,n);return l.length===0?void 0:{type:"list",ordered:!0,start:((r=i[0])==null?void 0:r.number)||1,items:l,raw:a.slice(0,o).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(h_e,this.editor.getAttributes(oq)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Eh({find:lq,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Eh({find:lq,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(oq)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),m_e=/^\s*(\[([( |x])?\])\s$/,p_e=Ua.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",br(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const r=t.parseChildren(e.nestedTokens);n.push(...r)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;const a=`- [${(n=e.attrs)!=null&&n.checked?"x":" "}] `;return u5(e,t,a)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const a=document.createElement("li"),i=document.createElement("label"),o=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),u=m=>{var p,g;l.ariaLabel=((g=(p=this.options.a11y)==null?void 0:p.checkboxLabel)==null?void 0:g.call(p,m,l.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};u(e),i.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",m=>m.preventDefault()),l.addEventListener("change",m=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:p}=m.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const v=n();if(typeof v!="number")return!1;const y=g.doc.nodeAt(v);return g.setNodeMarkup(v,void 0,{...y?.attrs,checked:p}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,p)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,p])=>{a.setAttribute(m,p)}),a.dataset.checked=e.attrs.checked,l.checked=e.attrs.checked,i.append(l,o),a.append(i,c),Object.entries(t).forEach(([m,p])=>{a.setAttribute(m,p)});let f=new Set(Object.keys(t));return{dom:a,contentDOM:c,update:m=>{if(m.type!==this.type)return!1;a.dataset.checked=m.attrs.checked,l.checked=m.attrs.checked,u(m);const p=r.extensionManager.attributes,g=lg(m,p),v=new Set(Object.keys(g)),y=this.options.HTMLAttributes;return f.forEach(w=>{v.has(w)||(w in y?a.setAttribute(w,y[w]):a.removeAttribute(w))}),Object.entries(g).forEach(([w,N])=>{N==null?w in y?a.setAttribute(w,y[w]):a.removeAttribute(w):a.setAttribute(w,N)}),f=v,!0}}}},addInputRules(){return[Eh({find:m_e,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),x_e=Ua.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",br(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return n!==void 0?n:-1},tokenize(e,t,n){const r=i=>{const o=JP(i,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:r},n);return o?[{type:"taskList",raw:o.raw,items:o.items}]:n.blockTokens(i)},a=JP(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:i=>({indentLevel:i[1].length,mainContent:i[4],checked:i[3].toLowerCase()==="x"}),createToken:(i,o)=>({type:"taskItem",raw:"",mainContent:i.mainContent,indentLevel:i.indentLevel,checked:i.checked,text:i.mainContent,tokens:n.inlineTokens(i.mainContent),nestedTokens:o}),customNestedParser:r},n);if(a)return{type:"taskList",raw:a.raw,items:a.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});ln.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(Dne.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(Ine.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(qne.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(Vne.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(p_e.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(x_e.configure(this.options.taskList)),e}});var cq="&nbsp;",g_e="",y_e=Ua.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",br(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];if(n.length===1&&n[0].type==="image")return t.parseChildren([n[0]]);const r=t.parseInline(n);return r.length===1&&r[0].type==="text"&&(r[0].text===cq||r[0].text===g_e)?t.createNode("paragraph",void 0,[]):t.createNode("paragraph",void 0,r)},renderMarkdown:(e,t)=>{if(!e)return"";const n=Array.isArray(e.content)?e.content:[];return n.length===0?cq:t.renderChildren(n)},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),v_e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,b_e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,j_e=ad.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",br(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ah({find:v_e,type:this.type})]},addPasteRules(){return[ju({find:b_e,type:this.type})]}}),w_e=Ua.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),Hne=ad.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",br(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const a=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!a)return;const i=a[2].trim();return{type:"underline",raw:a[0],text:i,tokens:n.inlineTokens(i)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),N_e=Hne;function S_e(e={}){return new Bn({view(t){return new C_e(t,e)}})}class C_e{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(a=>{let i=o=>{this[a](o)};return t.dom.addEventListener(a,i),{name:a,handler:i}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,a=this.editorView.dom,i=a.getBoundingClientRect(),o=i.width/a.offsetWidth,l=i.height/a.offsetHeight;if(n){let m=t.nodeBefore,p=t.nodeAfter;if(m||p){let g=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(g){let v=g.getBoundingClientRect(),y=m?v.bottom:v.top;m&&p&&(y=(y+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let w=this.width/2*l;r={left:v.left,right:v.right,top:y-w,bottom:y+w}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*o;r={left:m.left-p,right:m.left+p,top:m.top,bottom:m.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,f;if(!c||c==document.body&&getComputedStyle(c).position=="static")u=-pageXOffset,f=-pageYOffset;else{let m=c.getBoundingClientRect(),p=m.width/c.offsetWidth,g=m.height/c.offsetHeight;u=m.left-c.scrollLeft*p,f=m.top-c.scrollTop*g}this.element.style.left=(r.left-u)/o+"px",this.element.style.top=(r.top-f)/l+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),a=r&&r.type.spec.disableDropCursor,i=typeof a=="function"?a(this.editorView,n,t):a;if(n&&!i){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=Tee(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class cr extends pt{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return cr.valid(r)?new cr(r):pt.near(r)}content(){return ze.empty}eq(t){return t instanceof cr&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new cr(t.resolve(n.pos))}getBookmark(){return new k5(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!k_e(t)||!T_e(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let a=n.contentMatchAt(t.index()).defaultType;return a&&a.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&cr.valid(t))return t;let a=t.pos,i=null;for(let o=t.depth;;o--){let l=t.node(o);if(n>0?t.indexAfter(o)<l.childCount:t.index(o)>0){i=l.child(n>0?t.indexAfter(o):t.index(o)-1);break}else if(o==0)return null;a+=n;let c=t.doc.resolve(a);if(cr.valid(c))return c}for(;;){let o=n>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!tt.isSelectable(i)){t=t.doc.resolve(a+i.nodeSize*n),r=!1;continue e}break}i=o,a+=n;let l=t.doc.resolve(a);if(cr.valid(l))return l}return null}}}cr.prototype.visible=!1;cr.findFrom=cr.findGapCursorFrom;pt.jsonID("gapcursor",cr);class k5{constructor(t){this.pos=t}map(t){return new k5(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return cr.valid(n)?new cr(n):pt.near(n)}}function Kne(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function k_e(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let a=r.child(n-1);;a=a.lastChild){if(a.childCount==0&&!a.inlineContent||Kne(a.type))return!0;if(a.inlineContent)return!1}}return!0}function T_e(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let a=r.child(n);;a=a.firstChild){if(a.childCount==0&&!a.inlineContent||Kne(a.type))return!0;if(a.inlineContent)return!1}}return!0}function A_e(){return new Bn({props:{decorations:M_e,createSelectionBetween(e,t,n){return t.pos==n.pos&&cr.valid(n)?new cr(n):null},handleClick:O_e,handleKeyDown:E_e,handleDOMEvents:{beforeinput:P_e}}})}const E_e=ZR({ArrowLeft:kb("horiz",-1),ArrowRight:kb("horiz",1),ArrowUp:kb("vert",-1),ArrowDown:kb("vert",1)});function kb(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,a,i){let o=r.selection,l=t>0?o.$to:o.$from,c=o.empty;if(o instanceof yt){if(!i.endOfTextblock(n)||l.depth==0)return!1;c=!1,l=r.doc.resolve(t>0?l.after():l.before())}let u=cr.findGapCursorFrom(l,t,c);return u?(a&&a(r.tr.setSelection(new cr(u))),!0):!1}}function O_e(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!cr.valid(r))return!1;let a=e.posAtCoords({left:n.clientX,top:n.clientY});return a&&a.inside>-1&&tt.isSelectable(e.state.doc.nodeAt(a.inside))?!1:(e.dispatch(e.state.tr.setSelection(new cr(r))),!0)}function P_e(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof cr))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let a=Ee.empty;for(let o=r.length-1;o>=0;o--)a=Ee.from(r[o].createAndFill(null,a));let i=e.state.tr.replace(n.pos,n.pos,new ze(a,0,0));return i.setSelection(yt.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function M_e(e){if(!(e.selection instanceof cr))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",tr.create(e.doc,[Bs.widget(e.selection.head,t,{key:"gapcursor"})])}var Dj=200,es=function(){};es.prototype.append=function(t){return t.length?(t=es.from(t),!this.length&&t||t.length<Dj&&this.leafAppend(t)||this.length<Dj&&t.leafPrepend(this)||this.appendInner(t)):this};es.prototype.prepend=function(t){return t.length?es.from(t).append(this):this};es.prototype.appendInner=function(t){return new __e(this,t)};es.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?es.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};es.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};es.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};es.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var a=[];return this.forEach(function(i,o){return a.push(t(i,o))},n,r),a};es.from=function(t){return t instanceof es?t:t&&t.length?new Wne(t):es.empty};var Wne=(function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(a,i){return a==0&&i==this.length?this:new t(this.values.slice(a,i))},t.prototype.getInner=function(a){return this.values[a]},t.prototype.forEachInner=function(a,i,o,l){for(var c=i;c<o;c++)if(a(this.values[c],l+c)===!1)return!1},t.prototype.forEachInvertedInner=function(a,i,o,l){for(var c=i-1;c>=o;c--)if(a(this.values[c],l+c)===!1)return!1},t.prototype.leafAppend=function(a){if(this.length+a.length<=Dj)return new t(this.values.concat(a.flatten()))},t.prototype.leafPrepend=function(a){if(this.length+a.length<=Dj)return new t(a.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(es);es.empty=new Wne([]);var __e=(function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,a,i,o){var l=this.left.length;if(a<l&&this.left.forEachInner(r,a,Math.min(i,l),o)===!1||i>l&&this.right.forEachInner(r,Math.max(a-l,0),Math.min(this.length,i)-l,o+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,a,i,o){var l=this.left.length;if(a>l&&this.right.forEachInvertedInner(r,a-l,Math.max(i,l)-l,o+l)===!1||i<l&&this.left.forEachInvertedInner(r,Math.min(a,l),i,o)===!1)return!1},t.prototype.sliceInner=function(r,a){if(r==0&&a==this.length)return this;var i=this.left.length;return a<=i?this.left.slice(r,a):r>=i?this.right.slice(r-i,a-i):this.left.slice(r,i).append(this.right.slice(0,a-i))},t.prototype.leafAppend=function(r){var a=this.right.leafAppend(r);if(a)return new t(this.left,a)},t.prototype.leafPrepend=function(r){var a=this.left.leafPrepend(r);if(a)return new t(a,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})(es);const R_e=500;class zi{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let a,i;n&&(a=this.remapping(r,this.items.length),i=a.maps.length);let o=t.tr,l,c,u=[],f=[];return this.items.forEach((m,p)=>{if(!m.step){a||(a=this.remapping(r,p+1),i=a.maps.length),i--,f.push(m);return}if(a){f.push(new bo(m.map));let g=m.step.map(a.slice(i)),v;g&&o.maybeStep(g).doc&&(v=o.mapping.maps[o.mapping.maps.length-1],u.push(new bo(v,void 0,void 0,u.length+f.length))),i--,v&&a.appendMap(v,i)}else o.maybeStep(m.step);if(m.selection)return l=a?m.selection.map(a.slice(i)):m.selection,c=new zi(this.items.slice(0,r).append(f.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:l}}addTransform(t,n,r,a){let i=[],o=this.eventCount,l=this.items,c=!a&&l.length?l.get(l.length-1):null;for(let f=0;f<t.steps.length;f++){let m=t.steps[f].invert(t.docs[f]),p=new bo(t.mapping.maps[f],m,n),g;(g=c&&c.merge(p))&&(p=g,f?i.pop():l=l.slice(0,l.length-1)),i.push(p),n&&(o++,n=void 0),a||(c=p)}let u=o-r.depth;return u>I_e&&(l=D_e(l,u),o-=u),new zi(l.append(i),o)}remapping(t,n){let r=new ng;return this.items.forEach((a,i)=>{let o=a.mirrorOffset!=null&&i-a.mirrorOffset>=t?r.maps.length-a.mirrorOffset:void 0;r.appendMap(a.map,o)},t,n),r}addMaps(t){return this.eventCount==0?this:new zi(this.items.append(t.map(n=>new bo(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],a=Math.max(0,this.items.length-n),i=t.mapping,o=t.steps.length,l=this.eventCount;this.items.forEach(p=>{p.selection&&l--},a);let c=n;this.items.forEach(p=>{let g=i.getMirror(--c);if(g==null)return;o=Math.min(o,g);let v=i.maps[g];if(p.step){let y=t.steps[g].invert(t.docs[g]),w=p.selection&&p.selection.map(i.slice(c+1,g));w&&l++,r.push(new bo(v,y,w))}else r.push(new bo(v))},a);let u=[];for(let p=n;p<o;p++)u.push(new bo(i.maps[p]));let f=this.items.slice(0,a).append(u).append(r),m=new zi(f,l);return m.emptyItemCount()>R_e&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,a=[],i=0;return this.items.forEach((o,l)=>{if(l>=t)a.push(o),o.selection&&i++;else if(o.step){let c=o.step.map(n.slice(r)),u=c&&c.getMap();if(r--,u&&n.appendMap(u,r),c){let f=o.selection&&o.selection.map(n.slice(r));f&&i++;let m=new bo(u.invert(),c,f),p,g=a.length-1;(p=a.length&&a[g].merge(m))?a[g]=p:a.push(m)}}else o.map&&r--},this.items.length,0),new zi(es.from(a.reverse()),i)}}zi.empty=new zi(es.empty,0);function D_e(e,t){let n;return e.forEach((r,a)=>{if(r.selection&&t--==0)return n=a,!1}),e.slice(n)}class bo{constructor(t,n,r,a){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=a}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new bo(n.getMap().invert(),n,this.selection)}}}class Ec{constructor(t,n,r,a,i){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=a,this.prevComposition=i}}const I_e=20;function L_e(e,t,n,r){let a=n.getMeta(ru),i;if(a)return a.historyState;n.getMeta(B_e)&&(e=new Ec(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(o&&o.getMeta(ru))return o.getMeta(ru).redo?new Ec(e.done.addTransform(n,void 0,r,d0(t)),e.undone,dq(n.mapping.maps),e.prevTime,e.prevComposition):new Ec(e.done,e.undone.addTransform(n,void 0,r,d0(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),c=e.prevTime==0||!o&&e.prevComposition!=l&&(e.prevTime<(n.time||0)-r.newGroupDelay||!$_e(n,e.prevRanges)),u=o?ck(e.prevRanges,n.mapping):dq(n.mapping.maps);return new Ec(e.done.addTransform(n,c?t.selection.getBookmark():void 0,r,d0(t)),zi.empty,u,n.time,l??e.prevComposition)}else return(i=n.getMeta("rebased"))?new Ec(e.done.rebased(n,i),e.undone.rebased(n,i),ck(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Ec(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),ck(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function $_e(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,a)=>{for(let i=0;i<t.length;i+=2)r<=t[i+1]&&a>=t[i]&&(n=!0)}),n}function dq(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,a,i,o)=>t.push(i,o));return t}function ck(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let a=t.map(e[r],1),i=t.map(e[r+1],-1);a<=i&&n.push(a,i)}return n}function F_e(e,t,n){let r=d0(t),a=ru.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,r);if(!i)return null;let o=i.selection.resolve(i.transform.doc),l=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),a,r),c=new Ec(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(o).setMeta(ru,{redo:n,historyState:c})}let dk=!1,uq=null;function d0(e){let t=e.plugins;if(uq!=t){dk=!1,uq=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){dk=!0;break}}return dk}const ru=new Qn("history"),B_e=new Qn("closeHistory");function z_e(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Bn({key:ru,state:{init(){return new Ec(zi.empty,zi.empty,null,0,-1)},apply(t,n,r){return L_e(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,a=r=="historyUndo"?Yne:r=="historyRedo"?Xne:null;return!a||!t.editable?!1:(n.preventDefault(),a(t.state,t.dispatch))}}}})}function Gne(e,t){return(n,r)=>{let a=ru.getState(n);if(!a||(e?a.undone:a.done).eventCount==0)return!1;if(r){let i=F_e(a,n,e);i&&r(t?i.scrollIntoView():i)}return!0}}const Yne=Gne(!1,!0),Xne=Gne(!0,!0);ln.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=e?.node||this.editor.state.doc;if((e?.mode||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=e?.node||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new Bn({key:new Qn("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const a=this.options.limit;if(a==null||a===0){e=!0;return}const i=this.storage.characters({node:r.doc});if(i>a){const o=i-a,l=0,c=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${a} characters. Content was automatically trimmed.`);const u=r.tr.deleteRange(l,c);return e=!0,u}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const a=this.storage.characters({node:n.doc}),i=this.storage.characters({node:t.doc});if(i<=r||a>r&&i>r&&i<=a)return!0;if(a>r&&i>r&&i>a||!t.getMeta("paste"))return!1;const l=t.selection.$head.pos,c=i-r,u=l-c,f=l;return t.deleteRange(u,f),!(this.storage.characters({node:t.doc})>r)}})]}});var q_e=ln.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[S_e(this.options)]}});ln.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Bn({key:new Qn("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:a}=t,i=[];if(!n||!r)return tr.create(e,[]);let o=0;this.options.mode==="deepest"&&e.descendants((c,u)=>{if(c.isText)return;if(!(a>=u&&a<=u+c.nodeSize-1))return!1;o+=1});let l=0;return e.descendants((c,u)=>{if(c.isText||!(a>=u&&a<=u+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&o-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";i.push(Bs.node(u,u+c.nodeSize,{class:this.options.className}))}),tr.create(e,i)}}})]}});var U_e=ln.create({name:"gapCursor",addProseMirrorPlugins(){return[A_e()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=hn(Qe(e,"allowGapCursor",n)))!=null?t:null}}}),fq="placeholder";function V_e(e){return e.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").replace(/^[0-9-]+/,"").replace(/^-+/,"").toLowerCase()}ln.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",dataAttribute:fq,placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){const e=this.options.dataAttribute?`data-${V_e(this.options.dataAttribute)}`:`data-${fq}`;return[new Bn({key:new Qn("placeholder"),props:{decorations:({doc:t,selection:n})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:a}=n,i=[];if(!r)return null;const o=this.editor.isEmpty;return t.descendants((l,c)=>{const u=a>=c&&a<=c+l.nodeSize,f=!l.isLeaf&&$N(l);if((u||!this.options.showOnlyCurrent)&&f){const m=[this.options.emptyNodeClass];o&&m.push(this.options.emptyEditorClass);const p=Bs.node(c,c+l.nodeSize,{class:m.join(" "),[e]:typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:c,hasAnchor:u}):this.options.placeholder});i.push(p)}return this.options.includeChildren}),tr.create(t,i)}}})]}});ln.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new Bn({key:new Qn("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||Ute(n.selection)||e.view.dragging?null:tr.create(n.doc,[Bs.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function hq({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||t?.type===e}var H_e=ln.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new Qn(this.name),n=this.options.node||((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,a])=>a).filter(a=>(this.options.notAfter||[]).concat(n).includes(a.name));return[new Bn({key:t,appendTransaction:(a,i,o)=>{const{doc:l,tr:c,schema:u}=o,f=t.getState(o),m=l.content.size,p=u.nodes[n];if(f)return c.insert(m,p.create())},state:{init:(a,i)=>{const o=i.tr.doc.lastChild;return!hq({node:o,types:r})},apply:(a,i)=>{if(!a.docChanged||a.getMeta("__uniqueIDTransaction"))return i;const o=a.doc.lastChild;return!hq({node:o,types:r})}}})]}}),K_e=ln.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>Yne(e,t),redo:()=>({state:e,dispatch:t})=>Xne(e,t)}},addProseMirrorPlugins(){return[z_e(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),W_e=ln.create({name:"starterKit",addExtensions(){var e,t,n,r;const a=[];return this.options.bold!==!1&&a.push(yMe.configure(this.options.bold)),this.options.blockquote!==!1&&a.push(hMe.configure(this.options.blockquote)),this.options.bulletList!==!1&&a.push(Dne.configure(this.options.bulletList)),this.options.code!==!1&&a.push(jMe.configure(this.options.code)),this.options.codeBlock!==!1&&a.push(SMe.configure(this.options.codeBlock)),this.options.document!==!1&&a.push(CMe.configure(this.options.document)),this.options.dropcursor!==!1&&a.push(q_e.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&a.push(U_e.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&a.push(kMe.configure(this.options.hardBreak)),this.options.heading!==!1&&a.push(TMe.configure(this.options.heading)),this.options.undoRedo!==!1&&a.push(K_e.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&a.push(AMe.configure(this.options.horizontalRule)),this.options.italic!==!1&&a.push(_Me.configure(this.options.italic)),this.options.listItem!==!1&&a.push(Ine.configure(this.options.listItem)),this.options.listKeymap!==!1&&a.push(qne.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&a.push(s_e.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&a.push(Vne.configure(this.options.orderedList)),this.options.paragraph!==!1&&a.push(y_e.configure(this.options.paragraph)),this.options.strike!==!1&&a.push(j_e.configure(this.options.strike)),this.options.text!==!1&&a.push(w_e.configure(this.options.text)),this.options.underline!==!1&&a.push(Hne.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&a.push(H_e.configure((r=this.options)==null?void 0:r.trailingNode)),a}}),G_e=W_e,Y_e=ln.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).some(n=>n):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).some(t=>t),toggleTextAlign:e=>({editor:t,commands:n})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),X_e=Y_e,Q_e=20,Qne=(e,t=0)=>{const n=[];return!e.children.length||t>Q_e||Array.from(e.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...Qne(r,t+1))}),n},J_e=e=>{if(!e.children.length)return;const t=Qne(e);t&&t.forEach(n=>{var r,a;const i=n.getAttribute("style"),o=(a=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:a.getAttribute("style");n.setAttribute("style",`${o};${i}`)})},Jne=ad.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&J_e(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",br(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleTextStyle:e=>({commands:t})=>t.toggleMark(this.name,e),removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(a=>a.type===this.type).some(a=>Object.values(a.attrs).some(i=>!!i))||e.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),Z_e=ln.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const r=n.split(";").map(a=>a.trim()).filter(Boolean);for(let a=r.length-1;a>=0;a-=1){const i=r[a].split(":");if(i.length>=2){const o=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(o==="background-color")return l.replace(/['"]+/g,"")}}}return(t=e.style.backgroundColor)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),Zne=ln.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const r=n.split(";").map(a=>a.trim()).filter(Boolean);for(let a=r.length-1;a>=0;a-=1){const i=r[a].split(":");if(i.length>=2){const o=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(o==="color")return l.replace(/['"]+/g,"")}}}return(t=e.style.color)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),eRe=ln.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),tRe=ln.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),nRe=ln.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:e=>({chain:t})=>t().setMark("textStyle",{lineHeight:e}).run(),unsetLineHeight:()=>({chain:e})=>e().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});ln.create({name:"textStyleKit",addExtensions(){const e=[];return this.options.backgroundColor!==!1&&e.push(Z_e.configure(this.options.backgroundColor)),this.options.color!==!1&&e.push(Zne.configure(this.options.color)),this.options.fontFamily!==!1&&e.push(eRe.configure(this.options.fontFamily)),this.options.fontSize!==!1&&e.push(tRe.configure(this.options.fontSize)),this.options.lineHeight!==!1&&e.push(nRe.configure(this.options.lineHeight)),this.options.textStyle!==!1&&e.push(Jne.configure(this.options.textStyle)),e}});var rRe=Zne;function Px(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function sRe(e){const t=aRe(e),n=j.forwardRef((r,a)=>{const{children:i,...o}=r,l=j.Children.toArray(i),c=l.find(oRe);if(c){const u=c.props.children,f=l.map(m=>m===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function aRe(e){const t=j.forwardRef((n,r)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=cRe(a),l=lRe(i,a.props);return a.type!==j.Fragment&&(l.ref=r?io(r,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iRe=Symbol("radix.slottable");function oRe(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iRe}function lRe(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function cRe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var dRe=pa[" useInsertionEffect ".trim().toString()]||Zt;function uRe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=fRe({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=hRe(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function fRe({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return dRe(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function hRe(e){return typeof e=="function"}var UN="Popover",[ere]=ss(UN,[Qc]),yy=Qc(),[mRe,od]=ere(UN),tre=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=yy(t),c=j.useRef(null),[u,f]=j.useState(!1),[m,p]=uRe({prop:r,defaultProp:a??!1,onChange:i,caller:UN});return s.jsx(Xg,{...l,children:s.jsx(mRe,{scope:t,contentId:Ts(),triggerRef:c,open:m,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(g=>!g),[p]),hasCustomAnchor:u,onCustomAnchorAdd:j.useCallback(()=>f(!0),[]),onCustomAnchorRemove:j.useCallback(()=>f(!1),[]),modal:o,children:n})})};tre.displayName=UN;var nre="PopoverAnchor",pRe=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=od(nre,n),i=yy(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return j.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Qg,{...i,...r,ref:t})});pRe.displayName=nre;var rre="PopoverTrigger",sre=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=od(rre,n),i=yy(n),o=it(t,a.triggerRef),l=s.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":cre(a.open),...r,ref:o,onClick:Px(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Qg,{asChild:!0,...i,children:l})});sre.displayName=rre;var T5="PopoverPortal",[xRe,gRe]=ere(T5,{forceMount:void 0}),are=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,i=od(T5,t);return s.jsx(xRe,{scope:t,forceMount:n,children:s.jsx(Vr,{present:n||i.open,children:s.jsx(um,{asChild:!0,container:a,children:r})})})};are.displayName=T5;var Oh="PopoverContent",ire=j.forwardRef((e,t)=>{const n=gRe(Oh,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,i=od(Oh,e.__scopePopover);return s.jsx(Vr,{present:r||i.open,children:i.modal?s.jsx(vRe,{...a,ref:t}):s.jsx(bRe,{...a,ref:t})})});ire.displayName=Oh;var yRe=sRe("PopoverContent.RemoveScroll"),vRe=j.forwardRef((e,t)=>{const n=od(Oh,e.__scopePopover),r=j.useRef(null),a=it(t,r),i=j.useRef(!1);return j.useEffect(()=>{const o=r.current;if(o)return rN(o)},[]),s.jsx(ny,{as:yRe,allowPinchZoom:!0,children:s.jsx(ore,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Px(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Px(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Px(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),bRe=j.forwardRef((e,t)=>{const n=od(Oh,e.__scopePopover),r=j.useRef(!1),a=j.useRef(!1);return s.jsx(ore,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;n.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),ore=j.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...m}=e,p=od(Oh,n),g=yy(n);return tN(),s.jsx(ey,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(cm,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:s.jsx(Yw,{"data-state":cre(p.open),role:"dialog",id:p.contentId,...g,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),lre="PopoverClose",jRe=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=od(lre,n);return s.jsx(Je.button,{type:"button",...r,ref:t,onClick:Px(e.onClick,()=>a.onOpenChange(!1))})});jRe.displayName=lre;var wRe="PopoverArrow",NRe=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=yy(n);return s.jsx(Xw,{...a,...r,ref:t})});NRe.displayName=wRe;function cre(e){return e?"open":"closed"}var SRe=tre,CRe=sre,kRe=are,dre=ire;const TRe=SRe,ARe=CRe,ure=j.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>s.jsx(kRe,{children:s.jsx(dre,{ref:a,align:t,sideOffset:n,className:Re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...r})}));ure.displayName=dre.displayName;const ERe=["#000000","#374151","#6B7280","#9CA3AF","#EF4444","#F97316","#EAB308","#22C55E","#3B82F6","#8B5CF6","#EC4899","#06B6D4"];function ORe({value:e,onChange:t,placeholder:n,className:r}){const a=oMe({extensions:[G_e.configure({heading:{levels:[1,2,3]}}),N_e,X_e.configure({types:["heading","paragraph"]}),Jne,rRe],content:e,onUpdate:({editor:o})=>{t(o.getHTML())},editorProps:{attributes:{class:"prose prose-sm max-w-none min-h-[100px] p-3 focus:outline-none"}}});if(j.useEffect(()=>{a&&e!==a.getHTML()&&a.commands.setContent(e)},[e,a]),!a)return null;const i=({onClick:o,isActive:l,children:c,title:u})=>s.jsx(U,{type:"button",variant:"ghost",size:"sm",onClick:o,title:u,className:Re("h-8 w-8 p-0",l&&"bg-muted text-foreground"),children:c});return s.jsxs("div",{className:Re("border border-border rounded-md bg-background resize overflow-auto min-h-[120px]",r),children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-0.5 p-1 border-b border-border bg-muted/30",children:[s.jsx(i,{onClick:()=>a.chain().focus().toggleBold().run(),isActive:a.isActive("bold"),title:"",children:s.jsx(Efe,{className:"h-4 w-4"})}),s.jsx(i,{onClick:()=>a.chain().focus().toggleItalic().run(),isActive:a.isActive("italic"),title:"",children:s.jsx(Ihe,{className:"h-4 w-4"})}),s.jsx(i,{onClick:()=>a.chain().focus().toggleUnderline().run(),isActive:a.isActive("underline"),title:"",children:s.jsx(mpe,{className:"h-4 w-4"})}),s.jsx(i,{onClick:()=>a.chain().focus().toggleStrike().run(),isActive:a.isActive("strike"),title:"",children:s.jsx(Hme,{className:"h-4 w-4"})}),s.jsx("div",{className:"w-px h-6 bg-border mx-1"}),s.jsx(i,{onClick:()=>a.chain().focus().toggleHeading({level:1}).run(),isActive:a.isActive("heading",{level:1}),title:" 1",children:s.jsx(khe,{className:"h-4 w-4"})}),s.jsx(i,{onClick:()=>a.chain().focus().toggleHeading({level:2}).run(),isActive:a.isActive("heading",{level:2}),title:" 2",children:s.jsx(Ahe,{className:"h-4 w-4"})}),s.jsx(i,{onClick:()=>a.chain().focus().toggleHeading({level:3}).run(),isActive:a.isActive("heading",{level:3}),title:" 3",children:s.jsx(Ohe,{className:"h-4 w-4"})}),s.jsx("div",{className:"w-px h-6 bg-border mx-1"}),s.jsx(i,{onClick:()=>a.chain().focus().toggleBulletList().run(),isActive:a.isActive("bulletList"),title:" ",children:s.jsx(Khe,{className:"h-4 w-4"})}),s.jsx(i,{onClick:()=>a.chain().focus().toggleOrderedList().run(),isActive:a.isActive("orderedList"),title:" ",children:s.jsx(Vhe,{className:"h-4 w-4"})}),s.jsx("div",{className:"w-px h-6 bg-border mx-1"}),s.jsx(i,{onClick:()=>a.chain().focus().setTextAlign("left").run(),isActive:a.isActive({textAlign:"left"}),title:"  ",children:s.jsx(ape,{className:"h-4 w-4"})}),s.jsx(i,{onClick:()=>a.chain().focus().setTextAlign("center").run(),isActive:a.isActive({textAlign:"center"}),title:" ",children:s.jsx(tpe,{className:"h-4 w-4"})}),s.jsx(i,{onClick:()=>a.chain().focus().setTextAlign("right").run(),isActive:a.isActive({textAlign:"right"}),title:"  ",children:s.jsx(rpe,{className:"h-4 w-4"})}),s.jsx("div",{className:"w-px h-6 bg-border mx-1"}),s.jsxs(TRe,{children:[s.jsx(ARe,{asChild:!0,children:s.jsx(U,{type:"button",variant:"ghost",size:"sm",title:" ",className:"h-8 w-8 p-0",children:s.jsx(t_,{className:"h-4 w-4"})})}),s.jsx(ure,{className:"w-auto p-2",children:s.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[ERe.map(o=>s.jsx("button",{type:"button",onClick:()=>a.chain().focus().setColor(o).run(),className:"w-6 h-6 rounded border border-border hover:scale-110 transition-transform",style:{backgroundColor:o},title:o},o)),s.jsx("button",{type:"button",onClick:()=>a.chain().focus().unsetColor().run(),className:"w-6 h-6 rounded border border-border hover:scale-110 transition-transform text-xs",title:" ",children:""})]})})]})]}),s.jsx(yne,{editor:a,className:"text-foreground [&_.ProseMirror]:min-h-[100px] [&_.ProseMirror]:p-3 [&_.ProseMirror]:focus:outline-none [&_.ProseMirror_p]:my-1 [&_.ProseMirror_h1]:text-2xl [&_.ProseMirror_h1]:font-bold [&_.ProseMirror_h1]:my-2 [&_.ProseMirror_h2]:text-xl [&_.ProseMirror_h2]:font-bold [&_.ProseMirror_h2]:my-2 [&_.ProseMirror_h3]:text-lg [&_.ProseMirror_h3]:font-bold [&_.ProseMirror_h3]:my-1 [&_.ProseMirror_ul]:list-disc [&_.ProseMirror_ul]:pl-5 [&_.ProseMirror_ol]:list-decimal [&_.ProseMirror_ol]:pl-5"})]})}function fre(e={}){const[t,n]=j.useState(!1),[r,a]=j.useState(null),[i,o]=j.useState(0),l=j.useCallback(async m=>{const p=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:m.name,size:m.size,contentType:m.type||"application/octet-stream"})});if(!p.ok){const g=await p.json().catch(()=>({}));throw new Error(g.error||"Failed to get upload URL")}return p.json()},[]),c=j.useCallback(async(m,p)=>{if(!(await fetch(p,{method:"PUT",body:m,headers:{"Content-Type":m.type||"application/octet-stream"}})).ok)throw new Error("Failed to upload file to storage")},[]),u=j.useCallback(async m=>{n(!0),a(null),o(0);try{o(10);const p=await l(m);return o(30),await c(m,p.uploadURL),o(100),e.onSuccess?.(p),p}catch(p){const g=p instanceof Error?p:new Error("Upload failed");return a(g),e.onError?.(g),null}finally{n(!1)}},[l,c,e]),f=j.useCallback(async m=>{const p=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:m.name,size:m.size,contentType:m.type||"application/octet-stream"})});if(!p.ok)throw new Error("Failed to get upload URL");return{method:"PUT",url:(await p.json()).uploadURL,headers:{"Content-Type":m.type||"application/octet-stream"}}},[]);return{uploadFile:u,getUploadParameters:f,isUploading:t,error:r,progress:i}}const PRe=["Facebook","Google","TikTok","UAC","PPC","Push","Native","Email","SEO","Telegram","Instagram","YouTube","Snapchat","X (Twitter)","Pinterest","LinkedIn","Reddit","PopUnder","ClickUnder","InApp","SMS","Viber","WhatsApp","ASO"],MRe=["PWA","WebView","iOS App","Android App","APK","Desktop"],_Re=["CPA","CPL","CPI","RevShare","CPC","CPM"],RRe=["Gambling","Betting","Crypto","Nutra","Dating","Finance","Sweepstakes","Gaming","Utilities","eCommerce"],DRe={Facebook:"bg-blue-600",Google:"bg-red-500",TikTok:"bg-pink-500",UAC:"bg-green-600",PPC:"bg-orange-500",Push:"bg-yellow-600",Native:"bg-teal-500",Email:"bg-indigo-500",SEO:"bg-lime-600",Telegram:"bg-sky-500",Instagram:"bg-fuchsia-500",YouTube:"bg-red-600",Snapchat:"bg-yellow-400","X (Twitter)":"bg-slate-600",Pinterest:"bg-red-400",LinkedIn:"bg-blue-700",Reddit:"bg-orange-600",PopUnder:"bg-purple-600",ClickUnder:"bg-violet-500",InApp:"bg-cyan-500",SMS:"bg-emerald-500",Viber:"bg-purple-500",WhatsApp:"bg-green-500",ASO:"bg-amber-500"},IRe={PWA:"bg-blue-500",WebView:"bg-orange-500","iOS App":"bg-slate-500","Android App":"bg-green-600",APK:"bg-lime-600",Desktop:"bg-indigo-500"},mq=["click_id","clickid","aff_click_id","aff_clickid","subid","sub_id","externalid","external_id","tid","transaction_id","cid"];function hre(e){if(!e)return"";let t=e;return t=t.replace(/([?&])[^=&#]+=\{click_id\}(?=&|#|$)/gi,(n,r)=>r==="?"?"?":""),t=t.replace(/([?&])[^=&#]+=%7Bclick_id%7D(?=&|#|$)/gi,(n,r)=>r==="?"?"?":""),t=t.replace(/([?&])([^=&#]+)=\{([^}]+)\}(?=&|#|$)/gi,(n,r,a,i)=>{const o=a.toLowerCase();return mq.includes(o)&&o===i.toLowerCase()?r==="?"?"?":"":n}),t=t.replace(/([?&])([^=&#]+)=%7B([^%]+)%7D(?=&|#|$)/gi,(n,r,a,i)=>{const o=a.toLowerCase();return mq.includes(o)&&o===i.toLowerCase()?r==="?"?"?":"":n}),t=t.replace(/\?&/,"?").replace(/&&/g,"&").replace(/\?(?=#|$)/,""),t}function LRe(e,t){if(!e)return"";const n=hre(e);if(!n)return"";const r=n.indexOf("#"),a=r===-1?n:n.substring(0,r),i=r===-1?"":n.substring(r),o=a.includes("?")?"&":"?";return`${a}${o}${t}={click_id}${i}`}function $Re(e,t){return hre(e)}function FRe({role:e}){const{t}=as(),n=rt(),[r,a]=hr(),[i,o]=j.useState(!1),[l,c]=j.useState(""),[u,f]=j.useState(!1),p=new URLSearchParams(window.location.search).get("edit"),g=!!p,{data:v,isLoading:y}=Ne({queryKey:["/api/offers",p],queryFn:async()=>{const B=await fetch(`/api/offers/${p}`,{credentials:"include"});if(!B.ok)throw new Error("Failed to fetch offer");return B.json()},enabled:g}),{uploadFile:w,isUploading:N,progress:A}=fre({onSuccess:B=>{S(L=>({...L,logoUrl:B.objectPath}))}}),T=async B=>{const L=B.target.files?.[0];L&&await w(L)},[C,S]=j.useState({name:"",description:"",logoUrl:"",payoutModel:"CPA",category:"Gambling",trafficSources:[],appTypes:[],creativeLinks:[""],geo:[],revSharePercent:"",holdPeriodDays:"0",isTop:!1,isExclusive:!1,isPrivate:!1,dailyCap:"",monthlyCap:"",totalCap:"",capReachedAction:"block",capRedirectUrl:""}),[E,O]=j.useState([{geo:"",landingName:"",landingUrl:"",partnerPayout:"",internalCost:"",currency:"USD",clickIdParam:"click_id"}]);j.useEffect(()=>{f(!1)},[p]),j.useEffect(()=>{v&&!u&&g&&(S({name:v.name||"",description:v.description||"",logoUrl:v.logoUrl||"",payoutModel:v.payoutModel||"CPA",category:v.category||"Gambling",trafficSources:v.trafficSources||[],appTypes:v.appTypes||[],creativeLinks:v.creativeLinks?.length?v.creativeLinks:[""],geo:v.geo||[],revSharePercent:v.revSharePercent?.toString()||"",holdPeriodDays:v.holdPeriodDays?.toString()||"0",isTop:v.isTop||!1,isExclusive:v.isExclusive||!1,isPrivate:v.isPrivate||!1,dailyCap:v.dailyCap?.toString()||"",monthlyCap:v.monthlyCap?.toString()||"",totalCap:v.totalCap?.toString()||"",capReachedAction:v.capReachedAction||"block",capRedirectUrl:v.capRedirectUrl||""}),v.landings&&v.landings.length>0&&O(v.landings.map(B=>({id:B.id,geo:B.geo||"",landingName:B.landingName||"",landingUrl:B.landingUrl||"",partnerPayout:B.partnerPayout||"",internalCost:B.internalCost||"",currency:B.currency||"USD",clickIdParam:B.clickIdParam||"click_id"}))),f(!0))},[v,u,g]);const _=(B,L)=>{S(q=>({...q,[B]:q[B].includes(L)?q[B].filter(se=>se!==L):[...q[B],L]}))},M=()=>{O([...E,{geo:"",landingName:"",landingUrl:"",partnerPayout:"",internalCost:"",currency:"USD",clickIdParam:"click_id"}])},$=B=>{E.length>1&&O(E.filter((L,q)=>q!==B))},z=(B,L,q)=>{const se=[...E];se[B][L]=q,O(se)},V=()=>{S(B=>({...B,creativeLinks:[...B.creativeLinks,""]}))},I=B=>{C.creativeLinks.length>1&&S(L=>({...L,creativeLinks:L.creativeLinks.filter((q,se)=>se!==B)}))},F=(B,L)=>{const q=[...C.creativeLinks];q[B]=L,S(se=>({...se,creativeLinks:q}))},K=()=>{const B=C.name&&C.name.trim().length>0,L=E.filter(q=>{const se=q.geo&&q.geo.trim(),H=q.landingUrl&&q.landingUrl.trim();return se&&H});return B&&L.length>0},R=async()=>{o(!0),c("");try{const B=E.map(H=>H.geo).filter(H=>H),L=g?`/api/offers/${p}`:"/api/offers",se=await fetch(L,{method:g?"PUT":"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...C,geo:B,creativeLinks:C.creativeLinks.filter(H=>H),landings:E.filter(H=>H.geo&&H.landingUrl).map(H=>({...H,partnerPayout:H.partnerPayout||"0"}))})});if(se.ok)await n.invalidateQueries({queryKey:["/api/offers"]}),a(`/dashboard/${e}/offers`);else{const H=await se.json();c(H.message||(g?"   ":"   "))}}catch{c(g?"   ":"   ")}finally{o(!1)}};return g&&y?s.jsxs("div",{className:"flex items-center justify-center min-h-[400px]",children:[s.jsx(we,{className:"w-8 h-8 animate-spin text-blue-500"}),s.jsx("span",{className:"ml-3 text-muted-foreground",children:"  ..."})]}):s.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 pb-10",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx(Mt,{href:`/dashboard/${e}/offers`,children:s.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground","data-testid":"button-back",children:s.jsx(As,{className:"w-4 h-4"})})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-mono text-foreground",children:g?" ":" "}),s.jsx("p",{className:"text-muted-foreground text-sm font-mono",children:g?"  ":"   "})]})]}),l&&s.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded p-4 text-red-400 text-sm",children:l}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(U,{className:"flex-1 bg-muted hover:bg-white/10 text-muted-foreground font-mono",disabled:i,children:""}),s.jsxs(U,{className:"flex-1 bg-blue-600 hover:bg-blue-500 text-foreground font-mono disabled:opacity-50",onClick:R,disabled:i||!K(),"data-testid":"button-publish-offer",children:[s.jsx(Es,{className:"w-4 h-4 mr-2"}),i?"...":g?"":""]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6 space-y-4",children:[s.jsxs("h3",{className:"text-sm font-bold text-foreground uppercase font-mono mb-4 border-b border-border pb-2 flex items-center gap-2",children:[s.jsx(gi,{className:"w-4 h-4"}),"  "]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase",children:"  *"}),s.jsx(le,{"data-testid":"input-offer-name",className:"bg-background border-border text-foreground font-mono focus:border-blue-500",placeholder:": Casino Royale - Tier1 GEO",value:C.name,onChange:B=>S(L=>({...L,name:B.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase",children:"  *"}),s.jsx(ORe,{value:C.description,onChange:B=>S(L=>({...L,description:B})),placeholder:"  , , ..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase",children:""}),s.jsxs("div",{className:"flex items-center gap-4",children:[C.logoUrl?s.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center overflow-hidden border border-border",children:s.jsx("img",{src:C.logoUrl,alt:"Logo",className:"w-full h-full object-contain"})}):s.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center border border-border",children:s.jsx(qW,{className:"w-6 h-6 text-muted-foreground"})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:T,className:"hidden",id:"logo-upload",disabled:N,"data-testid":"input-logo-file"}),s.jsx("label",{htmlFor:"logo-upload",children:s.jsx(U,{type:"button",variant:"outline",className:"border-border text-muted-foreground cursor-pointer hover:bg-muted",disabled:N,asChild:!0,children:s.jsxs("span",{children:[s.jsx(du,{className:"w-4 h-4 mr-2"}),N?` ${A}%`:"  "]})})}),s.jsx(le,{"data-testid":"input-logo-url",className:"bg-background border-border text-foreground font-mono focus:border-blue-500 text-xs h-8",placeholder:"  URL",value:C.logoUrl,onChange:B=>S(L=>({...L,logoUrl:B.target.value}))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{className:"text-muted-foreground text-xs font-mono uppercase flex items-center gap-2",children:[s.jsx(xh,{className:"w-3 h-3"})," "]}),s.jsx("select",{"data-testid":"select-category",className:"w-full h-9 rounded-md bg-background border border-border text-foreground px-3 text-sm font-mono focus:border-blue-500 focus:outline-none",value:C.category,onChange:B=>S(L=>({...L,category:B.target.value})),children:RRe.map(B=>s.jsx("option",{children:B},B))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{className:"text-muted-foreground text-xs font-mono uppercase flex items-center gap-2",children:[s.jsx(Sn,{className:"w-3 h-3"}),"  "]}),s.jsx("select",{"data-testid":"select-payout-model",className:"w-full h-9 rounded-md bg-background border border-border text-foreground px-3 text-sm font-mono focus:border-blue-500 focus:outline-none",value:C.payoutModel,onChange:B=>S(L=>({...L,payoutModel:B.target.value})),children:_Re.map(B=>s.jsx("option",{children:B},B))})]})]}),(C.payoutModel==="RevShare"||C.payoutModel==="Hybrid")&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{className:"text-muted-foreground text-xs font-mono uppercase flex items-center gap-2",children:[s.jsx(Sn,{className:"w-3 h-3"})," RevShare %"]}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{"data-testid":"input-rev-share-percent",className:"bg-background border-border text-foreground font-mono focus:border-blue-500",placeholder:"10.5",type:"number",step:"0.01",value:C.revSharePercent,onChange:B=>S(L=>({...L,revSharePercent:B.target.value}))}),s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground text-sm",children:"%"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase flex items-center gap-2",children:"  ()"}),s.jsxs("div",{className:"flex gap-2",children:[[0,7,14,30].map(B=>s.jsx(U,{type:"button",variant:C.holdPeriodDays===String(B)?"default":"outline",size:"sm",className:C.holdPeriodDays===String(B)?"bg-blue-600 text-foreground":"bg-muted border-border text-muted-foreground hover:bg-white/10",onClick:()=>S(L=>({...L,holdPeriodDays:String(B)})),"data-testid":`button-hold-${B}`,children:B===0?" ":`${B} `},B)),s.jsx(le,{"data-testid":"input-hold-period",type:"number",min:"0",className:"w-20 bg-background border-border text-foreground font-mono text-center",placeholder:".",value:[0,7,14,30].includes(Number(C.holdPeriodDays))?"":C.holdPeriodDays,onChange:B=>S(L=>({...L,holdPeriodDays:B.target.value||"0"}))})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"        "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase flex items-center gap-2",children:" "}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:C.isTop,onChange:B=>S(L=>({...L,isTop:B.target.checked})),className:"w-4 h-4 rounded border-border","data-testid":"checkbox-is-top"}),s.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-bold bg-yellow-500/20 text-yellow-400",children:"TOP"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:C.isExclusive,onChange:B=>S(L=>({...L,isExclusive:B.target.checked})),className:"w-4 h-4 rounded border-border","data-testid":"checkbox-is-exclusive"}),s.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-bold bg-purple-500/20 text-purple-400",children:"EXCLUSIVE"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:C.isPrivate,onChange:B=>S(L=>({...L,isPrivate:B.target.checked})),className:"w-4 h-4 rounded border-border","data-testid":"checkbox-is-private"}),s.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-bold bg-red-500/20 text-red-400",children:"PRIVATE"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"      "})]})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6 space-y-4",children:[s.jsx("h3",{className:"text-sm font-bold text-foreground uppercase font-mono mb-4 border-b border-border pb-2 flex items-center gap-2",children:" (Caps)"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase",children:" "}),s.jsx(le,{"data-testid":"input-daily-cap",type:"number",min:"0",className:"bg-background border-border text-foreground font-mono focus:border-blue-500",placeholder:" ",value:C.dailyCap,onChange:B=>S(L=>({...L,dailyCap:B.target.value}))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase",children:" "}),s.jsx(le,{"data-testid":"input-monthly-cap",type:"number",min:"0",className:"bg-background border-border text-foreground font-mono focus:border-blue-500",placeholder:" ",value:C.monthlyCap,onChange:B=>S(L=>({...L,monthlyCap:B.target.value}))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase",children:" "}),s.jsx(le,{"data-testid":"input-total-cap",type:"number",min:"0",className:"bg-background border-border text-foreground font-mono focus:border-blue-500",placeholder:" ",value:C.totalCap,onChange:B=>S(L=>({...L,totalCap:B.target.value}))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase",children:"   "}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"capAction",checked:C.capReachedAction==="block",onChange:()=>S(B=>({...B,capReachedAction:"block"})),className:"w-4 h-4","data-testid":"radio-cap-block"}),s.jsx("span",{className:"text-sm text-foreground",children:" "})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"capAction",checked:C.capReachedAction==="redirect",onChange:()=>S(B=>({...B,capReachedAction:"redirect"})),className:"w-4 h-4","data-testid":"radio-cap-redirect"}),s.jsx("span",{className:"text-sm text-foreground",children:"  fallback URL"})]})]})]}),C.capReachedAction==="redirect"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase",children:"Fallback URL"}),s.jsx(le,{"data-testid":"input-cap-redirect-url",className:"bg-background border-border text-foreground font-mono focus:border-blue-500",placeholder:"https://fallback-offer.com",value:C.capRedirectUrl,onChange:B=>S(L=>({...L,capRedirectUrl:B.target.value}))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"     "})]})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between border-b border-border pb-2 mb-4",children:[s.jsxs("h3",{className:"text-sm font-bold text-foreground uppercase font-mono flex items-center gap-2",children:[s.jsx(jn,{className:"w-4 h-4"}),"   "]}),s.jsxs(U,{type:"button",size:"sm",onClick:M,className:"bg-blue-600 hover:bg-blue-500 text-foreground font-mono text-xs","data-testid":"button-add-landing",children:[s.jsx(fr,{className:"w-3 h-3 mr-1"})," "]})]}),s.jsx("div",{className:"space-y-4",children:E.map((B,L)=>s.jsxs("div",{className:"bg-muted rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:[" #",L+1]}),E.length>1&&s.jsx(U,{type:"button",size:"icon",variant:"ghost",onClick:()=>$(L),className:"h-6 w-6 text-red-400 hover:text-red-300","data-testid":`button-remove-landing-${L}`,children:s.jsx(Os,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(te,{className:"text-muted-foreground text-[10px] font-mono uppercase",children:" ( ) *"}),s.jsx(Vke,{value:B.geo,onChange:q=>z(L,"geo",q),testId:`input-landing-geo-${L}`})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(te,{className:"text-muted-foreground text-[10px] font-mono uppercase",children:" "}),s.jsx(le,{"data-testid":`input-landing-name-${L}`,className:"bg-card border-border text-foreground font-mono h-8 text-sm",placeholder:"Landing v1",value:B.landingName,onChange:q=>z(L,"landingName",q.target.value)})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(te,{className:"text-muted-foreground text-[10px] font-mono uppercase",children:"URL  *"}),s.jsx(le,{"data-testid":`input-landing-url-${L}`,className:"bg-card border-border text-foreground font-mono h-8 text-sm",placeholder:"https://landing.com/click?o=123",value:LRe(B.landingUrl,B.clickIdParam||"click_id"),onChange:q=>{B.clickIdParam;const se=$Re(q.target.value);z(L,"landingUrl",se)}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(te,{className:"text-muted-foreground text-[10px] font-mono uppercase",children:" click_id"}),s.jsx(le,{"data-testid":`input-landing-clickIdParam-${L}`,className:"bg-card border-border text-foreground font-mono h-8 text-sm",placeholder:"click_id",value:B.clickIdParam,onChange:q=>z(L,"clickIdParam",q.target.value)}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"  click_id   .     : click_id (click_id, aff_click_id, subid, clickid, cid, s2sclick_id,  ..)"})]}),B.landingUrl&&s.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 space-y-2 border border-border",children:[s.jsxs(te,{className:"text-muted-foreground text-[10px] font-mono uppercase flex items-center gap-1",children:[s.jsx(Yn,{className:"w-3 h-3"})," Postback URL     "]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[10px] text-muted-foreground w-16 shrink-0",children:"Lead:"}),s.jsx("code",{className:"flex-1 text-[11px] bg-background p-1.5 rounded border border-border font-mono text-foreground truncate",children:`${window.location.origin}/api/postback?click_id={${B.clickIdParam||"click_id"}}&status=lead`}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0","data-testid":`button-copy-postback-lead-${L}`,onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/api/postback?click_id={${B.clickIdParam||"click_id"}}&status=lead`)},children:s.jsx(Yn,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[10px] text-muted-foreground w-16 shrink-0",children:"Sale/FTD:"}),s.jsx("code",{className:"flex-1 text-[11px] bg-background p-1.5 rounded border border-border font-mono text-foreground truncate",children:`${window.location.origin}/api/postback?click_id={${B.clickIdParam||"click_id"}}&status=sale&payout={payout}`}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0","data-testid":`button-copy-postback-sale-${L}`,onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/api/postback?click_id={${B.clickIdParam||"click_id"}}&status=sale&payout={payout}`)},children:s.jsx(Yn,{className:"w-3 h-3"})})]})]})]}),s.jsxs("div",{className:`grid gap-3 ${C.payoutModel==="RevShare"?"grid-cols-1":"grid-cols-3"}`,children:[C.payoutModel!=="RevShare"&&s.jsxs("div",{className:"space-y-1",children:[s.jsx(te,{className:"text-muted-foreground text-[10px] font-mono uppercase",children:"  *"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-muted-foreground text-xs",children:Hs(B.currency)}),s.jsx(le,{"data-testid":`input-landing-partner-payout-${L}`,className:"bg-card border-border text-foreground font-mono h-8 text-sm pl-5",placeholder:"0.00",value:B.partnerPayout,onChange:q=>z(L,"partnerPayout",q.target.value)})]})]}),C.payoutModel!=="RevShare"&&s.jsxs("div",{className:"space-y-1",children:[s.jsx(te,{className:"text-muted-foreground text-[10px] font-mono uppercase",children:"  "}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-muted-foreground text-xs",children:Hs(B.currency)}),s.jsx(le,{"data-testid":`input-landing-internal-cost-${L}`,className:"bg-card border-border text-foreground font-mono h-8 text-sm pl-5",placeholder:"0.00",value:B.internalCost,onChange:q=>z(L,"internalCost",q.target.value)})]})]}),C.payoutModel==="RevShare"&&s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded p-3",children:s.jsxs("p",{className:"text-xs text-blue-400",children:["RevShare   :   ",C.revSharePercent||"?","%"]})}),C.payoutModel==="Hybrid"&&s.jsxs("div",{className:"space-y-1",children:[s.jsx(te,{className:"text-muted-foreground text-[10px] font-mono uppercase",children:"  "}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-muted-foreground text-xs",children:Hs(B.currency)}),s.jsx(le,{"data-testid":`input-landing-internal-cost-${L}`,className:"bg-card border-border text-foreground font-mono h-8 text-sm pl-5",placeholder:"0.00",value:B.internalCost,onChange:q=>z(L,"internalCost",q.target.value)})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(te,{className:"text-muted-foreground text-[10px] font-mono uppercase",children:""}),s.jsxs("select",{"data-testid":`select-landing-currency-${L}`,className:"w-full h-8 rounded-md bg-card border border-border text-foreground px-2 text-sm font-mono",value:B.currency,onChange:q=>z(L,"currency",q.target.value),children:[s.jsx("option",{children:"USD"}),s.jsx("option",{children:"EUR"}),s.jsx("option",{children:"RUB"})]})]})]})]},L))})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6 space-y-4",children:[s.jsxs("h3",{className:"text-sm font-bold text-foreground uppercase font-mono mb-4 border-b border-border pb-2 flex items-center gap-2",children:[s.jsx(ZM,{className:"w-4 h-4"}),"  "]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:PRe.map(B=>s.jsx("button",{type:"button","data-testid":`toggle-traffic-${B}`,onClick:()=>_("trafficSources",B),className:`px-3 py-1.5 rounded text-xs font-mono transition-all ${C.trafficSources.includes(B)?`${DRe[B]||"bg-blue-600"} text-white`:"bg-muted text-muted-foreground hover:bg-white/10"}`,children:B},B))})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6 space-y-4",children:[s.jsxs("h3",{className:"text-sm font-bold text-foreground uppercase font-mono mb-4 border-b border-border pb-2 flex items-center gap-2",children:[s.jsx(v0,{className:"w-4 h-4"}),"  "]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:MRe.map(B=>s.jsx("button",{type:"button","data-testid":`toggle-app-${B}`,onClick:()=>_("appTypes",B),className:`px-3 py-1.5 rounded text-xs font-mono transition-all ${C.appTypes.includes(B)?`${IRe[B]||"bg-emerald-600"} text-white`:"bg-muted text-muted-foreground hover:bg-white/10"}`,children:B},B))})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6 space-y-4",children:[s.jsxs("h3",{className:"text-sm font-bold text-foreground uppercase font-mono mb-2 flex items-center gap-2",children:[s.jsx(Gg,{className:"w-4 h-4"})," "]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"  Google/Yandex   "}),C.creativeLinks.map((B,L)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{"data-testid":`input-creative-link-${L}`,className:"bg-background border-border text-foreground font-mono text-sm flex-1",placeholder:"https://drive.google.com/...",value:B,onChange:q=>F(L,q.target.value)}),C.creativeLinks.length>1&&s.jsx(U,{type:"button",size:"icon",variant:"ghost",onClick:()=>I(L),className:"h-9 w-9 text-red-400","data-testid":`button-remove-creative-${L}`,children:s.jsx(Os,{className:"w-4 h-4"})})]},L)),s.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:V,className:"w-full border-border text-muted-foreground","data-testid":"button-add-creative",children:[s.jsx(fr,{className:"w-3 h-3 mr-2"}),"  "]})]})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(U,{className:"flex-1 bg-muted hover:bg-white/10 text-muted-foreground font-mono",disabled:i,children:""}),s.jsxs(U,{className:"flex-1 bg-blue-600 hover:bg-blue-500 text-foreground font-mono disabled:opacity-50",onClick:R,disabled:i||!K(),"data-testid":"button-publish-offer",children:[s.jsx(Es,{className:"w-4 h-4 mr-2"}),i?"...":g?"":""]})]})]})]})}/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:mre,setPrototypeOf:pq,isFrozen:BRe,getPrototypeOf:zRe,getOwnPropertyDescriptor:qRe}=Object;let{freeze:Ys,seal:wi,create:f4}=Object,{apply:h4,construct:m4}=typeof Reflect<"u"&&Reflect;Ys||(Ys=function(t){return t});wi||(wi=function(t){return t});h4||(h4=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];return t.apply(n,a)});m4||(m4=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return new t(...r)});const Tb=Xs(Array.prototype.forEach),URe=Xs(Array.prototype.lastIndexOf),xq=Xs(Array.prototype.pop),Rp=Xs(Array.prototype.push),VRe=Xs(Array.prototype.splice),u0=Xs(String.prototype.toLowerCase),uk=Xs(String.prototype.toString),fk=Xs(String.prototype.match),Dp=Xs(String.prototype.replace),HRe=Xs(String.prototype.indexOf),KRe=Xs(String.prototype.trim),Li=Xs(Object.prototype.hasOwnProperty),Ls=Xs(RegExp.prototype.test),Ip=WRe(TypeError);function Xs(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return h4(e,t,r)}}function WRe(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m4(e,n)}}function _t(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u0;pq&&pq(e,null);let r=t.length;for(;r--;){let a=t[r];if(typeof a=="string"){const i=n(a);i!==a&&(BRe(t)||(t[r]=i),a=i)}e[a]=!0}return e}function GRe(e){for(let t=0;t<e.length;t++)Li(e,t)||(e[t]=null);return e}function go(e){const t=f4(null);for(const[n,r]of mre(e))Li(e,n)&&(Array.isArray(r)?t[n]=GRe(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=go(r):t[n]=r);return t}function Lp(e,t){for(;e!==null;){const r=qRe(e,t);if(r){if(r.get)return Xs(r.get);if(typeof r.value=="function")return Xs(r.value)}e=zRe(e)}function n(){return null}return n}const gq=Ys(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),hk=Ys(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),mk=Ys(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),YRe=Ys(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),pk=Ys(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),XRe=Ys(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),yq=Ys(["#text"]),vq=Ys(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),xk=Ys(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),bq=Ys(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ab=Ys(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),QRe=wi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),JRe=wi(/<%[\w\W]*|[\w\W]*%>/gm),ZRe=wi(/\$\{[\w\W]*/gm),e5e=wi(/^data-[\-\w.\u00B7-\uFFFF]+$/),t5e=wi(/^aria-[\-\w]+$/),pre=wi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),n5e=wi(/^(?:\w+script|data):/i),r5e=wi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),xre=wi(/^html$/i),s5e=wi(/^[a-z][.\w]*(-[.\w]+)+$/i);var jq=Object.freeze({__proto__:null,ARIA_ATTR:t5e,ATTR_WHITESPACE:r5e,CUSTOM_ELEMENT:s5e,DATA_ATTR:e5e,DOCTYPE_NAME:xre,ERB_EXPR:JRe,IS_ALLOWED_URI:pre,IS_SCRIPT_OR_DATA:n5e,MUSTACHE_EXPR:QRe,TMPLIT_EXPR:ZRe});const $p={element:1,text:3,progressingInstruction:7,comment:8,document:9},a5e=function(){return typeof window>"u"?null:window},i5e=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";n&&n.hasAttribute(a)&&(r=n.getAttribute(a));const i="dompurify"+(r?"#"+r:"");try{return t.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},wq=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function gre(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a5e();const t=Ge=>gre(Ge);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==$p.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,a=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:u,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:m,DOMParser:p,trustedTypes:g}=e,v=c.prototype,y=Lp(v,"cloneNode"),w=Lp(v,"remove"),N=Lp(v,"nextSibling"),A=Lp(v,"childNodes"),T=Lp(v,"parentNode");if(typeof o=="function"){const Ge=n.createElement("template");Ge.content&&Ge.content.ownerDocument&&(n=Ge.content.ownerDocument)}let C,S="";const{implementation:E,createNodeIterator:O,createDocumentFragment:_,getElementsByTagName:M}=n,{importNode:$}=r;let z=wq();t.isSupported=typeof mre=="function"&&typeof T=="function"&&E&&E.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:V,ERB_EXPR:I,TMPLIT_EXPR:F,DATA_ATTR:K,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:q}=jq;let{IS_ALLOWED_URI:se}=jq,H=null;const Y=_t({},[...gq,...hk,...mk,...pk,...yq]);let G=null;const X=_t({},[...vq,...xk,...bq,...Ab]);let ae=Object.seal(f4(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),de=null,he=null;const Fe=Object.seal(f4(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ge=!0,Ae=!0,_e=!1,ee=!0,Le=!1,Ce=!0,De=!1,We=!1,nt=!1,Et=!1,St=!1,Gt=!1,Jn=!0,cn=!1;const _r="user-content-";let Vt=!0,_n=!1,zn={},Rn=null;const _s=_t({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ai=null;const Ei=_t({},["audio","video","img","source","image","track"]);let Js=null;const ga=_t({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),rr="http://www.w3.org/1998/Math/MathML",Tn="http://www.w3.org/2000/svg",qn="http://www.w3.org/1999/xhtml";let Q=qn,xt=!1,dn=null;const jr=_t({},[rr,Tn,qn],uk);let vs=_t({},["mi","mo","mn","ms","mtext"]),Un=_t({},["annotation-xml"]);const Zs=_t({},["title","style","font","a","script"]);let Rs=null;const Uu=["application/xhtml+xml","text/html"],ud="text/html";let mr=null,Wo=null;const Om=n.createElement("form"),Ql=function(ie){return ie instanceof RegExp||ie instanceof Function},Pm=function(){let ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Wo&&Wo===ie)){if((!ie||typeof ie!="object")&&(ie={}),ie=go(ie),Rs=Uu.indexOf(ie.PARSER_MEDIA_TYPE)===-1?ud:ie.PARSER_MEDIA_TYPE,mr=Rs==="application/xhtml+xml"?uk:u0,H=Li(ie,"ALLOWED_TAGS")?_t({},ie.ALLOWED_TAGS,mr):Y,G=Li(ie,"ALLOWED_ATTR")?_t({},ie.ALLOWED_ATTR,mr):X,dn=Li(ie,"ALLOWED_NAMESPACES")?_t({},ie.ALLOWED_NAMESPACES,uk):jr,Js=Li(ie,"ADD_URI_SAFE_ATTR")?_t(go(ga),ie.ADD_URI_SAFE_ATTR,mr):ga,Ai=Li(ie,"ADD_DATA_URI_TAGS")?_t(go(Ei),ie.ADD_DATA_URI_TAGS,mr):Ei,Rn=Li(ie,"FORBID_CONTENTS")?_t({},ie.FORBID_CONTENTS,mr):_s,de=Li(ie,"FORBID_TAGS")?_t({},ie.FORBID_TAGS,mr):go({}),he=Li(ie,"FORBID_ATTR")?_t({},ie.FORBID_ATTR,mr):go({}),zn=Li(ie,"USE_PROFILES")?ie.USE_PROFILES:!1,ge=ie.ALLOW_ARIA_ATTR!==!1,Ae=ie.ALLOW_DATA_ATTR!==!1,_e=ie.ALLOW_UNKNOWN_PROTOCOLS||!1,ee=ie.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Le=ie.SAFE_FOR_TEMPLATES||!1,Ce=ie.SAFE_FOR_XML!==!1,De=ie.WHOLE_DOCUMENT||!1,Et=ie.RETURN_DOM||!1,St=ie.RETURN_DOM_FRAGMENT||!1,Gt=ie.RETURN_TRUSTED_TYPE||!1,nt=ie.FORCE_BODY||!1,Jn=ie.SANITIZE_DOM!==!1,cn=ie.SANITIZE_NAMED_PROPS||!1,Vt=ie.KEEP_CONTENT!==!1,_n=ie.IN_PLACE||!1,se=ie.ALLOWED_URI_REGEXP||pre,Q=ie.NAMESPACE||qn,vs=ie.MATHML_TEXT_INTEGRATION_POINTS||vs,Un=ie.HTML_INTEGRATION_POINTS||Un,ae=ie.CUSTOM_ELEMENT_HANDLING||{},ie.CUSTOM_ELEMENT_HANDLING&&Ql(ie.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=ie.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ie.CUSTOM_ELEMENT_HANDLING&&Ql(ie.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=ie.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ie.CUSTOM_ELEMENT_HANDLING&&typeof ie.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=ie.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Le&&(Ae=!1),St&&(Et=!0),zn&&(H=_t({},yq),G=[],zn.html===!0&&(_t(H,gq),_t(G,vq)),zn.svg===!0&&(_t(H,hk),_t(G,xk),_t(G,Ab)),zn.svgFilters===!0&&(_t(H,mk),_t(G,xk),_t(G,Ab)),zn.mathMl===!0&&(_t(H,pk),_t(G,bq),_t(G,Ab))),ie.ADD_TAGS&&(typeof ie.ADD_TAGS=="function"?Fe.tagCheck=ie.ADD_TAGS:(H===Y&&(H=go(H)),_t(H,ie.ADD_TAGS,mr))),ie.ADD_ATTR&&(typeof ie.ADD_ATTR=="function"?Fe.attributeCheck=ie.ADD_ATTR:(G===X&&(G=go(G)),_t(G,ie.ADD_ATTR,mr))),ie.ADD_URI_SAFE_ATTR&&_t(Js,ie.ADD_URI_SAFE_ATTR,mr),ie.FORBID_CONTENTS&&(Rn===_s&&(Rn=go(Rn)),_t(Rn,ie.FORBID_CONTENTS,mr)),ie.ADD_FORBID_CONTENTS&&(Rn===_s&&(Rn=go(Rn)),_t(Rn,ie.ADD_FORBID_CONTENTS,mr)),Vt&&(H["#text"]=!0),De&&_t(H,["html","head","body"]),H.table&&(_t(H,["tbody"]),delete de.tbody),ie.TRUSTED_TYPES_POLICY){if(typeof ie.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ip('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ie.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ip('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=ie.TRUSTED_TYPES_POLICY,S=C.createHTML("")}else C===void 0&&(C=i5e(g,a)),C!==null&&typeof S=="string"&&(S=C.createHTML(""));Ys&&Ys(ie),Wo=ie}},Mm=_t({},[...hk,...mk,...YRe]),_m=_t({},[...pk,...XRe]),Py=function(ie){let Oe=T(ie);(!Oe||!Oe.tagName)&&(Oe={namespaceURI:Q,tagName:"template"});const qe=u0(ie.tagName),nn=u0(Oe.tagName);return dn[ie.namespaceURI]?ie.namespaceURI===Tn?Oe.namespaceURI===qn?qe==="svg":Oe.namespaceURI===rr?qe==="svg"&&(nn==="annotation-xml"||vs[nn]):!!Mm[qe]:ie.namespaceURI===rr?Oe.namespaceURI===qn?qe==="math":Oe.namespaceURI===Tn?qe==="math"&&Un[nn]:!!_m[qe]:ie.namespaceURI===qn?Oe.namespaceURI===Tn&&!Un[nn]||Oe.namespaceURI===rr&&!vs[nn]?!1:!_m[qe]&&(Zs[qe]||!Mm[qe]):!!(Rs==="application/xhtml+xml"&&dn[ie.namespaceURI]):!1},ea=function(ie){Rp(t.removed,{element:ie});try{T(ie).removeChild(ie)}catch{w(ie)}},Oi=function(ie,Oe){try{Rp(t.removed,{attribute:Oe.getAttributeNode(ie),from:Oe})}catch{Rp(t.removed,{attribute:null,from:Oe})}if(Oe.removeAttribute(ie),ie==="is")if(Et||St)try{ea(Oe)}catch{}else try{Oe.setAttribute(ie,"")}catch{}},Rm=function(ie){let Oe=null,qe=null;if(nt)ie="<remove></remove>"+ie;else{const Ot=fk(ie,/^[\r\n\t ]+/);qe=Ot&&Ot[0]}Rs==="application/xhtml+xml"&&Q===qn&&(ie='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ie+"</body></html>");const nn=C?C.createHTML(ie):ie;if(Q===qn)try{Oe=new p().parseFromString(nn,Rs)}catch{}if(!Oe||!Oe.documentElement){Oe=E.createDocument(Q,"template",null);try{Oe.documentElement.innerHTML=xt?S:nn}catch{}}const Zn=Oe.body||Oe.documentElement;return ie&&qe&&Zn.insertBefore(n.createTextNode(qe),Zn.childNodes[0]||null),Q===qn?M.call(Oe,De?"html":"body")[0]:De?Oe.documentElement:Zn},Dm=function(ie){return O.call(ie.ownerDocument||ie,ie,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Va=function(ie){return ie instanceof m&&(typeof ie.nodeName!="string"||typeof ie.textContent!="string"||typeof ie.removeChild!="function"||!(ie.attributes instanceof f)||typeof ie.removeAttribute!="function"||typeof ie.setAttribute!="function"||typeof ie.namespaceURI!="string"||typeof ie.insertBefore!="function"||typeof ie.hasChildNodes!="function")},wr=function(ie){return typeof l=="function"&&ie instanceof l};function Vn(Ge,ie,Oe){Tb(Ge,qe=>{qe.call(t,ie,Oe,Wo)})}const Go=function(ie){let Oe=null;if(Vn(z.beforeSanitizeElements,ie,null),Va(ie))return ea(ie),!0;const qe=mr(ie.nodeName);if(Vn(z.uponSanitizeElement,ie,{tagName:qe,allowedTags:H}),Ce&&ie.hasChildNodes()&&!wr(ie.firstElementChild)&&Ls(/<[/\w!]/g,ie.innerHTML)&&Ls(/<[/\w!]/g,ie.textContent)||ie.nodeType===$p.progressingInstruction||Ce&&ie.nodeType===$p.comment&&Ls(/<[/\w]/g,ie.data))return ea(ie),!0;if(!(Fe.tagCheck instanceof Function&&Fe.tagCheck(qe))&&(!H[qe]||de[qe])){if(!de[qe]&&My(qe)&&(ae.tagNameCheck instanceof RegExp&&Ls(ae.tagNameCheck,qe)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(qe)))return!1;if(Vt&&!Rn[qe]){const nn=T(ie)||ie.parentNode,Zn=A(ie)||ie.childNodes;if(Zn&&nn){const Ot=Zn.length;for(let ls=Ot-1;ls>=0;--ls){const Ha=y(Zn[ls],!0);Ha.__removalCount=(ie.__removalCount||0)+1,nn.insertBefore(Ha,N(ie))}}}return ea(ie),!0}return ie instanceof c&&!Py(ie)||(qe==="noscript"||qe==="noembed"||qe==="noframes")&&Ls(/<\/no(script|embed|frames)/i,ie.innerHTML)?(ea(ie),!0):(Le&&ie.nodeType===$p.text&&(Oe=ie.textContent,Tb([V,I,F],nn=>{Oe=Dp(Oe,nn," ")}),ie.textContent!==Oe&&(Rp(t.removed,{element:ie.cloneNode()}),ie.textContent=Oe)),Vn(z.afterSanitizeElements,ie,null),!1)},Vu=function(ie,Oe,qe){if(Jn&&(Oe==="id"||Oe==="name")&&(qe in n||qe in Om))return!1;if(!(Ae&&!he[Oe]&&Ls(K,Oe))){if(!(ge&&Ls(R,Oe))){if(!(Fe.attributeCheck instanceof Function&&Fe.attributeCheck(Oe,ie))){if(!G[Oe]||he[Oe]){if(!(My(ie)&&(ae.tagNameCheck instanceof RegExp&&Ls(ae.tagNameCheck,ie)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(ie))&&(ae.attributeNameCheck instanceof RegExp&&Ls(ae.attributeNameCheck,Oe)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(Oe,ie))||Oe==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&Ls(ae.tagNameCheck,qe)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(qe))))return!1}else if(!Js[Oe]){if(!Ls(se,Dp(qe,L,""))){if(!((Oe==="src"||Oe==="xlink:href"||Oe==="href")&&ie!=="script"&&HRe(qe,"data:")===0&&Ai[ie])){if(!(_e&&!Ls(B,Dp(qe,L,"")))){if(qe)return!1}}}}}}}return!0},My=function(ie){return ie!=="annotation-xml"&&fk(ie,q)},_y=function(ie){Vn(z.beforeSanitizeAttributes,ie,null);const{attributes:Oe}=ie;if(!Oe||Va(ie))return;const qe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:G,forceKeepAttr:void 0};let nn=Oe.length;for(;nn--;){const Zn=Oe[nn],{name:Ot,namespaceURI:ls,value:Ha}=Zn,ta=mr(Ot),fo=Ha;let Rr=Ot==="value"?fo:KRe(fo);if(qe.attrName=ta,qe.attrValue=Rr,qe.keepAttr=!0,qe.forceKeepAttr=void 0,Vn(z.uponSanitizeAttribute,ie,qe),Rr=qe.attrValue,cn&&(ta==="id"||ta==="name")&&(Oi(Ot,ie),Rr=_r+Rr),Ce&&Ls(/((--!?|])>)|<\/(style|title|textarea)/i,Rr)){Oi(Ot,ie);continue}if(ta==="attributename"&&fk(Rr,"href")){Oi(Ot,ie);continue}if(qe.forceKeepAttr)continue;if(!qe.keepAttr){Oi(Ot,ie);continue}if(!ee&&Ls(/\/>/i,Rr)){Oi(Ot,ie);continue}Le&&Tb([V,I,F],Lm=>{Rr=Dp(Rr,Lm," ")});const Im=mr(ie.nodeName);if(!Vu(Im,ta,Rr)){Oi(Ot,ie);continue}if(C&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!ls)switch(g.getAttributeType(Im,ta)){case"TrustedHTML":{Rr=C.createHTML(Rr);break}case"TrustedScriptURL":{Rr=C.createScriptURL(Rr);break}}if(Rr!==fo)try{ls?ie.setAttributeNS(ls,Ot,Rr):ie.setAttribute(Ot,Rr),Va(ie)?ea(ie):xq(t.removed)}catch{Oi(Ot,ie)}}Vn(z.afterSanitizeAttributes,ie,null)},Ry=function Ge(ie){let Oe=null;const qe=Dm(ie);for(Vn(z.beforeSanitizeShadowDOM,ie,null);Oe=qe.nextNode();)Vn(z.uponSanitizeShadowNode,Oe,null),Go(Oe),_y(Oe),Oe.content instanceof i&&Ge(Oe.content);Vn(z.afterSanitizeShadowDOM,ie,null)};return t.sanitize=function(Ge){let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oe=null,qe=null,nn=null,Zn=null;if(xt=!Ge,xt&&(Ge="<!-->"),typeof Ge!="string"&&!wr(Ge))if(typeof Ge.toString=="function"){if(Ge=Ge.toString(),typeof Ge!="string")throw Ip("dirty is not a string, aborting")}else throw Ip("toString is not a function");if(!t.isSupported)return Ge;if(We||Pm(ie),t.removed=[],typeof Ge=="string"&&(_n=!1),_n){if(Ge.nodeName){const Ha=mr(Ge.nodeName);if(!H[Ha]||de[Ha])throw Ip("root node is forbidden and cannot be sanitized in-place")}}else if(Ge instanceof l)Oe=Rm("<!---->"),qe=Oe.ownerDocument.importNode(Ge,!0),qe.nodeType===$p.element&&qe.nodeName==="BODY"||qe.nodeName==="HTML"?Oe=qe:Oe.appendChild(qe);else{if(!Et&&!Le&&!De&&Ge.indexOf("<")===-1)return C&&Gt?C.createHTML(Ge):Ge;if(Oe=Rm(Ge),!Oe)return Et?null:Gt?S:""}Oe&&nt&&ea(Oe.firstChild);const Ot=Dm(_n?Ge:Oe);for(;nn=Ot.nextNode();)Go(nn),_y(nn),nn.content instanceof i&&Ry(nn.content);if(_n)return Ge;if(Et){if(St)for(Zn=_.call(Oe.ownerDocument);Oe.firstChild;)Zn.appendChild(Oe.firstChild);else Zn=Oe;return(G.shadowroot||G.shadowrootmode)&&(Zn=$.call(r,Zn,!0)),Zn}let ls=De?Oe.outerHTML:Oe.innerHTML;return De&&H["!doctype"]&&Oe.ownerDocument&&Oe.ownerDocument.doctype&&Oe.ownerDocument.doctype.name&&Ls(xre,Oe.ownerDocument.doctype.name)&&(ls="<!DOCTYPE "+Oe.ownerDocument.doctype.name+`>
`+ls),Le&&Tb([V,I,F],Ha=>{ls=Dp(ls,Ha," ")}),C&&Gt?C.createHTML(ls):ls},t.setConfig=function(){let Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Pm(Ge),We=!0},t.clearConfig=function(){Wo=null,We=!1},t.isValidAttribute=function(Ge,ie,Oe){Wo||Pm({});const qe=mr(Ge),nn=mr(ie);return Vu(qe,nn,Oe)},t.addHook=function(Ge,ie){typeof ie=="function"&&Rp(z[Ge],ie)},t.removeHook=function(Ge,ie){if(ie!==void 0){const Oe=URe(z[Ge],ie);return Oe===-1?void 0:VRe(z[Ge],Oe,1)[0]}return xq(z[Ge])},t.removeHooks=function(Ge){z[Ge]=[]},t.removeAllHooks=function(){z=wq()},t}var o5e=gre();function Nq(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}var l5e=pa[" useInsertionEffect ".trim().toString()]||Zt;function c5e({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=d5e({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=u5e(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function d5e({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return l5e(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function u5e(e){return typeof e=="function"}var VN="Checkbox",[f5e]=ss(VN),[h5e,A5]=f5e(VN);function m5e(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:f="on",internal_do_not_use_render:m}=e,[p,g]=c5e({prop:n,defaultProp:a??!1,onChange:c,caller:VN}),[v,y]=j.useState(null),[w,N]=j.useState(null),A=j.useRef(!1),T=v?!!o||!!v.closest("form"):!0,C={checked:p,disabled:i,setChecked:g,control:v,setControl:y,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:A,required:u,defaultChecked:Uc(a)?!1:a,isFormControl:T,bubbleInput:w,setBubbleInput:N};return s.jsx(h5e,{scope:t,...C,children:p5e(m)?m(C):r})}var yre="CheckboxTrigger",vre=j.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:p,isFormControl:g,bubbleInput:v}=A5(yre,e),y=it(a,f),w=j.useRef(c);return j.useEffect(()=>{const N=i?.form;if(N){const A=()=>m(w.current);return N.addEventListener("reset",A),()=>N.removeEventListener("reset",A)}},[i,m]),s.jsx(Je.button,{type:"button",role:"checkbox","aria-checked":Uc(c)?"mixed":c,"aria-required":u,"data-state":Sre(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:y,onKeyDown:Nq(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Nq(n,N=>{m(A=>Uc(A)?!0:!A),v&&g&&(p.current=N.isPropagationStopped(),p.current||N.stopPropagation())})})});vre.displayName=yre;var E5=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:f,...m}=e;return s.jsx(m5e,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:r,form:f,value:c,internal_do_not_use_render:({isFormControl:p})=>s.jsxs(s.Fragment,{children:[s.jsx(vre,{...m,ref:t,__scopeCheckbox:n}),p&&s.jsx(Nre,{__scopeCheckbox:n})]})})});E5.displayName=VN;var bre="CheckboxIndicator",jre=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=A5(bre,n);return s.jsx(Vr,{present:r||Uc(i.checked)||i.checked===!0,children:s.jsx(Je.span,{"data-state":Sre(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});jre.displayName=bre;var wre="CheckboxBubbleInput",Nre=j.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:f,form:m,bubbleInput:p,setBubbleInput:g}=A5(wre,e),v=it(n,g),y=I_(i),w=b_(r);j.useEffect(()=>{const A=p;if(!A)return;const T=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(T,"checked").set,E=!a.current;if(y!==i&&S){const O=new Event("click",{bubbles:E});A.indeterminate=Uc(i),S.call(A,Uc(i)?!1:i),A.dispatchEvent(O)}},[p,y,i,a]);const N=j.useRef(Uc(i)?!1:i);return s.jsx(Je.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:l,disabled:c,name:u,value:f,form:m,...t,tabIndex:-1,ref:v,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Nre.displayName=wre;function p5e(e){return typeof e=="function"}function Uc(e){return e==="indeterminate"}function Sre(e){return Uc(e)?"indeterminate":e?"checked":"unchecked"}const $l=j.forwardRef(({className:e,...t},n)=>s.jsx(E5,{ref:n,className:Re("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(jre,{className:Re("grid place-content-center text-current"),children:s.jsx(bt,{className:"h-4 w-4"})})}));$l.displayName=E5.displayName;const O5=mJ,P5=jR,M5=NR;function Cre(e){const r=({UK:"GB",EN:"GB"}[e.toUpperCase()]||e.toUpperCase()).split("").map(a=>127397+a.charCodeAt(0));return String.fromCodePoint(...r)}const x5e={Facebook:"bg-blue-600",Google:"bg-red-500",TikTok:"bg-pink-500",UAC:"bg-green-600",PPC:"bg-orange-500",Push:"bg-yellow-600",Native:"bg-teal-500",Email:"bg-indigo-500",SEO:"bg-lime-600",Telegram:"bg-sky-500",Instagram:"bg-fuchsia-500",YouTube:"bg-red-600",Snapchat:"bg-yellow-400","X (Twitter)":"bg-slate-600",Pinterest:"bg-red-400",LinkedIn:"bg-blue-700",Reddit:"bg-orange-600",PopUnder:"bg-purple-600",ClickUnder:"bg-violet-500",InApp:"bg-cyan-500",SMS:"bg-emerald-500",Viber:"bg-purple-500",WhatsApp:"bg-green-500",ASO:"bg-amber-500"},g5e={PWA:"bg-blue-500",WebView:"bg-orange-500","iOS App":"bg-slate-500","Android App":"bg-green-600",APK:"bg-lime-600",Desktop:"bg-indigo-500"};function y5e({landings:e,copiedUrl:t,copyToClipboard:n,buildUrlWithSubs:r}){const a=j.useMemo(()=>{const f={};return e.forEach(m=>{f[m.geo]||(f[m.geo]=[]),f[m.geo].push(m)}),Object.entries(f).sort((m,p)=>p[1].length-m[1].length)},[e]),[i,o]=j.useState(new Set);j.useEffect(()=>{o(new Set(a.map(([f])=>f)))},[e]);const l=f=>{o(m=>{const p=new Set(m);return p.has(f)?p.delete(f):p.add(f),p})},c=f=>{const m=f.map(y=>parseFloat(y.partnerPayout)),p=Math.min(...m),g=Math.max(...m),v=Hs(f[0]?.currency||"USD");return p===g?`${v}${p}`:`${v}${p} - ${v}${g}`},u=a.length;return s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6",children:[s.jsxs("h3",{className:"text-sm font-bold uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[s.jsx(jn,{className:"w-4 h-4"})," /  (",e.length,"   ",u," GEO)"]}),s.jsx("div",{className:"space-y-2",children:a.map(([f,m])=>s.jsxs(O5,{open:i.has(f),onOpenChange:()=>l(f),children:[s.jsx(P5,{asChild:!0,children:s.jsxs("div",{className:"w-full bg-muted hover:bg-white/10 rounded-xl p-4 flex items-center justify-between border border-white/5 hover:border-border transition-all cursor-pointer","data-testid":`geo-group-${f}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-4xl",children:Cre(f)}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-foreground",children:[f," ",s.jsxs("span",{className:"text-muted-foreground font-normal",children:["(",m.length," ",m.length===1?"":"",")"]})]}),s.jsx("div",{className:"text-xs text-emerald-400 font-medium",children:c(m)})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:i.has(f)?s.jsx(fa,{className:"w-5 h-5 text-muted-foreground"}):s.jsx(Hc,{className:"w-5 h-5 text-muted-foreground"})})]})}),s.jsx(M5,{children:s.jsx("div",{className:"ml-4 mt-2 space-y-2 border-l-2 border-blue-500/20 pl-4",children:m.map((p,g)=>s.jsxs("div",{className:"bg-white/[0.03] rounded-lg p-3 flex items-center justify-between hover:bg-muted transition-colors","data-testid":`landing-row-${f}-${g}`,children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"text-sm font-medium text-foreground truncate flex items-center gap-2",children:[p.landingName||`Landing ${g+1}`,p.isApproved===!1&&s.jsxs(ye,{variant:"outline",className:"text-xs text-orange-400 border-orange-400/50",children:[s.jsx(ns,{className:"w-3 h-3 mr-1"}),""]})]}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:p.isApproved===!1?"     ":p.trackingUrl||p.landingUrl})]}),s.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:`text-sm font-bold ${p.isApproved===!1?"text-muted-foreground":"text-emerald-400"}`,children:[Hs(p.currency||"USD"),p.partnerPayout]})}),p.isApproved!==!1&&s.jsx(U,{size:"sm",variant:"ghost",className:"text-muted-foreground hover:text-foreground h-8 w-8 p-0",onClick:v=>{v.stopPropagation();const y=p.trackingUrl||p.landingUrl;n(r(y),p.id)},"data-testid":`button-copy-landing-${f}-${g}`,children:t===p.id?s.jsx(Gn,{className:"w-4 h-4 text-emerald-400"}):s.jsx(Yn,{className:"w-4 h-4"})})]})]},p.id))})})]},f))})]})})}function v5e({offerId:e,accessStatus:t,onSuccess:n}){const r=rt(),[a,i]=j.useState(""),o=ve({mutationFn:async()=>{const l=await fetch(`/api/offers/${e}/request-access`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:a||void 0})});if(!l.ok){const c=await l.json();throw new Error(c.message||"Failed to request access")}return l.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/offers",e]}),n()}});return t==="pending"?s.jsx(J,{className:"bg-yellow-500/10 border-yellow-500/30",children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-full flex items-center justify-center",children:s.jsx(Yt,{className:"w-5 h-5 text-yellow-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-yellow-400",children:"  "}),s.jsx("p",{className:"text-xs text-yellow-400/70",children:"  "})]})]})})}):t==="rejected"?s.jsx(J,{className:"bg-red-500/10 border-red-500/30",children:s.jsxs(ne,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-500/20 rounded-full flex items-center justify-center",children:s.jsx(Kn,{className:"w-5 h-5 text-red-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-red-400",children:" "}),s.jsx("p",{className:"text-xs text-red-400/70",children:"    "})]})]}),s.jsxs(U,{className:"w-full bg-red-600 hover:bg-red-500 text-foreground mt-3",onClick:()=>o.mutate(),disabled:o.isPending,"data-testid":"button-request-access-again",children:[s.jsx(dr,{className:"w-4 h-4 mr-2"})," "]})]})}):t==="revoked"?s.jsx(J,{className:"bg-orange-500/10 border-orange-500/30",children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-500/20 rounded-full flex items-center justify-center",children:s.jsx(Kn,{className:"w-5 h-5 text-orange-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-orange-400",children:" "}),s.jsx("p",{className:"text-xs text-orange-400/70",children:"     "})]})]})})}):s.jsx(J,{className:"bg-blue-500/10 border-blue-500/30",children:s.jsxs(ne,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-full flex items-center justify-center",children:s.jsx(ns,{className:"w-5 h-5 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-blue-400",children:" "}),s.jsx("p",{className:"text-xs text-blue-400/70",children:"   "})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx(te,{className:"text-xs text-muted-foreground mb-1",children:" ()"}),s.jsx(le,{placeholder:"     ...",value:a,onChange:l=>i(l.target.value),className:"bg-muted border-border text-foreground text-sm","data-testid":"input-access-message"})]}),s.jsx(U,{className:"w-full bg-blue-600 hover:bg-blue-500 text-foreground font-bold",onClick:()=>o.mutate(),disabled:o.isPending,"data-testid":"button-request-access",children:o.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(dr,{className:"w-4 h-4 mr-2"})," "]})})]})})}function b5e({offerId:e,landings:t,requestedLandings:n,onSuccess:r}){const a=rt(),{toast:i}=Dt(),[o,l]=j.useState(!1),[c,u]=j.useState([]),f=t.filter(y=>y.isApproved===!1),m=n&&n.length>0,p=ve({mutationFn:async()=>{const y=await fetch(`/api/offers/${e}/request-landings`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({landingIds:c})});if(!y.ok){const w=await y.json();throw new Error(w.message||"Failed to request landings")}return y.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/offers",e]}),l(!1),u([]),r(),i({title:" ",description:"   "})},onError:y=>{i({title:"",description:y.message||"   ",variant:"destructive"})}});if(f.length===0)return null;if(m)return s.jsx(J,{className:"bg-yellow-500/10 border-yellow-500/30 mt-4",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-yellow-500/20 rounded-full flex items-center justify-center",children:s.jsx(Yt,{className:"w-4 h-4 text-yellow-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-400",children:"  "}),s.jsxs("p",{className:"text-xs text-yellow-400/70",children:["    ",n.length," ",n.length===1?"":(n.length<5,"")]})]})]})})});const g=y=>{u(w=>w.includes(y)?w.filter(N=>N!==y):[...w,y])},v=()=>{u(f.map(y=>y.id))};return s.jsx(J,{className:"bg-orange-500/10 border-orange-500/30 mt-4",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-500/20 rounded-full flex items-center justify-center",children:s.jsx(ns,{className:"w-4 h-4 text-orange-400"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-orange-400",children:[f.length," ",f.length===1?"":f.length<5?"":""," "]}),s.jsx("p",{className:"text-xs text-orange-400/70",children:"   "})]})]}),s.jsxs(Wt,{open:o,onOpenChange:l,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{size:"sm",className:"bg-orange-600 hover:bg-orange-500 text-white","data-testid":"button-request-landings",children:[s.jsx(fr,{className:"w-4 h-4 mr-1"}),""]})}),s.jsxs(zt,{className:"max-w-md",children:[s.jsx(qt,{children:s.jsx(Ut,{children:"   "})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"   "}),s.jsx(U,{variant:"ghost",size:"sm",onClick:v,className:"text-xs",children:" "})]}),s.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:f.map(y=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted hover:bg-muted/80 cursor-pointer",onClick:()=>g(y.id),children:[s.jsx($l,{checked:c.includes(y.id),onCheckedChange:()=>g(y.id),"data-testid":`checkbox-landing-${y.id}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:y.landingName||"Landing"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Cre(y.geo)," ",y.geo,"  ",Hs(y.currency),y.partnerPayout]})]})]},y.id))}),s.jsx(U,{className:"w-full",onClick:()=>p.mutate(),disabled:c.length===0||p.isPending,"data-testid":"button-submit-request-landings",children:p.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),"  (",c.length,")"]})})]})]})]})]})})})}const j5e={nutra:"bg-green-500/20 text-green-400",gambling:"bg-red-500/20 text-red-400",betting:"bg-orange-500/20 text-orange-400",crypto:"bg-yellow-500/20 text-yellow-400",dating:"bg-pink-500/20 text-pink-400",finance:"bg-blue-500/20 text-blue-400",ecommerce:"bg-purple-500/20 text-purple-400",gaming:"bg-indigo-500/20 text-indigo-400",utilities:"bg-cyan-500/20 text-cyan-400",sweepstakes:"bg-amber-500/20 text-amber-400"};function Sq(e){if(e.landings&&e.landings.length>0){const t=e.landings.map(a=>parseFloat(a.partnerPayout)).filter(a=>!isNaN(a));if(t.length===0)return e.partnerPayout||"";const n=Math.min(...t),r=Math.max(...t);return n===r?n.toString():`${n} - ${r}`}return e.partnerPayout?e.partnerPayout:""}function Cq(e){if(e.landings&&e.landings.length>0){const t=e.landings.map(a=>a.internalCost?parseFloat(a.internalCost):NaN).filter(a=>!isNaN(a));if(t.length===0)return e.internalCost||null;const n=Math.min(...t),r=Math.max(...t);return n===r?n.toString():`${n} - ${r}`}return e.internalCost?e.internalCost:null}function w5e({offerId:e,role:t}){const{t:n}=as(),[r,a]=j.useState(null),[i,o]=j.useState(!1),[l,c]=j.useState(!1),[u,f]=j.useState({}),[m,p]=j.useState(0);rt(),j.useEffect(()=>{p(0),f({})},[e]);const g=(O,_)=>{f(M=>{if(_===""){const $={...M};return delete $[O],$}return{...M,[O]:_}})},v=O=>{if(Object.keys(u).length===0)return O;try{const _=new URL(O,window.location.origin);for(let M=1;M<=10;M++){const $=`sub${M}`;u[$]&&_.searchParams.set($,u[$])}return _.toString()}catch{const _=O.includes("?")?"&":"?",M=Object.entries(u).filter(([,$])=>$).sort(([$],[z])=>parseInt($.replace("sub",""))-parseInt(z.replace("sub",""))).map(([$,z])=>`${$}=${encodeURIComponent(z)}`).join("&");return M?`${O}${_}${M}`:O}},{data:y,isLoading:w,error:N}=Ne({queryKey:["/api/offers",e],queryFn:async()=>{const O=await fetch(`/api/offers/${e}`,{credentials:"include"});if(!O.ok)throw new Error("Failed to fetch offer");return O.json()}}),A=(O,_)=>{navigator.clipboard.writeText(O),a(_),setTimeout(()=>a(null),2e3)};if(w)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-emerald-500 border-t-transparent rounded-full"})});if(N||!y)return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-red-400 mb-4",children:"Failed to load offer"}),s.jsx(Mt,{href:`/dashboard/${t}/offers`,children:s.jsxs(U,{variant:"outline",className:"border-border",children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),"Back to Offers"]})})]});const T=j5e[y.category.toLowerCase()]||"bg-slate-500/20 text-muted-foreground",C=t==="publisher",S=y.hasAccess===!0,E=!C||S;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Mt,{href:`/dashboard/${t}/${t==="publisher"?"links":"offers"}`,children:s.jsxs(U,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground","data-testid":"button-back",children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),""]})}),C&&S&&s.jsxs(ye,{className:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",children:[s.jsx(Gn,{className:"w-3 h-3 mr-1"})," "]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(J,{className:"bg-card border-border overflow-hidden",children:[s.jsx("div",{className:`h-2 ${y.status==="active"?"bg-gradient-to-r from-emerald-500 to-emerald-400":"bg-gradient-to-r from-yellow-500 to-yellow-400"}`}),s.jsxs(ne,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:`w-20 h-20 rounded-xl ${T.split(" ")[0]} flex items-center justify-center flex-shrink-0 border border-border overflow-hidden`,children:y.logoUrl?s.jsx("img",{src:y.logoUrl,alt:y.name,className:"w-full h-full object-cover"}):s.jsx(xh,{className:"w-10 h-10 text-white/60"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground","data-testid":"text-offer-name",children:y.name}),s.jsx(ye,{className:`${y.status==="active"?"bg-emerald-500/20 text-emerald-400":"bg-yellow-500/20 text-yellow-400"}`,children:y.status==="active"?"":""}),E&&y.creativeLinks&&y.creativeLinks.length>0&&(y.creativeLinks.length===1?s.jsxs("a",{href:y.creativeLinks[0],target:"_blank",rel:"noopener noreferrer",className:"ml-auto inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white text-sm font-medium shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 transition-all","data-testid":"button-creatives",children:[s.jsx(fF,{className:"w-4 h-4"}),"",s.jsx(ph,{className:"w-3 h-3"})]}):s.jsxs(Ru,{children:[s.jsx(Du,{asChild:!0,children:s.jsxs("button",{className:"ml-auto inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white text-sm font-medium shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 transition-all","data-testid":"button-creatives",children:[s.jsx(fF,{className:"w-4 h-4"})," (",y.creativeLinks.length,")",s.jsx(fa,{className:"w-3 h-3"})]})}),s.jsx(Zc,{align:"end",className:"w-56",children:y.creativeLinks.map((O,_)=>s.jsx($a,{asChild:!0,children:s.jsxs("a",{href:O,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 cursor-pointer","data-testid":`link-creative-${_}`,children:[s.jsx(ph,{className:"w-4 h-4"})," ",_+1]})},_))})]}))]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground flex-wrap",children:[s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold uppercase ${T}`,children:y.category}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(jn,{className:"w-3 h-3"}),y.geo.slice(0,5).join(", "),y.geo.length>5?` +${y.geo.length-5}`:""]}),s.jsxs("span",{className:"text-muted-foreground",children:["ID: ",y.id.slice(0,8)]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xs font-bold uppercase text-muted-foreground mb-2",children:""}),y.description?s.jsxs("div",{children:[s.jsx("div",{className:`text-muted-foreground text-sm leading-relaxed prose prose-sm max-w-none prose-headings:text-foreground prose-p:text-muted-foreground prose-strong:text-foreground prose-ul:text-muted-foreground prose-ol:text-muted-foreground [&_h1]:text-xl [&_h1]:font-bold [&_h2]:text-lg [&_h2]:font-bold [&_h3]:text-base [&_h3]:font-bold [&_ul]:list-disc [&_ul]:pl-5 [&_ol]:list-decimal [&_ol]:pl-5 ${l?"":"line-clamp-4"}`,"data-testid":"text-offer-description",dangerouslySetInnerHTML:{__html:o5e.sanitize(y.description)}}),y.description.length>200&&s.jsx("button",{onClick:()=>c(!l),className:"inline-flex items-center gap-1.5 mt-3 px-3 py-1.5 rounded-lg bg-blue-500/10 hover:bg-blue-500/20 text-blue-400 hover:text-blue-300 text-xs font-medium transition-all border border-blue-500/20","data-testid":"button-toggle-description",children:l?s.jsxs(s.Fragment,{children:[s.jsx(fa,{className:"w-3.5 h-3.5 rotate-180"}),""]}):s.jsxs(s.Fragment,{children:[s.jsx(fa,{className:"w-3.5 h-3.5"}),""]})})]}):s.jsx("p",{className:"text-muted-foreground text-sm","data-testid":"text-offer-description",children:"  "})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-emerald-500/5 rounded-xl p-4 border border-emerald-500/20",children:[s.jsx("div",{className:"text-[10px] uppercase text-emerald-400/70 mb-1 font-medium",children:""}),s.jsx("div",{className:"text-xl font-bold text-emerald-400","data-testid":"text-offer-payout",children:Sq(y)?`${Hs(Ol(y))}${Sq(y)}`:"N/A"})]}),s.jsxs("div",{className:"bg-muted rounded-xl p-4 border border-border",children:[s.jsx("div",{className:"text-[10px] uppercase text-muted-foreground mb-1 font-medium",children:""}),s.jsx("div",{className:"text-xl font-bold text-foreground","data-testid":"text-payout-model",children:y.payoutModel})]}),t==="advertiser"&&s.jsxs("div",{className:"bg-gradient-to-br from-red-500/10 to-red-500/5 rounded-xl p-4 border border-red-500/20",children:[s.jsx("div",{className:"text-[10px] uppercase text-red-400/70 mb-1 font-medium",children:"Internal Cost"}),s.jsx("div",{className:"text-xl font-bold text-red-400","data-testid":"text-internal-cost",children:Cq(y)?`${Hs(Ol(y))}${Cq(y)}`:"N/A"})]}),s.jsxs("div",{className:"bg-muted rounded-xl p-4 border border-border",children:[s.jsx("div",{className:"text-[10px] uppercase text-muted-foreground mb-1 font-medium",children:""}),s.jsx("div",{className:"text-xl font-bold text-foreground",children:Ol(y)})]}),s.jsxs("div",{className:`rounded-xl p-4 border ${y.holdPeriodDays&&y.holdPeriodDays>0?"bg-gradient-to-br from-yellow-500/10 to-yellow-500/5 border-yellow-500/20":"bg-muted border-border"}`,children:[s.jsxs("div",{className:`text-[10px] uppercase mb-1 font-medium ${y.holdPeriodDays&&y.holdPeriodDays>0?"text-yellow-400/70":"text-muted-foreground"}`,children:[s.jsx(Yt,{className:"w-3 h-3 inline mr-1"}),""]}),s.jsx("div",{className:`text-xl font-bold ${y.holdPeriodDays&&y.holdPeriodDays>0?"text-yellow-400":"text-foreground"}`,"data-testid":"text-hold-period",children:y.holdPeriodDays&&y.holdPeriodDays>0?`${y.holdPeriodDays} .`:""})]})]})]})]}),C&&S&&y.landings&&y.landings.length>0&&s.jsx(b5e,{offerId:y.id,landings:y.landings,requestedLandings:y.requestedLandings,onSuccess:()=>{}}),E&&y.landings&&y.landings.length>0&&s.jsx(y5e,{landings:y.landings,copiedUrl:r,copyToClipboard:A,buildUrlWithSubs:v}),!E&&s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-slate-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ns,{className:"w-8 h-8 text-muted-foreground"})}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:" "}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"   ,     "})]})}),(y.kpi||y.rules||y.conditions)&&s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6 space-y-6",children:[y.kpi&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-bold uppercase text-muted-foreground mb-2 flex items-center gap-2",children:[s.jsx(gi,{className:"w-4 h-4"}),"KPI"]}),s.jsx("p",{className:"text-muted-foreground text-sm whitespace-pre-wrap bg-muted rounded-lg p-4",children:y.kpi})]}),y.rules&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-bold uppercase text-muted-foreground mb-2 flex items-center gap-2",children:[s.jsx(gi,{className:"w-4 h-4"}),""]}),s.jsx("p",{className:"text-muted-foreground text-sm whitespace-pre-wrap bg-muted rounded-lg p-4",children:y.rules})]}),y.conditions&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-bold uppercase text-muted-foreground mb-2 flex items-center gap-2",children:[s.jsx(gi,{className:"w-4 h-4"}),""]}),s.jsx("p",{className:"text-muted-foreground text-sm whitespace-pre-wrap bg-muted rounded-lg p-4",children:y.conditions})]})]})})]}),s.jsxs("div",{className:"space-y-6",children:[C&&!S&&!i&&s.jsx(v5e,{offerId:y.id,accessStatus:y.accessStatus,onSuccess:()=>o(!0)}),C&&i&&s.jsx(J,{className:"bg-emerald-500/10 border-emerald-500/30",children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-emerald-500/20 rounded-full flex items-center justify-center",children:s.jsx(Gn,{className:"w-5 h-5 text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-emerald-400",children:" !"}),s.jsx("p",{className:"text-xs text-emerald-400/70",children:"  "})]})]})})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6",children:[s.jsxs("h3",{className:"text-sm font-bold uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[s.jsx(Dme,{className:"w-4 h-4"})," "]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:y.trafficSources.length>0?y.trafficSources.map((O,_)=>s.jsx(ye,{className:`${x5e[O]||"bg-blue-600"} text-white text-xs border-0`,children:O},_)):s.jsx("span",{className:"text-muted-foreground text-sm",children:"  "})})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6",children:[s.jsxs("h3",{className:"text-sm font-bold uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[s.jsx(v0,{className:"w-4 h-4"})," "]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:y.appTypes.length>0?y.appTypes.map((O,_)=>s.jsx(ye,{className:`${g5e[O]||"bg-emerald-600"} text-white text-xs border-0`,children:O},_)):s.jsx("span",{className:"text-muted-foreground text-sm",children:"  "})})]})}),E&&s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6",children:[s.jsxs("h3",{className:"text-sm font-bold uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[s.jsx(JM,{className:"w-4 h-4"}),"Sub-"]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"       "}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:[1,2,3,4,5,6,7,8,9,10].map(O=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs(te,{className:"text-[10px] text-muted-foreground w-7 flex-shrink-0",children:["sub",O]}),s.jsx(le,{placeholder:`sub${O}`,value:u[`sub${O}`]||"",onChange:_=>g(`sub${O}`,_.target.value),className:"bg-muted border-border text-foreground text-xs h-7 px-2","data-testid":`input-sub${O}`})]},O))}),y.landings&&y.landings.length>0&&(()=>{const O=y.landings[m]||y.landings[0];return s.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-br from-blue-500/10 to-blue-500/5 rounded-lg border border-blue-500/20",children:[y.landings.length>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx(te,{className:"text-[10px] text-muted-foreground mb-1 block",children:" "}),s.jsx("select",{value:m,onChange:_=>p(parseInt(_.target.value)),className:"w-full bg-muted border border-border rounded-md text-xs h-8 px-2 text-foreground","data-testid":"select-landing",children:y.landings.map((_,M)=>s.jsxs("option",{value:M,children:[_.geo,"  ",_.landingName||`Landing ${M+1}`,_.isApproved===!1?" ()":""]},_.id))})]}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-[10px] text-blue-400 uppercase font-bold",children:["  ",O.landingName||O.geo]}),s.jsx("p",{className:"text-[9px] text-muted-foreground mt-0.5",children:O.isApproved===!1?"    ":"   sub-"})]}),O.isApproved!==!1&&s.jsx(U,{size:"sm",variant:"ghost",className:"h-7 px-2 text-blue-400 hover:text-blue-300 hover:bg-blue-500/20",onClick:()=>A(v(O.trackingUrl||O.landingUrl),"preview"),"data-testid":"button-copy-preview",children:r==="preview"?s.jsx(Gn,{className:"w-3.5 h-3.5"}):s.jsx(Yn,{className:"w-3.5 h-3.5"})})]}),O.isApproved===!1?s.jsx("p",{className:"text-[11px] text-orange-400 font-medium",children:"     "}):s.jsx("p",{className:"text-[11px] text-foreground font-mono break-all leading-relaxed",children:v(O.trackingUrl||O.landingUrl)})]})})()]})})]})]})]})}var gk,kq;function xa(){if(kq)return gk;kq=1;var e=Array.isArray;return gk=e,gk}var yk,Tq;function kre(){if(Tq)return yk;Tq=1;var e=typeof Wv=="object"&&Wv&&Wv.Object===Object&&Wv;return yk=e,yk}var vk,Aq;function Vo(){if(Aq)return vk;Aq=1;var e=kre(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return vk=n,vk}var bk,Eq;function vy(){if(Eq)return bk;Eq=1;var e=Vo(),t=e.Symbol;return bk=t,bk}var jk,Oq;function N5e(){if(Oq)return jk;Oq=1;var e=vy(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,a=e?e.toStringTag:void 0;function i(o){var l=n.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var f=r.call(o);return u&&(l?o[a]=c:delete o[a]),f}return jk=i,jk}var wk,Pq;function S5e(){if(Pq)return wk;Pq=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return wk=n,wk}var Nk,Mq;function Wl(){if(Mq)return Nk;Mq=1;var e=vy(),t=N5e(),n=S5e(),r="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?a:r:i&&i in Object(l)?t(l):n(l)}return Nk=o,Nk}var Sk,_q;function Gl(){if(_q)return Sk;_q=1;function e(t){return t!=null&&typeof t=="object"}return Sk=e,Sk}var Ck,Rq;function ym(){if(Rq)return Ck;Rq=1;var e=Wl(),t=Gl(),n="[object Symbol]";function r(a){return typeof a=="symbol"||t(a)&&e(a)==n}return Ck=r,Ck}var kk,Dq;function _5(){if(Dq)return kk;Dq=1;var e=xa(),t=ym(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:r.test(i)||!n.test(i)||o!=null&&i in Object(o)}return kk=a,kk}var Tk,Iq;function ld(){if(Iq)return Tk;Iq=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Tk=e,Tk}var Ak,Lq;function R5(){if(Lq)return Ak;Lq=1;var e=Wl(),t=ld(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==r||c==a||c==n||c==i}return Ak=o,Ak}var Ek,$q;function C5e(){if($q)return Ek;$q=1;var e=Vo(),t=e["__core-js_shared__"];return Ek=t,Ek}var Ok,Fq;function k5e(){if(Fq)return Ok;Fq=1;var e=C5e(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return Ok=n,Ok}var Pk,Bq;function Tre(){if(Bq)return Pk;Bq=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Pk=n,Pk}var Mk,zq;function T5e(){if(zq)return Mk;zq=1;var e=R5(),t=k5e(),n=ld(),r=Tre(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,f=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(p){if(!n(p)||t(p))return!1;var g=e(p)?f:i;return g.test(r(p))}return Mk=m,Mk}var _k,qq;function A5e(){if(qq)return _k;qq=1;function e(t,n){return t?.[n]}return _k=e,_k}var Rk,Uq;function $u(){if(Uq)return Rk;Uq=1;var e=T5e(),t=A5e();function n(r,a){var i=t(r,a);return e(i)?i:void 0}return Rk=n,Rk}var Dk,Vq;function HN(){if(Vq)return Dk;Vq=1;var e=$u(),t=e(Object,"create");return Dk=t,Dk}var Ik,Hq;function E5e(){if(Hq)return Ik;Hq=1;var e=HN();function t(){this.__data__=e?e(null):{},this.size=0}return Ik=t,Ik}var Lk,Kq;function O5e(){if(Kq)return Lk;Kq=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Lk=e,Lk}var $k,Wq;function P5e(){if(Wq)return $k;Wq=1;var e=HN(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return r.call(o,i)?o[i]:void 0}return $k=a,$k}var Fk,Gq;function M5e(){if(Gq)return Fk;Gq=1;var e=HN(),t=Object.prototype,n=t.hasOwnProperty;function r(a){var i=this.__data__;return e?i[a]!==void 0:n.call(i,a)}return Fk=r,Fk}var Bk,Yq;function _5e(){if(Yq)return Bk;Yq=1;var e=HN(),t="__lodash_hash_undefined__";function n(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=e&&a===void 0?t:a,this}return Bk=n,Bk}var zk,Xq;function R5e(){if(Xq)return zk;Xq=1;var e=E5e(),t=O5e(),n=P5e(),r=M5e(),a=_5e();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,zk=i,zk}var qk,Qq;function D5e(){if(Qq)return qk;Qq=1;function e(){this.__data__=[],this.size=0}return qk=e,qk}var Uk,Jq;function D5(){if(Jq)return Uk;Jq=1;function e(t,n){return t===n||t!==t&&n!==n}return Uk=e,Uk}var Vk,Zq;function KN(){if(Zq)return Vk;Zq=1;var e=D5();function t(n,r){for(var a=n.length;a--;)if(e(n[a][0],r))return a;return-1}return Vk=t,Vk}var Hk,eU;function I5e(){if(eU)return Hk;eU=1;var e=KN(),t=Array.prototype,n=t.splice;function r(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():n.call(i,o,1),--this.size,!0}return Hk=r,Hk}var Kk,tU;function L5e(){if(tU)return Kk;tU=1;var e=KN();function t(n){var r=this.__data__,a=e(r,n);return a<0?void 0:r[a][1]}return Kk=t,Kk}var Wk,nU;function $5e(){if(nU)return Wk;nU=1;var e=KN();function t(n){return e(this.__data__,n)>-1}return Wk=t,Wk}var Gk,rU;function F5e(){if(rU)return Gk;rU=1;var e=KN();function t(n,r){var a=this.__data__,i=e(a,n);return i<0?(++this.size,a.push([n,r])):a[i][1]=r,this}return Gk=t,Gk}var Yk,sU;function WN(){if(sU)return Yk;sU=1;var e=D5e(),t=I5e(),n=L5e(),r=$5e(),a=F5e();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,Yk=i,Yk}var Xk,aU;function I5(){if(aU)return Xk;aU=1;var e=$u(),t=Vo(),n=e(t,"Map");return Xk=n,Xk}var Qk,iU;function B5e(){if(iU)return Qk;iU=1;var e=R5e(),t=WN(),n=I5();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Qk=r,Qk}var Jk,oU;function z5e(){if(oU)return Jk;oU=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Jk=e,Jk}var Zk,lU;function GN(){if(lU)return Zk;lU=1;var e=z5e();function t(n,r){var a=n.__data__;return e(r)?a[typeof r=="string"?"string":"hash"]:a.map}return Zk=t,Zk}var eT,cU;function q5e(){if(cU)return eT;cU=1;var e=GN();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return eT=t,eT}var tT,dU;function U5e(){if(dU)return tT;dU=1;var e=GN();function t(n){return e(this,n).get(n)}return tT=t,tT}var nT,uU;function V5e(){if(uU)return nT;uU=1;var e=GN();function t(n){return e(this,n).has(n)}return nT=t,nT}var rT,fU;function H5e(){if(fU)return rT;fU=1;var e=GN();function t(n,r){var a=e(this,n),i=a.size;return a.set(n,r),this.size+=a.size==i?0:1,this}return rT=t,rT}var sT,hU;function L5(){if(hU)return sT;hU=1;var e=B5e(),t=q5e(),n=U5e(),r=V5e(),a=H5e();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,sT=i,sT}var aT,mU;function Are(){if(mU)return aT;mU=1;var e=L5(),t="Expected a function";function n(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var u=r.apply(this,o);return i.cache=c.set(l,u)||c,u};return i.cache=new(n.Cache||e),i}return n.Cache=e,aT=n,aT}var iT,pU;function K5e(){if(pU)return iT;pU=1;var e=Are(),t=500;function n(r){var a=e(r,function(o){return i.size===t&&i.clear(),o}),i=a.cache;return a}return iT=n,iT}var oT,xU;function W5e(){if(xU)return oT;xU=1;var e=K5e(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(o,l,c,u){i.push(c?u.replace(n,"$1"):l||o)}),i});return oT=r,oT}var lT,gU;function $5(){if(gU)return lT;gU=1;function e(t,n){for(var r=-1,a=t==null?0:t.length,i=Array(a);++r<a;)i[r]=n(t[r],r,t);return i}return lT=e,lT}var cT,yU;function G5e(){if(yU)return cT;yU=1;var e=vy(),t=$5(),n=xa(),r=ym(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return t(l,o)+"";if(r(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return cT=o,cT}var dT,vU;function Ere(){if(vU)return dT;vU=1;var e=G5e();function t(n){return n==null?"":e(n)}return dT=t,dT}var uT,bU;function Ore(){if(bU)return uT;bU=1;var e=xa(),t=_5(),n=W5e(),r=Ere();function a(i,o){return e(i)?i:t(i,o)?[i]:n(r(i))}return uT=a,uT}var fT,jU;function YN(){if(jU)return fT;jU=1;var e=ym();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return fT=t,fT}var hT,wU;function F5(){if(wU)return hT;wU=1;var e=Ore(),t=YN();function n(r,a){a=e(a,r);for(var i=0,o=a.length;r!=null&&i<o;)r=r[t(a[i++])];return i&&i==o?r:void 0}return hT=n,hT}var mT,NU;function Pre(){if(NU)return mT;NU=1;var e=F5();function t(n,r,a){var i=n==null?void 0:e(n,r);return i===void 0?a:i}return mT=t,mT}var Y5e=Pre();const Ba=on(Y5e);var pT,SU;function X5e(){if(SU)return pT;SU=1;function e(t){return t==null}return pT=e,pT}var Q5e=X5e();const Nt=on(Q5e);var xT,CU;function J5e(){if(CU)return xT;CU=1;var e=Wl(),t=xa(),n=Gl(),r="[object String]";function a(i){return typeof i=="string"||!t(i)&&n(i)&&e(i)==r}return xT=a,xT}var Z5e=J5e();const wu=on(Z5e);var e3e=R5();const vt=on(e3e);var t3e=ld();const vm=on(t3e);var gT={exports:{}},rn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kU;function n3e(){if(kU)return rn;kU=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function y(w){if(typeof w=="object"&&w!==null){var N=w.$$typeof;switch(N){case e:switch(w=w.type,w){case n:case a:case r:case u:case f:return w;default:switch(w=w&&w.$$typeof,w){case l:case o:case c:case p:case m:case i:return w;default:return N}}case t:return N}}}return rn.ContextConsumer=o,rn.ContextProvider=i,rn.Element=e,rn.ForwardRef=c,rn.Fragment=n,rn.Lazy=p,rn.Memo=m,rn.Portal=t,rn.Profiler=a,rn.StrictMode=r,rn.Suspense=u,rn.SuspenseList=f,rn.isAsyncMode=function(){return!1},rn.isConcurrentMode=function(){return!1},rn.isContextConsumer=function(w){return y(w)===o},rn.isContextProvider=function(w){return y(w)===i},rn.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},rn.isForwardRef=function(w){return y(w)===c},rn.isFragment=function(w){return y(w)===n},rn.isLazy=function(w){return y(w)===p},rn.isMemo=function(w){return y(w)===m},rn.isPortal=function(w){return y(w)===t},rn.isProfiler=function(w){return y(w)===a},rn.isStrictMode=function(w){return y(w)===r},rn.isSuspense=function(w){return y(w)===u},rn.isSuspenseList=function(w){return y(w)===f},rn.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===a||w===r||w===u||w===f||w===g||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===m||w.$$typeof===i||w.$$typeof===o||w.$$typeof===c||w.$$typeof===v||w.getModuleId!==void 0)},rn.typeOf=y,rn}var TU;function r3e(){return TU||(TU=1,gT.exports=n3e()),gT.exports}var s3e=r3e(),yT,AU;function Mre(){if(AU)return yT;AU=1;var e=Wl(),t=Gl(),n="[object Number]";function r(a){return typeof a=="number"||t(a)&&e(a)==n}return yT=r,yT}var vT,EU;function a3e(){if(EU)return vT;EU=1;var e=Mre();function t(n){return e(n)&&n!=+n}return vT=t,vT}var i3e=a3e();const by=on(i3e);var o3e=Mre();const l3e=on(o3e);var zs=function(t){return t===0?0:t>0?1:-1},Wd=function(t){return wu(t)&&t.indexOf("%")===t.length-1},$e=function(t){return l3e(t)&&!by(t)},c3e=function(t){return Nt(t)},Ur=function(t){return $e(t)||wu(t)},d3e=0,bm=function(t){var n=++d3e;return"".concat(t||"").concat(n)},qs=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$e(t)&&!wu(t))return r;var i;if(Wd(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return by(i)&&(i=r),a&&i>n&&(i=n),i},_c=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},u3e=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},a=0;a<n;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},Oa=function(t,n){return $e(t)&&$e(n)?function(r){return t+r*(n-t)}:function(){return n}};function Ij(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Ba(r,t))===n})}var f3e=function(t,n){return $e(t)&&$e(n)?t-n:wu(t)&&wu(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function lh(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function p4(e){"@babel/helpers - typeof";return p4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p4(e)}var h3e=["viewBox","children"],m3e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OU=["points","pathLength"],bT={svg:h3e,polygon:OU,polyline:OU},B5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Lj=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(j.isValidElement(t)&&(r=t.props),!vm(r))return null;var a={};return Object.keys(r).forEach(function(i){B5.includes(i)&&(a[i]=n||function(o){return r[i](r,o)})}),a},p3e=function(t,n,r){return function(a){return t(n,r,a),null}},Nu=function(t,n,r){if(!vm(t)||p4(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];B5.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=p3e(o,n,r))}),a},x3e=["children"],g3e=["children"];function PU(e,t){if(e==null)return{};var n=y3e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function y3e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function x4(e){"@babel/helpers - typeof";return x4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x4(e)}var MU={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},_l=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},_U=null,jT=null,z5=function e(t){if(t===_U&&Array.isArray(jT))return jT;var n=[];return j.Children.forEach(t,function(r){Nt(r)||(s3e.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),jT=n,_U=t,n};function za(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(a){return _l(a)}):r=[_l(t)],z5(e).forEach(function(a){var i=Ba(a,"type.displayName")||Ba(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function Ta(e,t){var n=za(e,t);return n&&n[0]}var RU=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,a=n.height;return!(!$e(r)||r<=0||!$e(a)||a<=0)},v3e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],b3e=function(t){return t&&t.type&&wu(t.type)&&v3e.indexOf(t.type)>=0},j3e=function(t){return t&&x4(t)==="object"&&"clipDot"in t},w3e=function(t,n,r,a){var i,o=(i=bT?.[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!vt(t)&&(a&&o.includes(n)||m3e.includes(n))||r&&B5.includes(n)},at=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(j.isValidElement(t)&&(a=t.props),!vm(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;w3e((l=a)===null||l===void 0?void 0:l[o],o,n,r)&&(i[o]=a[o])}),i},g4=function e(t,n){if(t===n)return!0;var r=j.Children.count(t);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return DU(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=t[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!DU(i,o))return!1}return!0},DU=function(t,n){if(Nt(t)&&Nt(n))return!0;if(!Nt(t)&&!Nt(n)){var r=t.props||{},a=r.children,i=PU(r,x3e),o=n.props||{},l=o.children,c=PU(o,g3e);return a&&l?lh(i,c)&&g4(a,l):!a&&!l?lh(i,c):!1}return!1},IU=function(t,n){var r=[],a={};return z5(t).forEach(function(i,o){if(b3e(i))r.push(i);else if(i){var l=_l(i.type),c=n[l]||{},u=c.handler,f=c.once;if(u&&(!f||!a[l])){var m=u(i,l,o);r.push(m),a[l]=!0}}}),r},N3e=function(t){var n=t&&t.type;return n&&MU[n]?MU[n]:null},S3e=function(t,n){return z5(n).indexOf(t)},C3e=["children","width","height","viewBox","className","style","title","desc"];function y4(){return y4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y4.apply(this,arguments)}function k3e(e,t){if(e==null)return{};var n=T3e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function T3e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function v4(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=k3e(e,C3e),f=a||{width:n,height:r,x:0,y:0},m=Ct("recharts-surface",i);return Z.createElement("svg",y4({},at(u,!0,"svg"),{className:m,width:n,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),Z.createElement("title",null,l),Z.createElement("desc",null,c),t)}var A3e=["children","className"];function b4(){return b4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b4.apply(this,arguments)}function E3e(e,t){if(e==null)return{};var n=O3e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function O3e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Jt=Z.forwardRef(function(e,t){var n=e.children,r=e.className,a=E3e(e,A3e),i=Ct("recharts-layer",r);return Z.createElement("g",b4({className:i},at(a,!0),{ref:t}),n)}),Xi=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]},wT,LU;function P3e(){if(LU)return wT;LU=1;function e(t,n,r){var a=-1,i=t.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(i);++a<i;)o[a]=t[a+n];return o}return wT=e,wT}var NT,$U;function M3e(){if($U)return NT;$U=1;var e=P3e();function t(n,r,a){var i=n.length;return a=a===void 0?i:a,!r&&a>=i?n:e(n,r,a)}return NT=t,NT}var ST,FU;function _re(){if(FU)return ST;FU=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=t+n+r,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+a+i+"]");function c(u){return l.test(u)}return ST=c,ST}var CT,BU;function _3e(){if(BU)return CT;BU=1;function e(t){return t.split("")}return CT=e,CT}var kT,zU;function R3e(){if(zU)return kT;zU=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=t+n+r,i="\\ufe0e\\ufe0f",o="["+e+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",f="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",v=u+"?",y="["+i+"]?",w="(?:"+g+"(?:"+[f,m,p].join("|")+")"+y+v+")*",N=y+v+w,A="(?:"+[f+l+"?",l,m,p,o].join("|")+")",T=RegExp(c+"(?="+c+")|"+A+N,"g");function C(S){return S.match(T)||[]}return kT=C,kT}var TT,qU;function D3e(){if(qU)return TT;qU=1;var e=_3e(),t=_re(),n=R3e();function r(a){return t(a)?n(a):e(a)}return TT=r,TT}var AT,UU;function I3e(){if(UU)return AT;UU=1;var e=M3e(),t=_re(),n=D3e(),r=Ere();function a(i){return function(o){o=r(o);var l=t(o)?n(o):void 0,c=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return c[i]()+u}}return AT=a,AT}var ET,VU;function L3e(){if(VU)return ET;VU=1;var e=I3e(),t=e("toUpperCase");return ET=t,ET}var $3e=L3e();const XN=on($3e);function En(e){return function(){return e}}const Rre=Math.cos,$j=Math.sin,co=Math.sqrt,Fj=Math.PI,QN=2*Fj,j4=Math.PI,w4=2*j4,Id=1e-6,F3e=w4-Id;function Dre(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function B3e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Dre;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class z3e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Dre:B3e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-t,u=a-n,f=o-t,m=l-n,p=f*f+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Id)if(!(Math.abs(m*c-u*f)>Id)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let g=r-o,v=a-l,y=c*c+u*u,w=g*g+v*v,N=Math.sqrt(y),A=Math.sqrt(p),T=i*Math.tan((j4-Math.acos((y+p-w)/(2*N*A)))/2),C=T/A,S=T/N;Math.abs(C-1)>Id&&this._append`L${t+C*f},${n+C*m}`,this._append`A${i},${i},0,0,${+(m*g>f*v)},${this._x1=t+S*c},${this._y1=n+S*u}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),u=t+l,f=n+c,m=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Id||Math.abs(this._y1-f)>Id)&&this._append`L${u},${f}`,r&&(p<0&&(p=p%w4+w4),p>F3e?this._append`A${r},${r},0,1,${m},${t-l},${n-c}A${r},${r},0,1,${m},${this._x1=u},${this._y1=f}`:p>Id&&this._append`A${r},${r},0,${+(p>=j4)},${m},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function q5(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new z3e(t)}function U5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ire(e){this._context=e}Ire.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function JN(e){return new Ire(e)}function Lre(e){return e[0]}function $re(e){return e[1]}function Fre(e,t){var n=En(!0),r=null,a=JN,i=null,o=q5(l);e=typeof e=="function"?e:e===void 0?Lre:En(e),t=typeof t=="function"?t:t===void 0?$re:En(t);function l(c){var u,f=(c=U5(c)).length,m,p=!1,g;for(r==null&&(i=a(g=o())),u=0;u<=f;++u)!(u<f&&n(m=c[u],u,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(m,u,c),+t(m,u,c));if(g)return i=null,g+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:En(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:En(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:En(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,r!=null&&(i=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=i=null:i=a(r=c),l):r},l}function Eb(e,t,n){var r=null,a=En(!0),i=null,o=JN,l=null,c=q5(u);e=typeof e=="function"?e:e===void 0?Lre:En(+e),t=typeof t=="function"?t:En(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?$re:En(+n);function u(m){var p,g,v,y=(m=U5(m)).length,w,N=!1,A,T=new Array(y),C=new Array(y);for(i==null&&(l=o(A=c())),p=0;p<=y;++p){if(!(p<y&&a(w=m[p],p,m))===N)if(N=!N)g=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=p-1;v>=g;--v)l.point(T[v],C[v]);l.lineEnd(),l.areaEnd()}N&&(T[p]=+e(w,p,m),C[p]=+t(w,p,m),l.point(r?+r(w,p,m):T[p],n?+n(w,p,m):C[p]))}if(A)return l=null,A+""||null}function f(){return Fre().defined(a).curve(o).context(i)}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:En(+m),r=null,u):e},u.x0=function(m){return arguments.length?(e=typeof m=="function"?m:En(+m),u):e},u.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:En(+m),u):r},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:En(+m),n=null,u):t},u.y0=function(m){return arguments.length?(t=typeof m=="function"?m:En(+m),u):t},u.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:En(+m),u):n},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(n)},u.lineX1=function(){return f().x(r).y(t)},u.defined=function(m){return arguments.length?(a=typeof m=="function"?m:En(!!m),u):a},u.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),u):o},u.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),u):i},u}class Bre{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function q3e(e){return new Bre(e,!0)}function U3e(e){return new Bre(e,!1)}const V5={draw(e,t){const n=co(t/Fj);e.moveTo(n,0),e.arc(0,0,n,0,QN)}},V3e={draw(e,t){const n=co(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},zre=co(1/3),H3e=zre*2,K3e={draw(e,t){const n=co(t/H3e),r=n*zre;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},W3e={draw(e,t){const n=co(t),r=-n/2;e.rect(r,r,n,n)}},G3e=.8908130915292852,qre=$j(Fj/10)/$j(7*Fj/10),Y3e=$j(QN/10)*qre,X3e=-Rre(QN/10)*qre,Q3e={draw(e,t){const n=co(t*G3e),r=Y3e*n,a=X3e*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=QN*i/5,l=Rre(o),c=$j(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*a,c*r+l*a)}e.closePath()}},OT=co(3),J3e={draw(e,t){const n=-co(t/(OT*3));e.moveTo(0,n*2),e.lineTo(-OT*n,-n),e.lineTo(OT*n,-n),e.closePath()}},si=-.5,ai=co(3)/2,N4=1/co(12),Z3e=(N4/2+1)*3,eDe={draw(e,t){const n=co(t/Z3e),r=n/2,a=n*N4,i=r,o=n*N4+n,l=-i,c=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(si*r-ai*a,ai*r+si*a),e.lineTo(si*i-ai*o,ai*i+si*o),e.lineTo(si*l-ai*c,ai*l+si*c),e.lineTo(si*r+ai*a,si*a-ai*r),e.lineTo(si*i+ai*o,si*o-ai*i),e.lineTo(si*l+ai*c,si*c-ai*l),e.closePath()}};function tDe(e,t){let n=null,r=q5(a);e=typeof e=="function"?e:En(e||V5),t=typeof t=="function"?t:En(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:En(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:En(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Bj(){}function zj(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Ure(e){this._context=e}Ure.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zj(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nDe(e){return new Ure(e)}function Vre(e){this._context=e}Vre.prototype={areaStart:Bj,areaEnd:Bj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rDe(e){return new Vre(e)}function Hre(e){this._context=e}Hre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sDe(e){return new Hre(e)}function Kre(e){this._context=e}Kre.prototype={areaStart:Bj,areaEnd:Bj,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function aDe(e){return new Kre(e)}function HU(e){return e<0?-1:1}function KU(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(HU(i)+HU(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function WU(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function PT(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,a+l*t,i-l,o-l*n,i,o)}function qj(e){this._context=e}qj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:PT(this,this._t0,WU(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,PT(this,WU(this,n=KU(this,e,t)),n);break;default:PT(this,this._t0,n=KU(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Wre(e){this._context=new Gre(e)}(Wre.prototype=Object.create(qj.prototype)).point=function(e,t){qj.prototype.point.call(this,t,e)};function Gre(e){this._context=e}Gre.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function iDe(e){return new qj(e)}function oDe(e){return new Wre(e)}function Yre(e){this._context=e}Yre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=GU(e),a=GU(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function GU(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function lDe(e){return new Yre(e)}function ZN(e,t){this._context=e,this._t=t}ZN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function cDe(e){return new ZN(e,.5)}function dDe(e){return new ZN(e,0)}function uDe(e){return new ZN(e,1)}function Ph(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function S4(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function fDe(e,t){return e[t]}function hDe(e){const t=[];return t.key=e,t}function mDe(){var e=En([]),t=S4,n=Ph,r=fDe;function a(i){var o=Array.from(e.apply(this,arguments),hDe),l,c=o.length,u=-1,f;for(const m of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(m,o[l].key,u,i)]).data=m;for(l=0,f=U5(t(o));l<c;++l)o[f[l]].index=l;return n(o,f),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:En(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:En(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?S4:typeof i=="function"?i:En(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??Ph,a):n},a}function pDe(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}Ph(e,t)}}function xDe(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Ph(e,t)}}function gDe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var l=0,c=0,u=0;l<o;++l){for(var f=e[t[l]],m=f[r][1]||0,p=f[r-1][1]||0,g=(m-p)/2,v=0;v<l;++v){var y=e[t[v]],w=y[r][1]||0,N=y[r-1][1]||0;g+=w-N}c+=m,u+=g*m}a[r-1][1]+=a[r-1][0]=n,c&&(n-=u/c)}a[r-1][1]+=a[r-1][0]=n,Ph(e,t)}}function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}var yDe=["type","size","sizeType"];function C4(){return C4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C4.apply(this,arguments)}function YU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function XU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YU(Object(n),!0).forEach(function(r){vDe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vDe(e,t,n){return t=bDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bDe(e){var t=jDe(e,"string");return ug(t)=="symbol"?t:t+""}function jDe(e,t){if(ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wDe(e,t){if(e==null)return{};var n=NDe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function NDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Xre={symbolCircle:V5,symbolCross:V3e,symbolDiamond:K3e,symbolSquare:W3e,symbolStar:Q3e,symbolTriangle:J3e,symbolWye:eDe},SDe=Math.PI/180,CDe=function(t){var n="symbol".concat(XN(t));return Xre[n]||V5},kDe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*SDe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},TDe=function(t,n){Xre["symbol".concat(XN(t))]=n},H5=function(t){var n=t.type,r=n===void 0?"circle":n,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=wDe(t,yDe),u=XU(XU({},c),{},{type:r,size:i,sizeType:l}),f=function(){var w=CDe(r),N=tDe().type(w).size(kDe(i,l,r));return N()},m=u.className,p=u.cx,g=u.cy,v=at(u,!0);return p===+p&&g===+g&&i===+i?Z.createElement("path",C4({},v,{className:Ct("recharts-symbols",m),transform:"translate(".concat(p,", ").concat(g,")"),d:f()})):null};H5.registerSymbol=TDe;function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}function k4(){return k4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k4.apply(this,arguments)}function QU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ADe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QU(Object(n),!0).forEach(function(r){fg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ODe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jre(r.key),r)}}function PDe(e,t,n){return t&&ODe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MDe(e,t,n){return t=Uj(t),_De(e,Qre()?Reflect.construct(t,n||[],Uj(e).constructor):t.apply(e,n))}function _De(e,t){if(t&&(Mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RDe(e)}function RDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qre=function(){return!!e})()}function Uj(e){return Uj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uj(e)}function DDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T4(e,t)}function T4(e,t){return T4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},T4(e,t)}function fg(e,t,n){return t=Jre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jre(e){var t=IDe(e,"string");return Mh(t)=="symbol"?t:t+""}function IDe(e,t){if(Mh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ii=32,K5=(function(e){function t(){return EDe(this,t),MDe(this,t,arguments)}return DDe(t,e),PDe(t,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=ii/2,o=ii/6,l=ii/3,c=r.inactive?a:r.color;if(r.type==="plainline")return Z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:ii,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return Z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ii,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return Z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ii/8,"h").concat(ii,"v").concat(ii*3/4,"h").concat(-ii,"z"),className:"recharts-legend-icon"});if(Z.isValidElement(r.legendIcon)){var u=ADe({},r);return delete u.legendIcon,Z.cloneElement(r.legendIcon,u)}return Z.createElement(H5,{fill:c,cx:i,cy:i,size:ii,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:ii,height:ii},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(g,v){var y=g.formatter||c,w=Ct(fg(fg({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var N=vt(g.value)?null:g.value;Xi(!vt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=g.inactive?u:g.color;return Z.createElement("li",k4({className:w,style:m,key:"legend-item-".concat(v)},Nu(r.props,g,v)),Z.createElement(v4,{width:o,height:o,viewBox:f,style:p},r.renderIcon(g)),Z.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},y?y(N,g,v):N))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,o=r.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(j.PureComponent);fg(K5,"displayName","Legend");fg(K5,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var MT,JU;function LDe(){if(JU)return MT;JU=1;var e=WN();function t(){this.__data__=new e,this.size=0}return MT=t,MT}var _T,ZU;function $De(){if(ZU)return _T;ZU=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return _T=e,_T}var RT,e8;function FDe(){if(e8)return RT;e8=1;function e(t){return this.__data__.get(t)}return RT=e,RT}var DT,t8;function BDe(){if(t8)return DT;t8=1;function e(t){return this.__data__.has(t)}return DT=e,DT}var IT,n8;function zDe(){if(n8)return IT;n8=1;var e=WN(),t=I5(),n=L5(),r=200;function a(i,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<r-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(i,o),this.size=l.size,this}return IT=a,IT}var LT,r8;function Zre(){if(r8)return LT;r8=1;var e=WN(),t=LDe(),n=$De(),r=FDe(),a=BDe(),i=zDe();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=a,o.prototype.set=i,LT=o,LT}var $T,s8;function qDe(){if(s8)return $T;s8=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return $T=t,$T}var FT,a8;function UDe(){if(a8)return FT;a8=1;function e(t){return this.__data__.has(t)}return FT=e,FT}var BT,i8;function ese(){if(i8)return BT;i8=1;var e=L5(),t=qDe(),n=UDe();function r(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new e;++i<o;)this.add(a[i])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,BT=r,BT}var zT,o8;function tse(){if(o8)return zT;o8=1;function e(t,n){for(var r=-1,a=t==null?0:t.length;++r<a;)if(n(t[r],r,t))return!0;return!1}return zT=e,zT}var qT,l8;function nse(){if(l8)return qT;l8=1;function e(t,n){return t.has(n)}return qT=e,qT}var UT,c8;function rse(){if(c8)return UT;c8=1;var e=ese(),t=tse(),n=nse(),r=1,a=2;function i(o,l,c,u,f,m){var p=c&r,g=o.length,v=l.length;if(g!=v&&!(p&&v>g))return!1;var y=m.get(o),w=m.get(l);if(y&&w)return y==l&&w==o;var N=-1,A=!0,T=c&a?new e:void 0;for(m.set(o,l),m.set(l,o);++N<g;){var C=o[N],S=l[N];if(u)var E=p?u(S,C,N,l,o,m):u(C,S,N,o,l,m);if(E!==void 0){if(E)continue;A=!1;break}if(T){if(!t(l,function(O,_){if(!n(T,_)&&(C===O||f(C,O,c,u,m)))return T.push(_)})){A=!1;break}}else if(!(C===S||f(C,S,c,u,m))){A=!1;break}}return m.delete(o),m.delete(l),A}return UT=i,UT}var VT,d8;function VDe(){if(d8)return VT;d8=1;var e=Vo(),t=e.Uint8Array;return VT=t,VT}var HT,u8;function HDe(){if(u8)return HT;u8=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(a,i){r[++n]=[i,a]}),r}return HT=e,HT}var KT,f8;function W5(){if(f8)return KT;f8=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(a){r[++n]=a}),r}return KT=e,KT}var WT,h8;function KDe(){if(h8)return WT;h8=1;var e=vy(),t=VDe(),n=D5(),r=rse(),a=HDe(),i=W5(),o=1,l=2,c="[object Boolean]",u="[object Date]",f="[object Error]",m="[object Map]",p="[object Number]",g="[object RegExp]",v="[object Set]",y="[object String]",w="[object Symbol]",N="[object ArrayBuffer]",A="[object DataView]",T=e?e.prototype:void 0,C=T?T.valueOf:void 0;function S(E,O,_,M,$,z,V){switch(_){case A:if(E.byteLength!=O.byteLength||E.byteOffset!=O.byteOffset)return!1;E=E.buffer,O=O.buffer;case N:return!(E.byteLength!=O.byteLength||!z(new t(E),new t(O)));case c:case u:case p:return n(+E,+O);case f:return E.name==O.name&&E.message==O.message;case g:case y:return E==O+"";case m:var I=a;case v:var F=M&o;if(I||(I=i),E.size!=O.size&&!F)return!1;var K=V.get(E);if(K)return K==O;M|=l,V.set(E,O);var R=r(I(E),I(O),M,$,z,V);return V.delete(E),R;case w:if(C)return C.call(E)==C.call(O)}return!1}return WT=S,WT}var GT,m8;function sse(){if(m8)return GT;m8=1;function e(t,n){for(var r=-1,a=n.length,i=t.length;++r<a;)t[i+r]=n[r];return t}return GT=e,GT}var YT,p8;function WDe(){if(p8)return YT;p8=1;var e=sse(),t=xa();function n(r,a,i){var o=a(r);return t(r)?o:e(o,i(r))}return YT=n,YT}var XT,x8;function GDe(){if(x8)return XT;x8=1;function e(t,n){for(var r=-1,a=t==null?0:t.length,i=0,o=[];++r<a;){var l=t[r];n(l,r,t)&&(o[i++]=l)}return o}return XT=e,XT}var QT,g8;function YDe(){if(g8)return QT;g8=1;function e(){return[]}return QT=e,QT}var JT,y8;function XDe(){if(y8)return JT;y8=1;var e=GDe(),t=YDe(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(l){return r.call(o,l)}))}:t;return JT=i,JT}var ZT,v8;function QDe(){if(v8)return ZT;v8=1;function e(t,n){for(var r=-1,a=Array(t);++r<t;)a[r]=n(r);return a}return ZT=e,ZT}var eA,b8;function JDe(){if(b8)return eA;b8=1;var e=Wl(),t=Gl(),n="[object Arguments]";function r(a){return t(a)&&e(a)==n}return eA=r,eA}var tA,j8;function G5(){if(j8)return tA;j8=1;var e=JDe(),t=Gl(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&r.call(o,"callee")&&!a.call(o,"callee")};return tA=i,tA}var ox={exports:{}},nA,w8;function ZDe(){if(w8)return nA;w8=1;function e(){return!1}return nA=e,nA}ox.exports;var N8;function ase(){return N8||(N8=1,(function(e,t){var n=Vo(),r=ZDe(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(ox,ox.exports)),ox.exports}var rA,S8;function Y5(){if(S8)return rA;S8=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,a){var i=typeof r;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<a}return rA=n,rA}var sA,C8;function X5(){if(C8)return sA;C8=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return sA=t,sA}var aA,k8;function eIe(){if(k8)return aA;k8=1;var e=Wl(),t=X5(),n=Gl(),r="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",f="[object Number]",m="[object Object]",p="[object RegExp]",g="[object Set]",v="[object String]",y="[object WeakMap]",w="[object ArrayBuffer]",N="[object DataView]",A="[object Float32Array]",T="[object Float64Array]",C="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",O="[object Uint8Array]",_="[object Uint8ClampedArray]",M="[object Uint16Array]",$="[object Uint32Array]",z={};z[A]=z[T]=z[C]=z[S]=z[E]=z[O]=z[_]=z[M]=z[$]=!0,z[r]=z[a]=z[w]=z[i]=z[N]=z[o]=z[l]=z[c]=z[u]=z[f]=z[m]=z[p]=z[g]=z[v]=z[y]=!1;function V(I){return n(I)&&t(I.length)&&!!z[e(I)]}return aA=V,aA}var iA,T8;function ise(){if(T8)return iA;T8=1;function e(t){return function(n){return t(n)}}return iA=e,iA}var lx={exports:{}};lx.exports;var A8;function tIe(){return A8||(A8=1,(function(e,t){var n=kre(),r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(lx,lx.exports)),lx.exports}var oA,E8;function ose(){if(E8)return oA;E8=1;var e=eIe(),t=ise(),n=tIe(),r=n&&n.isTypedArray,a=r?t(r):e;return oA=a,oA}var lA,O8;function nIe(){if(O8)return lA;O8=1;var e=QDe(),t=G5(),n=xa(),r=ase(),a=Y5(),i=ose(),o=Object.prototype,l=o.hasOwnProperty;function c(u,f){var m=n(u),p=!m&&t(u),g=!m&&!p&&r(u),v=!m&&!p&&!g&&i(u),y=m||p||g||v,w=y?e(u.length,String):[],N=w.length;for(var A in u)(f||l.call(u,A))&&!(y&&(A=="length"||g&&(A=="offset"||A=="parent")||v&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||a(A,N)))&&w.push(A);return w}return lA=c,lA}var cA,P8;function rIe(){if(P8)return cA;P8=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||e;return n===a}return cA=t,cA}var dA,M8;function lse(){if(M8)return dA;M8=1;function e(t,n){return function(r){return t(n(r))}}return dA=e,dA}var uA,_8;function sIe(){if(_8)return uA;_8=1;var e=lse(),t=e(Object.keys,Object);return uA=t,uA}var fA,R8;function aIe(){if(R8)return fA;R8=1;var e=rIe(),t=sIe(),n=Object.prototype,r=n.hasOwnProperty;function a(i){if(!e(i))return t(i);var o=[];for(var l in Object(i))r.call(i,l)&&l!="constructor"&&o.push(l);return o}return fA=a,fA}var hA,D8;function jy(){if(D8)return hA;D8=1;var e=R5(),t=X5();function n(r){return r!=null&&t(r.length)&&!e(r)}return hA=n,hA}var mA,I8;function e1(){if(I8)return mA;I8=1;var e=nIe(),t=aIe(),n=jy();function r(a){return n(a)?e(a):t(a)}return mA=r,mA}var pA,L8;function iIe(){if(L8)return pA;L8=1;var e=WDe(),t=XDe(),n=e1();function r(a){return e(a,n,t)}return pA=r,pA}var xA,$8;function oIe(){if($8)return xA;$8=1;var e=iIe(),t=1,n=Object.prototype,r=n.hasOwnProperty;function a(i,o,l,c,u,f){var m=l&t,p=e(i),g=p.length,v=e(o),y=v.length;if(g!=y&&!m)return!1;for(var w=g;w--;){var N=p[w];if(!(m?N in o:r.call(o,N)))return!1}var A=f.get(i),T=f.get(o);if(A&&T)return A==o&&T==i;var C=!0;f.set(i,o),f.set(o,i);for(var S=m;++w<g;){N=p[w];var E=i[N],O=o[N];if(c)var _=m?c(O,E,N,o,i,f):c(E,O,N,i,o,f);if(!(_===void 0?E===O||u(E,O,l,c,f):_)){C=!1;break}S||(S=N=="constructor")}if(C&&!S){var M=i.constructor,$=o.constructor;M!=$&&"constructor"in i&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof $=="function"&&$ instanceof $)&&(C=!1)}return f.delete(i),f.delete(o),C}return xA=a,xA}var gA,F8;function lIe(){if(F8)return gA;F8=1;var e=$u(),t=Vo(),n=e(t,"DataView");return gA=n,gA}var yA,B8;function cIe(){if(B8)return yA;B8=1;var e=$u(),t=Vo(),n=e(t,"Promise");return yA=n,yA}var vA,z8;function cse(){if(z8)return vA;z8=1;var e=$u(),t=Vo(),n=e(t,"Set");return vA=n,vA}var bA,q8;function dIe(){if(q8)return bA;q8=1;var e=$u(),t=Vo(),n=e(t,"WeakMap");return bA=n,bA}var jA,U8;function uIe(){if(U8)return jA;U8=1;var e=lIe(),t=I5(),n=cIe(),r=cse(),a=dIe(),i=Wl(),o=Tre(),l="[object Map]",c="[object Object]",u="[object Promise]",f="[object Set]",m="[object WeakMap]",p="[object DataView]",g=o(e),v=o(t),y=o(n),w=o(r),N=o(a),A=i;return(e&&A(new e(new ArrayBuffer(1)))!=p||t&&A(new t)!=l||n&&A(n.resolve())!=u||r&&A(new r)!=f||a&&A(new a)!=m)&&(A=function(T){var C=i(T),S=C==c?T.constructor:void 0,E=S?o(S):"";if(E)switch(E){case g:return p;case v:return l;case y:return u;case w:return f;case N:return m}return C}),jA=A,jA}var wA,V8;function fIe(){if(V8)return wA;V8=1;var e=Zre(),t=rse(),n=KDe(),r=oIe(),a=uIe(),i=xa(),o=ase(),l=ose(),c=1,u="[object Arguments]",f="[object Array]",m="[object Object]",p=Object.prototype,g=p.hasOwnProperty;function v(y,w,N,A,T,C){var S=i(y),E=i(w),O=S?f:a(y),_=E?f:a(w);O=O==u?m:O,_=_==u?m:_;var M=O==m,$=_==m,z=O==_;if(z&&o(y)){if(!o(w))return!1;S=!0,M=!1}if(z&&!M)return C||(C=new e),S||l(y)?t(y,w,N,A,T,C):n(y,w,O,N,A,T,C);if(!(N&c)){var V=M&&g.call(y,"__wrapped__"),I=$&&g.call(w,"__wrapped__");if(V||I){var F=V?y.value():y,K=I?w.value():w;return C||(C=new e),T(F,K,N,A,C)}}return z?(C||(C=new e),r(y,w,N,A,T,C)):!1}return wA=v,wA}var NA,H8;function Q5(){if(H8)return NA;H8=1;var e=fIe(),t=Gl();function n(r,a,i,o,l){return r===a?!0:r==null||a==null||!t(r)&&!t(a)?r!==r&&a!==a:e(r,a,i,o,n,l)}return NA=n,NA}var SA,K8;function hIe(){if(K8)return SA;K8=1;var e=Zre(),t=Q5(),n=1,r=2;function a(i,o,l,c){var u=l.length,f=u,m=!c;if(i==null)return!f;for(i=Object(i);u--;){var p=l[u];if(m&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++u<f;){p=l[u];var g=p[0],v=i[g],y=p[1];if(m&&p[2]){if(v===void 0&&!(g in i))return!1}else{var w=new e;if(c)var N=c(v,y,g,i,o,w);if(!(N===void 0?t(y,v,n|r,c,w):N))return!1}}return!0}return SA=a,SA}var CA,W8;function dse(){if(W8)return CA;W8=1;var e=ld();function t(n){return n===n&&!e(n)}return CA=t,CA}var kA,G8;function mIe(){if(G8)return kA;G8=1;var e=dse(),t=e1();function n(r){for(var a=t(r),i=a.length;i--;){var o=a[i],l=r[o];a[i]=[o,l,e(l)]}return a}return kA=n,kA}var TA,Y8;function use(){if(Y8)return TA;Y8=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return TA=e,TA}var AA,X8;function pIe(){if(X8)return AA;X8=1;var e=hIe(),t=mIe(),n=use();function r(a){var i=t(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(o){return o===a||e(o,a,i)}}return AA=r,AA}var EA,Q8;function xIe(){if(Q8)return EA;Q8=1;function e(t,n){return t!=null&&n in Object(t)}return EA=e,EA}var OA,J8;function gIe(){if(J8)return OA;J8=1;var e=Ore(),t=G5(),n=xa(),r=Y5(),a=X5(),i=YN();function o(l,c,u){c=e(c,l);for(var f=-1,m=c.length,p=!1;++f<m;){var g=i(c[f]);if(!(p=l!=null&&u(l,g)))break;l=l[g]}return p||++f!=m?p:(m=l==null?0:l.length,!!m&&a(m)&&r(g,m)&&(n(l)||t(l)))}return OA=o,OA}var PA,Z8;function yIe(){if(Z8)return PA;Z8=1;var e=xIe(),t=gIe();function n(r,a){return r!=null&&t(r,a,e)}return PA=n,PA}var MA,eV;function vIe(){if(eV)return MA;eV=1;var e=Q5(),t=Pre(),n=yIe(),r=_5(),a=dse(),i=use(),o=YN(),l=1,c=2;function u(f,m){return r(f)&&a(m)?i(o(f),m):function(p){var g=t(p,f);return g===void 0&&g===m?n(p,f):e(m,g,l|c)}}return MA=u,MA}var _A,tV;function jm(){if(tV)return _A;tV=1;function e(t){return t}return _A=e,_A}var RA,nV;function bIe(){if(nV)return RA;nV=1;function e(t){return function(n){return n?.[t]}}return RA=e,RA}var DA,rV;function jIe(){if(rV)return DA;rV=1;var e=F5();function t(n){return function(r){return e(r,n)}}return DA=t,DA}var IA,sV;function wIe(){if(sV)return IA;sV=1;var e=bIe(),t=jIe(),n=_5(),r=YN();function a(i){return n(i)?e(r(i)):t(i)}return IA=a,IA}var LA,aV;function Ho(){if(aV)return LA;aV=1;var e=pIe(),t=vIe(),n=jm(),r=xa(),a=wIe();function i(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):a(o)}return LA=i,LA}var $A,iV;function fse(){if(iV)return $A;iV=1;function e(t,n,r,a){for(var i=t.length,o=r+(a?1:-1);a?o--:++o<i;)if(n(t[o],o,t))return o;return-1}return $A=e,$A}var FA,oV;function NIe(){if(oV)return FA;oV=1;function e(t){return t!==t}return FA=e,FA}var BA,lV;function SIe(){if(lV)return BA;lV=1;function e(t,n,r){for(var a=r-1,i=t.length;++a<i;)if(t[a]===n)return a;return-1}return BA=e,BA}var zA,cV;function CIe(){if(cV)return zA;cV=1;var e=fse(),t=NIe(),n=SIe();function r(a,i,o){return i===i?n(a,i,o):e(a,t,o)}return zA=r,zA}var qA,dV;function kIe(){if(dV)return qA;dV=1;var e=CIe();function t(n,r){var a=n==null?0:n.length;return!!a&&e(n,r,0)>-1}return qA=t,qA}var UA,uV;function TIe(){if(uV)return UA;uV=1;function e(t,n,r){for(var a=-1,i=t==null?0:t.length;++a<i;)if(r(n,t[a]))return!0;return!1}return UA=e,UA}var VA,fV;function AIe(){if(fV)return VA;fV=1;function e(){}return VA=e,VA}var HA,hV;function EIe(){if(hV)return HA;hV=1;var e=cse(),t=AIe(),n=W5(),r=1/0,a=e&&1/n(new e([,-0]))[1]==r?function(i){return new e(i)}:t;return HA=a,HA}var KA,mV;function OIe(){if(mV)return KA;mV=1;var e=ese(),t=kIe(),n=TIe(),r=nse(),a=EIe(),i=W5(),o=200;function l(c,u,f){var m=-1,p=t,g=c.length,v=!0,y=[],w=y;if(f)v=!1,p=n;else if(g>=o){var N=u?null:a(c);if(N)return i(N);v=!1,p=r,w=new e}else w=u?[]:y;e:for(;++m<g;){var A=c[m],T=u?u(A):A;if(A=f||A!==0?A:0,v&&T===T){for(var C=w.length;C--;)if(w[C]===T)continue e;u&&w.push(T),y.push(A)}else p(w,T,f)||(w!==y&&w.push(T),y.push(A))}return y}return KA=l,KA}var WA,pV;function PIe(){if(pV)return WA;pV=1;var e=Ho(),t=OIe();function n(r,a){return r&&r.length?t(r,e(a,2)):[]}return WA=n,WA}var MIe=PIe();const xV=on(MIe);function hse(e,t,n){return t===!0?xV(e,n):vt(t)?xV(e,t):e}function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}var _Ie=["ref"];function gV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gV(Object(n),!0).forEach(function(r){t1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pse(r.key),r)}}function DIe(e,t,n){return t&&yV(e.prototype,t),n&&yV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function IIe(e,t,n){return t=Vj(t),LIe(e,mse()?Reflect.construct(t,n||[],Vj(e).constructor):t.apply(e,n))}function LIe(e,t){if(t&&(_h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ie(e)}function $Ie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mse=function(){return!!e})()}function Vj(e){return Vj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vj(e)}function FIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A4(e,t)}function A4(e,t){return A4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},A4(e,t)}function t1(e,t,n){return t=pse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pse(e){var t=BIe(e,"string");return _h(t)=="symbol"?t:t+""}function BIe(e,t){if(_h(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function zIe(e,t){if(e==null)return{};var n=qIe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qIe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function UIe(e){return e.value}function VIe(e,t){if(Z.isValidElement(e))return Z.cloneElement(e,t);if(typeof e=="function")return Z.createElement(e,t);t.ref;var n=zIe(t,_Ie);return Z.createElement(K5,n)}var vV=1,su=(function(e){function t(){var n;RIe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=IIe(this,t,[].concat(a)),t1(n,"lastBoundingBox",{width:-1,height:-1}),n}return FIe(t,e),DIe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>vV||Math.abs(a.height-this.lastBoundingBox.height)>vV)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?gl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,f=a.chartHeight,m,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var g=this.getBBoxSnapshot();m={left:((u||0)-g.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();p={top:((f||0)-v.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return gl(gl({},m),p)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,m=gl(gl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Z.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(g){r.wrapperNode=g}},VIe(i,gl(gl({},this.props),{},{payload:hse(f,u,UIe)})))}}],[{key:"getWithHeight",value:function(r,a){var i=gl(gl({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&$e(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}])})(j.PureComponent);t1(su,"displayName","Legend");t1(su,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var GA,bV;function HIe(){if(bV)return GA;bV=1;var e=vy(),t=G5(),n=xa(),r=e?e.isConcatSpreadable:void 0;function a(i){return n(i)||t(i)||!!(r&&i&&i[r])}return GA=a,GA}var YA,jV;function xse(){if(jV)return YA;jV=1;var e=sse(),t=HIe();function n(r,a,i,o,l){var c=-1,u=r.length;for(i||(i=t),l||(l=[]);++c<u;){var f=r[c];a>0&&i(f)?a>1?n(f,a-1,i,o,l):e(l,f):o||(l[l.length]=f)}return l}return YA=n,YA}var XA,wV;function KIe(){if(wV)return XA;wV=1;function e(t){return function(n,r,a){for(var i=-1,o=Object(n),l=a(n),c=l.length;c--;){var u=l[t?c:++i];if(r(o[u],u,o)===!1)break}return n}}return XA=e,XA}var QA,NV;function WIe(){if(NV)return QA;NV=1;var e=KIe(),t=e();return QA=t,QA}var JA,SV;function gse(){if(SV)return JA;SV=1;var e=WIe(),t=e1();function n(r,a){return r&&e(r,a,t)}return JA=n,JA}var ZA,CV;function GIe(){if(CV)return ZA;CV=1;var e=jy();function t(n,r){return function(a,i){if(a==null)return a;if(!e(a))return n(a,i);for(var o=a.length,l=r?o:-1,c=Object(a);(r?l--:++l<o)&&i(c[l],l,c)!==!1;);return a}}return ZA=t,ZA}var eE,kV;function J5(){if(kV)return eE;kV=1;var e=gse(),t=GIe(),n=t(e);return eE=n,eE}var tE,TV;function yse(){if(TV)return tE;TV=1;var e=J5(),t=jy();function n(r,a){var i=-1,o=t(r)?Array(r.length):[];return e(r,function(l,c,u){o[++i]=a(l,c,u)}),o}return tE=n,tE}var nE,AV;function YIe(){if(AV)return nE;AV=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return nE=e,nE}var rE,EV;function XIe(){if(EV)return rE;EV=1;var e=ym();function t(n,r){if(n!==r){var a=n!==void 0,i=n===null,o=n===n,l=e(n),c=r!==void 0,u=r===null,f=r===r,m=e(r);if(!u&&!m&&!l&&n>r||l&&c&&f&&!u&&!m||i&&c&&f||!a&&f||!o)return 1;if(!i&&!l&&!m&&n<r||m&&a&&o&&!i&&!l||u&&a&&o||!c&&o||!f)return-1}return 0}return rE=t,rE}var sE,OV;function QIe(){if(OV)return sE;OV=1;var e=XIe();function t(n,r,a){for(var i=-1,o=n.criteria,l=r.criteria,c=o.length,u=a.length;++i<c;){var f=e(o[i],l[i]);if(f){if(i>=u)return f;var m=a[i];return f*(m=="desc"?-1:1)}}return n.index-r.index}return sE=t,sE}var aE,PV;function JIe(){if(PV)return aE;PV=1;var e=$5(),t=F5(),n=Ho(),r=yse(),a=YIe(),i=ise(),o=QIe(),l=jm(),c=xa();function u(f,m,p){m.length?m=e(m,function(y){return c(y)?function(w){return t(w,y.length===1?y[0]:y)}:y}):m=[l];var g=-1;m=e(m,i(n));var v=r(f,function(y,w,N){var A=e(m,function(T){return T(y)});return{criteria:A,index:++g,value:y}});return a(v,function(y,w){return o(y,w,p)})}return aE=u,aE}var iE,MV;function ZIe(){if(MV)return iE;MV=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return iE=e,iE}var oE,_V;function eLe(){if(_V)return oE;_V=1;var e=ZIe(),t=Math.max;function n(r,a,i){return a=t(a===void 0?r.length-1:a,0),function(){for(var o=arguments,l=-1,c=t(o.length-a,0),u=Array(c);++l<c;)u[l]=o[a+l];l=-1;for(var f=Array(a+1);++l<a;)f[l]=o[l];return f[a]=i(u),e(r,this,f)}}return oE=n,oE}var lE,RV;function tLe(){if(RV)return lE;RV=1;function e(t){return function(){return t}}return lE=e,lE}var cE,DV;function vse(){if(DV)return cE;DV=1;var e=$u(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return cE=t,cE}var dE,IV;function nLe(){if(IV)return dE;IV=1;var e=tLe(),t=vse(),n=jm(),r=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:n;return dE=r,dE}var uE,LV;function rLe(){if(LV)return uE;LV=1;var e=800,t=16,n=Date.now;function r(a){var i=0,o=0;return function(){var l=n(),c=t-(l-o);if(o=l,c>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return uE=r,uE}var fE,$V;function sLe(){if($V)return fE;$V=1;var e=nLe(),t=rLe(),n=t(e);return fE=n,fE}var hE,FV;function aLe(){if(FV)return hE;FV=1;var e=jm(),t=eLe(),n=sLe();function r(a,i){return n(t(a,i,e),a+"")}return hE=r,hE}var mE,BV;function n1(){if(BV)return mE;BV=1;var e=D5(),t=jy(),n=Y5(),r=ld();function a(i,o,l){if(!r(l))return!1;var c=typeof o;return(c=="number"?t(l)&&n(o,l.length):c=="string"&&o in l)?e(l[o],i):!1}return mE=a,mE}var pE,zV;function iLe(){if(zV)return pE;zV=1;var e=xse(),t=JIe(),n=aLe(),r=n1(),a=n(function(i,o){if(i==null)return[];var l=o.length;return l>1&&r(i,o[0],o[1])?o=[]:l>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return pE=a,pE}var oLe=iLe();const Z5=on(oLe);function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}function E4(){return E4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E4.apply(this,arguments)}function lLe(e,t){return fLe(e)||uLe(e,t)||dLe(e,t)||cLe()}function cLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dLe(e,t){if(e){if(typeof e=="string")return qV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qV(e,t)}}function qV(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uLe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function fLe(e){if(Array.isArray(e))return e}function UV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UV(Object(n),!0).forEach(function(r){hLe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hLe(e,t,n){return t=mLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mLe(e){var t=pLe(e,"string");return hg(t)=="symbol"?t:t+""}function pLe(e,t){if(hg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xLe(e){return Array.isArray(e)&&Ur(e[0])&&Ur(e[1])?e.join(" ~ "):e}var gLe=function(t){var n=t.separator,r=n===void 0?" : ":n,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,m=t.formatter,p=t.itemSorter,g=t.wrapperClassName,v=t.labelClassName,y=t.label,w=t.labelFormatter,N=t.accessibilityLayer,A=N===void 0?!1:N,T=function(){if(f&&f.length){var V={padding:0,margin:0},I=(p?Z5(f,p):f).map(function(F,K){if(F.type==="none")return null;var R=xE({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},l),B=F.formatter||m||xLe,L=F.value,q=F.name,se=L,H=q;if(B&&se!=null&&H!=null){var Y=B(L,q,F,K,f);if(Array.isArray(Y)){var G=lLe(Y,2);se=G[0],H=G[1]}else se=Y}return Z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:R},Ur(H)?Z.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Ur(H)?Z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Z.createElement("span",{className:"recharts-tooltip-item-value"},se),Z.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return Z.createElement("ul",{className:"recharts-tooltip-item-list",style:V},I)}return null},C=xE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=xE({margin:0},u),E=!Nt(y),O=E?y:"",_=Ct("recharts-default-tooltip",g),M=Ct("recharts-tooltip-label",v);E&&w&&f!==void 0&&f!==null&&(O=w(y,f));var $=A?{role:"status","aria-live":"assertive"}:{};return Z.createElement("div",E4({className:_,style:C},$),Z.createElement("p",{className:M,style:S},Z.isValidElement(O)?O:"".concat(O)),T())};function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function Ob(e,t,n){return t=yLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yLe(e){var t=vLe(e,"string");return mg(t)=="symbol"?t:t+""}function vLe(e,t){if(mg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fp="recharts-tooltip-wrapper",bLe={visibility:"hidden"};function jLe(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Ct(Fp,Ob(Ob(Ob(Ob({},"".concat(Fp,"-right"),$e(n)&&t&&$e(t.x)&&n>=t.x),"".concat(Fp,"-left"),$e(n)&&t&&$e(t.x)&&n<t.x),"".concat(Fp,"-bottom"),$e(r)&&t&&$e(t.y)&&r>=t.y),"".concat(Fp,"-top"),$e(r)&&t&&$e(t.y)&&r<t.y))}function VV(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&$e(i[r]))return i[r];var f=n[r]-l-a,m=n[r]+a;if(t[r])return o[r]?f:m;if(o[r]){var p=f,g=c[r];return p<g?Math.max(m,c[r]):Math.max(f,c[r])}var v=m+l,y=c[r]+u;return v>y?Math.max(f,c[r]):Math.max(m,c[r])}function wLe(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function NLe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,m;return o.height>0&&o.width>0&&n?(f=VV({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=VV({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=wLe({translateX:f,translateY:m,useTranslate3d:l})):u=bLe,{cssProperties:u,cssClasses:jLe({translateX:f,translateY:m,coordinate:n})}}function Rh(e){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rh(e)}function HV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function KV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HV(Object(n),!0).forEach(function(r){P4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CLe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jse(r.key),r)}}function kLe(e,t,n){return t&&CLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TLe(e,t,n){return t=Hj(t),ALe(e,bse()?Reflect.construct(t,n||[],Hj(e).constructor):t.apply(e,n))}function ALe(e,t){if(t&&(Rh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ELe(e)}function ELe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bse=function(){return!!e})()}function Hj(e){return Hj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hj(e)}function OLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O4(e,t)}function O4(e,t){return O4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},O4(e,t)}function P4(e,t,n){return t=jse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jse(e){var t=PLe(e,"string");return Rh(t)=="symbol"?t:t+""}function PLe(e,t){if(Rh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WV=1,MLe=(function(e){function t(){var n;SLe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=TLe(this,t,[].concat(a)),P4(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),P4(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return OLe(t,e),kLe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>WV||Math.abs(r.height-this.state.lastBoundingBox.height)>WV)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,f=a.coordinate,m=a.hasPayload,p=a.isAnimationActive,g=a.offset,v=a.position,y=a.reverseDirection,w=a.useTranslate3d,N=a.viewBox,A=a.wrapperStyle,T=NLe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:g,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:N}),C=T.cssClasses,S=T.cssProperties,E=KV(KV({transition:p&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},A);return Z.createElement("div",{tabIndex:-1,className:C,style:E,ref:function(_){r.wrapperNode=_}},u)}}])})(j.PureComponent),_Le=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fu={isSsr:_Le()};function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}function GV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function YV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GV(Object(n),!0).forEach(function(r){e3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DLe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nse(r.key),r)}}function ILe(e,t,n){return t&&DLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LLe(e,t,n){return t=Kj(t),$Le(e,wse()?Reflect.construct(t,n||[],Kj(e).constructor):t.apply(e,n))}function $Le(e,t){if(t&&(Dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FLe(e)}function FLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wse=function(){return!!e})()}function Kj(e){return Kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kj(e)}function BLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M4(e,t)}function M4(e,t){return M4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},M4(e,t)}function e3(e,t,n){return t=Nse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nse(e){var t=zLe(e,"string");return Dh(t)=="symbol"?t:t+""}function zLe(e,t){if(Dh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function qLe(e){return e.dataKey}function ULe(e,t){return Z.isValidElement(e)?Z.cloneElement(e,t):typeof e=="function"?Z.createElement(e,t):Z.createElement(gLe,t)}var Aa=(function(e){function t(){return RLe(this,t),LLe(this,t,arguments)}return BLe(t,e),ILe(t,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,f=a.coordinate,m=a.filterNull,p=a.isAnimationActive,g=a.offset,v=a.payload,y=a.payloadUniqBy,w=a.position,N=a.reverseDirection,A=a.useTranslate3d,T=a.viewBox,C=a.wrapperStyle,S=v??[];m&&S.length&&(S=hse(v.filter(function(O){return O.value!=null&&(O.hide!==!0||r.props.includeHidden)}),y,qLe));var E=S.length>0;return Z.createElement(MLe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:i,coordinate:f,hasPayload:E,offset:g,position:w,reverseDirection:N,useTranslate3d:A,viewBox:T,wrapperStyle:C},ULe(u,YV(YV({},this.props),{},{payload:S})))}}])})(j.PureComponent);e3(Aa,"displayName","Tooltip");e3(Aa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var gE,XV;function VLe(){if(XV)return gE;XV=1;var e=Vo(),t=function(){return e.Date.now()};return gE=t,gE}var yE,QV;function HLe(){if(QV)return yE;QV=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return yE=t,yE}var vE,JV;function KLe(){if(JV)return vE;JV=1;var e=HLe(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return vE=n,vE}var bE,ZV;function Sse(){if(ZV)return bE;ZV=1;var e=KLe(),t=ld(),n=ym(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=t(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=e(u);var m=i.test(u);return m||o.test(u)?l(u.slice(2),m?2:8):a.test(u)?r:+u}return bE=c,bE}var jE,eH;function WLe(){if(eH)return jE;eH=1;var e=ld(),t=VLe(),n=Sse(),r="Expected a function",a=Math.max,i=Math.min;function o(l,c,u){var f,m,p,g,v,y,w=0,N=!1,A=!1,T=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,e(u)&&(N=!!u.leading,A="maxWait"in u,p=A?a(n(u.maxWait)||0,c):p,T="trailing"in u?!!u.trailing:T);function C(I){var F=f,K=m;return f=m=void 0,w=I,g=l.apply(K,F),g}function S(I){return w=I,v=setTimeout(_,c),N?C(I):g}function E(I){var F=I-y,K=I-w,R=c-F;return A?i(R,p-K):R}function O(I){var F=I-y,K=I-w;return y===void 0||F>=c||F<0||A&&K>=p}function _(){var I=t();if(O(I))return M(I);v=setTimeout(_,E(I))}function M(I){return v=void 0,T&&f?C(I):(f=m=void 0,g)}function $(){v!==void 0&&clearTimeout(v),w=0,f=y=m=v=void 0}function z(){return v===void 0?g:M(t())}function V(){var I=t(),F=O(I);if(f=arguments,m=this,y=I,F){if(v===void 0)return S(y);if(A)return clearTimeout(v),v=setTimeout(_,c),C(y)}return v===void 0&&(v=setTimeout(_,c)),g}return V.cancel=$,V.flush=z,V}return jE=o,jE}var wE,tH;function GLe(){if(tH)return wE;tH=1;var e=WLe(),t=ld(),n="Expected a function";function r(a,i,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(n);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),e(a,i,{leading:l,maxWait:i,trailing:c})}return wE=r,wE}var YLe=GLe();const Cse=on(YLe);function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}function nH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nH(Object(n),!0).forEach(function(r){XLe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XLe(e,t,n){return t=QLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QLe(e){var t=JLe(e,"string");return pg(t)=="symbol"?t:t+""}function JLe(e,t){if(pg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZLe(e,t){return r$e(e)||n$e(e,t)||t$e(e,t)||e$e()}function e$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t$e(e,t){if(e){if(typeof e=="string")return rH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rH(e,t)}}function rH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n$e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function r$e(e){if(Array.isArray(e))return e}var r1=j.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,m=e.minHeight,p=e.maxHeight,g=e.children,v=e.debounce,y=v===void 0?0:v,w=e.id,N=e.className,A=e.onResize,T=e.style,C=T===void 0?{}:T,S=j.useRef(null),E=j.useRef();E.current=A,j.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var O=j.useState({containerWidth:a.width,containerHeight:a.height}),_=ZLe(O,2),M=_[0],$=_[1],z=j.useCallback(function(I,F){$(function(K){var R=Math.round(I),B=Math.round(F);return K.containerWidth===R&&K.containerHeight===B?K:{containerWidth:R,containerHeight:B}})},[]);j.useEffect(function(){var I=function(q){var se,H=q[0].contentRect,Y=H.width,G=H.height;z(Y,G),(se=E.current)===null||se===void 0||se.call(E,Y,G)};y>0&&(I=Cse(I,y,{trailing:!0,leading:!1}));var F=new ResizeObserver(I),K=S.current.getBoundingClientRect(),R=K.width,B=K.height;return z(R,B),F.observe(S.current),function(){F.disconnect()}},[z,y]);var V=j.useMemo(function(){var I=M.containerWidth,F=M.containerHeight;if(I<0||F<0)return null;Xi(Wd(o)||Wd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Xi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var K=Wd(o)?I:o,R=Wd(c)?F:c;n&&n>0&&(K?R=K/n:R&&(K=R*n),p&&R>p&&(R=p)),Xi(K>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,R,o,c,f,m,n);var B=!Array.isArray(g)&&_l(g.type).endsWith("Chart");return Z.Children.map(g,function(L){return Z.isValidElement(L)?j.cloneElement(L,Pb({width:K,height:R},B?{style:Pb({height:"100%",width:"100%",maxHeight:R,maxWidth:K},L.props.style)}:{})):L})},[n,g,c,p,m,f,M,o]);return Z.createElement("div",{id:w?"".concat(w):void 0,className:Ct("recharts-responsive-container",N),style:Pb(Pb({},C),{},{width:o,height:c,minWidth:f,minHeight:m,maxHeight:p}),ref:S},V)}),s1=function(t){return null};s1.displayName="Cell";function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function sH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sH(Object(n),!0).forEach(function(r){s$e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s$e(e,t,n){return t=a$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a$e(e){var t=i$e(e,"string");return xg(t)=="symbol"?t:t+""}function i$e(e,t){if(xg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _f={widthCache:{},cacheCount:0},o$e=2e3,l$e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aH="recharts_measurement_span";function c$e(e){var t=_4({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Mx=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Fu.isSsr)return{width:0,height:0};var r=c$e(n),a=JSON.stringify({text:t,copyStyle:r});if(_f.widthCache[a])return _f.widthCache[a];try{var i=document.getElementById(aH);i||(i=document.createElement("span"),i.setAttribute("id",aH),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=_4(_4({},l$e),r);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return _f.widthCache[a]=c,++_f.cacheCount>o$e&&(_f.cacheCount=0,_f.widthCache={}),c}catch{return{width:0,height:0}}},d$e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}function Wj(e,t){return m$e(e)||h$e(e,t)||f$e(e,t)||u$e()}function u$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f$e(e,t){if(e){if(typeof e=="string")return iH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iH(e,t)}}function iH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h$e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function m$e(e){if(Array.isArray(e))return e}function p$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g$e(r.key),r)}}function x$e(e,t,n){return t&&oH(e.prototype,t),n&&oH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g$e(e){var t=y$e(e,"string");return gg(t)=="symbol"?t:t+""}function y$e(e,t){if(gg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,v$e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,b$e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kse={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},j$e=Object.keys(kse),Gf="NaN";function w$e(e,t){return e*kse[t]}var Mb=(function(){function e(t,n){p$e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!v$e.test(n)&&(this.num=NaN,this.unit=""),j$e.includes(n)&&(this.num=w$e(t,n),this.unit="px")}return x$e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=b$e.exec(n))!==null&&r!==void 0?r:[],i=Wj(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])})();function Tse(e){if(e.includes(Gf))return Gf;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=lH.exec(t))!==null&&n!==void 0?n:[],a=Wj(r,4),i=a[1],o=a[2],l=a[3],c=Mb.parse(i??""),u=Mb.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Gf;t=t.replace(lH,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,p=(m=cH.exec(t))!==null&&m!==void 0?m:[],g=Wj(p,4),v=g[1],y=g[2],w=g[3],N=Mb.parse(v??""),A=Mb.parse(w??""),T=y==="+"?N.add(A):N.subtract(A);if(T.isNaN())return Gf;t=t.replace(cH,T.toString())}return t}var dH=/\(([^()]*)\)/;function N$e(e){for(var t=e;t.includes("(");){var n=dH.exec(t),r=Wj(n,2),a=r[1];t=t.replace(dH,Tse(a))}return t}function S$e(e){var t=e.replace(/\s+/g,"");return t=N$e(t),t=Tse(t),t}function C$e(e){try{return S$e(e)}catch{return Gf}}function NE(e){var t=C$e(e.slice(5,-1));return t===Gf?"":t}var k$e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],T$e=["dx","dy","angle","className","breakAll"];function R4(){return R4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R4.apply(this,arguments)}function uH(e,t){if(e==null)return{};var n=A$e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function A$e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function fH(e,t){return M$e(e)||P$e(e,t)||O$e(e,t)||E$e()}function E$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O$e(e,t){if(e){if(typeof e=="string")return hH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hH(e,t)}}function hH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P$e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function M$e(e){if(Array.isArray(e))return e}var Ase=/[ \f\n\r\t\v\u2028\u2029]+/,Ese=function(t){var n=t.children,r=t.breakAll,a=t.style;try{var i=[];Nt(n)||(r?i=n.toString().split(""):i=n.toString().split(Ase));var o=i.map(function(c){return{word:c,width:Mx(c,a).width}}),l=r?0:Mx("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},_$e=function(t,n,r,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=$e(o),m=l,p=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(R,B){var L=B.word,q=B.width,se=R[R.length-1];if(se&&(a==null||i||se.width+q+r<Number(a)))se.words.push(L),se.width+=q+r;else{var H={words:[L],width:q};R.push(H)}return R},[])},g=p(n),v=function(K){return K.reduce(function(R,B){return R.width>B.width?R:B})};if(!f)return g;for(var y="",w=function(K){var R=m.slice(0,K),B=Ese({breakAll:u,style:c,children:R+y}).wordsWithComputedWidth,L=p(B),q=L.length>o||v(L).width>Number(a);return[q,L]},N=0,A=m.length-1,T=0,C;N<=A&&T<=m.length-1;){var S=Math.floor((N+A)/2),E=S-1,O=w(E),_=fH(O,2),M=_[0],$=_[1],z=w(S),V=fH(z,1),I=V[0];if(!M&&!I&&(N=S+1),M&&I&&(A=S-1),!M&&I){C=$;break}T++}return C||g},mH=function(t){var n=Nt(t)?[]:t.toString().split(Ase);return[{words:n}]},R$e=function(t){var n=t.width,r=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!Fu.isSsr){var c,u,f=Ese({breakAll:o,children:a,style:i});if(f){var m=f.wordsWithComputedWidth,p=f.spaceWidth;c=m,u=p}else return mH(a);return _$e({breakAll:o,children:a,maxLines:l,style:i},c,u,n,r)}return mH(a)},pH="#808080",Su=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,m=f===void 0?!1:f,p=t.textAnchor,g=p===void 0?"start":p,v=t.verticalAnchor,y=v===void 0?"end":v,w=t.fill,N=w===void 0?pH:w,A=uH(t,k$e),T=j.useMemo(function(){return R$e({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:m,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,m,A.style,A.width]),C=A.dx,S=A.dy,E=A.angle,O=A.className,_=A.breakAll,M=uH(A,T$e);if(!Ur(r)||!Ur(i))return null;var $=r+($e(C)?C:0),z=i+($e(S)?S:0),V;switch(y){case"start":V=NE("calc(".concat(u,")"));break;case"middle":V=NE("calc(".concat((T.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:V=NE("calc(".concat(T.length-1," * -").concat(l,")"));break}var I=[];if(m){var F=T[0].width,K=A.width;I.push("scale(".concat(($e(K)?K/F:1)/F,")"))}return E&&I.push("rotate(".concat(E,", ").concat($,", ").concat(z,")")),I.length&&(M.transform=I.join(" ")),Z.createElement("text",R4({},at(M,!0),{x:$,y:z,className:Ct("recharts-text",O),textAnchor:g,fill:N.includes("url")?pH:N}),T.map(function(R,B){var L=R.words.join(_?"":" ");return Z.createElement("tspan",{x:$,dy:B===0?V:l,key:"".concat(L,"-").concat(B)},L)}))};function Vc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function D$e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function t3(e){let t,n,r;e.length!==2?(t=Vc,n=(l,c)=>Vc(e(l),c),r=(l,c)=>e(l)-c):(t=e===Vc||e===D$e?e:I$e,n=e,r=e);function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const m=u+f>>>1;n(l[m],c)<0?u=m+1:f=m}while(u<f)}return u}function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const m=u+f>>>1;n(l[m],c)<=0?u=m+1:f=m}while(u<f)}return u}function o(l,c,u=0,f=l.length){const m=a(l,c,u,f-1);return m>u&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:a,center:o,right:i}}function I$e(){return 0}function Ose(e){return e===null?NaN:+e}function*L$e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const $$e=t3(Vc),wy=$$e.right;t3(Ose).center;class xH extends Map{constructor(t,n=z$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(gH(this,t))}has(t){return super.has(gH(this,t))}set(t,n){return super.set(F$e(this,t),n)}delete(t){return super.delete(B$e(this,t))}}function gH({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function F$e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function B$e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function z$e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function q$e(e=Vc){if(e===Vc)return Pse;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Pse(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const U$e=Math.sqrt(50),V$e=Math.sqrt(10),H$e=Math.sqrt(2);function Gj(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=U$e?10:i>=V$e?5:i>=H$e?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?Gj(e,t,n*2):[l,c,u]}function D4(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?Gj(t,e,n):Gj(e,t,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function I4(e,t,n){return t=+t,e=+e,n=+n,Gj(e,t,n)[2]}function L4(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?I4(t,e,n):I4(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function yH(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function vH(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Mse(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?Pse:q$e(a);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,f=Math.log(c),m=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*m*(c-m)/c)*(u-c/2<0?-1:1),g=Math.max(n,Math.floor(t-u*m/c+p)),v=Math.min(r,Math.floor(t+(c-u)*m/c+p));Mse(e,t,g,v,a)}const i=e[t];let o=n,l=r;for(Bp(e,n,t),a(e[r],i)>0&&Bp(e,n,r);o<l;){for(Bp(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?Bp(e,n,l):(++l,Bp(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Bp(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function K$e(e,t,n){if(e=Float64Array.from(L$e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return vH(e);if(t>=1)return yH(e);var r,a=(r-1)*t,i=Math.floor(a),o=yH(Mse(e,i).subarray(0,i+1)),l=vH(e.subarray(i+1));return o+(l-o)*(a-i)}}function W$e(e,t,n=Ose){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function G$e(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Ci(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Yl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $4=Symbol("implicit");function n3(){var e=new xH,t=[],n=[],r=$4;function a(i){let o=e.get(i);if(o===void 0){if(r!==$4)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new xH;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return n3(t,n).unknown(r)},Ci.apply(a,arguments),a}function yg(){var e=n3().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function m(){var p=t().length,g=a<r,v=g?a:r,y=g?r:a;i=(y-v)/Math.max(1,p-c+u*2),l&&(i=Math.floor(i)),v+=(y-v-i*(p-c))*f,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var w=G$e(p).map(function(N){return v+i*N});return n(g?w.reverse():w)}return e.domain=function(p){return arguments.length?(t(p),m()):t()},e.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,m()):[r,a]},e.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,m()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),m()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),m()):c},e.paddingOuter=function(p){return arguments.length?(u=+p,m()):u},e.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),m()):f},e.copy=function(){return yg(t(),[r,a]).round(l).paddingInner(c).paddingOuter(u).align(f)},Ci.apply(m(),arguments)}function _se(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return _se(t())},e}function _x(){return _se(yg.apply(null,arguments).paddingInner(1))}function r3(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Rse(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ny(){}var vg=.7,Yj=1/vg,ch="\\s*([+-]?\\d+)\\s*",bg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Po="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Y$e=/^#([0-9a-f]{3,8})$/,X$e=new RegExp(`^rgb\\(${ch},${ch},${ch}\\)$`),Q$e=new RegExp(`^rgb\\(${Po},${Po},${Po}\\)$`),J$e=new RegExp(`^rgba\\(${ch},${ch},${ch},${bg}\\)$`),Z$e=new RegExp(`^rgba\\(${Po},${Po},${Po},${bg}\\)$`),eFe=new RegExp(`^hsl\\(${bg},${Po},${Po}\\)$`),tFe=new RegExp(`^hsla\\(${bg},${Po},${Po},${bg}\\)$`),bH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};r3(Ny,jg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:jH,formatHex:jH,formatHex8:nFe,formatHsl:rFe,formatRgb:wH,toString:wH});function jH(){return this.rgb().formatHex()}function nFe(){return this.rgb().formatHex8()}function rFe(){return Dse(this).formatHsl()}function wH(){return this.rgb().formatRgb()}function jg(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Y$e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?NH(t):n===3?new ua(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_b(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_b(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=X$e.exec(e))?new ua(t[1],t[2],t[3],1):(t=Q$e.exec(e))?new ua(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=J$e.exec(e))?_b(t[1],t[2],t[3],t[4]):(t=Z$e.exec(e))?_b(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eFe.exec(e))?kH(t[1],t[2]/100,t[3]/100,1):(t=tFe.exec(e))?kH(t[1],t[2]/100,t[3]/100,t[4]):bH.hasOwnProperty(e)?NH(bH[e]):e==="transparent"?new ua(NaN,NaN,NaN,0):null}function NH(e){return new ua(e>>16&255,e>>8&255,e&255,1)}function _b(e,t,n,r){return r<=0&&(e=t=n=NaN),new ua(e,t,n,r)}function sFe(e){return e instanceof Ny||(e=jg(e)),e?(e=e.rgb(),new ua(e.r,e.g,e.b,e.opacity)):new ua}function F4(e,t,n,r){return arguments.length===1?sFe(e):new ua(e,t,n,r??1)}function ua(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}r3(ua,F4,Rse(Ny,{brighter(e){return e=e==null?Yj:Math.pow(Yj,e),new ua(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vg:Math.pow(vg,e),new ua(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ua(au(this.r),au(this.g),au(this.b),Xj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SH,formatHex:SH,formatHex8:aFe,formatRgb:CH,toString:CH}));function SH(){return`#${Gd(this.r)}${Gd(this.g)}${Gd(this.b)}`}function aFe(){return`#${Gd(this.r)}${Gd(this.g)}${Gd(this.b)}${Gd((isNaN(this.opacity)?1:this.opacity)*255)}`}function CH(){const e=Xj(this.opacity);return`${e===1?"rgb(":"rgba("}${au(this.r)}, ${au(this.g)}, ${au(this.b)}${e===1?")":`, ${e})`}`}function Xj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function au(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gd(e){return e=au(e),(e<16?"0":"")+e.toString(16)}function kH(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new qi(e,t,n,r)}function Dse(e){if(e instanceof qi)return new qi(e.h,e.s,e.l,e.opacity);if(e instanceof Ny||(e=jg(e)),!e)return new qi;if(e instanceof qi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new qi(o,l,c,e.opacity)}function iFe(e,t,n,r){return arguments.length===1?Dse(e):new qi(e,t,n,r??1)}function qi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}r3(qi,iFe,Rse(Ny,{brighter(e){return e=e==null?Yj:Math.pow(Yj,e),new qi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vg:Math.pow(vg,e),new qi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new ua(SE(e>=240?e-240:e+120,a,r),SE(e,a,r),SE(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new qi(TH(this.h),Rb(this.s),Rb(this.l),Xj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xj(this.opacity);return`${e===1?"hsl(":"hsla("}${TH(this.h)}, ${Rb(this.s)*100}%, ${Rb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function TH(e){return e=(e||0)%360,e<0?e+360:e}function Rb(e){return Math.max(0,Math.min(1,e||0))}function SE(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const s3=e=>()=>e;function oFe(e,t){return function(n){return e+n*t}}function lFe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function cFe(e){return(e=+e)==1?Ise:function(t,n){return n-t?lFe(t,n,e):s3(isNaN(t)?n:t)}}function Ise(e,t){var n=t-e;return n?oFe(e,n):s3(isNaN(e)?t:e)}const AH=(function e(t){var n=cFe(t);function r(a,i){var o=n((a=F4(a)).r,(i=F4(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),u=Ise(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=c(f),a.opacity=u(f),a+""}}return r.gamma=e,r})(1);function dFe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function uFe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fFe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=wm(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}function hFe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Qj(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function mFe(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=wm(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var B4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,CE=new RegExp(B4.source,"g");function pFe(e){return function(){return e}}function xFe(e){return function(t){return e(t)+""}}function gFe(e,t){var n=B4.lastIndex=CE.lastIndex=0,r,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=B4.exec(e))&&(a=CE.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Qj(r,a)})),n=CE.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?xFe(c[0].x):pFe(t):(t=c.length,function(u){for(var f=0,m;f<t;++f)l[(m=c[f]).i]=m.x(u);return l.join("")})}function wm(e,t){var n=typeof t,r;return t==null||n==="boolean"?s3(t):(n==="number"?Qj:n==="string"?(r=jg(t))?(t=r,AH):gFe:t instanceof jg?AH:t instanceof Date?hFe:uFe(t)?dFe:Array.isArray(t)?fFe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?mFe:Qj)(e,t)}function a3(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function yFe(e,t){t===void 0&&(t=e,e=wm);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function vFe(e){return function(){return e}}function Jj(e){return+e}var EH=[0,1];function Us(e){return e}function z4(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:vFe(isNaN(t)?NaN:.5)}function bFe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function jFe(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=z4(a,r),i=n(o,i)):(r=z4(r,a),i=n(i,o)),function(l){return i(r(l))}}function wFe(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=z4(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=wy(e,l,1,r)-1;return i[c](a[c](l))}}function Sy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function a1(){var e=EH,t=EH,n=wm,r,a,i,o=Us,l,c,u;function f(){var p=Math.min(e.length,t.length);return o!==Us&&(o=bFe(e[0],e[p-1])),l=p>2?wFe:jFe,c=u=null,m}function m(p){return p==null||isNaN(p=+p)?i:(c||(c=l(e.map(r),t,n)))(r(o(p)))}return m.invert=function(p){return o(a((u||(u=l(t,e.map(r),Qj)))(p)))},m.domain=function(p){return arguments.length?(e=Array.from(p,Jj),f()):e.slice()},m.range=function(p){return arguments.length?(t=Array.from(p),f()):t.slice()},m.rangeRound=function(p){return t=Array.from(p),n=a3,f()},m.clamp=function(p){return arguments.length?(o=p?!0:Us,f()):o!==Us},m.interpolate=function(p){return arguments.length?(n=p,f()):n},m.unknown=function(p){return arguments.length?(i=p,m):i},function(p,g){return r=p,a=g,f()}}function i3(){return a1()(Us,Us)}function NFe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zj(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ih(e){return e=Zj(Math.abs(e)),e?e[1]:NaN}function SFe(e,t){return function(n,r){for(var a=n.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function CFe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var kFe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wg(e){if(!(t=kFe.exec(e)))throw new Error("invalid format: "+e);var t;return new o3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}wg.prototype=o3.prototype;function o3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}o3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function TFe(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Lse;function AFe(e,t){var n=Zj(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(Lse=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Zj(e,Math.max(0,t+i-1))[0]}function OH(e,t){var n=Zj(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const PH={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:NFe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>OH(e*100,t),r:OH,s:AFe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function MH(e){return e}var _H=Array.prototype.map,RH=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function EFe(e){var t=e.grouping===void 0||e.thousands===void 0?MH:SFe(_H.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?MH:CFe(_H.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(m){m=wg(m);var p=m.fill,g=m.align,v=m.sign,y=m.symbol,w=m.zero,N=m.width,A=m.comma,T=m.precision,C=m.trim,S=m.type;S==="n"?(A=!0,S="g"):PH[S]||(T===void 0&&(T=12),C=!0,S="g"),(w||p==="0"&&g==="=")&&(w=!0,p="0",g="=");var E=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",O=y==="$"?r:/[%p]/.test(S)?o:"",_=PH[S],M=/[defgprs%]/.test(S);T=T===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function $(z){var V=E,I=O,F,K,R;if(S==="c")I=_(z)+I,z="";else{z=+z;var B=z<0||1/z<0;if(z=isNaN(z)?c:_(Math.abs(z),T),C&&(z=TFe(z)),B&&+z==0&&v!=="+"&&(B=!1),V=(B?v==="("?v:l:v==="-"||v==="("?"":v)+V,I=(S==="s"?RH[8+Lse/3]:"")+I+(B&&v==="("?")":""),M){for(F=-1,K=z.length;++F<K;)if(R=z.charCodeAt(F),48>R||R>57){I=(R===46?a+z.slice(F+1):z.slice(F))+I,z=z.slice(0,F);break}}}A&&!w&&(z=t(z,1/0));var L=V.length+z.length+I.length,q=L<N?new Array(N-L+1).join(p):"";switch(A&&w&&(z=t(q+z,q.length?N-I.length:1/0),q=""),g){case"<":z=V+z+I+q;break;case"=":z=V+q+z+I;break;case"^":z=q.slice(0,L=q.length>>1)+V+z+I+q.slice(L);break;default:z=q+V+z+I;break}return i(z)}return $.toString=function(){return m+""},$}function f(m,p){var g=u((m=wg(m),m.type="f",m)),v=Math.max(-8,Math.min(8,Math.floor(Ih(p)/3)))*3,y=Math.pow(10,-v),w=RH[8+v/3];return function(N){return g(y*N)+w}}return{format:u,formatPrefix:f}}var Db,l3,$se;OFe({thousands:",",grouping:[3],currency:["$",""]});function OFe(e){return Db=EFe(e),l3=Db.format,$se=Db.formatPrefix,Db}function PFe(e){return Math.max(0,-Ih(Math.abs(e)))}function MFe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ih(t)/3)))*3-Ih(Math.abs(e)))}function _Fe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ih(t)-Ih(e))+1}function Fse(e,t,n,r){var a=L4(e,t,n),i;switch(r=wg(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=MFe(a,o))&&(r.precision=i),$se(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=_Fe(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=PFe(a))&&(r.precision=i-(r.type==="%")*2);break}}return l3(r)}function cd(e){var t=e.domain;return e.ticks=function(n){var r=t();return D4(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return Fse(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],l=r[i],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);f-- >0;){if(u=I4(o,l,n),u===c)return r[a]=o,r[i]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function ew(){var e=i3();return e.copy=function(){return Sy(e,ew())},Ci.apply(e,arguments),cd(e)}function Bse(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Jj),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Bse(e).unknown(t)},e=arguments.length?Array.from(e,Jj):[0,1],cd(n)}function zse(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function DH(e){return Math.log(e)}function IH(e){return Math.exp(e)}function RFe(e){return-Math.log(-e)}function DFe(e){return-Math.exp(-e)}function IFe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function LFe(e){return e===10?IFe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $Fe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function LH(e){return(t,n)=>-e(-t,n)}function c3(e){const t=e(DH,IH),n=t.domain;let r=10,a,i;function o(){return a=$Fe(r),i=LFe(r),n()[0]<0?(a=LH(a),i=LH(i),e(RFe,DFe)):e(DH,IH),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],f=c[c.length-1];const m=f<u;m&&([u,f]=[f,u]);let p=a(u),g=a(f),v,y;const w=l==null?10:+l;let N=[];if(!(r%1)&&g-p<w){if(p=Math.floor(p),g=Math.ceil(g),u>0){for(;p<=g;++p)for(v=1;v<r;++v)if(y=p<0?v/i(-p):v*i(p),!(y<u)){if(y>f)break;N.push(y)}}else for(;p<=g;++p)for(v=r-1;v>=1;--v)if(y=p>0?v/i(-p):v*i(p),!(y<u)){if(y>f)break;N.push(y)}N.length*2<w&&(N=D4(u,f,w))}else N=D4(p,g,Math.min(g-p,w)).map(i);return m?N.reverse():N},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=wg(c)).precision==null&&(c.trim=!0),c=l3(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return f=>{let m=f/i(Math.round(a(f)));return m*r<r-.5&&(m*=r),m<=u?c(f):""}},t.nice=()=>n(zse(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function qse(){const e=c3(a1()).domain([1,10]);return e.copy=()=>Sy(e,qse()).base(e.base()),Ci.apply(e,arguments),e}function $H(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function FH(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function d3(e){var t=1,n=e($H(t),FH(t));return n.constant=function(r){return arguments.length?e($H(t=+r),FH(t)):t},cd(n)}function Use(){var e=d3(a1());return e.copy=function(){return Sy(e,Use()).constant(e.constant())},Ci.apply(e,arguments)}function BH(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function FFe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function BFe(e){return e<0?-e*e:e*e}function u3(e){var t=e(Us,Us),n=1;function r(){return n===1?e(Us,Us):n===.5?e(FFe,BFe):e(BH(n),BH(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},cd(t)}function f3(){var e=u3(a1());return e.copy=function(){return Sy(e,f3()).exponent(e.exponent())},Ci.apply(e,arguments),e}function zFe(){return f3.apply(null,arguments).exponent(.5)}function zH(e){return Math.sign(e)*e*e}function qFe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Vse(){var e=i3(),t=[0,1],n=!1,r;function a(i){var o=qFe(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(zH(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Jj)).map(zH)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Vse(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ci.apply(a,arguments),cd(a)}function Hse(){var e=[],t=[],n=[],r;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=W$e(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:t[wy(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Vc),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return Hse().domain(e).range(t).unknown(r)},Ci.apply(i,arguments)}function Kse(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[wy(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Kse().domain([e,t]).range(a).unknown(i)},Ci.apply(cd(o),arguments)}function Wse(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[wy(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Wse().domain(e).range(t).unknown(n)},Ci.apply(a,arguments)}const kE=new Date,TE=new Date;function Hr(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Hr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(kE.setTime(+i),TE.setTime(+o),e(kE),e(TE),Math.floor(n(kE,TE))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const tw=Hr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);tw.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Hr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):tw);tw.range;const Tl=1e3,xi=Tl*60,Al=xi*60,Fl=Al*24,h3=Fl*7,qH=Fl*30,AE=Fl*365,Yd=Hr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Tl)},(e,t)=>(t-e)/Tl,e=>e.getUTCSeconds());Yd.range;const m3=Hr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tl)},(e,t)=>{e.setTime(+e+t*xi)},(e,t)=>(t-e)/xi,e=>e.getMinutes());m3.range;const p3=Hr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xi)},(e,t)=>(t-e)/xi,e=>e.getUTCMinutes());p3.range;const x3=Hr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tl-e.getMinutes()*xi)},(e,t)=>{e.setTime(+e+t*Al)},(e,t)=>(t-e)/Al,e=>e.getHours());x3.range;const g3=Hr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Al)},(e,t)=>(t-e)/Al,e=>e.getUTCHours());g3.range;const Cy=Hr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xi)/Fl,e=>e.getDate()-1);Cy.range;const i1=Hr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fl,e=>e.getUTCDate()-1);i1.range;const Gse=Hr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fl,e=>Math.floor(e/Fl));Gse.range;function Bu(e){return Hr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*xi)/h3)}const o1=Bu(0),nw=Bu(1),UFe=Bu(2),VFe=Bu(3),Lh=Bu(4),HFe=Bu(5),KFe=Bu(6);o1.range;nw.range;UFe.range;VFe.range;Lh.range;HFe.range;KFe.range;function zu(e){return Hr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/h3)}const l1=zu(0),rw=zu(1),WFe=zu(2),GFe=zu(3),$h=zu(4),YFe=zu(5),XFe=zu(6);l1.range;rw.range;WFe.range;GFe.range;$h.range;YFe.range;XFe.range;const y3=Hr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());y3.range;const v3=Hr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());v3.range;const Bl=Hr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Bl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Bl.range;const zl=Hr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});zl.range;function Yse(e,t,n,r,a,i){const o=[[Yd,1,Tl],[Yd,5,5*Tl],[Yd,15,15*Tl],[Yd,30,30*Tl],[i,1,xi],[i,5,5*xi],[i,15,15*xi],[i,30,30*xi],[a,1,Al],[a,3,3*Al],[a,6,6*Al],[a,12,12*Al],[r,1,Fl],[r,2,2*Fl],[n,1,h3],[t,1,qH],[t,3,3*qH],[e,1,AE]];function l(u,f,m){const p=f<u;p&&([u,f]=[f,u]);const g=m&&typeof m.range=="function"?m:c(u,f,m),v=g?g.range(u,+f+1):[];return p?v.reverse():v}function c(u,f,m){const p=Math.abs(f-u)/m,g=t3(([,,w])=>w).right(o,p);if(g===o.length)return e.every(L4(u/AE,f/AE,m));if(g===0)return tw.every(Math.max(L4(u,f,m),1));const[v,y]=o[p/o[g-1][2]<o[g][2]/p?g-1:g];return v.every(y)}return[l,c]}const[QFe,JFe]=Yse(zl,v3,l1,Gse,g3,p3),[ZFe,e6e]=Yse(Bl,y3,o1,Cy,x3,m3);function EE(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function OE(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zp(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function t6e(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=qp(a),f=Up(a),m=qp(i),p=Up(i),g=qp(o),v=Up(o),y=qp(l),w=Up(l),N=qp(c),A=Up(c),T={a:B,A:L,b:q,B:se,c:null,d:GH,e:GH,f:S6e,g:R6e,G:I6e,H:j6e,I:w6e,j:N6e,L:Xse,m:C6e,M:k6e,p:H,q:Y,Q:QH,s:JH,S:T6e,u:A6e,U:E6e,V:O6e,w:P6e,W:M6e,x:null,X:null,y:_6e,Y:D6e,Z:L6e,"%":XH},C={a:G,A:X,b:ae,B:de,c:null,d:YH,e:YH,f:z6e,g:Q6e,G:Z6e,H:$6e,I:F6e,j:B6e,L:Jse,m:q6e,M:U6e,p:he,q:Fe,Q:QH,s:JH,S:V6e,u:H6e,U:K6e,V:W6e,w:G6e,W:Y6e,x:null,X:null,y:X6e,Y:J6e,Z:eBe,"%":XH},S={a:$,A:z,b:V,B:I,c:F,d:KH,e:KH,f:g6e,g:HH,G:VH,H:WH,I:WH,j:h6e,L:x6e,m:f6e,M:m6e,p:M,q:u6e,Q:v6e,s:b6e,S:p6e,u:i6e,U:o6e,V:l6e,w:a6e,W:c6e,x:K,X:R,y:HH,Y:VH,Z:d6e,"%":y6e};T.x=E(n,T),T.X=E(r,T),T.c=E(t,T),C.x=E(n,C),C.X=E(r,C),C.c=E(t,C);function E(ge,Ae){return function(_e){var ee=[],Le=-1,Ce=0,De=ge.length,We,nt,Et;for(_e instanceof Date||(_e=new Date(+_e));++Le<De;)ge.charCodeAt(Le)===37&&(ee.push(ge.slice(Ce,Le)),(nt=UH[We=ge.charAt(++Le)])!=null?We=ge.charAt(++Le):nt=We==="e"?" ":"0",(Et=Ae[We])&&(We=Et(_e,nt)),ee.push(We),Ce=Le+1);return ee.push(ge.slice(Ce,Le)),ee.join("")}}function O(ge,Ae){return function(_e){var ee=zp(1900,void 0,1),Le=_(ee,ge,_e+="",0),Ce,De;if(Le!=_e.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(Ae&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(Ce=OE(zp(ee.y,0,1)),De=Ce.getUTCDay(),Ce=De>4||De===0?rw.ceil(Ce):rw(Ce),Ce=i1.offset(Ce,(ee.V-1)*7),ee.y=Ce.getUTCFullYear(),ee.m=Ce.getUTCMonth(),ee.d=Ce.getUTCDate()+(ee.w+6)%7):(Ce=EE(zp(ee.y,0,1)),De=Ce.getDay(),Ce=De>4||De===0?nw.ceil(Ce):nw(Ce),Ce=Cy.offset(Ce,(ee.V-1)*7),ee.y=Ce.getFullYear(),ee.m=Ce.getMonth(),ee.d=Ce.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),De="Z"in ee?OE(zp(ee.y,0,1)).getUTCDay():EE(zp(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(De+5)%7:ee.w+ee.U*7-(De+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,OE(ee)):EE(ee)}}function _(ge,Ae,_e,ee){for(var Le=0,Ce=Ae.length,De=_e.length,We,nt;Le<Ce;){if(ee>=De)return-1;if(We=Ae.charCodeAt(Le++),We===37){if(We=Ae.charAt(Le++),nt=S[We in UH?Ae.charAt(Le++):We],!nt||(ee=nt(ge,_e,ee))<0)return-1}else if(We!=_e.charCodeAt(ee++))return-1}return ee}function M(ge,Ae,_e){var ee=u.exec(Ae.slice(_e));return ee?(ge.p=f.get(ee[0].toLowerCase()),_e+ee[0].length):-1}function $(ge,Ae,_e){var ee=g.exec(Ae.slice(_e));return ee?(ge.w=v.get(ee[0].toLowerCase()),_e+ee[0].length):-1}function z(ge,Ae,_e){var ee=m.exec(Ae.slice(_e));return ee?(ge.w=p.get(ee[0].toLowerCase()),_e+ee[0].length):-1}function V(ge,Ae,_e){var ee=N.exec(Ae.slice(_e));return ee?(ge.m=A.get(ee[0].toLowerCase()),_e+ee[0].length):-1}function I(ge,Ae,_e){var ee=y.exec(Ae.slice(_e));return ee?(ge.m=w.get(ee[0].toLowerCase()),_e+ee[0].length):-1}function F(ge,Ae,_e){return _(ge,t,Ae,_e)}function K(ge,Ae,_e){return _(ge,n,Ae,_e)}function R(ge,Ae,_e){return _(ge,r,Ae,_e)}function B(ge){return o[ge.getDay()]}function L(ge){return i[ge.getDay()]}function q(ge){return c[ge.getMonth()]}function se(ge){return l[ge.getMonth()]}function H(ge){return a[+(ge.getHours()>=12)]}function Y(ge){return 1+~~(ge.getMonth()/3)}function G(ge){return o[ge.getUTCDay()]}function X(ge){return i[ge.getUTCDay()]}function ae(ge){return c[ge.getUTCMonth()]}function de(ge){return l[ge.getUTCMonth()]}function he(ge){return a[+(ge.getUTCHours()>=12)]}function Fe(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var Ae=E(ge+="",T);return Ae.toString=function(){return ge},Ae},parse:function(ge){var Ae=O(ge+="",!1);return Ae.toString=function(){return ge},Ae},utcFormat:function(ge){var Ae=E(ge+="",C);return Ae.toString=function(){return ge},Ae},utcParse:function(ge){var Ae=O(ge+="",!0);return Ae.toString=function(){return ge},Ae}}}var UH={"-":"",_:" ",0:"0"},is=/^\s*\d+/,n6e=/^%/,r6e=/[\\^$*+?|[\]().{}]/g;function en(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function s6e(e){return e.replace(r6e,"\\$&")}function qp(e){return new RegExp("^(?:"+e.map(s6e).join("|")+")","i")}function Up(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function a6e(e,t,n){var r=is.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function i6e(e,t,n){var r=is.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function o6e(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function l6e(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function c6e(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function VH(e,t,n){var r=is.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function HH(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function d6e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function u6e(e,t,n){var r=is.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function f6e(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function KH(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function h6e(e,t,n){var r=is.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function WH(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function m6e(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function p6e(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function x6e(e,t,n){var r=is.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function g6e(e,t,n){var r=is.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function y6e(e,t,n){var r=n6e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function v6e(e,t,n){var r=is.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function b6e(e,t,n){var r=is.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function GH(e,t){return en(e.getDate(),t,2)}function j6e(e,t){return en(e.getHours(),t,2)}function w6e(e,t){return en(e.getHours()%12||12,t,2)}function N6e(e,t){return en(1+Cy.count(Bl(e),e),t,3)}function Xse(e,t){return en(e.getMilliseconds(),t,3)}function S6e(e,t){return Xse(e,t)+"000"}function C6e(e,t){return en(e.getMonth()+1,t,2)}function k6e(e,t){return en(e.getMinutes(),t,2)}function T6e(e,t){return en(e.getSeconds(),t,2)}function A6e(e){var t=e.getDay();return t===0?7:t}function E6e(e,t){return en(o1.count(Bl(e)-1,e),t,2)}function Qse(e){var t=e.getDay();return t>=4||t===0?Lh(e):Lh.ceil(e)}function O6e(e,t){return e=Qse(e),en(Lh.count(Bl(e),e)+(Bl(e).getDay()===4),t,2)}function P6e(e){return e.getDay()}function M6e(e,t){return en(nw.count(Bl(e)-1,e),t,2)}function _6e(e,t){return en(e.getFullYear()%100,t,2)}function R6e(e,t){return e=Qse(e),en(e.getFullYear()%100,t,2)}function D6e(e,t){return en(e.getFullYear()%1e4,t,4)}function I6e(e,t){var n=e.getDay();return e=n>=4||n===0?Lh(e):Lh.ceil(e),en(e.getFullYear()%1e4,t,4)}function L6e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+en(t/60|0,"0",2)+en(t%60,"0",2)}function YH(e,t){return en(e.getUTCDate(),t,2)}function $6e(e,t){return en(e.getUTCHours(),t,2)}function F6e(e,t){return en(e.getUTCHours()%12||12,t,2)}function B6e(e,t){return en(1+i1.count(zl(e),e),t,3)}function Jse(e,t){return en(e.getUTCMilliseconds(),t,3)}function z6e(e,t){return Jse(e,t)+"000"}function q6e(e,t){return en(e.getUTCMonth()+1,t,2)}function U6e(e,t){return en(e.getUTCMinutes(),t,2)}function V6e(e,t){return en(e.getUTCSeconds(),t,2)}function H6e(e){var t=e.getUTCDay();return t===0?7:t}function K6e(e,t){return en(l1.count(zl(e)-1,e),t,2)}function Zse(e){var t=e.getUTCDay();return t>=4||t===0?$h(e):$h.ceil(e)}function W6e(e,t){return e=Zse(e),en($h.count(zl(e),e)+(zl(e).getUTCDay()===4),t,2)}function G6e(e){return e.getUTCDay()}function Y6e(e,t){return en(rw.count(zl(e)-1,e),t,2)}function X6e(e,t){return en(e.getUTCFullYear()%100,t,2)}function Q6e(e,t){return e=Zse(e),en(e.getUTCFullYear()%100,t,2)}function J6e(e,t){return en(e.getUTCFullYear()%1e4,t,4)}function Z6e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?$h(e):$h.ceil(e),en(e.getUTCFullYear()%1e4,t,4)}function eBe(){return"+0000"}function XH(){return"%"}function QH(e){return+e}function JH(e){return Math.floor(+e/1e3)}var Rf,eae,tae;tBe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tBe(e){return Rf=t6e(e),eae=Rf.format,Rf.parse,tae=Rf.utcFormat,Rf.utcParse,Rf}function nBe(e){return new Date(e)}function rBe(e){return e instanceof Date?+e:+new Date(+e)}function b3(e,t,n,r,a,i,o,l,c,u){var f=i3(),m=f.invert,p=f.domain,g=u(".%L"),v=u(":%S"),y=u("%I:%M"),w=u("%I %p"),N=u("%a %d"),A=u("%b %d"),T=u("%B"),C=u("%Y");function S(E){return(c(E)<E?g:l(E)<E?v:o(E)<E?y:i(E)<E?w:r(E)<E?a(E)<E?N:A:n(E)<E?T:C)(E)}return f.invert=function(E){return new Date(m(E))},f.domain=function(E){return arguments.length?p(Array.from(E,rBe)):p().map(nBe)},f.ticks=function(E){var O=p();return e(O[0],O[O.length-1],E??10)},f.tickFormat=function(E,O){return O==null?S:u(O)},f.nice=function(E){var O=p();return(!E||typeof E.range!="function")&&(E=t(O[0],O[O.length-1],E??10)),E?p(zse(O,E)):f},f.copy=function(){return Sy(f,b3(e,t,n,r,a,i,o,l,c,u))},f}function sBe(){return Ci.apply(b3(ZFe,e6e,Bl,y3,o1,Cy,x3,m3,Yd,eae).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aBe(){return Ci.apply(b3(QFe,JFe,zl,v3,l1,i1,g3,p3,Yd,tae).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function c1(){var e=0,t=1,n,r,a,i,o=Us,l=!1,c;function u(m){return m==null||isNaN(m=+m)?c:o(a===0?.5:(m=(i(m)-n)*a,l?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([e,t]=m,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(m){return arguments.length?(l=!!m,u):l},u.interpolator=function(m){return arguments.length?(o=m,u):o};function f(m){return function(p){var g,v;return arguments.length?([g,v]=p,o=m(g,v),u):[o(0),o(1)]}}return u.range=f(wm),u.rangeRound=f(a3),u.unknown=function(m){return arguments.length?(c=m,u):c},function(m){return i=m,n=m(e),r=m(t),a=n===r?0:1/(r-n),u}}function dd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function nae(){var e=cd(c1()(Us));return e.copy=function(){return dd(e,nae())},Yl.apply(e,arguments)}function rae(){var e=c3(c1()).domain([1,10]);return e.copy=function(){return dd(e,rae()).base(e.base())},Yl.apply(e,arguments)}function sae(){var e=d3(c1());return e.copy=function(){return dd(e,sae()).constant(e.constant())},Yl.apply(e,arguments)}function j3(){var e=u3(c1());return e.copy=function(){return dd(e,j3()).exponent(e.exponent())},Yl.apply(e,arguments)}function iBe(){return j3.apply(null,arguments).exponent(.5)}function aae(){var e=[],t=Us;function n(r){if(r!=null&&!isNaN(r=+r))return t((wy(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Vc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>K$e(e,i/r))},n.copy=function(){return aae(t).domain(e)},Yl.apply(n,arguments)}function d1(){var e=0,t=.5,n=1,r=1,a,i,o,l,c,u=Us,f,m=!1,p;function g(y){return isNaN(y=+y)?p:(y=.5+((y=+f(y))-i)*(r*y<r*i?l:c),u(m?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([e,t,n]=y,a=f(e=+e),i=f(t=+t),o=f(n=+n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,g):[e,t,n]},g.clamp=function(y){return arguments.length?(m=!!y,g):m},g.interpolator=function(y){return arguments.length?(u=y,g):u};function v(y){return function(w){var N,A,T;return arguments.length?([N,A,T]=w,u=yFe(y,[N,A,T]),g):[u(0),u(.5),u(1)]}}return g.range=v(wm),g.rangeRound=v(a3),g.unknown=function(y){return arguments.length?(p=y,g):p},function(y){return f=y,a=y(e),i=y(t),o=y(n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,g}}function iae(){var e=cd(d1()(Us));return e.copy=function(){return dd(e,iae())},Yl.apply(e,arguments)}function oae(){var e=c3(d1()).domain([.1,1,10]);return e.copy=function(){return dd(e,oae()).base(e.base())},Yl.apply(e,arguments)}function lae(){var e=d3(d1());return e.copy=function(){return dd(e,lae()).constant(e.constant())},Yl.apply(e,arguments)}function w3(){var e=u3(d1());return e.copy=function(){return dd(e,w3()).exponent(e.exponent())},Yl.apply(e,arguments)}function oBe(){return w3.apply(null,arguments).exponent(.5)}const ZH=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yg,scaleDiverging:iae,scaleDivergingLog:oae,scaleDivergingPow:w3,scaleDivergingSqrt:oBe,scaleDivergingSymlog:lae,scaleIdentity:Bse,scaleImplicit:$4,scaleLinear:ew,scaleLog:qse,scaleOrdinal:n3,scalePoint:_x,scalePow:f3,scaleQuantile:Hse,scaleQuantize:Kse,scaleRadial:Vse,scaleSequential:nae,scaleSequentialLog:rae,scaleSequentialPow:j3,scaleSequentialQuantile:aae,scaleSequentialSqrt:iBe,scaleSequentialSymlog:sae,scaleSqrt:zFe,scaleSymlog:Use,scaleThreshold:Wse,scaleTime:sBe,scaleUtc:aBe,tickFormat:Fse},Symbol.toStringTag,{value:"Module"}));var PE,e9;function u1(){if(e9)return PE;e9=1;var e=ym();function t(n,r,a){for(var i=-1,o=n.length;++i<o;){var l=n[i],c=r(l);if(c!=null&&(u===void 0?c===c&&!e(c):a(c,u)))var u=c,f=l}return f}return PE=t,PE}var ME,t9;function cae(){if(t9)return ME;t9=1;function e(t,n){return t>n}return ME=e,ME}var _E,n9;function lBe(){if(n9)return _E;n9=1;var e=u1(),t=cae(),n=jm();function r(a){return a&&a.length?e(a,n,t):void 0}return _E=r,_E}var cBe=lBe();const f1=on(cBe);var RE,r9;function dae(){if(r9)return RE;r9=1;function e(t,n){return t<n}return RE=e,RE}var DE,s9;function dBe(){if(s9)return DE;s9=1;var e=u1(),t=dae(),n=jm();function r(a){return a&&a.length?e(a,n,t):void 0}return DE=r,DE}var uBe=dBe();const h1=on(uBe);var IE,a9;function fBe(){if(a9)return IE;a9=1;var e=$5(),t=Ho(),n=yse(),r=xa();function a(i,o){var l=r(i)?e:n;return l(i,t(o,3))}return IE=a,IE}var LE,i9;function hBe(){if(i9)return LE;i9=1;var e=xse(),t=fBe();function n(r,a){return e(t(r,a),1)}return LE=n,LE}var mBe=hBe();const pBe=on(mBe);var $E,o9;function xBe(){if(o9)return $E;o9=1;var e=Q5();function t(n,r){return e(n,r)}return $E=t,$E}var gBe=xBe();const ky=on(gBe);var Nm=1e9,yBe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},S3,Wn=!0,Ni="[DecimalError] ",iu=Ni+"Invalid argument: ",N3=Ni+"Exponent out of range: ",Sm=Math.floor,Ld=Math.pow,vBe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_a,Gr=1e7,$n=7,uae=9007199254740991,sw=Sm(uae/$n),Ue={};Ue.absoluteValue=Ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ue.comparedTo=Ue.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*$n;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ue.dividedBy=Ue.div=function(e){return Rl(this,new this.constructor(e))};Ue.dividedToIntegerBy=Ue.idiv=function(e){var t=this,n=t.constructor;return kn(Rl(t,new n(e),0,1),n.precision)};Ue.equals=Ue.eq=function(e){return!this.cmp(e)};Ue.exponent=function(){return Pr(this)};Ue.greaterThan=Ue.gt=function(e){return this.cmp(e)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(e){return this.cmp(e)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(e){return this.cmp(e)<0};Ue.lessThanOrEqualTo=Ue.lte=function(e){return this.cmp(e)<1};Ue.logarithm=Ue.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(_a))throw Error(Ni+"NaN");if(n.s<1)throw Error(Ni+(n.s?"NaN":"-Infinity"));return n.eq(_a)?new r(0):(Wn=!1,t=Rl(Ng(n,i),Ng(e,i),i),Wn=!0,kn(t,a))};Ue.minus=Ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mae(t,e):fae(t,(e.s=-e.s,e))};Ue.modulo=Ue.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(Ni+"NaN");return n.s?(Wn=!1,t=Rl(n,e,0,1).times(e),Wn=!0,n.minus(t)):kn(new r(n),a)};Ue.naturalExponential=Ue.exp=function(){return hae(this)};Ue.naturalLogarithm=Ue.ln=function(){return Ng(this)};Ue.negated=Ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ue.plus=Ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fae(t,e):mae(t,(e.s=-e.s,e))};Ue.precision=Ue.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(iu+e);if(t=Pr(a)+1,r=a.d.length-1,n=r*$n+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ue.squareRoot=Ue.sqrt=function(){var e,t,n,r,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ni+"NaN")}for(e=Pr(l),Wn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=ko(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Sm((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=r,r=i.plus(Rl(l,i,o+2)).times(.5),ko(i.d).slice(0,o)===(t=ko(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(kn(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(t!="9999")break;o+=4}return Wn=!0,kn(r,n)};Ue.times=Ue.mul=function(e){var t,n,r,a,i,o,l,c,u,f=this,m=f.constructor,p=f.d,g=(e=new m(e)).d;if(!f.s||!e.s)return new m(0);for(e.s*=f.s,n=f.e+e.e,c=p.length,u=g.length,c<u&&(i=p,p=g,g=i,o=c,c=u,u=o),i=[],o=c+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+g[r]*p[a-r-1]+t,i[a--]=l%Gr|0,t=l/Gr|0;i[a]=(i[a]+t)%Gr|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,Wn?kn(e,m.precision):e};Ue.toDecimalPlaces=Ue.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Bo(e,0,Nm),t===void 0?t=r.rounding:Bo(t,0,8),kn(n,e+Pr(n)+1,t))};Ue.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Cu(r,!0):(Bo(e,0,Nm),t===void 0?t=a.rounding:Bo(t,0,8),r=kn(new a(r),e+1,t),n=Cu(r,!0,e+1)),n};Ue.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?Cu(a):(Bo(e,0,Nm),t===void 0?t=i.rounding:Bo(t,0,8),r=kn(new i(a),e+Pr(a)+1,t),n=Cu(r.abs(),!1,e+Pr(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Ue.toInteger=Ue.toint=function(){var e=this,t=e.constructor;return kn(new t(e),Pr(e)+1,t.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(e){var t,n,r,a,i,o,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(_a);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ni+"Infinity");return l}if(l.eq(_a))return l;if(r=c.precision,e.eq(_a))return kn(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=f<0?-f:f)<=uae){for(a=new c(_a),t=Math.ceil(r/$n+4),Wn=!1;n%2&&(a=a.times(l),c9(a.d,t)),n=Sm(n/2),n!==0;)l=l.times(l),c9(l.d,t);return Wn=!0,e.s<0?new c(_a).div(a):kn(a,r)}}else if(i<0)throw Error(Ni+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Wn=!1,a=e.times(Ng(l,r+u)),Wn=!0,a=hae(a),a.s=i,a};Ue.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Pr(a),r=Cu(a,n<=i.toExpNeg||n>=i.toExpPos)):(Bo(e,1,Nm),t===void 0?t=i.rounding:Bo(t,0,8),a=kn(new i(a),e,t),n=Pr(a),r=Cu(a,e<=n||n<=i.toExpNeg,e)),r};Ue.toSignificantDigits=Ue.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Bo(e,1,Nm),t===void 0?t=r.rounding:Bo(t,0,8)),kn(new r(n),e,t)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pr(e),n=e.constructor;return Cu(e,t<=n.toExpNeg||t>=n.toExpPos)};function fae(e,t){var n,r,a,i,o,l,c,u,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Wn?kn(t,m):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=o,l=c.length),o=Math.ceil(m/$n),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/Gr|0,c[i]%=Gr;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Wn?kn(t,m):t}function Bo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(iu+e)}function ko(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=$n-r.length,n&&(i+=Oc(n)),i+=r;o=e[t],r=o+"",n=$n-r.length,n&&(i+=Oc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Rl=(function(){function e(r,a){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*a+o,r[l]=i%Gr|0,o=i/Gr|0;return o&&r.unshift(o),r}function t(r,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=a[l]){c=r[l]>a[l]?1:-1;break}return c}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*Gr+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var l,c,u,f,m,p,g,v,y,w,N,A,T,C,S,E,O,_,M=r.constructor,$=r.s==a.s?1:-1,z=r.d,V=a.d;if(!r.s)return new M(r);if(!a.s)throw Error(Ni+"Division by zero");for(c=r.e-a.e,O=V.length,S=z.length,g=new M($),v=g.d=[],u=0;V[u]==(z[u]||0);)++u;if(V[u]>(z[u]||0)&&--c,i==null?A=i=M.precision:o?A=i+(Pr(r)-Pr(a))+1:A=i,A<0)return new M(0);if(A=A/$n+2|0,u=0,O==1)for(f=0,V=V[0],A++;(u<S||f)&&A--;u++)T=f*Gr+(z[u]||0),v[u]=T/V|0,f=T%V|0;else{for(f=Gr/(V[0]+1)|0,f>1&&(V=e(V,f),z=e(z,f),O=V.length,S=z.length),C=O,y=z.slice(0,O),w=y.length;w<O;)y[w++]=0;_=V.slice(),_.unshift(0),E=V[0],V[1]>=Gr/2&&++E;do f=0,l=t(V,y,O,w),l<0?(N=y[0],O!=w&&(N=N*Gr+(y[1]||0)),f=N/E|0,f>1?(f>=Gr&&(f=Gr-1),m=e(V,f),p=m.length,w=y.length,l=t(m,y,p,w),l==1&&(f--,n(m,O<p?_:V,p))):(f==0&&(l=f=1),m=V.slice()),p=m.length,p<w&&m.unshift(0),n(y,m,w),l==-1&&(w=y.length,l=t(V,y,O,w),l<1&&(f++,n(y,O<w?_:V,w))),w=y.length):l===0&&(f++,y=[0]),v[u++]=f,l&&y[0]?y[w++]=z[C]||0:(y=[z[C]],w=1);while((C++<S||y[0]!==void 0)&&A--)}return v[0]||v.shift(),g.e=c,kn(g,o?i+Pr(g)+1:i)}})();function hae(e,t){var n,r,a,i,o,l,c=0,u=0,f=e.constructor,m=f.precision;if(Pr(e)>16)throw Error(N3+Pr(e));if(!e.s)return new f(_a);for(Wn=!1,l=m,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(Ld(2,u))/Math.LN10*2+5|0,l+=r,n=a=i=new f(_a),f.precision=l;;){if(a=kn(a.times(e),l),n=n.times(++c),o=i.plus(Rl(a,n,l)),ko(o.d).slice(0,l)===ko(i.d).slice(0,l)){for(;u--;)i=kn(i.times(i),l);return f.precision=m,t==null?(Wn=!0,kn(i,m)):i}i=o}}function Pr(e){for(var t=e.e*$n,n=e.d[0];n>=10;n/=10)t++;return t}function FE(e,t,n){if(t>e.LN10.sd())throw Wn=!0,n&&(e.precision=n),Error(Ni+"LN10 precision limit exceeded");return kn(new e(e.LN10),t)}function Oc(e){for(var t="";e--;)t+="0";return t}function Ng(e,t){var n,r,a,i,o,l,c,u,f,m=1,p=10,g=e,v=g.d,y=g.constructor,w=y.precision;if(g.s<1)throw Error(Ni+(g.s?"NaN":"-Infinity"));if(g.eq(_a))return new y(0);if(t==null?(Wn=!1,u=w):u=t,g.eq(10))return t==null&&(Wn=!0),FE(y,u);if(u+=p,y.precision=u,n=ko(v),r=n.charAt(0),i=Pr(g),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(e),n=ko(g.d),r=n.charAt(0),m++;i=Pr(g),r>1?(g=new y("0."+n),i++):g=new y(r+"."+n.slice(1))}else return c=FE(y,u+2,w).times(i+""),g=Ng(new y(r+"."+n.slice(1)),u-p).plus(c),y.precision=w,t==null?(Wn=!0,kn(g,w)):g;for(l=o=g=Rl(g.minus(_a),g.plus(_a),u),f=kn(g.times(g),u),a=3;;){if(o=kn(o.times(f),u),c=l.plus(Rl(o,new y(a),u)),ko(c.d).slice(0,u)===ko(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(FE(y,u+2,w).times(i+""))),l=Rl(l,new y(m),u),y.precision=w,t==null?(Wn=!0,kn(l,w)):l;l=c,a+=2}}function l9(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Sm(n/$n),e.d=[],r=(n+1)%$n,n<0&&(r+=$n),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=$n;r<a;)e.d.push(+t.slice(r,r+=$n));t=t.slice(r),r=$n-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),Wn&&(e.e>sw||e.e<-sw))throw Error(N3+n)}else e.s=0,e.e=0,e.d=[0];return e}function kn(e,t,n){var r,a,i,o,l,c,u,f,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=$n,a=t,u=m[f=0];else{if(f=Math.ceil((r+1)/$n),i=m.length,f>=i)return e;for(u=i=m[f],o=1;i>=10;i/=10)o++;r%=$n,a=r-$n+o}if(n!==void 0&&(i=Ld(10,o-a-1),l=u/i%10|0,c=t<0||m[f+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?a>0?u/Ld(10,o-a):0:m[f-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return c?(i=Pr(e),m.length=1,t=t-i-1,m[0]=Ld(10,($n-t%$n)%$n),e.e=Sm(-t/$n)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=f,i=1,f--):(m.length=f+1,i=Ld(10,$n-r),m[f]=a>0?(u/Ld(10,o-a)%Ld(10,a)|0)*i:0),c)for(;;)if(f==0){(m[0]+=i)==Gr&&(m[0]=1,++e.e);break}else{if(m[f]+=i,m[f]!=Gr)break;m[f--]=0,i=1}for(r=m.length;m[--r]===0;)m.pop();if(Wn&&(e.e>sw||e.e<-sw))throw Error(N3+Pr(e));return e}function mae(e,t){var n,r,a,i,o,l,c,u,f,m,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Wn?kn(t,g):t;if(c=e.d,m=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(f=o<0,f?(n=c,o=-o,l=m.length):(n=m,r=u,l=c.length),a=Math.max(Math.ceil(g/$n),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=m.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(c[a]!=m[a]){f=c[a]<m[a];break}o=0}for(f&&(n=c,c=m,m=n,t.s=-t.s),l=c.length,a=m.length-l;a>0;--a)c[l++]=0;for(a=m.length;a>o;){if(c[--a]<m[a]){for(i=a;i&&c[--i]===0;)c[i]=Gr-1;--c[i],c[a]+=Gr}c[a]-=m[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Wn?kn(t,g):t):new p(0)}function Cu(e,t,n){var r,a=Pr(e),i=ko(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Oc(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Oc(-a-1)+i,n&&(r=n-o)>0&&(i+=Oc(r))):a>=o?(i+=Oc(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+Oc(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=Oc(r))),e.s<0?"-"+i:i}function c9(e,t){if(e.length>t)return e.length=t,!0}function pae(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(iu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return l9(o,i.toString())}else if(typeof i!="string")throw Error(iu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,vBe.test(i))l9(o,i);else throw Error(iu+i)}if(a.prototype=Ue,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=pae,a.config=a.set=bBe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function bBe(e){if(!e||typeof e!="object")throw Error(Ni+"Object expected");var t,n,r,a=["precision",1,Nm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Sm(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(iu+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(iu+n+": "+r);return this}var S3=pae(yBe);_a=new S3(1);const bn=S3;function jBe(e){return CBe(e)||SBe(e)||NBe(e)||wBe()}function wBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NBe(e,t){if(e){if(typeof e=="string")return q4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q4(e,t)}}function SBe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function CBe(e){if(Array.isArray(e))return q4(e)}function q4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kBe=function(t){return t},xae={},gae=function(t){return t===xae},d9=function(t){return function n(){return arguments.length===0||arguments.length===1&&gae(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},TBe=function e(t,n){return t===1?n:d9(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==xae}).length;return o>=t?n.apply(void 0,a):e(t-o,d9(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=a.map(function(m){return gae(m)?c.shift():m});return n.apply(void 0,jBe(f).concat(c))}))})},m1=function(t){return TBe(t.length,t)},U4=function(t,n){for(var r=[],a=t;a<n;++a)r[a-t]=a;return r},ABe=m1(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),EBe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return kBe;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},V4=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},yae=function(t){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,r=t.apply(void 0,i)),r}};function OBe(e){var t;return e===0?t=1:t=Math.floor(new bn(e).abs().log(10).toNumber())+1,t}function PBe(e,t,n){for(var r=new bn(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var MBe=m1(function(e,t,n){var r=+e,a=+t;return r+n*(a-r)}),_Be=m1(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),RBe=m1(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const p1={rangeStep:PBe,getDigitCount:OBe,interpolateNumber:MBe,uninterpolateNumber:_Be,uninterpolateTruncation:RBe};function H4(e){return LBe(e)||IBe(e)||vae(e)||DBe()}function DBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IBe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function LBe(e){if(Array.isArray(e))return K4(e)}function Sg(e,t){return BBe(e)||FBe(e,t)||vae(e,t)||$Be()}function $Be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vae(e,t){if(e){if(typeof e=="string")return K4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K4(e,t)}}function K4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FBe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function BBe(e){if(Array.isArray(e))return e}function bae(e){var t=Sg(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function jae(e,t,n){if(e.lte(0))return new bn(0);var r=p1.getDigitCount(e.toNumber()),a=new bn(10).pow(r),i=e.div(a),o=r!==1?.05:.1,l=new bn(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return t?c:new bn(Math.ceil(c))}function zBe(e,t,n){var r=1,a=new bn(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new bn(10).pow(p1.getDigitCount(e)-1),a=new bn(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new bn(Math.floor(e)))}else e===0?a=new bn(Math.floor((t-1)/2)):n||(a=new bn(Math.floor(e)));var o=Math.floor((t-1)/2),l=EBe(ABe(function(c){return a.add(new bn(c-o).mul(r)).toNumber()}),U4);return l(0,t)}function wae(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new bn(0),tickMin:new bn(0),tickMax:new bn(0)};var i=jae(new bn(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new bn(0):(o=new bn(e).add(t).div(2),o=o.sub(new bn(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new bn(t).sub(o).div(i).toNumber()),u=l+c+1;return u>n?wae(e,t,n,r,a+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:i,tickMin:o.sub(new bn(l).mul(i)),tickMax:o.add(new bn(c).mul(i))})}function qBe(e){var t=Sg(e,2),n=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=bae([n,r]),c=Sg(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var m=f===1/0?[u].concat(H4(U4(0,a-1).map(function(){return 1/0}))):[].concat(H4(U4(0,a-1).map(function(){return-1/0})),[f]);return n>r?V4(m):m}if(u===f)return zBe(u,a,i);var p=wae(u,f,o,i),g=p.step,v=p.tickMin,y=p.tickMax,w=p1.rangeStep(v,y.add(new bn(.1).mul(g)),g);return n>r?V4(w):w}function UBe(e,t){var n=Sg(e,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=bae([r,a]),l=Sg(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,a];if(c===u)return[c];var f=Math.max(t,2),m=jae(new bn(u).sub(c).div(f-1),i,0),p=[].concat(H4(p1.rangeStep(new bn(c),new bn(u).sub(new bn(.99).mul(m)),m)),[u]);return r>a?V4(p):p}var VBe=yae(qBe),HBe=yae(UBe),KBe="Invariant failed";function ku(e,t){throw new Error(KBe)}var WBe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Fh(e){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(e)}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aw.apply(this,arguments)}function GBe(e,t){return JBe(e)||QBe(e,t)||XBe(e,t)||YBe()}function YBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XBe(e,t){if(e){if(typeof e=="string")return u9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u9(e,t)}}function u9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QBe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function JBe(e){if(Array.isArray(e))return e}function ZBe(e,t){if(e==null)return{};var n=eze(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eze(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cae(r.key),r)}}function rze(e,t,n){return t&&nze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sze(e,t,n){return t=iw(t),aze(e,Nae()?Reflect.construct(t,n||[],iw(e).constructor):t.apply(e,n))}function aze(e,t){if(t&&(Fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ize(e)}function ize(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nae=function(){return!!e})()}function iw(e){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iw(e)}function oze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W4(e,t)}function W4(e,t){return W4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},W4(e,t)}function Sae(e,t,n){return t=Cae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cae(e){var t=lze(e,"string");return Fh(t)=="symbol"?t:t+""}function lze(e,t){if(Fh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ty=(function(e){function t(){return tze(this,t),sze(this,t,arguments)}return oze(t,e),rze(t,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,f=r.xAxis,m=r.yAxis,p=ZBe(r,WBe),g=at(p,!1);this.props.direction==="x"&&f.type!=="number"&&ku();var v=c.map(function(y){var w=u(y,l),N=w.x,A=w.y,T=w.value,C=w.errorVal;if(!C)return null;var S=[],E,O;if(Array.isArray(C)){var _=GBe(C,2);E=_[0],O=_[1]}else E=O=C;if(i==="vertical"){var M=f.scale,$=A+a,z=$+o,V=$-o,I=M(T-E),F=M(T+O);S.push({x1:F,y1:z,x2:F,y2:V}),S.push({x1:I,y1:$,x2:F,y2:$}),S.push({x1:I,y1:z,x2:I,y2:V})}else if(i==="horizontal"){var K=m.scale,R=N+a,B=R-o,L=R+o,q=K(T-E),se=K(T+O);S.push({x1:B,y1:se,x2:L,y2:se}),S.push({x1:R,y1:q,x2:R,y2:se}),S.push({x1:B,y1:q,x2:L,y2:q})}return Z.createElement(Jt,aw({className:"recharts-errorBar",key:"bar-".concat(S.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},g),S.map(function(H){return Z.createElement("line",aw({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return Z.createElement(Jt,{className:"recharts-errorBars"},v)}}])})(Z.Component);Sae(Ty,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Sae(Ty,"displayName","ErrorBar");function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}function f9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f9(Object(n),!0).forEach(function(r){cze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cze(e,t,n){return t=dze(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dze(e){var t=uze(e,"string");return Cg(t)=="symbol"?t:t+""}function uze(e,t){if(Cg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kae=function(t){var n=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Ta(n,su);if(!o)return null;var l=su.defaultProps,c=l!==void 0?Pd(Pd({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(r||[]).reduce(function(f,m){var p=m.item,g=m.props,v=g.sectors||g.data||[];return f.concat(v.map(function(y){return{type:o.props.iconType||p.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(f){var m=f.item,p=m.type.defaultProps,g=p!==void 0?Pd(Pd({},p),m.props):{},v=g.dataKey,y=g.name,w=g.legendType,N=g.hide;return{inactive:N,dataKey:v,type:c.iconType||w||"square",color:C3(m),value:y||v,payload:g}}),Pd(Pd(Pd({},c),su.getWithHeight(o,a)),{},{payload:u,item:o})};function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function h9(e){return pze(e)||mze(e)||hze(e)||fze()}function fze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hze(e,t){if(e){if(typeof e=="string")return G4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G4(e,t)}}function mze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pze(e){if(Array.isArray(e))return G4(e)}function G4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m9(Object(n),!0).forEach(function(r){dh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dh(e,t,n){return t=xze(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xze(e){var t=gze(e,"string");return kg(t)=="symbol"?t:t+""}function gze(e,t){if(kg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zr(e,t,n){return Nt(e)||Nt(t)?n:Ur(t)?Ba(e,t,n):vt(t)?t(e):n}function Rx(e,t,n,r){var a=pBe(e,function(l){return zr(l,t)});if(n==="number"){var i=a.filter(function(l){return $e(l)||parseFloat(l)});return i.length?[h1(i),f1(i)]:[1/0,-1/0]}var o=r?a.filter(function(l){return!Nt(l)}):a;return o.map(function(l){return Ur(l)||l instanceof Date?l:""})}var yze=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r?.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var f=u>0?a[u-1].coordinate:a[l-1].coordinate,m=a[u].coordinate,p=u>=l-1?a[0].coordinate:a[u+1].coordinate,g=void 0;if(zs(m-f)!==zs(p-m)){var v=[];if(zs(p-m)===zs(c[1]-c[0])){g=p;var y=m+c[1]-c[0];v[0]=Math.min(y,(y+f)/2),v[1]=Math.max(y,(y+f)/2)}else{g=f;var w=p+c[1]-c[0];v[0]=Math.min(m,(w+m)/2),v[1]=Math.max(m,(w+m)/2)}var N=[Math.min(m,(g+m)/2),Math.max(m,(g+m)/2)];if(t>N[0]&&t<=N[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var A=Math.min(f,p),T=Math.max(f,p);if(t>(A+m)/2&&t<=(T+m)/2){o=a[u].index;break}}}else for(var C=0;C<l;C++)if(C===0&&t<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<l-1&&t>(r[C].coordinate+r[C-1].coordinate)/2&&t<=(r[C].coordinate+r[C+1].coordinate)/2||C===l-1&&t>(r[C].coordinate+r[C-1].coordinate)/2){o=r[C].index;break}return o},C3=function(t){var n,r=t,a=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},vze=function(t){var n=t.barSize,r=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var f=i[l[c]].stackGroups,m=Object.keys(f),p=0,g=m.length;p<g;p++){var v=f[m[p]],y=v.items,w=v.cateAxisId,N=y.filter(function(O){return _l(O.type).indexOf("Bar")>=0});if(N&&N.length){var A=N[0].type.defaultProps,T=A!==void 0?lr(lr({},A),N[0].props):N[0].props,C=T.barSize,S=T[w];o[S]||(o[S]=[]);var E=Nt(C)?n:C;o[S].push({item:N[0],stackList:N.slice(1),barSize:Nt(E)?void 0:qs(E,r,0)})}}return o},bze=function(t){var n=t.barGap,r=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=qs(n,a,0,!0),f,m=[];if(o[0].barSize===+o[0].barSize){var p=!1,g=a/c,v=o.reduce(function(C,S){return C+S.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&g>0&&(p=!0,g*=.9,v=c*g);var y=(a-v)/2>>0,w={offset:y-u,size:0};f=o.reduce(function(C,S){var E={item:S.item,position:{offset:w.offset+w.size+u,size:p?g:S.barSize}},O=[].concat(h9(C),[E]);return w=O[O.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(_){O.push({item:_,position:w})}),O},m)}else{var N=qs(r,a,0,!0);a-2*N-(c-1)*u<=0&&(u=0);var A=(a-2*N-(c-1)*u)/c;A>1&&(A>>=0);var T=l===+l?Math.min(A,l):A;f=o.reduce(function(C,S,E){var O=[].concat(h9(C),[{item:S.item,position:{offset:N+(A+u)*E+(A-T)/2,size:T}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(_){O.push({item:_,position:O[O.length-1].position})}),O},m)}return f},jze=function(t,n,r,a){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=kae({children:i,legendWidth:c});if(u){var f=a||{},m=f.width,p=f.height,g=u.align,v=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&g!=="center"&&$e(t[g]))return lr(lr({},t),{},dh({},g,t[g]+(m||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&v!=="middle"&&$e(t[v]))return lr(lr({},t),{},dh({},v,t[v]+(p||0)))}return t},wze=function(t,n,r){return Nt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Tae=function(t,n,r,a,i){var o=n.props.children,l=za(o,Ty).filter(function(u){return wze(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var m=zr(f,r);if(Nt(m))return u;var p=Array.isArray(m)?[h1(m),f1(m)]:[m,m],g=c.reduce(function(v,y){var w=zr(f,y,0),N=p[0]-Math.abs(Array.isArray(w)?w[0]:w),A=p[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(N,v[0]),Math.max(A,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},Nze=function(t,n,r,a,i){var o=n.map(function(l){return Tae(t,l,r,i,a)}).filter(function(l){return!Nt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Aae=function(t,n,r,a,i){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&Tae(t,c,u,a)||Rx(t,u,r,i)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,m=u.length;f<m;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},Eae=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},Oae=function(t,n,r,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(r),l},El=function(t,n,r){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(n||r)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?zs(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(m){var p=i?i.indexOf(m):m;return{coordinate:a(p)+u,value:m,offset:u}});return f.filter(function(m){return!by(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,p){return{coordinate:a(m)+u,value:m,index:p,offset:u}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(m){return{coordinate:a(m)+u,value:m,offset:u}}):a.domain().map(function(m,p){return{coordinate:a(m)+u,value:i?i[m]:m,index:p,offset:u}})},BE=new WeakMap,Ib=function(t,n){if(typeof n!="function")return t;BE.has(t)||BE.set(t,new WeakMap);var r=BE.get(t);if(r.has(n))return r.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},Pae=function(t,n,r){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:yg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:ew(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:_x(),realScaleType:"point"}:i==="category"?{scale:yg(),realScaleType:"band"}:{scale:ew(),realScaleType:"linear"};if(wu(a)){var c="scale".concat(XN(a));return{scale:(ZH[c]||_x)(),realScaleType:ZH[c]?c:"point"}}return vt(a)?{scale:a}:{scale:_x(),realScaleType:"point"}},p9=1e-4,Mae=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,a=t.range(),i=Math.min(a[0],a[1])-p9,o=Math.max(a[0],a[1])+p9,l=t(n[0]),c=t(n[r-1]);(l<i||l>o||c<i||c>o)&&t.domain([n[0],n[r-1]])}},Sze=function(t,n){if(!t)return null;for(var r=0,a=t.length;r<a;r++)if(t[r].item===n)return t[r].position;return null},Cze=function(t,n){if(!n||n.length!==2||!$e(n[0])||!$e(n[1]))return t;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!$e(t[0])||t[0]<r)&&(i[0]=r),(!$e(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},kze=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0,l=0;l<n;++l){var c=by(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=i,t[l][r][1]=i+c,i=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},Tze=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0;o<n;++o){var l=by(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=i,t[o][r][1]=i+l,i=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},Aze={sign:kze,expand:pDe,none:Ph,silhouette:xDe,wiggle:gDe,positive:Tze},Eze=function(t,n,r){var a=n.map(function(l){return l.props.dataKey}),i=Aze[r],o=mDe().keys(a).value(function(l,c){return+zr(l,c,0)}).order(S4).offset(i);return o(t)},Oze=function(t,n,r,a,i,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(m,p){var g,v=(g=p.type)!==null&&g!==void 0&&g.defaultProps?lr(lr({},p.type.defaultProps),p.props):p.props,y=v.stackId,w=v.hide;if(w)return m;var N=v[r],A=m[N]||{hasStack:!1,stackGroups:{}};if(Ur(y)){var T=A.stackGroups[y]||{numericAxisId:r,cateAxisId:a,items:[]};T.items.push(p),A.hasStack=!0,A.stackGroups[y]=T}else A.stackGroups[bm("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[p]};return lr(lr({},m),{},dh({},N,A))},c),f={};return Object.keys(u).reduce(function(m,p){var g=u[p];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,w){var N=g.stackGroups[w];return lr(lr({},y),{},dh({},w,{numericAxisId:r,cateAxisId:a,items:N.items,stackedData:Eze(t,N.items,i)}))},v)}return lr(lr({},m),{},dh({},p,g))},f)},_ae=function(t,n){var r=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=VBe(u,i,l);return t.domain([h1(f),f1(f)]),{niceTicks:f}}if(i&&a==="number"){var m=t.domain(),p=HBe(m,i,l);return{niceTicks:p}}return null};function x9(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Nt(a[t.dataKey])){var l=Ij(n,"value",a[t.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=zr(a,Nt(o)?t.dataKey:o);return Nt(c)?null:t.scale(c)}var g9=function(t){var n=t.axis,r=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+a:null;var c=zr(o,n.dataKey,n.domain[l]);return Nt(c)?null:n.scale(c)-i/2+a},Pze=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},Mze=function(t,n){var r,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Ur(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},_ze=function(t){return t.reduce(function(n,r){return[h1(r.concat([n[0]]).filter($e)),f1(r.concat([n[1]]).filter($e))]},[1/0,-1/0])},Rae=function(t,n,r){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,f){var m=_ze(f.slice(n,r+1));return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},y9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,v9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Y4=function(t,n,r){if(vt(t))return t(n,r);if(!Array.isArray(t))return n;var a=[];if($e(t[0]))a[0]=r?t[0]:Math.min(t[0],n[0]);else if(y9.test(t[0])){var i=+y9.exec(t[0])[1];a[0]=n[0]-i}else vt(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if($e(t[1]))a[1]=r?t[1]:Math.max(t[1],n[1]);else if(v9.test(t[1])){var o=+v9.exec(t[1])[1];a[1]=n[1]+o}else vt(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},ow=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&n&&n.length>=2){for(var i=Z5(n,function(m){return m.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],f=i[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},b9=function(t,n,r){return!t||!t.length||ky(t,Ba(r,"type.defaultProps.domain"))?n:t},Dae=function(t,n){var r=t.type.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,a=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,f=r.hide;return lr(lr({},at(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:C3(t),value:zr(n,a),type:c,payload:n,chartType:u,hide:f})};function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}function j9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j9(Object(n),!0).forEach(function(r){Iae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iae(e,t,n){return t=Rze(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rze(e){var t=Dze(e,"string");return Tg(t)=="symbol"?t:t+""}function Dze(e,t){if(Tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ize(e,t){return Bze(e)||Fze(e,t)||$ze(e,t)||Lze()}function Lze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ze(e,t){if(e){if(typeof e=="string")return w9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w9(e,t)}}function w9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fze(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Bze(e){if(Array.isArray(e))return e}var lw=Math.PI/180,zze=function(t){return t*180/Math.PI},Mn=function(t,n,r,a){return{x:t+Math.cos(-lw*a)*r,y:n+Math.sin(-lw*a)*r}},Lae=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},qze=function(t,n,r,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,f=qs(t.cx,o,o/2),m=qs(t.cy,l,l/2),p=Lae(o,l,r),g=qs(t.innerRadius,p,0),v=qs(t.outerRadius,p,p*.8),y=Object.keys(n);return y.reduce(function(w,N){var A=n[N],T=A.domain,C=A.reversed,S;if(Nt(A.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[g,v]),C&&(S=[S[1],S[0]]);else{S=A.range;var E=S,O=Ize(E,2);c=O[0],u=O[1]}var _=Pae(A,i),M=_.realScaleType,$=_.scale;$.domain(T).range(S),Mae($);var z=_ae($,jl(jl({},A),{},{realScaleType:M})),V=jl(jl(jl({},A),z),{},{range:S,radius:v,realScaleType:M,scale:$,cx:f,cy:m,innerRadius:g,outerRadius:v,startAngle:c,endAngle:u});return jl(jl({},w),{},Iae({},N,V))},{})},Uze=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-o,2))},Vze=function(t,n){var r=t.x,a=t.y,i=n.cx,o=n.cy,l=Uze({x:r,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:zze(u),angleInRadian:u}},Hze=function(t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:r-o*360}},Kze=function(t,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},N9=function(t,n){var r=t.x,a=t.y,i=Vze({x:r,y:a},n),o=i.radius,l=i.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=Hze(n),m=f.startAngle,p=f.endAngle,g=l,v;if(m<=p){for(;g>p;)g-=360;for(;g<m;)g+=360;v=g>=m&&g<=p}else{for(;g>m;)g-=360;for(;g<p;)g+=360;v=g>=p&&g<=m}return v?jl(jl({},n),{},{radius:o,angle:Kze(g,n)}):null},$ae=function(t){return!j.isValidElement(t)&&!vt(t)&&typeof t!="boolean"?t.className:""};function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}var Wze=["offset"];function Gze(e){return Jze(e)||Qze(e)||Xze(e)||Yze()}function Yze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xze(e,t){if(e){if(typeof e=="string")return X4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X4(e,t)}}function Qze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jze(e){if(Array.isArray(e))return X4(e)}function X4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zze(e,t){if(e==null)return{};var n=eqe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eqe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function S9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S9(Object(n),!0).forEach(function(r){tqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tqe(e,t,n){return t=nqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nqe(e){var t=rqe(e,"string");return Ag(t)=="symbol"?t:t+""}function rqe(e,t){if(Ag(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eg.apply(this,arguments)}var sqe=function(t){var n=t.value,r=t.formatter,a=Nt(t.children)?n:t.children;return vt(r)?r(a):a},aqe=function(t,n){var r=zs(n-t),a=Math.min(Math.abs(n-t),360);return r*a},iqe=function(t,n,r){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,f=c.cy,m=c.innerRadius,p=c.outerRadius,g=c.startAngle,v=c.endAngle,y=c.clockWise,w=(m+p)/2,N=aqe(g,v),A=N>=0?1:-1,T,C;a==="insideStart"?(T=g+A*o,C=y):a==="insideEnd"?(T=v-A*o,C=!y):a==="end"&&(T=v+A*o,C=y),C=N<=0?C:!C;var S=Mn(u,f,w,T),E=Mn(u,f,w,T+(C?1:-1)*359),O="M".concat(S.x,",").concat(S.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(C?0:1,`,
    `).concat(E.x,",").concat(E.y),_=Nt(t.id)?bm("recharts-radial-line-"):t.id;return Z.createElement("text",Eg({},r,{dominantBaseline:"central",className:Ct("recharts-radial-bar-label",l)}),Z.createElement("defs",null,Z.createElement("path",{id:_,d:O})),Z.createElement("textPath",{xlinkHref:"#".concat(_)},n))},oqe=function(t){var n=t.viewBox,r=t.offset,a=t.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,f=i.startAngle,m=i.endAngle,p=(f+m)/2;if(a==="outside"){var g=Mn(o,l,u+r,p),v=g.x,y=g.y;return{x:v,y,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var w=(c+u)/2,N=Mn(o,l,w,p),A=N.x,T=N.y;return{x:A,y:T,textAnchor:"middle",verticalAnchor:"middle"}},lqe=function(t){var n=t.viewBox,r=t.parentViewBox,a=t.offset,i=t.position,o=n,l=o.x,c=o.y,u=o.width,f=o.height,m=f>=0?1:-1,p=m*a,g=m>0?"end":"start",v=m>0?"start":"end",y=u>=0?1:-1,w=y*a,N=y>0?"end":"start",A=y>0?"start":"end";if(i==="top"){var T={x:l+u/2,y:c-m*a,textAnchor:"middle",verticalAnchor:g};return $r($r({},T),r?{height:Math.max(c-r.y,0),width:u}:{})}if(i==="bottom"){var C={x:l+u/2,y:c+f+p,textAnchor:"middle",verticalAnchor:v};return $r($r({},C),r?{height:Math.max(r.y+r.height-(c+f),0),width:u}:{})}if(i==="left"){var S={x:l-w,y:c+f/2,textAnchor:N,verticalAnchor:"middle"};return $r($r({},S),r?{width:Math.max(S.x-r.x,0),height:f}:{})}if(i==="right"){var E={x:l+u+w,y:c+f/2,textAnchor:A,verticalAnchor:"middle"};return $r($r({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:f}:{})}var O=r?{width:u,height:f}:{};return i==="insideLeft"?$r({x:l+w,y:c+f/2,textAnchor:A,verticalAnchor:"middle"},O):i==="insideRight"?$r({x:l+u-w,y:c+f/2,textAnchor:N,verticalAnchor:"middle"},O):i==="insideTop"?$r({x:l+u/2,y:c+p,textAnchor:"middle",verticalAnchor:v},O):i==="insideBottom"?$r({x:l+u/2,y:c+f-p,textAnchor:"middle",verticalAnchor:g},O):i==="insideTopLeft"?$r({x:l+w,y:c+p,textAnchor:A,verticalAnchor:v},O):i==="insideTopRight"?$r({x:l+u-w,y:c+p,textAnchor:N,verticalAnchor:v},O):i==="insideBottomLeft"?$r({x:l+w,y:c+f-p,textAnchor:A,verticalAnchor:g},O):i==="insideBottomRight"?$r({x:l+u-w,y:c+f-p,textAnchor:N,verticalAnchor:g},O):vm(i)&&($e(i.x)||Wd(i.x))&&($e(i.y)||Wd(i.y))?$r({x:l+qs(i.x,u),y:c+qs(i.y,f),textAnchor:"end",verticalAnchor:"end"},O):$r({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},O)},cqe=function(t){return"cx"in t&&$e(t.cx)};function Xr(e){var t=e.offset,n=t===void 0?5:t,r=Zze(e,Wze),a=$r({offset:n},r),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,f=a.className,m=f===void 0?"":f,p=a.textBreakAll;if(!i||Nt(l)&&Nt(c)&&!j.isValidElement(u)&&!vt(u))return null;if(j.isValidElement(u))return j.cloneElement(u,a);var g;if(vt(u)){if(g=j.createElement(u,a),j.isValidElement(g))return g}else g=sqe(a);var v=cqe(i),y=at(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return iqe(a,g,y);var w=v?oqe(a):lqe(a);return Z.createElement(Su,Eg({className:Ct("recharts-label",m)},y,w,{breakAll:p}),g)}Xr.displayName="Label";var Fae=function(t){var n=t.cx,r=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,m=t.x,p=t.y,g=t.top,v=t.left,y=t.width,w=t.height,N=t.clockWise,A=t.labelViewBox;if(A)return A;if($e(y)&&$e(w)){if($e(m)&&$e(p))return{x:m,y:p,width:y,height:w};if($e(g)&&$e(v))return{x:g,y:v,width:y,height:w}}return $e(m)&&$e(p)?{x:m,y:p,width:0,height:0}:$e(n)&&$e(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:N}:t.viewBox?t.viewBox:{}},dqe=function(t,n){return t?t===!0?Z.createElement(Xr,{key:"label-implicit",viewBox:n}):Ur(t)?Z.createElement(Xr,{key:"label-implicit",viewBox:n,value:t}):j.isValidElement(t)?t.type===Xr?j.cloneElement(t,{key:"label-implicit",viewBox:n}):Z.createElement(Xr,{key:"label-implicit",content:t,viewBox:n}):vt(t)?Z.createElement(Xr,{key:"label-implicit",content:t,viewBox:n}):vm(t)?Z.createElement(Xr,Eg({viewBox:n},t,{key:"label-implicit"})):null:null},uqe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,i=Fae(t),o=za(a,Xr).map(function(c,u){return j.cloneElement(c,{viewBox:n||i,key:"label-".concat(u)})});if(!r)return o;var l=dqe(t.label,n||i);return[l].concat(Gze(o))};Xr.parseViewBox=Fae;Xr.renderCallByParent=uqe;var zE,C9;function fqe(){if(C9)return zE;C9=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return zE=e,zE}var hqe=fqe();const mqe=on(hqe);function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}var pqe=["valueAccessor"],xqe=["data","dataKey","clockWise","id","textBreakAll"];function gqe(e){return jqe(e)||bqe(e)||vqe(e)||yqe()}function yqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vqe(e,t){if(e){if(typeof e=="string")return Q4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q4(e,t)}}function bqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jqe(e){if(Array.isArray(e))return Q4(e)}function Q4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cw.apply(this,arguments)}function k9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function T9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k9(Object(n),!0).forEach(function(r){wqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wqe(e,t,n){return t=Nqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nqe(e){var t=Sqe(e,"string");return Og(t)=="symbol"?t:t+""}function Sqe(e,t){if(Og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A9(e,t){if(e==null)return{};var n=Cqe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Cqe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var kqe=function(t){return Array.isArray(t.value)?mqe(t.value):t.value};function Dl(e){var t=e.valueAccessor,n=t===void 0?kqe:t,r=A9(e,pqe),a=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=A9(r,xqe);return!a||!a.length?null:Z.createElement(Jt,{className:"recharts-label-list"},a.map(function(f,m){var p=Nt(i)?n(f,m):zr(f&&f.payload,i),g=Nt(l)?{}:{id:"".concat(l,"-").concat(m)};return Z.createElement(Xr,cw({},at(f,!0),u,g,{parentViewBox:f.parentViewBox,value:p,textBreakAll:c,viewBox:Xr.parseViewBox(Nt(o)?f:T9(T9({},f),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}Dl.displayName="LabelList";function Tqe(e,t){return e?e===!0?Z.createElement(Dl,{key:"labelList-implicit",data:t}):Z.isValidElement(e)||vt(e)?Z.createElement(Dl,{key:"labelList-implicit",data:t,content:e}):vm(e)?Z.createElement(Dl,cw({data:t},e,{key:"labelList-implicit"})):null:null}function Aqe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=za(r,Dl).map(function(o,l){return j.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return a;var i=Tqe(e.label,t);return[i].concat(gqe(a))}Dl.renderCallByParent=Aqe;function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}function J4(){return J4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J4.apply(this,arguments)}function E9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function O9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E9(Object(n),!0).forEach(function(r){Eqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eqe(e,t,n){return t=Oqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oqe(e){var t=Pqe(e,"string");return Pg(t)=="symbol"?t:t+""}function Pqe(e,t){if(Pg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mqe=function(t,n){var r=zs(n-t),a=Math.min(Math.abs(n-t),359.999);return r*a},Lb=function(t){var n=t.cx,r=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+a,m=Math.asin(c/f)/lw,p=u?i:i+o*m,g=Mn(n,r,f,p),v=Mn(n,r,a,p),y=u?i-o*m:i,w=Mn(n,r,f*Math.cos(m*lw),y);return{center:g,circleTangency:v,lineTangency:w,theta:m}},Bae=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Mqe(o,l),u=o+c,f=Mn(n,r,i,o),m=Mn(n,r,i,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var g=Mn(n,r,a,o),v=Mn(n,r,a,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},_qe=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,m=zs(f-u),p=Lb({cx:n,cy:r,radius:i,angle:u,sign:m,cornerRadius:o,cornerIsExternal:c}),g=p.circleTangency,v=p.lineTangency,y=p.theta,w=Lb({cx:n,cy:r,radius:i,angle:f,sign:-m,cornerRadius:o,cornerIsExternal:c}),N=w.circleTangency,A=w.lineTangency,T=w.theta,C=c?Math.abs(u-f):Math.abs(u-f)-y-T;if(C<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Bae({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:f});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
  `);if(a>0){var E=Lb({cx:n,cy:r,radius:a,angle:u,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=E.circleTangency,_=E.lineTangency,M=E.theta,$=Lb({cx:n,cy:r,radius:a,angle:f,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),z=$.circleTangency,V=$.lineTangency,I=$.theta,F=c?Math.abs(u-f):Math.abs(u-f)-M-I;if(F<0&&o===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(V.x,",").concat(V.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(F>180),",").concat(+(m>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},Rqe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zae=function(t){var n=O9(O9({},Rqe),t),r=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,m=n.endAngle,p=n.className;if(o<i||f===m)return null;var g=Ct("recharts-sector",p),v=o-i,y=qs(l,v,0,!0),w;return y>0&&Math.abs(f-m)<360?w=_qe({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(y,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}):w=Bae({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:f,endAngle:m}),Z.createElement("path",J4({},at(n,!0),{className:g,d:w,role:"img"}))};function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}function Z4(){return Z4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z4.apply(this,arguments)}function P9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function M9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P9(Object(n),!0).forEach(function(r){Dqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dqe(e,t,n){return t=Iqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iqe(e){var t=Lqe(e,"string");return Mg(t)=="symbol"?t:t+""}function Lqe(e,t){if(Mg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _9={curveBasisClosed:rDe,curveBasisOpen:sDe,curveBasis:nDe,curveBumpX:q3e,curveBumpY:U3e,curveLinearClosed:aDe,curveLinear:JN,curveMonotoneX:iDe,curveMonotoneY:oDe,curveNatural:lDe,curveStep:cDe,curveStepAfter:uDe,curveStepBefore:dDe},$b=function(t){return t.x===+t.x&&t.y===+t.y},Vp=function(t){return t.x},Hp=function(t){return t.y},$qe=function(t,n){if(vt(t))return t;var r="curve".concat(XN(t));return(r==="curveMonotone"||r==="curveBump")&&n?_9["".concat(r).concat(n==="vertical"?"Y":"X")]:_9[r]||JN},Fqe=function(t){var n=t.type,r=n===void 0?"linear":n,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=$qe(r,l),m=u?i.filter(function(y){return $b(y)}):i,p;if(Array.isArray(o)){var g=u?o.filter(function(y){return $b(y)}):o,v=m.map(function(y,w){return M9(M9({},y),{},{base:g[w]})});return l==="vertical"?p=Eb().y(Hp).x1(Vp).x0(function(y){return y.base.x}):p=Eb().x(Vp).y1(Hp).y0(function(y){return y.base.y}),p.defined($b).curve(f),p(v)}return l==="vertical"&&$e(o)?p=Eb().y(Hp).x1(Vp).x0(o):$e(o)?p=Eb().x(Vp).y1(Hp).y0(o):p=Fre().x(Vp).y(Hp),p.defined($b).curve(f),p(m)},dw=function(t){var n=t.className,r=t.points,a=t.path,i=t.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?Fqe(t):a;return j.createElement("path",Z4({},at(t,!1),Lj(t),{className:Ct("recharts-curve",n),d:o,ref:i}))},qE={exports:{}},UE,R9;function Bqe(){if(R9)return UE;R9=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return UE=e,UE}var VE,D9;function zqe(){if(D9)return VE;D9=1;var e=Bqe();function t(){}function n(){}return n.resetWarningCache=t,VE=function(){function r(o,l,c,u,f,m){if(m!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},VE}var I9;function qqe(){return I9||(I9=1,qE.exports=zqe()()),qE.exports}var Uqe=qqe();const sn=on(Uqe);function Vqe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function L9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>t?(e(i),n=-1):Vqe(a)};requestAnimationFrame(r)}function eM(e){"@babel/helpers - typeof";return eM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eM(e)}function Hqe(e){return Yqe(e)||Gqe(e)||Wqe(e)||Kqe()}function Kqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wqe(e,t){if(e){if(typeof e=="string")return $9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $9(e,t)}}function $9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yqe(e){if(Array.isArray(e))return e}function Xqe(){var e={},t=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Hqe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){L9(a.bind(null,u),c);return}a(c),L9(a.bind(null,u));return}eM(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}function F9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function B9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F9(Object(n),!0).forEach(function(r){qae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qae(e,t,n){return t=Qqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qqe(e){var t=Jqe(e,"string");return _g(t)==="symbol"?t:String(t)}function Jqe(e,t){if(_g(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_g(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zqe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},eUe=function(t){return t},tUe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Dx=function(t,n){return Object.keys(n).reduce(function(r,a){return B9(B9({},r),{},qae({},a,t(a,n[a])))},{})},z9=function(t,n,r){return t.map(function(a){return"".concat(tUe(a)," ").concat(n,"ms ").concat(r)}).join(",")};function nUe(e,t){return aUe(e)||sUe(e,t)||Uae(e,t)||rUe()}function rUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sUe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function aUe(e){if(Array.isArray(e))return e}function iUe(e){return cUe(e)||lUe(e)||Uae(e)||oUe()}function oUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uae(e,t){if(e){if(typeof e=="string")return tM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tM(e,t)}}function lUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cUe(e){if(Array.isArray(e))return tM(e)}function tM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uw=1e-4,Vae=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},Hae=function(t,n){return t.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},q9=function(t,n){return function(r){var a=Vae(t,n);return Hae(a,r)}},dUe=function(t,n){return function(r){var a=Vae(t,n),i=[].concat(iUe(a.map(function(o,l){return o*l}).slice(1)),[0]);return Hae(i,r)}},U9=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),f=nUe(u,4);a=f[0],i=f[1],o=f[2],l=f[3]}}}var m=q9(a,o),p=q9(i,l),g=dUe(a,o),v=function(N){return N>1?1:N<0?0:N},y=function(N){for(var A=N>1?1:N,T=A,C=0;C<8;++C){var S=m(T)-A,E=g(T);if(Math.abs(S-A)<uw||E<uw)return p(T);T=v(T-S/E)}return p(T)};return y.isStepper=!1,y},uUe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(f,m,p){var g=-(f-m)*r,v=p*i,y=p+(g-v)*l/1e3,w=p*l/1e3+f;return Math.abs(w-m)<uw&&Math.abs(y)<uw?[m,0]:[w,y]};return c.isStepper=!0,c.dt=l,c},fUe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return U9(a);case"spring":return uUe();default:if(a.split("(")[0]==="cubic-bezier")return U9(a)}return typeof a=="function"?a:null};function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function V9(e){return pUe(e)||mUe(e)||Kae(e)||hUe()}function hUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pUe(e){if(Array.isArray(e))return rM(e)}function H9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H9(Object(n),!0).forEach(function(r){nM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nM(e,t,n){return t=xUe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xUe(e){var t=gUe(e,"string");return Rg(t)==="symbol"?t:String(t)}function gUe(e,t){if(Rg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yUe(e,t){return jUe(e)||bUe(e,t)||Kae(e,t)||vUe()}function vUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kae(e,t){if(e){if(typeof e=="string")return rM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rM(e,t)}}function rM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bUe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function jUe(e){if(Array.isArray(e))return e}var fw=function(t,n,r){return t+(n-t)*r},sM=function(t){var n=t.from,r=t.to;return n!==r},wUe=function e(t,n,r){var a=Dx(function(i,o){if(sM(o)){var l=t(o.from,o.to,o.velocity),c=yUe(l,2),u=c[0],f=c[1];return hs(hs({},o),{},{from:u,velocity:f})}return o},n);return r<1?Dx(function(i,o){return sM(o)?hs(hs({},o),{},{velocity:fw(o.velocity,a[i].velocity,r),from:fw(o.from,a[i].from,r)}):o},n):e(t,a,r-1)};const NUe=(function(e,t,n,r,a){var i=Zqe(e,t),o=i.reduce(function(w,N){return hs(hs({},w),{},nM({},N,[e[N],t[N]]))},{}),l=i.reduce(function(w,N){return hs(hs({},w),{},nM({},N,{from:e[N],velocity:0,to:t[N]}))},{}),c=-1,u,f,m=function(){return null},p=function(){return Dx(function(N,A){return A.from},l)},g=function(){return!Object.values(l).filter(sM).length},v=function(N){u||(u=N);var A=N-u,T=A/n.dt;l=wUe(n,l,T),a(hs(hs(hs({},e),t),p())),u=N,g()||(c=requestAnimationFrame(m))},y=function(N){f||(f=N);var A=(N-f)/r,T=Dx(function(S,E){return fw.apply(void 0,V9(E).concat([n(A)]))},o);if(a(hs(hs(hs({},e),t),T)),A<1)c=requestAnimationFrame(m);else{var C=Dx(function(S,E){return fw.apply(void 0,V9(E).concat([n(1)]))},o);a(hs(hs(hs({},e),t),C))}};return m=n.isStepper?v:y,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}var SUe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function CUe(e,t){if(e==null)return{};var n=kUe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kUe(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function HE(e){return OUe(e)||EUe(e)||AUe(e)||TUe()}function TUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AUe(e,t){if(e){if(typeof e=="string")return aM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aM(e,t)}}function EUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OUe(e){if(Array.isArray(e))return aM(e)}function aM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ri(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K9(Object(n),!0).forEach(function(r){cx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cx(e,t,n){return t=Wae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MUe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wae(r.key),r)}}function _Ue(e,t,n){return t&&MUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wae(e){var t=RUe(e,"string");return Bh(t)==="symbol"?t:String(t)}function RUe(e,t){if(Bh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iM(e,t)}function iM(e,t){return iM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},iM(e,t)}function IUe(e){var t=LUe();return function(){var r=hw(e),a;if(t){var i=hw(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return oM(this,a)}}function oM(e,t){if(t&&(Bh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lM(e)}function lM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LUe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hw(e){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hw(e)}var zo=(function(e){DUe(n,e);var t=IUe(n);function n(r,a){var i;PUe(this,n),i=t.call(this,r,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,m=o.steps,p=o.children,g=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(lM(i)),i.changeStyle=i.changeStyle.bind(lM(i)),!l||g<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:f}),oM(i);if(m&&m.length)i.state={style:m[0].style};else if(u){if(typeof p=="function")return i.state={style:u},oM(i);i.state={style:c?cx({},c,u):u}}else i.state={style:{}};return i}return _Ue(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,f=i.to,m=i.from,p=this.state.style;if(l){if(!o){var g={style:c?cx({},c,f):f};this.state&&p&&(c&&p[c]!==f||!c&&p!==f)&&this.setState(g);return}if(!(cne(a.to,f)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||u?m:a.to;if(this.state&&p){var w={style:c?cx({},c,y):y};(c&&p[c]!==y||!c&&p!==y)&&this.setState(w)}this.runAnimation(Ri(Ri({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,f=a.begin,m=a.onAnimationEnd,p=a.onAnimationStart,g=NUe(o,l,fUe(u),c,this.changeStyle),v=function(){i.stopJSAnimation=g()};this.manager.start([p,f,v,c,m])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],f=u.style,m=u.duration,p=m===void 0?0:m,g=function(y,w,N){if(N===0)return y;var A=w.duration,T=w.easing,C=T===void 0?"ease":T,S=w.style,E=w.properties,O=w.onAnimationEnd,_=N>0?o[N-1]:w,M=E||Object.keys(S);if(typeof C=="function"||C==="spring")return[].concat(HE(y),[i.runJSAnimation.bind(i,{from:_.style,to:S,duration:A,easing:C}),A]);var $=z9(M,A,C),z=Ri(Ri(Ri({},_.style),S),{},{transition:$});return[].concat(HE(y),[z,A,O]).filter(eUe)};return this.manager.start([c].concat(HE(o.reduce(g,[f,Math.max(p,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Xqe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,f=a.onAnimationStart,m=a.onAnimationEnd,p=a.steps,g=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var y=l?cx({},l,c):c,w=z9(Object.keys(y),o,u);v.start([f,i,Ri(Ri({},y),{},{transition:w}),o,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=CUe(a,SUe),u=j.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||u===0||o<=0)return i;var m=function(g){var v=g.props,y=v.style,w=y===void 0?{}:y,N=v.className,A=j.cloneElement(g,Ri(Ri({},c),{},{style:Ri(Ri({},w),f),className:N}));return A};return u===1?m(j.Children.only(i)):Z.createElement("div",null,j.Children.map(i,function(p){return m(p)}))}}]),n})(j.PureComponent);zo.displayName="Animate";zo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};zo.propTypes={from:sn.oneOfType([sn.object,sn.string]),to:sn.oneOfType([sn.object,sn.string]),attributeName:sn.string,duration:sn.number,begin:sn.number,easing:sn.oneOfType([sn.string,sn.func]),steps:sn.arrayOf(sn.shape({duration:sn.number.isRequired,style:sn.object.isRequired,easing:sn.oneOfType([sn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),sn.func]),properties:sn.arrayOf("string"),onAnimationEnd:sn.func})),children:sn.oneOfType([sn.node,sn.func]),isActive:sn.bool,canBegin:sn.bool,onAnimationEnd:sn.func,shouldReAnimate:sn.bool,onAnimationStart:sn.func,onAnimationReStart:sn.func};function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mw.apply(this,arguments)}function $Ue(e,t){return qUe(e)||zUe(e,t)||BUe(e,t)||FUe()}function FUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BUe(e,t){if(e){if(typeof e=="string")return W9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W9(e,t)}}function W9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zUe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function qUe(e){if(Array.isArray(e))return e}function G9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Y9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G9(Object(n),!0).forEach(function(r){UUe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UUe(e,t,n){return t=VUe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VUe(e){var t=HUe(e,"string");return Dg(t)=="symbol"?t:t+""}function HUe(e,t){if(Dg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X9=function(t,n,r,a,i){var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),l=a>=0?1:-1,c=r>=0?1:-1,u=a>=0&&r>=0||a<0&&r<0?1:0,f;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,g=4;p<g;p++)m[p]=i[p]>o?o:i[p];f="M".concat(t,",").concat(n+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(t+c*m[0],",").concat(n)),f+="L ".concat(t+r-c*m[1],",").concat(n),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*m[1])),f+="L ".concat(t+r,",").concat(n+a-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(t+r-c*m[2],",").concat(n+a)),f+="L ".concat(t+c*m[3],",").concat(n+a),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+a-l*m[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);f="M ".concat(t,",").concat(n+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(n,`
            L `).concat(t+r-c*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*v,`
            L `).concat(t+r,",").concat(n+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+r-c*v,",").concat(n+a,`
            L `).concat(t+c*v,",").concat(n+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(n+a-l*v," Z")}else f="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return f},KUe=function(t,n){if(!t||!n)return!1;var r=t.x,a=t.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),f=Math.max(i,i+l),m=Math.min(o,o+c),p=Math.max(o,o+c);return r>=u&&r<=f&&a>=m&&a<=p}return!1},WUe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},k3=function(t){var n=Y9(Y9({},WUe),t),r=j.useRef(),a=j.useState(-1),i=$Ue(a,2),o=i[0],l=i[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&l(C)}catch{}},[]);var c=n.x,u=n.y,f=n.width,m=n.height,p=n.radius,g=n.className,v=n.animationEasing,y=n.animationDuration,w=n.animationBegin,N=n.isAnimationActive,A=n.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||m!==+m||f===0||m===0)return null;var T=Ct("recharts-rectangle",g);return A?Z.createElement(zo,{canBegin:o>0,from:{width:f,height:m,x:c,y:u},to:{width:f,height:m,x:c,y:u},duration:y,animationEasing:v,isActive:A},function(C){var S=C.width,E=C.height,O=C.x,_=C.y;return Z.createElement(zo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,isActive:N,easing:v},Z.createElement("path",mw({},at(n,!0),{className:T,d:X9(O,_,S,E,p),ref:r})))}):Z.createElement("path",mw({},at(n,!0),{className:T,d:X9(c,u,f,m,p)}))},GUe=["points","className","baseLinePoints","connectNulls"];function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yf.apply(this,arguments)}function YUe(e,t){if(e==null)return{};var n=XUe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function XUe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Q9(e){return e8e(e)||ZUe(e)||JUe(e)||QUe()}function QUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JUe(e,t){if(e){if(typeof e=="string")return cM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cM(e,t)}}function ZUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function e8e(e){if(Array.isArray(e))return cM(e)}function cM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var J9=function(t){return t&&t.x===+t.x&&t.y===+t.y},t8e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){J9(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),J9(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Ix=function(t,n){var r=t8e(t);n&&(r=[r.reduce(function(i,o){return[].concat(Q9(i),Q9(o))},[])]);var a=r.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},n8e=function(t,n,r){var a=Ix(t,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Ix(n.reverse(),r).slice(1))},r8e=function(t){var n=t.points,r=t.className,a=t.baseLinePoints,i=t.connectNulls,o=YUe(t,GUe);if(!n||!n.length)return null;var l=Ct("recharts-polygon",r);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=n8e(n,a,i);return Z.createElement("g",{className:l},Z.createElement("path",Yf({},at(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?Z.createElement("path",Yf({},at(o,!0),{fill:"none",d:Ix(n,i)})):null,c?Z.createElement("path",Yf({},at(o,!0),{fill:"none",d:Ix(a,i)})):null)}var f=Ix(n,i);return Z.createElement("path",Yf({},at(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function dM(){return dM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dM.apply(this,arguments)}var x1=function(t){var n=t.cx,r=t.cy,a=t.r,i=t.className,o=Ct("recharts-dot",i);return n===+n&&r===+r&&a===+a?j.createElement("circle",dM({},at(t,!1),Lj(t),{className:o,cx:n,cy:r,r:a})):null};function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}var s8e=["x","y","top","left","width","height","className"];function uM(){return uM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uM.apply(this,arguments)}function Z9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function a8e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z9(Object(n),!0).forEach(function(r){i8e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i8e(e,t,n){return t=o8e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o8e(e){var t=l8e(e,"string");return Ig(t)=="symbol"?t:t+""}function l8e(e,t){if(Ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c8e(e,t){if(e==null)return{};var n=d8e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function d8e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u8e=function(t,n,r,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(r)},f8e=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,m=f===void 0?0:f,p=t.height,g=p===void 0?0:p,v=t.className,y=c8e(t,s8e),w=a8e({x:r,y:i,top:l,left:u,width:m,height:g},y);return!$e(r)||!$e(i)||!$e(m)||!$e(g)||!$e(l)||!$e(u)?null:Z.createElement("path",uM({},at(w,!0),{className:Ct("recharts-cross",v),d:u8e(r,i,m,g,l,u)}))},KE,e7;function h8e(){if(e7)return KE;e7=1;var e=u1(),t=cae(),n=Ho();function r(a,i){return a&&a.length?e(a,n(i,2),t):void 0}return KE=r,KE}var m8e=h8e();const p8e=on(m8e);var WE,t7;function x8e(){if(t7)return WE;t7=1;var e=u1(),t=Ho(),n=dae();function r(a,i){return a&&a.length?e(a,t(i,2),n):void 0}return WE=r,WE}var g8e=x8e();const y8e=on(g8e);var v8e=["cx","cy","angle","ticks","axisLine"],b8e=["ticks","tick","angle","tickFormatter","stroke"];function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lx.apply(this,arguments)}function n7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n7(Object(n),!0).forEach(function(r){g1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r7(e,t){if(e==null)return{};var n=j8e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function j8e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function w8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yae(r.key),r)}}function N8e(e,t,n){return t&&s7(e.prototype,t),n&&s7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S8e(e,t,n){return t=pw(t),C8e(e,Gae()?Reflect.construct(t,n||[],pw(e).constructor):t.apply(e,n))}function C8e(e,t){if(t&&(zh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k8e(e)}function k8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gae=function(){return!!e})()}function pw(e){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pw(e)}function T8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fM(e,t)}function fM(e,t){return fM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},fM(e,t)}function g1(e,t,n){return t=Yae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yae(e){var t=A8e(e,"string");return zh(t)=="symbol"?t:t+""}function A8e(e,t){if(zh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var y1=(function(e){function t(){return w8e(this,t),S8e(this,t,arguments)}return T8e(t,e),N8e(t,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Mn(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=p8e(l,function(f){return f.coordinate||0}),u=y8e(l,function(f){return f.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=r7(r,v8e),f=l.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),m=Mn(a,i,f[0],o),p=Mn(a,i,f[1],o),g=Md(Md(Md({},at(u,!1)),{},{fill:"none"},at(c,!1)),{},{x1:m.x,y1:m.y,x2:p.x,y2:p.y});return Z.createElement("line",Lx({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,f=r7(a,b8e),m=this.getTickTextAnchor(),p=at(f,!1),g=at(o,!1),v=i.map(function(y,w){var N=r.getTickValueCoord(y),A=Md(Md(Md(Md({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},p),{},{stroke:"none",fill:u},g),{},{index:w},N),{},{payload:y});return Z.createElement(Jt,Lx({className:Ct("recharts-polar-radius-axis-tick",$ae(o)),key:"tick-".concat(y.coordinate)},Nu(r.props,y,w)),t.renderTickItem(o,A,c?c(y.value,w):y.value))});return Z.createElement(Jt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,o=r.tick;return!a||!a.length?null:Z.createElement(Jt,{className:Ct("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Xr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var o;return Z.isValidElement(r)?o=Z.cloneElement(r,a):vt(r)?o=r(a):o=Z.createElement(Su,Lx({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(j.PureComponent);g1(y1,"displayName","PolarRadiusAxis");g1(y1,"axisType","radiusAxis");g1(y1,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zd.apply(this,arguments)}function a7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a7(Object(n),!0).forEach(function(r){v1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qae(r.key),r)}}function O8e(e,t,n){return t&&i7(e.prototype,t),n&&i7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function P8e(e,t,n){return t=xw(t),M8e(e,Xae()?Reflect.construct(t,n||[],xw(e).constructor):t.apply(e,n))}function M8e(e,t){if(t&&(qh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _8e(e)}function _8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xae=function(){return!!e})()}function xw(e){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xw(e)}function R8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hM(e,t)}function hM(e,t){return hM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},hM(e,t)}function v1(e,t,n){return t=Qae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qae(e){var t=D8e(e,"string");return qh(t)=="symbol"?t:t+""}function D8e(e,t){if(qh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var I8e=Math.PI/180,o7=1e-5,b1=(function(e){function t(){return E8e(this,t),P8e(this,t,arguments)}return R8e(t,e),O8e(t,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,f=u||8,m=Mn(i,o,l,r.coordinate),p=Mn(i,o,l+(c==="inner"?-1:1)*f,r.coordinate);return{x1:m.x,y1:m.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*I8e),o;return i>o7?o=a==="outer"?"start":"end":i<-o7?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=_d(_d({},at(this.props,!1)),{},{fill:"none"},at(l,!1));if(c==="circle")return Z.createElement(x1,zd({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var f=this.props.ticks,m=f.map(function(p){return Mn(a,i,o,p.coordinate)});return Z.createElement(r8e,zd({className:"recharts-polar-angle-axis-line"},u,{points:m}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,f=at(this.props,!1),m=at(o,!1),p=_d(_d({},f),{},{fill:"none"},at(l,!1)),g=i.map(function(v,y){var w=r.getTickLineCoord(v),N=r.getTickTextAnchor(v),A=_d(_d(_d({textAnchor:N},f),{},{stroke:"none",fill:u},m),{},{index:y,payload:v,x:w.x2,y:w.y2});return Z.createElement(Jt,zd({className:Ct("recharts-polar-angle-axis-tick",$ae(o)),key:"tick-".concat(v.coordinate)},Nu(r.props,v,y)),l&&Z.createElement("line",zd({className:"recharts-polar-angle-axis-tick-line"},p,w)),o&&t.renderTickItem(o,A,c?c(v.value,y):v.value))});return Z.createElement(Jt,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!a||!a.length?null:Z.createElement(Jt,{className:Ct("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var o;return Z.isValidElement(r)?o=Z.cloneElement(r,a):vt(r)?o=r(a):o=Z.createElement(Su,zd({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(j.PureComponent);v1(b1,"displayName","PolarAngleAxis");v1(b1,"axisType","angleAxis");v1(b1,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var GE,l7;function L8e(){if(l7)return GE;l7=1;var e=lse(),t=e(Object.getPrototypeOf,Object);return GE=t,GE}var YE,c7;function $8e(){if(c7)return YE;c7=1;var e=Wl(),t=L8e(),n=Gl(),r="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=o.call(Object);function u(f){if(!n(f)||e(f)!=r)return!1;var m=t(f);if(m===null)return!0;var p=l.call(m,"constructor")&&m.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==c}return YE=u,YE}var F8e=$8e();const B8e=on(F8e);var XE,d7;function z8e(){if(d7)return XE;d7=1;var e=Wl(),t=Gl(),n="[object Boolean]";function r(a){return a===!0||a===!1||t(a)&&e(a)==n}return XE=r,XE}var q8e=z8e();const U8e=on(q8e);function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gw.apply(this,arguments)}function V8e(e,t){return G8e(e)||W8e(e,t)||K8e(e,t)||H8e()}function H8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K8e(e,t){if(e){if(typeof e=="string")return u7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u7(e,t)}}function u7(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W8e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function G8e(e){if(Array.isArray(e))return e}function f7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function h7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f7(Object(n),!0).forEach(function(r){Y8e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y8e(e,t,n){return t=X8e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X8e(e){var t=Q8e(e,"string");return Lg(t)=="symbol"?t:t+""}function Q8e(e,t){if(Lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m7=function(t,n,r,a,i){var o=r-a,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+i),l+="L ".concat(t+r-o/2-a,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},J8e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Z8e=function(t){var n=h7(h7({},J8e),t),r=j.useRef(),a=j.useState(-1),i=V8e(a,2),o=i[0],l=i[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&l(T)}catch{}},[]);var c=n.x,u=n.y,f=n.upperWidth,m=n.lowerWidth,p=n.height,g=n.className,v=n.animationEasing,y=n.animationDuration,w=n.animationBegin,N=n.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||m!==+m||p!==+p||f===0&&m===0||p===0)return null;var A=Ct("recharts-trapezoid",g);return N?Z.createElement(zo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:f,lowerWidth:m,height:p,x:c,y:u},duration:y,animationEasing:v,isActive:N},function(T){var C=T.upperWidth,S=T.lowerWidth,E=T.height,O=T.x,_=T.y;return Z.createElement(zo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,easing:v},Z.createElement("path",gw({},at(n,!0),{className:A,d:m7(O,_,C,S,E),ref:r})))}):Z.createElement("g",null,Z.createElement("path",gw({},at(n,!0),{className:A,d:m7(c,u,f,m,p)})))},eVe=["option","shapeType","propTransformer","activeClassName","isActive"];function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function tVe(e,t){if(e==null)return{};var n=nVe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nVe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function p7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p7(Object(n),!0).forEach(function(r){rVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rVe(e,t,n){return t=sVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sVe(e){var t=aVe(e,"string");return $g(t)=="symbol"?t:t+""}function aVe(e,t){if($g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iVe(e,t){return yw(yw({},t),e)}function oVe(e,t){return e==="symbols"}function x7(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return Z.createElement(k3,n);case"trapezoid":return Z.createElement(Z8e,n);case"sector":return Z.createElement(zae,n);case"symbols":if(oVe(t))return Z.createElement(H5,n);break;default:return null}}function lVe(e){return j.isValidElement(e)?e.props:e}function Jae(e){var t=e.option,n=e.shapeType,r=e.propTransformer,a=r===void 0?iVe:r,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=tVe(e,eVe),u;if(j.isValidElement(t))u=j.cloneElement(t,yw(yw({},c),lVe(t)));else if(vt(t))u=t(c);else if(B8e(t)&&!U8e(t)){var f=a(t,c);u=Z.createElement(x7,{shapeType:n,elementProps:f})}else{var m=c;u=Z.createElement(x7,{shapeType:n,elementProps:m})}return l?Z.createElement(Jt,{className:o},u):u}function j1(e,t){return t!=null&&"trapezoids"in e.props}function w1(e,t){return t!=null&&"sectors"in e.props}function Fg(e,t){return t!=null&&"points"in e.props}function cVe(e,t){var n,r,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return a&&i}function dVe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function uVe(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function fVe(e,t){var n;return j1(e,t)?n=cVe:w1(e,t)?n=dVe:Fg(e,t)&&(n=uVe),n}function hVe(e,t){var n;return j1(e,t)?n="trapezoids":w1(e,t)?n="sectors":Fg(e,t)&&(n="points"),n}function mVe(e,t){if(j1(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(w1(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Fg(e,t)?t.payload:{}}function pVe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=hVe(n,t),i=mVe(n,t),o=r.filter(function(c,u){var f=ky(i,c),m=n.props[a].filter(function(v){var y=fVe(n,t);return y(v,t)}),p=n.props[a].indexOf(m[m.length-1]),g=u===p;return f&&g}),l=r.indexOf(o[o.length-1]);return l}var f0;function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xf.apply(this,arguments)}function g7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g7(Object(n),!0).forEach(function(r){mi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eie(r.key),r)}}function gVe(e,t,n){return t&&y7(e.prototype,t),n&&y7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yVe(e,t,n){return t=vw(t),vVe(e,Zae()?Reflect.construct(t,n||[],vw(e).constructor):t.apply(e,n))}function vVe(e,t){if(t&&(Uh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bVe(e)}function bVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zae=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vw(e)}function jVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mM(e,t)}function mM(e,t){return mM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},mM(e,t)}function mi(e,t,n){return t=eie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eie(e){var t=wVe(e,"string");return Uh(t)=="symbol"?t:t+""}function wVe(e,t){if(Uh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xl=(function(e){function t(n){var r;return xVe(this,t),r=yVe(this,t,[n]),mi(r,"pieRef",null),mi(r,"sectorRefs",[]),mi(r,"id",bm("recharts-pie-")),mi(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),vt(a)&&a()}),mi(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),vt(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return jVe(t,e),gVe(t,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,f=at(this.props,!1),m=at(o,!1),p=at(l,!1),g=o&&o.offsetRadius||20,v=r.map(function(y,w){var N=(y.startAngle+y.endAngle)/2,A=Mn(y.cx,y.cy,y.outerRadius+g,N),T=An(An(An(An({},f),y),{},{stroke:"none"},m),{},{index:w,textAnchor:t.getTextAnchor(A.x,y.cx)},A),C=An(An(An(An({},f),y),{},{fill:"none",stroke:y.fill},p),{},{index:w,points:[Mn(y.cx,y.cy,y.outerRadius,N),A]}),S=c;return Nt(c)&&Nt(u)?S="value":Nt(c)&&(S=u),Z.createElement(Jt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(w)},l&&t.renderLabelLineItem(l,C,"line"),t.renderLabelItem(o,T,zr(y,S)))});return Z.createElement(Jt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return r.map(function(u,f){if(u?.startAngle===0&&u?.endAngle===0&&r.length!==1)return null;var m=a.isActiveIndex(f),p=c&&a.hasActiveIndex()?c:null,g=m?o:p,v=An(An({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return Z.createElement(Jt,Xf({ref:function(w){w&&!a.sectorRefs.includes(w)&&a.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Nu(a.props,u,f),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(f)}),Z.createElement(Jae,Xf({option:g,isActive:m,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,m=this.state,p=m.prevSectors,g=m.prevIsAnimationActive;return Z.createElement(zo,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,w=[],N=i&&i[0],A=N.startAngle;return i.forEach(function(T,C){var S=p&&p[C],E=C>0?Ba(T,"paddingAngle",0):0;if(S){var O=Oa(S.endAngle-S.startAngle,T.endAngle-T.startAngle),_=An(An({},T),{},{startAngle:A+E,endAngle:A+O(y)+E});w.push(_),A=_.endAngle}else{var M=T.endAngle,$=T.startAngle,z=Oa(0,M-$),V=z(y),I=An(An({},T),{},{startAngle:A+E,endAngle:A+V+E});w.push(I),A=I.endAngle}}),Z.createElement(Jt,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!ky(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,f=a.cy,m=a.innerRadius,p=a.outerRadius,g=a.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!$e(u)||!$e(f)||!$e(m)||!$e(p))return null;var y=Ct("recharts-pie",l);return Z.createElement(Jt,{tabIndex:this.props.rootTabIndex,className:y,ref:function(N){r.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),Xr.renderCallByParent(this.props,null,!1),(!g||v)&&Dl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,i){if(Z.isValidElement(r))return Z.cloneElement(r,a);if(vt(r))return r(a);var o=Ct("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return Z.createElement(dw,Xf({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,a,i){if(Z.isValidElement(r))return Z.cloneElement(r,a);var o=i;if(vt(r)&&(o=r(a),Z.isValidElement(o)))return o;var l=Ct("recharts-pie-label-text",typeof r!="boolean"&&!vt(r)?r.className:"");return Z.createElement(Su,Xf({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(j.PureComponent);f0=Xl;mi(Xl,"displayName","Pie");mi(Xl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Fu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});mi(Xl,"parseDeltaAngle",function(e,t){var n=zs(t-e),r=Math.min(Math.abs(t-e),360);return n*r});mi(Xl,"getRealPieData",function(e){var t=e.data,n=e.children,r=at(e,!1),a=za(n,s1);return t&&t.length?t.map(function(i,o){return An(An(An({payload:i},r),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return An(An({},r),i.props)}):[]});mi(Xl,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,i=t.height,o=Lae(a,i),l=r+qs(e.cx,a,a/2),c=n+qs(e.cy,i,i/2),u=qs(e.innerRadius,o,0),f=qs(e.outerRadius,o,o*.8),m=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:m}});mi(Xl,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?An(An({},t.type.defaultProps),t.props):t.props,a=f0.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,f=r.nameKey,m=r.valueKey,p=r.tooltipType,g=Math.abs(r.minAngle),v=f0.parseCoordinateOfPie(r,n),y=f0.parseDeltaAngle(o,l),w=Math.abs(y),N=u;Nt(u)&&Nt(m)?(Xi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):Nt(u)&&(Xi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=m);var A=a.filter(function(_){return zr(_,N,0)!==0}).length,T=(w>=360?A:A-1)*c,C=w-A*g-T,S=a.reduce(function(_,M){var $=zr(M,N,0);return _+($e($)?$:0)},0),E;if(S>0){var O;E=a.map(function(_,M){var $=zr(_,N,0),z=zr(_,f,M),V=($e($)?$:0)/S,I;M?I=O.endAngle+zs(y)*c*($!==0?1:0):I=o;var F=I+zs(y)*(($!==0?g:0)+V*C),K=(I+F)/2,R=(v.innerRadius+v.outerRadius)/2,B=[{name:z,value:$,payload:_,dataKey:N,type:p}],L=Mn(v.cx,v.cy,R,K);return O=An(An(An({percent:V,cornerRadius:i,name:z,tooltipPayload:B,midAngle:K,middleRadius:R,tooltipPosition:L},_),v),{},{value:zr(_,N),startAngle:I,endAngle:F,payload:_,paddingAngle:zs(y)*c}),O})}return An(An({},v),{},{sectors:E,data:a})});var QE,v7;function NVe(){if(v7)return QE;v7=1;var e=Math.ceil,t=Math.max;function n(r,a,i,o){for(var l=-1,c=t(e((a-r)/(i||1)),0),u=Array(c);c--;)u[o?c:++l]=r,r+=i;return u}return QE=n,QE}var JE,b7;function tie(){if(b7)return JE;b7=1;var e=Sse(),t=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*n}return a===a?a:0}return JE=r,JE}var ZE,j7;function SVe(){if(j7)return ZE;j7=1;var e=NVe(),t=n1(),n=tie();function r(a){return function(i,o,l){return l&&typeof l!="number"&&t(i,o,l)&&(o=l=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),l=l===void 0?i<o?1:-1:n(l),e(i,o,l,a)}}return ZE=r,ZE}var eO,w7;function CVe(){if(w7)return eO;w7=1;var e=SVe(),t=e();return eO=t,eO}var kVe=CVe();const bw=on(kVe);function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function N7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function S7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N7(Object(n),!0).forEach(function(r){nie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nie(e,t,n){return t=TVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TVe(e){var t=AVe(e,"string");return Bg(t)=="symbol"?t:t+""}function AVe(e,t){if(Bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EVe=["Webkit","Moz","O","ms"],OVe=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=EVe.reduce(function(i,o){return S7(S7({},i),{},nie({},o+r,n))},{});return a[t]=n,a};function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jw.apply(this,arguments)}function C7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C7(Object(n),!0).forEach(function(r){ka(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sie(r.key),r)}}function MVe(e,t,n){return t&&k7(e.prototype,t),n&&k7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Ve(e,t,n){return t=ww(t),RVe(e,rie()?Reflect.construct(t,n||[],ww(e).constructor):t.apply(e,n))}function RVe(e,t){if(t&&(Vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DVe(e)}function DVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rie=function(){return!!e})()}function ww(e){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ww(e)}function IVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pM(e,t)}function pM(e,t){return pM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},pM(e,t)}function ka(e,t,n){return t=sie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sie(e){var t=LVe(e,"string");return Vh(t)=="symbol"?t:t+""}function LVe(e,t){if(Vh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $Ve=function(t){var n=t.data,r=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=_x().domain(bw(0,c)).range([i,i+o-l]),f=u.domain().map(function(m){return u(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(a),scale:u,scaleValues:f}},T7=function(t){return t.changedTouches&&!!t.changedTouches.length},Hh=(function(e){function t(n){var r;return PVe(this,t),r=_Ve(this,t,[n]),ka(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),ka(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),ka(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),ka(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ka(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ka(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ka(r,"handleSlideDragStart",function(a){var i=T7(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return IVe(t,e),MVe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,m=Math.min(a,i),p=Math.max(a,i),g=t.getIndexInRange(o,m),v=t.getIndexInRange(o,p);return{startIndex:g-g%c,endIndex:v===f?f:v-v%c}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=zr(i[r],l,r);return vt(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,f=c.width,m=c.travellerWidth,p=c.startIndex,g=c.endIndex,v=c.onChange,y=r.pageX-i;y>0?y=Math.min(y,u+f-m-l,u+f-m-o):y<0&&(y=Math.max(y,u-o,u-l));var w=this.getIndex({startX:o+y,endX:l+y});(w.startIndex!==p||w.endIndex!==g)&&v&&v(w),this.setState({startX:o+y,endX:l+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=T7(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],f=this.props,m=f.x,p=f.width,g=f.travellerWidth,v=f.onChange,y=f.gap,w=f.data,N={startX:this.state.startX,endX:this.state.endX},A=r.pageX-i;A>0?A=Math.min(A,m+p-g-u):A<0&&(A=Math.max(A,m-u)),N[o]=u+A;var T=this.getIndex(N),C=T.startIndex,S=T.endIndex,E=function(){var _=w.length-1;return o==="startX"&&(l>c?C%y===0:S%y===0)||l<c&&S===_||o==="endX"&&(l>c?S%y===0:C%y===0)||l>c&&S===_};this.setState(ka(ka({},o,u+A),"brushMoveStartX",r.pageX),function(){v&&E()&&v(T)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[a],m=l.indexOf(f);if(m!==-1){var p=m+r;if(!(p===-1||p>=l.length)){var g=l[p];a==="startX"&&g>=u||a==="endX"&&g<=c||this.setState(ka({},a,g),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return Z.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.data,u=r.children,f=r.padding,m=j.Children.only(u);return m?Z.cloneElement(m,{x:a,y:i,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,m=c.height,p=c.traveller,g=c.ariaLabel,v=c.data,y=c.startIndex,w=c.endIndex,N=Math.max(r,this.props.x),A=tO(tO({},at(this.props,!1)),{},{x:N,y:u,width:f,height:m}),T=g||"Min value: ".concat((i=v[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[w])===null||o===void 0?void 0:o.name);return Z.createElement(Jt,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,A))}},{key:"renderSlide",value:function(r,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,f=Math.min(r,a)+u,m=Math.max(Math.abs(a-r)-u,0);return Z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:m,height:l})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,f=this.state,m=f.startX,p=f.endX,g=5,v={pointerEvents:"none",fill:u};return Z.createElement(Jt,{className:"recharts-brush-texts"},Z.createElement(Su,jw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,p)-g,y:o+l/2},v),this.getTextOfTick(a)),Z.createElement(Su,jw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,p)+c+g,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,o=r.children,l=r.x,c=r.y,u=r.width,f=r.height,m=r.alwaysShowText,p=this.state,g=p.startX,v=p.endX,y=p.isTextActive,w=p.isSlideMoving,N=p.isTravellerMoving,A=p.isTravellerFocused;if(!a||!a.length||!$e(l)||!$e(c)||!$e(u)||!$e(f)||u<=0||f<=0)return null;var T=Ct("recharts-brush",i),C=Z.Children.count(o)===1,S=OVe("userSelect","none");return Z.createElement(Jt,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(y||w||N||A||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(i+l/2)-1;return Z.createElement(Z.Fragment,null,Z.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),Z.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),Z.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return Z.isValidElement(r)?i=Z.cloneElement(r,a):vt(r)?i=r(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,f=r.startIndex,m=r.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return tO({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?$Ve({data:i,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var p=a.scale.domain().map(function(g){return a.scale(g)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>a?l=c:o=c}return a>=r[l]?l:o}}])})(j.PureComponent);ka(Hh,"displayName","Brush");ka(Hh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var nO,A7;function FVe(){if(A7)return nO;A7=1;var e=J5();function t(n,r){var a;return e(n,function(i,o,l){return a=r(i,o,l),!a}),!!a}return nO=t,nO}var rO,E7;function BVe(){if(E7)return rO;E7=1;var e=tse(),t=Ho(),n=FVe(),r=xa(),a=n1();function i(o,l,c){var u=r(o)?e:n;return c&&a(o,l,c)&&(l=void 0),u(o,t(l,3))}return rO=i,rO}var zVe=BVe();const qVe=on(zVe);var Mo=function(t,n){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===n},sO,O7;function UVe(){if(O7)return sO;O7=1;var e=vse();function t(n,r,a){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}return sO=t,sO}var aO,P7;function VVe(){if(P7)return aO;P7=1;var e=UVe(),t=gse(),n=Ho();function r(a,i){var o={};return i=n(i,3),t(a,function(l,c,u){e(o,c,i(l,c,u))}),o}return aO=r,aO}var HVe=VVe();const KVe=on(HVe);var iO,M7;function WVe(){if(M7)return iO;M7=1;function e(t,n){for(var r=-1,a=t==null?0:t.length;++r<a;)if(!n(t[r],r,t))return!1;return!0}return iO=e,iO}var oO,_7;function GVe(){if(_7)return oO;_7=1;var e=J5();function t(n,r){var a=!0;return e(n,function(i,o,l){return a=!!r(i,o,l),a}),a}return oO=t,oO}var lO,R7;function YVe(){if(R7)return lO;R7=1;var e=WVe(),t=GVe(),n=Ho(),r=xa(),a=n1();function i(o,l,c){var u=r(o)?e:t;return c&&a(o,l,c)&&(l=void 0),u(o,n(l,3))}return lO=i,lO}var XVe=YVe();const aie=on(XVe);var QVe=["x","y"];function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function xM(){return xM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xM.apply(this,arguments)}function D7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D7(Object(n),!0).forEach(function(r){JVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JVe(e,t,n){return t=ZVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZVe(e){var t=eHe(e,"string");return zg(t)=="symbol"?t:t+""}function eHe(e,t){if(zg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tHe(e,t){if(e==null)return{};var n=nHe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nHe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function rHe(e,t){var n=e.x,r=e.y,a=tHe(e,QVe),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||a.height),f=parseInt(u,10),m="".concat(t.width||a.width),p=parseInt(m,10);return Kp(Kp(Kp(Kp(Kp({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:p,name:t.name,radius:t.radius})}function I7(e){return Z.createElement(Jae,xM({shapeType:"rectangle",propTransformer:rHe,activeClassName:"recharts-active-bar"},e))}var sHe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof t=="number")return t;var i=$e(r)||c3e(r);return i?t(r,a):(i||ku(),n)}},aHe=["value","background"],iie;function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}function iHe(e,t){if(e==null)return{};var n=oHe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oHe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nw.apply(this,arguments)}function L7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L7(Object(n),!0).forEach(function(r){Lc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lie(r.key),r)}}function cHe(e,t,n){return t&&$7(e.prototype,t),n&&$7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dHe(e,t,n){return t=Sw(t),uHe(e,oie()?Reflect.construct(t,n||[],Sw(e).constructor):t.apply(e,n))}function uHe(e,t){if(t&&(Kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fHe(e)}function fHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oie=function(){return!!e})()}function Sw(e){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sw(e)}function hHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gM(e,t)}function gM(e,t){return gM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},gM(e,t)}function Lc(e,t,n){return t=lie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lie(e){var t=mHe(e,"string");return Kh(t)=="symbol"?t:t+""}function mHe(e,t){if(Kh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ay=(function(e){function t(){var n;lHe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=dHe(this,t,[].concat(a)),Lc(n,"state",{isAnimationFinished:!1}),Lc(n,"id",bm("recharts-bar-")),Lc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Lc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return hHe(t,e),cHe(t,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,f=at(this.props,!1);return r&&r.map(function(m,p){var g=p===c,v=g?u:o,y=Tr(Tr(Tr({},f),m),{},{isActive:g,option:v,index:p,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Z.createElement(Jt,Nw({className:"recharts-bar-rectangle"},Nu(a.props,m,p),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(p)}),Z.createElement(I7,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,f=a.animationEasing,m=a.animationId,p=this.state.prevData;return Z.createElement(zo,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,y=i.map(function(w,N){var A=p&&p[N];if(A){var T=Oa(A.x,w.x),C=Oa(A.y,w.y),S=Oa(A.width,w.width),E=Oa(A.height,w.height);return Tr(Tr({},w),{},{x:T(v),y:C(v),width:S(v),height:E(v)})}if(o==="horizontal"){var O=Oa(0,w.height),_=O(v);return Tr(Tr({},w),{},{y:w.y+w.height-_,height:_})}var M=Oa(0,w.width),$=M(v);return Tr(Tr({},w),{},{width:$})});return Z.createElement(Jt,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!ky(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=at(this.props.background,!1);return i.map(function(u,f){u.value;var m=u.background,p=iHe(u,aHe);if(!m)return null;var g=Tr(Tr(Tr(Tr(Tr({},p),{},{fill:"#eee"},m),c),Nu(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return Z.createElement(I7,Nw({key:"background-bar-".concat(f),option:r.props.background,isActive:f===l},g))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,m=za(f,Ty);if(!m)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,g=function(w,N){var A=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:A,errorVal:zr(w,N)}},v={clipPath:r?"url(#clipPath-".concat(a,")"):null};return Z.createElement(Jt,v,m.map(function(y){return Z.cloneElement(y,{key:"error-bar-".concat(a,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:p,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,f=r.top,m=r.width,p=r.height,g=r.isAnimationActive,v=r.background,y=r.id;if(a||!i||!i.length)return null;var w=this.state.isAnimationFinished,N=Ct("recharts-bar",o),A=l&&l.allowDataOverflow,T=c&&c.allowDataOverflow,C=A||T,S=Nt(y)?this.id:y;return Z.createElement(Jt,{className:N},A||T?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(S)},Z.createElement("rect",{x:A?u:u-m/2,y:T?f:f-p/2,width:A?m:m*2,height:T?p:p*2}))):null,Z.createElement(Jt,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,S),(!g||w)&&Dl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])})(j.PureComponent);iie=Ay;Lc(Ay,"displayName","Bar");Lc(Ay,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Lc(Ay,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,m=e.displayedData,p=e.offset,g=Sze(r,n);if(!g)return null;var v=t.layout,y=n.type.defaultProps,w=y!==void 0?Tr(Tr({},y),n.props):n.props,N=w.dataKey,A=w.children,T=w.minPointSize,C=v==="horizontal"?o:i,S=u?C.scale.domain():null,E=Pze({numericAxis:C}),O=za(A,s1),_=m.map(function(M,$){var z,V,I,F,K,R;u?z=Cze(u[f+$],S):(z=zr(M,N),Array.isArray(z)||(z=[E,z]));var B=sHe(T,iie.defaultProps.minPointSize)(z[1],$);if(v==="horizontal"){var L,q=[o.scale(z[0]),o.scale(z[1])],se=q[0],H=q[1];V=g9({axis:i,ticks:l,bandSize:a,offset:g.offset,entry:M,index:$}),I=(L=H??se)!==null&&L!==void 0?L:void 0,F=g.size;var Y=se-H;if(K=Number.isNaN(Y)?0:Y,R={x:V,y:o.y,width:F,height:o.height},Math.abs(B)>0&&Math.abs(K)<Math.abs(B)){var G=zs(K||B)*(Math.abs(B)-Math.abs(K));I-=G,K+=G}}else{var X=[i.scale(z[0]),i.scale(z[1])],ae=X[0],de=X[1];if(V=ae,I=g9({axis:o,ticks:c,bandSize:a,offset:g.offset,entry:M,index:$}),F=de-ae,K=g.size,R={x:i.x,y:I,width:i.width,height:K},Math.abs(B)>0&&Math.abs(F)<Math.abs(B)){var he=zs(F||B)*(Math.abs(B)-Math.abs(F));F+=he}}return Tr(Tr(Tr({},M),{},{x:V,y:I,width:F,height:K,value:u?z:z[1],payload:M,background:R},O&&O[$]&&O[$].props),{},{tooltipPayload:[Dae(n,M)],tooltipPosition:{x:V+F/2,y:I+K/2}})});return Tr({data:_,layout:v},p)});function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}function pHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cie(r.key),r)}}function xHe(e,t,n){return t&&F7(e.prototype,t),n&&F7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function B7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B7(Object(n),!0).forEach(function(r){N1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N1(e,t,n){return t=cie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cie(e){var t=gHe(e,"string");return qg(t)=="symbol"?t:t+""}function gHe(e,t){if(qg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yHe=function(t,n,r,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(n),m={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},p=!!Ta(u,Ay);return f.reduce(function(g,v){var y=n[v],w=y.orientation,N=y.domain,A=y.padding,T=A===void 0?{}:A,C=y.mirror,S=y.reversed,E="".concat(w).concat(C?"Mirror":""),O,_,M,$,z;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var V=N[1]-N[0],I=1/0,F=y.categoricalDomain.sort(f3e);if(F.forEach(function(X,ae){ae>0&&(I=Math.min((X||0)-(F[ae-1]||0),I))}),Number.isFinite(I)){var K=I/V,R=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(O=K*R/2),y.padding==="no-gap"){var B=qs(t.barCategoryGap,K*R),L=K*R/2;O=L-B-(L-B)/R*B}}}a==="xAxis"?_=[r.left+(T.left||0)+(O||0),r.left+r.width-(T.right||0)-(O||0)]:a==="yAxis"?_=c==="horizontal"?[r.top+r.height-(T.bottom||0),r.top+(T.top||0)]:[r.top+(T.top||0)+(O||0),r.top+r.height-(T.bottom||0)-(O||0)]:_=y.range,S&&(_=[_[1],_[0]]);var q=Pae(y,i,p),se=q.scale,H=q.realScaleType;se.domain(N).range(_),Mae(se);var Y=_ae(se,$i($i({},y),{},{realScaleType:H}));a==="xAxis"?(z=w==="top"&&!C||w==="bottom"&&C,M=r.left,$=m[E]-z*y.height):a==="yAxis"&&(z=w==="left"&&!C||w==="right"&&C,M=m[E]-z*y.width,$=r.top);var G=$i($i($i({},y),Y),{},{realScaleType:H,x:M,y:$,scale:se,width:a==="xAxis"?r.width:y.width,height:a==="yAxis"?r.height:y.height});return G.bandSize=ow(G,Y),!y.hide&&a==="xAxis"?m[E]+=(z?-1:1)*G.height:y.hide||(m[E]+=(z?-1:1)*G.width),$i($i({},g),{},N1({},v,G))},{})},die=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(a,o),width:Math.abs(i-r),height:Math.abs(o-a)}},vHe=function(t){var n=t.x1,r=t.y1,a=t.x2,i=t.y2;return die({x:n,y:r},{x:a,y:i})},uie=(function(){function e(t){pHe(this,e),this.scale=t}return xHe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])})();N1(uie,"EPS",1e-4);var T3=function(t){var n=Object.keys(t).reduce(function(r,a){return $i($i({},r),{},N1({},a,uie.create(t[a])))},{});return $i($i({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return KVe(a,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return aie(a,function(i,o){return n[o].isInRange(i)})}})};function bHe(e){return(e%180+180)%180}var jHe=function(t){var n=t.width,r=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=bHe(a),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},cO,z7;function wHe(){if(z7)return cO;z7=1;var e=Ho(),t=jy(),n=e1();function r(a){return function(i,o,l){var c=Object(i);if(!t(i)){var u=e(o,3);i=n(i),o=function(m){return u(c[m],m,c)}}var f=a(i,o,l);return f>-1?c[u?i[f]:f]:void 0}}return cO=r,cO}var dO,q7;function NHe(){if(q7)return dO;q7=1;var e=tie();function t(n){var r=e(n),a=r%1;return r===r?a?r-a:r:0}return dO=t,dO}var uO,U7;function SHe(){if(U7)return uO;U7=1;var e=fse(),t=Ho(),n=NHe(),r=Math.max;function a(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:n(l);return u<0&&(u=r(c+u,0)),e(i,t(o,3),u)}return uO=a,uO}var fO,V7;function CHe(){if(V7)return fO;V7=1;var e=wHe(),t=SHe(),n=e(t);return fO=n,fO}var kHe=CHe();const THe=on(kHe);var AHe=Are();const EHe=on(AHe);var OHe=EHe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),A3=j.createContext(void 0),E3=j.createContext(void 0),fie=j.createContext(void 0),hie=j.createContext({}),mie=j.createContext(void 0),pie=j.createContext(0),xie=j.createContext(0),H7=function(t){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,f=OHe(i);return Z.createElement(A3.Provider,{value:r},Z.createElement(E3.Provider,{value:a},Z.createElement(hie.Provider,{value:i},Z.createElement(fie.Provider,{value:f},Z.createElement(mie.Provider,{value:o},Z.createElement(pie.Provider,{value:u},Z.createElement(xie.Provider,{value:c},l)))))))},PHe=function(){return j.useContext(mie)},gie=function(t){var n=j.useContext(A3);n==null&&ku();var r=n[t];return r==null&&ku(),r},MHe=function(){var t=j.useContext(A3);return _c(t)},_He=function(){var t=j.useContext(E3),n=THe(t,function(r){return aie(r.domain,Number.isFinite)});return n||_c(t)},yie=function(t){var n=j.useContext(E3);n==null&&ku();var r=n[t];return r==null&&ku(),r},RHe=function(){var t=j.useContext(fie);return t},DHe=function(){return j.useContext(hie)},O3=function(){return j.useContext(xie)},P3=function(){return j.useContext(pie)};function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function IHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LHe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bie(r.key),r)}}function $He(e,t,n){return t&&LHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FHe(e,t,n){return t=Cw(t),BHe(e,vie()?Reflect.construct(t,n||[],Cw(e).constructor):t.apply(e,n))}function BHe(e,t){if(t&&(Wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zHe(e)}function zHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vie=function(){return!!e})()}function Cw(e){return Cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cw(e)}function qHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yM(e,t)}function yM(e,t){return yM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},yM(e,t)}function K7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function W7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K7(Object(n),!0).forEach(function(r){M3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M3(e,t,n){return t=bie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bie(e){var t=UHe(e,"string");return Wh(t)=="symbol"?t:t+""}function UHe(e,t){if(Wh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function VHe(e,t){return GHe(e)||WHe(e,t)||KHe(e,t)||HHe()}function HHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KHe(e,t){if(e){if(typeof e=="string")return G7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G7(e,t)}}function G7(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WHe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function GHe(e){if(Array.isArray(e))return e}function vM(){return vM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vM.apply(this,arguments)}var YHe=function(t,n){var r;return Z.isValidElement(t)?r=Z.cloneElement(t,n):vt(t)?r=t(n):r=Z.createElement("line",vM({},n,{className:"recharts-reference-line-line"})),r},XHe=function(t,n,r,a,i,o,l,c,u){var f=i.x,m=i.y,p=i.width,g=i.height;if(r){var v=u.y,y=t.y.apply(v,{position:o});if(Mo(u,"discard")&&!t.y.isInRange(y))return null;var w=[{x:f+p,y},{x:f,y}];return c==="left"?w.reverse():w}if(n){var N=u.x,A=t.x.apply(N,{position:o});if(Mo(u,"discard")&&!t.x.isInRange(A))return null;var T=[{x:A,y:m+g},{x:A,y:m}];return l==="top"?T.reverse():T}if(a){var C=u.segment,S=C.map(function(E){return t.apply(E,{position:o})});return Mo(u,"discard")&&qVe(S,function(E){return!t.isInRange(E)})?null:S}return null};function QHe(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=PHe(),f=gie(a),m=yie(i),p=RHe();if(!u||!p)return null;Xi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=T3({x:f.scale,y:m.scale}),v=Ur(t),y=Ur(n),w=r&&r.length===2,N=XHe(g,v,y,w,p,e.position,f.orientation,m.orientation,e);if(!N)return null;var A=VHe(N,2),T=A[0],C=T.x,S=T.y,E=A[1],O=E.x,_=E.y,M=Mo(e,"hidden")?"url(#".concat(u,")"):void 0,$=W7(W7({clipPath:M},at(e,!0)),{},{x1:C,y1:S,x2:O,y2:_});return Z.createElement(Jt,{className:Ct("recharts-reference-line",l)},YHe(o,$),Xr.renderCallByParent(e,vHe({x1:C,y1:S,x2:O,y2:_})))}var _3=(function(e){function t(){return IHe(this,t),FHe(this,t,arguments)}return qHe(t,e),$He(t,[{key:"render",value:function(){return Z.createElement(QHe,this.props)}}])})(Z.Component);M3(_3,"displayName","ReferenceLine");M3(_3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function bM(){return bM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bM.apply(this,arguments)}function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function Y7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function X7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y7(Object(n),!0).forEach(function(r){S1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZHe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wie(r.key),r)}}function e9e(e,t,n){return t&&ZHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t9e(e,t,n){return t=kw(t),n9e(e,jie()?Reflect.construct(t,n||[],kw(e).constructor):t.apply(e,n))}function n9e(e,t){if(t&&(Gh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r9e(e)}function r9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jie=function(){return!!e})()}function kw(e){return kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kw(e)}function s9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jM(e,t)}function jM(e,t){return jM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},jM(e,t)}function S1(e,t,n){return t=wie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wie(e){var t=a9e(e,"string");return Gh(t)=="symbol"?t:t+""}function a9e(e,t){if(Gh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var i9e=function(t){var n=t.x,r=t.y,a=t.xAxis,i=t.yAxis,o=T3({x:a.scale,y:i.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Mo(t,"discard")&&!o.isInRange(l)?null:l},C1=(function(e){function t(){return JHe(this,t),t9e(this,t,arguments)}return s9e(t,e),e9e(t,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=Ur(a),f=Ur(i);if(Xi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var m=i9e(this.props);if(!m)return null;var p=m.x,g=m.y,v=this.props,y=v.shape,w=v.className,N=Mo(this.props,"hidden")?"url(#".concat(c,")"):void 0,A=X7(X7({clipPath:N},at(this.props,!0)),{},{cx:p,cy:g});return Z.createElement(Jt,{className:Ct("recharts-reference-dot",w)},t.renderDot(y,A),Xr.renderCallByParent(this.props,{x:p-o,y:g-o,width:2*o,height:2*o}))}}])})(Z.Component);S1(C1,"displayName","ReferenceDot");S1(C1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});S1(C1,"renderDot",function(e,t){var n;return Z.isValidElement(e)?n=Z.cloneElement(e,t):vt(e)?n=e(t):n=Z.createElement(x1,bM({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function wM(){return wM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wM.apply(this,arguments)}function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function Q7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function J7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q7(Object(n),!0).forEach(function(r){k1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l9e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sie(r.key),r)}}function c9e(e,t,n){return t&&l9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d9e(e,t,n){return t=Tw(t),u9e(e,Nie()?Reflect.construct(t,n||[],Tw(e).constructor):t.apply(e,n))}function u9e(e,t){if(t&&(Yh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f9e(e)}function f9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nie=function(){return!!e})()}function Tw(e){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tw(e)}function h9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NM(e,t)}function NM(e,t){return NM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},NM(e,t)}function k1(e,t,n){return t=Sie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sie(e){var t=m9e(e,"string");return Yh(t)=="symbol"?t:t+""}function m9e(e,t){if(Yh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var p9e=function(t,n,r,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,f=i.xAxis,m=i.yAxis;if(!f||!m)return null;var p=T3({x:f.scale,y:m.scale}),g={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(c,{position:"start"}):p.y.rangeMin},v={x:n?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Mo(i,"discard")&&(!p.isInRange(g)||!p.isInRange(v))?null:die(g,v)},T1=(function(e){function t(){return o9e(this,t),d9e(this,t,arguments)}return h9e(t,e),c9e(t,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,f=r.clipPathId;Xi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Ur(a),p=Ur(i),g=Ur(o),v=Ur(l),y=this.props.shape;if(!m&&!p&&!g&&!v&&!y)return null;var w=p9e(m,p,g,v,this.props);if(!w&&!y)return null;var N=Mo(this.props,"hidden")?"url(#".concat(f,")"):void 0;return Z.createElement(Jt,{className:Ct("recharts-reference-area",c)},t.renderRect(y,J7(J7({clipPath:N},at(this.props,!0)),w)),Xr.renderCallByParent(this.props,w))}}])})(Z.Component);k1(T1,"displayName","ReferenceArea");k1(T1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});k1(T1,"renderRect",function(e,t){var n;return Z.isValidElement(e)?n=Z.cloneElement(e,t):vt(e)?n=e(t):n=Z.createElement(k3,wM({},t,{className:"recharts-reference-area-rect"})),n});function Cie(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function x9e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return jHe(r,n)}function g9e(e,t,n){var r=n==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:r?a:i,end:r?a+o:i+l}:{start:r?a+o:i+l,end:r?a:i}}function Aw(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function y9e(e,t){return Cie(e,t+1)}function v9e(e,t,n,r,a){for(var i=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,f=o,m=function(){var v=r?.[c];if(v===void 0)return{v:Cie(r,u)};var y=c,w,N=function(){return w===void 0&&(w=n(v,y)),w},A=v.coordinate,T=c===0||Aw(e,A,N,f,l);T||(c=0,f=o,u+=1),T&&(f=A+e*(N()/2+a),c+=u)},p;u<=i.length;)if(p=m(),p)return p.v;return[]}function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function Z7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ws(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z7(Object(n),!0).forEach(function(r){b9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b9e(e,t,n){return t=j9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j9e(e){var t=w9e(e,"string");return Ug(t)=="symbol"?t:t+""}function w9e(e,t){if(Ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N9e(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(p){var g=i[p],v,y=function(){return v===void 0&&(v=n(g,p)),v};if(p===o-1){var w=e*(g.coordinate+e*y()/2-c);i[p]=g=ws(ws({},g),{},{tickCoord:w>0?g.coordinate-w*e:g.coordinate})}else i[p]=g=ws(ws({},g),{},{tickCoord:g.coordinate});var N=Aw(e,g.tickCoord,y,l,c);N&&(c=g.tickCoord-e*(y()/2+a),i[p]=ws(ws({},g),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return i}function S9e(e,t,n,r,a,i){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var f=r[l-1],m=n(f,l-1),p=e*(f.coordinate+e*m/2-u);o[l-1]=f=ws(ws({},f),{},{tickCoord:p>0?f.coordinate-p*e:f.coordinate});var g=Aw(e,f.tickCoord,function(){return m},c,u);g&&(u=f.tickCoord-e*(m/2+a),o[l-1]=ws(ws({},f),{},{isShow:!0}))}for(var v=i?l-1:l,y=function(A){var T=o[A],C,S=function(){return C===void 0&&(C=n(T,A)),C};if(A===0){var E=e*(T.coordinate-e*S()/2-c);o[A]=T=ws(ws({},T),{},{tickCoord:E<0?T.coordinate-E*e:T.coordinate})}else o[A]=T=ws(ws({},T),{},{tickCoord:T.coordinate});var O=Aw(e,T.tickCoord,S,c,u);O&&(c=T.tickCoord+e*(S()/2+a),o[A]=ws(ws({},T),{},{isShow:!0}))},w=0;w<v;w++)y(w);return o}function R3(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,m=e.angle;if(!a||!a.length||!r)return[];if($e(c)||Fu.isSsr)return y9e(a,typeof c=="number"&&$e(c)?c:0);var p=[],g=l==="top"||l==="bottom"?"width":"height",v=f&&g==="width"?Mx(f,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=function(T,C){var S=vt(u)?u(T.value,C):T.value;return g==="width"?x9e(Mx(S,{fontSize:t,letterSpacing:n}),v,m):Mx(S,{fontSize:t,letterSpacing:n})[g]},w=a.length>=2?zs(a[1].coordinate-a[0].coordinate):1,N=g9e(i,w,g);return c==="equidistantPreserveStart"?v9e(w,N,y,a,o):(c==="preserveStart"||c==="preserveStartEnd"?p=S9e(w,N,y,a,o,c==="preserveStartEnd"):p=N9e(w,N,y,a,o),p.filter(function(A){return A.isShow}))}var C9e=["viewBox"],k9e=["viewBox"],T9e=["ticks"];function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qf.apply(this,arguments)}function eK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eK(Object(n),!0).forEach(function(r){D3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hO(e,t){if(e==null)return{};var n=A9e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function A9e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function E9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tie(r.key),r)}}function O9e(e,t,n){return t&&tK(e.prototype,t),n&&tK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function P9e(e,t,n){return t=Ew(t),M9e(e,kie()?Reflect.construct(t,n||[],Ew(e).constructor):t.apply(e,n))}function M9e(e,t){if(t&&(Xh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _9e(e)}function _9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kie=function(){return!!e})()}function Ew(e){return Ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ew(e)}function R9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SM(e,t)}function SM(e,t){return SM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},SM(e,t)}function D3(e,t,n){return t=Tie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tie(e){var t=D9e(e,"string");return Xh(t)=="symbol"?t:t+""}function D9e(e,t){if(Xh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cm=(function(e){function t(n){var r;return E9e(this,t),r=P9e(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return R9e(t,e),O9e(t,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,o=hO(r,C9e),l=this.props,c=l.viewBox,u=hO(l,k9e);return!lh(i,c)||!lh(o,u)||!lh(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,f=a.tickSize,m=a.mirror,p=a.tickMargin,g,v,y,w,N,A,T=m?-1:1,C=r.tickSize||f,S=$e(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=v=r.coordinate,w=o+ +!m*c,y=w-T*C,A=y-T*p,N=S;break;case"left":y=w=r.coordinate,v=i+ +!m*l,g=v-T*C,N=g-T*p,A=S;break;case"right":y=w=r.coordinate,v=i+ +m*l,g=v+T*C,N=g+T*p,A=S;break;default:g=v=r.coordinate,w=o+ +m*c,y=w+T*C,A=y+T*p,N=S;break}return{line:{x1:g,y1:y,x2:v,y2:w},tick:{x:N,y:A}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,f=r.axisLine,m=Lr(Lr(Lr({},at(this.props,!1)),at(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);m=Lr(Lr({},m),{},{x1:a,y1:i+p*l,x2:a+o,y2:i+p*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);m=Lr(Lr({},m),{},{x1:a+g*o,y1:i,x2:a+g*o,y2:i+l})}return Z.createElement("line",Qf({},m,{className:Ct("recharts-cartesian-axis-line",Ba(f,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,m=l.tickFormatter,p=l.unit,g=R3(Lr(Lr({},this.props),{},{ticks:r}),a,i),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),w=at(this.props,!1),N=at(f,!1),A=Lr(Lr({},w),{},{fill:"none"},at(c,!1)),T=g.map(function(C,S){var E=o.getTickLineCoord(C),O=E.line,_=E.tick,M=Lr(Lr(Lr(Lr({textAnchor:v,verticalAnchor:y},w),{},{stroke:"none",fill:u},N),_),{},{index:S,payload:C,visibleTicksCount:g.length,tickFormatter:m});return Z.createElement(Jt,Qf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Nu(o.props,C,S)),c&&Z.createElement("line",Qf({},A,O,{className:Ct("recharts-cartesian-axis-tick-line",Ba(c,"className"))})),f&&t.renderTickItem(f,M,"".concat(vt(m)?m(C.value,S):C.value).concat(p||"")))});return Z.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var m=this.props,p=m.ticks,g=hO(m,T9e),v=p;return vt(c)&&(v=p&&p.length>0?c(this.props):c(g)),o<=0||l<=0||!v||!v.length?null:Z.createElement(Jt,{className:Ct("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Xr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var o,l=Ct(a.className,"recharts-cartesian-axis-tick-value");return Z.isValidElement(r)?o=Z.cloneElement(r,Lr(Lr({},a),{},{className:l})):vt(r)?o=r(Lr(Lr({},a),{},{className:l})):o=Z.createElement(Su,Qf({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(j.Component);D3(Cm,"displayName","CartesianAxis");D3(Cm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var I9e=["x1","y1","x2","y2","key"],L9e=["offset"];function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}function nK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ss(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nK(Object(n),!0).forEach(function(r){$9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $9e(e,t,n){return t=F9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F9e(e){var t=B9e(e,"string");return Tu(t)=="symbol"?t:t+""}function B9e(e,t){if(Tu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xd.apply(this,arguments)}function rK(e,t){if(e==null)return{};var n=z9e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function z9e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var q9e=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return Z.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Aie(e,t){var n;if(Z.isValidElement(e))n=Z.cloneElement(e,t);else if(vt(e))n=e(t);else{var r=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=rK(t,I9e),u=at(c,!1);u.offset;var f=rK(u,L9e);n=Z.createElement("line",Xd({},f,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function U9e(e){var t=e.x,n=e.width,r=e.horizontal,a=r===void 0?!0:r,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Ss(Ss({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return Aie(a,u)});return Z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function V9e(e){var t=e.y,n=e.height,r=e.vertical,a=r===void 0?!0:r,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Ss(Ss({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return Aie(a,u)});return Z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function H9e(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(p){return Math.round(p+a-a)}).sort(function(p,g){return p-g});a!==f[0]&&f.unshift(0);var m=f.map(function(p,g){var v=!f[g+1],y=v?a+o-p:f[g+1]-p;if(y<=0)return null;var w=g%t.length;return Z.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:y,width:i,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function K9e(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var f=u.map(function(p){return Math.round(p+i-i)}).sort(function(p,g){return p-g});i!==f[0]&&f.unshift(0);var m=f.map(function(p,g){var v=!f[g+1],y=v?i+l-p:f[g+1]-p;if(y<=0)return null;var w=g%r.length;return Z.createElement("rect",{key:"react-".concat(g),x:p,y:o,width:y,height:c,stroke:"none",fill:r[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var W9e=function(t,n){var r=t.xAxis,a=t.width,i=t.height,o=t.offset;return Oae(R3(Ss(Ss(Ss({},Cm.defaultProps),r),{},{ticks:El(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},G9e=function(t,n){var r=t.yAxis,a=t.width,i=t.height,o=t.offset;return Oae(R3(Ss(Ss(Ss({},Cm.defaultProps),r),{},{ticks:El(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},Df={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function A1(e){var t,n,r,a,i,o,l=O3(),c=P3(),u=DHe(),f=Ss(Ss({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Df.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Df.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Df.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Df.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Df.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Df.verticalFill,x:$e(e.x)?e.x:u.left,y:$e(e.y)?e.y:u.top,width:$e(e.width)?e.width:u.width,height:$e(e.height)?e.height:u.height}),m=f.x,p=f.y,g=f.width,v=f.height,y=f.syncWithTicks,w=f.horizontalValues,N=f.verticalValues,A=MHe(),T=_He();if(!$e(g)||g<=0||!$e(v)||v<=0||!$e(m)||m!==+m||!$e(p)||p!==+p)return null;var C=f.verticalCoordinatesGenerator||W9e,S=f.horizontalCoordinatesGenerator||G9e,E=f.horizontalPoints,O=f.verticalPoints;if((!E||!E.length)&&vt(S)){var _=w&&w.length,M=S({yAxis:T?Ss(Ss({},T),{},{ticks:_?w:T.ticks}):void 0,width:l,height:c,offset:u},_?!0:y);Xi(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Tu(M),"]")),Array.isArray(M)&&(E=M)}if((!O||!O.length)&&vt(C)){var $=N&&N.length,z=C({xAxis:A?Ss(Ss({},A),{},{ticks:$?N:A.ticks}):void 0,width:l,height:c,offset:u},$?!0:y);Xi(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Tu(z),"]")),Array.isArray(z)&&(O=z)}return Z.createElement("g",{className:"recharts-cartesian-grid"},Z.createElement(q9e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),Z.createElement(U9e,Xd({},f,{offset:u,horizontalPoints:E,xAxis:A,yAxis:T})),Z.createElement(V9e,Xd({},f,{offset:u,verticalPoints:O,xAxis:A,yAxis:T})),Z.createElement(H9e,Xd({},f,{horizontalPoints:E})),Z.createElement(K9e,Xd({},f,{verticalPoints:O})))}A1.displayName="CartesianGrid";var Y9e=["type","layout","connectNulls","ref"],X9e=["key"];function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function sK(e,t){if(e==null)return{};var n=Q9e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Q9e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$x.apply(this,arguments)}function aK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aK(Object(n),!0).forEach(function(r){Fi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function If(e){return t7e(e)||e7e(e)||Z9e(e)||J9e()}function J9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z9e(e,t){if(e){if(typeof e=="string")return CM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CM(e,t)}}function e7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function t7e(e){if(Array.isArray(e))return CM(e)}function CM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Oie(r.key),r)}}function r7e(e,t,n){return t&&iK(e.prototype,t),n&&iK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s7e(e,t,n){return t=Ow(t),a7e(e,Eie()?Reflect.construct(t,n||[],Ow(e).constructor):t.apply(e,n))}function a7e(e,t){if(t&&(Qh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i7e(e)}function i7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eie=function(){return!!e})()}function Ow(e){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ow(e)}function o7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kM(e,t)}function kM(e,t){return kM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},kM(e,t)}function Fi(e,t,n){return t=Oie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oie(e){var t=l7e(e,"string");return Qh(t)=="symbol"?t:t+""}function l7e(e,t){if(Qh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qi=(function(e){function t(){var n;n7e(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=s7e(this,t,[].concat(a)),Fi(n,"state",{isAnimationFinished:!0,totalLength:0}),Fi(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Fi(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(N,A){return N+A});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),m=o%u,p=l-o,g=[],v=0,y=0;v<c.length;y+=c[v],++v)if(y+c[v]>m){g=[].concat(If(c.slice(0,v)),[m-y]);break}var w=g.length%2===0?[0,p]:[p];return[].concat(If(t.repeat(c,f)),If(g),w).map(function(N){return"".concat(N,"px")}).join(", ")}),Fi(n,"id",bm("recharts-line-")),Fi(n,"pathRef",function(o){n.mainCurve=o}),Fi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Fi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return o7e(t,e),r7e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,m=za(f,Ty);if(!m)return null;var p=function(y,w){return{x:y.x,y:y.y,value:y.value,errorVal:zr(y.payload,w)}},g={clipPath:r?"url(#clipPath-".concat(a,")"):null};return Z.createElement(Jt,g,m.map(function(v){return Z.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,m=at(this.props,!1),p=at(c,!0),g=u.map(function(y,w){var N=Ca(Ca(Ca({key:"dot-".concat(w),r:3},m),p),{},{index:w,cx:y.x,cy:y.y,value:y.value,dataKey:f,payload:y.payload,points:u});return t.renderDotItem(c,N)}),v={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Z.createElement(Jt,$x({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(r,a,i,o){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var m=sK(l,Y9e),p=Ca(Ca(Ca({},at(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:f});return Z.createElement(dw,$x({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,m=o.animationDuration,p=o.animationEasing,g=o.animationId,v=o.animateNewValues,y=o.width,w=o.height,N=this.state,A=N.prevPoints,T=N.totalLength;return Z.createElement(zo,{begin:f,duration:m,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var S=C.t;if(A){var E=A.length/l.length,O=l.map(function(V,I){var F=Math.floor(I*E);if(A[F]){var K=A[F],R=Oa(K.x,V.x),B=Oa(K.y,V.y);return Ca(Ca({},V),{},{x:R(S),y:B(S)})}if(v){var L=Oa(y*2,V.x),q=Oa(w/2,V.y);return Ca(Ca({},V),{},{x:L(S),y:q(S)})}return Ca(Ca({},V),{},{x:V.x,y:V.y})});return i.renderCurveStatically(O,r,a)}var _=Oa(0,T),M=_(S),$;if(c){var z="".concat(c).split(/[,\s]+/gim).map(function(V){return parseFloat(V)});$=i.getStrokeDasharray(M,T,z)}else $=i.generateSimpleStrokeDasharray(T,M);return i.renderCurveStatically(l,r,a,{strokeDasharray:$})})}},{key:"renderCurve",value:function(r,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!u&&f>0||!ky(u,o))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(o,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,f=a.yAxis,m=a.top,p=a.left,g=a.width,v=a.height,y=a.isAnimationActive,w=a.id;if(i||!l||!l.length)return null;var N=this.state.isAnimationFinished,A=l.length===1,T=Ct("recharts-line",c),C=u&&u.allowDataOverflow,S=f&&f.allowDataOverflow,E=C||S,O=Nt(w)?this.id:w,_=(r=at(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},M=_.r,$=M===void 0?3:M,z=_.strokeWidth,V=z===void 0?2:z,I=j3e(o)?o:{},F=I.clipDot,K=F===void 0?!0:F,R=$*2+V;return Z.createElement(Jt,{className:T},C||S?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(O)},Z.createElement("rect",{x:C?p:p-g/2,y:S?m:m-v/2,width:C?g:g*2,height:S?v:v*2})),!K&&Z.createElement("clipPath",{id:"clipPath-dots-".concat(O)},Z.createElement("rect",{x:p-R/2,y:m-R/2,width:g+R,height:v+R}))):null,!A&&this.renderCurve(E,O),this.renderErrorBar(E,O),(A||o)&&this.renderDots(E,K,O),(!y||N)&&Dl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var i=r.length%2!==0?[].concat(If(r),[0]):r,o=[],l=0;l<a;++l)o=[].concat(If(o),If(i));return o}},{key:"renderDotItem",value:function(r,a){var i;if(Z.isValidElement(r))i=Z.cloneElement(r,a);else if(vt(r))i=r(a);else{var o=a.key,l=sK(a,X9e),c=Ct("recharts-line-dot",typeof r!="boolean"?r.className:"");i=Z.createElement(x1,$x({key:o},l,{className:c}))}return i}}])})(j.PureComponent);Fi(Qi,"displayName","Line");Fi(Qi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Fu.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Fi(Qi,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,m=c.map(function(p,g){var v=zr(p,o);return f==="horizontal"?{x:x9({axis:n,ticks:a,bandSize:l,entry:p,index:g}),y:Nt(v)?null:r.scale(v),value:v,payload:p}:{x:Nt(v)?null:n.scale(v),y:x9({axis:r,ticks:i,bandSize:l,entry:p,index:g}),value:v,payload:p}});return Ca({points:m,layout:f},u)});function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function c7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d7e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_ie(r.key),r)}}function u7e(e,t,n){return t&&d7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f7e(e,t,n){return t=Pw(t),h7e(e,Pie()?Reflect.construct(t,n||[],Pw(e).constructor):t.apply(e,n))}function h7e(e,t){if(t&&(Jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m7e(e)}function m7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pie=function(){return!!e})()}function Pw(e){return Pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pw(e)}function p7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TM(e,t)}function TM(e,t){return TM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},TM(e,t)}function Mie(e,t,n){return t=_ie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ie(e){var t=x7e(e,"string");return Jh(t)=="symbol"?t:t+""}function x7e(e,t){if(Jh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function AM(){return AM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AM.apply(this,arguments)}function g7e(e){var t=e.xAxisId,n=O3(),r=P3(),a=gie(t);return a==null?null:j.createElement(Cm,AM({},a,{className:Ct("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return El(o,!0)}}))}var km=(function(e){function t(){return c7e(this,t),f7e(this,t,arguments)}return p7e(t,e),u7e(t,[{key:"render",value:function(){return j.createElement(g7e,this.props)}}])})(j.Component);Mie(km,"displayName","XAxis");Mie(km,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function y7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v7e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Iie(r.key),r)}}function b7e(e,t,n){return t&&v7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function j7e(e,t,n){return t=Mw(t),w7e(e,Rie()?Reflect.construct(t,n||[],Mw(e).constructor):t.apply(e,n))}function w7e(e,t){if(t&&(Zh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N7e(e)}function N7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rie=function(){return!!e})()}function Mw(e){return Mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mw(e)}function S7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EM(e,t)}function EM(e,t){return EM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},EM(e,t)}function Die(e,t,n){return t=Iie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iie(e){var t=C7e(e,"string");return Zh(t)=="symbol"?t:t+""}function C7e(e,t){if(Zh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function OM(){return OM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OM.apply(this,arguments)}var k7e=function(t){var n=t.yAxisId,r=O3(),a=P3(),i=yie(n);return i==null?null:j.createElement(Cm,OM({},i,{className:Ct("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return El(l,!0)}}))},Tm=(function(e){function t(){return y7e(this,t),j7e(this,t,arguments)}return S7e(t,e),b7e(t,[{key:"render",value:function(){return j.createElement(k7e,this.props)}}])})(j.Component);Die(Tm,"displayName","YAxis");Die(Tm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function oK(e){return O7e(e)||E7e(e)||A7e(e)||T7e()}function T7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A7e(e,t){if(e){if(typeof e=="string")return PM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PM(e,t)}}function E7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function O7e(e){if(Array.isArray(e))return PM(e)}function PM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var MM=function(t,n,r,a,i){var o=za(t,_3),l=za(t,C1),c=[].concat(oK(o),oK(l)),u=za(t,T1),f="".concat(a,"Id"),m=a[0],p=n;if(c.length&&(p=c.reduce(function(y,w){if(w.props[f]===r&&Mo(w.props,"extendDomain")&&$e(w.props[m])){var N=w.props[m];return[Math.min(y[0],N),Math.max(y[1],N)]}return y},p)),u.length){var g="".concat(m,"1"),v="".concat(m,"2");p=u.reduce(function(y,w){if(w.props[f]===r&&Mo(w.props,"extendDomain")&&$e(w.props[g])&&$e(w.props[v])){var N=w.props[g],A=w.props[v];return[Math.min(y[0],N,A),Math.max(y[1],N,A)]}return y},p)}return i&&i.length&&(p=i.reduce(function(y,w){return $e(w)?[Math.min(y[0],w),Math.max(y[1],w)]:y},p)),p},mO={exports:{}},lK;function P7e(){return lK||(lK=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,m,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new a(f,m||c,p),v=n?n+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],g]:c._events[v].push(g):(c._events[v]=g,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,m;if(this._eventsCount===0)return u;for(m in f=this._events)t.call(f,m)&&u.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=n?n+u:u,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,g=m.length,v=new Array(g);p<g;p++)v[p]=m[p].fn;return v},l.prototype.listenerCount=function(u){var f=n?n+u:u,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(u,f,m,p,g,v){var y=n?n+u:u;if(!this._events[y])return!1;var w=this._events[y],N=arguments.length,A,T;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),N){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,m),!0;case 4:return w.fn.call(w.context,f,m,p),!0;case 5:return w.fn.call(w.context,f,m,p,g),!0;case 6:return w.fn.call(w.context,f,m,p,g,v),!0}for(T=1,A=new Array(N-1);T<N;T++)A[T-1]=arguments[T];w.fn.apply(w.context,A)}else{var C=w.length,S;for(T=0;T<C;T++)switch(w[T].once&&this.removeListener(u,w[T].fn,void 0,!0),N){case 1:w[T].fn.call(w[T].context);break;case 2:w[T].fn.call(w[T].context,f);break;case 3:w[T].fn.call(w[T].context,f,m);break;case 4:w[T].fn.call(w[T].context,f,m,p);break;default:if(!A)for(S=1,A=new Array(N-1);S<N;S++)A[S-1]=arguments[S];w[T].fn.apply(w[T].context,A)}}return!0},l.prototype.on=function(u,f,m){return i(this,u,f,m,!1)},l.prototype.once=function(u,f,m){return i(this,u,f,m,!0)},l.prototype.removeListener=function(u,f,m,p){var g=n?n+u:u;if(!this._events[g])return this;if(!f)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===f&&(!p||v.once)&&(!m||v.context===m)&&o(this,g);else{for(var y=0,w=[],N=v.length;y<N;y++)(v[y].fn!==f||p&&!v[y].once||m&&v[y].context!==m)&&w.push(v[y]);w.length?this._events[g]=w.length===1?w[0]:w:o(this,g)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(mO)),mO.exports}var M7e=P7e();const _7e=on(M7e);var pO=new _7e,xO="recharts.syncMouseEvents";function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function R7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D7e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lie(r.key),r)}}function I7e(e,t,n){return t&&D7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gO(e,t,n){return t=Lie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lie(e){var t=L7e(e,"string");return Vg(t)=="symbol"?t:t+""}function L7e(e,t){if(Vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $7e=(function(){function e(){R7e(this,e),gO(this,"activeIndex",0),gO(this,"coordinateList",[]),gO(this,"layout","horizontal")}return I7e(e,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,f=n.offset,m=f===void 0?null:f,p=n.mouseHandlerCallback,g=p===void 0?null:p;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=i+c+u,p=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:m,pageY:p})}}}])})();function F7e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e?.[0],a=e?.[1];if(r&&a&&$e(r)&&$e(a))return!0}return!1}function B7e(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function $ie(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle,o=Mn(t,n,r,a),l=Mn(t,n,r,i);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function z7e(e,t,n){var r,a,i,o;if(e==="horizontal")r=t.x,i=r,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,m=t.angle,p=Mn(l,c,u,m),g=Mn(l,c,f,m);r=p.x,a=p.y,i=g.x,o=g.y}else return $ie(t);return[{x:r,y:a},{x:i,y:o}]}function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function cK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cK(Object(n),!0).forEach(function(r){q7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q7e(e,t,n){return t=U7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U7e(e){var t=V7e(e,"string");return Hg(t)=="symbol"?t:t+""}function V7e(e,t){if(Hg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H7e(e){var t,n,r=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,m=e.layout,p=e.chartName,g=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!i||!o||p!=="ScatterChart"&&a!=="axis")return null;var v,y=dw;if(p==="ScatterChart")v=o,y=f8e;else if(p==="BarChart")v=B7e(m,o,c,f),y=k3;else if(m==="radial"){var w=$ie(o),N=w.cx,A=w.cy,T=w.radius,C=w.startAngle,S=w.endAngle;v={cx:N,cy:A,startAngle:C,endAngle:S,innerRadius:T,outerRadius:T},y=zae}else v={points:z7e(m,o,c)},y=dw;var E=Fb(Fb(Fb(Fb({stroke:"#ccc",pointerEvents:"none"},c),v),at(g,!1)),{},{payload:l,payloadIndex:u,className:Ct("recharts-tooltip-cursor",g.className)});return j.isValidElement(g)?j.cloneElement(g,E):j.createElement(y,E)}var K7e=["item"],W7e=["children","className","width","height","style","compact","title","desc"];function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jf.apply(this,arguments)}function dK(e,t){return X7e(e)||Y7e(e,t)||Bie(e,t)||G7e()}function G7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y7e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function X7e(e){if(Array.isArray(e))return e}function uK(e,t){if(e==null)return{};var n=Q7e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Q7e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function J7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z7e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zie(r.key),r)}}function eKe(e,t,n){return t&&Z7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tKe(e,t,n){return t=_w(t),nKe(e,Fie()?Reflect.construct(t,n||[],_w(e).constructor):t.apply(e,n))}function nKe(e,t){if(t&&(em(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rKe(e)}function rKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fie=function(){return!!e})()}function _w(e){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_w(e)}function sKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_M(e,t)}function _M(e,t){return _M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},_M(e,t)}function tm(e){return oKe(e)||iKe(e)||Bie(e)||aKe()}function aKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bie(e,t){if(e){if(typeof e=="string")return RM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RM(e,t)}}function iKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oKe(e){if(Array.isArray(e))return RM(e)}function RM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fK(Object(n),!0).forEach(function(r){ft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ft(e,t,n){return t=zie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zie(e){var t=lKe(e,"string");return em(t)=="symbol"?t:t+""}function lKe(e,t){if(em(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cKe={xAxis:["bottom","top"],yAxis:["left","right"]},dKe={width:"100%",height:"100%"},qie={x:0,y:0};function Bb(e){return e}var uKe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},fKe=function(t,n,r,a){var i=n.find(function(f){return f&&f.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return je(je(je({},a),Mn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return je(je(je({},a),Mn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return qie},E1=function(t,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(tm(l),tm(u)):l},[]);return o.length>0?o:t&&t.length&&$e(a)&&$e(i)?t.slice(a,i+1):[]};function Uie(e){return e==="number"?[0,"auto"]:void 0}var DM=function(t,n,r,a){var i=t.graphicalItems,o=t.tooltipAxis,l=E1(n,t);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,u){var f,m=(f=u.props.data)!==null&&f!==void 0?f:n;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var g=m===void 0?l:m;p=Ij(g,o.dataKey,a)}else p=m&&m[r]||l[r];return p?[].concat(tm(c),[Dae(u,p)]):c},[])},hK=function(t,n,r,a){var i=a||{x:t.chartX,y:t.chartY},o=uKe(i,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=yze(o,l,u,c);if(f>=0&&u){var m=u[f]&&u[f].value,p=DM(t,n,f,m),g=fKe(r,l,f,i);return{activeTooltipIndex:f,activeLabel:m,activePayload:p,activeCoordinate:g}}return null},hKe=function(t,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=t.layout,m=t.children,p=t.stackOffset,g=Eae(f,i);return r.reduce(function(v,y){var w,N=y.type.defaultProps!==void 0?je(je({},y.type.defaultProps),y.props):y.props,A=N.type,T=N.dataKey,C=N.allowDataOverflow,S=N.allowDuplicatedCategory,E=N.scale,O=N.ticks,_=N.includeHidden,M=N[o];if(v[M])return v;var $=E1(t.data,{graphicalItems:a.filter(function(Y){var G,X=o in Y.props?Y.props[o]:(G=Y.type.defaultProps)===null||G===void 0?void 0:G[o];return X===M}),dataStartIndex:c,dataEndIndex:u}),z=$.length,V,I,F;F7e(N.domain,C,A)&&(V=Y4(N.domain,null,C),g&&(A==="number"||E!=="auto")&&(F=Rx($,T,"category")));var K=Uie(A);if(!V||V.length===0){var R,B=(R=N.domain)!==null&&R!==void 0?R:K;if(T){if(V=Rx($,T,A),A==="category"&&g){var L=u3e(V);S&&L?(I=V,V=bw(0,z)):S||(V=b9(B,V,y).reduce(function(Y,G){return Y.indexOf(G)>=0?Y:[].concat(tm(Y),[G])},[]))}else if(A==="category")S?V=V.filter(function(Y){return Y!==""&&!Nt(Y)}):V=b9(B,V,y).reduce(function(Y,G){return Y.indexOf(G)>=0||G===""||Nt(G)?Y:[].concat(tm(Y),[G])},[]);else if(A==="number"){var q=Nze($,a.filter(function(Y){var G,X,ae=o in Y.props?Y.props[o]:(G=Y.type.defaultProps)===null||G===void 0?void 0:G[o],de="hide"in Y.props?Y.props.hide:(X=Y.type.defaultProps)===null||X===void 0?void 0:X.hide;return ae===M&&(_||!de)}),T,i,f);q&&(V=q)}g&&(A==="number"||E!=="auto")&&(F=Rx($,T,"category"))}else g?V=bw(0,z):l&&l[M]&&l[M].hasStack&&A==="number"?V=p==="expand"?[0,1]:Rae(l[M].stackGroups,c,u):V=Aae($,a.filter(function(Y){var G=o in Y.props?Y.props[o]:Y.type.defaultProps[o],X="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return G===M&&(_||!X)}),A,f,!0);if(A==="number")V=MM(m,V,M,i,O),B&&(V=Y4(B,V,C));else if(A==="category"&&B){var se=B,H=V.every(function(Y){return se.indexOf(Y)>=0});H&&(V=se)}}return je(je({},v),{},ft({},M,je(je({},N),{},{axisType:i,domain:V,categoricalDomain:F,duplicateDomain:I,originalDomain:(w=N.domain)!==null&&w!==void 0?w:K,isCategorical:g,layout:f})))},{})},mKe=function(t,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=t.layout,m=t.children,p=E1(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),g=p.length,v=Eae(f,i),y=-1;return r.reduce(function(w,N){var A=N.type.defaultProps!==void 0?je(je({},N.type.defaultProps),N.props):N.props,T=A[o],C=Uie("number");if(!w[T]){y++;var S;return v?S=bw(0,g):l&&l[T]&&l[T].hasStack?(S=Rae(l[T].stackGroups,c,u),S=MM(m,S,T,i)):(S=Y4(C,Aae(p,r.filter(function(E){var O,_,M=o in E.props?E.props[o]:(O=E.type.defaultProps)===null||O===void 0?void 0:O[o],$="hide"in E.props?E.props.hide:(_=E.type.defaultProps)===null||_===void 0?void 0:_.hide;return M===T&&!$}),"number",f),a.defaultProps.allowDataOverflow),S=MM(m,S,T,i)),je(je({},w),{},ft({},T,je(je({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ba(cKe,"".concat(i,".").concat(y%2),null),domain:S,originalDomain:C,isCategorical:v,layout:f})))}return w},{})},pKe=function(t,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=t.children,m="".concat(a,"Id"),p=za(f,i),g={};return p&&p.length?g=hKe(t,{axes:p,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(g=mKe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},xKe=function(t){var n=_c(t),r=El(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Z5(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:ow(n,r)}},mK=function(t){var n=t.children,r=t.defaultShowTooltip,a=Ta(n,Hh),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},gKe=function(t){return!t||!t.length?!1:t.some(function(n){var r=_l(n&&n.type);return r&&r.indexOf("Bar")>=0})},pK=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},yKe=function(t,n){var r=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,f=r.height,m=r.children,p=r.margin||{},g=Ta(m,Hh),v=Ta(m,su),y=Object.keys(c).reduce(function(S,E){var O=c[E],_=O.orientation;return!O.mirror&&!O.hide?je(je({},S),{},ft({},_,S[_]+O.width)):S},{left:p.left||0,right:p.right||0}),w=Object.keys(o).reduce(function(S,E){var O=o[E],_=O.orientation;return!O.mirror&&!O.hide?je(je({},S),{},ft({},_,Ba(S,"".concat(_))+O.height)):S},{top:p.top||0,bottom:p.bottom||0}),N=je(je({},w),y),A=N.bottom;g&&(N.bottom+=g.props.height||Hh.defaultProps.height),v&&n&&(N=jze(N,a,r,n));var T=u-N.left-N.right,C=f-N.top-N.bottom;return je(je({brushBottom:A},N),{},{width:Math.max(T,0),height:Math.max(C,0)})},vKe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Vie=function(t){var n=t.chartName,r=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,m=t.defaultProps,p=function(N,A){var T=A.graphicalItems,C=A.stackGroups,S=A.offset,E=A.updateId,O=A.dataStartIndex,_=A.dataEndIndex,M=N.barSize,$=N.layout,z=N.barGap,V=N.barCategoryGap,I=N.maxBarSize,F=pK($),K=F.numericAxisName,R=F.cateAxisName,B=gKe(T),L=[];return T.forEach(function(q,se){var H=E1(N.data,{graphicalItems:[q],dataStartIndex:O,dataEndIndex:_}),Y=q.type.defaultProps!==void 0?je(je({},q.type.defaultProps),q.props):q.props,G=Y.dataKey,X=Y.maxBarSize,ae=Y["".concat(K,"Id")],de=Y["".concat(R,"Id")],he={},Fe=c.reduce(function(Jn,cn){var _r=A["".concat(cn.axisType,"Map")],Vt=Y["".concat(cn.axisType,"Id")];_r&&_r[Vt]||cn.axisType==="zAxis"||ku();var _n=_r[Vt];return je(je({},Jn),{},ft(ft({},cn.axisType,_n),"".concat(cn.axisType,"Ticks"),El(_n)))},he),ge=Fe[R],Ae=Fe["".concat(R,"Ticks")],_e=C&&C[ae]&&C[ae].hasStack&&Mze(q,C[ae].stackGroups),ee=_l(q.type).indexOf("Bar")>=0,Le=ow(ge,Ae),Ce=[],De=B&&vze({barSize:M,stackGroups:C,totalSize:vKe(Fe,R)});if(ee){var We,nt,Et=Nt(X)?I:X,St=(We=(nt=ow(ge,Ae,!0))!==null&&nt!==void 0?nt:Et)!==null&&We!==void 0?We:0;Ce=bze({barGap:z,barCategoryGap:V,bandSize:St!==Le?St:Le,sizeList:De[de],maxBarSize:Et}),St!==Le&&(Ce=Ce.map(function(Jn){return je(je({},Jn),{},{position:je(je({},Jn.position),{},{offset:Jn.position.offset-St/2})})}))}var Gt=q&&q.type&&q.type.getComposedData;Gt&&L.push({props:je(je({},Gt(je(je({},Fe),{},{displayedData:H,props:N,dataKey:G,item:q,bandSize:Le,barPosition:Ce,offset:S,stackedData:_e,layout:$,dataStartIndex:O,dataEndIndex:_}))),{},ft(ft(ft({key:q.key||"item-".concat(se)},K,Fe[K]),R,Fe[R]),"animationId",E)),childIndex:S3e(q,N.children),item:q})}),L},g=function(N,A){var T=N.props,C=N.dataStartIndex,S=N.dataEndIndex,E=N.updateId;if(!RU({props:T}))return null;var O=T.children,_=T.layout,M=T.stackOffset,$=T.data,z=T.reverseStackOrder,V=pK(_),I=V.numericAxisName,F=V.cateAxisName,K=za(O,r),R=Oze($,K,"".concat(I,"Id"),"".concat(F,"Id"),M,z),B=c.reduce(function(Y,G){var X="".concat(G.axisType,"Map");return je(je({},Y),{},ft({},X,pKe(T,je(je({},G),{},{graphicalItems:K,stackGroups:G.axisType===I&&R,dataStartIndex:C,dataEndIndex:S}))))},{}),L=yKe(je(je({},B),{},{props:T,graphicalItems:K}),A?.legendBBox);Object.keys(B).forEach(function(Y){B[Y]=f(T,B[Y],L,Y.replace("Map",""),n)});var q=B["".concat(F,"Map")],se=xKe(q),H=p(T,je(je({},B),{},{dataStartIndex:C,dataEndIndex:S,updateId:E,graphicalItems:K,stackGroups:R,offset:L}));return je(je({formattedGraphicalItems:H,graphicalItems:K,offset:L,stackGroups:R},se),B)},v=(function(w){function N(A){var T,C,S;return J7e(this,N),S=tKe(this,N,[A]),ft(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ft(S,"accessibilityManager",new $7e),ft(S,"handleLegendBBoxUpdate",function(E){if(E){var O=S.state,_=O.dataStartIndex,M=O.dataEndIndex,$=O.updateId;S.setState(je({legendBBox:E},g({props:S.props,dataStartIndex:_,dataEndIndex:M,updateId:$},je(je({},S.state),{},{legendBBox:E}))))}}),ft(S,"handleReceiveSyncEvent",function(E,O,_){if(S.props.syncId===E){if(_===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(O)}}),ft(S,"handleBrushChange",function(E){var O=E.startIndex,_=E.endIndex;if(O!==S.state.dataStartIndex||_!==S.state.dataEndIndex){var M=S.state.updateId;S.setState(function(){return je({dataStartIndex:O,dataEndIndex:_},g({props:S.props,dataStartIndex:O,dataEndIndex:_,updateId:M},S.state))}),S.triggerSyncEvent({dataStartIndex:O,dataEndIndex:_})}}),ft(S,"handleMouseEnter",function(E){var O=S.getMouseInfo(E);if(O){var _=je(je({},O),{},{isTooltipActive:!0});S.setState(_),S.triggerSyncEvent(_);var M=S.props.onMouseEnter;vt(M)&&M(_,E)}}),ft(S,"triggeredAfterMouseMove",function(E){var O=S.getMouseInfo(E),_=O?je(je({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(_),S.triggerSyncEvent(_);var M=S.props.onMouseMove;vt(M)&&M(_,E)}),ft(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),ft(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ft(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),ft(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};S.setState(O),S.triggerSyncEvent(O);var _=S.props.onMouseLeave;vt(_)&&_(O,E)}),ft(S,"handleOuterEvent",function(E){var O=N3e(E),_=Ba(S.props,"".concat(O));if(O&&vt(_)){var M,$;/.*touch.*/i.test(O)?$=S.getMouseInfo(E.changedTouches[0]):$=S.getMouseInfo(E),_((M=$)!==null&&M!==void 0?M:{},E)}}),ft(S,"handleClick",function(E){var O=S.getMouseInfo(E);if(O){var _=je(je({},O),{},{isTooltipActive:!0});S.setState(_),S.triggerSyncEvent(_);var M=S.props.onClick;vt(M)&&M(_,E)}}),ft(S,"handleMouseDown",function(E){var O=S.props.onMouseDown;if(vt(O)){var _=S.getMouseInfo(E);O(_,E)}}),ft(S,"handleMouseUp",function(E){var O=S.props.onMouseUp;if(vt(O)){var _=S.getMouseInfo(E);O(_,E)}}),ft(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),ft(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),ft(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),ft(S,"handleDoubleClick",function(E){var O=S.props.onDoubleClick;if(vt(O)){var _=S.getMouseInfo(E);O(_,E)}}),ft(S,"handleContextMenu",function(E){var O=S.props.onContextMenu;if(vt(O)){var _=S.getMouseInfo(E);O(_,E)}}),ft(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&pO.emit(xO,S.props.syncId,E,S.eventEmitterSymbol)}),ft(S,"applySyncEvent",function(E){var O=S.props,_=O.layout,M=O.syncMethod,$=S.state.updateId,z=E.dataStartIndex,V=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(je({dataStartIndex:z,dataEndIndex:V},g({props:S.props,dataStartIndex:z,dataEndIndex:V,updateId:$},S.state)));else if(E.activeTooltipIndex!==void 0){var I=E.chartX,F=E.chartY,K=E.activeTooltipIndex,R=S.state,B=R.offset,L=R.tooltipTicks;if(!B)return;if(typeof M=="function")K=M(L,E);else if(M==="value"){K=-1;for(var q=0;q<L.length;q++)if(L[q].value===E.activeLabel){K=q;break}}var se=je(je({},B),{},{x:B.left,y:B.top}),H=Math.min(I,se.x+se.width),Y=Math.min(F,se.y+se.height),G=L[K]&&L[K].value,X=DM(S.state,S.props.data,K),ae=L[K]?{x:_==="horizontal"?L[K].coordinate:H,y:_==="horizontal"?Y:L[K].coordinate}:qie;S.setState(je(je({},E),{},{activeLabel:G,activeCoordinate:ae,activePayload:X,activeTooltipIndex:K}))}else S.setState(E)}),ft(S,"renderCursor",function(E){var O,_=S.state,M=_.isTooltipActive,$=_.activeCoordinate,z=_.activePayload,V=_.offset,I=_.activeTooltipIndex,F=_.tooltipAxisBandSize,K=S.getTooltipEventType(),R=(O=E.props.active)!==null&&O!==void 0?O:M,B=S.props.layout,L=E.key||"_recharts-cursor";return Z.createElement(H7e,{key:L,activeCoordinate:$,activePayload:z,activeTooltipIndex:I,chartName:n,element:E,isActive:R,layout:B,offset:V,tooltipAxisBandSize:F,tooltipEventType:K})}),ft(S,"renderPolarAxis",function(E,O,_){var M=Ba(E,"type.axisType"),$=Ba(S.state,"".concat(M,"Map")),z=E.type.defaultProps,V=z!==void 0?je(je({},z),E.props):E.props,I=$&&$[V["".concat(M,"Id")]];return j.cloneElement(E,je(je({},I),{},{className:Ct(M,I.className),key:E.key||"".concat(O,"-").concat(_),ticks:El(I,!0)}))}),ft(S,"renderPolarGrid",function(E){var O=E.props,_=O.radialLines,M=O.polarAngles,$=O.polarRadius,z=S.state,V=z.radiusAxisMap,I=z.angleAxisMap,F=_c(V),K=_c(I),R=K.cx,B=K.cy,L=K.innerRadius,q=K.outerRadius;return j.cloneElement(E,{polarAngles:Array.isArray(M)?M:El(K,!0).map(function(se){return se.coordinate}),polarRadius:Array.isArray($)?$:El(F,!0).map(function(se){return se.coordinate}),cx:R,cy:B,innerRadius:L,outerRadius:q,key:E.key||"polar-grid",radialLines:_})}),ft(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,O=S.props,_=O.children,M=O.width,$=O.height,z=S.props.margin||{},V=M-(z.left||0)-(z.right||0),I=kae({children:_,formattedGraphicalItems:E,legendWidth:V,legendContent:u});if(!I)return null;var F=I.item,K=uK(I,K7e);return j.cloneElement(F,je(je({},K),{},{chartWidth:M,chartHeight:$,margin:z,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ft(S,"renderTooltip",function(){var E,O=S.props,_=O.children,M=O.accessibilityLayer,$=Ta(_,Aa);if(!$)return null;var z=S.state,V=z.isTooltipActive,I=z.activeCoordinate,F=z.activePayload,K=z.activeLabel,R=z.offset,B=(E=$.props.active)!==null&&E!==void 0?E:V;return j.cloneElement($,{viewBox:je(je({},R),{},{x:R.left,y:R.top}),active:B,label:K,payload:B?F:[],coordinate:I,accessibilityLayer:M})}),ft(S,"renderBrush",function(E){var O=S.props,_=O.margin,M=O.data,$=S.state,z=$.offset,V=$.dataStartIndex,I=$.dataEndIndex,F=$.updateId;return j.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Ib(S.handleBrushChange,E.props.onChange),data:M,x:$e(E.props.x)?E.props.x:z.left,y:$e(E.props.y)?E.props.y:z.top+z.height+z.brushBottom-(_.bottom||0),width:$e(E.props.width)?E.props.width:z.width,startIndex:V,endIndex:I,updateId:"brush-".concat(F)})}),ft(S,"renderReferenceElement",function(E,O,_){if(!E)return null;var M=S,$=M.clipPathId,z=S.state,V=z.xAxisMap,I=z.yAxisMap,F=z.offset,K=E.type.defaultProps||{},R=E.props,B=R.xAxisId,L=B===void 0?K.xAxisId:B,q=R.yAxisId,se=q===void 0?K.yAxisId:q;return j.cloneElement(E,{key:E.key||"".concat(O,"-").concat(_),xAxis:V[L],yAxis:I[se],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:$})}),ft(S,"renderActivePoints",function(E){var O=E.item,_=E.activePoint,M=E.basePoint,$=E.childIndex,z=E.isRange,V=[],I=O.props.key,F=O.item.type.defaultProps!==void 0?je(je({},O.item.type.defaultProps),O.item.props):O.item.props,K=F.activeDot,R=F.dataKey,B=je(je({index:$,dataKey:R,cx:_.x,cy:_.y,r:4,fill:C3(O.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},at(K,!1)),Lj(K));return V.push(N.renderActiveDot(K,B,"".concat(I,"-activePoint-").concat($))),M?V.push(N.renderActiveDot(K,je(je({},B),{},{cx:M.x,cy:M.y}),"".concat(I,"-basePoint-").concat($))):z&&V.push(null),V}),ft(S,"renderGraphicChild",function(E,O,_){var M=S.filterFormatItem(E,O,_);if(!M)return null;var $=S.getTooltipEventType(),z=S.state,V=z.isTooltipActive,I=z.tooltipAxis,F=z.activeTooltipIndex,K=z.activeLabel,R=S.props.children,B=Ta(R,Aa),L=M.props,q=L.points,se=L.isRange,H=L.baseLine,Y=M.item.type.defaultProps!==void 0?je(je({},M.item.type.defaultProps),M.item.props):M.item.props,G=Y.activeDot,X=Y.hide,ae=Y.activeBar,de=Y.activeShape,he=!!(!X&&V&&B&&(G||ae||de)),Fe={};$!=="axis"&&B&&B.props.trigger==="click"?Fe={onClick:Ib(S.handleItemMouseEnter,E.props.onClick)}:$!=="axis"&&(Fe={onMouseLeave:Ib(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Ib(S.handleItemMouseEnter,E.props.onMouseEnter)});var ge=j.cloneElement(E,je(je({},M.props),Fe));function Ae(cn){return typeof I.dataKey=="function"?I.dataKey(cn.payload):null}if(he)if(F>=0){var _e,ee;if(I.dataKey&&!I.allowDuplicatedCategory){var Le=typeof I.dataKey=="function"?Ae:"payload.".concat(I.dataKey.toString());_e=Ij(q,Le,K),ee=se&&H&&Ij(H,Le,K)}else _e=q?.[F],ee=se&&H&&H[F];if(de||ae){var Ce=E.props.activeIndex!==void 0?E.props.activeIndex:F;return[j.cloneElement(E,je(je(je({},M.props),Fe),{},{activeIndex:Ce})),null,null]}if(!Nt(_e))return[ge].concat(tm(S.renderActivePoints({item:M,activePoint:_e,basePoint:ee,childIndex:F,isRange:se})))}else{var De,We=(De=S.getItemByXY(S.state.activeCoordinate))!==null&&De!==void 0?De:{graphicalItem:ge},nt=We.graphicalItem,Et=nt.item,St=Et===void 0?E:Et,Gt=nt.childIndex,Jn=je(je(je({},M.props),Fe),{},{activeIndex:Gt});return[j.cloneElement(St,Jn),null,null]}return se?[ge,null,null]:[ge,null]}),ft(S,"renderCustomized",function(E,O,_){return j.cloneElement(E,je(je({key:"recharts-customized-".concat(_)},S.props),S.state))}),ft(S,"renderMap",{CartesianGrid:{handler:Bb,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Bb},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Bb},YAxis:{handler:Bb},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((T=A.id)!==null&&T!==void 0?T:bm("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=Cse(S.triggeredAfterMouseMove,(C=A.throttleDelay)!==null&&C!==void 0?C:1e3/60),S.state={},S}return sKe(N,w),eKe(N,[{key:"componentDidMount",value:function(){var T,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,C=T.children,S=T.data,E=T.height,O=T.layout,_=Ta(C,Aa);if(_){var M=_.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,z=DM(this.state,S,M,$),V=this.state.tooltipTicks[M].coordinate,I=(this.state.offset.top+E)/2,F=O==="horizontal",K=F?{x:V,y:I}:{y:V,x:I},R=this.state.formattedGraphicalItems.find(function(L){var q=L.item;return q.type.name==="Scatter"});R&&(K=je(je({},K),R.props.points[M].tooltipPosition),z=R.props.points[M].tooltipPayload);var B={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:$,activePayload:z,activeCoordinate:K};this.setState(B),this.renderCursor(_),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(T){g4([Ta(T.children,Aa)],[Ta(this.props.children,Aa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=Ta(this.props.children,Aa);if(T&&typeof T.props.shared=="boolean"){var C=T.props.shared?"axis":"item";return l.indexOf(C)>=0?C:i}return i}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var C=this.container,S=C.getBoundingClientRect(),E=d$e(S),O={chartX:Math.round(T.pageX-E.left),chartY:Math.round(T.pageY-E.top)},_=S.width/C.offsetWidth||1,M=this.inRange(O.chartX,O.chartY,_);if(!M)return null;var $=this.state,z=$.xAxisMap,V=$.yAxisMap,I=this.getTooltipEventType(),F=hK(this.state,this.props.data,this.props.layout,M);if(I!=="axis"&&z&&V){var K=_c(z).scale,R=_c(V).scale,B=K&&K.invert?K.invert(O.chartX):null,L=R&&R.invert?R.invert(O.chartY):null;return je(je({},O),{},{xValue:B,yValue:L},F)}return F?je(je({},O),F):null}},{key:"inRange",value:function(T,C){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,O=T/S,_=C/S;if(E==="horizontal"||E==="vertical"){var M=this.state.offset,$=O>=M.left&&O<=M.left+M.width&&_>=M.top&&_<=M.top+M.height;return $?{x:O,y:_}:null}var z=this.state,V=z.angleAxisMap,I=z.radiusAxisMap;if(V&&I){var F=_c(V);return N9({x:O,y:_},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,C=this.getTooltipEventType(),S=Ta(T,Aa),E={};S&&C==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Lj(this.props,this.handleOuterEvent);return je(je({},O),E)}},{key:"addListener",value:function(){pO.on(xO,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){pO.removeListener(xO,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,C,S){for(var E=this.state.formattedGraphicalItems,O=0,_=E.length;O<_;O++){var M=E[O];if(M.item===T||M.props.key===T.key||C===_l(M.item.type)&&S===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,C=this.state.offset,S=C.left,E=C.top,O=C.height,_=C.width;return Z.createElement("defs",null,Z.createElement("clipPath",{id:T},Z.createElement("rect",{x:S,y:E,height:O,width:_})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(C,S){var E=dK(S,2),O=E[0],_=E[1];return je(je({},C),{},ft({},O,_.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(C,S){var E=dK(S,2),O=E[0],_=E[1];return je(je({},C),{},ft({},O,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[T])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(T){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[T])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(T){var C=this.state,S=C.formattedGraphicalItems,E=C.activeItem;if(S&&S.length)for(var O=0,_=S.length;O<_;O++){var M=S[O],$=M.props,z=M.item,V=z.type.defaultProps!==void 0?je(je({},z.type.defaultProps),z.props):z.props,I=_l(z.type);if(I==="Bar"){var F=($.data||[]).find(function(L){return KUe(T,L)});if(F)return{graphicalItem:M,payload:F}}else if(I==="RadialBar"){var K=($.data||[]).find(function(L){return N9(T,L)});if(K)return{graphicalItem:M,payload:K}}else if(j1(M,E)||w1(M,E)||Fg(M,E)){var R=pVe({graphicalItem:M,activeTooltipItem:E,itemData:V.data}),B=V.activeIndex===void 0?R:V.activeIndex;return{graphicalItem:je(je({},M),{},{childIndex:B}),payload:Fg(M,E)?V.data[R]:M.props.data[R]}}}return null}},{key:"render",value:function(){var T=this;if(!RU(this))return null;var C=this.props,S=C.children,E=C.className,O=C.width,_=C.height,M=C.style,$=C.compact,z=C.title,V=C.desc,I=uK(C,W7e),F=at(I,!1);if($)return Z.createElement(H7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement(v4,Jf({},F,{width:O,height:_,title:z,desc:V}),this.renderClipPath(),IU(S,this.renderMap)));if(this.props.accessibilityLayer){var K,R;F.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,F.role=(R=this.props.role)!==null&&R!==void 0?R:"application",F.onKeyDown=function(L){T.accessibilityManager.keyboardEvent(L)},F.onFocus=function(){T.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return Z.createElement(H7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement("div",Jf({className:Ct("recharts-wrapper",E),style:je({position:"relative",cursor:"default",width:O,height:_},M)},B,{ref:function(q){T.container=q}}),Z.createElement(v4,Jf({},F,{width:O,height:_,title:z,desc:V,style:dKe}),this.renderClipPath(),IU(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(j.Component);ft(v,"displayName",n),ft(v,"defaultProps",je({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),ft(v,"getDerivedStateFromProps",function(w,N){var A=w.dataKey,T=w.data,C=w.children,S=w.width,E=w.height,O=w.layout,_=w.stackOffset,M=w.margin,$=N.dataStartIndex,z=N.dataEndIndex;if(N.updateId===void 0){var V=mK(w);return je(je(je({},V),{},{updateId:0},g(je(je({props:w},V),{},{updateId:0}),N)),{},{prevDataKey:A,prevData:T,prevWidth:S,prevHeight:E,prevLayout:O,prevStackOffset:_,prevMargin:M,prevChildren:C})}if(A!==N.prevDataKey||T!==N.prevData||S!==N.prevWidth||E!==N.prevHeight||O!==N.prevLayout||_!==N.prevStackOffset||!lh(M,N.prevMargin)){var I=mK(w),F={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},K=je(je({},hK(N,T,O)),{},{updateId:N.updateId+1}),R=je(je(je({},I),F),K);return je(je(je({},R),g(je({props:w},R),N)),{},{prevDataKey:A,prevData:T,prevWidth:S,prevHeight:E,prevLayout:O,prevStackOffset:_,prevMargin:M,prevChildren:C})}if(!g4(C,N.prevChildren)){var B,L,q,se,H=Ta(C,Hh),Y=H&&(B=(L=H.props)===null||L===void 0?void 0:L.startIndex)!==null&&B!==void 0?B:$,G=H&&(q=(se=H.props)===null||se===void 0?void 0:se.endIndex)!==null&&q!==void 0?q:z,X=Y!==$||G!==z,ae=!Nt(T),de=ae&&!X?N.updateId:N.updateId+1;return je(je({updateId:de},g(je(je({props:w},N),{},{updateId:de,dataStartIndex:Y,dataEndIndex:G}),N)),{},{prevChildren:C,dataStartIndex:Y,dataEndIndex:G})}return null}),ft(v,"renderActiveDot",function(w,N,A){var T;return j.isValidElement(w)?T=j.cloneElement(w,N):vt(w)?T=w(N):T=Z.createElement(x1,N),Z.createElement(Jt,{className:"recharts-active-dot",key:A},T)});var y=j.forwardRef(function(N,A){return Z.createElement(v,Jf({},N,{ref:A}))});return y.displayName=v.displayName,y},I3=Vie({chartName:"LineChart",GraphicalChild:Qi,axisComponents:[{axisType:"xAxis",AxisComp:km},{axisType:"yAxis",AxisComp:Tm}],formatAxisMap:yHe}),bKe=Vie({chartName:"PieChart",GraphicalChild:Xl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:b1},{axisType:"radiusAxis",AxisComp:y1}],formatAxisMap:qze,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function jKe(){const{t:e}=as(),[,t]=hr(),[n,r]=j.useState(null),[a,i]=j.useState([]),[o,l]=j.useState([]),[c,u]=j.useState(!0),[f,m]=j.useState(""),[p,g]=j.useState(""),[v,y]=j.useState(""),[w,N]=j.useState("all"),[A,T]=j.useState("all"),[C,S]=j.useState(!1),E=async()=>{u(!0),m("");try{const V=new URLSearchParams;p&&V.append("dateFrom",p),v&&V.append("dateTo",v),w&&w!=="all"&&V.append("offerIds",w),A&&A!=="all"&&V.append("publisherIds",A);const[I,F,K]=await Promise.all([fetch(`/api/advertiser/stats?${V}`,{credentials:"include"}),fetch("/api/advertiser/publishers",{credentials:"include"}),fetch("/api/offers",{credentials:"include"})]);if(I.status===401||F.status===401||K.status===401){t("/login");return}if(!I.ok)throw new Error("Failed to fetch stats");if(!F.ok)throw new Error("Failed to fetch publishers");if(!K.ok)throw new Error("Failed to fetch offers");const R=await I.json(),B=await F.json(),L=await K.json();r(R),i(B),l(L)}catch(V){m(V.message)}finally{u(!1)}};j.useEffect(()=>{E()},[]);const O=()=>{E()},_=()=>{g(""),y(""),N("all"),T("all"),setTimeout(()=>E(),0)},[M,$]=j.useState(""),z=async V=>{$("");try{const I=new URLSearchParams;I.append("type",V),p&&I.append("dateFrom",p),v&&I.append("dateTo",v),w&&w!=="all"&&I.append("offerIds",w),A&&A!=="all"&&I.append("publisherIds",A);const F=await fetch(`/api/advertiser/export/csv?${I}`,{credentials:"include"});if(!F.ok)throw new Error("Failed to export CSV");const K=await F.blob(),R=window.URL.createObjectURL(K),B=document.createElement("a");B.href=R,B.download=`${V}.csv`,B.click(),window.URL.revokeObjectURL(R)}catch(I){$(I.message||"Export failed")}};return c?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-emerald-500"})}):f?s.jsxs("div",{className:"text-center p-8",children:[s.jsx("p",{className:"text-red-500 mb-4",children:f}),s.jsxs(U,{onClick:E,variant:"outline","data-testid":"button-retry",children:[s.jsx(Br,{className:"w-4 h-4 mr-2"}),e("common.retry")]})]}):n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:e("dashboard.overview")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(U,{"data-testid":"button-toggle-filters",variant:"outline",size:"sm",onClick:()=>S(!C),className:"border-border bg-transparent hover:bg-muted",children:[s.jsx(Wg,{className:"w-4 h-4 mr-2"}),e("dashboard.filters")]}),s.jsx(U,{"data-testid":"button-refresh",variant:"outline",size:"sm",onClick:E,className:"border-border bg-transparent hover:bg-muted",children:s.jsx(Br,{className:"w-4 h-4"})})]})]}),C&&s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:e("dashboard.dateFrom")}),s.jsx(le,{"data-testid":"input-date-from",type:"date",value:p,onChange:V=>g(V.target.value),className:"bg-input border-border text-foreground h-9"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:e("dashboard.dateTo")}),s.jsx(le,{"data-testid":"input-date-to",type:"date",value:v,onChange:V=>y(V.target.value),className:"bg-input border-border text-foreground h-9"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:e("dashboard.table.offer")}),s.jsxs(ht,{value:w,onValueChange:N,children:[s.jsx(dt,{"data-testid":"select-offer",className:"bg-input border-border text-foreground h-9",children:s.jsx(mt,{placeholder:e("dashboard.offers.all")})}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"all",children:e("dashboard.offers.all")}),o.map(V=>s.jsx(ke,{value:V.id,children:V.name},V.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:e("dashboard.table.publisher")}),s.jsxs(ht,{value:A,onValueChange:T,children:[s.jsx(dt,{"data-testid":"select-publisher",className:"bg-input border-border text-foreground h-9",children:s.jsx(mt,{placeholder:e("dashboard.publishers.all")})}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"all",children:e("dashboard.publishers.all")}),a.map(V=>s.jsx(ke,{value:V.id,children:V.shortId?`${V.shortId} - ${V.username||V.email}`:"-"},V.id))]})]})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx(U,{"data-testid":"button-apply-filters",onClick:O,className:"bg-emerald-600 hover:bg-emerald-700 h-9",children:"Apply"}),s.jsx(U,{"data-testid":"button-reset-filters",variant:"outline",onClick:_,className:"border-border h-9",children:s.jsx(Xn,{className:"w-4 h-4"})})]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3",children:[s.jsx(J,{className:"bg-blue-500/5 border-blue-500/30 hover:border-blue-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(y0,{className:"w-3 h-3 text-blue-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-blue-400",children:e("stats.clicks")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-blue-400",children:n.totalClicks.toLocaleString()})]})}),s.jsx(J,{className:"bg-purple-500/5 border-purple-500/30 hover:border-purple-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(pn,{className:"w-3 h-3 text-purple-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-purple-400",children:e("stats.leads")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-purple-400",children:n.totalLeads.toLocaleString()})]})}),s.jsx(J,{className:"bg-orange-500/5 border-orange-500/30 hover:border-orange-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Sn,{className:"w-3 h-3 text-orange-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-orange-400",children:e("stats.sales")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-orange-400",children:n.totalSales.toLocaleString()})]})}),s.jsx(J,{className:"bg-red-500/5 border-red-500/30 hover:border-red-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Sn,{className:"w-3 h-3 text-red-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-red-400",children:e("stats.advertiserCost")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-red-400",children:Xe(n.advertiserCost)})]})}),s.jsx(J,{className:"bg-green-500/5 border-green-500/30 hover:border-green-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Sn,{className:"w-3 h-3 text-green-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-green-400",children:e("stats.publisherPayout")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-green-400",children:Xe(n.publisherPayout)})]})}),s.jsx(J,{className:`${n.margin>=0?"bg-emerald-500/5 border-emerald-500/30 hover:border-emerald-500/50":"bg-red-500/5 border-red-500/30 hover:border-red-500/50"} transition-colors`,children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(qr,{className:`w-3 h-3 ${n.margin>=0?"text-emerald-400":"text-red-400"}`}),s.jsx("span",{className:`text-[10px] uppercase font-medium ${n.margin>=0?"text-emerald-400":"text-red-400"}`,children:e("stats.margin")})]}),s.jsx("div",{className:`text-lg font-bold font-mono ${n.margin>=0?"text-emerald-400":"text-red-400"}`,children:Xe(n.margin)})]})}),s.jsx(J,{className:`${n.roi>=0?"bg-cyan-500/5 border-cyan-500/30 hover:border-cyan-500/50":"bg-red-500/5 border-red-500/30 hover:border-red-500/50"} transition-colors`,children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(qr,{className:`w-3 h-3 ${n.roi>=0?"text-cyan-400":"text-red-400"}`}),s.jsx("span",{className:`text-[10px] uppercase font-medium ${n.roi>=0?"text-cyan-400":"text-red-400"}`,children:e("stats.roi")})]}),s.jsxs("div",{className:`text-lg font-bold font-mono ${n.roi>=0?"text-cyan-400":"text-red-400"}`,children:[n.roi.toFixed(1),"%"]})]})}),s.jsx(J,{className:"bg-yellow-500/5 border-yellow-500/30 hover:border-yellow-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(qr,{className:"w-3 h-3 text-yellow-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-yellow-400",children:e("stats.cr")})]}),s.jsxs("div",{className:"text-lg font-bold font-mono text-yellow-400",children:[n.cr.toFixed(2),"%"]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(J,{className:"lg:col-span-2 bg-card border-border",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("h3",{className:"text-sm font-bold uppercase text-muted-foreground",children:e("dashboard.dailyStats")})}),s.jsx("div",{className:"h-[250px]",children:n.byDate.length>0?s.jsx(r1,{width:"100%",height:"100%",children:s.jsxs(I3,{data:n.byDate,children:[s.jsx(A1,{strokeDasharray:"3 3",stroke:"#333"}),s.jsx(km,{dataKey:"date",stroke:"#666",fontSize:10}),s.jsx(Tm,{stroke:"#666",fontSize:10}),s.jsx(Aa,{contentStyle:{backgroundColor:"#111",border:"1px solid #333",borderRadius:"4px"},labelStyle:{color:"#fff"}}),s.jsx(Qi,{type:"monotone",dataKey:"clicks",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:"Clicks"}),s.jsx(Qi,{type:"monotone",dataKey:"conversions",stroke:"#10b981",strokeWidth:2,dot:!1,name:"Conversions"})]})}):s.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:"No data for selected period"})})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-bold uppercase text-muted-foreground mb-4",children:e("dashboard.topGeos")}),s.jsxs("div",{className:"space-y-3",children:[n.byGeo.slice(0,6).map((V,I)=>{const F=Math.max(...n.byGeo.map(R=>R.clicks))||1,K=V.clicks/F*100;return s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"font-mono text-muted-foreground w-8",children:V.geo})}),s.jsxs("div",{className:"flex items-center gap-3 flex-1 ml-4",children:[s.jsx("div",{className:"flex-1 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${K}%`}})}),s.jsx("span",{className:"font-mono text-xs w-12 text-right text-muted-foreground",children:V.clicks.toLocaleString()})]})]},I)}),n.byGeo.length===0&&s.jsx("div",{className:"text-muted-foreground text-sm",children:"No GEO data"})]})]})})]}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-0",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-border flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-bold text-foreground",children:e("dashboard.statsByOffer")}),s.jsxs(U,{"data-testid":"button-export-stats",variant:"ghost",size:"sm",onClick:()=>z("stats"),className:"text-muted-foreground hover:text-foreground",children:[s.jsx(Wi,{className:"w-4 h-4 mr-1"}),"CSV"]})]}),s.jsx("div",{className:"overflow-x-auto max-h-[340px] overflow-y-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono table-fixed",children:[s.jsx("thead",{className:"sticky top-0 z-10 bg-card",children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium w-[30%]",children:e("dashboard.table.offer")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[10%]",children:e("dashboard.table.clicks")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[10%]",children:e("dashboard.table.leads")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[10%]",children:e("dashboard.table.sales")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[10%]",children:e("dashboard.table.cost")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[10%]",children:e("dashboard.table.payout")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[10%]",children:e("dashboard.table.margin")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[10%]",children:e("dashboard.table.cr")})]})}),s.jsxs("tbody",{className:"divide-y divide-white/5",children:[n.byOffer.map(V=>s.jsxs("tr",{className:"hover:bg-muted transition-colors","data-testid":`row-offer-${V.offerId}`,children:[s.jsx("td",{className:"px-4 py-3 font-medium text-foreground truncate",children:V.offerName}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:V.clicks.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:V.leads.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:V.sales.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-red-400",children:Xe(V.advertiserCost)}),s.jsx("td",{className:"px-4 py-3 text-right text-yellow-400",children:Xe(V.publisherPayout)}),s.jsx("td",{className:`px-4 py-3 text-right ${V.margin>=0?"text-emerald-400":"text-red-400"}`,children:Xe(V.margin)}),s.jsxs("td",{className:"px-4 py-3 text-right text-cyan-400",children:[V.cr.toFixed(2),"%"]})]},V.offerId)),n.byOffer.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-muted-foreground",children:"No offers data"})})]})]})})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-0",children:[s.jsx("div",{className:"px-4 py-3 border-b border-border flex items-center justify-between",children:s.jsx("h3",{className:"text-sm font-bold text-foreground",children:e("dashboard.statsByPublisher")})}),s.jsx("div",{className:"overflow-x-auto max-h-[340px] overflow-y-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono table-fixed",children:[s.jsx("thead",{className:"sticky top-0 z-10 bg-card",children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium w-[34%]",children:e("dashboard.table.publisher")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[13%]",children:e("dashboard.table.clicks")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[13%]",children:e("dashboard.table.conversions")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[13%]",children:e("dashboard.table.cost")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[13%]",children:e("dashboard.table.payout")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[14%]",children:e("dashboard.table.cr")})]})}),s.jsxs("tbody",{className:"divide-y divide-white/5",children:[n.byPublisher.map(V=>s.jsxs("tr",{className:"hover:bg-muted transition-colors","data-testid":`row-publisher-${V.publisherId}`,children:[s.jsx("td",{className:"px-4 py-3 font-medium text-foreground truncate",children:V.publisherShortId?`${V.publisherShortId}${V.publisherFullName?` - ${V.publisherFullName}`:""}`:"-"}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:V.clicks.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:V.conversions.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-red-400",children:Xe(V.advertiserCost)}),s.jsx("td",{className:"px-4 py-3 text-right text-yellow-400",children:Xe(V.publisherPayout)}),s.jsxs("td",{className:"px-4 py-3 text-right text-cyan-400",children:[V.cr.toFixed(2),"%"]})]},V.publisherId)),n.byPublisher.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-muted-foreground",children:"No publisher data"})})]})]})})]})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{"data-testid":"button-export-conversions",variant:"outline",size:"sm",onClick:()=>z("conversions"),className:"border-border bg-transparent hover:bg-muted",children:[s.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Export Conversions"]}),s.jsxs(U,{"data-testid":"button-export-clicks",variant:"outline",size:"sm",onClick:()=>z("clicks"),className:"border-border bg-transparent hover:bg-muted",children:[s.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Export Clicks"]})]}),M&&s.jsx("div",{className:"text-red-500 text-xs font-mono",children:M})]})]}):null}function wKe(){const{t:e}=as(),[,t]=hr(),[n,r]=j.useState(null),[a,i]=j.useState([]),[o,l]=j.useState(!0),[c,u]=j.useState(""),[f,m]=j.useState(""),[p,g]=j.useState(""),[v,y]=j.useState("all"),[w,N]=j.useState(!1),{selectedAdvertiserId:A}=Vl(),T=async()=>{l(!0),u("");try{const M=new URLSearchParams;f&&M.append("dateFrom",f),p&&M.append("dateTo",p),v&&v!=="all"&&M.append("offerIds",v),A&&M.append("advertiserId",A);const[$,z]=await Promise.all([fetch(`/api/publisher/stats?${M}`,{credentials:"include"}),fetch(`/api/publisher/offers-list${A?`?advertiserId=${A}`:""}`,{credentials:"include"})]);if($.status===401||z.status===401){t("/login");return}if(!$.ok)throw new Error("Failed to fetch stats");if(!z.ok)throw new Error("Failed to fetch offers");const V=await $.json(),I=await z.json();r(V),i(I)}catch(M){u(M.message)}finally{l(!1)}};j.useEffect(()=>{T()},[A]);const C=()=>{T()},S=()=>{m(""),g(""),y("all"),setTimeout(()=>T(),0)},[E,O]=j.useState(""),_=async M=>{O("");try{const $=new URLSearchParams;$.append("type",M),f&&$.append("dateFrom",f),p&&$.append("dateTo",p),v&&v!=="all"&&$.append("offerIds",v),A&&$.append("advertiserId",A);const z=await fetch(`/api/publisher/export/csv?${$}`,{credentials:"include"});if(!z.ok)throw new Error("Failed to export CSV");const V=await z.blob(),I=window.URL.createObjectURL(V),F=document.createElement("a");F.href=I,F.download=`publisher_${M}.csv`,F.click(),window.URL.revokeObjectURL(I)}catch($){O($.message||"Export failed")}};return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-emerald-500"})}):c?s.jsxs("div",{className:"text-center p-8",children:[s.jsx("p",{className:"text-red-500 mb-4",children:c}),s.jsxs(U,{onClick:T,variant:"outline","data-testid":"button-retry",children:[s.jsx(Br,{className:"w-4 h-4 mr-2"}),e("common.retry")]})]}):n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsx("h2",{className:"text-xl font-bold text-foreground",children:e("dashboard.overview")})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(U,{"data-testid":"button-toggle-filters",variant:"outline",size:"sm",onClick:()=>N(!w),className:"border-border bg-transparent hover:bg-muted",children:[s.jsx(Wg,{className:"w-4 h-4 mr-2"}),e("dashboard.filters")]}),s.jsx(U,{"data-testid":"button-refresh",variant:"outline",size:"sm",onClick:T,className:"border-border bg-transparent hover:bg-muted",children:s.jsx(Br,{className:"w-4 h-4"})})]})]}),w&&s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:e("dashboard.dateFrom")}),s.jsx(le,{"data-testid":"input-date-from",type:"date",value:f,onChange:M=>m(M.target.value),className:"bg-input border-border text-foreground h-9"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:e("dashboard.dateTo")}),s.jsx(le,{"data-testid":"input-date-to",type:"date",value:p,onChange:M=>g(M.target.value),className:"bg-input border-border text-foreground h-9"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:e("dashboard.table.offer")}),s.jsxs(ht,{value:v,onValueChange:y,children:[s.jsx(dt,{"data-testid":"select-offer",className:"bg-input border-border text-foreground h-9",children:s.jsx(mt,{placeholder:e("dashboard.offers.all")})}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"all",children:e("dashboard.offers.all")}),a.map(M=>s.jsx(ke,{value:M.id,children:M.name},M.id))]})]})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx(U,{"data-testid":"button-apply-filters",onClick:C,className:"bg-emerald-600 hover:bg-emerald-700 h-9",children:e("publisherDashboard.apply")}),s.jsx(U,{"data-testid":"button-reset-filters",variant:"outline",onClick:S,className:"border-border h-9",children:s.jsx(Xn,{className:"w-4 h-4"})})]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3",children:[s.jsx(J,{className:"bg-blue-500/5 border-blue-500/30 hover:border-blue-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(y0,{className:"w-3 h-3 text-blue-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-blue-400",children:e("stats.clicks")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-blue-400",children:n.totalClicks.toLocaleString()})]})}),s.jsx(J,{className:"bg-purple-500/5 border-purple-500/30 hover:border-purple-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(pn,{className:"w-3 h-3 text-purple-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-purple-400",children:e("stats.leads")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-purple-400",children:n.totalLeads.toLocaleString()})]})}),s.jsx(J,{className:"bg-orange-500/5 border-orange-500/30 hover:border-orange-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Sn,{className:"w-3 h-3 text-orange-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-orange-400",children:e("stats.sales")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-orange-400",children:n.totalSales.toLocaleString()})]})}),s.jsx(J,{className:"bg-emerald-500/5 border-emerald-500/30 hover:border-emerald-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Sn,{className:"w-3 h-3 text-emerald-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-emerald-400",children:e("publisherDashboard.totalPayout")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-emerald-400",children:Xe(n.totalPayout)})]})}),s.jsx(J,{className:"bg-yellow-500/5 border-yellow-500/30 hover:border-yellow-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Yt,{className:"w-3 h-3 text-yellow-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-yellow-400",children:e("publisherDashboard.hold")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-yellow-400",children:Xe(n.holdPayout)})]})}),s.jsx(J,{className:"bg-cyan-500/5 border-cyan-500/30 hover:border-cyan-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(qr,{className:"w-3 h-3 text-cyan-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-cyan-400",children:e("stats.cr")})]}),s.jsxs("div",{className:"text-lg font-bold font-mono text-cyan-400",children:[n.cr.toFixed(2),"%"]})]})}),s.jsx(J,{className:"bg-pink-500/5 border-pink-500/30 hover:border-pink-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(qr,{className:"w-3 h-3 text-pink-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-pink-400",children:e("publisherDashboard.epc")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-pink-400",children:Xe(n.epc)})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(J,{className:"lg:col-span-2 bg-card border-border",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("h3",{className:"text-sm font-bold uppercase text-muted-foreground",children:e("dashboard.dailyStats")})}),s.jsx("div",{className:"h-[250px]",children:n.byDate.length>0?s.jsx(r1,{width:"100%",height:"100%",children:s.jsxs(I3,{data:n.byDate,children:[s.jsx(A1,{strokeDasharray:"3 3",stroke:"#333"}),s.jsx(km,{dataKey:"date",stroke:"#666",fontSize:10}),s.jsx(Tm,{stroke:"#666",fontSize:10}),s.jsx(Aa,{contentStyle:{backgroundColor:"#111",border:"1px solid #333",borderRadius:"4px"},labelStyle:{color:"#fff"}}),s.jsx(Qi,{type:"monotone",dataKey:"clicks",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:e("stats.clicks")}),s.jsx(Qi,{type:"monotone",dataKey:"conversions",stroke:"#10b981",strokeWidth:2,dot:!1,name:e("stats.conversions")})]})}):s.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:e("publisherDashboard.noData")})})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-bold uppercase text-muted-foreground mb-4",children:e("dashboard.topGeos")}),s.jsxs("div",{className:"space-y-3",children:[n.byGeo.slice(0,6).map((M,$)=>{const z=Math.max(...n.byGeo.map(I=>I.clicks))||1,V=M.clicks/z*100;return s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"font-mono text-muted-foreground w-8",children:M.geo})}),s.jsxs("div",{className:"flex items-center gap-3 flex-1 ml-4",children:[s.jsx("div",{className:"flex-1 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${V}%`}})}),s.jsx("span",{className:"font-mono text-xs w-12 text-right text-muted-foreground",children:M.clicks.toLocaleString()})]})]},$)}),n.byGeo.length===0&&s.jsx("div",{className:"text-muted-foreground text-sm",children:e("publisherDashboard.noGeoData")})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:n.byStatus.map((M,$)=>s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs text-muted-foreground uppercase mb-1",children:[M.status==="approved"&&e("publisherDashboard.statusApproved"),M.status==="hold"&&e("publisherDashboard.statusHold"),M.status==="rejected"&&e("publisherDashboard.statusRejected"),M.status==="pending"&&e("publisherDashboard.statusPending"),!["approved","hold","rejected","pending"].includes(M.status)&&M.status]}),s.jsx("div",{className:"text-2xl font-bold font-mono text-foreground",children:M.count}),s.jsx("div",{className:"text-sm font-mono text-emerald-500",children:Xe(M.payout)})]}),s.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${M.status==="approved"?"bg-emerald-500/20":M.status==="hold"?"bg-yellow-500/20":M.status==="rejected"?"bg-red-500/20":"bg-blue-500/20"}`,children:[M.status==="approved"&&s.jsx(Gn,{className:"w-5 h-5 text-emerald-500"}),M.status==="hold"&&s.jsx(Yt,{className:"w-5 h-5 text-yellow-500"}),M.status==="rejected"&&s.jsx(Xn,{className:"w-5 h-5 text-red-500"}),M.status==="pending"&&s.jsx(Yt,{className:"w-5 h-5 text-blue-500"})]})]})})},$))}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-0",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-border flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-bold text-foreground",children:e("dashboard.statsByOffer")}),s.jsxs(U,{"data-testid":"button-export-stats",variant:"ghost",size:"sm",onClick:()=>_("stats"),className:"text-muted-foreground hover:text-foreground",children:[s.jsx(Wi,{className:"w-4 h-4 mr-1"}),"CSV"]})]}),s.jsx("div",{className:"overflow-x-auto max-h-[340px] overflow-y-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono table-fixed",children:[s.jsx("thead",{className:"sticky top-0 z-10 bg-card",children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium w-[34%]",children:e("dashboard.table.offer")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[13%]",children:e("dashboard.table.clicks")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[13%]",children:e("dashboard.table.leads")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[13%]",children:e("dashboard.table.sales")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[13%]",children:e("dashboard.table.payout")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[14%]",children:e("dashboard.table.cr")})]})}),s.jsxs("tbody",{className:"divide-y divide-white/5",children:[n.byOffer.map(M=>s.jsxs("tr",{className:"hover:bg-muted transition-colors","data-testid":`row-offer-${M.offerId}`,children:[s.jsx("td",{className:"px-4 py-3 font-medium text-foreground truncate",children:M.offerName}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:M.clicks.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:M.leads.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:M.sales.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400",children:Xe(M.payout)}),s.jsxs("td",{className:"px-4 py-3 text-right text-cyan-400",children:[M.cr.toFixed(2),"%"]})]},M.offerId)),n.byOffer.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-muted-foreground",children:e("publisherDashboard.noOffersData")})})]})]})})]})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{"data-testid":"button-export-conversions",variant:"outline",size:"sm",onClick:()=>_("conversions"),className:"border-border bg-transparent hover:bg-muted",children:[s.jsx(Wi,{className:"w-4 h-4 mr-2"}),e("publisherDashboard.exportConversions")]}),s.jsxs(U,{"data-testid":"button-export-clicks",variant:"outline",size:"sm",onClick:()=>_("clicks"),className:"border-border bg-transparent hover:bg-muted",children:[s.jsx(Wi,{className:"w-4 h-4 mr-2"}),e("publisherDashboard.exportClicks")]})]}),E&&s.jsx("div",{className:"text-red-500 text-xs font-mono",children:E})]})]}):null}const yO=["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6"];function wl(e,t=0){const n=Number(e);return isNaN(n)?t:n}function zb(e){return`$${wl(e).toFixed(2)}`}function Wp(e){return wl(e).toLocaleString()}function NKe(){const{t:e}=as(),[,t]=hr(),[n,r]=j.useState(null),[a,i]=j.useState(null),[o,l]=j.useState(!0),[c,u]=j.useState(""),f=async()=>{l(!0),u("");try{const[p,g]=await Promise.all([fetch("/api/admin/platform-stats",{credentials:"include"}),fetch("/api/admin/stats",{credentials:"include"})]);if(p.status===401||g.status===401){t("/login");return}if(!p.ok)throw new Error("Failed to fetch platform stats");if(!g.ok)throw new Error("Failed to fetch admin stats");const v=await p.json(),y=await g.json();r(v),i(y)}catch(p){u(p.message)}finally{l(!1)}};if(j.useEffect(()=>{f()},[]),o)return s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-muted-foreground"})});if(c)return s.jsxs("div",{className:"text-center py-20",children:[s.jsx("p",{className:"text-red-500 mb-4",children:c}),s.jsxs(U,{onClick:f,variant:"outline",children:[s.jsx(Br,{className:"w-4 h-4 mr-2"}),""]})]});const m=[{name:"",value:wl(a?.totalAdvertisers)},{name:"",value:wl(a?.totalPublishers)}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:" "}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"  "})]}),s.jsxs(U,{onClick:f,variant:"outline",size:"sm","data-testid":"button-refresh",children:[s.jsx(Br,{className:"w-4 h-4 mr-2"}),""]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(J,{className:"bg-emerald-500/5 border-emerald-500/30 hover:border-emerald-500/50 transition-colors",children:s.jsxs(ne,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-emerald-400 uppercase tracking-wider",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-emerald-400","data-testid":"text-total-revenue",children:zb(n?.totalRevenue)})]}),s.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center",children:s.jsx(Sn,{className:"w-5 h-5 text-emerald-500"})})]}),s.jsxs("div",{className:"mt-2 flex items-center text-xs",children:[s.jsx(IW,{className:"w-3 h-3 text-emerald-500 mr-1"}),s.jsxs("span",{className:wl(n?.platformMargin)>=0?"text-emerald-500":"text-red-500",children:[": ",zb(n?.platformMargin)]})]})]})}),s.jsx(J,{className:"bg-blue-500/5 border-blue-500/30 hover:border-blue-500/50 transition-colors",children:s.jsxs(ne,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-blue-400 uppercase tracking-wider",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-blue-400","data-testid":"text-total-payouts",children:zb(n?.totalPayouts)})]}),s.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:s.jsx(qr,{className:"w-5 h-5 text-blue-500"})})]}),s.jsx("div",{className:"mt-2 flex items-center text-xs",children:s.jsxs("span",{className:"text-yellow-500",children:[": ",zb(n?.pendingPayouts)]})})]})}),s.jsx(J,{className:"bg-purple-500/5 border-purple-500/30 hover:border-purple-500/50 transition-colors",children:s.jsxs(ne,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-purple-400 uppercase tracking-wider",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-purple-400","data-testid":"text-total-conversions",children:Wp(n?.totalConversions)})]}),s.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:s.jsx(Il,{className:"w-5 h-5 text-purple-500"})})]}),s.jsx("div",{className:"mt-2 flex items-center text-xs",children:s.jsxs("span",{className:wl(n?.avgROI)>=0?"text-emerald-500":"text-red-500",children:["ROI: ",wl(n?.avgROI).toFixed(1),"%"]})})]})}),s.jsx(J,{className:"bg-cyan-500/5 border-cyan-500/30 hover:border-cyan-500/50 transition-colors",children:s.jsxs(ne,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-cyan-400 uppercase tracking-wider",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-cyan-400","data-testid":"text-total-users",children:Wp(a?.totalUsers)})]}),s.jsx("div",{className:"w-10 h-10 rounded-lg bg-cyan-500/20 flex items-center justify-center",children:s.jsx(pn,{className:"w-5 h-5 text-cyan-500"})})]}),s.jsx("div",{className:"mt-2 flex items-center text-xs text-cyan-400/70",children:s.jsxs("span",{children:[wl(n?.activeAdvertisers)," . / ",wl(n?.activePublishers)," ."]})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(J,{className:"bg-card border-border md:col-span-2",children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"text-sm text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[s.jsx(Ro,{className:"w-4 h-4"})," "]})}),s.jsx(ne,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Mt,{href:"/dashboard/admin/users",children:s.jsxs(U,{variant:"outline",className:"w-full h-20 flex-col gap-2 bg-emerald-500/10 border-emerald-500/30 hover:bg-emerald-500/20 hover:border-emerald-500/50","data-testid":"link-users",children:[s.jsx(pn,{className:"w-6 h-6 text-emerald-400"}),s.jsx("span",{className:"text-xs text-emerald-300",children:""})]})}),s.jsx(Mt,{href:"/dashboard/admin/finance",children:s.jsxs(U,{variant:"outline",className:"w-full h-20 flex-col gap-2 bg-yellow-500/10 border-yellow-500/30 hover:bg-yellow-500/20 hover:border-yellow-500/50","data-testid":"link-finance",children:[s.jsx(Sn,{className:"w-6 h-6 text-yellow-400"}),s.jsx("span",{className:"text-xs text-yellow-300",children:""})]})}),s.jsx(Mt,{href:"/dashboard/admin/antifraud",children:s.jsxs(U,{variant:"outline",className:"w-full h-20 flex-col gap-2 bg-red-500/10 border-red-500/30 hover:bg-red-500/20 hover:border-red-500/50","data-testid":"link-antifraud",children:[s.jsx(Il,{className:"w-6 h-6 text-red-400"}),s.jsx("span",{className:"text-xs text-red-300",children:""})]})}),s.jsx(Mt,{href:"/dashboard/admin/reports",children:s.jsxs(U,{variant:"outline",className:"w-full h-20 flex-col gap-2 bg-purple-500/10 border-purple-500/30 hover:bg-purple-500/20 hover:border-purple-500/50","data-testid":"link-reports",children:[s.jsx(y0,{className:"w-6 h-6 text-purple-400"}),s.jsx("span",{className:"text-xs text-purple-300",children:""})]})})]})})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"text-sm text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[s.jsx(pn,{className:"w-4 h-4"}),""]})}),s.jsxs(ne,{children:[s.jsx("div",{className:"h-[150px]",children:s.jsx(r1,{width:"100%",height:"100%",children:s.jsxs(bKe,{children:[s.jsx(Xl,{data:m,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:5,dataKey:"value",children:m.map((p,g)=>s.jsx(s1,{fill:yO[g%yO.length]},`cell-${g}`))}),s.jsx(Aa,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid rgba(255,255,255,0.1)"},labelStyle:{color:"#fff"}})]})})}),s.jsx("div",{className:"flex justify-center gap-4 mt-2",children:m.map((p,g)=>s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:yO[g]}}),s.jsxs("span",{className:"text-muted-foreground",children:[p.name,": ",p.value]})]},g))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"text-sm text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[s.jsx(er,{className:"w-4 h-4"})," "]})}),s.jsx(ne,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ro,{className:"w-5 h-5 text-orange-400"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:" "})]}),s.jsx("span",{className:"font-mono font-bold text-foreground","data-testid":"text-total-offers",children:Wp(a?.totalOffers)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(y0,{className:"w-5 h-5 text-blue-400"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:" "})]}),s.jsx("span",{className:"font-mono font-bold text-foreground","data-testid":"text-total-clicks",children:Wp(a?.totalClicks)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jp,{className:"w-5 h-5 text-emerald-400"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:" "})]}),s.jsx("span",{className:"font-mono font-bold text-foreground","data-testid":"text-admin-total-conversions",children:Wp(a?.totalConversions)})]})]})})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[s.jsxs(Ie,{className:"text-sm text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[s.jsx(pn,{className:"w-4 h-4"})," "]}),s.jsx(Mt,{href:"/dashboard/admin/users",children:s.jsx(U,{variant:"link",size:"sm",className:"text-xs text-blue-400",children:"  "})})]}),s.jsx(ne,{children:s.jsx("div",{className:"space-y-3",children:a?.recentUsers?.slice(0,5).map(p=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-lg","data-testid":`user-row-${p.id}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${p.role==="admin"?"bg-red-500/20 text-red-400":p.role==="advertiser"?"bg-blue-500/20 text-blue-400":"bg-emerald-500/20 text-emerald-400"}`,children:p.username.charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:p.username}),s.jsx("p",{className:"text-xs text-muted-foreground",children:p.role})]})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${p.status==="active"?"bg-emerald-500/20 text-emerald-400":p.status==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:p.status})]},p.id))||s.jsx("p",{className:"text-center text-muted-foreground py-4",children:" "})})})]})]})]})}function SKe(){const e=rt(),[t,n]=j.useState(""),[r,a]=j.useState("all"),[i,o]=j.useState(!1),[l,c]=j.useState(!1),{data:u=[],isLoading:f}=Ne({queryKey:["advertiser-partners",r],queryFn:async()=>{const N=r==="all"?"/api/advertiser/partners":`/api/advertiser/partners?status=${r}`,A=await fetch(N,{credentials:"include"});if(!A.ok)throw new Error("Failed to fetch partners");return A.json()}}),{data:m}=Ne({queryKey:["advertiser-registration-link"],queryFn:async()=>{const N=await fetch("/api/advertiser/registration-link",{credentials:"include"});if(!N.ok)throw new Error("Failed to get link");return N.json()}}),p=ve({mutationFn:async({id:N,status:A})=>(await Be("PUT",`/api/advertiser/partners/${N}/status`,{status:A})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["advertiser-partners"]})}}),g=()=>{m?.registrationLink&&(navigator.clipboard.writeText(m.registrationLink),c(!0),setTimeout(()=>c(!1),2e3))},v=u.filter(N=>N.username.toLowerCase().includes(t.toLowerCase())||N.email.toLowerCase().includes(t.toLowerCase())),y=N=>{const A={pending:{color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",icon:s.jsx(Yt,{className:"w-3 h-3"})},active:{color:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",icon:s.jsx(Kc,{className:"w-3 h-3"})},paused:{color:"bg-blue-500/20 text-blue-400 border-blue-500/30",icon:s.jsx(LO,{className:"w-3 h-3"})},blocked:{color:"bg-red-500/20 text-red-400 border-red-500/30",icon:s.jsx(Bx,{className:"w-3 h-3"})}},{color:T,icon:C}=A[N]||A.pending;return s.jsxs(ye,{variant:"outline",className:`${T} flex items-center gap-1`,children:[C,N]})},w=u.filter(N=>N.status==="pending").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(pn,{className:"w-6 h-6"}),"",w>0&&s.jsxs(ye,{variant:"destructive",className:"ml-2",children:[w," "]})]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"    "})]}),s.jsxs(Wt,{open:i,onOpenChange:o,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{"data-testid":"button-get-link",className:"bg-emerald-600 hover:bg-emerald-700",children:[s.jsx(Gg,{className:"w-4 h-4 mr-2"})," "]})}),s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsx(Ut,{className:"text-foreground",children:"   "})}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsx("p",{className:"text-muted-foreground text-sm",children:'    .         "pending".'}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{"data-testid":"input-registration-link",value:m?.registrationLink||"",readOnly:!0,className:"bg-input border-border text-foreground font-mono text-sm"}),s.jsx(U,{"data-testid":"button-copy-link",variant:"outline",onClick:g,className:"border-border",children:l?s.jsx(bt,{className:"w-4 h-4 text-emerald-400"}):s.jsx(Yn,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[" : ",s.jsx("code",{className:"text-emerald-400",children:m?.referralCode})]})]})]})]})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{className:"border-b border-border",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{"data-testid":"input-search-partners",placeholder:"    email...",value:t,onChange:N=>n(N.target.value),className:"pl-10 bg-input border-border text-foreground"})]}),s.jsxs(ht,{value:r,onValueChange:a,children:[s.jsxs(dt,{"data-testid":"select-status-filter",className:"w-40 bg-input border-border",children:[s.jsx(Wg,{className:"w-4 h-4 mr-2"}),s.jsx(mt,{placeholder:""})]}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"all",children:""}),s.jsx(ke,{value:"pending",children:""}),s.jsx(ke,{value:"active",children:""}),s.jsx(ke,{value:"paused",children:" "}),s.jsx(ke,{value:"blocked",children:""})]})]})]})}),s.jsx(ne,{className:"p-0",children:f?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):v.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Do,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"  "}),s.jsx("p",{className:"text-sm mt-1",children:"   "})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-muted border-b border-border",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-left text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-left text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-right text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-right text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-right text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-right text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:v.map(N=>s.jsxs("tr",{"data-testid":`row-partner-${N.id}`,className:"hover:bg-muted",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-foreground font-medium",children:N.companyName||N.username}),s.jsxs("div",{className:"text-muted-foreground text-xs",children:["@",N.username]})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(k0,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[N.telegram&&s.jsxs(Wb,{children:[s.jsx(Gb,{asChild:!0,children:s.jsx("a",{href:`https://t.me/${N.telegram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 rounded bg-blue-500/10 hover:bg-blue-500/20 text-blue-400","data-testid":`contact-telegram-${N.id}`,children:s.jsx(dr,{className:"w-3 h-3"})})}),s.jsx(ux,{children:N.telegram})]}),N.email&&s.jsxs(Wb,{children:[s.jsx(Gb,{asChild:!0,children:s.jsx("a",{href:`mailto:${N.email}`,className:"p-1.5 rounded bg-yellow-500/10 hover:bg-yellow-500/20 text-yellow-400","data-testid":`contact-email-${N.id}`,children:s.jsx(Ji,{className:"w-3 h-3"})})}),s.jsx(ux,{children:N.email})]}),N.phone&&s.jsxs(Wb,{children:[s.jsx(Gb,{asChild:!0,children:s.jsx("a",{href:`tel:${N.phone}`,className:"p-1.5 rounded bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-400","data-testid":`contact-phone-${N.id}`,children:s.jsx(im,{className:"w-3 h-3"})})}),s.jsx(ux,{children:N.phone})]}),!N.telegram&&!N.email&&!N.phone&&s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})})}),s.jsx("td",{className:"px-4 py-3",children:y(N.status)}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground font-mono",children:N.clicks.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground font-mono",children:N.conversions.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400 font-mono",children:Xe(N.payout)}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(Mt,{href:`/dashboard/advertiser/partner/${N.publisherId}`,children:s.jsxs(U,{"data-testid":`button-profile-${N.id}`,size:"sm",className:"bg-blue-600 hover:bg-blue-700 h-7 text-xs",children:[s.jsx(ur,{className:"w-3 h-3 mr-1"}),""]})}),N.status==="pending"&&s.jsx(U,{"data-testid":`button-approve-${N.id}`,size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 h-7 text-xs",onClick:()=>p.mutate({id:N.id,status:"active"}),disabled:p.isPending,children:""}),N.status==="active"&&s.jsxs(s.Fragment,{children:[s.jsxs(U,{"data-testid":`button-pause-${N.id}`,size:"sm",variant:"outline",className:"border-border h-7 text-xs",onClick:()=>p.mutate({id:N.id,status:"paused"}),disabled:p.isPending,children:[s.jsx(LO,{className:"w-3 h-3 mr-1"}),""]}),s.jsxs(U,{"data-testid":`button-block-${N.id}`,size:"sm",variant:"destructive",className:"h-7 text-xs",onClick:()=>p.mutate({id:N.id,status:"blocked"}),disabled:p.isPending,children:[s.jsx(Bx,{className:"w-3 h-3 mr-1"}),""]})]}),N.status==="paused"&&s.jsxs(U,{"data-testid":`button-activate-${N.id}`,size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 h-7 text-xs",onClick:()=>p.mutate({id:N.id,status:"active"}),disabled:p.isPending,children:[s.jsx(Kc,{className:"w-3 h-3 mr-1"}),""]}),N.status==="blocked"&&s.jsx(U,{"data-testid":`button-unblock-${N.id}`,size:"sm",variant:"outline",className:"border-border h-7 text-xs",onClick:()=>p.mutate({id:N.id,status:"active"}),disabled:p.isPending,children:""})]})})]},N.id))})]})})})]})]})}function CKe({publisherId:e}){const t=rt(),{toast:n}=Dt(),[r,a]=j.useState(!1),[i,o]=j.useState("grant"),[l,c]=j.useState(null),[u,f]=j.useState([]),{data:m,isLoading:p}=Ne({queryKey:["/api/advertiser/partners",e],queryFn:async()=>{const I=await fetch(`/api/advertiser/partners/${e}`,{credentials:"include"});if(!I.ok)throw new Error("Failed to fetch partner");return I.json()}}),{data:g=[],isLoading:v}=Ne({queryKey:["/api/advertiser/partners",e,"offers"],queryFn:async()=>{const I=await fetch(`/api/advertiser/partners/${e}/offers`,{credentials:"include"});if(!I.ok)throw new Error("Failed to fetch offers");return I.json()}}),y=ve({mutationFn:async({offerId:I,status:F,approvedLandings:K})=>Be("PUT",`/api/advertiser/partners/${e}/offers/${I}`,{status:F,approvedLandings:K}),onSuccess:(I,F)=>{t.invalidateQueries({queryKey:["/api/advertiser/partners",e,"offers"]}),a(!1),c(null),f([]),n({title:{approved:" ",revoked:" ",rejected:" "}[F.status]||"",description:" "})},onError:I=>{n({title:"",description:I.message||"   ",variant:"destructive"})}}),w=ve({mutationFn:async I=>Be("POST",`/api/advertiser/partners/${e}/offers/${I}/approve-landings`,{}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/advertiser/partners",e,"offers"]}),n({title:" ",description:"   "})},onError:I=>{n({title:"",description:I.message||"   ",variant:"destructive"})}}),N=ve({mutationFn:async I=>Be("POST",`/api/advertiser/partners/${e}/offers/${I}/reject-landings`,{}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/advertiser/partners",e,"offers"]}),n({title:" ",description:"    "})},onError:I=>{n({title:"",description:I.message||"   ",variant:"destructive"})}}),A=I=>{c(I),o("grant"),f(I.landings.map(F=>F.id)),a(!0)},T=I=>{c(I),o("edit");const F=I.approvedLandings;F&&F.length>0?f(F):f(I.landings.map(K=>K.id)),a(!0)},C=()=>{if(l&&(i==="grant"||i==="edit")){const I=u.length===l.landings.length?[]:u;y.mutate({offerId:l.id,status:"approved",approvedLandings:I})}},S=I=>{y.mutate({offerId:I,status:"revoked"})},E=I=>{y.mutate({offerId:I,status:"rejected"})},O=I=>{A(I)},_=I=>{f(F=>F.includes(I)?F.filter(K=>K!==I):[...F,I])},M=()=>{l&&f(l.landings.map(I=>I.id))},$=()=>{f([])},z=I=>{const F={active:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",paused:"bg-orange-500/20 text-orange-400 border-orange-500/30",blocked:"bg-red-500/20 text-red-400 border-red-500/30"};return s.jsx(ye,{className:F[I]||"bg-muted text-muted-foreground",children:I})},V=I=>{const F=I.accessStatus,K={approved:{className:"bg-emerald-500/20 text-emerald-400",label:""},pending:{className:"bg-yellow-500/20 text-yellow-400",label:""},rejected:{className:"bg-red-500/20 text-red-400",label:""},revoked:{className:"bg-red-500/20 text-red-400",label:""},not_requested:{className:"bg-muted text-muted-foreground",label:" "}},R=K[F]||K.not_requested,B=F==="approved"&&I.approvedLandings&&I.approvedLandings.length>0&&I.approvedLandings.length<I.landings.length;return s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(ye,{className:R.className,children:R.label}),B&&s.jsx("span",{className:"text-xs text-yellow-400",children:"()"})]})};return p?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):m?s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Mt,{href:"/dashboard/advertiser/partners",children:s.jsxs(U,{variant:"ghost",size:"sm","data-testid":"button-back",children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),""]})}),s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:" "})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(J,{className:"bg-card border-border lg:col-span-1",children:[s.jsx(Pe,{className:"pb-2",children:s.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[s.jsx(Or,{className:"w-5 h-5"}),""]})}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:m.companyName||m.username}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",m.username]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:":"}),z(m.status)]}),s.jsx("div",{className:"border-t border-border pt-4 space-y-3",children:s.jsxs(k0,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ji,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("a",{href:`mailto:${m.email}`,className:"text-sm text-blue-400 hover:underline",children:m.email})]}),m.telegram&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dr,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("a",{href:`https://t.me/${m.telegram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-400 hover:underline",children:m.telegram})]}),m.phone&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(im,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("a",{href:`tel:${m.phone}`,className:"text-sm text-blue-400 hover:underline",children:m.phone})]})]})}),s.jsx("div",{className:"border-t border-border pt-4",children:s.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[s.jsx(Uw,{className:"w-4 h-4"}),s.jsxs("span",{children:["  ",new Date(m.relationCreatedAt).toLocaleDateString()]})]})})]})]}),s.jsxs(J,{className:"bg-card border-border lg:col-span-2",children:[s.jsx(Pe,{className:"pb-2",children:s.jsx(Ie,{className:"text-lg",children:""})}),s.jsx(ne,{children:s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-400 mb-1",children:[s.jsx(e_,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs uppercase",children:""})]}),s.jsx("p",{className:"text-2xl font-bold text-blue-400",children:m.clicks.toLocaleString()})]}),s.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-purple-400 mb-1",children:[s.jsx(Ro,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs uppercase",children:""})]}),s.jsx("p",{className:"text-2xl font-bold text-purple-400",children:m.conversions.toLocaleString()})]}),s.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/20 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 mb-1",children:[s.jsx(Sn,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs uppercase",children:" (USD)"})]}),s.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:Xe(m.payout)})]})]})})]})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{children:s.jsx(Ie,{className:"text-lg",children:""})}),s.jsx(ne,{children:v?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):g.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:" "}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-muted border-b border-border",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-left text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-right text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-right text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-right text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-right text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-border",children:g.map(I=>s.jsxs("tr",{"data-testid":`row-offer-${I.id}`,className:"hover:bg-muted/50",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[I.logoUrl?s.jsx("img",{src:I.logoUrl,alt:I.name,className:"w-8 h-8 rounded object-cover"}):s.jsx("div",{className:"w-8 h-8 rounded bg-muted flex items-center justify-center text-xs font-bold text-muted-foreground",children:I.name.charAt(0).toUpperCase()}),s.jsx("span",{className:"text-foreground font-medium",children:I.name})]})}),s.jsx("td",{className:"px-4 py-3",children:V(I)}),s.jsxs("td",{className:"px-4 py-3 text-right",children:[s.jsx("span",{className:"text-emerald-400 font-mono",children:I.payout?` ${Hs(Ol(I))}${I.payout}`:""}),s.jsxs("span",{className:"text-muted-foreground text-xs ml-1",children:["/",I.payoutModel]})]}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground font-mono",children:I.clicks.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground font-mono",children:I.conversions.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[I.accessStatus==="not_requested"&&s.jsxs(U,{"data-testid":`button-grant-${I.id}`,size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 h-7 text-xs",onClick:()=>A(I),disabled:y.isPending,children:[s.jsx(bt,{className:"w-3 h-3 mr-1"})," "]}),I.accessStatus==="approved"&&s.jsxs(s.Fragment,{children:[I.requestedLandings&&I.requestedLandings.length>0&&s.jsx(k0,{children:s.jsxs(Wb,{children:[s.jsx(Gb,{asChild:!0,children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs(U,{"data-testid":`button-approve-landings-${I.id}`,size:"sm",className:"bg-orange-600 hover:bg-orange-700 h-7 text-xs",onClick:()=>w.mutate(I.id),disabled:w.isPending||N.isPending,children:[s.jsx(bt,{className:"w-3 h-3 mr-1"}),"+",I.requestedLandings.length," ."]}),s.jsx(U,{"data-testid":`button-reject-landings-${I.id}`,size:"sm",variant:"outline",className:"border-orange-500 text-orange-400 hover:bg-orange-500/10 h-7 text-xs px-2",onClick:()=>N.mutate(I.id),disabled:w.isPending||N.isPending,children:s.jsx(Xn,{className:"w-3 h-3"})})]})}),s.jsx(ux,{children:s.jsxs("p",{children:["  ",I.requestedLandings.length,"  "]})})]})}),I.landings.length>0&&s.jsxs(U,{"data-testid":`button-edit-${I.id}`,size:"sm",variant:"outline",className:"border-border h-7 text-xs",onClick:()=>T(I),disabled:y.isPending,children:[s.jsx(Gi,{className:"w-3 h-3 mr-1"}),""]}),s.jsxs(U,{"data-testid":`button-revoke-${I.id}`,size:"sm",variant:"destructive",className:"h-7 text-xs",onClick:()=>S(I.id),disabled:y.isPending,children:[s.jsx(Xn,{className:"w-3 h-3 mr-1"}),""]})]}),I.accessStatus==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs(U,{"data-testid":`button-approve-${I.id}`,size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 h-7 text-xs",onClick:()=>A(I),disabled:y.isPending,children:[s.jsx(bt,{className:"w-3 h-3 mr-1"}),""]}),s.jsxs(U,{"data-testid":`button-reject-${I.id}`,size:"sm",variant:"destructive",className:"h-7 text-xs",onClick:()=>E(I.id),disabled:y.isPending,children:[s.jsx(Xn,{className:"w-3 h-3 mr-1"}),""]})]}),(I.accessStatus==="rejected"||I.accessStatus==="revoked")&&s.jsx(U,{"data-testid":`button-restore-${I.id}`,size:"sm",variant:"outline",className:"border-border h-7 text-xs",onClick:()=>O(I),disabled:y.isPending,children:""})]})})]},I.id))})]})})})]}),s.jsx(Wt,{open:r,onOpenChange:a,children:s.jsxs(zt,{className:"sm:max-w-md",children:[s.jsx(qt,{children:s.jsxs(Ut,{children:[i==="grant"&&"   ",i==="edit"&&"   "]})}),l&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[l.logoUrl?s.jsx("img",{src:l.logoUrl,alt:l.name,className:"w-10 h-10 rounded object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded bg-background flex items-center justify-center text-sm font-bold text-muted-foreground",children:l.name.charAt(0).toUpperCase()}),s.jsx("span",{className:"text-foreground font-medium",children:l.name})]}),l.landings.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"   :"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:M,children:""}),s.jsx(U,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:$,children:""})]})]}),s.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 border border-border rounded-lg p-3",children:l.landings.map(I=>s.jsxs("label",{className:"flex items-center gap-3 p-2 rounded hover:bg-muted cursor-pointer",children:[s.jsx($l,{checked:u.includes(I.id),onCheckedChange:()=>_(I.id),"data-testid":`checkbox-landing-${I.id}`}),s.jsx("span",{className:"text-lg",children:xu(I.geo)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:I.name||` ${I.geo}`}),s.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[s.jsx("span",{className:"font-mono bg-muted px-1 rounded mr-2",children:I.geo}),I.url]})]})]},I.id))}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",u.length,"  ",l.landings.length,u.length===l.landings.length&&" ( )"]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"    .    ."})]}),s.jsxs(Ks,{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",onClick:()=>a(!1),disabled:y.isPending,children:""}),s.jsxs(U,{className:"bg-emerald-600 hover:bg-emerald-700",onClick:C,disabled:y.isPending||(l?.landings.length?u.length===0:!1),"data-testid":"button-confirm-access",children:[y.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(bt,{className:"w-4 h-4 mr-2"}),i==="grant"?" ":""]})]})]})})]}):s.jsx("div",{className:"p-6",children:s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"  "}),s.jsx(Mt,{href:"/dashboard/advertiser/partners",children:s.jsxs(U,{variant:"outline",className:"mt-4",children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),"  "]})})]})})})}function vO(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}var kKe=pa[" useInsertionEffect ".trim().toString()]||Zt;function TKe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=AKe({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=EKe(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function AKe({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return kKe(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function EKe(e){return typeof e=="function"}var O1="Tabs",[OKe]=ss(O1,[nN]),Hie=nN(),[PKe,L3]=OKe(O1),Kie=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=fm(l),[m,p]=TKe({prop:r,onChange:a,defaultProp:i??"",caller:O1});return s.jsx(PKe,{scope:n,baseId:Ts(),value:m,onValueChange:p,orientation:o,dir:f,activationMode:c,children:s.jsx(Je.div,{dir:f,"data-orientation":o,...u,ref:t})})});Kie.displayName=O1;var Wie="TabsList",Gie=j.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=L3(Wie,n),o=Hie(n);return s.jsx(xY,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:s.jsx(Je.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});Gie.displayName=Wie;var Yie="TabsTrigger",Xie=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,o=L3(Yie,n),l=Hie(n),c=Zie(o.baseId,r),u=eoe(o.baseId,r),f=r===o.value;return s.jsx(gY,{asChild:!0,...l,focusable:!a,active:f,children:s.jsx(Je.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:vO(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:vO(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:vO(e.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!a&&m&&o.onValueChange(r)})})})});Xie.displayName=Yie;var Qie="TabsContent",Jie=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=e,l=L3(Qie,n),c=Zie(l.baseId,r),u=eoe(l.baseId,r),f=r===l.value,m=j.useRef(f);return j.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),s.jsx(Vr,{present:a||f,children:({present:p})=>s.jsx(Je.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:p&&i})})});Jie.displayName=Qie;function Zie(e,t){return`${e}-trigger-${t}`}function eoe(e,t){return`${e}-content-${t}`}var MKe=Kie,toe=Gie,noe=Xie,roe=Jie;const uo=MKe,ki=j.forwardRef(({className:e,...t},n)=>s.jsx(toe,{ref:n,className:Re("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));ki.displayName=toe.displayName;const lt=j.forwardRef(({className:e,...t},n)=>s.jsx(noe,{ref:n,className:Re("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));lt.displayName=noe.displayName;const ct=j.forwardRef(({className:e,...t},n)=>s.jsx(roe,{ref:n,className:Re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ct.displayName=roe.displayName;function _Ke(){const e=rt(),[t,n]=j.useState(""),[r,a]=j.useState("all"),[i,o]=j.useState("all"),[l,c]=j.useState("advertisers"),[u,f]=j.useState({open:!1,username:"",password:""}),[m,p]=j.useState(!1),{data:g}=Ne({queryKey:["admin-stats"],queryFn:async()=>{const M=await fetch("/api/admin/stats",{credentials:"include"});if(!M.ok)throw new Error("Failed to fetch stats");return M.json()}}),{data:v=[],isLoading:y}=Ne({queryKey:["admin-users",r,i,t],queryFn:async()=>{const M=new URLSearchParams;r!=="all"&&M.append("role",r),i!=="all"&&M.append("status",i),t&&M.append("search",t);const $=await fetch(`/api/admin/users?${M.toString()}`,{credentials:"include"});if(!$.ok)throw new Error("Failed to fetch users");return $.json()}}),{data:w=[],isLoading:N}=Ne({queryKey:["admin-publishers"],queryFn:async()=>{const M=await fetch("/api/admin/publishers",{credentials:"include"});if(!M.ok)throw new Error("Failed to fetch publishers");return M.json()}}),A=ve({mutationFn:async({id:M,status:$})=>(await Be("PUT",`/api/admin/users/${M}/status`,{status:$})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-users"]}),e.invalidateQueries({queryKey:["admin-publishers"]}),e.invalidateQueries({queryKey:["admin-stats"]})}}),T=ve({mutationFn:async M=>(await Be("POST",`/api/admin/users/${M}/reset-password`,{})).json(),onSuccess:M=>{f({open:!0,username:M.username,password:M.newPassword})}}),C=()=>{navigator.clipboard.writeText(u.password),p(!0),setTimeout(()=>p(!1),2e3)},S=v.filter(M=>M.role==="advertiser"),E=w.filter(M=>M.username.toLowerCase().includes(t.toLowerCase())||M.email.toLowerCase().includes(t.toLowerCase())||M.advertiserName&&M.advertiserName.toLowerCase().includes(t.toLowerCase())),O=M=>{const $={pending:{color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",icon:s.jsx(Yt,{className:"w-3 h-3"})},active:{color:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",icon:s.jsx(Jp,{className:"w-3 h-3"})},blocked:{color:"bg-red-500/20 text-red-400 border-red-500/30",icon:s.jsx(nC,{className:"w-3 h-3"})}},{color:z,icon:V}=$[M]||$.pending;return s.jsxs(ye,{variant:"outline",className:`${z} flex items-center gap-1`,children:[V,M==="pending"?"":M==="active"?"":""]})},_=S.filter(M=>M.status==="pending").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(pn,{className:"w-6 h-6"}),"",_>0&&s.jsxs(ye,{variant:"destructive",className:"ml-2",children:[_," "]})]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"   "})]})}),g&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(er,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-muted-foreground text-sm",children:""})]}),s.jsx("div",{className:"text-2xl font-bold text-foreground mt-1",children:g.totalAdvertisers})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yt,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{className:"text-muted-foreground text-sm",children:""})]}),s.jsx("div",{className:"text-2xl font-bold text-yellow-400 mt-1",children:g.pendingAdvertisers})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-muted-foreground text-sm",children:""})]}),s.jsx("div",{className:"text-2xl font-bold text-foreground mt-1",children:g.totalPublishers})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qr,{className:"w-4 h-4 text-purple-400"}),s.jsx("span",{className:"text-muted-foreground text-sm",children:""})]}),s.jsx("div",{className:"text-2xl font-bold text-foreground mt-1",children:g.totalOffers})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qr,{className:"w-4 h-4 text-cyan-400"}),s.jsx("span",{className:"text-muted-foreground text-sm",children:""})]}),s.jsx("div",{className:"text-2xl font-bold text-foreground mt-1",children:g.totalClicks})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qr,{className:"w-4 h-4 text-green-400"}),s.jsx("span",{className:"text-muted-foreground text-sm",children:""})]}),s.jsx("div",{className:"text-2xl font-bold text-foreground mt-1",children:g.totalConversions})]})})]}),s.jsxs(uo,{value:l,onValueChange:c,children:[s.jsxs(ki,{className:"bg-card border border-border gap-2 p-1",children:[s.jsxs(lt,{value:"advertisers",className:"px-4 py-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:[s.jsx(er,{className:"w-4 h-4 mr-2 text-blue-400"}),"",_>0&&s.jsx(ye,{variant:"destructive",className:"ml-2 text-xs",children:_})]}),s.jsxs(lt,{value:"publishers",className:"px-4 py-2 data-[state=active]:bg-emerald-600 data-[state=active]:text-white",children:[s.jsx(Or,{className:"w-4 h-4 mr-2 text-emerald-400"}),""]})]}),s.jsx(ct,{value:"advertisers",className:"mt-4",children:s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{"data-testid":"input-search-advertisers",placeholder:"    email...",value:t,onChange:M=>n(M.target.value),className:"pl-10 bg-muted border-border"})]}),s.jsxs(ht,{value:i,onValueChange:o,children:[s.jsxs(dt,{"data-testid":"select-status-filter",className:"w-48 bg-muted border-border",children:[s.jsx(Wg,{className:"w-4 h-4 mr-2"}),s.jsx(mt,{placeholder:""})]}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"all",children:" "}),s.jsx(ke,{value:"pending",children:""}),s.jsx(ke,{value:"active",children:""}),s.jsx(ke,{value:"blocked",children:""})]})]})]})}),s.jsx(ne,{children:y?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):S.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"  "}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium text-sm",children:""}),s.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium text-sm",children:"Email"}),s.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium text-sm",children:""}),s.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium text-sm",children:""}),s.jsx("th",{className:"text-right py-3 px-4 text-muted-foreground font-medium text-sm",children:""})]})}),s.jsx("tbody",{children:S.map(M=>s.jsxs("tr",{"data-testid":`row-advertiser-${M.id}`,className:"border-b border-white/5 hover:bg-muted",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/20 flex items-center justify-center",children:s.jsx(er,{className:"w-4 h-4 text-blue-400"})}),s.jsx("span",{className:"text-foreground font-medium",children:M.username})]})}),s.jsx("td",{className:"py-3 px-4 text-muted-foreground",children:M.email}),s.jsx("td",{className:"py-3 px-4",children:O(M.status)}),s.jsx("td",{className:"py-3 px-4 text-muted-foreground text-sm",children:new Date(M.createdAt).toLocaleDateString("ru-RU")}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[M.status==="pending"&&s.jsxs(U,{"data-testid":`button-approve-${M.id}`,size:"sm",onClick:()=>A.mutate({id:M.id,status:"active"}),disabled:A.isPending,className:"bg-emerald-600 hover:bg-emerald-700",children:[s.jsx(Jp,{className:"w-4 h-4 mr-1"}),""]}),M.status==="active"&&s.jsxs(U,{"data-testid":`button-block-${M.id}`,size:"sm",variant:"destructive",onClick:()=>A.mutate({id:M.id,status:"blocked"}),disabled:A.isPending,children:[s.jsx(nC,{className:"w-4 h-4 mr-1"}),""]}),M.status==="blocked"&&s.jsxs(U,{"data-testid":`button-unblock-${M.id}`,size:"sm",onClick:()=>A.mutate({id:M.id,status:"active"}),disabled:A.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Jp,{className:"w-4 h-4 mr-1"}),""]}),s.jsxs(U,{"data-testid":`button-reset-password-${M.id}`,size:"sm",variant:"outline",onClick:()=>T.mutate(M.id),disabled:T.isPending,children:[s.jsx(eC,{className:"w-4 h-4 mr-1"})," "]})]})})]},M.id))})]})})})]})}),s.jsx(ct,{value:"publishers",className:"mt-4",children:s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{"data-testid":"input-search-publishers",placeholder:"  , email  ...",value:t,onChange:M=>n(M.target.value),className:"pl-10 bg-muted border-border"})]})}),s.jsx(ne,{children:N?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):E.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"  "}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium text-sm",children:""}),s.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium text-sm",children:"Email"}),s.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium text-sm",children:""}),s.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium text-sm",children:""}),s.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium text-sm",children:""}),s.jsx("th",{className:"text-right py-3 px-4 text-muted-foreground font-medium text-sm",children:""})]})}),s.jsx("tbody",{children:E.map(M=>s.jsxs("tr",{"data-testid":`row-publisher-${M.id}`,className:"border-b border-white/5 hover:bg-muted",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500/20 flex items-center justify-center",children:s.jsx(Or,{className:"w-4 h-4 text-emerald-400"})}),s.jsx("span",{className:"text-foreground font-medium",children:M.username})]})}),s.jsx("td",{className:"py-3 px-4 text-muted-foreground",children:M.email}),s.jsx("td",{className:"py-3 px-4",children:M.advertiserName?s.jsx(ye,{variant:"outline",className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:M.advertiserName}):s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsx("td",{className:"py-3 px-4",children:O(M.status)}),s.jsx("td",{className:"py-3 px-4 text-muted-foreground text-sm",children:new Date(M.createdAt).toLocaleDateString("ru-RU")}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[M.status==="active"&&s.jsxs(U,{"data-testid":`button-block-pub-${M.id}`,size:"sm",variant:"destructive",onClick:()=>A.mutate({id:M.id,status:"blocked"}),disabled:A.isPending,children:[s.jsx(nC,{className:"w-4 h-4 mr-1"}),""]}),M.status==="blocked"&&s.jsxs(U,{"data-testid":`button-unblock-pub-${M.id}`,size:"sm",onClick:()=>A.mutate({id:M.id,status:"active"}),disabled:A.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Jp,{className:"w-4 h-4 mr-1"}),""]}),s.jsxs(U,{"data-testid":`button-reset-password-pub-${M.id}`,size:"sm",variant:"outline",onClick:()=>T.mutate(M.id),disabled:T.isPending,children:[s.jsx(eC,{className:"w-4 h-4 mr-1"})," "]})]})})]},M.id))})]})})})]})})]}),s.jsx(Wt,{open:u.open,onOpenChange:M=>f({...u,open:M}),children:s.jsxs(zt,{className:"sm:max-w-md",children:[s.jsxs(qt,{children:[s.jsxs(Ut,{className:"flex items-center gap-2",children:[s.jsx(eC,{className:"w-5 h-5 text-emerald-500"})," "]}),s.jsxs(ao,{children:["    ",s.jsx("strong",{children:u.username})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(le,{readOnly:!0,value:u.password,className:"font-mono bg-muted"}),s.jsx(U,{"data-testid":"button-copy-password",variant:"outline",size:"icon",onClick:C,children:m?s.jsx(bt,{className:"w-4 h-4 text-emerald-500"}):s.jsx(Yn,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"     .        ."}),s.jsx(U,{className:"w-full",onClick:()=>f({open:!1,username:"",password:""}),children:""})]})]})})]})}const RKe={"reports-clicks":"","reports-conversions":"","finance-transactions":"","finance-payouts":"","publisher-payouts":" ","postback-logs":""};function qu({dataset:e,getFilters:t,disabled:n,additionalDatasets:r}){const[a,i]=j.useState(null),o=async(m,p)=>{const g=`${m}-${p}`;i(g);try{const v=t?.()||{},y=new URLSearchParams;y.set("format",p),Object.entries(v).forEach(([E,O])=>{O!==void 0&&O!==""&&y.set(E,O)});const w=await fetch(`/api/export/${m}?${y.toString()}`,{credentials:"include"});if(!w.ok){const E=await w.json();throw new Error(E.message||"Export failed")}const N=w.headers.get("Content-Disposition");let A=`${m}_${new Date().toISOString().split("T")[0]}.${p}`;if(N){const E=N.match(/filename="(.+)"/);E&&(A=E[1])}const T=await w.blob(),C=window.URL.createObjectURL(T),S=document.createElement("a");S.href=C,S.download=A,document.body.appendChild(S),S.click(),document.body.removeChild(S),window.URL.revokeObjectURL(C),Rt.success(" ")}catch(v){console.error("Export error:",v),Rt.error(v.message||" ")}finally{i(null)}},l={csv:{label:"CSV",icon:gi},xlsx:{label:"Excel",icon:Z2},pdf:{label:"PDF",icon:gi}},c=["csv","xlsx","pdf"],u=r&&r.length>0,f=m=>c.map(p=>{const{label:g,icon:v}=l[p],y=`${m}-${p}`;return s.jsxs($a,{onClick:()=>o(m,p),disabled:a!==null,className:"cursor-pointer","data-testid":`button-export-${m}-${p}`,children:[s.jsx(v,{className:"w-4 h-4 mr-2"}),a===y?"...":g]},p)});return s.jsxs(Ru,{children:[s.jsx(Du,{asChild:!0,children:s.jsxs(U,{variant:"outline",size:"sm",disabled:n||a!==null,className:"border-border bg-transparent text-foreground hover:bg-muted","data-testid":"button-export-menu",children:[a?s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Wi,{className:"w-4 h-4 mr-2"}),""]})}),s.jsx(Zc,{align:"end",className:"bg-card border-border",children:u?s.jsxs(s.Fragment,{children:[s.jsxs(d6,{children:[s.jsxs(eP,{className:"cursor-pointer",children:[s.jsx(Z2,{className:"w-4 h-4 mr-2"}),RKe[e]]}),s.jsx(tP,{className:"bg-card border-border",children:f(e)})]}),r.map(m=>s.jsxs(d6,{children:[s.jsxs(eP,{className:"cursor-pointer",children:[s.jsx(Z2,{className:"w-4 h-4 mr-2"}),m.label]}),s.jsx(tP,{className:"bg-card border-border",children:f(m.id)})]},m.id))]}):f(e)})]})}const DKe=e=>{const t=e.toUpperCase().split("").map(n=>127397+n.charCodeAt(0));return String.fromCodePoint(...t)};function IKe({role:e}){const{t}=as(),[n,r]=j.useState("clicks"),[a,i]=j.useState({freeSearch:"",dateFrom:"",dateTo:"",offerId:"",publisherId:"",geo:"",device:"",groupBy:"date",dateMode:"click"}),[o,l]=j.useState(1),{selectedAdvertiserId:c}=Vl(),u=new URLSearchParams;a.freeSearch&&u.set("search",a.freeSearch),a.dateFrom&&u.set("dateFrom",a.dateFrom),a.dateTo&&u.set("dateTo",a.dateTo),a.offerId&&u.set("offerId",a.offerId),a.publisherId&&e!=="publisher"&&u.set("publisherId",a.publisherId),a.geo&&u.set("geo",a.geo),a.device&&u.set("device",a.device),u.set("dateMode",a.dateMode),e==="publisher"&&c&&u.set("advertiserId",c),u.set("page",String(o)),u.set("limit","50");const{data:f,isLoading:m,refetch:p}=Ne({queryKey:["/api/reports/clicks",a,o,c],queryFn:async()=>{const M=await fetch(`/api/reports/clicks?${u.toString()}`,{credentials:"include"});if(!M.ok)throw new Error("Failed to fetch clicks");return M.json()},enabled:n==="clicks"}),{data:g,isLoading:v,refetch:y}=Ne({queryKey:["/api/reports/conversions",a,o,c],queryFn:async()=>{const M=await fetch(`/api/reports/conversions?${u.toString()}`,{credentials:"include"});if(!M.ok)throw new Error("Failed to fetch conversions");return M.json()},enabled:n==="conversions"}),w=new URLSearchParams(u);w.set("groupBy",a.groupBy);const{data:N,isLoading:A,refetch:T}=Ne({queryKey:["/api/reports/grouped",a,c],queryFn:async()=>{const M=await fetch(`/api/reports/grouped?${w.toString()}`,{credentials:"include"});if(!M.ok)throw new Error("Failed to fetch grouped data");return M.json()}}),{data:C=[]}=Ne({queryKey:["/api/advertiser/publishers",e],queryFn:async()=>{const $=await fetch(e==="admin"?"/api/admin/publishers":"/api/advertiser/publishers",{credentials:"include"});return $.ok?$.json():[]},enabled:e==="advertiser"||e==="admin"}),S=async()=>{n==="clicks"?await p():n==="conversions"?await y():await T()},_=e==="advertiser"||e==="admin";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-bold text-foreground",children:t("dashboard.menu.reports")||"Reports"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(qu,{dataset:n==="clicks"?"reports-clicks":"reports-conversions",getFilters:()=>({search:a.freeSearch,dateFrom:a.dateFrom,dateTo:a.dateTo,dateMode:a.dateMode,offerId:a.offerId,publisherId:a.publisherId,geo:a.geo,device:a.device,groupBy:a.groupBy,advertiserId:e==="publisher"?c:void 0})}),s.jsxs(U,{variant:"outline",size:"sm",onClick:S,className:"border-border bg-transparent text-foreground hover:bg-muted","data-testid":"button-refresh-reports",children:[s.jsx(Br,{className:"w-4 h-4 mr-2"}),""]})]})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{className:"border-b border-border pb-4",children:s.jsxs(Ie,{className:"text-sm font-mono text-muted-foreground flex items-center gap-2",children:[s.jsx(Wg,{className:"w-4 h-4"}),t("reports.filters")||"Filters"]})}),s.jsxs(ne,{className:"pt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3",children:[s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:t("reports.freeSearch")||"Free Search"}),s.jsx(le,{type:"text","data-testid":"input-free-search",placeholder:t("reports.freeSearchPlaceholder")||"Search...",value:a.freeSearch,onChange:M=>i($=>({...$,freeSearch:M.target.value})),className:"mt-1 bg-input border-border text-foreground font-mono text-sm"})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:t("reports.dateFrom")||"Date From"}),s.jsx(le,{type:"date","data-testid":"input-date-from",value:a.dateFrom,onChange:M=>i($=>({...$,dateFrom:M.target.value})),className:"mt-1 bg-input border-border text-foreground font-mono text-sm"})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:t("reports.dateTo")||"Date To"}),s.jsx(le,{type:"date","data-testid":"input-date-to",value:a.dateTo,onChange:M=>i($=>({...$,dateTo:M.target.value})),className:"mt-1 bg-input border-border text-foreground font-mono text-sm"})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:" "}),s.jsxs(ht,{value:a.dateMode,onValueChange:M=>i($=>({...$,dateMode:M})),children:[s.jsx(dt,{className:"mt-1 bg-input border-border text-foreground","data-testid":"select-date-mode",children:s.jsx(mt,{})}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"click",children:"  "}),s.jsx(ke,{value:"conversion",children:"  "})]})]})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:t("reports.geo")||"GEO"}),s.jsx(H0,{value:a.geo||"all",onValueChange:M=>i($=>({...$,geo:M==="all"?"":M})),placeholder:"  ",searchPlaceholder:" ...",emptyText:"  ",className:"mt-1","data-testid":"select-geo",options:[{value:"all",label:" ",icon:""},...s0.map(M=>({value:M.code,label:M.name,icon:DKe(M.code)}))]})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:t("reports.device")||"Device"}),s.jsxs(ht,{value:a.device||"all",onValueChange:M=>i($=>({...$,device:M==="all"?"":M})),children:[s.jsx(dt,{className:"mt-1 bg-input border-border text-foreground","data-testid":"select-device",children:s.jsx(mt,{placeholder:t("reports.all")||"All"})}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"all",children:"All"}),s.jsx(ke,{value:"mobile",children:"Mobile"}),s.jsx(ke,{value:"desktop",children:"Desktop"}),s.jsx(ke,{value:"tablet",children:"Tablet"})]})]})]}),e!=="publisher"&&s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:""}),s.jsx(H0,{value:a.publisherId||"all",onValueChange:M=>i($=>({...$,publisherId:M==="all"?"":M})),placeholder:" ",searchPlaceholder:" ...",emptyText:" ",className:"mt-1","data-testid":"select-publisher",options:[{value:"all",label:" "},...C.map(M=>({value:M.id,label:M.shortId?`${M.shortId}${M.fullName?` - ${M.fullName}`:""}`:"-"}))]})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:t("reports.groupBy")||"Group By"}),s.jsxs(ht,{value:a.groupBy,onValueChange:M=>i($=>({...$,groupBy:M})),children:[s.jsx(dt,{className:"mt-1 bg-input border-border text-foreground","data-testid":"select-group-by",children:s.jsx(mt,{})}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"date",children:"Date"}),s.jsx(ke,{value:"geo",children:"GEO"}),s.jsx(ke,{value:"offer",children:"Offer"}),e!=="publisher"&&s.jsx(ke,{value:"publisher",children:"Publisher"}),s.jsx(ke,{value:"device",children:"Device"}),s.jsx(ke,{value:"os",children:"OS"}),s.jsx(ke,{value:"browser",children:"Browser"}),s.jsx(ke,{value:"sub1",children:"Sub1"}),s.jsx(ke,{value:"sub2",children:"Sub2"}),s.jsx(ke,{value:"sub3",children:"Sub3"}),s.jsx(ke,{value:"sub4",children:"Sub4"}),s.jsx(ke,{value:"sub5",children:"Sub5"}),s.jsx(ke,{value:"sub6",children:"Sub6"}),s.jsx(ke,{value:"sub7",children:"Sub7"}),s.jsx(ke,{value:"sub8",children:"Sub8"}),s.jsx(ke,{value:"sub9",children:"Sub9"}),s.jsx(ke,{value:"sub10",children:"Sub10"})]})]})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(U,{variant:"outline",onClick:()=>{i({freeSearch:"",dateFrom:"",dateTo:"",offerId:"",publisherId:"",geo:"",device:"",groupBy:"date",dateMode:"click"}),l(1)},className:"border-orange-500/50 bg-orange-500/10 text-orange-400 hover:bg-orange-500/20 hover:text-orange-300","data-testid":"button-clear-filters",children:t("reports.clearFilters")||"Clear"})})]})]}),s.jsxs(uo,{value:n,onValueChange:r,className:"space-y-4",children:[s.jsxs(ki,{className:"bg-card border border-border gap-2 p-1",children:[s.jsxs(lt,{value:"clicks",className:"px-4 py-2 data-[state=active]:bg-blue-500 data-[state=active]:text-white","data-testid":"tab-clicks",children:[s.jsx(e_,{className:"w-4 h-4 mr-2 text-blue-400"}),t("reports.clicks")||""]}),s.jsxs(lt,{value:"conversions",className:"px-4 py-2 data-[state=active]:bg-emerald-500 data-[state=active]:text-white","data-testid":"tab-conversions",children:[s.jsx(Ro,{className:"w-4 h-4 mr-2 text-emerald-400"}),t("reports.conversions")||""]}),s.jsxs(lt,{value:"grouped",className:"px-4 py-2 data-[state=active]:bg-purple-500 data-[state=active]:text-white","data-testid":"tab-grouped",children:[s.jsx(qr,{className:"w-4 h-4 mr-2 text-purple-400"}),t("reports.grouped")||""]})]}),s.jsxs(ct,{value:"clicks",className:"mt-0 space-y-4",children:[s.jsx(xK,{data:f,loading:m,role:e,t,useClicksSummary:!0}),s.jsx(LKe,{data:f,loading:m,page:o,setPage:l,role:e,groupedData:N,t})]}),s.jsxs(ct,{value:"conversions",className:"mt-0 space-y-4",children:[s.jsx(xK,{data:N,loading:A,role:e,t,useClicksSummary:!0}),s.jsx($Ke,{data:g,loading:v,page:o,setPage:l,role:e,showFinancials:_,t})]}),s.jsx(ct,{value:"grouped",className:"mt-0",children:s.jsx(FKe,{data:N,loading:A,role:e,showFinancials:_,t})})]})]})}function xK({data:e,loading:t,role:n,t:r,useClicksSummary:a=!1}){const i=n==="advertiser";let o,l,c,u,f,m;return a&&e?.summary?(o={clicks:e.summary.clicks||0,uniqueClicks:e.summary.uniqueClicks||0,conversions:e.summary.conversions||0,approvedConversions:e.summary.approvedConversions||0,leads:e.summary.leads||0,sales:e.summary.sales||0,payout:e.summary.payout||0,cost:e.summary.advertiserCost||0},l=e.summary.margin||0,c=e.summary.roi||0,u=e.summary.cr||0,f=e.summary.ar||(o.conversions>0?o.approvedConversions/o.conversions*100:0),m=e.summary.epc||(o.clicks>0?o.payout/o.clicks:0)):(o=(e?.data||e?.rows||[]).reduce((v,y)=>({clicks:v.clicks+(y.clicks||0),uniqueClicks:v.uniqueClicks+(y.uniqueClicks||0),conversions:v.conversions+(y.conversions||0),approvedConversions:v.approvedConversions+(y.approvedConversions||0),leads:v.leads+(y.leads||0),sales:v.sales+(y.sales||0),payout:v.payout+(y.payout||0),cost:v.cost+(y.cost||0),epcEarnings:v.epcEarnings+(y.epc||0)*(y.clicks||0)}),{clicks:0,uniqueClicks:0,conversions:0,approvedConversions:0,leads:0,sales:0,payout:0,cost:0,epcEarnings:0}),l=o.cost-o.payout,c=o.cost>0?l/o.cost*100:0,u=o.clicks>0?o.conversions/o.clicks*100:0,f=o.conversions>0?o.approvedConversions/o.conversions*100:0,m=o.clicks>0?o.epcEarnings/o.clicks:0),t?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-8 gap-3",children:[...Array(8)].map((p,g)=>s.jsx(J,{className:"bg-card border-border animate-pulse",children:s.jsx(ne,{className:"p-3 h-16"})},g))}):s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-8 gap-3",children:[s.jsx(J,{className:"bg-blue-500/5 border-blue-500/30 hover:border-blue-500/50 transition-colors",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-[10px] uppercase text-blue-400 mb-1",children:r("stats.clicks")||"Clicks"}),s.jsx("div",{className:"text-xl font-bold text-blue-400",children:o.clicks.toLocaleString()}),s.jsxs("div",{className:"text-[10px] text-blue-400/70",children:[o.uniqueClicks.toLocaleString()," unique"]}),s.jsxs("div",{className:"text-[12px] text-yellow-400","data-testid":"text-epc",children:["EPC: $",m.toFixed(2)]})]})}),s.jsx(J,{className:"bg-emerald-500/5 border-emerald-500/30 hover:border-emerald-500/50 transition-colors",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-[10px] uppercase text-emerald-400 mb-1",children:r("stats.conversions")||"Conv"}),s.jsx("div",{className:"text-xl font-bold text-emerald-400",children:o.conversions}),s.jsxs("div",{className:"text-[12px] text-yellow-400","data-testid":"text-cr",children:["CR: ",u.toFixed(2),"%"]})]})}),s.jsx(J,{className:"bg-green-500/5 border-green-500/30 hover:border-green-500/50 transition-colors",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-[10px] uppercase text-green-400 mb-1",children:r("stats.publisherPayout")||"Payout"}),s.jsx("div",{className:"text-xl font-bold text-green-400",children:Xe(o.payout)}),s.jsxs("div",{className:"text-[12px] text-yellow-400","data-testid":"text-ar",children:["AR: ",f.toFixed(2),"%"]})]})}),s.jsx(J,{className:"bg-purple-500/5 border-purple-500/30 hover:border-purple-500/50 transition-colors",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-[10px] uppercase text-purple-400 mb-1",children:r("stats.leads")||"Leads"}),s.jsx("div",{className:"text-xl font-bold text-purple-400",children:o.leads}),s.jsxs("div",{className:"text-[12px] text-yellow-400","data-testid":"text-instreg",children:[": ",o.uniqueClicks>0?(o.leads/o.uniqueClicks*100).toFixed(1):0,"%"]})]})}),s.jsx(J,{className:"bg-orange-500/5 border-orange-500/30 hover:border-orange-500/50 transition-colors",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-[10px] uppercase text-orange-400 mb-1",children:r("stats.sales")||"Sales"}),s.jsx("div",{className:"text-xl font-bold text-orange-400",children:o.sales}),s.jsxs("div",{className:"text-[12px] text-yellow-400","data-testid":"text-reg2dep",children:["2: ",o.leads>0?(o.sales/o.leads*100).toFixed(1):0,"%"]})]})}),(i||n==="admin")&&s.jsxs(s.Fragment,{children:[s.jsx(J,{className:"bg-red-500/5 border-red-500/30 hover:border-red-500/50 transition-colors",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-[10px] uppercase text-red-400 mb-1",children:r("stats.advertiserCost")||"Cost"}),s.jsx("div",{className:"text-xl font-bold text-red-400",children:Xe(o.cost)})]})}),s.jsx(J,{className:`${l>=0?"bg-emerald-500/5 border-emerald-500/30 hover:border-emerald-500/50":"bg-red-500/5 border-red-500/30 hover:border-red-500/50"} transition-colors`,children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:`text-[10px] uppercase mb-1 ${l>=0?"text-emerald-400":"text-red-400"}`,children:r("stats.margin")||"Margin"}),s.jsx("div",{className:`text-xl font-bold ${l>=0?"text-emerald-400":"text-red-400"}`,children:Xe(l)})]})}),s.jsx(J,{className:`${c>=0?"bg-cyan-500/5 border-cyan-500/30 hover:border-cyan-500/50":"bg-red-500/5 border-red-500/30 hover:border-red-500/50"} transition-colors`,children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:`text-[10px] uppercase mb-1 ${c>=0?"text-cyan-400":"text-red-400"}`,children:r("stats.roi")||"ROI"}),s.jsxs("div",{className:`text-xl font-bold ${c>=0?"text-cyan-400":"text-red-400"}`,children:[c.toFixed(1),"%"]})]})})]})]})}function LKe({data:e,loading:t,page:n,setPage:r,role:a,groupedData:i,t:o}){if(t)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-muted-foreground"})});const l=e?.clicks||[],c=e?.total||0,u=Math.ceil(c/50),f=a==="advertiser"||a==="admin",m=e?.summary,p=m?{clicks:m.clicks||0,uniqueClicks:m.uniqueClicks||0,conversions:m.conversions||0,approvedConversions:m.approvedConversions||0,leads:m.leads||0,sales:m.sales||0,payout:m.payout||0,cost:m.advertiserCost||0}:{clicks:0,uniqueClicks:0,conversions:0,approvedConversions:0,leads:0,sales:0,payout:0,cost:0},g=m?.cr||(p.clicks>0?p.conversions/p.clicks*100:0),v=m?.ar||(p.conversions>0?p.approvedConversions/p.conversions*100:0),y=m?.epc||(p.clicks>0?p.payout/p.clicks:0),w=m?.margin||p.cost-p.payout,N=m?.roi||(p.payout>0?(p.cost-p.payout)/p.payout*100:0),A=f?23:20;return s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-0",children:[s.jsx("div",{className:"max-h-[1100px] overflow-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{className:"sticky top-0 z-10 bg-card",children:s.jsxs("tr",{className:"border-b border-border bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.date")||"Date"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.clickId")||"Click ID"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.offer")||"Offer"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.publisher")||"Publisher"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.geo")||"GEO"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"IP"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Device"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"OS"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Browser"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.clicks")||"Clicks"}),s.jsx("th",{className:"px-4 py-3 font-medium text-center",children:o("reports.table.unique")||"Unique"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.leads")||"Leads"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.sales")||"Sales"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.conv")||"Conv"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.payout")||"Payout"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"CR%"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"AR%"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"EPC"}),f&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.cost")||"Cost"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.margin")||"Margin"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"ROI%"})]}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub1"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub2"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub3"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub4"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub5"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub6"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub7"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub8"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub9"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub10"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:l.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:A+5,className:"px-4 py-8 text-center text-muted-foreground",children:o("reports.noData")||"No data found"})}):l.map(T=>s.jsxs("tr",{className:"hover:bg-muted transition-colors",children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:new Date(T.createdAt).toLocaleString()}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("button",{onClick:()=>{T.clickId&&(navigator.clipboard.writeText(T.clickId),Rt.success("Click ID "))},className:"text-emerald-400 hover:text-emerald-300 cursor-pointer flex items-center gap-1 group",title:T.clickId,children:[T.clickId?.slice(0,12),"...",s.jsx(Yn,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),s.jsx("td",{className:"px-4 py-3 text-foreground",children:T.offerName||T.offerId}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.publisherShortId?`${T.publisherShortId}${T.publisherFullName?` - ${T.publisherFullName}`:""}`:"-"}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"px-1.5 py-0.5 rounded bg-blue-500/20 text-blue-400 text-[10px]",children:T.geo||"N/A"})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground text-[10px]",children:T.ip||"-"}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"px-1.5 py-0.5 rounded bg-purple-500/20 text-purple-400 text-[10px]",children:T.device||"-"})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground text-[10px]",children:T.os||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground text-[10px]",children:T.browser||"-"}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:T.clicks||0}),s.jsx("td",{className:"px-4 py-3 text-center",children:T.isUnique?s.jsx("span",{className:"text-emerald-500",children:""}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx("td",{className:"px-4 py-3 text-right text-purple-400",children:T.leads||0}),s.jsx("td",{className:"px-4 py-3 text-right text-orange-400",children:T.sales||0}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400 font-bold",children:T.conversions||0}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400",children:T.payout!==void 0?`$${T.payout.toFixed(2)}`:"-"}),s.jsx("td",{className:"px-4 py-3 text-right text-cyan-400",children:T.cr!==void 0?`${T.cr.toFixed(0)}%`:"-"}),s.jsx("td",{className:"px-4 py-3 text-right text-pink-400",children:T.ar!==void 0?`${T.ar.toFixed(0)}%`:"-"}),s.jsx("td",{className:"px-4 py-3 text-right text-teal-400",children:T.epc!==void 0?`$${T.epc.toFixed(2)}`:"-"}),f&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-4 py-3 text-right text-red-400",children:T.advertiserCost!==void 0?`$${T.advertiserCost.toFixed(2)}`:"-"}),s.jsx("td",{className:`px-4 py-3 text-right ${(T.margin||0)>=0?"text-emerald-400":"text-red-400"}`,children:T.margin!==void 0?`$${T.margin.toFixed(2)}`:"-"}),s.jsx("td",{className:`px-4 py-3 text-right ${(T.roi||0)>=0?"text-emerald-400":"text-red-400"}`,children:T.roi!==void 0?`${T.roi.toFixed(1)}%`:"-"})]}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub1||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub2||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub3||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub4||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub5||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub6||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub7||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub8||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub9||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub10||"-"})]},T.id))}),s.jsx("tfoot",{className:"sticky bottom-0 bg-card",children:s.jsxs("tr",{className:"border-t border-white/20 bg-white/[0.05] font-semibold",children:[s.jsx("td",{colSpan:9,className:"px-4 py-3 text-muted-foreground uppercase text-[10px]",children:o("reports.total")||"Total"}),s.jsx("td",{className:"px-4 py-3 text-right text-foreground",children:p.clicks.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:p.uniqueClicks.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-purple-400",children:p.leads}),s.jsx("td",{className:"px-4 py-3 text-right text-orange-400",children:p.sales}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400 font-bold",children:p.conversions}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400",children:Xe(p.payout)}),s.jsxs("td",{className:"px-4 py-3 text-right text-cyan-400",children:[g.toFixed(2),"%"]}),s.jsxs("td",{className:"px-4 py-3 text-right text-pink-400",children:[v.toFixed(2),"%"]}),s.jsx("td",{className:"px-4 py-3 text-right text-teal-400",children:Xe(y)}),f&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-4 py-3 text-right text-red-400",children:Xe(p.cost)}),s.jsx("td",{className:`px-4 py-3 text-right ${w>=0?"text-emerald-400":"text-red-400"}`,children:Xe(w)}),s.jsxs("td",{className:`px-4 py-3 text-right ${N>=0?"text-emerald-400":"text-red-400"}`,children:[N.toFixed(1),"%"]})]}),s.jsx("td",{colSpan:10,className:"px-4 py-3"})]})})]})}),u>1&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-border",children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:[o("reports.showing")||"Showing"," ",(n-1)*50+1,"-",Math.min(n*50,c)," ",o("reports.of")||"of"," ",c]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"sm",onClick:()=>r(T=>Math.max(1,T-1)),disabled:n===1,className:"border-border bg-transparent","data-testid":"button-prev-page",children:s.jsx(FW,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm text-muted-foreground px-3 py-1",children:[n," / ",u]}),s.jsx(U,{variant:"outline",size:"sm",onClick:()=>r(T=>Math.min(u,T+1)),disabled:n>=u,className:"border-border bg-transparent","data-testid":"button-next-page",children:s.jsx(Hc,{className:"w-4 h-4"})})]})]})]})})}const gK=[{value:"duplicate",label:""},{value:"motivation",label:" "},{value:"fraud",label:""},{value:"non_target",label:" "},{value:"other",label:""}];function $Ke({data:e,loading:t,page:n,setPage:r,role:a,showFinancials:i,t:o}){const l=rt(),[c,u]=j.useState({open:!1,conversionId:null}),[f,m]=j.useState(""),p=ve({mutationFn:async({conversionId:C,reason:S})=>(await Be("PUT",`/api/advertiser/conversions/${C}/status`,{status:"rejected",reason:S})).json(),onSuccess:()=>{Rt.success(" "),l.invalidateQueries({queryKey:["/api/reports/conversions"]}),u({open:!1,conversionId:null}),m("")},onError:C=>{Rt.error(C.message||"   ")}}),g=ve({mutationFn:async({conversionId:C})=>(await Be("PUT",`/api/advertiser/conversions/${C}/status`,{status:"hold"})).json(),onSuccess:()=>{Rt.success("   "),l.invalidateQueries({queryKey:["/api/reports/conversions"]})},onError:C=>{Rt.error(C.message||"    ")}}),v=ve({mutationFn:async({conversionId:C})=>(await Be("PUT",`/api/advertiser/conversions/${C}/status`,{status:"approved"})).json(),onSuccess:()=>{Rt.success(" "),l.invalidateQueries({queryKey:["/api/reports/conversions"]})},onError:C=>{Rt.error(C.message||"   ")}}),y=()=>{!c.conversionId||!f||p.mutate({conversionId:c.conversionId,reason:f})};if(t)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-muted-foreground"})});const w=e?.conversions||[],N=e?.total||0,A=Math.ceil(N/50),T=a==="advertiser"||a==="admin";return s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs(ne,{className:"p-0",children:[s.jsx("div",{className:"max-h-[1100px] overflow-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{className:"sticky top-0 z-10 bg-card",children:s.jsxs("tr",{className:"border-b border-border bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.date")||"Date"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.type")||"Type"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.status")||"Status"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.offer")||"Offer"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.publisher")||"Publisher"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.payout")||"Payout"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.cost")||"Cost"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.margin")||"Margin"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.roi")||"ROI"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.clickId")||"Click ID"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.geo")||"GEO"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub1"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub2"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub3"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub4"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub5"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub6"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub7"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub8"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub9"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub10"}),T&&s.jsx("th",{className:"px-4 py-3 font-medium",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:w.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:T?22:21,className:"px-4 py-8 text-center text-muted-foreground",children:o("reports.noData")||"No data found"})}):w.map(C=>{const S=parseFloat(C.publisherPayout)||0,E=parseFloat(C.advertiserCost)||0,O=E-S,_=E>0?O/E*100:0;return s.jsxs("tr",{className:"hover:bg-muted transition-colors",children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:new Date(C.createdAt).toLocaleString()}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] uppercase font-bold ${C.conversionType==="sale"?"bg-purple-500/20 text-purple-400":"bg-emerald-500/20 text-emerald-400"}`,children:C.conversionType})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] uppercase font-bold ${C.status==="approved"?"bg-emerald-500/20 text-emerald-400":C.status==="rejected"?"bg-red-500/20 text-red-400":C.status==="hold"?"bg-yellow-500/20 text-yellow-400":"bg-slate-500/20 text-muted-foreground"}`,children:C.status})}),s.jsx("td",{className:"px-4 py-3 text-foreground",children:C.offerName||C.offerId}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.publisherShortId?`${C.publisherShortId}${C.publisherFullName?` - ${C.publisherFullName}`:""}`:"-"}),s.jsxs("td",{className:"px-4 py-3 text-right text-emerald-400 font-bold",children:["$",S.toFixed(2)]}),s.jsxs("td",{className:"px-4 py-3 text-right text-blue-400 font-bold",children:["$",E.toFixed(2)]}),s.jsxs("td",{className:`px-4 py-3 text-right font-bold ${O>=0?"text-emerald-400":"text-red-400"}`,children:["$",O.toFixed(2)]}),s.jsxs("td",{className:`px-4 py-3 text-right font-bold ${_>=0?"text-emerald-400":"text-red-400"}`,children:[_.toFixed(1),"%"]}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("button",{onClick:()=>{C.clickId&&(navigator.clipboard.writeText(C.clickId),Rt.success("Click ID "))},className:"text-muted-foreground hover:text-foreground cursor-pointer flex items-center gap-1 group",title:C.clickId,children:[C.clickId?.slice(0,8),"...",s.jsx(Yn,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"px-1.5 py-0.5 rounded bg-blue-500/20 text-blue-400 text-[10px]",children:C.geo||"N/A"})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub1||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub2||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub3||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub4||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub5||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub6||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub7||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub8||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub9||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub10||"-"}),T&&s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[(C.status==="hold"||C.status==="rejected")&&s.jsxs(U,{variant:"ghost",size:"sm",className:"h-7 px-2 text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10",onClick:()=>v.mutate({conversionId:C.id}),disabled:v.isPending,"data-testid":`button-approve-conversion-${C.id}`,children:[s.jsx(bt,{className:"w-3.5 h-3.5 mr-1"}),""]}),(C.status==="pending"||C.status==="approved")&&s.jsxs(U,{variant:"ghost",size:"sm",className:"h-7 px-2 text-amber-400 hover:text-amber-300 hover:bg-amber-500/10",onClick:()=>g.mutate({conversionId:C.id}),disabled:g.isPending,"data-testid":`button-hold-conversion-${C.id}`,children:[s.jsx(LO,{className:"w-3.5 h-3.5 mr-1"})," "]}),C.status!=="rejected"&&s.jsxs(U,{variant:"ghost",size:"sm",className:"h-7 px-2 text-red-400 hover:text-red-300 hover:bg-red-500/10",onClick:()=>u({open:!0,conversionId:C.id}),"data-testid":`button-reject-conversion-${C.id}`,children:[s.jsx(Bx,{className:"w-3.5 h-3.5 mr-1"}),""]}),C.status==="rejected"&&C.rejectionReason&&s.jsx("span",{className:"text-xs text-red-400",children:gK.find(M=>M.value===C.rejectionReason)?.label||C.rejectionReason})]})})]},C.id)})})]})}),A>1&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-border",children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:[o("reports.showing")||"Showing"," ",(n-1)*50+1,"-",Math.min(n*50,N)," ",o("reports.of")||"of"," ",N]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"sm",onClick:()=>r(C=>Math.max(1,C-1)),disabled:n===1,className:"border-border bg-transparent",children:s.jsx(FW,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm text-muted-foreground px-3 py-1",children:[n," / ",A]}),s.jsx(U,{variant:"outline",size:"sm",onClick:()=>r(C=>Math.min(A,C+1)),disabled:n>=A,className:"border-border bg-transparent",children:s.jsx(Hc,{className:"w-4 h-4"})})]})]})]}),s.jsx(Wt,{open:c.open,onOpenChange:C=>{C||(u({open:!1,conversionId:null}),m(""))},children:s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" "}),s.jsxs(ht,{value:f,onValueChange:m,children:[s.jsx(dt,{className:"bg-background border-border",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:gK.map(C=>s.jsx(ke,{value:C.value,children:C.label},C.value))})]})]})}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:()=>u({open:!1,conversionId:null}),className:"border-border",children:""}),s.jsxs(U,{variant:"destructive",onClick:y,disabled:!f||p.isPending,"data-testid":"button-confirm-reject",children:[p.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(Bx,{className:"w-4 h-4 mr-2"}),""]})]})]})})]})}function FKe({data:e,loading:t,role:n,showFinancials:r,t:a}){if(t)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-muted-foreground"})});const i=e?.data||[],o=e?.groupBy||"date",l=n==="advertiser"||n==="admin",c=i.reduce((v,y)=>({clicks:v.clicks+(y.clicks||0),uniqueClicks:v.uniqueClicks+(y.uniqueClicks||0),conversions:v.conversions+(y.conversions||0),approvedConversions:v.approvedConversions+(y.approvedConversions||0),leads:v.leads+(y.leads||0),sales:v.sales+(y.sales||0),payout:v.payout+(y.payout||0),cost:v.cost+(y.cost||0),epcEarnings:v.epcEarnings+(y.epc||0)*(y.clicks||0)}),{clicks:0,uniqueClicks:0,conversions:0,approvedConversions:0,leads:0,sales:0,payout:0,cost:0,epcEarnings:0}),u=c.cost-c.payout,f=c.cost>0?u/c.cost*100:0,m=c.clicks>0?c.conversions/c.clicks*100:0,p=c.conversions>0?c.approvedConversions/c.conversions*100:0,g=c.clicks>0?c.epcEarnings/c.clicks:0;return s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"p-0",children:s.jsx("div",{className:"max-h-[1100px] overflow-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{className:"sticky top-0 z-10 bg-card",children:s.jsxs("tr",{className:"border-b border-border bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:o.toUpperCase()}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:a("reports.table.clicks")||"Clicks"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:a("reports.table.unique")||"Unique"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:a("reports.table.leads")||"Leads"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:a("reports.table.sales")||"Sales"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:a("reports.table.conv")||"Conv"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:a("reports.table.payout")||"Payout"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"CR%"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"AR%"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"EPC"}),l&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:a("reports.table.cost")||"Cost"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:a("reports.table.margin")||"Margin"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"ROI%"})]})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:i.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:l?13:10,className:"px-4 py-8 text-center text-muted-foreground",children:a("reports.noData")||"No data found"})}):i.map((v,y)=>{const w=v.cost||0,N=v.payout||0,A=w-N,T=w>0?A/w*100:0,C=v.clicks>0?v.conversions/v.clicks*100:0,S=v.conversions>0?(v.approvedConversions||0)/v.conversions*100:0,E=v.epc||0;return s.jsxs("tr",{className:"hover:bg-muted transition-colors",children:[s.jsx("td",{className:"px-4 py-3 text-foreground font-medium",children:v.groupKey}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:(v.clicks||0).toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:(v.uniqueClicks||0).toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400",children:v.leads||0}),s.jsx("td",{className:"px-4 py-3 text-right text-purple-400",children:v.sales||0}),s.jsx("td",{className:"px-4 py-3 text-right text-foreground font-bold",children:v.conversions||0}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400 font-bold",children:Xe(N)}),s.jsxs("td",{className:"px-4 py-3 text-right text-yellow-400",children:[C.toFixed(2),"%"]}),s.jsxs("td",{className:"px-4 py-3 text-right text-pink-400",children:[S.toFixed(2),"%"]}),s.jsx("td",{className:"px-4 py-3 text-right text-teal-400",children:Xe(E)}),l&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-4 py-3 text-right text-blue-400 font-bold",children:Xe(w)}),s.jsx("td",{className:`px-4 py-3 text-right font-bold ${A>=0?"text-emerald-400":"text-red-400"}`,children:Xe(A)}),s.jsxs("td",{className:`px-4 py-3 text-right font-bold ${T>=0?"text-emerald-400":"text-red-400"}`,children:[T.toFixed(1),"%"]})]})]},y)})}),i.length>0&&s.jsx("tfoot",{className:"sticky bottom-0 bg-card",children:s.jsxs("tr",{className:"border-t-2 border-white/20 bg-white/[0.03] font-bold",children:[s.jsx("td",{className:"px-4 py-3 text-foreground",children:a("reports.total")||"TOTAL"}),s.jsx("td",{className:"px-4 py-3 text-right text-foreground",children:c.clicks.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:c.uniqueClicks.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400",children:c.leads}),s.jsx("td",{className:"px-4 py-3 text-right text-purple-400",children:c.sales}),s.jsx("td",{className:"px-4 py-3 text-right text-foreground",children:c.conversions}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400",children:Xe(c.payout)}),s.jsxs("td",{className:"px-4 py-3 text-right text-yellow-400",children:[m.toFixed(2),"%"]}),s.jsxs("td",{className:"px-4 py-3 text-right text-pink-400",children:[p.toFixed(2),"%"]}),s.jsx("td",{className:"px-4 py-3 text-right text-teal-400",children:Xe(g)}),l&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-4 py-3 text-right text-blue-400",children:Xe(c.cost)}),s.jsx("td",{className:`px-4 py-3 text-right ${u>=0?"text-emerald-400":"text-red-400"}`,children:Xe(u)}),s.jsxs("td",{className:`px-4 py-3 text-right ${f>=0?"text-emerald-400":"text-red-400"}`,children:[f.toFixed(1),"%"]})]})]})})]})})})})}function BKe(){const{t:e}=as(),{toast:t}=Dt(),n=rt(),[r,a]=j.useState(""),[i,o]=j.useState(null),[l,c]=j.useState(!1),[u,f]=j.useState(null),[m,p]=j.useState(""),[g,v]=j.useState(!1),[y,w]=j.useState(null),[N,A]=j.useState([]),[T,C]=j.useState([]),{data:S,isLoading:E,error:O}=Ne({queryKey:["/api/advertiser/access-requests"],queryFn:async()=>{const F=await fetch("/api/advertiser/access-requests",{credentials:"include"});if(!F.ok)throw new Error("Failed to fetch access requests");return F.json()}}),{data:_}=Ne({queryKey:["/api/advertiser/extension-requests"],queryFn:async()=>{const F=await fetch("/api/advertiser/extension-requests",{credentials:"include"});if(!F.ok)throw new Error("Failed to fetch extension requests");return F.json()}}),M=ve({mutationFn:async({offerId:F,publisherId:K,action:R})=>{const B=R==="approve"?`/api/advertiser/partners/${K}/offers/${F}/approve-landings`:`/api/advertiser/partners/${K}/offers/${F}/reject-landings`,L=await fetch(B,{method:"POST",credentials:"include"});if(!L.ok)throw new Error("Failed to process extension request");return L.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/advertiser/extension-requests"]}),n.invalidateQueries({queryKey:["/api/advertiser/access-requests"]}),t({title:"",description:"   "})},onError:()=>{t({title:"",description:"   ",variant:"destructive"})}}),$=ve({mutationFn:async({requestId:F,action:K,reason:R,approvedGeos:B,approvedLandings:L})=>{const q=await fetch(`/api/advertiser/access-requests/${F}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:K,rejectionReason:R,approvedGeos:B,approvedLandings:L}),credentials:"include"});if(!q.ok)throw new Error("Failed to update request");return q.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/advertiser/access-requests"]}),t({title:"Success",description:"Request updated successfully"})},onError:()=>{t({title:"Error",description:"Failed to update request",variant:"destructive"})}}),z=j.useMemo(()=>S?S.filter(F=>{const K=r===""||F.offer.name.toLowerCase().includes(r.toLowerCase())||F.publisher.username.toLowerCase().includes(r.toLowerCase())||F.publisher.email.toLowerCase().includes(r.toLowerCase()),R=!i||F.status===i;return K&&R}):[],[S,r,i]),V=j.useMemo(()=>{const F=S?.filter(R=>R.status==="pending").length||0,K=_?.length||0;return F+K},[S,_]),I=F=>{switch(F){case"pending":return s.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded text-[10px] uppercase font-bold bg-yellow-500/20 text-yellow-500",children:[s.jsx(Yt,{className:"w-3 h-3"}),""]});case"approved":return s.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded text-[10px] uppercase font-bold bg-emerald-500/20 text-emerald-500",children:[s.jsx(Gn,{className:"w-3 h-3"}),""]});case"rejected":return s.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded text-[10px] uppercase font-bold bg-red-500/20 text-red-500",children:[s.jsx(ts,{className:"w-3 h-3"}),""]});case"revoked":return s.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded text-[10px] uppercase font-bold bg-orange-500/20 text-orange-500",children:[s.jsx(ts,{className:"w-3 h-3"}),""]});default:return null}};return E?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-blue-500"})}):O?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-red-400",children:"Failed to load access requests"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-mono text-foreground mb-2","data-testid":"text-requests-title",children:"  "}),s.jsx("p",{className:"text-muted-foreground text-sm font-mono",children:"      "})]}),V>0&&s.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/10 border border-yellow-500/30 px-4 py-2 rounded",children:[s.jsx(Yt,{className:"w-4 h-4 text-yellow-500"}),s.jsxs("span",{className:"text-yellow-500 font-mono font-bold",children:[V," pending"]})]})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs("div",{className:"p-4 border-b border-border flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"    ...",value:r,onChange:F=>a(F.target.value),className:"w-full bg-muted border border-border rounded pl-9 pr-4 py-2 text-sm text-foreground focus:outline-none focus:border-blue-500 font-mono","data-testid":"input-search-requests"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"sm",className:`border-border font-mono ${i?"text-muted-foreground":"text-blue-400 border-blue-500/50 bg-blue-500/10"}`,onClick:()=>o(null),"data-testid":"button-filter-all",children:""}),s.jsx(U,{variant:"outline",size:"sm",className:`border-border font-mono ${i==="pending"?"text-yellow-400 border-yellow-500/50 bg-yellow-500/10":"text-muted-foreground"}`,onClick:()=>o("pending"),"data-testid":"button-filter-pending",children:""}),s.jsx(U,{variant:"outline",size:"sm",className:`border-border font-mono ${i==="approved"?"text-emerald-400 border-emerald-500/50 bg-emerald-500/10":"text-muted-foreground"}`,onClick:()=>o("approved"),"data-testid":"button-filter-approved",children:""}),s.jsx(U,{variant:"outline",size:"sm",className:`border-border font-mono ${i==="rejected"?"text-red-400 border-red-500/50 bg-red-500/10":"text-muted-foreground"}`,onClick:()=>o("rejected"),"data-testid":"button-filter-rejected",children:""})]})]}),z.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Do,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"  "})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:z.map(F=>s.jsxs("tr",{className:"hover:bg-muted transition-colors","data-testid":`row-request-${F.id}`,children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:new Date(F.createdAt).toLocaleDateString()}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:F.publisher.username}),s.jsx("div",{className:"text-muted-foreground text-[10px]",children:F.publisher.email})]})}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsx(Mt,{href:`/dashboard/advertiser/offer/${F.offerId}`,children:s.jsx("span",{className:"font-medium text-foreground hover:text-blue-400 transition-colors cursor-pointer",children:F.offer.name})}),s.jsx("div",{className:"text-muted-foreground text-[10px]",children:F.offer.category})]}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground max-w-[200px] truncate",children:F.message||"-"}),s.jsx("td",{className:"px-4 py-3",children:I(F.status)}),s.jsxs("td",{className:"px-4 py-3 text-right",children:[F.status==="pending"&&s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsxs(U,{size:"sm",className:"h-7 px-3 bg-emerald-600 hover:bg-emerald-500 text-foreground",onClick:()=>{w(F),A([...F.offer.geo]),C(F.offer.landings.map(K=>K.id)),v(!0)},disabled:$.isPending,"data-testid":`button-approve-${F.id}`,children:[s.jsx(bt,{className:"w-3 h-3 mr-1"}),""]}),s.jsxs(U,{size:"sm",variant:"outline",className:"h-7 px-3 border-red-500/50 text-red-400 hover:bg-red-500/10",onClick:()=>{f(F.id),p(""),c(!0)},disabled:$.isPending,"data-testid":`button-reject-${F.id}`,children:[s.jsx(Xn,{className:"w-3 h-3 mr-1"}),""]})]}),F.status==="approved"&&s.jsxs(U,{size:"sm",variant:"outline",className:"h-7 px-3 border-orange-500/50 text-orange-400 hover:bg-orange-500/10",onClick:()=>$.mutate({requestId:F.id,action:"revoke"}),disabled:$.isPending,"data-testid":`button-revoke-${F.id}`,children:[s.jsx(Xn,{className:"w-3 h-3 mr-1"}),""]}),F.status==="revoked"&&s.jsxs(U,{size:"sm",className:"h-7 px-3 bg-emerald-600 hover:bg-emerald-500 text-foreground",onClick:()=>{w(F),A([...F.offer.geo]),v(!0)},disabled:$.isPending,"data-testid":`button-reapprove-${F.id}`,children:[s.jsx(bt,{className:"w-3 h-3 mr-1"}),""]}),F.status==="rejected"&&s.jsx("span",{className:"text-muted-foreground",children:"-"})]})]},F.id))})]})})]}),_&&_.length>0&&s.jsxs(J,{className:"bg-card border-border mt-6",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("h3",{className:"text-lg font-bold font-mono text-foreground flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),"   "]}),s.jsx("p",{className:"text-muted-foreground text-xs font-mono mt-1",children:"   "})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:" "}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:_.map(F=>s.jsxs("tr",{className:"hover:bg-muted transition-colors","data-testid":`row-extension-${F.id}`,children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:new Date(F.createdAt).toLocaleDateString()}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:F.publisher.username}),s.jsx("div",{className:"text-muted-foreground text-[10px]",children:F.publisher.email})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Mt,{href:`/dashboard/advertiser/offer/${F.offerId}`,children:s.jsx("span",{className:"font-medium text-foreground hover:text-blue-400 transition-colors cursor-pointer",children:F.offer.name})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"space-y-1",children:[F.requestedLandings.slice(0,2).map(K=>s.jsxs("div",{className:"text-xs",children:[s.jsx("span",{className:"font-medium text-foreground",children:K.name}),s.jsxs("span",{className:"text-muted-foreground ml-2",children:[K.geo,"  $",K.payout]})]},K.id)),F.requestedLandings.length>2&&s.jsxs("span",{className:"text-muted-foreground text-[10px]",children:["+",F.requestedLandings.length-2," "]})]})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsxs(U,{size:"sm",className:"h-7 px-3 bg-emerald-600 hover:bg-emerald-500 text-foreground",onClick:()=>M.mutate({offerId:F.offerId,publisherId:F.publisherId,action:"approve"}),disabled:M.isPending,"data-testid":`button-approve-extension-${F.id}`,children:[s.jsx(bt,{className:"w-3 h-3 mr-1"}),""]}),s.jsxs(U,{size:"sm",variant:"outline",className:"h-7 px-3 border-red-500/50 text-red-400 hover:bg-red-500/10",onClick:()=>M.mutate({offerId:F.offerId,publisherId:F.publisherId,action:"reject"}),disabled:M.isPending,"data-testid":`button-reject-extension-${F.id}`,children:[s.jsx(Xn,{className:"w-3 h-3 mr-1"}),""]})]})})]},F.id))})]})})]}),s.jsx(Wt,{open:l,onOpenChange:c,children:s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsx(Ut,{className:"text-foreground font-mono",children:" "})}),s.jsxs("div",{className:"py-4",children:[s.jsx("label",{className:"text-sm text-muted-foreground font-mono mb-2 block",children:"  ()"}),s.jsx(vi,{value:m,onChange:F=>p(F.target.value),placeholder:"  ...",className:"bg-muted border-border text-foreground font-mono","data-testid":"input-rejection-reason"})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:()=>c(!1),className:"border-border text-muted-foreground",children:""}),s.jsx(U,{onClick:()=>{u&&($.mutate({requestId:u,action:"reject",reason:m||void 0}),c(!1))},disabled:$.isPending,className:"bg-red-600 hover:bg-red-500 text-foreground","data-testid":"button-confirm-reject",children:$.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin"}):""})]})]})}),s.jsx(Wt,{open:g,onOpenChange:v,children:s.jsxs(zt,{className:"bg-card border-border max-w-2xl",children:[s.jsx(qt,{children:s.jsx(Ut,{className:"text-foreground font-mono",children:" "})}),s.jsxs("div",{className:"py-4 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground font-mono mb-3 block",children:"    "}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(U,{type:"button",size:"sm",variant:"outline",className:"text-xs",onClick:()=>A([...y?.offer.geo||[]]),"data-testid":"button-select-all-geos",children:" "}),s.jsx(U,{type:"button",size:"sm",variant:"outline",className:"text-xs",onClick:()=>A([]),"data-testid":"button-deselect-all-geos",children:" "})]}),s.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-[150px] overflow-y-auto",children:y?.offer.geo.map(F=>s.jsxs("label",{className:`flex items-center gap-2 px-3 py-2 rounded border cursor-pointer transition-colors ${N.includes(F)?"bg-blue-500/20 border-blue-500/50 text-blue-400":"bg-muted border-border text-muted-foreground hover:border-blue-500/30"}`,children:[s.jsx("input",{type:"checkbox",checked:N.includes(F),onChange:K=>{K.target.checked?A([...N,F]):A(N.filter(R=>R!==F))},className:"w-4 h-4 rounded border-border","data-testid":`checkbox-geo-${F}`}),s.jsx("span",{className:"font-mono text-sm",children:F})]},F))}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2 font-mono",children:N.length===y?.offer.geo.length?"   ":N.length===0?"    ( )":`  ${N.length}  ${y?.offer.geo.length} `})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground font-mono mb-3 block",children:"    "}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(U,{type:"button",size:"sm",variant:"outline",className:"text-xs",onClick:()=>C(y?.offer.landings.map(F=>F.id)||[]),"data-testid":"button-select-all-landings",children:" "}),s.jsx(U,{type:"button",size:"sm",variant:"outline",className:"text-xs",onClick:()=>C([]),"data-testid":"button-deselect-all-landings",children:" "})]}),s.jsx("div",{className:"space-y-2 max-h-[150px] overflow-y-auto",children:y?.offer.landings.map(F=>s.jsxs("label",{className:`flex items-center gap-3 px-3 py-2 rounded border cursor-pointer transition-colors ${T.includes(F.id)?"bg-emerald-500/20 border-emerald-500/50 text-emerald-400":"bg-muted border-border text-muted-foreground hover:border-emerald-500/30"}`,children:[s.jsx("input",{type:"checkbox",checked:T.includes(F.id),onChange:K=>{K.target.checked?C([...T,F.id]):C(T.filter(R=>R!==F.id))},className:"w-4 h-4 rounded border-border","data-testid":`checkbox-landing-${F.id}`}),s.jsx("span",{className:"font-mono text-sm flex-1",children:F.name}),s.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:F.geo})]},F.id))}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2 font-mono",children:T.length===y?.offer.landings.length||T.length===0?"   ":`  ${T.length}  ${y?.offer.landings.length} `})]})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:()=>v(!1),className:"border-border text-muted-foreground",children:""}),s.jsx(U,{onClick:()=>{if(y){const F=N.length===y.offer.geo.length||N.length===0?void 0:N,K=T.length===y.offer.landings.length?void 0:T;$.mutate({requestId:y.id,action:"approve",approvedGeos:F,approvedLandings:K}),v(!1)}},disabled:$.isPending,className:"bg-emerald-600 hover:bg-emerald-500 text-foreground","data-testid":"button-confirm-approve",children:$.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin"}):""})]})]})})]})}function ou(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function zKe(e,t){return j.useReducer((n,r)=>t[n][r]??n,e)}var $3="ScrollArea",[soe]=ss($3),[qKe,Ti]=soe($3),aoe=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=j.useState(null),[u,f]=j.useState(null),[m,p]=j.useState(null),[g,v]=j.useState(null),[y,w]=j.useState(null),[N,A]=j.useState(0),[T,C]=j.useState(0),[S,E]=j.useState(!1),[O,_]=j.useState(!1),M=it(t,z=>c(z)),$=fm(a);return s.jsx(qKe,{scope:n,type:r,dir:$,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:f,content:m,onContentChange:p,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:E,scrollbarY:y,onScrollbarYChange:w,scrollbarYEnabled:O,onScrollbarYEnabledChange:_,onCornerWidthChange:A,onCornerHeightChange:C,children:s.jsx(Je.div,{dir:$,...o,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":T+"px",...e.style}})})});aoe.displayName=$3;var ioe="ScrollAreaViewport",ooe=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...i}=e,o=Ti(ioe,n),l=j.useRef(null),c=it(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Je.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});ooe.displayName=ioe;var Ko="ScrollAreaScrollbar",F3=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Ti(Ko,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return j.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(UKe,{...r,ref:t,forceMount:n}):a.type==="scroll"?s.jsx(VKe,{...r,ref:t,forceMount:n}):a.type==="auto"?s.jsx(loe,{...r,ref:t,forceMount:n}):a.type==="always"?s.jsx(B3,{...r,ref:t}):null});F3.displayName=Ko;var UKe=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Ti(Ko,e.__scopeScrollArea),[i,o]=j.useState(!1);return j.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Vr,{present:n||i,children:s.jsx(loe,{"data-state":i?"visible":"hidden",...r,ref:t})})}),VKe=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Ti(Ko,e.__scopeScrollArea),i=e.orientation==="horizontal",o=M1(()=>c("SCROLL_END"),100),[l,c]=zKe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),j.useEffect(()=>{const u=a.viewport,f=i?"scrollLeft":"scrollTop";if(u){let m=u[f];const p=()=>{const g=u[f];m!==g&&(c("SCROLL"),o()),m=g};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[a.viewport,i,c,o]),s.jsx(Vr,{present:n||l!=="hidden",children:s.jsx(B3,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ou(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ou(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),loe=j.forwardRef((e,t)=>{const n=Ti(Ko,e.__scopeScrollArea),{forceMount:r,...a}=e,[i,o]=j.useState(!1),l=e.orientation==="horizontal",c=M1(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:f)}},10);return nm(n.viewport,c),nm(n.content,c),s.jsx(Vr,{present:r||i,children:s.jsx(B3,{"data-state":i?"visible":"hidden",...a,ref:t})})}),B3=j.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=Ti(Ko,e.__scopeScrollArea),i=j.useRef(null),o=j.useRef(0),[l,c]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=hoe(l.viewport,l.content),f={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function m(p,g){return XKe(p,o.current,l,g)}return n==="horizontal"?s.jsx(HKe,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollLeft,g=yK(p,l,a.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=m(p,a.dir))}}):n==="vertical"?s.jsx(KKe,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollTop,g=yK(p,l);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=m(p))}}):null}),HKe=j.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=Ti(Ko,e.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),u=it(t,c,i.onScrollbarXChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(doe,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":P1(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(i.viewport){const p=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(p),poe(p,m)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Dw(o.paddingLeft),paddingEnd:Dw(o.paddingRight)}})}})}),KKe=j.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=Ti(Ko,e.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),u=it(t,c,i.onScrollbarYChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(doe,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":P1(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(i.viewport){const p=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(p),poe(p,m)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Dw(o.paddingTop),paddingEnd:Dw(o.paddingBottom)}})}})}),[WKe,coe]=soe(Ko),doe=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:m,...p}=e,g=Ti(Ko,n),[v,y]=j.useState(null),w=it(t,M=>y(M)),N=j.useRef(null),A=j.useRef(""),T=g.viewport,C=r.content-r.viewport,S=Pn(f),E=Pn(c),O=M1(m,10);function _(M){if(N.current){const $=M.clientX-N.current.left,z=M.clientY-N.current.top;u({x:$,y:z})}}return j.useEffect(()=>{const M=$=>{const z=$.target;v?.contains(z)&&S($,C)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[T,v,C,S]),j.useEffect(E,[r,E]),nm(v,O),nm(g.content,O),s.jsx(WKe,{scope:n,scrollbar:v,hasThumb:a,onThumbChange:Pn(i),onThumbPointerUp:Pn(o),onThumbPositionChange:E,onThumbPointerDown:Pn(l),children:s.jsx(Je.div,{...p,ref:w,style:{position:"absolute",...p.style},onPointerDown:ou(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),N.current=v.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),_(M))}),onPointerMove:ou(e.onPointerMove,_),onPointerUp:ou(e.onPointerUp,M=>{const $=M.target;$.hasPointerCapture(M.pointerId)&&$.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=A.current,g.viewport&&(g.viewport.style.scrollBehavior=""),N.current=null})})})}),Rw="ScrollAreaThumb",uoe=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=coe(Rw,e.__scopeScrollArea);return s.jsx(Vr,{present:n||a.hasThumb,children:s.jsx(GKe,{ref:t,...r})})}),GKe=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,i=Ti(Rw,n),o=coe(Rw,n),{onThumbPositionChange:l}=o,c=it(t,m=>o.onThumbChange(m)),u=j.useRef(void 0),f=M1(()=>{u.current&&(u.current(),u.current=void 0)},100);return j.useEffect(()=>{const m=i.viewport;if(m){const p=()=>{if(f(),!u.current){const g=QKe(m,l);u.current=g,l()}};return l(),m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[i.viewport,f,l]),s.jsx(Je.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ou(e.onPointerDownCapture,m=>{const g=m.target.getBoundingClientRect(),v=m.clientX-g.left,y=m.clientY-g.top;o.onThumbPointerDown({x:v,y})}),onPointerUp:ou(e.onPointerUp,o.onThumbPointerUp)})});uoe.displayName=Rw;var z3="ScrollAreaCorner",foe=j.forwardRef((e,t)=>{const n=Ti(z3,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(YKe,{...e,ref:t}):null});foe.displayName=z3;var YKe=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=Ti(z3,n),[i,o]=j.useState(0),[l,c]=j.useState(0),u=!!(i&&l);return nm(a.scrollbarX,()=>{const f=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(f),c(f)}),nm(a.scrollbarY,()=>{const f=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(f),o(f)}),u?s.jsx(Je.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Dw(e){return e?parseInt(e,10):0}function hoe(e,t){const n=e/t;return isNaN(n)?0:n}function P1(e){const t=hoe(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function XKe(e,t,n,r="ltr"){const a=P1(n),i=a/2,o=t||i,l=a-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,m=r==="ltr"?[0,f]:[f*-1,0];return moe([c,u],m)(e)}function yK(e,t,n="ltr"){const r=P1(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=kP(e,c);return moe([0,o],[0,l])(u)}function moe(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function poe(e,t){return e>0&&e<t}var QKe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,r=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(r)};function M1(e,t){const n=Pn(e),r=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),j.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function nm(e,t){const n=Pn(t);Zt(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var xoe=aoe,JKe=ooe,ZKe=foe;const q3=j.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(xoe,{ref:r,className:Re("relative overflow-hidden",e),...n,children:[s.jsx(JKe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(goe,{}),s.jsx(ZKe,{})]}));q3.displayName=xoe.displayName;const goe=j.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx(F3,{ref:r,orientation:t,className:Re("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(uoe,{className:"relative flex-1 rounded-full bg-border"})}));goe.displayName=F3.displayName;const vK=[{value:"crypto_usdt_trc20",label:"USDT TRC20",icon:fi,color:"text-green-500"},{value:"crypto_usdt_erc20",label:"USDT ERC20",icon:fi,color:"text-blue-400"},{value:"crypto_usdt_bep20",label:"USDT BEP20",icon:fi,color:"text-yellow-400"},{value:"crypto_btc",label:"Bitcoin (BTC)",icon:fi,color:"text-orange-500"},{value:"crypto_eth",label:"Ethereum (ETH)",icon:fi,color:"text-purple-400"},{value:"crypto_ltc",label:"Litecoin (LTC)",icon:fi,color:"text-muted-foreground"},{value:"bank_card",label:" ",icon:On,color:"text-blue-500"},{value:"bank_transfer",label:" ",icon:On,color:"text-cyan-500"},{value:"binance",label:"Binance Pay",icon:er,color:"text-yellow-500"},{value:"bybit",label:"Bybit",icon:er,color:"text-purple-500"},{value:"kraken",label:"Kraken",icon:er,color:"text-blue-500"},{value:"coinbase",label:"Coinbase",icon:er,color:"text-blue-400"},{value:"exmo",label:"EXMO",icon:er,color:"text-cyan-500"},{value:"mexc",label:"MEXC",icon:er,color:"text-teal-500"},{value:"okx",label:"OKX",icon:er,color:"text-muted-foreground"},{value:"paypal",label:"PayPal",icon:On,color:"text-blue-600"},{value:"webmoney",label:"WebMoney",icon:On,color:"text-blue-500"},{value:"capitalist",label:"Capitalist",icon:On,color:"text-red-500"},{value:"qiwi",label:"QIWI",icon:On,color:"text-orange-400"},{value:"skrill",label:"Skrill",icon:On,color:"text-purple-600"}],eWe=["USD","EUR","USDT","BTC"];function tWe(){const{t:e}=as(),{toast:t}=Dt(),n=rt(),[r,a]=j.useState(!1),[i,o]=j.useState(null),[l,c]=j.useState(""),[u,f]=j.useState(""),[m,p]=j.useState(""),[g,v]=j.useState([]),[y,w]=j.useState(!1),[N,A]=j.useState(!1),[T,C]=j.useState(""),[S,E]=j.useState(""),[O,_]=j.useState(""),[M,$]=j.useState(""),[z,V]=j.useState({}),[I,F]=j.useState({}),[K,R]=j.useState("day"),[B,L]=j.useState(()=>{const Q=new Date;return Q.setMonth(Q.getMonth()-1),Q.toISOString().split("T")[0]}),[q,se]=j.useState(()=>new Date().toISOString().split("T")[0]),{data:H=[],isLoading:Y}=Ne({queryKey:["/api/advertiser/payment-methods"]}),{data:G=[],isLoading:X}=Ne({queryKey:["/api/advertiser/payout-requests"]}),{data:ae=[],isLoading:de}=Ne({queryKey:["/api/advertiser/publisher-balances"]}),{data:he=[],isLoading:Fe}=Ne({queryKey:["/api/advertiser/payouts"]}),{data:ge={}}=Ne({queryKey:["/api/advertiser/crypto/keys/status"]}),{data:Ae,isLoading:_e,isError:ee,error:Le,refetch:Ce}=Ne({queryKey:[`/api/advertiser/finance/analytics?dateFrom=${B}&dateTo=${q}&interval=${K}`],retry:!1}),De=async Q=>{try{const xt=`/api/advertiser/finance/export?format=${Q}&dateFrom=${B}&dateTo=${q}&interval=${K}`,dn=await fetch(xt,{credentials:"include"});if(!dn.ok){const Rs=await dn.text();throw new Error(Rs||"Export failed")}const jr=await dn.blob(),vs=window.URL.createObjectURL(jr),Un=document.createElement("a");Un.href=vs;const Zs=Q==="xlsx"?"xlsx":Q==="pdf"?"pdf":"csv";Un.download=`finance-analytics-${new Date().toISOString().split("T")[0]}.${Zs}`,document.body.appendChild(Un),Un.click(),document.body.removeChild(Un),window.URL.revokeObjectURL(vs),t({title:" "})}catch(xt){t({title:" ",description:xt.message,variant:"destructive"})}},We=ve({mutationFn:Q=>Be("POST","/api/advertiser/crypto/keys",Q),onSuccess:(Q,xt)=>{n.invalidateQueries({queryKey:["/api/advertiser/crypto/keys/status"]}),F(dn=>({...dn,[xt.exchange]:{apiKey:"",secretKey:"",passphrase:""}})),V(dn=>({...dn,[xt.exchange]:!1})),t({title:"API  "})},onError:Q=>{t({title:"",description:Q.message,variant:"destructive"})}}),nt=ve({mutationFn:Q=>Be("DELETE",`/api/advertiser/crypto/keys/${Q}`),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/advertiser/crypto/keys/status"]}),t({title:"API  "})},onError:Q=>{t({title:"",description:Q.message,variant:"destructive"})}}),Et=ve({mutationFn:Q=>Be("POST","/api/advertiser/payment-methods",Q),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/advertiser/payment-methods"]}),a(!1),t({title:"  "})},onError:Q=>{t({title:"",description:Q.message,variant:"destructive"})}}),St=ve({mutationFn:Q=>Be("DELETE",`/api/advertiser/payment-methods/${Q}`),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/advertiser/payment-methods"]}),t({title:"  "})},onError:Q=>{t({title:"",description:Q.message,variant:"destructive"})}}),Gt=ve({mutationFn:({id:Q,data:xt})=>Be("PUT",`/api/advertiser/payout-requests/${Q}`,xt),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/advertiser/payout-requests"]}),n.invalidateQueries({queryKey:["/api/advertiser/payouts"]}),n.invalidateQueries({queryKey:["/api/advertiser/publisher-balances"]}),o(null),t({title:" "})},onError:Q=>{t({title:"",description:Q.message,variant:"destructive"})}}),Jn=Q=>{Q.preventDefault();const xt=Q.currentTarget,dn=new FormData(xt);Et.mutate({methodType:dn.get("methodType"),methodName:dn.get("methodName"),currency:dn.get("currency"),minPayout:dn.get("minPayout")||"0",maxPayout:dn.get("maxPayout")||null,feePercent:dn.get("feePercent")||"0",feeFixed:dn.get("feeFixed")||"0",instructions:dn.get("instructions")||null})},cn=(Q,xt=!1)=>{Gt.mutate({id:Q.id,data:{status:"approved",approvedAmount:xt?l:Q.requestedAmount}})},_r=Q=>{Gt.mutate({id:Q.id,data:{status:"rejected",rejectionReason:u}})},Vt=Q=>{Gt.mutate({id:Q.id,data:{status:"paid",approvedAmount:Q.approvedAmount||Q.requestedAmount,transactionId:m}})},_n=ve({mutationFn:Q=>Be("POST","/api/advertiser/mass-payout",{requestIds:Q}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/advertiser/payout-requests"]}),n.invalidateQueries({queryKey:["/api/advertiser/payouts"]}),n.invalidateQueries({queryKey:["/api/advertiser/publisher-balances"]}),v([]),w(!1),t({title:"  "})},onError:Q=>{t({title:"",description:Q.message,variant:"destructive"})}}),zn=ve({mutationFn:Q=>Be("POST","/api/advertiser/payouts/bonus",Q),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/advertiser/payouts"]}),n.invalidateQueries({queryKey:["/api/advertiser/publisher-balances"]}),A(!1),C(""),E(""),_(""),$(""),t({title:" "})},onError:Q=>{t({title:"",description:Q.message,variant:"destructive"})}}),Rn=()=>{const Q=H.find(xt=>xt.id===S);Q&&zn.mutate({publisherId:T,paymentMethodId:S,walletAddress:"bonus",amount:O,currency:Q.currency||"USD",note:M||" "})},_s=Q=>{v(xt=>xt.includes(Q)?xt.filter(dn=>dn!==Q):[...xt,Q])},Ai=()=>{v(ga.map(Q=>Q.id))},Ei=()=>{_n.mutate(g)},Js=G.filter(Q=>Q.status==="pending"),ga=G.filter(Q=>Q.status==="approved"),rr=ga.filter(Q=>g.includes(Q.id)).reduce((Q,xt)=>Q+parseFloat(xt.approvedAmount||xt.requestedAmount||0),0),Tn=Js.reduce((Q,xt)=>Q+parseFloat(xt.requestedAmount||0),0),qn=ae.reduce((Q,xt)=>Q+xt.available,0);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:""}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"  "})]}),s.jsx(qu,{dataset:"finance-transactions",additionalDatasets:[{id:"finance-payouts",label:""}]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(J,{className:"bg-card border-border","data-testid":"card-pending-requests",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:s.jsx(Yt,{className:"w-5 h-5 text-yellow-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:" "}),s.jsx("p",{className:"text-xl font-bold text-foreground","data-testid":"text-pending-count",children:Js.length})]})]})})}),s.jsx(J,{className:"bg-card border-border","data-testid":"card-pending-amount",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:s.jsx(Sn,{className:"w-5 h-5 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"  (pending)"}),s.jsx("p",{className:"text-xl font-bold text-foreground","data-testid":"text-pending-amount",children:Xe(Tn)})]})]})})}),s.jsx(J,{className:"bg-card border-border","data-testid":"card-total-owed",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center",children:s.jsx(Kn,{className:"w-5 h-5 text-red-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:" "}),s.jsx("p",{className:"text-xl font-bold text-foreground","data-testid":"text-total-owed",children:Xe(qn)})]})]})})}),s.jsx(J,{className:"bg-card border-border","data-testid":"card-active-partners",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center",children:s.jsx(pn,{className:"w-5 h-5 text-emerald-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:" "}),s.jsx("p",{className:"text-xl font-bold text-foreground","data-testid":"text-active-partners",children:ae.length})]})]})})})]}),s.jsxs(uo,{defaultValue:"analytics",className:"space-y-4",children:[s.jsxs(ki,{className:"bg-card border border-border flex-wrap",children:[s.jsxs(lt,{value:"analytics","data-testid":"tab-analytics",className:"data-[state=active]:bg-green-500 data-[state=active]:text-white",children:[s.jsx(qr,{className:"h-4 w-4 mr-1 text-green-500"}),""]}),s.jsxs(lt,{value:"requests","data-testid":"tab-requests",className:"data-[state=active]:bg-yellow-500 data-[state=active]:text-black",children:[s.jsx(dr,{className:"h-4 w-4 mr-1 text-yellow-500"}),"  ",Js.length>0&&s.jsx(ye,{className:"ml-2 bg-yellow-600 text-black",children:Js.length})]}),s.jsxs(lt,{value:"balances","data-testid":"tab-balances",className:"data-[state=active]:bg-emerald-500 data-[state=active]:text-white",children:[s.jsx(pn,{className:"h-4 w-4 mr-1 text-emerald-500"})," "]}),s.jsxs(lt,{value:"methods","data-testid":"tab-methods",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:[s.jsx(On,{className:"h-4 w-4 mr-1 text-blue-500"})," "]}),s.jsxs(lt,{value:"history","data-testid":"tab-history",className:"data-[state=active]:bg-purple-500 data-[state=active]:text-white",children:[s.jsx(Hb,{className:"h-4 w-4 mr-1 text-purple-500"})," "]}),s.jsxs(lt,{value:"api-keys","data-testid":"tab-api-keys",className:"data-[state=active]:bg-orange-500 data-[state=active]:text-white",children:[s.jsx(Da,{className:"h-4 w-4 mr-1 text-orange-500"}),"API  "]}),s.jsxs(lt,{value:"instructions","data-testid":"tab-instructions",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:[s.jsx(zx,{className:"h-4 w-4 mr-1 text-blue-500"}),""]})]}),s.jsx(ct,{value:"analytics",className:"space-y-4",children:s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(RO,{className:"h-5 w-5 text-green-500"})," "]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Uw,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(le,{type:"date",value:B,onChange:Q=>L(Q.target.value),className:"w-36 bg-input border-border","data-testid":"input-date-from"}),s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx(le,{type:"date",value:q,onChange:Q=>se(Q.target.value),className:"w-36 bg-input border-border","data-testid":"input-date-to"})]}),s.jsxs(ht,{value:K,onValueChange:Q=>R(Q),children:[s.jsx(dt,{className:"w-28 bg-input border-border","data-testid":"select-interval",children:s.jsx(mt,{})}),s.jsxs(ut,{children:[s.jsx(ke,{value:"day",children:" "}),s.jsx(ke,{value:"week",children:" "}),s.jsx(ke,{value:"month",children:" "})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>De("csv"),"data-testid":"btn-export-csv",children:[s.jsx(Wi,{className:"h-4 w-4 mr-1"}),"CSV"]}),s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>De("xlsx"),"data-testid":"btn-export-xlsx",children:[s.jsx(Wi,{className:"h-4 w-4 mr-1"}),"Excel"]}),s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>De("pdf"),"data-testid":"btn-export-pdf",children:[s.jsx(Wi,{className:"h-4 w-4 mr-1"}),"PDF"]})]})]})]})}),s.jsx(ne,{children:_e?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):ee?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-destructive mb-2",children:String(Le).includes("401")?" . ,   .":"  "}),s.jsx(U,{variant:"outline",size:"sm",onClick:()=>Ce(),children:""})]}):Ae?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3",children:[s.jsx(J,{className:"bg-emerald-500/10 border-emerald-500/30",children:s.jsxs(ne,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:""}),s.jsx("p",{className:"text-lg font-bold text-emerald-500","data-testid":"stat-revenue",children:Xe(Ae.summary.revenue)})]})}),s.jsx(J,{className:"bg-red-500/10 border-red-500/30",children:s.jsxs(ne,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:""}),s.jsx("p",{className:"text-lg font-bold text-red-500","data-testid":"stat-payouts",children:Xe(Ae.summary.payouts)})]})}),s.jsx(J,{className:`${Ae.summary.profit>=0?"bg-blue-500/10 border-blue-500/30":"bg-orange-500/10 border-orange-500/30"}`,children:s.jsxs(ne,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:""}),s.jsx("p",{className:`text-lg font-bold ${Ae.summary.profit>=0?"text-blue-500":"text-orange-500"}`,"data-testid":"stat-profit",children:Xe(Ae.summary.profit)})]})}),s.jsx(J,{className:`${Ae.summary.roiPercent>=0?"bg-purple-500/10 border-purple-500/30":"bg-orange-500/10 border-orange-500/30"}`,children:s.jsxs(ne,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"ROI"}),s.jsxs("p",{className:`text-lg font-bold ${Ae.summary.roiPercent>=0?"text-purple-500":"text-orange-500"}`,"data-testid":"stat-roi",children:[Ae.summary.roiPercent.toFixed(1),"%"]})]})}),s.jsx(J,{className:"bg-cyan-500/10 border-cyan-500/30",children:s.jsxs(ne,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"FTD"}),s.jsx("p",{className:"text-lg font-bold text-cyan-500","data-testid":"stat-ftd",children:Ae.summary.totalFtd})]})}),s.jsx(J,{className:"bg-yellow-500/10 border-yellow-500/30",children:s.jsxs(ne,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:""}),s.jsx("p",{className:"text-lg font-bold text-yellow-500","data-testid":"stat-repeat",children:Ae.summary.totalRepeatDeposits})]})}),s.jsx(J,{className:"bg-indigo-500/10 border-indigo-500/30",children:s.jsxs(ne,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:". "}),s.jsx("p",{className:"text-lg font-bold text-indigo-500","data-testid":"stat-avg",children:Xe(Ae.summary.avgDepositAmount)})]})})]}),Ae.trend.length>0&&s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{className:"pb-2",children:s.jsx(Ie,{className:"text-sm",children:"   "})}),s.jsx(ne,{children:s.jsx("div",{className:"h-64",children:s.jsx(r1,{width:"100%",height:"100%",children:s.jsxs(I3,{data:Ae.trend,children:[s.jsx(A1,{strokeDasharray:"3 3",stroke:"#333"}),s.jsx(km,{dataKey:"periodStart",stroke:"#888",fontSize:11,tickFormatter:Q=>new Date(Q).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit"})}),s.jsx(Tm,{stroke:"#888",fontSize:11,tickFormatter:Q=>`$${Q}`}),s.jsx(Aa,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #333"},labelFormatter:Q=>new Date(Q).toLocaleDateString("ru-RU"),formatter:Q=>[`$${Q.toFixed(2)}`,""]}),s.jsx(su,{}),s.jsx(Qi,{type:"monotone",dataKey:"revenue",name:"",stroke:"#10b981",strokeWidth:2,dot:!1}),s.jsx(Qi,{type:"monotone",dataKey:"payouts",name:"",stroke:"#ef4444",strokeWidth:2,dot:!1}),s.jsx(Qi,{type:"monotone",dataKey:"profit",name:"",stroke:"#3b82f6",strokeWidth:2,dot:!1})]})})})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{className:"pb-2",children:s.jsx(Ie,{className:"text-sm flex items-center gap-2",children:" "})}),s.jsx(ne,{className:"max-h-64 overflow-auto",children:Ae.offerBreakdown.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:" "}):s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"text-xs text-muted-foreground",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-1",children:""}),s.jsx("th",{className:"text-right",children:""}),s.jsx("th",{className:"text-right",children:""}),s.jsx("th",{className:"text-right",children:"ROI"}),s.jsx("th",{className:"text-right",children:"FTD"})]})}),s.jsx("tbody",{children:Ae.offerBreakdown.map(Q=>s.jsxs("tr",{className:"border-t border-border",children:[s.jsx("td",{className:"py-1.5 text-foreground",children:Q.offerName}),s.jsx("td",{className:"text-right text-emerald-500",children:Xe(Q.revenue)}),s.jsx("td",{className:"text-right text-red-500",children:Xe(Q.payouts)}),s.jsxs("td",{className:`text-right ${Q.roiPercent>=0?"text-purple-500":"text-orange-500"}`,children:[Q.roiPercent.toFixed(0),"%"]}),s.jsx("td",{className:"text-right text-muted-foreground",children:Q.ftdCount})]},Q.offerId))})]})})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{className:"pb-2",children:s.jsx(Ie,{className:"text-sm flex items-center gap-2",children:" "})}),s.jsx(ne,{className:"max-h-64 overflow-auto",children:Ae.publisherBreakdown.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:" "}):s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"text-xs text-muted-foreground",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-1",children:""}),s.jsx("th",{className:"text-right",children:""}),s.jsx("th",{className:"text-right",children:""}),s.jsx("th",{className:"text-right",children:"ROI"}),s.jsx("th",{className:"text-right",children:"FTD"})]})}),s.jsx("tbody",{children:Ae.publisherBreakdown.map(Q=>s.jsxs("tr",{className:"border-t border-border",children:[s.jsx("td",{className:"py-1.5 text-foreground",children:Q.publisherShortId?`${Q.publisherShortId}${Q.publisherFullName?` - ${Q.publisherFullName}`:""}`:"-"}),s.jsx("td",{className:"text-right text-emerald-500",children:Xe(Q.revenue)}),s.jsx("td",{className:"text-right text-red-500",children:Xe(Q.payouts)}),s.jsxs("td",{className:`text-right ${Q.roiPercent>=0?"text-purple-500":"text-orange-500"}`,children:[Q.roiPercent.toFixed(0),"%"]}),s.jsx("td",{className:"text-right text-muted-foreground",children:Q.ftdCount})]},Q.publisherId))})]})})]})]})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"    "})})]})}),s.jsx(ct,{value:"requests",className:"space-y-4",children:X?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):G.length===0?s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(Qr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"   "})]})}):s.jsxs("div",{className:"space-y-3",children:[ga.length>0&&s.jsx(J,{className:"bg-card border-emerald-500/30",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(pF,{className:"w-5 h-5 text-emerald-500"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-foreground",children:["  : ",s.jsx("span",{className:"font-bold",children:ga.length})]}),g.length>0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",g.length,"   $",rr.toFixed(2)]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"sm",onClick:Ai,"data-testid":"button-select-all",children:" "}),s.jsxs(U,{className:"bg-emerald-600 hover:bg-emerald-700",size:"sm",disabled:g.length===0||_n.isPending,onClick:Ei,"data-testid":"button-mass-payout",children:[_n.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(dr,{className:"w-4 h-4 mr-2"})," "]})]})]})})}),G.map(Q=>s.jsx(J,{className:"bg-card border-border","data-testid":`card-request-${Q.id}`,children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[Q.status==="approved"&&s.jsx($l,{checked:g.includes(Q.id),onCheckedChange:()=>_s(Q.id),"data-testid":`checkbox-request-${Q.id}`}),s.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center font-bold",children:Q.publisherName?.slice(0,2).toUpperCase()||"??"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground","data-testid":`text-publisher-name-${Q.id}`,children:Q.publisherShortId?`${Q.publisherShortId}${Q.publisherFullName?` - ${Q.publisherFullName}`:""}`:"-"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Q.publisherEmail}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[": ",s.jsxs("span",{className:"text-foreground font-mono","data-testid":`text-request-amount-${Q.id}`,children:["$",Q.requestedAmount]})]})]})]}),s.jsxs(ye,{className:Q.status==="pending"?"bg-yellow-500/20 text-yellow-500":Q.status==="approved"?"bg-blue-500/20 text-blue-500":Q.status==="paid"?"bg-emerald-500/20 text-emerald-500":"bg-red-500/20 text-red-500","data-testid":`badge-status-${Q.id}`,children:[Q.status==="pending"&&"",Q.status==="approved"&&"",Q.status==="paid"&&"",Q.status==="rejected"&&""]})]}),s.jsxs("div",{className:"p-3 bg-muted rounded-lg border border-border",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"  :"}),s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsx(ye,{variant:"outline",className:"text-xs",children:Q.methodName||Q.methodType})}),s.jsx("p",{className:"font-mono text-sm text-foreground break-all","data-testid":`text-wallet-address-${Q.id}`,children:Q.walletAddress}),Q.walletAccountName&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[": ",Q.walletAccountName]}),Q.walletAdditionalInfo&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[". : ",Q.walletAdditionalInfo]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[Q.status==="pending"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700",onClick:()=>cn(Q),"data-testid":`button-approve-${Q.id}`,children:[s.jsx(bt,{className:"w-4 h-4 mr-1"}),""]}),s.jsxs(Wt,{children:[s.jsx(ks,{asChild:!0,children:s.jsx(U,{size:"sm",variant:"outline",className:"border-white/20","data-testid":`button-partial-${Q.id}`,children:""})}),s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:"  "}),s.jsx(le,{type:"number",value:l,onChange:xt=>c(xt.target.value),max:Q.requestedAmount,className:"bg-input border-border","data-testid":"input-partial-amount"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[": $",Q.requestedAmount]})]}),s.jsx(U,{onClick:()=>cn(Q,!0),className:"w-full bg-blue-600 hover:bg-blue-700","data-testid":"button-confirm-partial",children:" "})]})]})]}),s.jsxs(Wt,{children:[s.jsx(ks,{asChild:!0,children:s.jsx(U,{size:"sm",variant:"destructive","data-testid":`button-reject-${Q.id}`,children:s.jsx(Xn,{className:"w-4 h-4"})})}),s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:" "}),s.jsx(vi,{value:u,onChange:xt=>f(xt.target.value),className:"bg-input border-border",placeholder:" ...","data-testid":"input-reject-reason"})]}),s.jsx(U,{onClick:()=>_r(Q),variant:"destructive",className:"w-full","data-testid":"button-confirm-reject",children:""})]})]})]})]}),Q.status==="approved"&&s.jsxs(Wt,{children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700","data-testid":`button-pay-${Q.id}`,children:[s.jsx(dr,{className:"w-4 h-4 mr-1"}),""]})}),s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsxs("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-pay-amount",children:["$",Q.approvedAmount||Q.requestedAmount]})]}),s.jsxs("div",{children:[s.jsx(te,{children:"ID  ()"}),s.jsx(le,{value:m,onChange:xt=>p(xt.target.value),className:"bg-input border-border",placeholder:"TX hash   ","data-testid":"input-transaction-id"})]}),s.jsx(U,{onClick:()=>Vt(Q),className:"w-full bg-emerald-600 hover:bg-emerald-700","data-testid":"button-confirm-pay",children:" "})]})]})]})]})]})})},Q.id))]})}),s.jsx(ct,{value:"balances",className:"space-y-4",children:de?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):ae.length===0?s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(pn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"  "})]})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border text-muted-foreground",children:[s.jsx("th",{className:"text-left py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:" "}),s.jsx("th",{className:"text-right py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:""})]})}),s.jsx("tbody",{children:ae.map(Q=>s.jsxs("tr",{className:"border-b border-white/5 hover:bg-muted",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:Q.publisherName}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Q.publisherEmail})]})}),s.jsxs("td",{className:"text-right py-3 px-4 font-mono text-emerald-500",children:["$",Q.available.toFixed(2)]}),s.jsxs("td",{className:"text-right py-3 px-4 font-mono text-yellow-500",children:["$",Q.pending.toFixed(2)]}),s.jsxs("td",{className:"text-right py-3 px-4 font-mono text-muted-foreground",children:["$",Q.hold.toFixed(2)]}),s.jsxs("td",{className:"text-right py-3 px-4 font-mono text-foreground",children:["$",Q.totalPaid.toFixed(2)]}),s.jsx("td",{className:"text-right py-3 px-4",children:s.jsxs(U,{size:"sm",className:"bg-emerald-500 hover:bg-emerald-600 text-foreground font-semibold",onClick:()=>{C(Q.publisherId),A(!0)},"data-testid":`button-bonus-${Q.publisherId}`,children:[s.jsx(Sn,{className:"w-4 h-4 mr-1"}),""]})})]},Q.publisherId))})]})})}),s.jsxs(ct,{value:"methods",className:"space-y-4",children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs(Wt,{open:r,onOpenChange:a,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{className:"bg-emerald-600 hover:bg-emerald-700","data-testid":"button-add-method",children:[s.jsx(fr,{className:"w-4 h-4 mr-2"}),"  "]})}),s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsx(Ut,{children:"  "})}),s.jsxs("form",{onSubmit:Jn,className:"space-y-4","data-testid":"form-create-method",children:[s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsxs(ht,{name:"methodType",required:!0,children:[s.jsx(dt,{className:"bg-input border-border","data-testid":"select-method-type",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:vK.map(Q=>s.jsx(ke,{value:Q.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q.icon,{className:`w-4 h-4 ${Q.color}`}),Q.label]})},Q.value))})]})]}),s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(le,{name:"methodName",required:!0,className:"bg-input border-border",placeholder:": USDT TRC20"})]}),s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsxs(ht,{name:"currency",required:!0,children:[s.jsx(dt,{className:"bg-input border-border",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:eWe.map(Q=>s.jsx(ke,{value:Q,children:Q},Q))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:". "}),s.jsx(le,{name:"minPayout",type:"number",step:"0.01",className:"bg-input border-border",placeholder:"50"})]}),s.jsxs("div",{children:[s.jsx(te,{children:". "}),s.jsx(le,{name:"maxPayout",type:"number",step:"0.01",className:"bg-input border-border",placeholder:"10000"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:" %"}),s.jsx(le,{name:"feePercent",type:"number",step:"0.01",className:"bg-input border-border",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx(te,{children:". "}),s.jsx(le,{name:"feeFixed",type:"number",step:"0.01",className:"bg-input border-border",placeholder:"0"})]})]}),s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(vi,{name:"instructions",className:"bg-input border-border",placeholder:"  ..."})]}),s.jsx(U,{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700",disabled:Et.isPending,children:Et.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin"}):""})]})]})]})}),Y?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):H.length===0?s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(On,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"    "})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:H.map(Q=>{const xt=vK.find(jr=>jr.value===Q.methodType),dn=xt?.icon||Qr;return s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/10 flex items-center justify-center",children:s.jsx(dn,{className:`w-5 h-5 ${xt?.color||"text-muted-foreground"}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:Q.methodName}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Q.currency})]})]}),s.jsx(U,{size:"icon",variant:"ghost",className:"h-8 w-8 text-muted-foreground hover:text-red-500",onClick:()=>St.mutate(Q.id),"data-testid":`button-delete-method-${Q.id}`,children:s.jsx(Os,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:". "}),s.jsx("span",{className:"text-foreground",children:Xe(Q.minPayout,Q.currency)})]}),Q.maxPayout&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:". "}),s.jsx("span",{className:"text-foreground",children:Xe(Q.maxPayout,Q.currency)})]}),(parseFloat(Q.feePercent)>0||parseFloat(Q.feeFixed)>0)&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{className:"text-foreground",children:[Q.feePercent,"% + ",Xe(Q.feeFixed,Q.currency)]})]})]})]})},Q.id)})})]}),s.jsx(ct,{value:"history",className:"space-y-4",children:Fe?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):he.length===0?s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(Sn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"  "})]})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border text-muted-foreground",children:[s.jsx("th",{className:"text-left py-3 px-4",children:""}),s.jsx("th",{className:"text-left py-3 px-4",children:""}),s.jsx("th",{className:"text-left py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:""}),s.jsx("th",{className:"text-left py-3 px-4",children:""})]})}),s.jsx("tbody",{children:he.map(Q=>s.jsxs("tr",{className:"border-b border-white/5 hover:bg-muted",children:[s.jsx("td",{className:"py-3 px-4 text-muted-foreground font-mono text-xs",children:new Date(Q.createdAt).toLocaleDateString()}),s.jsx("td",{className:"py-3 px-4 text-foreground",children:Q.publisherShortId?`${Q.publisherShortId}${Q.publisherFullName?` - ${Q.publisherFullName}`:""}`:"-"}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(ye,{className:Q.payoutType==="bonus"?"bg-purple-500/20 text-purple-500":Q.payoutType==="auto"?"bg-blue-500/20 text-blue-500":"bg-muted text-muted-foreground",children:Q.payoutType})}),s.jsxs("td",{className:"text-right py-3 px-4 font-mono text-foreground",children:["$",Q.amount]}),s.jsxs("td",{className:"text-right py-3 px-4 font-mono text-red-400",children:["-$",Q.feeAmount]}),s.jsxs("td",{className:"text-right py-3 px-4 font-mono text-emerald-500 font-bold",children:["$",Q.netAmount]}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(ye,{className:"bg-emerald-500/20 text-emerald-500",children:Q.status})})]},Q.id))})]})})}),s.jsx(ct,{value:"api-keys",className:"space-y-4",children:s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Fn,{className:"h-5 w-5 text-orange-500"}),"API  "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" API       .      (AES-256-GCM)."})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs(O5,{children:[s.jsxs(P5,{className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[s.jsx(Sl,{className:"w-4 h-4"}),s.jsx("span",{children:"  API ?"}),s.jsx(fa,{className:"w-4 h-4"})]}),s.jsx(M5,{className:"mt-3",children:s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm",children:[s.jsx("p",{className:"font-medium text-foreground",children:"   API :"}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-medium text-yellow-500 min-w-[80px]",children:"Binance:"}),s.jsx("span",{className:"text-muted-foreground",children:"  API Management  Create API"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-medium text-purple-500 min-w-[80px]",children:"Bybit:"}),s.jsx("span",{className:"text-muted-foreground",children:"Account  API  Create New Key"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-medium text-blue-500 min-w-[80px]",children:"Kraken:"}),s.jsx("span",{className:"text-muted-foreground",children:"Settings  API  Generate New Key"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-medium text-blue-400 min-w-[80px]",children:"Coinbase:"}),s.jsx("span",{className:"text-muted-foreground",children:"Settings  API  New API Key"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-medium text-cyan-500 min-w-[80px]",children:"EXMO:"}),s.jsx("span",{className:"text-muted-foreground",children:"  API   "})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-medium text-teal-500 min-w-[80px]",children:"MEXC:"}),s.jsx("span",{className:"text-muted-foreground",children:"  API  Create API"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-medium text-slate-400 min-w-[80px]",children:"OKX:"}),s.jsx("span",{className:"text-muted-foreground",children:"Settings  API  Create V5 API Key ( passphrase!)"})]})]}),s.jsxs("div",{className:"mt-3 p-3 bg-orange-500/10 border border-orange-500/20 rounded-lg",children:[s.jsxs("p",{className:"text-orange-400 font-medium flex items-center gap-2",children:[s.jsx(Ui,{className:"w-4 h-4"}),"   :"]}),s.jsxs("ul",{className:"mt-2 space-y-1 text-muted-foreground list-disc list-inside",children:[s.jsxs("li",{children:["   ",s.jsx("strong",{children:"Withdraw"})," ( )"]}),s.jsx("li",{children:" IP-   whitelist ()"}),s.jsxs("li",{children:[" OKX   ",s.jsx("strong",{children:"passphrase"})]})]})]})]})})]}),[{key:"binance",name:"Binance",color:"yellow",statusKey:"hasBinance"},{key:"bybit",name:"Bybit",color:"purple",statusKey:"hasBybit"},{key:"kraken",name:"Kraken",color:"blue",statusKey:"hasKraken"},{key:"coinbase",name:"Coinbase",color:"blue",statusKey:"hasCoinbase"},{key:"exmo",name:"EXMO",color:"cyan",statusKey:"hasExmo"},{key:"mexc",name:"MEXC",color:"teal",statusKey:"hasMexc"},{key:"okx",name:"OKX",color:"slate",statusKey:"hasOkx",requiresPassphrase:!0}].map(Q=>{const xt=ge[Q.statusKey],dn=z[Q.key],jr=I[Q.key]||{apiKey:"",secretKey:"",passphrase:""},vs=`${Q.color}-500`;return s.jsxs("div",{className:`border border-${vs}/30 rounded-lg p-4 space-y-4`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg bg-${vs}/20 flex items-center justify-center`,children:s.jsx(er,{className:`w-5 h-5 text-${vs}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:Q.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:xt?s.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[s.jsx(bt,{className:"w-3 h-3"}),"  "]}):s.jsx("span",{className:"text-muted-foreground",children:"  "})})]})]}),s.jsxs("div",{className:"flex gap-2",children:[xt&&s.jsx(U,{variant:"destructive",size:"sm",onClick:()=>nt.mutate(Q.key),disabled:nt.isPending,"data-testid":`button-delete-${Q.key}-keys`,children:s.jsx(Os,{className:"w-4 h-4"})}),s.jsx(U,{variant:"outline",size:"sm",onClick:()=>V(Un=>({...Un,[Q.key]:!Un[Q.key]})),"data-testid":`button-toggle-${Q.key}-form`,children:dn?"":xt?"":""})]})]}),dn&&s.jsxs("div",{className:"space-y-3 pt-3 border-t border-border",children:[s.jsxs("div",{children:[s.jsx(te,{className:"text-muted-foreground",children:"API Key"}),s.jsx(le,{type:"text",value:jr.apiKey,onChange:Un=>F(Zs=>({...Zs,[Q.key]:{...jr,apiKey:Un.target.value}})),placeholder:" API Key",className:"bg-input border-border font-mono text-sm","data-testid":`input-${Q.key}-api-key`})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-muted-foreground",children:"Secret Key"}),s.jsx(le,{type:"password",value:jr.secretKey,onChange:Un=>F(Zs=>({...Zs,[Q.key]:{...jr,secretKey:Un.target.value}})),placeholder:" Secret Key",className:"bg-input border-border font-mono text-sm","data-testid":`input-${Q.key}-secret-key`})]}),Q.requiresPassphrase&&s.jsxs("div",{children:[s.jsx(te,{className:"text-muted-foreground",children:"Passphrase (  OKX)"}),s.jsx(le,{type:"password",value:jr.passphrase||"",onChange:Un=>F(Zs=>({...Zs,[Q.key]:{...jr,passphrase:Un.target.value}})),placeholder:" Passphrase",className:"bg-input border-border font-mono text-sm","data-testid":`input-${Q.key}-passphrase`})]}),s.jsxs(U,{className:"w-full",disabled:!jr.apiKey||!jr.secretKey||Q.requiresPassphrase&&!jr.passphrase||We.isPending,onClick:()=>We.mutate({exchange:Q.key,apiKey:jr.apiKey,secretKey:jr.secretKey,passphrase:jr.passphrase}),"data-testid":`button-save-${Q.key}-keys`,children:[We.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(Da,{className:"w-4 h-4 mr-2"})," ",Q.name," "]})]})]},Q.key)}),s.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-amber-500",children:[s.jsx(Kn,{className:"w-4 h-4 inline mr-2"}),",  API        (Withdraw)    .        ."]})})]})]})}),s.jsx(ct,{value:"instructions",className:"space-y-6",children:s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2 text-xl",children:[s.jsx(zx,{className:"h-6 w-6 text-blue-500"}),"    "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"    ,     "})]}),s.jsx(ne,{children:s.jsx(q3,{className:"h-[600px] pr-4",children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-emerald-500 flex items-center gap-2",children:[s.jsx(On,{className:"w-5 h-5"}),"1.   ()"]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-foreground",children:" :"}),"     ,      ."]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-foreground font-medium",children:"   :"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[s.jsxs("li",{children:["   ",s.jsx(ye,{className:"bg-yellow-500/20 text-yellow-500",children:""})]}),s.jsxs("li",{children:["  ",s.jsx(ye,{className:"bg-emerald-500/20 text-emerald-500",children:"+  "})]}),s.jsx("li",{children:"  (USDT TRC20, Bitcoin, Binance Pay, Bank Card)"}),s.jsx("li",{children:" , , / "}),s.jsx("li",{children:"  (% / .)"}),s.jsx("li",{children:"   "})]})]}),s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-blue-400",children:[s.jsx(Sl,{className:"w-4 h-4 inline mr-1"}),"     ,   .         ."]})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-yellow-500 flex items-center gap-2",children:[s.jsx(dr,{className:"w-5 h-5"}),"2.    ()"]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"  :"})}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:" "}),"      "]}),s.jsxs("li",{children:[s.jsx("strong",{children:""}),'       "  "']}),s.jsxs("li",{children:[s.jsx("strong",{children:"/"}),"    :",s.jsxs("ul",{className:"list-disc list-inside ml-4 mt-1",children:[s.jsxs("li",{children:[s.jsx("span",{className:"text-emerald-400",children:""}),"    ( )"]}),s.jsxs("li",{children:[s.jsx("span",{className:"text-red-400",children:""}),"    "]})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:""}),'        ""']})]}),s.jsx("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-emerald-400",children:[s.jsx(bt,{className:"w-4 h-4 inline mr-1"}),"             ."]})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-purple-500 flex items-center gap-2",children:[s.jsx(pF,{className:"w-5 h-5"}),"3.   ()"]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"    :"})}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[s.jsx("li",{children:"     "}),s.jsxs("li",{children:["  ",s.jsx(ye,{className:"bg-purple-500/20 text-purple-500",children:" "})]}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"  "})]}),s.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-amber-400",children:[s.jsx(Kn,{className:"w-4 h-4 inline mr-1"}),"         .       ."]})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-cyan-500 flex items-center gap-2",children:[s.jsx(Sn,{className:"w-5 h-5"}),"4.   ()"]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"   :"})}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[s.jsxs("li",{children:["   ",s.jsx(ye,{className:"bg-emerald-500/20 text-emerald-500",children:" "})]}),s.jsx("li",{children:"  "}),s.jsxs("li",{children:["  ",s.jsx(ye,{className:"bg-yellow-500/20 text-yellow-500",children:"$ "})]}),s.jsx("li",{children:"  "}),s.jsx("li",{children:'    (: "   ")'}),s.jsx("li",{children:" "})]}),s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-blue-400",children:[s.jsx(Sl,{className:"w-4 h-4 inline mr-1"}),'         "bonus".      .']})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-orange-500 flex items-center gap-2",children:[s.jsx(Da,{className:"w-5 h-5"}),"5. API   ()"]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"  :"})}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[s.jsxs("li",{children:["   ",s.jsx(ye,{className:"bg-orange-500/20 text-orange-500",children:"API  "})]}),s.jsx("li",{children:"  (Binance, Bybit, Kraken, Coinbase, EXMO, MEXC, OKX)"}),s.jsxs("li",{children:[" API      ",s.jsx("strong",{children:"  "})]}),s.jsx("li",{children:" API Key  Secret Key ( OKX  Passphrase)"}),s.jsx("li",{children:' ""'})]}),s.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-red-400",children:[s.jsx(Kn,{className:"w-4 h-4 inline mr-1"})," ",s.jsx("strong",{children:":"}),"  API       (Withdraw).      !"]})}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("p",{className:"text-foreground font-medium",children:"  API   :"}),s.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Binance:"}),"   API Management   API    Withdraw"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Bybit:"}),"   API      Withdraw Only"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"OKX:"}),"   API    + Passphrase   Withdraw"]})]})]})]})]}),s.jsx("div",{className:"border-t border-border pt-6 mt-6",children:s.jsxs("h2",{className:"text-xl font-bold text-blue-400 mb-4 flex items-center gap-2",children:[s.jsx(pn,{className:"w-6 h-6"}),"   (Publisher)"]})}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-emerald-500 flex items-center gap-2",children:[s.jsx(Qr,{className:"w-5 h-5"}),"6.   ()"]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"    :"})}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[s.jsxs("li",{children:["   ",s.jsx(ye,{className:"bg-emerald-500/20 text-emerald-500",children:""})]}),s.jsxs("li",{children:[" ",s.jsx(ye,{className:"bg-emerald-500/20 text-emerald-500",children:"+  "})]}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"   ( !)"}),s.jsx("li",{children:"    . "}),s.jsx("li",{children:" "})]}),s.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-amber-400",children:[s.jsx(Kn,{className:"w-4 h-4 inline mr-1"}),"    !        ."]})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-yellow-500 flex items-center gap-2",children:[s.jsx(dr,{className:"w-5 h-5"}),"7.    ()"]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"  :"})}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[s.jsx("li",{children:",      "}),s.jsx("li",{children:",     "}),s.jsxs("li",{children:["  ",s.jsx(ye,{className:"bg-yellow-500/20 text-yellow-500",children:" "})]}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"  (  )"}),s.jsx("li",{children:"  ()"}),s.jsx("li",{children:" "})]}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("p",{className:"text-foreground font-medium",children:" :"}),s.jsxs("ul",{className:"space-y-1 ml-2",children:[s.jsxs("li",{children:[s.jsx(ye,{className:"bg-yellow-500/20 text-yellow-500",children:"pending"}),"   "]}),s.jsxs("li",{children:[s.jsx(ye,{className:"bg-emerald-500/20 text-emerald-500",children:"approved"}),"  "]}),s.jsxs("li",{children:[s.jsx(ye,{className:"bg-blue-500/20 text-blue-500",children:"paid"}),"  "]}),s.jsxs("li",{children:[s.jsx(ye,{className:"bg-red-500/20 text-red-500",children:"rejected"}),"  "]})]})]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-muted-foreground flex items-center gap-2",children:[s.jsx(Yt,{className:"w-5 h-5"}),"8. Hold  ()"]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"  Hold:"})}),s.jsx("p",{children:"Hold    ,          ."}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("p",{className:"text-foreground font-medium",children:"  :"}),s.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[s.jsx("li",{children:"  Hold    (0-30 )"}),s.jsx("li",{children:'      "Hold"'}),s.jsx("li",{children:'  Hold     ""'}),s.jsx("li",{children:"    "})]})]}),s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-blue-400",children:[s.jsx(Sl,{className:"w-4 h-4 inline mr-1"})," Hold    .    ,      Hold ."]})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-red-500 flex items-center gap-2",children:[s.jsx(Kn,{className:"w-5 h-5"}),"9.  "]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4 text-sm text-muted-foreground",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"     ?"}),s.jsx("p",{className:"mt-1",children:": 1)     2)    3)     "})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"  ?"}),s.jsx("p",{className:"mt-1",children:"      1-3  .     ."})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:" ,   ?"}),s.jsx("p",{className:"mt-1",children:"     . ,       Hold."})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"    ?"}),s.jsx("p",{className:"mt-1",children:",         .         ."})]})]})]})]})})})]})})]}),s.jsx(Wt,{open:N,onOpenChange:A,children:s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsxs(Ut,{className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"w-5 h-5 text-yellow-500"})," "]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(le,{value:ae.find(Q=>Q.publisherId===T)?.publisherName||"",disabled:!0,className:"bg-input border-border"})]}),s.jsxs("div",{children:[s.jsx(te,{children:" "}),s.jsxs(ht,{value:S,onValueChange:E,children:[s.jsx(dt,{className:"bg-input border-border","data-testid":"select-bonus-method",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:H.map(Q=>s.jsxs(ke,{value:Q.id,children:[Q.methodName," (",Q.currency,")"]},Q.id))})]})]}),s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(le,{type:"number",step:"0.01",value:O,onChange:Q=>_(Q.target.value),placeholder:"100.00",className:"bg-input border-border","data-testid":"input-bonus-amount"})]}),s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(vi,{value:M,onChange:Q=>$(Q.target.value),placeholder:"  ...",className:"bg-input border-border","data-testid":"input-bonus-note"})]}),s.jsxs(U,{className:"w-full bg-yellow-600 hover:bg-yellow-700",disabled:!S||!O||zn.isPending,onClick:Rn,"data-testid":"button-send-bonus",children:[zn.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(dr,{className:"w-4 h-4 mr-2"})," "]})]})]})})]})}function nWe(){const{data:e,isLoading:t}=Ne({queryKey:["/api/admin/platform-stats"]}),{data:n=[],isLoading:r}=Ne({queryKey:["/api/admin/all-payout-requests"]});if(t)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-emerald-500"})});const a=e||{totalRevenue:0,totalPayouts:0,platformMargin:0,pendingPayouts:0,activeAdvertisers:0,activePublishers:0,avgROI:0},i=n.filter(c=>c.status==="pending"),o=n.filter(c=>c.status==="approved"),l=n.filter(c=>c.status==="paid");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-mono text-foreground mb-2","data-testid":"text-admin-finance-title",children:" "}),s.jsx("p",{className:"text-muted-foreground text-sm font-mono",children:"    "})]}),s.jsx(qu,{dataset:"finance-transactions",additionalDatasets:[{id:"finance-payouts",label:""}]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(J,{className:"bg-gradient-to-br from-emerald-500/20 to-emerald-600/10 border-emerald-500/20",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-emerald-400 text-xs font-mono uppercase",children:" "}),s.jsxs("p",{className:"text-2xl font-bold text-foreground mt-1",children:["$",a.totalRevenue.toLocaleString()]})]}),s.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-500/20 flex items-center justify-center",children:s.jsx(qr,{className:"w-6 h-6 text-emerald-400"})})]})})}),s.jsx(J,{className:"bg-gradient-to-br from-blue-500/20 to-blue-600/10 border-blue-500/20",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-400 text-xs font-mono uppercase",children:" "}),s.jsxs("p",{className:"text-2xl font-bold text-foreground mt-1",children:["$",a.totalPayouts.toLocaleString()]})]}),s.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center",children:s.jsx(mfe,{className:"w-6 h-6 text-blue-400"})})]})})}),s.jsx(J,{className:"bg-gradient-to-br from-yellow-500/20 to-yellow-600/10 border-yellow-500/20",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-400 text-xs font-mono uppercase",children:" "}),s.jsxs("p",{className:"text-2xl font-bold text-foreground mt-1",children:["$",a.platformMargin.toLocaleString()]})]}),s.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-500/20 flex items-center justify-center",children:s.jsx(Qr,{className:"w-6 h-6 text-yellow-400"})})]})})}),s.jsx(J,{className:"bg-gradient-to-br from-purple-500/20 to-purple-600/10 border-purple-500/20",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-400 text-xs font-mono uppercase",children:" "}),s.jsxs("p",{className:"text-2xl font-bold text-foreground mt-1",children:["$",a.pendingPayouts.toLocaleString()]})]}),s.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-500/20 flex items-center justify-center",children:s.jsx(Yt,{className:"w-6 h-6 text-purple-400"})})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pn,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground text-xs",children:" "}),s.jsx("p",{className:"text-xl font-bold text-foreground",children:a.activeAdvertisers})]})]})})}),s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pn,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground text-xs",children:" "}),s.jsx("p",{className:"text-xl font-bold text-foreground",children:a.activePublishers})]})]})})}),s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(IW,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground text-xs",children:" ROI"}),s.jsxs("p",{className:"text-xl font-bold text-foreground",children:[a.avgROI.toFixed(1),"%"]})]})]})})})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"text-foreground flex items-center gap-2",children:[s.jsx(On,{className:"w-5 h-5"}),"   ( )"]})}),s.jsxs(ne,{children:[s.jsxs("div",{className:"flex gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yt,{className:"w-4 h-4 text-yellow-400"}),s.jsxs("span",{className:"text-muted-foreground text-sm",children:[": ",i.length]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gn,{className:"w-4 h-4 text-emerald-400"}),s.jsxs("span",{className:"text-muted-foreground text-sm",children:[": ",o.length]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"w-4 h-4 text-blue-400"}),s.jsxs("span",{className:"text-muted-foreground text-sm",children:[": ",l.length]})]})]}),r?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-emerald-500"})}):n.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Qr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"   "})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-2 px-3 text-muted-foreground font-medium",children:""}),s.jsx("th",{className:"text-left py-2 px-3 text-muted-foreground font-medium",children:""}),s.jsx("th",{className:"text-left py-2 px-3 text-muted-foreground font-medium",children:""}),s.jsx("th",{className:"text-left py-2 px-3 text-muted-foreground font-medium",children:""}),s.jsx("th",{className:"text-left py-2 px-3 text-muted-foreground font-medium",children:""})]})}),s.jsx("tbody",{children:n.slice(0,20).map(c=>s.jsxs("tr",{className:"border-b border-white/5 hover:bg-muted",children:[s.jsx("td",{className:"py-2 px-3 text-muted-foreground font-mono text-xs",children:new Date(c.createdAt).toLocaleDateString("ru-RU")}),s.jsx("td",{className:"py-2 px-3 text-foreground",children:c.publisherName||"N/A"}),s.jsx("td",{className:"py-2 px-3 text-muted-foreground",children:c.advertiserName||"N/A"}),s.jsx("td",{className:"py-2 px-3 text-emerald-400 font-mono",children:Xe(c.requestedAmount)}),s.jsx("td",{className:"py-2 px-3",children:s.jsx(ye,{variant:c.status==="paid"?"default":c.status==="approved"?"secondary":c.status==="rejected"?"destructive":"outline",className:c.status==="paid"?"bg-emerald-500/20 text-emerald-400":c.status==="approved"?"bg-blue-500/20 text-blue-400":c.status==="rejected"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400",children:c.status==="paid"?"":c.status==="approved"?"":c.status==="rejected"?"":""})})]},c.id))})]})})]})]})]})}function wn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ql(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function rWe(e,t){const n=wn(e);return isNaN(t)?ql(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const yoe=6048e5,sWe=864e5,qb=43200,bK=1440;let aWe={};function Ey(){return aWe}function Au(e,t){const n=Ey(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=wn(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Iw(e){return Au(e,{weekStartsOn:1})}function voe(e){const t=wn(e),n=t.getFullYear(),r=ql(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=Iw(r),i=ql(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Iw(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function jK(e){const t=wn(e);return t.setHours(0,0,0,0),t}function Lw(e){const t=wn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function iWe(e,t){const n=jK(e),r=jK(t),a=+n-Lw(n),i=+r-Lw(r);return Math.round((a-i)/sWe)}function oWe(e){const t=voe(e),n=ql(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Iw(n)}function h0(e,t){const n=wn(e),r=wn(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function lWe(e){return ql(e,Date.now())}function cWe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function dWe(e){if(!cWe(e)&&typeof e!="number")return!1;const t=wn(e);return!isNaN(Number(t))}function uWe(e,t){const n=wn(e),r=wn(t),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return a*12+i}function fWe(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function hWe(e,t){return+wn(e)-+wn(t)}function mWe(e){const t=wn(e);return t.setHours(23,59,59,999),t}function pWe(e){const t=wn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function xWe(e){const t=wn(e);return+mWe(t)==+pWe(t)}function gWe(e,t){const n=wn(e),r=wn(t),a=h0(n,r),i=Math.abs(uWe(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*i);let l=h0(n,r)===-a;xWe(wn(e))&&i===1&&h0(e,r)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function yWe(e,t,n){const r=hWe(e,t)/1e3;return fWe(n?.roundingMethod)(r)}function vWe(e){const t=wn(e),n=ql(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const bWe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jWe=(e,t,n)=>{let r;const a=bWe[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function uh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const wWe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},NWe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},SWe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CWe={date:uh({formats:wWe,defaultWidth:"full"}),time:uh({formats:NWe,defaultWidth:"full"}),dateTime:uh({formats:SWe,defaultWidth:"full"})},kWe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TWe=(e,t,n,r)=>kWe[e];function wo(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n?.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n?.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const AWe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},EWe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},OWe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},PWe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},MWe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_We={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},RWe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},DWe={ordinalNumber:RWe,era:wo({values:AWe,defaultWidth:"wide"}),quarter:wo({values:EWe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wo({values:OWe,defaultWidth:"wide"}),day:wo({values:PWe,defaultWidth:"wide"}),dayPeriod:wo({values:MWe,defaultWidth:"wide",formattingValues:_We,defaultFormattingWidth:"wide"})};function No(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?LWe(l,m=>m.test(o)):IWe(l,m=>m.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}function IWe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function LWe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function boe(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const $We=/^(\d+)(th|st|nd|rd)?/i,FWe=/\d+/i,BWe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zWe={any:[/^b/i,/^(a|c)/i]},qWe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},UWe={any:[/1/i,/2/i,/3/i,/4/i]},VWe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},HWe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},KWe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},WWe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},GWe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},YWe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},XWe={ordinalNumber:boe({matchPattern:$We,parsePattern:FWe,valueCallback:e=>parseInt(e,10)}),era:No({matchPatterns:BWe,defaultMatchWidth:"wide",parsePatterns:zWe,defaultParseWidth:"any"}),quarter:No({matchPatterns:qWe,defaultMatchWidth:"wide",parsePatterns:UWe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:No({matchPatterns:VWe,defaultMatchWidth:"wide",parsePatterns:HWe,defaultParseWidth:"any"}),day:No({matchPatterns:KWe,defaultMatchWidth:"wide",parsePatterns:WWe,defaultParseWidth:"any"}),dayPeriod:No({matchPatterns:GWe,defaultMatchWidth:"any",parsePatterns:YWe,defaultParseWidth:"any"})},joe={code:"en-US",formatDistance:jWe,formatLong:CWe,formatRelative:TWe,localize:DWe,match:XWe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function QWe(e){const t=wn(e);return iWe(t,vWe(t))+1}function JWe(e){const t=wn(e),n=+Iw(t)-+oWe(t);return Math.round(n/yoe)+1}function woe(e,t){const n=wn(e),r=n.getFullYear(),a=Ey(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=ql(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=Au(o,t),c=ql(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Au(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function ZWe(e,t){const n=Ey(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=woe(e,t),i=ql(e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),Au(i,t)}function eGe(e,t){const n=wn(e),r=+Au(n,t)-+ZWe(n,t);return Math.round(r/yoe)+1}function mn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Nc={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return mn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):mn(n+1,2)},d(e,t){return mn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return mn(e.getHours()%12||12,t.length)},H(e,t){return mn(e.getHours(),t.length)},m(e,t){return mn(e.getMinutes(),t.length)},s(e,t){return mn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return mn(a,t.length)}},Lf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wK={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Nc.y(e,t)},Y:function(e,t,n,r){const a=woe(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return mn(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):mn(i,t.length)},R:function(e,t){const n=voe(e);return mn(n,t.length)},u:function(e,t){const n=e.getFullYear();return mn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return mn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return mn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Nc.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return mn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=eGe(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):mn(a,t.length)},I:function(e,t,n){const r=JWe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):mn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Nc.d(e,t)},D:function(e,t,n){const r=QWe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):mn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return mn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return mn(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return mn(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Lf.noon:r===0?a=Lf.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Lf.evening:r>=12?a=Lf.afternoon:r>=4?a=Lf.morning:a=Lf.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Nc.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Nc.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):mn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):mn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Nc.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Nc.s(e,t)},S:function(e,t){return Nc.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return SK(r);case"XXXX":case"XX":return $d(r);case"XXXXX":case"XXX":default:return $d(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return SK(r);case"xxxx":case"xx":return $d(r);case"xxxxx":case"xxx":default:return $d(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+NK(r,":");case"OOOO":default:return"GMT"+$d(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+NK(r,":");case"zzzz":default:return"GMT"+$d(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return mn(r,t.length)},T:function(e,t,n){const r=e.getTime();return mn(r,t.length)}};function NK(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+mn(i,2)}function SK(e,t){return e%60===0?(e>0?"-":"+")+mn(Math.abs(e)/60,2):$d(e,t)}function $d(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=mn(Math.trunc(r/60),2),i=mn(r%60,2);return n+a+t+i}const CK=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Noe=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},tGe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return CK(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",CK(r,t)).replace("{{time}}",Noe(a,t))},nGe={p:Noe,P:tGe},rGe=/^D+$/,sGe=/^Y+$/,aGe=["D","DD","YY","YYYY"];function iGe(e){return rGe.test(e)}function oGe(e){return sGe.test(e)}function lGe(e,t,n){const r=cGe(e,t,n);if(console.warn(r),aGe.includes(e))throw new RangeError(r)}function cGe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dGe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uGe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fGe=/^'([^]*?)'?$/,hGe=/''/g,mGe=/[a-zA-Z]/;function Eu(e,t,n){const r=Ey(),a=n?.locale??r.locale??joe,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=wn(e);if(!dWe(l))throw new RangeError("Invalid time value");let c=t.match(uGe).map(f=>{const m=f[0];if(m==="p"||m==="P"){const p=nGe[m];return p(f,a.formatLong)}return f}).join("").match(dGe).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const m=f[0];if(m==="'")return{isToken:!1,value:pGe(f)};if(wK[m])return{isToken:!0,value:f};if(m.match(mGe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:f}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(f=>{if(!f.isToken)return f.value;const m=f.value;(!n?.useAdditionalWeekYearTokens&&oGe(m)||!n?.useAdditionalDayOfYearTokens&&iGe(m))&&lGe(m,t,String(e));const p=wK[m[0]];return p(l,m,a.localize,u)}).join("")}function pGe(e){const t=e.match(fGe);return t?t[1].replace(hGe,"'"):e}function xGe(e,t,n){const r=Ey(),a=n?.locale??r.locale??joe,i=2520,o=h0(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:o});let c,u;o>0?(c=wn(t),u=wn(e)):(c=wn(e),u=wn(t));const f=yWe(u,c),m=(Lw(u)-Lw(c))/1e3,p=Math.round((f-m)/60);let g;if(p<2)return n?.includeSeconds?f<5?a.formatDistance("lessThanXSeconds",5,l):f<10?a.formatDistance("lessThanXSeconds",10,l):f<20?a.formatDistance("lessThanXSeconds",20,l):f<40?a.formatDistance("halfAMinute",0,l):f<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):p===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",p,l);if(p<45)return a.formatDistance("xMinutes",p,l);if(p<90)return a.formatDistance("aboutXHours",1,l);if(p<bK){const v=Math.round(p/60);return a.formatDistance("aboutXHours",v,l)}else{if(p<i)return a.formatDistance("xDays",1,l);if(p<qb){const v=Math.round(p/bK);return a.formatDistance("xDays",v,l)}else if(p<qb*2)return g=Math.round(p/qb),a.formatDistance("aboutXMonths",g,l)}if(g=gWe(u,c),g<12){const v=Math.round(p/qb);return a.formatDistance("xMonths",v,l)}else{const v=g%12,y=Math.trunc(g/12);return v<3?a.formatDistance("aboutXYears",y,l):v<9?a.formatDistance("overXYears",y,l):a.formatDistance("almostXYears",y+1,l)}}function Oy(e,t){return xGe(e,lWe(e),t)}function kK(e,t,n){const r=Au(e,n),a=Au(t,n);return+r==+a}function gGe(e,t){return rWe(e,-t)}function Gp(e,t){if(e.one!==void 0&&t===1)return e.one;const n=t%10,r=t%100;return n===1&&r!==11?e.singularNominative.replace("{{count}}",String(t)):n>=2&&n<=4&&(r<10||r>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function $s(e){return(t,n)=>n?.addSuffix?n.comparison&&n.comparison>0?e.future?Gp(e.future,t):" "+Gp(e.regular,t):e.past?Gp(e.past,t):Gp(e.regular,t)+" ":Gp(e.regular,t)}const yGe={lessThanXSeconds:$s({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xSeconds:$s({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),halfAMinute:(e,t)=>t?.addSuffix?t.comparison&&t.comparison>0?" ":" ":"",lessThanXMinutes:$s({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xMinutes:$s({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),aboutXHours:$s({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xHours:$s({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),xDays:$s({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXWeeks:$s({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xWeeks:$s({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXMonths:$s({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xMonths:$s({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXYears:$s({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xYears:$s({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),overXYears:$s({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),almostXYears:$s({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}})},vGe=(e,t,n)=>yGe[e](t,n),bGe={full:"EEEE, d MMMM y '.'",long:"d MMMM y '.'",medium:"d MMM y '.'",short:"dd.MM.y"},jGe={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},wGe={any:"{{date}}, {{time}}"},NGe={date:uh({formats:bGe,defaultWidth:"full"}),time:uh({formats:jGe,defaultWidth:"full"}),dateTime:uh({formats:wGe,defaultWidth:"any"})},U3=["","","","","","",""];function SGe(e){const t=U3[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}function TK(e){const t=U3[e];return e===2?"' "+t+" ' p":"' "+t+" ' p"}function CGe(e){const t=U3[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}const kGe={lastWeek:(e,t,n)=>{const r=e.getDay();return kK(e,t,n)?TK(r):SGe(r)},yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:(e,t,n)=>{const r=e.getDay();return kK(e,t,n)?TK(r):CGe(r)},other:"P"},TGe=(e,t,n,r)=>{const a=kGe[e];return typeof a=="function"?a(t,n,r):a},AGe={narrow:[" ..",".."],abbreviated:[" . .",". ."],wide:["  "," "]},EGe={narrow:["1","2","3","4"],abbreviated:["1- .","2- .","3- .","4- ."],wide:["1- ","2- ","3- ","4- "]},OGe={narrow:["","","","","","","","","","","",""],abbreviated:[".",".","",".","","","",".",".",".",".","."],wide:["","","","","","","","","","","",""]},PGe={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".","",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},MGe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},_Ge={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},RGe={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},DGe=(e,t)=>{const n=Number(e),r=t?.unit;let a;return r==="date"?a="-":r==="week"||r==="minute"||r==="second"?a="-":a="-",n+a},IGe={ordinalNumber:DGe,era:wo({values:AGe,defaultWidth:"wide"}),quarter:wo({values:EGe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wo({values:OGe,defaultWidth:"wide",formattingValues:PGe,defaultFormattingWidth:"wide"}),day:wo({values:MGe,defaultWidth:"wide"}),dayPeriod:wo({values:_Ge,defaultWidth:"any",formattingValues:RGe,defaultFormattingWidth:"wide"})},LGe=/^(\d+)(-?(||||||||||))?/i,$Ge=/\d+/i,FGe={narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},BGe={any:[/^/i,/^/i]},zGe={narrow:/^[1234]/i,abbreviated:/^[1234](-?[]??)? .?/i,wide:/^[1234](-?[]??)? /i},qGe={any:[/1/i,/2/i,/3/i,/4/i]},UGe={narrow:/^[]/i,abbreviated:/^(||?||[]|[]?|[]?||?||?|)\.?/i,wide:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[]|[])/i},VGe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},HGe={narrow:/^[]/i,short:/^(|||||||||||)\.?/i,abbreviated:/^(||||||||||||).?/i,wide:/^([]|?|?|[]|?|[]|[])/i},KGe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^[]/i,/^[]/i,/^/i,/^/i,/^/i,/^[]/i,/^[]/i]},WGe={narrow:/^([]|\.?|\.?|[]|||\.?|[])/i,abbreviated:/^([]|\.?|\.?|[]|||\.?|[])/i,wide:/^([]|||[]|||?|[])/i},GGe={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^[]/i,evening:/^/i,night:/^/i}},YGe={ordinalNumber:boe({matchPattern:LGe,parsePattern:$Ge,valueCallback:e=>parseInt(e,10)}),era:No({matchPatterns:FGe,defaultMatchWidth:"wide",parsePatterns:BGe,defaultParseWidth:"any"}),quarter:No({matchPatterns:zGe,defaultMatchWidth:"wide",parsePatterns:qGe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:No({matchPatterns:UGe,defaultMatchWidth:"wide",parsePatterns:VGe,defaultParseWidth:"any"}),day:No({matchPatterns:HGe,defaultMatchWidth:"wide",parsePatterns:KGe,defaultParseWidth:"any"}),dayPeriod:No({matchPatterns:WGe,defaultMatchWidth:"wide",parsePatterns:GGe,defaultParseWidth:"any"})},Si={code:"ru",formatDistance:vGe,formatLong:NGe,formatRelative:TGe,localize:IGe,match:YGe,options:{weekStartsOn:1,firstWeekContainsDate:1}},AK={draft:{label:"",color:"bg-gray-500"},issued:{label:"",color:"bg-blue-500"},paid:{label:"",color:"bg-green-500"},cancelled:{label:"",color:"bg-red-500"}};function XGe(){const{data:e=[],isLoading:t}=Ne({queryKey:["/api/publisher/invoices"],queryFn:async()=>{const r=await fetch("/api/publisher/invoices",{credentials:"include"});if(!r.ok)throw new Error("Failed to fetch invoices");return r.json()}}),n=async(r,a)=>{try{const i=await fetch(`/api/invoices/${r}/pdf`,{credentials:"include"});if(!i.ok)throw new Error("Failed to download invoice");const o=await i.blob(),l=window.URL.createObjectURL(o),c=document.createElement("a");c.href=l,c.download=`${a||r}.pdf`,document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(l),document.body.removeChild(c)}catch(i){console.error("Failed to download invoice:",i)}};return t?s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"py-12 flex justify-center",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[s.jsx(gi,{className:"w-5 h-5 text-blue-400"}),""]})}),s.jsx(ne,{children:e.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(gi,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),s.jsx("p",{children:"    "}),s.jsx("p",{className:"text-sm mt-1",children:"     "})]}):s.jsx("div",{className:"space-y-4",children:e.map(r=>{const a=AK[r.status]||AK.draft;return s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border border-border flex items-center justify-between","data-testid":`invoice-${r.id}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:s.jsx(gi,{className:"w-5 h-5 text-blue-400"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:r.shortId||`INV-${r.id.substring(0,8)}`}),s.jsx(ye,{className:`${a.color} text-white text-xs`,children:a.label})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground mt-1",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Uw,{className:"w-3 h-3"}),Eu(new Date(r.periodStart),"dd.MM.yy",{locale:Si})," - ",Eu(new Date(r.periodEnd),"dd.MM.yy",{locale:Si})]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Sn,{className:"w-3 h-3"}),parseFloat(r.totalAmount).toLocaleString()," ",r.currency]})]})]})]}),s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>n(r.id,r.shortId),className:"gap-2","data-testid":`download-invoice-${r.id}`,children:[s.jsx(Wi,{className:"w-4 h-4"}),"PDF"]})]},r.id)})})})]})}const EK={crypto_usdt_trc20:{icon:fi,color:"text-green-500"},crypto_usdt_erc20:{icon:fi,color:"text-blue-400"},crypto_usdt_bep20:{icon:fi,color:"text-yellow-400"},crypto_btc:{icon:fi,color:"text-orange-500"},crypto_eth:{icon:fi,color:"text-purple-400"},crypto_ltc:{icon:fi,color:"text-muted-foreground"},bank_card:{icon:On,color:"text-blue-500"},bank_transfer:{icon:On,color:"text-cyan-500"},binance:{icon:er,color:"text-yellow-500"},bybit:{icon:er,color:"text-purple-500"},kraken:{icon:er,color:"text-blue-500"},coinbase:{icon:er,color:"text-blue-400"},exmo:{icon:er,color:"text-cyan-500"},mexc:{icon:er,color:"text-teal-500"},okx:{icon:er,color:"text-muted-foreground"},paypal:{icon:On,color:"text-blue-600"},webmoney:{icon:On,color:"text-blue-500"},capitalist:{icon:On,color:"text-red-500"},qiwi:{icon:On,color:"text-orange-400"},skrill:{icon:On,color:"text-purple-600"}};function QGe(){const{t:e}=as(),{toast:t}=Dt(),n=rt(),{selectedAdvertiserId:r,selectedAdvertiser:a}=Vl(),[i,o]=j.useState(!1),[l,c]=j.useState(!1),[u,f]=j.useState(""),[m,p]=j.useState(""),[g,v]=j.useState(""),{data:y}=Ne({queryKey:["/api/publisher/balance",r],enabled:!!r}),{data:w=[]}=Ne({queryKey:["/api/publisher/wallets",r],enabled:!!r}),{data:N=[]}=Ne({queryKey:["/api/publisher/advertiser-payment-methods",r],enabled:!!r}),{data:A=[]}=Ne({queryKey:["/api/publisher/payout-requests",r],enabled:!!r}),{data:T=[]}=Ne({queryKey:["/api/publisher/payouts",r],enabled:!!r}),C=ve({mutationFn:I=>Be("POST","/api/publisher/wallets",I),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/publisher/wallets",r]}),o(!1),t({title:" "})},onError:I=>{t({title:"",description:I.message,variant:"destructive"})}}),S=ve({mutationFn:I=>Be("DELETE",`/api/publisher/wallets/${I}`),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/publisher/wallets",r]}),t({title:" "})},onError:I=>{t({title:"",description:I.message,variant:"destructive"})}}),E=ve({mutationFn:I=>Be("POST","/api/publisher/payout-requests",I),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/publisher/payout-requests",r]}),n.invalidateQueries({queryKey:["/api/publisher/balance",r]}),c(!1),f(""),p(""),v(""),t({title:"   "})},onError:I=>{t({title:"",description:I.message,variant:"destructive"})}}),O=I=>{I.preventDefault();const F=I.currentTarget,K=new FormData(F);C.mutate({advertiserId:r,paymentMethodId:K.get("paymentMethodId"),walletAddress:K.get("walletAddress"),accountName:K.get("accountName")||null,additionalInfo:K.get("additionalInfo")||null})},_=()=>{!g||!u||E.mutate({advertiserId:r,walletId:g,requestedAmount:u,publisherNote:m||null})},M=y?.available||0,$=y?.pending||0,z=y?.hold||0,V=y?.totalPaid||0;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:""}),s.jsxs("p",{className:"text-muted-foreground text-sm",children:["     ",a&&s.jsxs("span",{className:"ml-2 text-blue-400",children:[" ",a.username]})]})]}),s.jsx(qu,{dataset:"publisher-payouts"})]}),r?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(J,{className:"bg-card border-border","data-testid":"card-available-balance",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center",children:s.jsx(Sn,{className:"w-5 h-5 text-emerald-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"  "}),s.jsx("p",{className:"text-xl font-bold text-emerald-500","data-testid":"text-available-balance",children:Xe(M)})]})]})})}),s.jsx(J,{className:"bg-card border-border","data-testid":"card-pending-balance",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:s.jsx(Yt,{className:"w-5 h-5 text-yellow-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:" "}),s.jsx("p",{className:"text-xl font-bold text-yellow-500","data-testid":"text-pending-balance",children:Xe($)})]})]})})}),s.jsx(J,{className:"bg-card border-border","data-testid":"card-hold-balance",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center",children:s.jsx(Kn,{className:"w-5 h-5 text-red-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:" "}),s.jsx("p",{className:"text-xl font-bold text-red-400","data-testid":"text-hold-balance",children:Xe(z)})]})]})})}),s.jsx(J,{className:"bg-card border-border","data-testid":"card-total-paid",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:s.jsx(bt,{className:"w-5 h-5 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:" "}),s.jsx("p",{className:"text-xl font-bold text-foreground","data-testid":"text-total-paid",children:Xe(V)})]})]})})})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(Wt,{open:l,onOpenChange:c,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{className:"bg-emerald-600 hover:bg-emerald-700",disabled:M<=0||w.length===0,"data-testid":"button-request-payout",children:[s.jsx(dr,{className:"w-4 h-4 mr-2"})," "]})}),s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsx(Ut,{children:"  "})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-emerald-500/10 rounded-lg border border-emerald-500/20",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"  "}),s.jsx("p",{className:"text-2xl font-bold text-emerald-500",children:Xe(M)})]}),s.jsxs("div",{children:[s.jsx(te,{children:"  "}),s.jsxs(ht,{value:g,onValueChange:v,children:[s.jsx(dt,{className:"bg-input border-border",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:w.map(I=>{const F=N.find(K=>K.id===I.paymentMethodId);return s.jsx(ke,{value:I.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:F?.methodName||"Wallet"}),s.jsxs("span",{className:"text-muted-foreground text-xs",children:[I.walletAddress.slice(0,10),"..."]})]})},I.id)})})]})]}),s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(le,{type:"number",value:u,onChange:I=>f(I.target.value),max:M,step:"0.01",className:"bg-input border-border",placeholder:"100.00","data-testid":"input-request-amount"}),s.jsx(U,{variant:"link",className:"text-xs text-emerald-500 p-0 h-auto",onClick:()=>f(M.toString()),"data-testid":"button-withdraw-all",children:" "})]}),s.jsxs("div",{children:[s.jsx(te,{children:" ()"}),s.jsx(vi,{value:m,onChange:I=>p(I.target.value),className:"bg-input border-border",placeholder:" ..."})]}),s.jsx(U,{onClick:_,className:"w-full bg-emerald-600 hover:bg-emerald-700",disabled:!g||!u||parseFloat(u)<=0||parseFloat(u)>M||E.isPending,children:E.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin"}):" "})]})]})]}),w.length===0&&s.jsxs("p",{className:"text-sm text-yellow-500 flex items-center gap-2",children:[s.jsx(Kn,{className:"w-4 h-4"}),"     "]})]}),s.jsxs(uo,{defaultValue:"wallets",className:"space-y-4",children:[s.jsxs(ki,{className:"bg-card border border-border gap-2 p-1",children:[s.jsxs(lt,{value:"wallets","data-testid":"tab-wallets",className:"px-4 py-2 data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:[s.jsx(Qr,{className:"w-4 h-4 mr-2 text-blue-400"})," "]}),s.jsxs(lt,{value:"requests","data-testid":"tab-requests",className:"px-4 py-2 data-[state=active]:bg-yellow-500 data-[state=active]:text-black",children:[s.jsx(Yt,{className:"w-4 h-4 mr-2 text-yellow-400"}),"",A.filter(I=>I.status==="pending").length>0&&s.jsx(ye,{className:"ml-2 bg-yellow-600 text-black",children:A.filter(I=>I.status==="pending").length})]}),s.jsxs(lt,{value:"history","data-testid":"tab-history",className:"px-4 py-2 data-[state=active]:bg-purple-500 data-[state=active]:text-white",children:[s.jsx(Hb,{className:"w-4 h-4 mr-2 text-purple-400"}),""]}),s.jsxs(lt,{value:"invoices","data-testid":"tab-invoices",className:"px-4 py-2 data-[state=active]:bg-green-500 data-[state=active]:text-white",children:[s.jsx(gi,{className:"w-4 h-4 mr-2 text-green-400"}),""]}),s.jsxs(lt,{value:"instructions","data-testid":"tab-instructions",className:"px-4 py-2 data-[state=active]:bg-cyan-500 data-[state=active]:text-white",children:[s.jsx(zx,{className:"w-4 h-4 mr-2 text-cyan-400"}),""]})]}),s.jsxs(ct,{value:"wallets",className:"space-y-4",children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs(Wt,{open:i,onOpenChange:o,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{className:"bg-blue-600 hover:bg-blue-700",disabled:N.length===0,"data-testid":"button-add-wallet",children:[s.jsx(fr,{className:"w-4 h-4 mr-2"})," "]})}),s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("form",{onSubmit:O,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:" "}),s.jsxs(ht,{name:"paymentMethodId",required:!0,children:[s.jsx(dt,{className:"bg-input border-border",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:N.map(I=>{const F=EK[I.methodType]||{icon:Qr,color:"text-muted-foreground"},K=F.icon;return s.jsx(ke,{value:I.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(K,{className:`w-4 h-4 ${F.color}`}),I.methodName," (",I.currency,")"]})},I.id)})})]})]}),s.jsxs("div",{children:[s.jsx(te,{children:"  /  "}),s.jsx(le,{name:"walletAddress",required:!0,className:"bg-input border-border",placeholder:"TRC20 ,    .."})]}),s.jsxs("div",{children:[s.jsx(te,{children:"  ()"}),s.jsx(le,{name:"accountName",className:"bg-input border-border",placeholder:"   / UID"})]}),s.jsxs("div",{children:[s.jsx(te,{children:" "}),s.jsx(vi,{name:"additionalInfo",className:"bg-input border-border",placeholder:",   .."})]}),s.jsx(U,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:C.isPending,children:C.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin"}):""})]})]})]})}),N.length===0?s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(Kn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"    "})]})}):w.length===0?s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(Qr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"    "})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(I=>{const F=N.find(B=>B.id===I.paymentMethodId),K=EK[F?.methodType]||{icon:Qr,color:"text-muted-foreground"},R=K.icon;return s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/10 flex items-center justify-center",children:s.jsx(R,{className:`w-5 h-5 ${K.color}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:F?.methodName}),s.jsx("p",{className:"text-xs text-muted-foreground",children:F?.currency})]})]}),s.jsx(U,{size:"icon",variant:"ghost",className:"h-8 w-8 text-muted-foreground hover:text-red-500",onClick:()=>S.mutate(I.id),"data-testid":`button-delete-wallet-${I.id}`,children:s.jsx(Os,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground text-xs",children:""}),s.jsx("p",{className:"text-foreground font-mono text-xs break-all",children:I.walletAddress})]}),I.accountName&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground text-xs",children:""}),s.jsx("p",{className:"text-foreground",children:I.accountName})]}),F?.minPayout&&s.jsx("div",{className:"pt-2 border-t border-white/5",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:[". : ",s.jsx("span",{className:"text-foreground",children:Xe(F.minPayout,F.currency)})]})})]})]})},I.id)})})]}),s.jsx(ct,{value:"requests",className:"space-y-4",children:A.length===0?s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(Yt,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"   "})]})}):s.jsx("div",{className:"space-y-3",children:A.map(I=>{w.find(K=>K.id===I.walletId);const F=N.find(K=>K.id===I.paymentMethodId);return s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${I.status==="pending"?"bg-yellow-500/20":I.status==="approved"?"bg-blue-500/20":I.status==="paid"?"bg-emerald-500/20":"bg-red-500/20"}`,children:[I.status==="pending"&&s.jsx(Yt,{className:"w-5 h-5 text-yellow-500"}),I.status==="approved"&&s.jsx(bt,{className:"w-5 h-5 text-blue-500"}),I.status==="paid"&&s.jsx(bt,{className:"w-5 h-5 text-emerald-500"}),I.status==="rejected"&&s.jsx(Xn,{className:"w-5 h-5 text-red-500"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-foreground font-mono",children:[Xe(I.requestedAmount,I.currency),I.approvedAmount&&I.approvedAmount!==I.requestedAmount&&s.jsxs("span",{className:"text-muted-foreground text-sm ml-2",children:["(: ",Xe(I.approvedAmount,I.currency),")"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[F?.methodName," "," ",new Date(I.createdAt).toLocaleDateString()]})]})]}),s.jsxs(ye,{className:I.status==="pending"?"bg-yellow-500/20 text-yellow-500":I.status==="approved"?"bg-blue-500/20 text-blue-500":I.status==="paid"?"bg-emerald-500/20 text-emerald-500":"bg-red-500/20 text-red-500",children:[I.status==="pending"&&" ",I.status==="approved"&&"",I.status==="paid"&&"",I.status==="rejected"&&""]})]}),I.rejectionReason&&s.jsx("div",{className:"mt-3 p-3 bg-red-500/10 rounded border border-red-500/20",children:s.jsxs("p",{className:"text-sm text-red-400",children:[s.jsx("strong",{children:" :"})," ",I.rejectionReason]})})]})},I.id)})})}),s.jsx(ct,{value:"history",className:"space-y-4",children:T.length===0?s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(Hb,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"  "})]})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border text-muted-foreground",children:[s.jsx("th",{className:"text-left py-3 px-4",children:""}),s.jsx("th",{className:"text-left py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:""}),s.jsx("th",{className:"text-left py-3 px-4",children:""})]})}),s.jsx("tbody",{children:T.map(I=>{const F=N.find(K=>K.id===I.paymentMethodId);return s.jsxs("tr",{className:"border-b border-white/5 hover:bg-muted",children:[s.jsx("td",{className:"py-3 px-4 text-muted-foreground font-mono text-xs",children:new Date(I.createdAt).toLocaleDateString()}),s.jsx("td",{className:"py-3 px-4 text-foreground",children:F?.methodName||I.currency}),s.jsx("td",{className:"text-right py-3 px-4 font-mono text-foreground",children:Xe(I.amount,I.currency)}),s.jsxs("td",{className:"text-right py-3 px-4 font-mono text-red-400",children:["-",Xe(I.feeAmount,I.currency)]}),s.jsx("td",{className:"text-right py-3 px-4 font-mono text-emerald-500 font-bold",children:Xe(I.netAmount,I.currency)}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(ye,{className:"bg-emerald-500/20 text-emerald-500",children:I.status})})]},I.id)})})]})})}),s.jsx(ct,{value:"invoices",children:s.jsx(XGe,{})}),s.jsx(ct,{value:"instructions",className:"space-y-6",children:s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2 text-xl",children:[s.jsx(zx,{className:"h-6 w-6 text-cyan-500"}),"  "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"   ,   "})]}),s.jsx(ne,{children:s.jsx(q3,{className:"h-[500px] pr-4",children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-blue-500 flex items-center gap-2",children:[s.jsx(Qr,{className:"w-5 h-5"}),"1.  "]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-foreground",children:"  :"}),"   ,         ."]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-foreground font-medium",children:"  :"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[s.jsxs("li",{children:["  ",s.jsx(ye,{className:"bg-blue-500/20 text-blue-500",children:"+  "})]}),s.jsx("li",{children:"     "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"   ( )"}),s.jsx("li",{children:"    "}),s.jsx("li",{children:" "})]})]}),s.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-amber-400",children:[s.jsx(Kn,{className:"w-4 h-4 inline mr-1"})," ",s.jsx("strong",{children:":"}),"    !      ."]})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-emerald-500 flex items-center gap-2",children:[s.jsx(Sn,{className:"w-5 h-5"}),"2.  "]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:" :"})}),s.jsxs("ul",{className:"space-y-2 ml-2",children:[s.jsxs("li",{children:[s.jsx(ye,{className:"bg-emerald-500/20 text-emerald-500",children:""}),"  ,     "]}),s.jsxs("li",{children:[s.jsx(ye,{className:"bg-yellow-500/20 text-yellow-500",children:" "}),"      ( )"]}),s.jsxs("li",{children:[s.jsx(ye,{className:"bg-muted text-muted-foreground",children:" "}),"      Hold"]})]}),s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-blue-400",children:[s.jsx(Sl,{className:"w-4 h-4 inline mr-1"}),"           Hold ."]})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-yellow-500 flex items-center gap-2",children:[s.jsx(dr,{className:"w-5 h-5"}),"3.   "]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"  :"})}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[s.jsxs("li",{children:[",     ",s.jsx("strong",{children:" "})]}),s.jsx("li",{children:",   "}),s.jsxs("li",{children:[" ",s.jsx(ye,{className:"bg-yellow-500/20 text-yellow-500",children:" "})]}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"  (  )"}),s.jsx("li",{children:"  ()"}),s.jsx("li",{children:" "})]}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("p",{className:"text-foreground font-medium",children:" :"}),s.jsxs("ul",{className:"space-y-1 ml-2",children:[s.jsxs("li",{children:[s.jsx(ye,{className:"bg-yellow-500/20 text-yellow-500",children:"pending"}),"    "]}),s.jsxs("li",{children:[s.jsx(ye,{className:"bg-emerald-500/20 text-emerald-500",children:"approved"}),"  ,  "]}),s.jsxs("li",{children:[s.jsx(ye,{className:"bg-blue-500/20 text-blue-500",children:"paid"}),"  ,   "]}),s.jsxs("li",{children:[s.jsx(ye,{className:"bg-red-500/20 text-red-500",children:"rejected"}),"   ( )"]})]})]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-muted-foreground flex items-center gap-2",children:[s.jsx(Yt,{className:"w-5 h-5"}),"4. Hold "]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"  Hold:"})}),s.jsx("p",{children:"Hold       .        ."}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("p",{className:"text-foreground font-medium",children:"  :"}),s.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[s.jsx("li",{children:"    Hold  (0-30 )"}),s.jsx("li",{children:'     " "'}),s.jsx("li",{children:'  Hold     ""'}),s.jsx("li",{children:"      "})]})]}),s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-blue-400",children:[s.jsx(Sl,{className:"w-4 h-4 inline mr-1"})," Hold     .    ,   ."]})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-purple-500 flex items-center gap-2",children:[s.jsx(Hb,{className:"w-5 h-5"}),"5.  "]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"   :"})}),s.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[s.jsx("li",{children:" "}),s.jsx("li",{children:" "}),s.jsx("li",{children:"  "}),s.jsx("li",{children:" "}),s.jsx("li",{children:"  (  )"}),s.jsx("li",{children:" "})]}),s.jsx("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-emerald-400",children:[s.jsx(bt,{className:"w-4 h-4 inline mr-1"}),"       ."]})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-red-500 flex items-center gap-2",children:[s.jsx(Kn,{className:"w-5 h-5"}),"6.  "]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4 text-sm text-muted-foreground",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"     ?"}),s.jsx("p",{className:"mt-1",children:": 1)     2)    3)    "})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"  ?"}),s.jsx("p",{className:"mt-1",children:" 1-3  .       ."})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"  .  ?"}),s.jsx("p",{className:"mt-1",children:"     .     Hold   ."})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"    ?"}),s.jsx("p",{className:"mt-1",children:"    .   Hold  ."})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"    ?"}),s.jsx("p",{className:"mt-1",children:"         ."})]})]})]})]})})})]})})]})]}):s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(Kn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"  "}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"      "})]})})]})}const JGe={click:e_,offer:Ro,landing:JM,geo:jn,cap:Ui,fraud:Fn},Soe={click:" ",offer:" ",landing:" ",geo:" GEO",cap:" ",fraud:" ",redirect:""};function Coe({stages:e,className:t}){return s.jsx("div",{className:Re("space-y-4",t),"data-testid":"click-flow-timeline",children:e.map((n,r)=>{const a=JGe[n.id]||Gn,i=Soe[n.id]||n.name;return s.jsxs("div",{className:"relative flex items-start gap-3","data-testid":`click-flow-stage-${n.id}`,children:[r<e.length-1&&s.jsx("div",{className:Re("absolute left-[15px] top-[32px] w-0.5 h-[calc(100%+8px)]",n.status==="passed"?"bg-green-500/30":n.status==="failed"?"bg-red-500/30":"bg-muted")}),s.jsxs("div",{className:Re("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",n.status==="passed"&&"bg-green-500/10 text-green-500",n.status==="failed"&&"bg-red-500/10 text-red-500",n.status==="pending"&&"bg-muted text-muted-foreground",n.status==="skipped"&&"bg-muted/50 text-muted-foreground/50"),children:[n.status==="passed"&&s.jsx(Gn,{className:"w-4 h-4"}),n.status==="failed"&&s.jsx(ts,{className:"w-4 h-4"}),n.status==="pending"&&s.jsx(Yt,{className:"w-4 h-4"}),n.status==="skipped"&&s.jsx(a,{className:"w-4 h-4 opacity-50"})]}),s.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:Re("text-sm font-medium",n.status==="passed"&&"text-foreground",n.status==="failed"&&"text-red-500",n.status==="pending"&&"text-muted-foreground",n.status==="skipped"&&"text-muted-foreground/50"),"data-testid":`click-flow-stage-label-${n.id}`,children:i}),n.timestamp&&s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(n.timestamp).toLocaleTimeString()})]}),n.details&&s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate","data-testid":`click-flow-stage-details-${n.id}`,children:n.details})]})]},n.id)})})}function koe(e){const t=e.checkStage||"",n=["click","offer","landing","geo","cap","fraud","redirect"],r=n.indexOf(t),a=(o,l)=>e.status==="processed"?"passed":e.status==="rejected"?l<r?"passed":l===r?"failed":"skipped":o==="click"||e.resolvedOfferId&&o==="offer"||e.resolvedLandingId&&o==="landing"||e.clickId?"passed":"pending",i=o=>{switch(o){case"click":return e.geo?`GEO: ${e.geo}`:void 0;case"offer":return e.resolvedOfferId||void 0;case"landing":return e.resolvedLandingId||void 0;case"fraud":if(e.rejectReason==="fraud_block")return" -";break;case"geo":if(e.rejectReason==="geo_mismatch")return"GEO  ";break;case"cap":if(e.rejectReason==="cap_reached")return" ";break}};return n.map((o,l)=>({id:o,name:Soe[o]||o,status:a(o,l),details:i(o)}))}function ZGe(){const e=rt(),[t,n]=j.useState(""),[r,a]=j.useState("GET"),[i,o]=j.useState(""),[l,c]=j.useState("GET"),[u,f]=j.useState(""),[m,p]=j.useState(null),[g,v]=j.useState(!1),[y,w]=j.useState(new Set),[N,A]=j.useState(!1),{data:T,isLoading:C}=Ne({queryKey:["/api/advertiser/postbacks"]});j.useEffect(()=>{T?.globalSettings&&!N&&(n(T.globalSettings.leadPostbackUrl||""),a(T.globalSettings.leadPostbackMethod||"GET"),o(T.globalSettings.salePostbackUrl||""),c(T.globalSettings.salePostbackMethod||"GET"),A(!0))},[T,N]);const{data:S}=Ne({queryKey:["/api/advertiser/offers"]}),E=ve({mutationFn:async L=>{const q=await fetch("/api/advertiser/postbacks/global",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(L)});if(!q.ok)throw new Error("Failed to update");return q.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/advertiser/postbacks"]}),Rt.success(" ")},onError:()=>{Rt.error(" ")}});ve({mutationFn:async({offerId:L,...q})=>{const se=await fetch(`/api/advertiser/postbacks/offer/${L}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(q)});if(!se.ok)throw new Error("Failed to update");return se.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/advertiser/postbacks"]}),Rt.success("  ")}});const O=async()=>{if(u){v(!0),p(null);try{const q=await(await fetch("/api/postback-test",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({url:u,method:"GET"})})).json();p(q)}catch{p({success:!1,error:"Network error"})}finally{v(!1)}}},_=window.location.host,[M,$]=j.useState("outgoing"),[z,V]=j.useState(0),[I,F]=j.useState(new Set),K=L=>{F(q=>{const se=new Set(q);return se.has(L)?se.delete(L):se.add(L),se})},{data:R,isLoading:B}=Ne({queryKey:["/api/advertiser/raw-clicks",z],queryFn:async()=>{const L=await fetch(`/api/advertiser/raw-clicks?limit=50&offset=${z*50}`,{credentials:"include"});if(!L.ok)throw new Error("Failed to fetch");return L.json()},enabled:M==="incoming"});return C?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-blue-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-mono text-foreground mb-2","data-testid":"text-postbacks-title",children:""}),s.jsx("p",{className:"text-muted-foreground text-sm font-mono",children:"    "})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(qu,{dataset:"postback-logs"}),s.jsx(jn,{className:"w-8 h-8 text-blue-400"})]})]}),s.jsxs(uo,{value:M,onValueChange:$,className:"w-full",children:[s.jsxs(ki,{className:"bg-muted mb-4",children:[s.jsxs(lt,{value:"outgoing",className:"data-[state=active]:bg-blue-500/20 data-[state=active]:text-blue-400","data-testid":"tab-outgoing",children:[s.jsx(x0,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(lt,{value:"incoming",className:"data-[state=active]:bg-amber-500/20 data-[state=active]:text-amber-400","data-testid":"tab-incoming",children:[s.jsx(fh,{className:"w-4 h-4 mr-2"})," "]})]}),s.jsxs(ct,{value:"outgoing",className:"space-y-6",children:[s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(fh,{className:"w-5 h-5 text-green-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"  ( )"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  URL      "})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs",children:[s.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded p-3",children:[s.jsx("h4",{className:"font-semibold text-blue-400 mb-2",children:" :"}),s.jsx("code",{className:"text-muted-foreground",children:"click_id, clickid, subid, tid, sub1, cid"}),s.jsx("br",{}),s.jsx("code",{className:"text-muted-foreground",children:"payout, sum, revenue, amount"})]}),s.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded p-3",children:[s.jsx("h4",{className:"font-semibold text-amber-400 mb-2",children:" ( ):"}),s.jsx("code",{className:"text-muted-foreground",children:"status=lead ()"}),s.jsx("br",{}),s.jsx("code",{className:"text-muted-foreground",children:"status=sale (/)"})]})]}),s.jsx("div",{className:"mt-4 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded",children:[s.jsx("h4",{className:"font-semibold text-red-400 mb-2 flex items-center gap-2",children:s.jsx("span",{children:"Keitaro (    )"})}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"   PrimeTrack  :"}),s.jsx("div",{className:"space-y-1 font-mono text-xs",children:s.jsxs("div",{className:"text-muted-foreground break-all",children:["https://",_,"/api/postback?click_id=","{_click_id}","&status=","{status}","&payout=","{payout}"]})}),s.jsxs("p",{className:"text-[10px] text-amber-400 mt-2",children:[s.jsx("code",{className:"bg-muted px-1 rounded",children:"{_click_id}"}),"    ( ).          URL ."]})]}),s.jsxs("div",{className:"p-3 bg-purple-500/10 border border-purple-500/20 rounded",children:[s.jsx("h4",{className:"font-semibold text-purple-400 mb-2 flex items-center gap-2",children:s.jsx("span",{children:"Binom (    )"})}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"    :"}),s.jsx("div",{className:"space-y-1 font-mono text-xs",children:s.jsxs("div",{className:"text-muted-foreground break-all",children:["https://",_,"/api/postback?click_id=","{clickid}","&status=","{status}","&payout=","{payout}"]})}),s.jsxs("p",{className:"text-[10px] text-muted-foreground mt-2",children:[s.jsx("code",{className:"bg-muted px-1 rounded",children:"{clickid}"}),"    Binom  ID "]})]})]})})]}),s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(x0,{className:"w-5 h-5 text-blue-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"  (  )"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"URL       "})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-4",children:[s.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500/20 flex items-center justify-center",children:s.jsx("span",{className:"text-emerald-400 font-bold text-xs",children:"REG"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Lead / "}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"  "})]})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground font-mono mb-2 block",children:"Postback URL"}),s.jsx(le,{placeholder:"https://your-system.com/postback?click_id={click_id}&status=lead",value:t,onChange:L=>n(L.target.value),className:"bg-muted border-border text-foreground font-mono text-sm","data-testid":"input-lead-postback-url"})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground font-mono mb-2 block",children:""}),s.jsxs(ht,{value:r,onValueChange:a,children:[s.jsx(dt,{className:"bg-muted border-border text-foreground","data-testid":"select-lead-method",children:s.jsx(mt,{})}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"GET",children:"GET"}),s.jsx(ke,{value:"POST",children:"POST"})]})]})]})]}),s.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/20 flex items-center justify-center",children:s.jsx("span",{className:"text-blue-400 font-bold text-xs",children:"FTD"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Sale / "}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"  "})]})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground font-mono mb-2 block",children:"Postback URL"}),s.jsx(le,{placeholder:"https://your-system.com/postback?click_id={click_id}&status=sale",value:i,onChange:L=>o(L.target.value),className:"bg-muted border-border text-foreground font-mono text-sm","data-testid":"input-sale-postback-url"})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground font-mono mb-2 block",children:""}),s.jsxs(ht,{value:l,onValueChange:c,children:[s.jsx(dt,{className:"bg-muted border-border text-foreground","data-testid":"select-sale-method",children:s.jsx(mt,{})}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"GET",children:"GET"}),s.jsx(ke,{value:"POST",children:"POST"})]})]})]})]})]}),s.jsxs(U,{onClick:()=>E.mutate({leadPostbackUrl:t||null,leadPostbackMethod:r,salePostbackUrl:i||null,salePostbackMethod:l}),disabled:E.isPending,className:"bg-blue-600 hover:bg-blue-700","data-testid":"button-save-global",children:[E.isPending?s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Es,{className:"w-4 h-4 mr-2"}),""]})]}),s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:" "}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx(le,{placeholder:"https://your-tracker.com/postback?click_id=test123",value:u,onChange:L=>f(L.target.value),className:"bg-muted border-border text-foreground font-mono text-sm flex-1","data-testid":"input-test-url"}),s.jsx(U,{onClick:O,disabled:g||!u,variant:"outline",className:"border-border","data-testid":"button-test-postback",children:g?s.jsx(we,{className:"w-4 h-4 animate-spin"}):s.jsx(Kc,{className:"w-4 h-4"})})]}),m&&s.jsxs("div",{className:`p-3 rounded border ${m.success?"bg-emerald-500/10 border-emerald-500/30":"bg-red-500/10 border-red-500/30"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.success?s.jsx(Gn,{className:"w-4 h-4 text-emerald-400"}):s.jsx(ts,{className:"w-4 h-4 text-red-400"}),s.jsx("span",{className:`text-sm font-semibold ${m.success?"text-emerald-400":"text-red-400"}`,children:m.success?"":""}),m.status&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["HTTP ",m.status]})]}),m.error&&s.jsx("p",{className:"text-xs text-red-400 mt-1",children:m.error})]})]}),T?.logs&&T.logs.length>0&&s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:" "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" 50 "})]}),s.jsx(U,{variant:"ghost",size:"sm",className:"text-muted-foreground",children:s.jsx(Br,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:"URL"}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:T.logs.map(L=>s.jsxs("tr",{className:"hover:bg-muted",children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:new Date(L.createdAt).toLocaleString()}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded ${L.direction==="inbound"?"bg-green-500/20 text-green-400":"bg-blue-500/20 text-blue-400"}`,children:L.direction==="inbound"?" ":" "})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground max-w-xs truncate",children:L.url}),s.jsx("td",{className:"px-4 py-3",children:L.success?s.jsxs("span",{className:"text-emerald-400 flex items-center gap-1",children:[s.jsx(Gn,{className:"w-3 h-3"})," OK"]}):s.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[s.jsx(ts,{className:"w-3 h-3"})," Fail"]})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:L.responseCode||"-"})]},L.id))})]})})]})]}),s.jsx(ct,{value:"incoming",className:"space-y-6",children:s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ur,{className:"w-5 h-5 text-amber-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"  "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" HTTP-    (  )"})]})]}),B?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-blue-500"})}):R?.data&&R.data.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-2 py-3 w-8"}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:"GEO"}),s.jsx("th",{className:"px-4 py-3",children:"IP"}),s.jsx("th",{className:"px-4 py-3",children:"Sub1"}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:R.data.map(L=>s.jsxs(Z.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-muted","data-testid":`row-raw-click-${L.id}`,children:[s.jsx("td",{className:"px-2 py-3",children:s.jsx("button",{onClick:()=>K(L.id),className:"text-muted-foreground hover:text-foreground p-1","data-testid":`button-expand-click-${L.id}`,children:I.has(L.id)?s.jsx(fa,{className:"w-4 h-4"}):s.jsx(Hc,{className:"w-4 h-4"})})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground whitespace-nowrap",children:new Date(L.createdAt).toLocaleString()}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded ${L.status==="processed"?"bg-emerald-500/20 text-emerald-400":L.status==="rejected"?"bg-red-500/20 text-red-400":"bg-amber-500/20 text-amber-400"}`,children:L.status==="processed"?"OK":L.status==="rejected"?"":""})}),s.jsx("td",{className:"px-4 py-3 text-foreground",children:L.offerName||L.rawOfferId||"-"}),s.jsx("td",{className:"px-4 py-3 text-foreground",children:L.publisherShortId&&L.publisherName?`${L.publisherShortId} - ${L.publisherName}`:L.rawPartnerId||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:L.geo||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:L.ip||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground max-w-[100px] truncate",children:L.sub1||"-"}),s.jsx("td",{className:"px-4 py-3",children:L.checkStage?s.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded ${L.checkStage==="redirect"?"bg-emerald-500/20 text-emerald-400":"bg-amber-500/20 text-amber-400"}`,children:L.checkStage}):"-"}),s.jsx("td",{className:"px-4 py-3",children:L.rejectReason?s.jsx("span",{className:"text-red-400 text-[10px]",children:L.rejectReason}):L.clickId?s.jsxs("span",{className:"text-emerald-400 text-[10px]",children:[" ",L.clickId.slice(0,8),"..."]}):"-"})]}),I.has(L.id)&&s.jsx("tr",{className:"bg-muted/30","data-testid":`row-click-flow-${L.id}`,children:s.jsx("td",{colSpan:10,className:"px-6 py-4",children:s.jsxs("div",{className:"max-w-md",children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:" "}),s.jsx(Coe,{stages:koe(L)})]})})})]},L.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-border",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",R.total," "]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"sm",disabled:z===0,onClick:()=>V(L=>L-1),"data-testid":"button-prev-page",children:""}),s.jsx(U,{variant:"outline",size:"sm",disabled:(z+1)*50>=R.total,onClick:()=>V(L=>L+1),"data-testid":"button-next-page",children:""})]})]})]}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ur,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),s.jsx("p",{children:"  "}),s.jsx("p",{className:"text-xs mt-2",children:"     -"})]})]})})]})]})}function eYe(){const e=rt(),[t,n]=j.useState(""),[r,a]=j.useState("GET"),[i,o]=j.useState(""),[l,c]=j.useState("GET"),[u,f]=j.useState(""),[m,p]=j.useState(null),[g,v]=j.useState(!1),[y,w]=j.useState(!1),{data:N,isLoading:A}=Ne({queryKey:["/api/postback-settings"]}),{data:T,isLoading:C,refetch:S}=Ne({queryKey:["/api/publisher/postback-logs"]});j.useEffect(()=>{N&&!y&&(n(N.leadPostbackUrl||""),a(N.leadPostbackMethod||"GET"),o(N.salePostbackUrl||""),c(N.salePostbackMethod||"GET"),w(!0))},[N,y]);const E=ve({mutationFn:async K=>{const R=await fetch("/api/postback-settings",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(K)});if(!R.ok)throw new Error("Failed to update");return R.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/postback-settings"]}),Rt.success(" ")},onError:()=>{Rt.error(" ")}}),O=()=>{E.mutate({leadPostbackUrl:t||null,salePostbackUrl:i||null,leadPostbackMethod:r,salePostbackMethod:l})},_=async()=>{if(u){v(!0),p(null);try{const R=await(await fetch("/api/postback-test",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({url:u,method:"GET"})})).json();p(R)}catch{p({success:!1,error:"Network error"})}finally{v(!1)}}},[M,$]=j.useState("outgoing"),[z,V]=j.useState(0),{data:I,isLoading:F}=Ne({queryKey:["/api/publisher/raw-clicks",z],queryFn:async()=>{const K=await fetch(`/api/publisher/raw-clicks?limit=50&offset=${z*50}`,{credentials:"include"});if(!K.ok)throw new Error("Failed to fetch");return K.json()},enabled:M==="incoming"});return A||C?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-emerald-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-mono text-foreground mb-2","data-testid":"text-postbacks-title",children:""}),s.jsx("p",{className:"text-muted-foreground text-sm font-mono",children:"     "})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(qu,{dataset:"postback-logs"}),s.jsx(jn,{className:"w-8 h-8 text-emerald-400"})]})]}),s.jsxs(uo,{value:M,onValueChange:$,className:"w-full",children:[s.jsxs(ki,{className:"bg-muted mb-4",children:[s.jsxs(lt,{value:"outgoing",className:"data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-400","data-testid":"tab-outgoing",children:[s.jsx(x0,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(lt,{value:"incoming",className:"data-[state=active]:bg-amber-500/20 data-[state=active]:text-amber-400","data-testid":"tab-incoming",children:[s.jsx(fh,{className:"w-4 h-4 mr-2"})," "]})]}),s.jsxs(ct,{value:"outgoing",className:"space-y-6",children:[s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(fh,{className:"w-5 h-5 text-emerald-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"  URL"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"URL       "})]})]}),s.jsxs("div",{className:"bg-emerald-500/10 border-emerald-500/20 p-3 rounded mb-4",children:[s.jsx("h4",{className:"text-xs font-semibold text-foreground mb-2",children:" :"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs text-muted-foreground font-mono",children:[s.jsxs("span",{children:[s.jsx("code",{className:"text-emerald-400",children:"{click_id}"})," - ID "]}),s.jsxs("span",{children:[s.jsx("code",{className:"text-emerald-400",children:"{status}"})," - "]}),s.jsxs("span",{children:[s.jsx("code",{className:"text-emerald-400",children:"{payout}"})," - "]}),s.jsxs("span",{children:[s.jsx("code",{className:"text-emerald-400",children:"{sum}"})," - "]}),s.jsxs("span",{children:[s.jsx("code",{className:"text-emerald-400",children:"{offer_id}"})," - ID "]}),s.jsxs("span",{children:[s.jsx("code",{className:"text-emerald-400",children:"{sub1}"})," - Sub1"]}),s.jsxs("span",{children:[s.jsx("code",{className:"text-emerald-400",children:"{sub2}"})," - Sub2"]}),s.jsxs("span",{children:[s.jsx("code",{className:"text-emerald-400",children:"{geo}"})," - "]})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded",children:[s.jsx("h4",{className:"font-semibold text-blue-400 mb-2 text-sm",children:"  ( 1)"}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"          click_id:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-red-400 font-semibold",children:"Keitaro:"}),s.jsxs("code",{className:"ml-2 text-muted-foreground",children:["subid=","{subid}"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-purple-400 font-semibold",children:"Binom:"}),s.jsxs("code",{className:"ml-2 text-muted-foreground",children:["subid=","{clickid}"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded",children:[s.jsx("h4",{className:"font-semibold text-red-400 mb-1 text-sm",children:"  Keitaro ( 2)"}),s.jsx("p",{className:"text-[10px] text-muted-foreground mb-1",children:"    Lead/Sale:"}),s.jsxs("div",{className:"font-mono text-[11px] text-emerald-400 break-all",children:["http://-keitaro/postback?subid=","{sub1}","&status=","{status}","&payout=","{payout}"]}),s.jsxs("p",{className:"text-[10px] text-amber-400 mt-1",children:["{sub1}","    subid  Keitaro"]})]}),s.jsxs("div",{className:"p-3 bg-purple-500/10 border border-purple-500/20 rounded",children:[s.jsx("h4",{className:"font-semibold text-purple-400 mb-1 text-sm",children:"  Binom ( 2)"}),s.jsx("p",{className:"text-[10px] text-muted-foreground mb-1",children:"    Lead/Sale:"}),s.jsxs("div",{className:"font-mono text-[11px] text-emerald-400 break-all",children:["http://-binom/postback?clickid=","{sub1}","&status=","{status}","&payout=","{payout}"]}),s.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:["{sub1}","    clickid  Binom"]})]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-4",children:[s.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500/20 flex items-center justify-center",children:s.jsx("span",{className:"text-emerald-400 font-bold text-xs",children:"REG"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Lead / "}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"  "})]})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground font-mono mb-2 block",children:"Postback URL"}),s.jsx(le,{placeholder:"https://your-tracker.com/postback?subid={sub1}&status=lead",value:t,onChange:K=>n(K.target.value),className:"bg-muted border-border text-foreground font-mono text-sm","data-testid":"input-lead-postback-url"})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground font-mono mb-2 block",children:""}),s.jsxs(ht,{value:r,onValueChange:a,children:[s.jsx(dt,{className:"bg-muted border-border text-foreground","data-testid":"select-lead-method",children:s.jsx(mt,{})}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"GET",children:"GET"}),s.jsx(ke,{value:"POST",children:"POST"})]})]})]})]}),s.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/20 flex items-center justify-center",children:s.jsx("span",{className:"text-blue-400 font-bold text-xs",children:"FTD"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Sale / "}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"  "})]})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground font-mono mb-2 block",children:"Postback URL"}),s.jsx(le,{placeholder:"https://your-tracker.com/postback?subid={sub1}&status=sale",value:i,onChange:K=>o(K.target.value),className:"bg-muted border-border text-foreground font-mono text-sm","data-testid":"input-sale-postback-url"})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground font-mono mb-2 block",children:""}),s.jsxs(ht,{value:l,onValueChange:c,children:[s.jsx(dt,{className:"bg-muted border-border text-foreground","data-testid":"select-sale-method",children:s.jsx(mt,{})}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"GET",children:"GET"}),s.jsx(ke,{value:"POST",children:"POST"})]})]})]})]})]}),s.jsxs(U,{onClick:O,disabled:E.isPending,className:"bg-emerald-600 hover:bg-emerald-700","data-testid":"button-save",children:[E.isPending?s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Es,{className:"w-4 h-4 mr-2"}),""]})]}),s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:" "}),s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"   URL  "}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx(le,{placeholder:"https://your-tracker.com/postback?click_id=test123",value:u,onChange:K=>f(K.target.value),className:"bg-muted border-border text-foreground font-mono text-sm flex-1","data-testid":"input-test-url"}),s.jsx(U,{onClick:_,disabled:g||!u,variant:"outline",className:"border-border","data-testid":"button-test-postback",children:g?s.jsx(we,{className:"w-4 h-4 animate-spin"}):s.jsx(Kc,{className:"w-4 h-4"})})]}),m&&s.jsxs("div",{className:`p-3 rounded border ${m.success?"bg-emerald-500/10 border-emerald-500/30":"bg-red-500/10 border-red-500/30"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.success?s.jsx(Gn,{className:"w-4 h-4 text-emerald-400"}):s.jsx(ts,{className:"w-4 h-4 text-red-400"}),s.jsx("span",{className:`text-sm font-semibold ${m.success?"text-emerald-400":"text-red-400"}`,children:m.success?"":""}),m.status&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["HTTP ",m.status]})]}),m.error&&s.jsx("p",{className:"text-xs text-red-400 mt-1",children:m.error})]})]}),s.jsx(J,{className:"bg-blue-500/10 border-blue-500/20 p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Kn,{className:"w-5 h-5 text-blue-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-1",children:"  ?"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"    ,       URL    ,   .     URL       ."})]})]})}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:" "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" 50 "})]}),s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>S(),className:"text-muted-foreground",children:s.jsx(Br,{className:"w-4 h-4"})})]}),T&&T.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:"URL"}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:"HTTP "}),s.jsx("th",{className:"px-4 py-3",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:T.map(K=>s.jsxs("tr",{className:"hover:bg-muted",children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground whitespace-nowrap",children:new Date(K.createdAt).toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground max-w-xs truncate",title:K.url,children:K.url}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:K.method}),s.jsx("td",{className:"px-4 py-3",children:K.success?s.jsxs("span",{className:"text-emerald-400 flex items-center gap-1",children:[s.jsx(Gn,{className:"w-3 h-3"})," "]}):s.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[s.jsx(ts,{className:"w-3 h-3"})," "]})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:K.responseCode||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:K.retryCount})]},K.id))})]})}):s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(jn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"   "}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"    "})]})]})]}),s.jsx(ct,{value:"incoming",className:"space-y-6",children:s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ur,{className:"w-5 h-5 text-amber-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"  "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"   - (   )"})]})]}),F?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-emerald-500"})}):I?.data&&I.data.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:"GEO"}),s.jsx("th",{className:"px-4 py-3",children:"IP"}),s.jsx("th",{className:"px-4 py-3",children:"Sub1"}),s.jsx("th",{className:"px-4 py-3",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:I.data.map(K=>s.jsxs("tr",{className:"hover:bg-muted","data-testid":`row-raw-click-${K.id}`,children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground whitespace-nowrap",children:new Date(K.createdAt).toLocaleString()}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded ${K.status==="processed"?"bg-emerald-500/20 text-emerald-400":K.status==="rejected"?"bg-red-500/20 text-red-400":"bg-amber-500/20 text-amber-400"}`,children:K.status==="processed"?"OK":K.status==="rejected"?"":""})}),s.jsx("td",{className:"px-4 py-3 text-foreground",children:K.offerName||K.rawOfferId||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:K.geo||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:K.ip||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground max-w-[100px] truncate",children:K.sub1||"-"}),s.jsx("td",{className:"px-4 py-3",children:K.rejectReason?s.jsx("span",{className:"text-red-400 text-[10px]",children:K.rejectReason}):K.clickId?s.jsxs("span",{className:"text-emerald-400 text-[10px]",children:[" ",K.clickId.slice(0,8),"..."]}):"-"})]},K.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-border",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",I.total," "]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"sm",disabled:z===0,onClick:()=>V(K=>K-1),"data-testid":"button-prev-page",children:""}),s.jsx(U,{variant:"outline",size:"sm",disabled:(z+1)*50>=I.total,onClick:()=>V(K=>K+1),"data-testid":"button-next-page",children:""})]})]})]}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ur,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),s.jsx("p",{children:"  "}),s.jsx("p",{className:"text-xs mt-2",children:"      -"})]})]})})]})]})}function tYe(){const[e,t]=j.useState("all"),[n,r]=j.useState("all"),[a,i]=j.useState(""),[o,l]=j.useState(""),[c,u]=j.useState("GET"),[f,m]=j.useState(null),[p,g]=j.useState(!1),[v,y]=j.useState(new Set),[w,N]=j.useState(0),{data:A,isLoading:T,refetch:C}=Ne({queryKey:["/api/admin/postback-logs"]}),{data:S,isLoading:E}=Ne({queryKey:["/api/advertiser/raw-clicks",w],queryFn:async()=>{const R=await fetch(`/api/advertiser/raw-clicks?limit=50&offset=${w*50}`,{credentials:"include"});if(!R.ok)throw new Error("Failed to fetch raw clicks");return R.json()}}),O=R=>{y(B=>{const L=new Set(B);return L.has(R)?L.delete(R):L.add(R),L})},_=A?.filter(R=>!(e==="success"&&!R.success||e==="failed"&&R.success||n==="inbound"&&R.direction!=="inbound"||n==="outbound"&&R.direction!=="outbound"||a&&!R.url.toLowerCase().includes(a.toLowerCase()))),M=R=>{navigator.clipboard.writeText(R),Rt.success("")},$=async()=>{if(o){g(!0),m(null);try{const B=await(await fetch("/api/postback-test",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({url:o,method:c})})).json();m(B)}catch{m({success:!1,error:"Network error"})}finally{g(!1)}}};if(T)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-red-500"})});const z=A?.filter(R=>R.success).length||0;A?.filter(R=>!R.success).length;const V=A?.filter(R=>R.direction==="inbound").length||0,I=A?.filter(R=>R.direction==="outbound").length||0,K=`https://${window.location.host}/api/postback?click_id={click_id}&status={status}&payout={payout}`;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-mono text-foreground mb-2","data-testid":"text-admin-postbacks-title",children:" "}),s.jsx("p",{className:"text-muted-foreground text-sm font-mono",children:"    "})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(qu,{dataset:"postback-logs",getFilters:()=>({status:e!=="all"?e:void 0,direction:n!=="all"?n:void 0})}),s.jsx(jn,{className:"w-8 h-8 text-red-400"})]})]}),s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(fh,{className:"w-5 h-5 text-green-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"  "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" URL       "})]})]}),s.jsxs("div",{className:"bg-muted rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:" URL"}),s.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>M(K),className:"text-muted-foreground hover:text-foreground","data-testid":"button-copy-postback-url",children:[s.jsx(Yn,{className:"w-4 h-4 mr-1"})," "]})]}),s.jsx("code",{className:"text-sm text-green-400 break-all block font-mono",children:K})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs",children:[s.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded p-3",children:[s.jsx("h4",{className:"font-semibold text-blue-400 mb-2",children:"  click_id:"}),s.jsx("code",{className:"text-muted-foreground",children:"click_id, clickid, subid, subid_1, tid, sub1, cid"})]}),s.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded p-3",children:[s.jsx("h4",{className:"font-semibold text-amber-400 mb-2",children:" :"}),s.jsx("code",{className:"text-muted-foreground",children:"lead, reg  Lead | sale, dep, ftd  Sale | rejected  Rejected"})]})]})]}),s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:" "}),s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"   URL"}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx(le,{placeholder:"https://example.com/postback?click_id=test123",value:o,onChange:R=>l(R.target.value),className:"bg-muted border-border text-foreground font-mono text-sm flex-1","data-testid":"input-test-url"}),s.jsxs(ht,{value:c,onValueChange:u,children:[s.jsx(dt,{className:"w-24 bg-muted border-border text-foreground","data-testid":"select-test-method",children:s.jsx(mt,{})}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"GET",children:"GET"}),s.jsx(ke,{value:"POST",children:"POST"})]})]}),s.jsx(U,{onClick:$,disabled:p||!o,variant:"outline",className:"border-border","data-testid":"button-test-postback",children:p?s.jsx(we,{className:"w-4 h-4 animate-spin"}):s.jsx(Kc,{className:"w-4 h-4"})})]}),f&&s.jsxs("div",{className:`p-3 rounded border ${f.success?"bg-emerald-500/10 border-emerald-500/30":"bg-red-500/10 border-red-500/30"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.success?s.jsx(Gn,{className:"w-4 h-4 text-emerald-400"}):s.jsx(ts,{className:"w-4 h-4 text-red-400"}),s.jsx("span",{className:`text-sm font-semibold ${f.success?"text-emerald-400":"text-red-400"}`,children:f.success?"":""}),f.status&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["HTTP ",f.status]}),f.responseTime&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:[f.responseTime,"ms"]})]}),f.error&&s.jsx("p",{className:"text-xs text-red-400 mt-1",children:f.error})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs(J,{className:"bg-card border-border p-4",children:[s.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:""}),s.jsx("div",{className:"text-2xl font-bold text-foreground font-mono",children:A?.length||0})]}),s.jsxs(J,{className:"bg-emerald-500/10 border-emerald-500/20 p-4",children:[s.jsx("div",{className:"text-xs text-emerald-400 uppercase tracking-wider mb-1",children:""}),s.jsx("div",{className:"text-2xl font-bold text-emerald-400 font-mono",children:z})]}),s.jsxs(J,{className:"bg-green-500/10 border-green-500/20 p-4",children:[s.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-400 uppercase tracking-wider mb-1",children:[s.jsx(fh,{className:"w-3 h-3"})," "]}),s.jsx("div",{className:"text-2xl font-bold text-green-400 font-mono",children:V})]}),s.jsxs(J,{className:"bg-blue-500/10 border-blue-500/20 p-4",children:[s.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-400 uppercase tracking-wider mb-1",children:[s.jsx(x0,{className:"w-3 h-3"})," "]}),s.jsx("div",{className:"text-2xl font-bold text-blue-400 font-mono",children:I})]})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs("div",{className:"p-4 border-b border-border flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[s.jsx(Zi,{className:"w-4 h-4 text-muted-foreground"}),s.jsx(le,{placeholder:"  URL...",value:a,onChange:R=>i(R.target.value),className:"bg-muted border-border text-foreground text-sm","data-testid":"input-search-postbacks"})]}),s.jsxs(ht,{value:n,onValueChange:r,children:[s.jsx(dt,{className:"w-40 bg-muted border-border text-foreground","data-testid":"select-direction-filter",children:s.jsx(mt,{placeholder:""})}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"all",children:""}),s.jsx(ke,{value:"inbound",children:""}),s.jsx(ke,{value:"outbound",children:""})]})]}),s.jsxs(ht,{value:e,onValueChange:t,children:[s.jsx(dt,{className:"w-40 bg-muted border-border text-foreground","data-testid":"select-status-filter",children:s.jsx(mt,{placeholder:""})}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"all",children:""}),s.jsx(ke,{value:"success",children:""}),s.jsx(ke,{value:"failed",children:" "})]})]}),s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>C(),className:"text-muted-foreground",children:s.jsx(Br,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:"URL"}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""})]})}),s.jsxs("tbody",{className:"divide-y divide-white/5",children:[_?.map(R=>s.jsxs("tr",{className:"hover:bg-muted",children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground whitespace-nowrap",children:new Date(R.createdAt).toLocaleString()}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded ${R.direction==="inbound"?"bg-green-500/20 text-green-400":"bg-blue-500/20 text-blue-400"}`,children:R.direction==="inbound"?" ":" "})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground max-w-xs truncate",title:R.url,children:R.url}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:R.method}),s.jsx("td",{className:"px-4 py-3",children:R.success?s.jsxs("span",{className:"text-emerald-400 flex items-center gap-1",children:[s.jsx(Gn,{className:"w-3 h-3"})," OK"]}):s.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[s.jsx(ts,{className:"w-3 h-3"})," Fail"]})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:R.responseCode||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:R.retryCount})]},R.id)),(!_||_.length===0)&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-muted-foreground",children:"   "})})]})]})})]}),s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ur,{className:"w-5 h-5 text-amber-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"  "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" HTTP-    (  )"})]})]}),E?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-blue-500"})}):S?.data&&S.data.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-2 py-3 w-8"}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:"GEO"}),s.jsx("th",{className:"px-4 py-3",children:"IP"}),s.jsx("th",{className:"px-4 py-3",children:"Sub1"}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:S.data.map(R=>s.jsxs(Z.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-muted","data-testid":`row-raw-click-${R.id}`,children:[s.jsx("td",{className:"px-2 py-3",children:s.jsx("button",{onClick:()=>O(R.id),className:"text-muted-foreground hover:text-foreground p-1","data-testid":`button-expand-click-${R.id}`,children:v.has(R.id)?s.jsx(fa,{className:"w-4 h-4"}):s.jsx(Hc,{className:"w-4 h-4"})})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground whitespace-nowrap",children:new Date(R.createdAt).toLocaleString()}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded ${R.status==="processed"?"bg-emerald-500/20 text-emerald-400":R.status==="rejected"?"bg-red-500/20 text-red-400":"bg-amber-500/20 text-amber-400"}`,children:R.status==="processed"?"OK":R.status==="rejected"?"":""})}),s.jsx("td",{className:"px-4 py-3 text-foreground",children:R.offerName||R.rawOfferId||"-"}),s.jsx("td",{className:"px-4 py-3 text-foreground",children:R.publisherShortId&&R.publisherName?`${R.publisherShortId} - ${R.publisherName}`:R.rawPartnerId||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:R.geo||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:R.ip||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground max-w-[100px] truncate",children:R.sub1||"-"}),s.jsx("td",{className:"px-4 py-3",children:R.checkStage?s.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded ${R.checkStage==="redirect"?"bg-emerald-500/20 text-emerald-400":"bg-amber-500/20 text-amber-400"}`,children:R.checkStage}):"-"}),s.jsx("td",{className:"px-4 py-3",children:R.rejectReason?s.jsx("span",{className:"text-red-400 text-[10px]",children:R.rejectReason}):R.clickId?s.jsxs("span",{className:"text-emerald-400 text-[10px]",children:[" ",R.clickId.slice(0,8),"..."]}):"-"})]}),v.has(R.id)&&s.jsx("tr",{className:"bg-muted/30","data-testid":`row-click-flow-${R.id}`,children:s.jsx("td",{colSpan:10,className:"px-6 py-4",children:s.jsxs("div",{className:"max-w-md",children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:" "}),s.jsx(Coe,{stages:koe(R)})]})})})]},R.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-border",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",S.total," "]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"sm",disabled:w===0,onClick:()=>N(R=>R-1),"data-testid":"button-prev-page-raw",children:""}),s.jsx(U,{variant:"outline",size:"sm",disabled:(w+1)*50>=S.total,onClick:()=>N(R=>R+1),"data-testid":"button-next-page-raw",children:""})]})]})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"    "})]})]})}const bO=[{value:"fraud_score",label:"Fraud Score",description:"   fraud score",category:"score"},{value:"proxy_vpn",label:"Proxy/VPN",description:"   VPN ",category:"detection"},{value:"bot",label:"",description:"  ",category:"detection"},{value:"datacenter",label:"Datacenter IP",description:" IP ",category:"detection"},{value:"duplicate_click",label:" ",description:"  ",category:"duplicate"},{value:"duplicate_conversion",label:" ",description:"   (email//transaction)",category:"duplicate"},{value:"geo_mismatch",label:"GEO ",description:"  ",category:"detection"},{value:"device_fingerprint",label:"Fingerprint",description:"  ",category:"detection"},{value:"velocity_ip_minute",label:"Velocity IP/",description:"   IP  ",category:"velocity"},{value:"velocity_ip_hour",label:"Velocity IP/",description:"   IP  ",category:"velocity"},{value:"velocity_ip_day",label:"Velocity IP/",description:"   IP  ",category:"velocity"},{value:"velocity_fingerprint",label:"Velocity Fingerprint",description:"     ",category:"velocity"},{value:"velocity_publisher",label:"Velocity Publisher",description:"    ",category:"velocity"},{value:"cr_anomaly",label:"CR ",description:" CR  ( >50%)",category:"anomaly"},{value:"ar_anomaly",label:"AR ",description:" Approval Rate ",category:"anomaly"}],OK=[{value:"allow",label:"Allow",color:"bg-green-500"},{value:"flag",label:"Flag",color:"bg-yellow-500"},{value:"hold",label:"Hold",color:"bg-orange-500"},{value:"reject",label:"Reject",color:"bg-red-400"},{value:"block",label:"Block",color:"bg-red-600"}];function nYe({role:e}){const t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState(null),[o,l]=j.useState({name:"",description:"",ruleType:"fraud_score",threshold:80,action:"block",priority:100,scope:e==="admin"?"global":"advertiser"}),{data:c}=Ne({queryKey:["/api/antifraud/summary"]}),{data:u=[]}=Ne({queryKey:["/api/antifraud/rules"]}),{data:f=[]}=Ne({queryKey:["/api/antifraud/logs"]}),{data:m=[]}=Ne({queryKey:["/api/antifraud/suspicious-clicks"]}),p=ve({mutationFn:async N=>{const A=await fetch("/api/antifraud/rules",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(N)});if(!A.ok)throw new Error("Failed to create rule");return A.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/antifraud/rules"]}),r(!1),l({name:"",description:"",ruleType:"fraud_score",threshold:80,action:"block",priority:100,scope:e==="admin"?"global":"advertiser"})}}),g=ve({mutationFn:async({id:N,data:A})=>{const T=await fetch(`/api/antifraud/rules/${N}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(A)});if(!T.ok)throw new Error("Failed to update rule");return T.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/antifraud/rules"]}),i(null)}}),v=ve({mutationFn:async N=>{const A=await fetch(`/api/antifraud/rules/${N}`,{method:"DELETE",credentials:"include"});if(!A.ok)throw new Error("Failed to delete rule");return A.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/antifraud/rules"]})}}),y=N=>{const A=OK.find(T=>T.value===N);return s.jsx(ye,{className:A?.color||"bg-gray-500",children:A?.label||N})},w=N=>{switch(N){case"bot":return s.jsx(Mfe,{className:"h-4 w-4"});case"proxy_vpn":return s.jsx(jn,{className:"h-4 w-4"});case"fraud_score":return s.jsx(Ui,{className:"h-4 w-4"});case"datacenter":return s.jsx(jn,{className:"h-4 w-4 text-purple-500"});case"duplicate_click":case"duplicate_conversion":return s.jsx(Yn,{className:"h-4 w-4 text-orange-500"});case"geo_mismatch":return s.jsx(jn,{className:"h-4 w-4 text-yellow-500"});case"device_fingerprint":return s.jsx(DO,{className:"h-4 w-4 text-blue-500"});case"velocity_ip_minute":case"velocity_ip_hour":case"velocity_ip_day":case"velocity_fingerprint":case"velocity_publisher":return s.jsx(FO,{className:"h-4 w-4 text-purple-500"});case"cr_anomaly":case"ar_anomaly":return s.jsx(qr,{className:"h-4 w-4 text-red-500"});default:return s.jsx(Fn,{className:"h-4 w-4"})}};return s.jsxs("div",{className:"space-y-6","data-testid":"antifraud-dashboard",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Fn,{className:"h-6 w-6"})," "]}),s.jsx("p",{className:"text-muted-foreground",children:e==="admin"?"    ":"    "})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(J,{children:[s.jsx(Pe,{className:"pb-2",children:s.jsx(Ie,{className:"text-sm font-medium text-muted-foreground",children:" "})}),s.jsx(ne,{children:s.jsx("div",{className:"text-2xl font-bold","data-testid":"total-clicks",children:c?.totalClicks||0})})]}),s.jsxs(J,{children:[s.jsx(Pe,{className:"pb-2",children:s.jsx(Ie,{className:"text-sm font-medium text-muted-foreground",children:""})}),s.jsxs(ne,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600","data-testid":"blocked-clicks",children:c?.blockedClicks||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[c?.blockRate?.toFixed(1)||0,"%  "]})]})]}),s.jsxs(J,{children:[s.jsx(Pe,{className:"pb-2",children:s.jsx(Ie,{className:"text-sm font-medium text-muted-foreground",children:""})}),s.jsx(ne,{children:s.jsx("div",{className:"text-2xl font-bold text-yellow-600","data-testid":"flagged-clicks",children:c?.flaggedClicks||0})})]}),s.jsxs(J,{children:[s.jsx(Pe,{className:"pb-2",children:s.jsx(Ie,{className:"text-sm font-medium text-muted-foreground",children:" "})}),s.jsx(ne,{children:s.jsx("div",{className:"text-2xl font-bold","data-testid":"active-rules",children:u.filter(N=>N.isActive).length})})]})]}),c?.byType&&c.byType.length>0&&s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsx(Ie,{className:"text-lg",children:"  "})}),s.jsx(ne,{children:s.jsx("div",{className:"flex flex-wrap gap-6",children:c.byType.map(N=>s.jsxs("div",{className:"text-center px-4 py-2 rounded-lg bg-muted/50",children:[s.jsx("div",{className:"text-xl font-bold",children:N.count}),s.jsx("div",{className:"text-sm text-muted-foreground",children:N.type})]},N.type))})})]}),s.jsxs(uo,{defaultValue:"rules",children:[s.jsxs(ki,{className:"gap-2 p-1",children:[s.jsxs(lt,{value:"rules","data-testid":"tab-rules",className:"px-4 py-2 data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:[s.jsx(Fn,{className:"h-4 w-4 mr-2 text-blue-500"}),""]}),s.jsxs(lt,{value:"suspicious","data-testid":"tab-suspicious",className:"px-4 py-2 data-[state=active]:bg-red-500 data-[state=active]:text-white",children:[s.jsx(Ui,{className:"h-4 w-4 mr-2 text-red-500"}),""]}),s.jsxs(lt,{value:"logs","data-testid":"tab-logs",className:"px-4 py-2 data-[state=active]:bg-orange-500 data-[state=active]:text-white",children:[s.jsx(Il,{className:"h-4 w-4 mr-2 text-orange-500"}),""]}),s.jsxs(lt,{value:"help","data-testid":"tab-help",className:"px-4 py-2 data-[state=active]:bg-green-500 data-[state=active]:text-white",children:[s.jsx(Sl,{className:"h-4 w-4 mr-2 text-green-500"}),""]})]}),s.jsxs(ct,{value:"rules",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:" "}),s.jsxs(Wt,{open:n,onOpenChange:r,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{"data-testid":"button-add-rule",children:[s.jsx(fr,{className:"h-4 w-4 mr-2"})," "]})}),s.jsxs(zt,{children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(le,{value:o.name,onChange:N=>l({...o,name:N.target.value}),placeholder:" ","data-testid":"input-rule-name"})]}),s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(le,{value:o.description,onChange:N=>l({...o,description:N.target.value}),placeholder:"","data-testid":"input-rule-description"})]}),s.jsxs("div",{children:[s.jsx(te,{children:" "}),s.jsxs(ht,{value:o.ruleType,onValueChange:N=>l({...o,ruleType:N}),children:[s.jsx(dt,{"data-testid":"select-rule-type",children:s.jsx(mt,{})}),s.jsx(ut,{children:bO.map(N=>s.jsx(ke,{value:N.value,children:N.label},N.value))})]})]}),(o.ruleType==="fraud_score"||o.ruleType.startsWith("velocity_"))&&s.jsxs("div",{children:[s.jsx(te,{children:o.ruleType==="fraud_score"?" (fraud score 0-100)":o.ruleType==="velocity_ip_minute"?" /":o.ruleType==="velocity_ip_hour"?" /":o.ruleType==="velocity_ip_day"?" /":o.ruleType==="velocity_fingerprint"?" /":" /"}),s.jsx(le,{type:"number",value:o.threshold,onChange:N=>l({...o,threshold:parseInt(N.target.value)}),placeholder:o.ruleType==="fraud_score"?"80":"10","data-testid":"input-rule-threshold"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.ruleType==="fraud_score"?": 60-80   ":": 10/, 100/, 500/"})]}),s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsxs(ht,{value:o.action,onValueChange:N=>l({...o,action:N}),children:[s.jsx(dt,{"data-testid":"select-rule-action",children:s.jsx(mt,{})}),s.jsx(ut,{children:OK.map(N=>s.jsx(ke,{value:N.value,children:N.label},N.value))})]})]}),s.jsxs("div",{children:[s.jsx(te,{children:" ( = )"}),s.jsx(le,{type:"number",value:o.priority,onChange:N=>l({...o,priority:parseInt(N.target.value)}),"data-testid":"input-rule-priority"})]}),e==="admin"&&s.jsxs("div",{children:[s.jsx(te,{children:" "}),s.jsxs(ht,{value:o.scope,onValueChange:N=>l({...o,scope:N}),children:[s.jsx(dt,{"data-testid":"select-rule-scope",children:s.jsx(mt,{})}),s.jsxs(ut,{children:[s.jsx(ke,{value:"global",children:" ( )"}),s.jsx(ke,{value:"advertiser",children:" "})]})]})]}),s.jsx(U,{onClick:()=>p.mutate(o),disabled:!o.name||p.isPending,className:"w-full","data-testid":"button-save-rule",children:p.isPending?"...":" "})]})]})]})]}),s.jsx("div",{className:"space-y-2",children:u.length===0?s.jsx(J,{children:s.jsx(ne,{className:"py-8 text-center text-muted-foreground",children:"  .   ."})}):u.map(N=>s.jsx(J,{className:N.isActive?"":"opacity-60","data-testid":`rule-${N.id}`,children:s.jsxs(ne,{className:"py-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-2 bg-muted rounded",children:w(N.ruleType)}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium flex items-center gap-2",children:[N.name,N.scope==="global"&&s.jsx(ye,{variant:"outline",className:"text-xs",children:""})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[bO.find(A=>A.value===N.ruleType)?.label,N.threshold&&`  ${N.threshold}`]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[y(N.action),s.jsxs(ye,{variant:"outline",children:[": ",N.priority]}),s.jsx(vr,{checked:N.isActive,onCheckedChange:A=>g.mutate({id:N.id,data:{isActive:A}}),"data-testid":`switch-rule-${N.id}`}),(e==="admin"||N.scope==="advertiser")&&s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>v.mutate(N.id),"data-testid":`button-delete-rule-${N.id}`,children:s.jsx(Os,{className:"h-4 w-4 text-red-500"})})]})]}),N.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:N.description})]})},N.id))})]}),s.jsxs(ct,{value:"suspicious",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Ui,{className:"h-5 w-5 text-red-500"})," "]}),s.jsxs(ye,{variant:"destructive",className:"text-sm",children:[m.length," "]})]}),m.length===0?s.jsx(J,{children:s.jsxs(ne,{className:"py-8 text-center text-muted-foreground",children:[s.jsx(Fn,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),s.jsx("p",{className:"text-lg font-medium",children:"   "}),s.jsx("p",{className:"text-sm",children:"       "})]})}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/50",children:[s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:""}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:"Click ID"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:"IP / ISP"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:"GEO"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:"Score"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:""}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:""})]})}),s.jsx("tbody",{children:m.slice(0,100).map(N=>{const A=N.suspiciousReasons?JSON.parse(N.suspiciousReasons):[],T={high_fraud_score:" score",proxy_detected:"",vpn_detected:"VPN",tor_detected:"Tor",datacenter_ip:"",bot_detected:"",geo_mismatch:"GEO ",duplicate_click:""};return s.jsxs("tr",{className:"border-b hover:bg-muted/30","data-testid":`suspicious-click-${N.id}`,children:[s.jsx("td",{className:"p-3 text-sm",children:new Date(N.createdAt).toLocaleString()}),s.jsxs("td",{className:"p-3 text-sm font-mono text-xs",children:[N.clickId.substring(0,8),"..."]}),s.jsxs("td",{className:"p-3 text-sm",children:[s.jsx("div",{className:"font-mono text-xs",children:N.ip||"-"}),N.isp&&s.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:N.isp})]}),s.jsxs("td",{className:"p-3 text-sm",children:[s.jsx("div",{children:N.geo||"-"}),N.city&&s.jsx("div",{className:"text-xs text-muted-foreground",children:N.city})]}),s.jsx("td",{className:"p-3",children:s.jsx(ye,{variant:"destructive",children:N.fraudScore})}),s.jsx("td",{className:"p-3 text-sm",children:s.jsx("div",{className:"flex gap-1 flex-wrap",children:A.map((C,S)=>s.jsx(ye,{variant:"outline",className:"text-xs bg-red-500/10 text-red-500 border-red-500/20",children:T[C]||C},S))})}),s.jsx("td",{className:"p-3 text-sm",children:s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[N.isProxy&&s.jsx(ye,{variant:"outline",className:"text-xs bg-orange-500/20 text-orange-400 border-orange-500/30",children:"Proxy"}),N.isVpn&&s.jsx(ye,{variant:"outline",className:"text-xs bg-purple-500/20 text-purple-400 border-purple-500/30",children:"VPN"}),N.isTor&&s.jsx(ye,{variant:"outline",className:"text-xs bg-red-500/20 text-red-400 border-red-500/30",children:"TOR"}),N.isBot&&s.jsx(ye,{variant:"outline",className:"text-xs bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:"Bot"}),N.isDatacenter&&s.jsx(ye,{variant:"outline",className:"text-xs bg-blue-500/20 text-blue-400 border-blue-500/30",children:"DC"})]})})]},N.id)})})]})})]}),s.jsxs(ct,{value:"logs",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:" "}),f.length===0?s.jsx(J,{children:s.jsx(ne,{className:"py-8 text-center text-muted-foreground",children:"  "})}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/50",children:[s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:""}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:"IP / ISP"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:"GEO"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:"Score"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:""}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:"Fingerprint"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:""})]})}),s.jsx("tbody",{children:f.slice(0,50).map(N=>s.jsxs("tr",{className:"border-b","data-testid":`log-${N.id}`,children:[s.jsx("td",{className:"p-3 text-sm",children:new Date(N.createdAt).toLocaleString()}),s.jsxs("td",{className:"p-3 text-sm",children:[s.jsx("div",{className:"font-mono text-xs",children:N.ip||"-"}),N.isp&&s.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:N.isp}),N.asn&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["AS",N.asn]})]}),s.jsxs("td",{className:"p-3 text-sm",children:[s.jsx("div",{children:N.country||"-"}),N.region&&s.jsx("div",{className:"text-xs text-muted-foreground",children:N.region})]}),s.jsx("td",{className:"p-3",children:s.jsx(ye,{variant:N.fraudScore>60?"destructive":N.fraudScore>30?"outline":"secondary",children:N.fraudScore})}),s.jsx("td",{className:"p-3 text-sm",children:s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[N.isProxy&&s.jsx(ye,{variant:"outline",className:"text-xs bg-orange-500/20 text-orange-400 border-orange-500/30",children:"Proxy"}),N.isVpn&&s.jsx(ye,{variant:"outline",className:"text-xs bg-purple-500/20 text-purple-400 border-purple-500/30",children:"VPN"}),N.isTor&&s.jsx(ye,{variant:"outline",className:"text-xs bg-red-500/20 text-red-400 border-red-500/30",children:"TOR"}),N.isBot&&s.jsx(ye,{variant:"outline",className:"text-xs bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:"Bot"}),N.isDatacenter&&s.jsx(ye,{variant:"outline",className:"text-xs bg-blue-500/20 text-blue-400 border-blue-500/30",children:"DC"})]})}),s.jsx("td",{className:"p-3 text-sm",children:N.visitorId?s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"font-mono text-xs truncate max-w-[100px]",title:N.visitorId,children:[s.jsx(DO,{className:"h-3 w-3 inline mr-1"}),N.visitorId.substring(0,8),"..."]}),N.fpConfidence!==void 0&&s.jsxs(ye,{variant:"outline",className:`text-xs ${N.fpConfidence>.8?"bg-emerald-500/20 text-emerald-400":N.fpConfidence>.5?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:[(N.fpConfidence*100).toFixed(0),"%"]})]}):s.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),s.jsx("td",{className:"p-3",children:y(N.action)})]},N.id))})]})})]}),s.jsx(ct,{value:"help",className:"space-y-6",children:s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5 text-blue-500"}),"   "]}),s.jsx(et,{children:"         "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:" "}),s.jsxs("div",{className:"grid gap-3",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"p-2 bg-blue-500/20 rounded",children:s.jsx(Il,{className:"h-4 w-4 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"1.  "}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"    : IP, User-Agent, , fingerprint "})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"p-2 bg-orange-500/20 rounded",children:s.jsx(Ui,{className:"h-4 w-4 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"2.   "}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"  /VPN, datacenter IP, , "})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"p-2 bg-purple-500/20 rounded",children:s.jsx(Fn,{className:"h-4 w-4 text-purple-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"3.  Fraud Score"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"     0  100 ( =  )"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"p-2 bg-green-500/20 rounded",children:s.jsx(Gn,{className:"h-4 w-4 text-green-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"4.  "}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"   ,    "})]})]})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:" "}),s.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:bO.map(N=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[s.jsx("div",{className:"p-2 bg-muted rounded",children:w(N.value)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:N.label}),s.jsx("div",{className:"text-xs text-muted-foreground",children:N.description})]})]},N.value))})]}),s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:"  "}),s.jsxs("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:[s.jsxs("div",{className:"p-3 border rounded-lg text-center",children:[s.jsx(Gn,{className:"h-6 w-6 text-green-500 mx-auto mb-2"}),s.jsx("div",{className:"font-medium text-sm",children:"Allow"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:" "})]}),s.jsxs("div",{className:"p-3 border rounded-lg text-center",children:[s.jsx(ghe,{className:"h-6 w-6 text-yellow-500 mx-auto mb-2"}),s.jsx("div",{className:"font-medium text-sm",children:"Flag"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"  "})]}),s.jsxs("div",{className:"p-3 border rounded-lg text-center",children:[s.jsx(Yt,{className:"h-6 w-6 text-orange-500 mx-auto mb-2"}),s.jsx("div",{className:"font-medium text-sm",children:"Hold"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"  "})]}),s.jsxs("div",{className:"p-3 border rounded-lg text-center",children:[s.jsx(ts,{className:"h-6 w-6 text-red-400 mx-auto mb-2"}),s.jsx("div",{className:"font-medium text-sm",children:"Reject"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:" "})]}),s.jsxs("div",{className:"p-3 border rounded-lg text-center",children:[s.jsx(ts,{className:"h-6 w-6 text-red-600 mx-auto mb-2"}),s.jsx("div",{className:"font-medium text-sm",children:"Block"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:" "})]})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:"  "}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-muted-foreground",children:[s.jsxs("li",{children:["   ",s.jsx("span",{className:"font-medium text-foreground",children:""})]}),s.jsxs("li",{children:["  ",s.jsx("span",{className:"font-medium text-foreground",children:" "})]}),s.jsx("li",{children:"    "}),s.jsx("li",{children:"   (, Fraud Score  Proxy/VPN)"}),s.jsx("li",{children:"  Fraud Score     ( 60-80)"}),s.jsx("li",{children:"    (Block, Reject, Hold, Flag  Allow)"}),s.jsx("li",{children:"  (  =  )"}),s.jsxs("li",{children:[" ",s.jsx("span",{className:"font-medium text-foreground",children:" "})]})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:" "}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("div",{className:"font-medium text-blue-400 mb-2",children:""}),s.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Proxy/VPN, "}),s.jsx("li",{children:" Datacenter IP"}),s.jsx("li",{children:" GEO "}),s.jsx("li",{children:" Fingerprint"})]})]}),s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("div",{className:"font-medium text-purple-400 mb-2",children:"Velocity ()"}),s.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("li",{children:" IP/ (10)"}),s.jsx("li",{children:" IP/ (100)"}),s.jsx("li",{children:" IP/ (500)"}),s.jsx("li",{children:" Fingerprint/ (30)"}),s.jsx("li",{children:" Publisher/ (100)"})]})]}),s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("div",{className:"font-medium text-orange-400 mb-2",children:""}),s.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("li",{children:"  "}),s.jsx("li",{children:"  "}),s.jsx("li",{children:"  email/"}),s.jsx("li",{children:"  transaction_id"})]})]}),s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("div",{className:"font-medium text-red-400 mb-2",children:""}),s.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("li",{children:" CR  (>50%)"}),s.jsx("li",{children:" AR  (>30%)"}),s.jsx("li",{children:" - baseline"}),s.jsx("li",{children:"  50+ "})]})]})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:" "}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsx(J,{className:"border-green-500/30 bg-green-500/5",children:s.jsxs(ne,{className:"pt-4",children:[s.jsx("h5",{className:"font-medium text-green-600 mb-2",children:" "}),s.jsxs("ul",{className:"text-xs space-y-1 text-muted-foreground",children:[s.jsx("li",{children:" Fraud Score  80  Block"}),s.jsx("li",{children:" Bot Detection  Reject"}),s.jsx("li",{children:" Velocity IP/  10  Block"}),s.jsx("li",{children:"    Reject"})]})]})}),s.jsx(J,{className:"border-orange-500/30 bg-orange-500/5",children:s.jsxs(ne,{className:"pt-4",children:[s.jsx("h5",{className:"font-medium text-orange-600 mb-2",children:" "}),s.jsxs("ul",{className:"text-xs space-y-1 text-muted-foreground",children:[s.jsx("li",{children:" Fraud Score  60  Block"}),s.jsx("li",{children:" Proxy/VPN  Reject"}),s.jsx("li",{children:" Velocity IP/  50  Flag"}),s.jsx("li",{children:" CR   Hold"}),s.jsx("li",{children:" Datacenter IP  Reject"})]})]})}),s.jsx(J,{className:"border-red-500/30 bg-red-500/5",children:s.jsxs(ne,{className:"pt-4",children:[s.jsx("h5",{className:"font-medium text-red-600 mb-2",children:" "}),s.jsxs("ul",{className:"text-xs space-y-1 text-muted-foreground",children:[s.jsx("li",{children:" Fraud Score  50  Block"}),s.jsx("li",{children:"  velocity  Block"}),s.jsx("li",{children:" Proxy/VPN  Block"}),s.jsx("li",{children:"    Reject"}),s.jsx("li",{children:" GEO mismatch  Reject"})]})]})})]})]}),e==="advertiser"&&s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[s.jsxs("h5",{className:"font-medium text-blue-400 mb-2 flex items-center gap-2",children:[s.jsx(Fn,{className:"h-4 w-4"})," "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"    ,       .    (  )       ."})]})})]})]})})]})]})}var rYe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],sYe=rYe.reduce((e,t)=>{const n=C_(`Primitive.${t}`),r=j.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),aYe="Separator",PK="horizontal",iYe=["horizontal","vertical"],Toe=j.forwardRef((e,t)=>{const{decorative:n,orientation:r=PK,...a}=e,i=oYe(r)?r:PK,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(sYe.div,{"data-orientation":i,...l,...a,ref:t})});Toe.displayName=aYe;function oYe(e){return iYe.includes(e)}var Aoe=Toe;const rs=j.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>s.jsx(Aoe,{ref:a,decorative:n,orientation:t,className:Re("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));rs.displayName=Aoe.displayName;const Ou=j.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:Re("w-full caption-bottom text-sm",e),...t})}));Ou.displayName="Table";const Pu=j.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:Re("[&_tr]:border-b",e),...t}));Pu.displayName="TableHeader";const Mu=j.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:Re("[&_tr:last-child]:border-0",e),...t}));Mu.displayName="TableBody";const lYe=j.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:Re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));lYe.displayName="TableFooter";const Ra=j.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:Re("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ra.displayName="TableRow";const Ht=j.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:Re("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Ht.displayName="TableHead";const Kt=j.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:Re("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Kt.displayName="TableCell";const cYe=j.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:Re("mt-4 text-sm text-muted-foreground",e),...t}));cYe.displayName="TableCaption";const jO=[{id:"click",label:""},{id:"lead",label:""},{id:"sale",label:""},{id:"install",label:""},{id:"rejected",label:""},{id:"hold_released",label:"  "},{id:"payout_approved",label:" "},{id:"payout_paid",label:" "}];function dYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState({}),[o,l]=j.useState(null),[c,u]=j.useState({name:"",url:"",events:["lead","sale"],method:"POST"}),{data:f=[],isLoading:m}=Ne({queryKey:["/api/webhooks"]}),{data:p=[]}=Ne({queryKey:["/api/webhooks",o,"logs"],enabled:!!o,queryFn:async()=>{if(!o)return[];const C=await fetch(`/api/webhooks/${o}/logs`,{credentials:"include"});if(!C.ok)throw new Error("Failed to fetch logs");return C.json()}}),g=ve({mutationFn:async C=>{const S=await fetch("/api/webhooks",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(C)});if(!S.ok)throw new Error("Failed to create webhook");return S.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/webhooks"]}),r(!1),u({name:"",url:"",events:["lead","sale"],method:"POST"}),e({title:"Webhook "})},onError:()=>{e({title:"  webhook",variant:"destructive"})}}),v=ve({mutationFn:async C=>{if(!(await fetch(`/api/webhooks/${C}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete webhook")},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/webhooks"]}),e({title:"Webhook "})}}),y=ve({mutationFn:async({id:C,isActive:S})=>{if(!(await fetch(`/api/webhooks/${C}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({isActive:S})})).ok)throw new Error("Failed to update webhook")},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/webhooks"]})}}),w=ve({mutationFn:async C=>{const S=await fetch(`/api/webhooks/${C}/test`,{method:"POST",credentials:"include"});if(!S.ok)throw new Error("Failed to test webhook");return S.json()},onSuccess:C=>{C.success?e({title:" ",description:`HTTP ${C.statusCode}`}):e({title:"  ",description:C.error||`HTTP ${C.statusCode}`,variant:"destructive"})}}),N=ve({mutationFn:async C=>{const S=await fetch(`/api/webhooks/${C}/regenerate-secret`,{method:"POST",credentials:"include"});if(!S.ok)throw new Error("Failed to regenerate secret");return S.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/webhooks"]}),e({title:" "})}}),A=C=>{navigator.clipboard.writeText(C),e({title:""})},T=C=>{u(S=>({...S,events:S.events.includes(C)?S.events.filter(E=>E!==C):[...S.events,C]}))};return m?s.jsx("div",{className:"p-6 text-muted-foreground",children:"..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-webhooks-title",children:"Webhooks"}),s.jsx("p",{className:"text-muted-foreground",children:"      "})]}),s.jsxs(Wt,{open:n,onOpenChange:r,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{"data-testid":"button-create-webhook",children:[s.jsx(fr,{className:"w-4 h-4 mr-2"})," Webhook"]})}),s.jsxs(zt,{className:"sm:max-w-lg",children:[s.jsxs(qt,{children:[s.jsx(Ut,{children:" Webhook"}),s.jsx(ao,{children:" URL     "})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"name",children:""}),s.jsx(le,{id:"name",value:c.name,onChange:C=>u(S=>({...S,name:C.target.value})),placeholder:" Webhook","data-testid":"input-webhook-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"url",children:"URL"}),s.jsx(le,{id:"url",value:c.url,onChange:C=>u(S=>({...S,url:C.target.value})),placeholder:"https://example.com/webhook","data-testid":"input-webhook-url"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:jO.map(C=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($l,{id:`event-${C.id}`,checked:c.events.includes(C.id),onCheckedChange:()=>T(C.id),"data-testid":`checkbox-event-${C.id}`}),s.jsx("label",{htmlFor:`event-${C.id}`,className:"text-sm",children:C.label})]},C.id))})]})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:()=>r(!1),children:""}),s.jsx(U,{onClick:()=>g.mutate(c),disabled:!c.name||!c.url||c.events.length===0,"data-testid":"button-save-webhook",children:""})]})]})]})]}),f.length===0?s.jsx(J,{children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"    webhooks"}),s.jsxs(U,{variant:"outline",onClick:()=>r(!0),children:[s.jsx(fr,{className:"w-4 h-4 mr-2"}),"  webhook"]})]})}):s.jsx(CP,{type:"single",collapsible:!0,className:"space-y-2",children:f.map(C=>s.jsxs(B0,{value:C.id,className:"border rounded-lg bg-card",children:[s.jsx(z0,{className:"px-4 hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-4 w-full",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vr,{checked:C.isActive,onCheckedChange:S=>y.mutate({id:C.id,isActive:S}),onClick:S=>S.stopPropagation(),"data-testid":`switch-webhook-${C.id}`}),s.jsx("span",{className:"font-medium",children:C.name})]}),s.jsxs("div",{className:"flex gap-1 ml-auto mr-4",children:[C.events.slice(0,3).map(S=>s.jsx(ye,{variant:"secondary",className:"text-xs",children:jO.find(E=>E.id===S)?.label||S},S)),C.events.length>3&&s.jsxs(ye,{variant:"secondary",className:"text-xs",children:["+",C.events.length-3]})]}),C.lastError&&s.jsx(Ui,{className:"w-4 h-4 text-destructive"})]})}),s.jsx(q0,{className:"px-4 pb-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:"URL"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("code",{className:"flex-1 text-sm bg-muted px-2 py-1 rounded truncate",children:C.url}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>A(C.url),children:s.jsx(Yn,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:" "}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("code",{className:"flex-1 text-sm bg-muted px-2 py-1 rounded truncate",children:a[C.id]?C.secret:""}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>i(S=>({...S,[C.id]:!S[C.id]})),children:a[C.id]?s.jsx(ca,{className:"w-4 h-4"}):s.jsx(ur,{className:"w-4 h-4"})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>A(C.secret),children:s.jsx(Yn,{className:"w-4 h-4"})})]})]})]}),C.lastError&&s.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/30 rounded text-sm text-destructive",children:[s.jsx("strong",{children:" :"})," ",C.lastError,s.jsxs("span",{className:"ml-2 text-muted-foreground",children:["( ",C.failedAttempts,")"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>w.mutate(C.id),disabled:w.isPending,"data-testid":`button-test-webhook-${C.id}`,children:[s.jsx(Zme,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>N.mutate(C.id),"data-testid":`button-regenerate-${C.id}`,children:[s.jsx(Br,{className:"w-4 h-4 mr-2"})," "]}),s.jsx(U,{variant:"outline",size:"sm",onClick:()=>l(o===C.id?null:C.id),children:""}),s.jsx(U,{variant:"destructive",size:"sm",onClick:()=>v.mutate(C.id),"data-testid":`button-delete-webhook-${C.id}`,children:s.jsx(Os,{className:"w-4 h-4"})})]}),o===C.id&&p.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx(te,{className:"text-xs text-muted-foreground mb-2 block",children:" "}),s.jsxs(Ou,{children:[s.jsx(Pu,{children:s.jsxs(Ra,{children:[s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:"HTTP"}),s.jsx(Ht,{children:""})]})}),s.jsx(Mu,{children:p.slice(0,10).map(S=>s.jsxs(Ra,{children:[s.jsx(Kt,{children:s.jsx(ye,{variant:"outline",children:jO.find(E=>E.id===S.eventType)?.label||S.eventType})}),s.jsx(Kt,{children:S.status==="success"?s.jsx(bt,{className:"w-4 h-4 text-green-500"}):s.jsx(Xn,{className:"w-4 h-4 text-red-500"})}),s.jsx(Kt,{children:S.statusCode||"-"}),s.jsx(Kt,{className:"text-muted-foreground",children:Oy(new Date(S.createdAt),{addSuffix:!0,locale:Si})})]},S.id))})]})]})]})})]},C.id))}),s.jsxs(J,{className:"bg-muted/50",children:[s.jsxs(Pe,{children:[s.jsx(Ie,{className:"text-sm",children:" "}),s.jsx(et,{children:"     HMAC-SHA256"})]}),s.jsx(ne,{children:s.jsx("pre",{className:"text-xs bg-background p-4 rounded overflow-x-auto",children:`//    (Node.js)
const crypto = require('crypto');

function verifySignature(payload, signature, secret) {
  const expected = crypto
    .createHmac('sha256', secret)
    .update(payload)
    .digest('hex');
  return signature === expected;
}

//   webhook:
const signature = req.headers['x-webhook-signature'];
const isValid = verifySignature(req.body, signature, YOUR_SECRET);`})})]})]})}function uYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState({domain:""}),{data:c=[],isLoading:u}=Ne({queryKey:["/api/domains"]}),f=ve({mutationFn:async S=>{const E=await fetch("/api/domains",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(S)});if(!E.ok){const O=await E.json();throw new Error(O.message||"Failed to add domain")}return E.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/domains"]}),r(!1),l({domain:""}),e({title:" ",description:" DNS   "})},onError:S=>{e({title:"",description:S.message,variant:"destructive"})}}),m=ve({mutationFn:async S=>{if(!(await fetch(`/api/domains/${S}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete domain")},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/domains"]}),e({title:" "})}}),p=ve({mutationFn:async S=>{const E=await fetch(`/api/domains/${S}/verify`,{method:"POST",credentials:"include"});if(!E.ok){const O=await E.json();throw new Error(O.message||"Verification failed")}return E.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/domains"]}),e({title:" ",description:"SSL   "})},onError:S=>{e({title:"  ",description:S.message,variant:"destructive"})}}),g=ve({mutationFn:async S=>{const E=await fetch(`/api/domains/${S}/set-primary`,{method:"POST",credentials:"include"});if(!E.ok)throw new Error("Failed to set primary");return E.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/domains"]}),e({title:"  "})}}),v=ve({mutationFn:async S=>{const E=await fetch(`/api/domains/${S}/sync`,{method:"POST",credentials:"include"});if(!E.ok){const O=await E.json();throw new Error(O.message||"Sync failed")}return E.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/domains"]}),e({title:" "})},onError:S=>{e({title:" ",description:S.message,variant:"destructive"})}}),y=ve({mutationFn:async S=>{const E=await fetch(`/api/domains/${S}/reprovision`,{method:"POST",credentials:"include"});if(!E.ok){const O=await E.json();throw new Error(O.message||"Reprovision failed")}return E.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/domains"]}),e({title:" ",description:"  SSL"})},onError:S=>{e({title:" ",description:S.message,variant:"destructive"})}}),w=ve({mutationFn:async S=>{const E=await fetch(`/api/domains/${S}/check-ssl`,{method:"POST",credentials:"include"});if(!E.ok){const O=await E.json();throw new Error(O.message||"SSL check failed")}return E.json()},onSuccess:S=>{t.invalidateQueries({queryKey:["/api/domains"]}),S.sslCheck?.success?e({title:"SSL ",description:"   "}):e({title:"SSL  ",description:S.sslCheck?.error||"   "})},onError:S=>{e({title:"  SSL",description:S.message,variant:"destructive"})}}),N=ve({mutationFn:async({id:S,useForTracking:E})=>{const O=await fetch(`/api/domains/${S}/use-for-tracking`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({useForTracking:E})});if(!O.ok)throw new Error("Failed to update");return O.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/domains"]}),e({title:" "})}}),A=S=>{navigator.clipboard.writeText(S),e({title:""})},T=(S,E)=>{switch(S){case"ssl_active":case"active":return s.jsxs(ye,{variant:"default",className:"bg-green-500/20 text-green-400 border-green-500/30",children:[s.jsx(Fn,{className:"w-3 h-3 mr-1"}),"SSL "]});case"ssl_activating":return s.jsxs(ye,{variant:"secondary",className:"bg-blue-500/10 text-blue-400 border-blue-500/30",children:[s.jsx(Yt,{className:"w-3 h-3 mr-1 animate-spin"}),"SSL ..."]});case"verified_no_ssl":case"pending_external":return s.jsxs(ye,{variant:"outline",className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/30",children:[s.jsx(Yt,{className:"w-3 h-3 mr-1"}),"SSL  "]});case"ssl_failed":case"failed":return s.jsxs(ye,{variant:"destructive",children:[s.jsx(Xn,{className:"w-3 h-3 mr-1"}),"SSL "]});default:return s.jsxs(ye,{variant:"outline",children:[s.jsx(Yt,{className:"w-3 h-3 mr-1"}),""]})}},C=S=>S.sslStatus==="ssl_active"||S.sslStatus==="active"?s.jsxs(ye,{variant:"default",className:"bg-green-500/20 text-green-400 border-green-500/30",children:[s.jsx(bt,{className:"w-3 h-3 mr-1"}),"SSL "]}):S.isVerified?s.jsxs(ye,{variant:"secondary",className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/30",children:[s.jsx(Br,{className:"w-3 h-3 mr-1 animate-spin"}),"SSL "]}):S.sslStatus==="ssl_failed"||S.sslStatus==="failed"?s.jsxs(ye,{variant:"destructive",children:[s.jsx(Xn,{className:"w-3 h-3 mr-1"})," SSL"]}):s.jsxs(ye,{variant:"secondary",className:"bg-blue-500/10 text-blue-400 border-blue-500/30",children:[s.jsx(Yt,{className:"w-3 h-3 mr-1"})," DNS"]});return u?s.jsx("div",{className:"p-6 text-muted-foreground",children:"..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-domains-title",children:" "}),s.jsx("p",{className:"text-muted-foreground",children:"    -"})]}),s.jsxs(Wt,{open:n,onOpenChange:r,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{"data-testid":"button-add-domain",children:[s.jsx(fr,{className:"w-4 h-4 mr-2"})," "]})}),s.jsxs(zt,{className:"sm:max-w-lg",children:[s.jsxs(qt,{children:[s.jsx(Ut,{children:" "}),s.jsx(ao,{children:"   -"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"domain",children:""}),s.jsx(le,{id:"domain",value:o.domain,onChange:S=>l(E=>({...E,domain:S.target.value})),placeholder:"tracking.example.com","data-testid":"input-domain"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  , : track.yourdomain.com"})]}),s.jsxs("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg space-y-3",children:[s.jsx("p",{className:"text-sm font-medium text-blue-400",children:"  (self-service)"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.jsx("strong",{children:" 1:"}),"  "]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.jsx("strong",{children:" 2:"}),"  CNAME    (target  )"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.jsx("strong",{children:" 3:"}),'  " DNS"  SSL  ']})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:" DNS   1-5 "})]})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:()=>r(!1),children:""}),s.jsx(U,{onClick:()=>f.mutate(o),disabled:!o.domain||f.isPending,"data-testid":"button-save-domain",children:""})]})]})]})]}),c.length===0?s.jsx(J,{children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(jn,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"     "}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"  ,  -     "}),s.jsxs(U,{variant:"outline",onClick:()=>r(!0),children:[s.jsx(fr,{className:"w-4 h-4 mr-2"}),"  "]})]})}):s.jsx("div",{className:"space-y-4",children:c.map(S=>s.jsxs(J,{className:S.isPrimary?"border-primary":"",children:[s.jsx(Pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[S.isPrimary&&s.jsx($O,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),s.jsx(Ie,{className:"text-lg font-mono",children:S.domain}),S.isVerified?s.jsxs(ye,{variant:"default",className:"bg-green-500/20 text-green-400",children:[s.jsx(bt,{className:"w-3 h-3 mr-1"}),""]}):s.jsxs(ye,{variant:"secondary",children:[s.jsx(Ui,{className:"w-3 h-3 mr-1"})," "]}),S.isVerified&&T(S.sslStatus,S.sslExpiresAt)]}),s.jsxs("div",{className:"flex gap-2",children:[S.isVerified&&!S.isPrimary&&s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>g.mutate(S.id),"data-testid":`button-set-primary-${S.id}`,children:[s.jsx($O,{className:"w-4 h-4 mr-2"}),""]}),s.jsx(U,{variant:"destructive",size:"sm",onClick:()=>m.mutate(S.id),"data-testid":`button-delete-domain-${S.id}`,children:s.jsx(Os,{className:"w-4 h-4"})})]})]})}),s.jsxs(ne,{children:[C(S),S.requestStatus==="rejected"&&S.rejectionReason&&s.jsxs("div",{className:"mt-2 p-3 bg-destructive/10 border border-destructive/30 rounded text-sm text-destructive",children:[s.jsx("strong",{children:" :"})," ",S.rejectionReason]}),!S.isVerified&&s.jsxs("div",{className:"space-y-3 mt-4",children:[s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:" CNAME   :"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"text-xs text-muted-foreground",children:S.domain}),s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("code",{className:"flex-1 bg-muted px-2 py-1 rounded font-mono text-xs",children:S.dnsTarget||"(...)"}),S.dnsTarget&&s.jsx(U,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>A(S.dnsTarget),children:s.jsx(Yn,{className:"w-3 h-3"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:'  DNS  1-5    " DNS"'})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{onClick:()=>p.mutate(S.id),disabled:p.isPending,"data-testid":`button-verify-dns-${S.id}`,children:[s.jsx(Br,{className:`w-4 h-4 mr-2 ${p.isPending?"animate-spin":""}`})," DNS"]}),s.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>i(!0),children:[s.jsx(Sl,{className:"w-4 h-4 mr-1"}),""]})]}),S.lastError&&s.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/30 rounded text-sm text-destructive",children:S.lastError})]}),S.isVerified&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[S.useForTracking?s.jsx(JM,{className:"w-4 h-4 text-green-500"}):s.jsx(Fn,{className:"w-4 h-4 text-blue-500"}),s.jsxs("div",{children:[s.jsx(te,{className:"text-sm font-medium",children:S.useForTracking?" -":"   "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:S.useForTracking?"      ":"     (white-label)"})]})]}),s.jsx(vr,{checked:S.useForTracking??!0,onCheckedChange:E=>N.mutate({id:S.id,useForTracking:E}),"data-testid":`switch-tracking-${S.id}`})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:S.useForTracking?" -":"   "}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("code",{className:"flex-1 text-sm bg-muted px-2 py-1 rounded truncate",children:S.useForTracking?`https://${S.domain}/click/offer-id/landing-id`:`https://${S.domain}/login`}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>A(S.useForTracking?`https://${S.domain}/click/offer-id/landing-id`:`https://${S.domain}/login`),children:s.jsx(Yn,{className:"w-4 h-4"})})]})]}),S.sslExpiresAt&&s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:"SSL "}),s.jsx("p",{className:"text-sm mt-1",children:Eu(new Date(S.sslExpiresAt),"d MMMM yyyy",{locale:Si})})]})]}),S.sslStatus!=="ssl_active"&&S.sslStatus!=="active"&&s.jsxs("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-400",children:"SSL  "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  1-5 .     ."})]}),s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>w.mutate(S.id),disabled:w.isPending,"data-testid":`button-check-ssl-${S.id}`,children:[s.jsx(Br,{className:`w-4 h-4 mr-2 ${w.isPending?"animate-spin":""}`})," SSL"]})]}),s.jsxs("div",{className:"flex gap-2",children:[S.cloudflareHostnameId&&(S.sslStatus==="ssl_active"||S.sslStatus==="active")&&s.jsxs(U,{variant:"outline",onClick:()=>v.mutate(S.id),disabled:v.isPending,"data-testid":`button-sync-${S.id}`,children:[s.jsx(Br,{className:`w-4 h-4 mr-2 ${v.isPending?"animate-spin":""}`}),""]}),(S.sslStatus==="ssl_failed"||S.sslStatus==="failed")&&s.jsxs(U,{variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-500/10",onClick:()=>y.mutate(S.id),disabled:y.isPending,"data-testid":`button-reprovision-${S.id}`,children:[s.jsx(Br,{className:`w-4 h-4 mr-2 ${y.isPending?"animate-spin":""}`}),""]})]}),S.cloudflareHostnameId&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Cloudflare: ",S.cloudflareStatus||"pending"," | SSL: ",S.cloudflareSslStatus||"pending"]}),S.lastError&&s.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/30 rounded text-sm text-destructive",children:S.lastError})]})]})]},S.id))}),s.jsx(Wt,{open:a,onOpenChange:i,children:s.jsxs(zt,{className:"max-w-lg",children:[s.jsxs(qt,{children:[s.jsx(Ut,{children:"   "}),s.jsx(ao,{children:"Self-service    3 "})]}),s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs font-bold shrink-0",children:"1"}),s.jsx("p",{children:'     " "'})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs font-bold shrink-0",children:"2"}),s.jsxs("div",{children:[s.jsx("p",{children:" CNAME    :"}),s.jsx("div",{className:"mt-2 p-2 bg-muted rounded",children:s.jsx("code",{className:"text-xs",children:"-.com  CNAME target (   )"})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"   1-5 "})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs font-bold shrink-0",children:"3"}),s.jsx("p",{children:' " DNS"     SSL-'})]})]}),s.jsxs("div",{className:"p-3 bg-green-500/10 border border-green-500/20 rounded-lg",children:[s.jsx("p",{className:"font-medium text-green-400 mb-2",children:" "}),s.jsxs("div",{className:"space-y-2 text-muted-foreground text-xs",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-green-400",children:" -"}),"       (: trk.brand.com)"]}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-blue-400",children:"  "}),"          (: partners.brand.com)"]})]})]}),s.jsxs("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[s.jsx("p",{className:"font-medium text-blue-400 mb-2",children:" "}),s.jsx("p",{className:"text-muted-foreground text-xs",children:'      ""     .         white-label.'})]})]}),s.jsx(Ks,{children:s.jsx(U,{onClick:()=>i(!1),children:""})})]})}),s.jsxs(U,{variant:"outline",onClick:()=>i(!0),className:"w-full","data-testid":"button-help",children:[s.jsx(Sl,{className:"w-4 h-4 mr-2"}),"  "]})]})}function Eoe(){const[e,t]=j.useState(""),[n,r]=j.useState(null),{data:a=[],isLoading:i}=Ne({queryKey:["/api/test/e2e/offers"]}),o=ve({mutationFn:async c=>(await Be("POST","/api/test/e2e",{offerId:c})).json(),onSuccess:c=>{r(c)},onError:c=>{r({timestamp:new Date().toISOString(),offerId:e,offerName:"",steps:[],success:!1,summary:`Error: ${c.message}`})}}),l=()=>{e&&(r(null),o.mutate(e))};return s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(s_,{className:"h-5 w-5"}),"E2E "]}),s.jsx(et,{children:"  :      (  )"})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4 items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"   "}),s.jsxs(ht,{value:e,onValueChange:t,children:[s.jsx(dt,{"data-testid":"select-e2e-offer",children:s.jsx(mt,{placeholder:i?"...":" "})}),s.jsx(ut,{children:a.map(c=>s.jsxs(ke,{value:c.id.toString(),children:[c.name," ($",c.payoutAmount,")"]},c.id))})]})]}),s.jsx(U,{onClick:l,disabled:!e||o.isPending,"data-testid":"button-run-e2e-test",children:o.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Kc,{className:"h-4 w-4 mr-2"})," "]})})]}),a.length===0&&!i&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground p-4 border rounded-lg",children:[s.jsx(Kn,{className:"h-4 w-4"}),s.jsx("span",{children:"    .     ."})]}),n&&s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsxs("div",{className:`p-4 rounded-lg ${n.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"} border`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.success?s.jsx(Vs,{className:"h-5 w-5 text-green-600"}):s.jsx(ts,{className:"h-5 w-5 text-red-600"}),s.jsx("span",{className:`font-semibold ${n.success?"text-green-700":"text-red-700"}`,children:n.success?" ":"  "})]}),s.jsx("p",{className:`text-sm ${n.success?"text-green-600":"text-red-600"}`,children:n.summary})]}),s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-muted px-4 py-2 border-b",children:[s.jsx("span",{className:"font-medium",children:" "}),s.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:[n.offerName,"  ",new Date(n.timestamp).toLocaleString()]})]}),s.jsx("div",{className:"divide-y",children:n.steps.map(c=>s.jsxs("div",{className:"px-4 py-3 flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:c.status==="passed"?s.jsx(Vs,{className:"h-4 w-4 text-green-500"}):s.jsx(ts,{className:"h-4 w-4 text-red-500"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ye,{variant:"outline",className:"text-xs",children:[" ",c.step]}),s.jsx("span",{className:"font-medium",children:c.name})]}),c.data&&s.jsx("div",{className:"mt-1 text-xs text-muted-foreground font-mono bg-muted/50 p-2 rounded",children:Object.entries(c.data).map(([u,f])=>s.jsxs("div",{children:[s.jsxs("span",{className:"text-foreground",children:[u,":"]})," ",JSON.stringify(f)]},u))}),c.error&&s.jsx("div",{className:"mt-1 text-xs text-red-600",children:c.error})]})]},c.step))})]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-4 p-3 bg-muted/50 rounded-lg",children:[s.jsx("strong",{children:"  :"}),s.jsxs("ol",{className:"list-decimal list-inside mt-1 space-y-1",children:[s.jsx("li",{children:"     "}),s.jsx("li",{children:"  "}),s.jsx("li",{children:"    ( )"}),s.jsx("li",{children:"  "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"  "})]}),s.jsx("p",{className:"mt-2 text-green-600 font-medium",children:" :    "})]})]})]})}const wO={name:"",brand:"",contact:"",chatLink:"",siteName:"",login:"",password:"",siteUrl:""};function fYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState(null),[o,l]=j.useState(wO),[c,u]=j.useState(!1),{data:f=[],isLoading:m}=Ne({queryKey:["/api/advertiser/sources"]}),p=ve({mutationFn:S=>Be("POST","/api/advertiser/sources",S),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/advertiser/sources"]}),e({title:" "}),N()},onError:()=>{e({title:"",description:"   ",variant:"destructive"})}}),g=ve({mutationFn:({id:S,data:E})=>Be("PUT",`/api/advertiser/sources/${S}`,E),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/advertiser/sources"]}),e({title:" "}),N()},onError:()=>{e({title:"",description:"   ",variant:"destructive"})}}),v=ve({mutationFn:S=>Be("DELETE",`/api/advertiser/sources/${S}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/advertiser/sources"]}),e({title:" "})},onError:()=>{e({title:"",description:"   ",variant:"destructive"})}}),y=()=>{i(null),l(wO),u(!1),r(!0)},w=S=>{i(S),l({name:S.name,brand:S.brand||"",contact:S.contact||"",chatLink:S.chatLink||"",siteName:S.siteName||"",login:S.login||"",password:"",siteUrl:S.siteUrl||""}),u(!1),r(!0)},N=()=>{r(!1),i(null),l(wO)},A=S=>{if(S.preventDefault(),!o.name.trim()){e({title:"",description:" ",variant:"destructive"});return}if(a){const E={...o};E.password||delete E.password,g.mutate({id:a.id,data:E})}else p.mutate(o)},T=S=>{confirm(`  "${S.name}"?`)&&v.mutate(S.id)},C=p.isPending||g.isPending;return s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(er,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"-,   "})]}),s.jsxs(Wt,{open:n,onOpenChange:r,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{onClick:y,"data-testid":"button-add-source",children:[s.jsx(fr,{className:"h-4 w-4 mr-2"}),""]})}),s.jsxs(zt,{className:"max-w-md",children:[s.jsx(qt,{children:s.jsx(Ut,{children:a?" ":" "})}),s.jsxs("form",{onSubmit:A,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(te,{htmlFor:"name",children:" *"}),s.jsx(le,{id:"name",value:o.name,onChange:S=>l({...o,name:S.target.value}),placeholder:"Royal Partners","data-testid":"input-source-name"})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"brand",children:""}),s.jsx(le,{id:"brand",value:o.brand,onChange:S=>l({...o,brand:S.target.value}),placeholder:"888casino","data-testid":"input-source-brand"})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"contact",children:""}),s.jsx(le,{id:"contact",value:o.contact,onChange:S=>l({...o,contact:S.target.value}),placeholder:"manager@example.com","data-testid":"input-source-contact"})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"chatLink",children:"  "}),s.jsx(le,{id:"chatLink",value:o.chatLink,onChange:S=>l({...o,chatLink:S.target.value}),placeholder:"https://t.me/manager","data-testid":"input-source-chat"})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"siteName",children:" "}),s.jsx(le,{id:"siteName",value:o.siteName,onChange:S=>l({...o,siteName:S.target.value}),placeholder:"Royal Partners","data-testid":"input-source-sitename"})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"siteUrl",children:"  "}),s.jsx(le,{id:"siteUrl",value:o.siteUrl,onChange:S=>l({...o,siteUrl:S.target.value}),placeholder:"https://royal.partners","data-testid":"input-source-siteurl"})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"login",children:""}),s.jsx(le,{id:"login",value:o.login,onChange:S=>l({...o,login:S.target.value}),placeholder:"mylogin","data-testid":"input-source-login"})]}),s.jsxs("div",{children:[s.jsxs(te,{htmlFor:"password",children:[" ",a?.hasPassword&&"(   )"]}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"password",type:c?"text":"password",value:o.password,onChange:S=>l({...o,password:S.target.value}),placeholder:"","data-testid":"input-source-password"}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:()=>u(!c),"data-testid":"button-toggle-password",children:c?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(U,{type:"button",variant:"outline",onClick:N,"data-testid":"button-cancel-source",children:""}),s.jsxs(U,{type:"submit",disabled:C,"data-testid":"button-save-source",children:[C&&s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}),a?"":""]})]})]})]})]})]})}),s.jsx(ne,{children:m?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"h-6 w-6 animate-spin"})}):f.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:" .    ."}):s.jsxs(Ou,{children:[s.jsx(Pu,{children:s.jsxs(Ra,{children:[s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{className:"w-[100px]",children:""})]})}),s.jsx(Mu,{children:f.map(S=>s.jsxs(Ra,{"data-testid":`row-source-${S.id}`,children:[s.jsx(Kt,{className:"font-medium",children:S.name}),s.jsx(Kt,{children:S.brand||"-"}),s.jsx(Kt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[S.contact||"-",S.chatLink&&s.jsx("a",{href:S.chatLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700","data-testid":`link-chat-${S.id}`,children:s.jsx(Vw,{className:"h-4 w-4"})})]})}),s.jsx(Kt,{children:S.siteUrl?s.jsxs("a",{href:S.siteUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-blue-500 hover:text-blue-700","data-testid":`link-site-${S.id}`,children:[S.siteName||"",s.jsx(ph,{className:"h-3 w-3"})]}):S.siteName||"-"}),s.jsxs(Kt,{children:[S.login||"-",S.hasPassword&&s.jsx("span",{className:"ml-1 text-green-500",children:""})]}),s.jsx(Kt,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>w(S),"data-testid":`button-edit-source-${S.id}`,children:s.jsx(WW,{className:"h-4 w-4"})}),s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>T(S),className:"text-red-500 hover:text-red-700","data-testid":`button-delete-source-${S.id}`,children:s.jsx(Os,{className:"h-4 w-4"})})]})})]},S.id))})]})})]})}function hYe(){const{t:e}=as();Dt(),rt();const[t,n]=j.useState("profile");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-settings-title",children:""}),s.jsx("p",{className:"text-muted-foreground",children:" ,   "})]}),s.jsxs(uo,{value:t,onValueChange:n,className:"space-y-6",children:[s.jsx("div",{className:"overflow-x-auto -mx-2 px-2 pb-2",children:s.jsxs(ki,{className:"inline-flex w-auto min-w-full md:grid md:w-full md:grid-cols-10 gap-1",children:[s.jsxs(lt,{value:"profile",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-blue-500 data-[state=active]:text-white","data-testid":"tab-profile",children:[s.jsx(Or,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"subscription",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-yellow-500 data-[state=active]:text-white","data-testid":"tab-subscription",children:[s.jsx(On,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"security",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-red-500 data-[state=active]:text-white","data-testid":"tab-security",children:[s.jsx(ns,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"whitelabel",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-purple-500 data-[state=active]:text-white","data-testid":"tab-whitelabel",children:[s.jsx(t_,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"White-label"})]}),s.jsxs(lt,{value:"domains",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-indigo-500 data-[state=active]:text-white","data-testid":"tab-domains",children:[s.jsx(jn,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"notifications",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-amber-500 data-[state=active]:text-white","data-testid":"tab-notifications",children:[s.jsx(_o,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"webhooks",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-teal-500 data-[state=active]:text-white","data-testid":"tab-webhooks",children:[s.jsx(a_,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Webhooks"})]}),s.jsxs(lt,{value:"testing",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-cyan-500 data-[state=active]:text-white","data-testid":"tab-testing",children:[s.jsx(s_,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"migration",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-emerald-500 data-[state=active]:text-white","data-testid":"tab-migration",children:[s.jsx(qx,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"sources",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-orange-500 data-[state=active]:text-white","data-testid":"tab-sources",children:[s.jsx(er,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]})]})}),s.jsx(ct,{value:"profile",children:s.jsx(mYe,{})}),s.jsx(ct,{value:"subscription",children:s.jsx(vYe,{})}),s.jsx(ct,{value:"security",children:s.jsx(pYe,{})}),s.jsx(ct,{value:"whitelabel",children:s.jsx(xYe,{})}),s.jsx(ct,{value:"domains",children:s.jsx(uYe,{})}),s.jsx(ct,{value:"notifications",children:s.jsx(gYe,{})}),s.jsx(ct,{value:"webhooks",children:s.jsx(bYe,{})}),s.jsx(ct,{value:"testing",children:s.jsx(Eoe,{})}),s.jsx(ct,{value:"migration",children:s.jsx(yYe,{})}),s.jsx(ct,{value:"sources",children:s.jsx(fYe,{})})]})]})}function mYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState({companyName:"",email:"",phone:"",telegram:"",logoUrl:""}),{data:a,isLoading:i}=Ne({queryKey:["/api/user"]});j.useEffect(()=>{a&&r({companyName:a.companyName||"",email:a.email||"",phone:a.phone||"",telegram:a.telegram||"",logoUrl:a.logoUrl||""})},[a]);const o=ve({mutationFn:l=>Be("PATCH","/api/user/profile",l),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),e({title:" "})},onError:l=>{e({title:"",description:l.message,variant:"destructive"})}});return i?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin"})}):s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"   ,  "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"companyName",children:" "}),s.jsx(le,{id:"companyName","data-testid":"input-company-name",value:n.companyName,onChange:l=>r({...n,companyName:l.target.value}),placeholder:" "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"email",children:"Email"}),s.jsx(le,{id:"email",type:"email","data-testid":"input-email",value:n.email,onChange:l=>r({...n,email:l.target.value}),placeholder:"contact@company.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"phone",children:""}),s.jsx(le,{id:"phone","data-testid":"input-phone",value:n.phone,onChange:l=>r({...n,phone:l.target.value}),placeholder:"+7 999 123-45-67"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"telegram",children:"Telegram"}),s.jsx(le,{id:"telegram","data-testid":"input-telegram",value:n.telegram,onChange:l=>r({...n,telegram:l.target.value}),placeholder:"@username"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"logoUrl",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{id:"logoUrl","data-testid":"input-logo-url",value:n.logoUrl,onChange:l=>r({...n,logoUrl:l.target.value}),placeholder:"https://example.com/logo.png",className:"flex-1"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer","data-testid":"input-logo-file",onChange:async l=>{const c=l.target.files?.[0];if(c)try{const u=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:c.name,size:c.size,contentType:c.type})}),{uploadURL:f,objectPath:m}=await u.json();await fetch(f,{method:"PUT",body:c,headers:{"Content-Type":c.type}});const p=window.location.origin+m;r({...n,logoUrl:p})}catch(u){console.error("Upload failed:",u)}}}),s.jsxs(U,{type:"button",variant:"outline",size:"sm",className:"pointer-events-none",children:[s.jsx(du,{className:"w-4 h-4 mr-1"}),""]})]})]}),n.logoUrl&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:n.logoUrl,alt:"Logo preview",className:"h-16 w-16 object-contain border rounded"})})]}),s.jsxs(U,{onClick:()=>o.mutate(n),disabled:o.isPending,"data-testid":"button-save-profile",children:[o.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"}),""]})]})]})}function pYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,u]=j.useState(!1),[f,m]=j.useState(""),[p,g]=j.useState(""),[v,y]=j.useState(""),[w,N]=j.useState(""),{data:A}=Ne({queryKey:["/api/user"]}),T=ve({mutationFn:M=>Be("PATCH","/api/user/password",M),onSuccess:()=>{l({currentPassword:"",newPassword:"",confirmPassword:""}),e({title:" "})},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),C=ve({mutationFn:async()=>(await Be("POST","/api/user/2fa/setup",{})).json(),onSuccess:M=>{m(M.secret),g(M.qrCode),u(!0)},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),S=ve({mutationFn:M=>Be("POST","/api/user/2fa/enable",M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),u(!1),m(""),g(""),y(""),e({title:"2FA ",description:"   "})},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),E=ve({mutationFn:M=>Be("POST","/api/user/2fa/disable",{token:M}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),N(""),u(!1),m(""),g(""),e({title:"2FA "})},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),O=()=>{if(o.newPassword!==o.confirmPassword){e({title:"",description:"  ",variant:"destructive"});return}if(o.newPassword.length<6){e({title:"",description:"     6 ",variant:"destructive"});return}T.mutate({currentPassword:o.currentPassword,newPassword:o.newPassword})},_=()=>{if(v.length!==6){e({title:"",description:" 6- ",variant:"destructive"});return}S.mutate({secret:f,token:v})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(ns,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"     "})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"currentPassword",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"currentPassword",type:n?"text":"password","data-testid":"input-current-password",value:o.currentPassword,onChange:M=>l({...o,currentPassword:M.target.value})}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>r(!n),children:n?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"newPassword",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"newPassword",type:a?"text":"password","data-testid":"input-new-password",value:o.newPassword,onChange:M=>l({...o,newPassword:M.target.value})}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>i(!a),children:a?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"confirmPassword",children:" "}),s.jsx(le,{id:"confirmPassword",type:"password","data-testid":"input-confirm-password",value:o.confirmPassword,onChange:M=>l({...o,confirmPassword:M.target.value})})]}),s.jsxs(U,{onClick:O,disabled:T.isPending,"data-testid":"button-change-password",children:[T.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Da,{className:"h-4 w-4 mr-2"})," "]})]})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5"}),"  (2FA)"]}),s.jsx(et,{children:"      TOTP"})]}),s.jsx(ne,{className:"space-y-4",children:A?.twoFactorEnabled?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-lg flex items-center gap-3",children:[s.jsx(Vs,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"text-sm",children:"2FA .   ."})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(te,{children:"     "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{placeholder:"000000",value:w,onChange:M=>N(M.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"w-32 text-center font-mono text-lg","data-testid":"input-disable-2fa-code"}),s.jsx(U,{variant:"destructive",onClick:()=>E.mutate(w),disabled:E.isPending||w.length!==6,"data-testid":"button-disable-2fa",children:E.isPending?s.jsx(we,{className:"h-4 w-4 animate-spin"}):" 2FA"})]})]})]}):c?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:" QR-   Google Authenticator     "}),p&&s.jsx("img",{src:p,alt:"QR Code",className:"mx-auto border rounded-lg","data-testid":"img-qr-code"}),s.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:"  (  )"}),s.jsx("p",{className:"font-mono text-sm select-all","data-testid":"text-totp-secret",children:f})]})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" 6-   "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{placeholder:"000000",value:v,onChange:M=>y(M.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"w-32 text-center font-mono text-lg","data-testid":"input-verification-code"}),s.jsx(U,{onClick:_,disabled:S.isPending||v.length!==6,"data-testid":"button-verify-2fa",children:S.isPending?s.jsx(we,{className:"h-4 w-4 animate-spin"}):""}),s.jsx(U,{variant:"outline",onClick:()=>u(!1),children:""})]})]})]}):s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"font-medium",children:"2FA  TOTP"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:" Google Authenticator, Authy   "})]}),s.jsxs(U,{onClick:()=>C.mutate(),disabled:C.isPending,"data-testid":"button-setup-2fa",children:[C.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Fn,{className:"h-4 w-4 mr-2"})," 2FA"]})]})})})]})]})}function xYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState({brandName:"",logoUrl:"",faviconUrl:"",hidePlatformBranding:!1}),{data:a,isLoading:i}=Ne({queryKey:["/api/advertiser/settings"]});j.useEffect(()=>{a&&r({brandName:a.brandName||"",logoUrl:a.logoUrl||"",faviconUrl:a.faviconUrl||"",hidePlatformBranding:a.hidePlatformBranding||!1})},[a]);const o=ve({mutationFn:l=>Be("PATCH","/api/advertiser/settings/whitelabel",l),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/advertiser/settings"]}),e({title:"White-label  "})},onError:l=>{e({title:"",description:l.message,variant:"destructive"})}});return i?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{className:"bg-blue-500/10 border-blue-500/30",children:[s.jsx(Pe,{className:"pb-3",children:s.jsxs(Ie,{className:"text-base flex items-center gap-2 text-blue-400",children:[s.jsx(UW,{className:"h-4 w-4"}),"  White-label"]})}),s.jsxs(ne,{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"1.  "}),"        "]}),s.jsxs("p",{children:[s.jsx("strong",{children:"2. "}),"          (  )"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"3.   "}),"         "]}),s.jsx("p",{className:"text-blue-400 pt-2",children:'  white-label      ""'})]})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(t_,{className:"h-5 w-5"}),"White-label "]}),s.jsx(et,{children:"    "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"brandName",children:" "}),s.jsx(le,{id:"brandName","data-testid":"input-brand-name",value:n.brandName,onChange:l=>r({...n,brandName:l.target.value}),placeholder:" "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:",       "})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"wlLogoUrl",children:" "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{id:"wlLogoUrl","data-testid":"input-wl-logo-url",value:n.logoUrl,onChange:l=>r({...n,logoUrl:l.target.value}),placeholder:"https://example.com/logo.png",className:"flex-1"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer","data-testid":"input-wl-logo-file",onChange:async l=>{const c=l.target.files?.[0];if(c)try{const u=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:c.name,size:c.size,contentType:c.type})}),{uploadURL:f,objectPath:m}=await u.json();await fetch(f,{method:"PUT",body:c,headers:{"Content-Type":c.type}});const p=window.location.origin+m;r({...n,logoUrl:p})}catch(u){console.error("Upload failed:",u)}}}),s.jsxs(U,{type:"button",variant:"outline",size:"sm",className:"pointer-events-none",children:[s.jsx(du,{className:"w-4 h-4 mr-1"}),""]})]})]}),n.logoUrl&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:n.logoUrl,alt:"Logo preview",className:"h-16 w-16 object-contain border rounded"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"faviconUrl",children:"Favicon ( )"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{id:"faviconUrl","data-testid":"input-favicon-url",value:n.faviconUrl,onChange:l=>r({...n,faviconUrl:l.target.value}),placeholder:"https://example.com/favicon.ico",className:"flex-1"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",accept:"image/*,.ico",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer","data-testid":"input-favicon-file",onChange:async l=>{const c=l.target.files?.[0];if(c)try{const u=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:c.name,size:c.size,contentType:c.type})}),{uploadURL:f,objectPath:m}=await u.json();await fetch(f,{method:"PUT",body:c,headers:{"Content-Type":c.type}});const p=window.location.origin+m;r({...n,faviconUrl:p})}catch(u){console.error("Upload failed:",u)}}}),s.jsxs(U,{type:"button",variant:"outline",size:"sm",className:"pointer-events-none",children:[s.jsx(du,{className:"w-4 h-4 mr-1"}),""]})]})]}),n.faviconUrl&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:n.faviconUrl,alt:"Favicon preview",className:"h-8 w-8 object-contain border rounded"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"URL     (16x16  32x32 px)"})]}),s.jsx(rs,{className:"my-4"}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"font-medium",children:"  "}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"     "})]}),s.jsx(vr,{checked:n.hidePlatformBranding,onCheckedChange:l=>r({...n,hidePlatformBranding:l}),"data-testid":"switch-hide-branding"})]}),s.jsx(rs,{className:"my-4"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(DO,{className:"h-5 w-5"}),s.jsx("div",{className:"font-medium",children:"FingerprintJS "})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"     landing page   fingerprint    .    visitor_id  tracking ."}),s.jsxs("div",{className:"relative",children:[s.jsx("pre",{className:"bg-muted p-3 rounded-md font-mono text-xs overflow-x-auto max-h-48 whitespace-pre-wrap",children:`<!-- FingerprintJS Integration -->
<script src="https://cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs@4/dist/fp.min.js"><\/script>
<script>
(function() {
  var fpPromise = FingerprintJS.load();
  
  window.AffiliateTracker = {
    getVisitorId: function() {
      return fpPromise.then(function(fp) {
        return fp.get();
      }).then(function(result) {
        return {
          visitorId: result.visitorId,
          confidence: result.confidence.score
        };
      });
    },
    
    enhanceLinks: function() {
      var domain = '${window.location.host}';
      this.getVisitorId().then(function(data) {
        document.querySelectorAll('a[href*="' + domain + '"]').forEach(function(link) {
          var url = new URL(link.href);
          url.searchParams.set('visitor_id', data.visitorId);
          url.searchParams.set('fp_confidence', data.confidence.toString());
          link.href = url.toString();
        });
      });
    }
  };
  
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', function() {
      window.AffiliateTracker.enhanceLinks();
    });
  } else {
    window.AffiliateTracker.enhanceLinks();
  }
})();
<\/script>`}),s.jsxs(U,{variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>{const l=document.querySelector("pre")?.textContent||"";navigator.clipboard.writeText(l),e({title:"    "})},"data-testid":"button-copy-fingerprint-script",children:[s.jsx(Yn,{className:"h-3 w-3 mr-1"}),""]})]})]}),s.jsxs(U,{onClick:()=>o.mutate(n),disabled:o.isPending,"data-testid":"button-save-whitelabel",children:[o.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"}),""]})]})]})]})}function gYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState({telegramBotToken:"",telegramChatId:"",telegramNotifyLeads:!0,telegramNotifySales:!0,telegramNotifyPayouts:!0,telegramNotifySystem:!0}),[o,l]=j.useState({emailNotifyLeads:!0,emailNotifySales:!0,emailNotifyPayouts:!0,emailNotifySystem:!0,smtpHost:"",smtpPort:587,smtpUser:"",smtpPassword:"",smtpFromEmail:"",smtpFromName:""}),{data:c}=Ne({queryKey:["/api/user"]}),{data:u}=Ne({queryKey:["/api/advertiser/settings"]});j.useEffect(()=>{c&&i({telegramBotToken:"",telegramChatId:c.telegramChatId||"",telegramNotifyLeads:c.telegramNotifyLeads??!0,telegramNotifySales:c.telegramNotifySales??!0,telegramNotifyPayouts:c.telegramNotifyPayouts??!0,telegramNotifySystem:c.telegramNotifySystem??!0})},[c]),j.useEffect(()=>{u&&l({emailNotifyLeads:u.emailNotifyLeads??!0,emailNotifySales:u.emailNotifySales??!0,emailNotifyPayouts:u.emailNotifyPayouts??!0,emailNotifySystem:u.emailNotifySystem??!0,smtpHost:u.smtpHost||"",smtpPort:u.smtpPort||587,smtpUser:u.smtpUser||"",smtpPassword:"",smtpFromEmail:u.smtpFromEmail||"",smtpFromName:u.smtpFromName||""})},[u]);const f=ve({mutationFn:g=>Be("POST","/api/user/notifications/telegram",g),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),e({title:"Telegram  "})},onError:g=>{e({title:"",description:g.message,variant:"destructive"})}}),m=ve({mutationFn:g=>Be("POST","/api/advertiser/settings/email",g),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/advertiser/settings"]}),e({title:"Email  "})},onError:g=>{e({title:"",description:g.message,variant:"destructive"})}}),p=ve({mutationFn:()=>Be("POST","/api/user/notifications/telegram/test"),onSuccess:()=>{e({title:"  "})},onError:g=>{e({title:"",description:g.message,variant:"destructive"})}});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Vw,{className:"h-5 w-5"}),"Telegram "]}),s.jsx(et,{children:"    Telegram"})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:" :"}),s.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 list-decimal list-inside",children:[s.jsxs("li",{children:["    ",s.jsx("a",{href:"https://t.me/primetrack_notify_bot",target:"_blank",rel:"noopener noreferrer",className:"font-medium text-primary hover:underline",children:"@primetrack_notify_bot"}),"  Telegram"]}),s.jsx("li",{children:"  Chat ID  @userinfobot"}),s.jsx("li",{children:" Chat ID "})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["    ",s.jsx("a",{href:"https://t.me/primetrack_notify_bot",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"@primetrack_notify_bot"})," .         ."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{htmlFor:"chatId",children:["Chat ID ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(le,{id:"chatId","data-testid":"input-chat-id",value:a.telegramChatId,onChange:g=>i({...a,telegramChatId:g.target.value}),placeholder:"123456789"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  @userinfobot  Telegram"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"botToken",children:"Bot Token ()"}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"botToken",type:n?"text":"password","data-testid":"input-bot-token",value:a.telegramBotToken,onChange:g=>i({...a,telegramBotToken:g.target.value}),placeholder:"     "}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>r(!n),children:n?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"      "})]})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:" "}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{key:"telegramNotifyLeads",label:" "},{key:"telegramNotifySales",label:""},{key:"telegramNotifyPayouts",label:""},{key:"telegramNotifySystem",label:""}].map(g=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsx("span",{children:g.label}),s.jsx(vr,{checked:a[g.key],onCheckedChange:v=>i({...a,[g.key]:v}),"data-testid":`switch-${g.key}`})]},g.key))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{onClick:()=>f.mutate(a),disabled:f.isPending,"data-testid":"button-save-telegram",children:[f.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs(U,{variant:"outline",onClick:()=>p.mutate(),disabled:p.isPending||!a.telegramChatId,"data-testid":"button-test-telegram",children:[p.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(dr,{className:"h-4 w-4 mr-2"}),""]})]})]})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Ji,{className:"h-5 w-5"}),"Email "]}),s.jsx(et,{children:" SMTP   email "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"smtpHost",children:"SMTP "}),s.jsx(le,{id:"smtpHost","data-testid":"input-smtp-host",value:o.smtpHost,onChange:g=>l({...o,smtpHost:g.target.value}),placeholder:"smtp.gmail.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"smtpPort",children:"SMTP "}),s.jsx(le,{id:"smtpPort",type:"number","data-testid":"input-smtp-port",value:o.smtpPort,onChange:g=>l({...o,smtpPort:parseInt(g.target.value)}),placeholder:"587"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"smtpUser",children:"SMTP "}),s.jsx(le,{id:"smtpUser","data-testid":"input-smtp-user",value:o.smtpUser,onChange:g=>l({...o,smtpUser:g.target.value}),placeholder:"user@gmail.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"smtpPassword",children:"SMTP "}),s.jsx(le,{id:"smtpPassword",type:"password","data-testid":"input-smtp-password",value:o.smtpPassword,onChange:g=>l({...o,smtpPassword:g.target.value}),placeholder:""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"smtpFromEmail",children:"Email "}),s.jsx(le,{id:"smtpFromEmail",type:"email","data-testid":"input-smtp-from-email",value:o.smtpFromEmail,onChange:g=>l({...o,smtpFromEmail:g.target.value}),placeholder:"noreply@company.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"smtpFromName",children:" "}),s.jsx(le,{id:"smtpFromName","data-testid":"input-smtp-from-name",value:o.smtpFromName,onChange:g=>l({...o,smtpFromName:g.target.value}),placeholder:" "})]})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:" "}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{key:"emailNotifyLeads",label:" "},{key:"emailNotifySales",label:""},{key:"emailNotifyPayouts",label:""},{key:"emailNotifySystem",label:""}].map(g=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsx("span",{children:g.label}),s.jsx(vr,{checked:o[g.key],onCheckedChange:v=>l({...o,[g.key]:v}),"data-testid":`switch-${g.key}`})]},g.key))})]}),s.jsxs(U,{onClick:()=>m.mutate(o),disabled:m.isPending,"data-testid":"button-save-email",children:[m.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"}),""]})]})]})]})}function yYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(null),[a,i]=j.useState({apiUrl:"",apiKey:"",apiSecret:"",migrateOffers:!0,migratePublishers:!0,migrateClicks:!1,migrateConversions:!0}),{data:o=[],isLoading:l}=Ne({queryKey:["/api/advertiser/migrations"]}),c=ve({mutationFn:f=>Be("POST","/api/advertiser/migrations",f),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/advertiser/migrations"]}),r(null),i({apiUrl:"",apiKey:"",apiSecret:"",migrateOffers:!0,migratePublishers:!0,migrateClicks:!1,migrateConversions:!0}),e({title:" "})},onError:f=>{e({title:"",description:f.message,variant:"destructive"})}}),u=[{id:"scaleo",name:"Scaleo",logo:"",description:"    "},{id:"affilka",name:"Affilka",logo:"",description:"  iGaming "},{id:"affise",name:"Affise",logo:"",description:"Enterprise    "},{id:"voluum",name:"Voluum",logo:"",description:"   "},{id:"keitaro",name:"Keitaro",logo:"",description:"Self-hosted   TDS"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(qx,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"    "})]}),s.jsx(ne,{className:"space-y-6",children:n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted rounded-lg",children:[s.jsx("span",{className:"text-2xl",children:u.find(f=>f.id===n)?.logo}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:u.find(f=>f.id===n)?.name}),s.jsx(U,{variant:"link",className:"p-0 h-auto",onClick:()=>r(null),children:"  "})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"apiUrl",children:"API URL"}),s.jsx(le,{id:"apiUrl","data-testid":"input-migration-api-url",value:a.apiUrl,onChange:f=>i({...a,apiUrl:f.target.value}),placeholder:"https://your-tracker.com/api"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"apiKey",children:"API Key"}),s.jsx(le,{id:"apiKey",type:"password","data-testid":"input-migration-api-key",value:a.apiKey,onChange:f=>i({...a,apiKey:f.target.value}),placeholder:"your-api-key"})]})]}),(n==="affise"||n==="keitaro")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"apiSecret",children:"API Secret"}),s.jsx(le,{id:"apiSecret",type:"password","data-testid":"input-migration-api-secret",value:a.apiSecret,onChange:f=>i({...a,apiSecret:f.target.value}),placeholder:"your-api-secret"})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:" "}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{key:"migrateOffers",label:"",description:", , GEO, "},{key:"migratePublishers",label:"",description:"    "},{key:"migrateConversions",label:"",description:", , "},{key:"migrateClicks",label:"",description:"  (  )"}].map(f=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[s.jsx(vr,{checked:a[f.key],onCheckedChange:m=>i({...a,[f.key]:m}),"data-testid":`switch-${f.key}`}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:f.label}),s.jsx("div",{className:"text-sm text-muted-foreground",children:f.description})]})]},f.key))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{onClick:()=>c.mutate({...a,sourceTracker:n}),disabled:c.isPending||!a.apiUrl||!a.apiKey,"data-testid":"button-start-migration",children:[c.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(qx,{className:"h-4 w-4 mr-2"})," "]}),s.jsx(U,{variant:"outline",onClick:()=>r(null),children:""})]})]}):s.jsx("div",{className:"grid grid-cols-2 gap-4",children:u.map(f=>s.jsx("div",{className:"p-4 border rounded-lg hover:border-primary cursor-pointer transition-colors",onClick:()=>r(f.id),"data-testid":`button-select-${f.id}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:f.logo}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:f.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f.description})]})]})},f.id))})})]}),o.length>0&&s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsx(Ie,{children:" "})}),s.jsx(ne,{children:s.jsx("div",{className:"space-y-3",children:o.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xl",children:u.find(m=>m.id===f.sourceTracker)?.logo}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:u.find(m=>m.id===f.sourceTracker)?.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(f.createdAt).toLocaleString()})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-right",children:[s.jsxs("div",{children:[f.processedRecords,"/",f.totalRecords," "]}),f.failedRecords>0&&s.jsxs("div",{className:"text-red-500",children:[f.failedRecords," "]})]}),s.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${f.status==="completed"?"bg-green-500/20 text-green-500":f.status==="in_progress"?"bg-blue-500/20 text-blue-500":f.status==="failed"?"bg-red-500/20 text-red-500":"bg-yellow-500/20 text-yellow-500"}`,children:f.status==="completed"?"":f.status==="in_progress"?" ":f.status==="failed"?"":""})]})]},f.id))})})]})]})}function vYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(""),[a,i]=j.useState(null),[o,l]=j.useState("USDT_TRC20"),[c,u]=j.useState("monthly"),{data:f,isLoading:m}=Ne({queryKey:["/api/subscription/current"],queryFn:async()=>{const O=await fetch("/api/subscription/current",{credentials:"include"});if(!O.ok)throw new Error("Failed to fetch subscription");return O.json()}}),{data:p=[]}=Ne({queryKey:["/api/subscription/plans"],queryFn:async()=>{const O=await fetch("/api/subscription/plans",{credentials:"include"});return O.ok?O.json():[]}}),{data:g}=Ne({queryKey:["/api/subscription/wallets"],queryFn:async()=>{const O=await fetch("/api/subscription/wallets",{credentials:"include"});return O.ok?O.json():null}}),{data:v=[]}=Ne({queryKey:["/api/subscription/payments"],queryFn:async()=>{const O=await fetch("/api/subscription/payments",{credentials:"include"});return O.ok?O.json():[]}}),y=ve({mutationFn:async O=>(await Be("POST","/api/subscription/pay",{planId:O.planId,billingCycle:O.billingPeriod,cryptoCurrency:O.currency})).json(),onSuccess:O=>{t.invalidateQueries({queryKey:["/api/subscription/payments"]}),e({title:" ",description:"    "})},onError:O=>{e({title:"",description:O.message,variant:"destructive"})}}),w=ve({mutationFn:async O=>Be("POST","/api/subscription/verify",O),onSuccess:()=>{r(""),t.invalidateQueries({queryKey:["/api/subscription/payments"]}),t.invalidateQueries({queryKey:["/api/subscription/current"]}),e({title:" ",description:"  "})},onError:O=>{e({title:"",description:O.message,variant:"destructive"})}});if(m)return s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin"})});const N=f?.subscription,A=f?.plan,C=(()=>{if(!N)return null;let O=null;if(N.status==="trial"&&N.trialEndsAt?O=new Date(N.trialEndsAt):N.status==="active"&&N.currentPeriodEnd&&(O=new Date(N.currentPeriodEnd)),!O)return null;const _=new Date,M=O.getTime()-_.getTime();if(M<=0)return{days:0,hours:0,expired:!0};const $=Math.floor(M/(1e3*60*60*24)),z=Math.floor(M%(1e3*60*60*24)/(1e3*60*60));return{days:$,hours:z,expired:!1}})(),S=v.find(O=>O.status==="pending"),E=[{id:"USDT_TRC20",name:"USDT (TRC-20)",wallet:g?.usdtTrc20},{id:"USDT_ERC20",name:"USDT (ERC-20)",wallet:g?.usdtErc20},{id:"BTC",name:"Bitcoin",wallet:g?.btc},{id:"ETH",name:"Ethereum",wallet:g?.eth}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(On,{className:"h-5 w-5"})," "]})}),s.jsxs(ne,{className:"space-y-4",children:[N?.status==="trial"&&s.jsxs("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-yellow-500 font-medium mb-2",children:[s.jsx(Yt,{className:"h-5 w-5"})," "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:C&&!C.expired?s.jsxs(s.Fragment,{children:[": ",s.jsxs("span",{className:"font-bold text-foreground",children:[C.days,"  ",C.hours," "]})]}):s.jsx("span",{className:"text-red-500",children:"  "})})]}),N?.status==="active"&&A&&s.jsxs("div",{className:"p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-emerald-500 font-medium mb-2",children:[s.jsx(Vs,{className:"h-5 w-5"})," : ",A.name]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:C&&!C.expired?s.jsxs(s.Fragment,{children:[" : ",s.jsx("span",{className:"font-bold text-foreground",children:new Date(N.currentPeriodEnd).toLocaleDateString()})," (",C.days," )"]}):s.jsx("span",{className:"text-red-500",children:" "})})]}),N?.status==="expired"&&s.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-500 font-medium mb-2",children:[s.jsx(Kn,{className:"h-5 w-5"})," "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"      "})]})]})]}),S&&s.jsxs(J,{className:"border-yellow-500/50",children:[s.jsxs(Pe,{children:[s.jsx(Ie,{className:"text-yellow-500",children:" "}),s.jsxs(et,{children:[" ",S.amount," ",S.currency,"    "]})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsx("div",{className:"p-3 bg-muted rounded-lg font-mono text-sm break-all",children:S.cryptoAddress}),s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(S.cryptoAddress),e({title:" "})},children:[s.jsx(Yn,{className:"h-4 w-4 mr-2"})," "]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"  (TxID)"}),s.jsx(le,{value:n,onChange:O=>r(O.target.value),placeholder:"0x...    ","data-testid":"input-tx-hash"})]}),s.jsxs(U,{onClick:()=>w.mutate({paymentId:S.id,txHash:n}),disabled:!n||w.isPending,"data-testid":"button-submit-tx",children:[w.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(dr,{className:"h-4 w-4 mr-2"})," "]})]})]}),s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ie,{children:" "}),s.jsx(et,{children:"     "})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-muted p-1 rounded-lg",children:[s.jsx(U,{variant:c==="monthly"?"default":"ghost",size:"sm",onClick:()=>u("monthly"),"data-testid":"billing-monthly",children:""}),s.jsxs(U,{variant:c==="yearly"?"default":"ghost",size:"sm",onClick:()=>u("yearly"),className:"relative","data-testid":"billing-yearly",children:["",s.jsx("span",{className:"absolute -top-2 -right-2 bg-emerald-500 text-white text-[10px] px-1.5 py-0.5 rounded-full",children:"-15%"})]})]})]})}),s.jsxs(ne,{children:[s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:p.map(O=>{const _=Number(O.monthlyPrice)||Number(O.price)||0,M=Number(O.yearlyPrice)||_*12*.85,$=c==="yearly"?(M/12).toFixed(2):_.toFixed(2),z=M.toFixed(2),V=(_*12-M).toFixed(2);return s.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all relative ${a===O.id?"border-emerald-500 bg-emerald-500/10":"hover:border-muted-foreground"} ${O.isPopular||O.is_popular?"ring-2 ring-emerald-500":""}`,onClick:()=>i(O.id),"data-testid":`plan-${O.id}`,children:[(O.isPopular||O.is_popular)&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-emerald-500 text-white text-xs px-2 py-0.5 rounded-full",children:""}),s.jsx("div",{className:"font-bold text-lg mb-2",children:O.name}),s.jsxs("div",{className:"text-2xl font-bold text-emerald-500 mb-1",children:["$",$,s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"})]}),c==="yearly"&&s.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["$",z,"   ( $",V,")"]}),c==="monthly"&&s.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:" "}),O.features&&O.features.length>0&&s.jsx("ul",{className:"text-sm text-muted-foreground space-y-1 mt-3",children:O.features.map((I,F)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Vs,{className:"h-3 w-3 text-emerald-500 flex-shrink-0"}),I]},F))})]},O.id)})}),a&&!S&&s.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" "}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:E.filter(O=>O.wallet).map(O=>s.jsx(U,{variant:o===O.id?"default":"outline",size:"sm",onClick:()=>l(O.id),"data-testid":`currency-${O.id}`,children:O.name},O.id))})]}),s.jsxs(U,{onClick:()=>y.mutate({planId:a,currency:o,billingPeriod:c}),disabled:y.isPending,className:"w-full","data-testid":"button-create-payment",children:[y.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(On,{className:"h-4 w-4 mr-2"})," ",c==="yearly"?" ":" "]})]})]})]}),v.length>0&&s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsx(Ie,{children:" "})}),s.jsx(ne,{children:s.jsx("div",{className:"space-y-3",children:v.map(O=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[O.amount," ",O.currency]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(O.createdAt).toLocaleDateString()})]}),s.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${O.status==="completed"?"bg-green-500/20 text-green-500":O.status==="pending"?"bg-yellow-500/20 text-yellow-500":O.status==="verifying"?"bg-blue-500/20 text-blue-500":"bg-red-500/20 text-red-500"}`,children:O.status==="completed"?"":O.status==="pending"?"":O.status==="verifying"?"":""})]},O.id))})})]})]})}function bYe(){return s.jsx(dYe,{})}function jYe(){const{t:e}=as();Dt(),rt();const[t,n]=j.useState("profile");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-settings-title",children:""}),s.jsx("p",{className:"text-muted-foreground",children:" ,   "})]}),s.jsxs(uo,{value:t,onValueChange:n,className:"space-y-6",children:[s.jsxs(ki,{className:"grid w-full grid-cols-2 md:grid-cols-4",children:[s.jsxs(lt,{value:"profile",className:"flex items-center gap-2","data-testid":"tab-profile",children:[s.jsx(Or,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"security",className:"flex items-center gap-2","data-testid":"tab-security",children:[s.jsx(ns,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"notifications",className:"flex items-center gap-2","data-testid":"tab-notifications",children:[s.jsx(_o,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"api",className:"flex items-center gap-2","data-testid":"tab-api",children:[s.jsx(Da,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"API"})]})]}),s.jsx(ct,{value:"profile",children:s.jsx(wYe,{})}),s.jsx(ct,{value:"security",children:s.jsx(NYe,{})}),s.jsx(ct,{value:"notifications",children:s.jsx(SYe,{})}),s.jsx(ct,{value:"api",children:s.jsx(CYe,{})})]})]})}function wYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState({username:"",email:"",phone:"",telegram:"",logoUrl:""}),{data:a,isLoading:i}=Ne({queryKey:["/api/user"]});j.useEffect(()=>{a&&r({username:a.username||"",email:a.email||"",phone:a.phone||"",telegram:a.telegram||"",logoUrl:a.logoUrl||""})},[a]);const o=ve({mutationFn:l=>Be("PATCH","/api/user/profile",l),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),e({title:" "})},onError:l=>{e({title:"",description:l.message,variant:"destructive"})}});return i?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin"})}):s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-5 w-5"}),""]}),s.jsx(et,{children:"  "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"username",children:" "}),s.jsx(le,{id:"username","data-testid":"input-username",value:n.username,disabled:!0,className:"bg-muted"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"   "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"email",children:"Email"}),s.jsx(le,{id:"email",type:"email","data-testid":"input-email",value:n.email,onChange:l=>r({...n,email:l.target.value}),placeholder:"your@email.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"phone",children:""}),s.jsx(le,{id:"phone","data-testid":"input-phone",value:n.phone,onChange:l=>r({...n,phone:l.target.value}),placeholder:"+7 999 123-45-67"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"telegram",children:"Telegram"}),s.jsx(le,{id:"telegram","data-testid":"input-telegram",value:n.telegram,onChange:l=>r({...n,telegram:l.target.value}),placeholder:"@username"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"logoUrl",children:"URL "}),s.jsx(le,{id:"logoUrl","data-testid":"input-logo-url",value:n.logoUrl,onChange:l=>r({...n,logoUrl:l.target.value}),placeholder:"https://example.com/avatar.png"}),n.logoUrl&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:n.logoUrl,alt:"Avatar preview",className:"h-16 w-16 object-cover border rounded-full"})})]}),s.jsxs(U,{onClick:()=>o.mutate(n),disabled:o.isPending,"data-testid":"button-save-profile",children:[o.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"}),""]})]})]})}function NYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,u]=j.useState(!1),[f,m]=j.useState(""),[p,g]=j.useState(""),[v,y]=j.useState(""),[w,N]=j.useState(""),{data:A}=Ne({queryKey:["/api/user"]}),T=ve({mutationFn:M=>Be("PATCH","/api/user/password",M),onSuccess:()=>{l({currentPassword:"",newPassword:"",confirmPassword:""}),e({title:" "})},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),C=ve({mutationFn:async()=>(await Be("POST","/api/user/2fa/setup",{})).json(),onSuccess:M=>{m(M.secret),g(M.qrCode),u(!0)},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),S=ve({mutationFn:M=>Be("POST","/api/user/2fa/enable",M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),u(!1),m(""),g(""),y(""),e({title:"2FA ",description:"   "})},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),E=ve({mutationFn:M=>Be("POST","/api/user/2fa/disable",{token:M}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),N(""),u(!1),m(""),g(""),e({title:"2FA "})},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),O=()=>{if(o.newPassword!==o.confirmPassword){e({title:"",description:"  ",variant:"destructive"});return}if(o.newPassword.length<6){e({title:"",description:"     6 ",variant:"destructive"});return}T.mutate({currentPassword:o.currentPassword,newPassword:o.newPassword})},_=()=>{if(v.length!==6){e({title:"",description:" 6- ",variant:"destructive"});return}S.mutate({secret:f,token:v})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(ns,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"     "})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"currentPassword",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"currentPassword",type:n?"text":"password","data-testid":"input-current-password",value:o.currentPassword,onChange:M=>l({...o,currentPassword:M.target.value})}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>r(!n),children:n?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"newPassword",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"newPassword",type:a?"text":"password","data-testid":"input-new-password",value:o.newPassword,onChange:M=>l({...o,newPassword:M.target.value})}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>i(!a),children:a?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"confirmPassword",children:" "}),s.jsx(le,{id:"confirmPassword",type:"password","data-testid":"input-confirm-password",value:o.confirmPassword,onChange:M=>l({...o,confirmPassword:M.target.value})})]}),s.jsxs(U,{onClick:O,disabled:T.isPending,"data-testid":"button-change-password",children:[T.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Da,{className:"h-4 w-4 mr-2"})," "]})]})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5"}),"  (2FA)"]}),s.jsx(et,{children:"      TOTP"})]}),s.jsx(ne,{className:"space-y-4",children:A?.twoFactorEnabled?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-lg flex items-center gap-3",children:[s.jsx(Vs,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"text-sm",children:"2FA .   ."})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(te,{children:"     "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{placeholder:"000000",value:w,onChange:M=>N(M.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"w-32 text-center font-mono text-lg","data-testid":"input-disable-2fa-code"}),s.jsx(U,{variant:"destructive",onClick:()=>E.mutate(w),disabled:E.isPending||w.length!==6,"data-testid":"button-disable-2fa",children:E.isPending?s.jsx(we,{className:"h-4 w-4 animate-spin"}):" 2FA"})]})]})]}):c?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:" QR-   Google Authenticator     "}),p&&s.jsx("img",{src:p,alt:"QR Code",className:"mx-auto border rounded-lg","data-testid":"img-qr-code"}),s.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:"  (  )"}),s.jsx("p",{className:"font-mono text-sm select-all","data-testid":"text-totp-secret",children:f})]})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" 6-   "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{placeholder:"000000",value:v,onChange:M=>y(M.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"w-32 text-center font-mono text-lg","data-testid":"input-verification-code"}),s.jsx(U,{onClick:_,disabled:S.isPending||v.length!==6,"data-testid":"button-verify-2fa",children:S.isPending?s.jsx(we,{className:"h-4 w-4 animate-spin"}):""}),s.jsx(U,{variant:"outline",onClick:()=>u(!1),children:""})]})]})]}):s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"font-medium",children:"2FA  TOTP"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:" Google Authenticator, Authy   "})]}),s.jsxs(U,{onClick:()=>C.mutate(),disabled:C.isPending,"data-testid":"button-setup-2fa",children:[C.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Fn,{className:"h-4 w-4 mr-2"})," 2FA"]})]})})})]})]})}function SYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState({telegramChatId:"",telegramNotifyLeads:!0,telegramNotifySales:!0,telegramNotifyPayouts:!0,telegramNotifySystem:!0}),[a,i]=j.useState(null),{data:o}=Ne({queryKey:["/api/user"]});j.useEffect(()=>{o&&r({telegramChatId:o.telegramChatId||"",telegramNotifyLeads:o.telegramNotifyLeads??!0,telegramNotifySales:o.telegramNotifySales??!0,telegramNotifyPayouts:o.telegramNotifyPayouts??!0,telegramNotifySystem:o.telegramNotifySystem??!0})},[o]);const l=ve({mutationFn:m=>Be("POST","/api/user/notifications/telegram",m),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),e({title:"  "})},onError:m=>{e({title:"",description:m.message,variant:"destructive"})}}),c=ve({mutationFn:()=>Be("POST","/api/user/notifications/telegram/test"),onSuccess:()=>{e({title:"  "})},onError:m=>{e({title:"",description:m.message,variant:"destructive"})}});ve({mutationFn:()=>Be("POST","/api/user/telegram/link-code"),onSuccess:m=>{i(m.code),e({title:" ",description:"    Telegram"})},onError:m=>{e({title:"",description:m.message,variant:"destructive"})}});const u=ve({mutationFn:()=>Be("POST","/api/user/telegram/unlink"),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),e({title:"Telegram "})},onError:m=>{e({title:"",description:m.message,variant:"destructive"})}}),f=!!o?.telegramChatId;return s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Vw,{className:"h-5 w-5"}),"Telegram "]}),s.jsx(et,{children:"    Telegram"})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:" :"}),s.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 list-decimal list-inside",children:[s.jsxs("li",{children:["    ",s.jsx("a",{href:"https://t.me/primetrack_notify_bot",target:"_blank",rel:"noopener noreferrer",className:"font-medium text-primary hover:underline",children:"@primetrack_notify_bot"}),"  Telegram"]}),s.jsx("li",{children:"  Chat ID  @userinfobot"}),s.jsx("li",{children:" Chat ID   "})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["    ",s.jsx("a",{href:"https://t.me/primetrack_notify_bot",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"@primetrack_notify_bot"})," ."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{htmlFor:"chatId",children:["Chat ID ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{id:"chatId","data-testid":"input-chat-id",value:n.telegramChatId,onChange:m=>r({...n,telegramChatId:m.target.value}),placeholder:"123456789",className:"flex-1"}),f&&s.jsx(U,{variant:"outline",size:"sm",onClick:()=>u.mutate(),disabled:u.isPending,"data-testid":"button-unlink-telegram",children:""})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  @userinfobot  Telegram"})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:" "}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{key:"telegramNotifyLeads",label:" "},{key:"telegramNotifySales",label:""},{key:"telegramNotifyPayouts",label:""},{key:"telegramNotifySystem",label:""}].map(m=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsx("span",{children:m.label}),s.jsx(vr,{checked:n[m.key],onCheckedChange:p=>r({...n,[m.key]:p}),"data-testid":`switch-${m.key}`})]},m.key))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{onClick:()=>l.mutate(n),disabled:l.isPending,"data-testid":"button-save-telegram",children:[l.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs(U,{variant:"outline",onClick:()=>c.mutate(),disabled:c.isPending||!f||!n.telegramChatId,"data-testid":"button-test-telegram",children:[c.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(dr,{className:"h-4 w-4 mr-2"}),""]})]})]})]})}function CYe(){const{toast:e}=Dt(),t=rt(),{data:n}=Ne({queryKey:["/api/user"]}),r=ve({mutationFn:()=>Be("POST","/api/user/api-token/generate"),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),e({title:"API  "})},onError:o=>{e({title:"",description:o.message,variant:"destructive"})}}),a=ve({mutationFn:()=>Be("DELETE","/api/user/api-token"),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),e({title:"API  "})},onError:o=>{e({title:"",description:o.message,variant:"destructive"})}}),i=()=>{n?.apiToken&&(navigator.clipboard.writeText(n.apiToken),e({title:" "}))};return s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Da,{className:"h-5 w-5"}),"API "]}),s.jsx(et,{children:" API     "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg flex items-start gap-3",children:[s.jsx(Kn,{className:"h-5 w-5 text-yellow-500 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium",children:"!"}),s.jsx("p",{className:"text-muted-foreground",children:"API       .          ."})]})]}),n?.apiToken?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" API "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{value:n.apiToken,readOnly:!0,className:"font-mono text-sm","data-testid":"input-api-token"}),s.jsx(U,{variant:"outline",onClick:i,"data-testid":"button-copy-token",children:s.jsx(Yn,{className:"h-4 w-4"})})]}),n.apiTokenCreatedAt&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",new Date(n.apiTokenCreatedAt).toLocaleString()]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{variant:"outline",onClick:()=>r.mutate(),disabled:r.isPending,"data-testid":"button-regenerate-token",children:[r.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Br,{className:"h-4 w-4 mr-2"}),""]}),s.jsx(U,{variant:"destructive",onClick:()=>a.mutate(),disabled:a.isPending,"data-testid":"button-revoke-token",children:" "})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Da,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"    API "}),s.jsxs(U,{onClick:()=>r.mutate(),disabled:r.isPending,"data-testid":"button-generate-token",children:[r.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Da,{className:"h-4 w-4 mr-2"})," "]})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"  API"}),s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:" :"}),s.jsxs("code",{className:"text-xs block bg-background p-2 rounded border",children:['curl -H "Authorization: Bearer YOUR_TOKEN" \\',s.jsx("br",{}),"",window.location.origin,"/api/v1/stats"]})]}),s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:" :"}),s.jsxs("code",{className:"text-xs block bg-background p-2 rounded border",children:['curl -H "Authorization: Bearer YOUR_TOKEN" \\',s.jsx("br",{}),"",window.location.origin,"/api/v1/conversions"]})]})]})]})]})}function kYe(){const{t:e}=as();Dt(),rt();const[t,n]=j.useState("profile");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-settings-title",children:" "}),s.jsx("p",{className:"text-muted-foreground",children:" ,    "})]}),s.jsxs(uo,{value:t,onValueChange:n,className:"space-y-6",children:[s.jsxs(ki,{className:"grid w-full grid-cols-3 md:grid-cols-7",children:[s.jsxs(lt,{value:"profile",className:"flex items-center gap-2","data-testid":"tab-profile",children:[s.jsx(Or,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"security",className:"flex items-center gap-2","data-testid":"tab-security",children:[s.jsx(ns,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"notifications",className:"flex items-center gap-2","data-testid":"tab-notifications",children:[s.jsx(_o,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"platform",className:"flex items-center gap-2","data-testid":"tab-platform",children:[s.jsx(Gi,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"content",className:"flex items-center gap-2","data-testid":"tab-content",children:[s.jsx(Ia,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"testing",className:"flex items-center gap-2","data-testid":"tab-testing",children:[s.jsx(s_,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"migration",className:"flex items-center gap-2","data-testid":"tab-migration",children:[s.jsx(qx,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]})]}),s.jsx(ct,{value:"profile",children:s.jsx(TYe,{})}),s.jsx(ct,{value:"security",children:s.jsx(AYe,{})}),s.jsx(ct,{value:"notifications",children:s.jsx(EYe,{})}),s.jsx(ct,{value:"platform",children:s.jsx(OYe,{})}),s.jsx(ct,{value:"content",children:s.jsx(_Ye,{})}),s.jsx(ct,{value:"testing",children:s.jsx(Eoe,{})}),s.jsx(ct,{value:"migration",children:s.jsx(MYe,{})})]})]})}function TYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState({username:"",email:"",phone:"",telegram:""}),{data:a,isLoading:i}=Ne({queryKey:["/api/user"]});j.useEffect(()=>{a&&r({username:a.username||"",email:a.email||"",phone:a.phone||"",telegram:a.telegram||""})},[a]);const o=ve({mutationFn:l=>Be("PATCH","/api/user/profile",l),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),e({title:" "})},onError:l=>{e({title:"",description:l.message,variant:"destructive"})}});return i?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin"})}):s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"  "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"username",children:" "}),s.jsx(le,{id:"username","data-testid":"input-username",value:n.username,disabled:!0,className:"bg-muted"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"email",children:"Email"}),s.jsx(le,{id:"email",type:"email","data-testid":"input-email",value:n.email,onChange:l=>r({...n,email:l.target.value}),placeholder:"admin@platform.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"phone",children:""}),s.jsx(le,{id:"phone","data-testid":"input-phone",value:n.phone,onChange:l=>r({...n,phone:l.target.value}),placeholder:"+7 999 123-45-67"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"telegram",children:"Telegram"}),s.jsx(le,{id:"telegram","data-testid":"input-telegram",value:n.telegram,onChange:l=>r({...n,telegram:l.target.value}),placeholder:"@admin"})]})]}),s.jsxs(U,{onClick:()=>o.mutate(n),disabled:o.isPending,"data-testid":"button-save-profile",children:[o.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"}),""]})]})]})}function AYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,u]=j.useState(!1),[f,m]=j.useState(""),[p,g]=j.useState(""),[v,y]=j.useState(""),[w,N]=j.useState(""),{data:A}=Ne({queryKey:["/api/user"]}),T=ve({mutationFn:M=>Be("PATCH","/api/user/password",M),onSuccess:()=>{l({currentPassword:"",newPassword:"",confirmPassword:""}),e({title:" "})},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),C=ve({mutationFn:async()=>(await Be("POST","/api/user/2fa/setup",{})).json(),onSuccess:M=>{m(M.secret),g(M.qrCode),u(!0)},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),S=ve({mutationFn:M=>Be("POST","/api/user/2fa/enable",M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),u(!1),m(""),g(""),y(""),e({title:"2FA ",description:"   "})},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),E=ve({mutationFn:M=>Be("POST","/api/user/2fa/disable",{token:M}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),N(""),u(!1),m(""),g(""),e({title:"2FA "})},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),O=()=>{if(o.newPassword!==o.confirmPassword){e({title:"",description:"  ",variant:"destructive"});return}if(o.newPassword.length<6){e({title:"",description:"     6 ",variant:"destructive"});return}T.mutate({currentPassword:o.currentPassword,newPassword:o.newPassword})},_=()=>{if(v.length!==6){e({title:"",description:" 6- ",variant:"destructive"});return}S.mutate({secret:f,token:v})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(ns,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"  "})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"currentPassword",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"currentPassword",type:n?"text":"password","data-testid":"input-current-password",value:o.currentPassword,onChange:M=>l({...o,currentPassword:M.target.value})}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>r(!n),children:n?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"newPassword",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"newPassword",type:a?"text":"password","data-testid":"input-new-password",value:o.newPassword,onChange:M=>l({...o,newPassword:M.target.value})}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>i(!a),children:a?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"confirmPassword",children:" "}),s.jsx(le,{id:"confirmPassword",type:"password","data-testid":"input-confirm-password",value:o.confirmPassword,onChange:M=>l({...o,confirmPassword:M.target.value})})]}),s.jsxs(U,{onClick:O,disabled:T.isPending,"data-testid":"button-change-password",children:[T.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Da,{className:"h-4 w-4 mr-2"})," "]})]})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5"}),"  (2FA)"]}),s.jsx(et,{children:"  "})]}),s.jsx(ne,{className:"space-y-4",children:A?.twoFactorEnabled?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-lg flex items-center gap-3",children:[s.jsx(Vs,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"text-sm",children:"2FA .   ."})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(te,{children:"     "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{placeholder:"000000",value:w,onChange:M=>N(M.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"w-32 text-center font-mono text-lg","data-testid":"input-disable-2fa-code"}),s.jsx(U,{variant:"destructive",onClick:()=>E.mutate(w),disabled:E.isPending||w.length!==6,"data-testid":"button-disable-2fa",children:E.isPending?s.jsx(we,{className:"h-4 w-4 animate-spin"}):" 2FA"})]})]})]}):c?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:" QR-   Google Authenticator     "}),p&&s.jsx("img",{src:p,alt:"QR Code",className:"mx-auto border rounded-lg","data-testid":"img-qr-code"}),s.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:"  (  )"}),s.jsx("p",{className:"font-mono text-sm select-all","data-testid":"text-totp-secret",children:f})]})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" 6-   "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{placeholder:"000000",value:v,onChange:M=>y(M.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"w-32 text-center font-mono text-lg","data-testid":"input-verification-code"}),s.jsx(U,{onClick:_,disabled:S.isPending||v.length!==6,"data-testid":"button-verify-2fa",children:S.isPending?s.jsx(we,{className:"h-4 w-4 animate-spin"}):""}),s.jsx(U,{variant:"outline",onClick:()=>u(!1),children:""})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-3",children:[s.jsx(GW,{className:"h-5 w-5 text-red-500"}),s.jsx("span",{className:"text-sm",children:"  2FA   !"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"font-medium",children:"2FA  TOTP"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:" Google Authenticator, Authy   "})]}),s.jsxs(U,{onClick:()=>C.mutate(),disabled:C.isPending,"data-testid":"button-setup-2fa",children:[C.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Fn,{className:"h-4 w-4 mr-2"})," 2FA"]})]})]})})]})]})}function EYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState({telegramChatId:"",telegramNotifySystem:!0,telegramNotifyPayouts:!0}),{data:o}=Ne({queryKey:["/api/user"]});j.useEffect(()=>{o&&i({telegramChatId:o.telegramChatId||"",telegramNotifySystem:o.telegramNotifySystem??!0,telegramNotifyPayouts:o.telegramNotifyPayouts??!0})},[o]);const l=ve({mutationFn:u=>Be("POST","/api/user/notifications/telegram",u),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),e({title:"  "})},onError:u=>{e({title:"",description:u.message,variant:"destructive"})}}),c=ve({mutationFn:()=>Be("POST","/api/user/notifications/telegram/test"),onSuccess:()=>{e({title:"  "})},onError:u=>{e({title:"",description:u.message,variant:"destructive"})}});return s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Vw,{className:"h-5 w-5"}),"Telegram   "]}),s.jsx(et,{children:"   "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"chatId",children:"Chat ID "}),s.jsx(le,{id:"chatId","data-testid":"input-chat-id",value:a.telegramChatId,onChange:u=>i({...a,telegramChatId:u.target.value}),placeholder:"123456789"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"  Chat ID  @userinfobot  Telegram"})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:" "}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{key:"telegramNotifySystem",label:" ",description:", , "},{key:"telegramNotifyPayouts",label:" ",description:" ,  "}].map(u=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[s.jsx(vr,{checked:a[u.key],onCheckedChange:f=>i({...a,[u.key]:f}),"data-testid":`switch-${u.key}`}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:u.label}),s.jsx("div",{className:"text-sm text-muted-foreground",children:u.description})]})]},u.key))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{onClick:()=>l.mutate(a),disabled:l.isPending,"data-testid":"button-save-telegram",children:[l.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs(U,{variant:"outline",onClick:()=>c.mutate(),disabled:c.isPending||!a.telegramChatId,"data-testid":"button-test-telegram",children:[c.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(dr,{className:"h-4 w-4 mr-2"}),""]})]})]})]})}function OYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[f,m]=j.useState(null),{uploadFile:p,isUploading:g}=fre({onSuccess:C=>{w(S=>({...S,platformLogoUrl:C.objectPath})),e({title:" "})},onError:C=>{e({title:" ",description:C.message,variant:"destructive"})}}),v=async C=>{const S=C.target.files?.[0];if(S){if(!S.type.startsWith("image/")){e({title:"",description:" ",variant:"destructive"});return}await p(S)}},[y,w]=j.useState({platformName:"",platformDescription:"",platformLogoUrl:"",platformFaviconUrl:"",supportEmail:"",supportPhone:"",supportTelegram:"",copyrightText:"",defaultTelegramBotToken:"",ipinfoToken:"",fingerprintjsApiKey:"",allowPublisherRegistration:!0,allowAdvertiserRegistration:!0,requireAdvertiserApproval:!0,enableProxyDetection:!0,enableVpnDetection:!0,enableFingerprintTracking:!0,maxFraudScore:70,cloudflareZoneId:"",cloudflareApiToken:"",cloudflareCnameTarget:"",cloudflareFallbackOrigin:"",cloudflareWorkerOrigin:"",cloudflareWorkerSecret:""}),{data:N,isLoading:A}=Ne({queryKey:["/api/admin/platform-settings"]});j.useEffect(()=>{N&&w({platformName:N.platformName||"",platformDescription:N.platformDescription||"",platformLogoUrl:N.platformLogoUrl||"",platformFaviconUrl:N.platformFaviconUrl||"",supportEmail:N.supportEmail||"",supportPhone:N.supportPhone||"",supportTelegram:N.supportTelegram||"",copyrightText:N.copyrightText||"",defaultTelegramBotToken:"",ipinfoToken:"",fingerprintjsApiKey:"",cloudflareZoneId:N.cloudflareZoneId||"",cloudflareApiToken:"",cloudflareCnameTarget:N.cloudflareCnameTarget||"",cloudflareFallbackOrigin:N.cloudflareFallbackOrigin||"",cloudflareWorkerOrigin:N.cloudflareWorkerOrigin||"",cloudflareWorkerSecret:N.cloudflareWorkerSecret||"",allowPublisherRegistration:N.allowPublisherRegistration??!0,allowAdvertiserRegistration:N.allowAdvertiserRegistration??!0,requireAdvertiserApproval:N.requireAdvertiserApproval??!0,enableProxyDetection:N.enableProxyDetection??!0,enableVpnDetection:N.enableVpnDetection??!0,enableFingerprintTracking:N.enableFingerprintTracking??!0,maxFraudScore:N.maxFraudScore??70})},[N]);const T=ve({mutationFn:C=>Be("PATCH","/api/admin/platform-settings",C),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/platform-settings"]}),e({title:"  "})},onError:C=>{e({title:"",description:C.message,variant:"destructive"})}});return A?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(jn,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"   "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"platformName",children:" "}),s.jsx(le,{id:"platformName","data-testid":"input-platform-name",value:y.platformName,onChange:C=>w({...y,platformName:C.target.value}),placeholder:" "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"supportEmail",children:"Email "}),s.jsx(le,{id:"supportEmail",type:"email","data-testid":"input-support-email",value:y.supportEmail,onChange:C=>w({...y,supportEmail:C.target.value}),placeholder:"support@example.com"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"supportPhone",children:" "}),s.jsx(le,{id:"supportPhone","data-testid":"input-support-phone",value:y.supportPhone,onChange:C=>w({...y,supportPhone:C.target.value}),placeholder:"+7 999 123-45-67"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"supportTelegram",children:"Telegram "}),s.jsx(le,{id:"supportTelegram","data-testid":"input-support-telegram",value:y.supportTelegram,onChange:C=>w({...y,supportTelegram:C.target.value}),placeholder:"@support"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"platformDescription",children:" "}),s.jsx(le,{id:"platformDescription","data-testid":"input-platform-description",value:y.platformDescription,onChange:C=>w({...y,platformDescription:C.target.value}),placeholder:"SaaS    "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"copyrightText",children:" "}),s.jsx(le,{id:"copyrightText","data-testid":"input-copyright-text",value:y.copyrightText,onChange:C=>w({...y,copyrightText:C.target.value}),placeholder:" 2025 .   ."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(te,{children:" "}),s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:y.platformLogoUrl?s.jsx("img",{src:y.platformLogoUrl,alt:"",className:"w-24 h-24 object-contain border rounded-lg bg-muted p-2","data-testid":"img-platform-logo"}):s.jsx("div",{className:"w-24 h-24 border rounded-lg bg-muted flex items-center justify-center",children:s.jsx(qW,{className:"w-8 h-8 text-muted-foreground"})})}),s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{id:"platformLogoUrl","data-testid":"input-platform-logo",value:y.platformLogoUrl,onChange:C=>w({...y,platformLogoUrl:C.target.value}),placeholder:"https://example.com/logo.png",className:"flex-1"}),s.jsxs("label",{className:"cursor-pointer",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"hidden","data-testid":"input-logo-file"}),s.jsx(U,{type:"button",variant:"outline",disabled:g,asChild:!0,children:s.jsx("span",{children:g?s.jsx(we,{className:"h-4 w-4 animate-spin"}):s.jsx(du,{className:"h-4 w-4"})})})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" URL      (PNG, JPG, SVG)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"platformFaviconUrl",children:"URL "}),s.jsx(le,{id:"platformFaviconUrl","data-testid":"input-platform-favicon",value:y.platformFaviconUrl,onChange:C=>w({...y,platformFaviconUrl:C.target.value}),placeholder:"https://example.com/favicon.ico"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"defaultBotToken",children:"Telegram  "}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"defaultBotToken",type:n?"text":"password","data-testid":"input-default-bot-token",value:y.defaultTelegramBotToken,onChange:C=>w({...y,defaultTelegramBotToken:C.target.value}),placeholder:"    "}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>r(!n),children:n?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"     "})]})]})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(pn,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"   "})]}),s.jsx(ne,{className:"space-y-4",children:[{key:"allowPublisherRegistration",label:"  ",description:"   "},{key:"allowAdvertiserRegistration",label:"  ",description:"     "},{key:"requireAdvertiserApproval",label:"  ",description:"    "}].map(C=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"font-medium",children:C.label}),s.jsx("div",{className:"text-sm text-muted-foreground",children:C.description})]}),s.jsx(vr,{checked:y[C.key],onCheckedChange:S=>w({...y,[C.key]:S}),"data-testid":`switch-${C.key}`})]},C.key))})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(GW,{className:"h-5 w-5"}),"  "]}),s.jsx(et,{children:"      "})]}),s.jsxs(ne,{className:"space-y-4",children:[[{key:"enableProxyDetection",label:" ",description:"   -"},{key:"enableVpnDetection",label:" VPN",description:"   VPN"},{key:"enableFingerprintTracking",label:" ",description:" fingerprint "}].map(C=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"font-medium",children:C.label}),s.jsx("div",{className:"text-sm text-muted-foreground",children:C.description})]}),s.jsx(vr,{checked:y[C.key],onCheckedChange:S=>w({...y,[C.key]:S}),"data-testid":`switch-${C.key}`})]},C.key)),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"maxFraudScore",children:" fraud score"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(le,{id:"maxFraudScore",type:"number",min:0,max:100,"data-testid":"input-max-fraud-score",value:y.maxFraudScore,onChange:C=>w({...y,maxFraudScore:parseInt(C.target.value)||70}),className:"w-24"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"  fraud score      "})]})]}),s.jsx(rs,{className:"my-4"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"ipinfoToken",children:"IPinfo.io API Token"}),s.jsx(et,{className:"text-xs",children:"   , ISP, ASN, /VPN "}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(le,{id:"ipinfoToken",type:a?"text":"password",placeholder:N?.ipinfoToken?"***configured***":"  ipinfo.io",value:y.ipinfoToken,onChange:C=>w({...y,ipinfoToken:C.target.value}),"data-testid":"input-ipinfo-token"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>i(!a),"data-testid":"button-toggle-ipinfo-token",children:a?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})}),N?.ipinfoToken&&s.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[s.jsx(Vs,{className:"h-3 w-3"}),"  "]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"fingerprintjsApiKey",children:"FingerprintJS API Key ()"}),s.jsx(et,{className:"text-xs",children:" Pro  FingerprintJS.    open-source "}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(le,{id:"fingerprintjsApiKey",type:o?"text":"password",placeholder:N?.fingerprintjsApiKey?"***configured***":" API  ()",value:y.fingerprintjsApiKey,onChange:C=>w({...y,fingerprintjsApiKey:C.target.value}),"data-testid":"input-fingerprintjs-key"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>l(!o),"data-testid":"button-toggle-fingerprintjs-key",children:o?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})}),N?.fingerprintjsApiKey&&s.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[s.jsx(Vs,{className:"h-3 w-3"})," API   (Pro )"]})]})]})]})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(jn,{className:"h-5 w-5"}),"Cloudflare SSL for SaaS"]}),s.jsx(et,{children:" SSL     "})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"cloudflareZoneId",children:"Zone ID"}),s.jsx(le,{id:"cloudflareZoneId",placeholder:"  Cloudflare Dashboard  Overview",value:y.cloudflareZoneId,onChange:C=>w({...y,cloudflareZoneId:C.target.value}),"data-testid":"input-cloudflare-zone-id"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"cloudflareApiToken",children:"API Token"}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"cloudflareApiToken",type:c?"text":"password",placeholder:N?.cloudflareApiToken?"***configured***":"  Profile  API Tokens",value:y.cloudflareApiToken,onChange:C=>w({...y,cloudflareApiToken:C.target.value}),"data-testid":"input-cloudflare-api-token"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>u(!c),children:c?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"cloudflareFallbackOrigin",children:"Fallback Origin"}),s.jsx(le,{id:"cloudflareFallbackOrigin",placeholder:"tracking.example.com",value:y.cloudflareFallbackOrigin,onChange:C=>w({...y,cloudflareFallbackOrigin:C.target.value}),"data-testid":"input-cloudflare-fallback-origin"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"    Replit"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"cloudflareCnameTarget",children:"CNAME Target"}),s.jsx(le,{id:"cloudflareCnameTarget",placeholder:"customers.example.com",value:y.cloudflareCnameTarget,onChange:C=>w({...y,cloudflareCnameTarget:C.target.value}),"data-testid":"input-cloudflare-cname-target"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"    CNAME"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"cloudflareWorkerOrigin",children:"Worker Proxy Origin (Replit)"}),s.jsx(le,{id:"cloudflareWorkerOrigin",placeholder:"your-app.replit.app",value:y.cloudflareWorkerOrigin,onChange:C=>w({...y,cloudflareWorkerOrigin:C.target.value}),"data-testid":"input-cloudflare-worker-origin"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Replit origin (: theme-forge--username.replit.app)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"cloudflareWorkerSecret",children:"Worker Secret ()"}),s.jsx(le,{id:"cloudflareWorkerSecret",type:"password",placeholder:N?.cloudflareWorkerSecret?"***configured***":" ",value:y.cloudflareWorkerSecret,onChange:C=>w({...y,cloudflareWorkerSecret:C.target.value}),"data-testid":"input-cloudflare-worker-secret"}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:()=>{const C=crypto.randomUUID();w({...y,cloudflareWorkerSecret:C}),m(C),e({title:" ",description:"    "})},"data-testid":"button-generate-worker-secret",children:[s.jsx(Da,{className:"h-3 w-3 mr-1"}),""]})})]})]}),y.cloudflareWorkerOrigin&&f&&(()=>{const C=y.cloudflareWorkerOrigin.replace(/^https?:\/\//,"").replace(/\/$/,"");return s.jsxs("div",{className:"space-y-3",children:[s.jsx(te,{children:"Cloudflare Worker Script ( )"}),s.jsxs("div",{className:"relative",children:[s.jsx("pre",{className:"p-4 bg-muted rounded-lg text-xs overflow-x-auto",children:`export default {
  async fetch(request) {
    const ORIGIN = "${C}";
    const SECRET = "${f}";
    const url = new URL(request.url);
    const originalHost = url.hostname;
    
    url.hostname = ORIGIN;
    
    const headers = new Headers(request.headers);
    headers.set("Host", ORIGIN);
    headers.set("X-Forwarded-Host", originalHost);
    headers.set("X-Forwarded-Proto", "https");
    headers.set("X-CF-Worker-Auth", SECRET);
    
    const response = await fetch(url.toString(), {
      method: request.method,
      headers: headers,
      body: request.body,
      redirect: "manual",
    });
    
    return new Response(response.body, {
      status: response.status,
      headers: response.headers,
    });
  },
};`}),s.jsxs(U,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>{navigator.clipboard.writeText(`export default {
  async fetch(request) {
    const ORIGIN = "${C}";
    const SECRET = "${f}";
    const url = new URL(request.url);
    const originalHost = url.hostname;
    
    url.hostname = ORIGIN;
    
    const headers = new Headers(request.headers);
    headers.set("Host", ORIGIN);
    headers.set("X-Forwarded-Host", originalHost);
    headers.set("X-Forwarded-Proto", "https");
    headers.set("X-CF-Worker-Auth", SECRET);
    
    const response = await fetch(url.toString(), {
      method: request.method,
      headers: headers,
      body: request.body,
      redirect: "manual",
    });
    
    return new Response(response.body, {
      status: response.status,
      headers: response.headers,
    });
  },
};`),e({title:" "})},"data-testid":"button-copy-worker-script",children:[s.jsx(Yn,{className:"h-4 w-4 mr-1"}),""]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" Worker  Cloudflare Dashboard  Workers & Pages  Create Worker,   "})]})})(),y.cloudflareWorkerOrigin&&!y.cloudflareWorkerSecret&&s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-700 flex items-center gap-2",children:[s.jsx(Kn,{className:"h-4 w-4"})," Worker Secret     X-Forwarded-Host"]})}),y.cloudflareWorkerOrigin&&y.cloudflareWorkerSecret==="***configured***"&&!f&&s.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700 flex items-center gap-2",children:[s.jsx(Da,{className:"h-4 w-4"}),"Worker Secret  .   ,   ."]})}),N?.cloudflareZoneId&&N?.cloudflareApiToken&&s.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-green-700 flex items-center gap-2",children:[s.jsx(Vs,{className:"h-4 w-4"}),"Cloudflare .     ."]})}),(!N?.cloudflareZoneId||!N?.cloudflareApiToken)&&s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-700 flex items-center gap-2",children:[s.jsx(Kn,{className:"h-4 w-4"})," Zone ID  API Token    SSL "]})})]})]}),s.jsx(PYe,{}),s.jsxs(U,{onClick:()=>T.mutate(y),disabled:T.isPending,className:"w-full","data-testid":"button-save-platform",children:[T.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"}),"   "]})]})}function PYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState({btcWallet:"",ethWallet:"",usdtTrc20Wallet:"",usdtErc20Wallet:""}),{data:a,isLoading:i}=Ne({queryKey:["/api/admin/crypto-wallets"],queryFn:async()=>{const l=await fetch("/api/admin/crypto-wallets",{credentials:"include"});return l.ok?l.json():null}});j.useEffect(()=>{a&&r({btcWallet:a.btcWallet||"",ethWallet:a.ethWallet||"",usdtTrc20Wallet:a.usdtTrc20Wallet||"",usdtErc20Wallet:a.usdtErc20Wallet||""})},[a]);const o=ve({mutationFn:l=>Be("PATCH","/api/admin/crypto-wallets",l),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/crypto-wallets"]}),e({title:"- "})},onError:l=>{e({title:"",description:l.message,variant:"destructive"})}});return i?s.jsx(J,{children:s.jsx(ne,{className:"py-8",children:s.jsx("div",{className:"flex justify-center",children:s.jsx(we,{className:"h-6 w-6 animate-spin"})})})}):s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(On,{className:"h-5 w-5"}),"-  "]}),s.jsx(et,{children:"       "})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"btcWallet",children:"Bitcoin (BTC)"}),s.jsx(le,{id:"btcWallet",value:n.btcWallet,onChange:l=>r({...n,btcWallet:l.target.value}),placeholder:"bc1q...","data-testid":"input-btc-wallet"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"ethWallet",children:"Ethereum (ETH)"}),s.jsx(le,{id:"ethWallet",value:n.ethWallet,onChange:l=>r({...n,ethWallet:l.target.value}),placeholder:"0x...","data-testid":"input-eth-wallet"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"usdtTrc20Wallet",children:"USDT (TRC-20)"}),s.jsx(le,{id:"usdtTrc20Wallet",value:n.usdtTrc20Wallet,onChange:l=>r({...n,usdtTrc20Wallet:l.target.value}),placeholder:"T...","data-testid":"input-usdt-trc20-wallet"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"usdtErc20Wallet",children:"USDT (ERC-20)"}),s.jsx(le,{id:"usdtErc20Wallet",value:n.usdtErc20Wallet,onChange:l=>r({...n,usdtErc20Wallet:l.target.value}),placeholder:"0x...","data-testid":"input-usdt-erc20-wallet"})]})]}),s.jsxs(U,{onClick:()=>o.mutate(n),disabled:o.isPending,"data-testid":"button-save-crypto-wallets",children:[o.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"})," "]})]})]})}function MYe(){const{toast:e}=Dt(),[t,n]=j.useState(""),[r,a]=j.useState(""),[i,o]=j.useState(""),[l,c]=j.useState(!1),[u,f]=j.useState(""),[m,p]=j.useState(!0),[g,v]=j.useState(!0),[y,w]=j.useState(null),{data:N}=Ne({queryKey:["/api/admin/migration/trackers"]}),{data:A}=Ne({queryKey:["/api/admin/users"],select:E=>E?.filter(O=>O.role==="advertiser")}),T=ve({mutationFn:E=>Be("POST","/api/admin/migration/import",E),onSuccess:E=>{w(E),E.success?e({title:" ",description:`: ${E.offersImported} , ${E.publishersImported} `}):e({title:"   ",description:`: ${E.errors?.length||0}`,variant:"destructive"})},onError:E=>{e({title:" ",description:E.message,variant:"destructive"})}}),C=()=>{if(!t||!r||!i||!u){e({title:"",description:"   ",variant:"destructive"});return}T.mutate({tracker:t,apiUrl:r,apiKey:i,advertiserId:u,options:{importOffers:m,importPublishers:g}})},S=N?.find(E=>E.id===t);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(qx,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"       "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" "}),s.jsxs(ht,{value:t,onValueChange:n,children:[s.jsx(dt,{"data-testid":"select-tracker",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:N?.map(E=>s.jsx(ke,{value:E.id,children:E.name},E.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"-"}),s.jsxs(ht,{value:u,onValueChange:f,children:[s.jsx(dt,{"data-testid":"select-advertiser",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:A?.map(E=>s.jsxs(ke,{value:E.id,children:[E.username," (",E.email,")"]},E.id))})]})]})]}),S&&s.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:S.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:S.apiKeyHelp})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"apiUrl",children:"API URL"}),s.jsx(le,{id:"apiUrl",placeholder:S?.apiUrlPlaceholder||"https://api.tracker.com",value:r,onChange:E=>a(E.target.value),"data-testid":"input-api-url"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"apiKey",children:"API "}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"apiKey",type:l?"text":"password",value:i,onChange:E=>o(E.target.value),"data-testid":"input-api-key"}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>c(!l),children:l?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(te,{className:"text-base",children:" "}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($l,{id:"importOffers",checked:m,onCheckedChange:E=>p(E),"data-testid":"checkbox-import-offers"}),s.jsx("label",{htmlFor:"importOffers",className:"text-sm font-medium cursor-pointer",children:""})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($l,{id:"importPublishers",checked:g,onCheckedChange:E=>v(E),"data-testid":"checkbox-import-publishers"}),s.jsx("label",{htmlFor:"importPublishers",className:"text-sm font-medium cursor-pointer",children:" ()"})]})]})]}),s.jsx(U,{onClick:C,disabled:T.isPending||!t||!r||!i||!u,className:"w-full","data-testid":"button-start-migration",children:T.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(du,{className:"h-4 w-4 mr-2"})," "]})})]})]}),y&&s.jsxs(J,{className:y.success?"border-green-500":"border-destructive",children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"flex items-center gap-2",children:[y.success?s.jsx(Vs,{className:"h-5 w-5 text-green-500"}):s.jsx(Kn,{className:"h-5 w-5 text-destructive"})," "]})}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-offers-imported",children:y.offersImported}),s.jsx("div",{className:"text-sm text-muted-foreground",children:" "})]}),s.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-publishers-imported",children:y.publishersImported}),s.jsx("div",{className:"text-sm text-muted-foreground",children:" "})]})]}),y.errors?.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{className:"text-destructive",children:[" (",y.errors.length,")"]}),s.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:y.errors.map((E,O)=>s.jsx("div",{className:"text-sm text-destructive bg-destructive/10 p-2 rounded",children:E},O))})]})]})]}),s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5"})," "]})}),s.jsx(ne,{children:s.jsx("div",{className:"grid grid-cols-5 gap-4",children:[{name:"Scaleo",color:"bg-blue-500"},{name:"Affilka",color:"bg-purple-500"},{name:"Affise",color:"bg-orange-500"},{name:"Voluum",color:"bg-green-500"},{name:"Keitaro",color:"bg-red-500"}].map(E=>s.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${E.color}`}),s.jsx("span",{className:"text-sm font-medium",children:E.name})]},E.name))})})]})]})}function _Ye(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState("roadmap"),[a,i]=j.useState(null),[o,l]=j.useState(!1),[c,u]=j.useState({title:"",description:"",quarter:"Q1 2026",status:"planned",priority:0,isPublished:!1}),{data:f=[],isLoading:m}=Ne({queryKey:["/api/admin/roadmap"]}),{data:p=[],isLoading:g}=Ne({queryKey:["/api/admin/news"]}),v=ve({mutationFn:O=>Be("POST","/api/admin/roadmap",O),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/roadmap"]}),e({title:" "}),l(!1),A()},onError:O=>{e({title:"",description:O.message,variant:"destructive"})}}),y=ve({mutationFn:({id:O,data:_})=>Be("PUT",`/api/admin/roadmap/${O}`,_),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/roadmap"]}),e({title:" "}),i(null),l(!1),A()},onError:O=>{e({title:"",description:O.message,variant:"destructive"})}}),w=ve({mutationFn:O=>Be("DELETE",`/api/admin/roadmap/${O}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/roadmap"]}),e({title:" "})},onError:O=>{e({title:"",description:O.message,variant:"destructive"})}}),N=ve({mutationFn:({id:O,data:_})=>Be("PATCH",`/api/admin/news/${O}/landing`,_),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/news"]}),e({title:" "})},onError:O=>{e({title:"",description:O.message,variant:"destructive"})}}),A=()=>{u({title:"",description:"",quarter:"Q1 2026",status:"planned",priority:0,isPublished:!1})},T=()=>{a?y.mutate({id:a.id,data:c}):v.mutate(c)},C=O=>{i(O),u({title:O.title,description:O.description,quarter:O.quarter,status:O.status,priority:O.priority||0,isPublished:O.isPublished}),l(!0)},S={planned:"",in_progress:" ",completed:""},E=["Q1 2026","Q2 2026","Q3 2026","Q4 2026","Q1 2027","Q2 2027"];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(U,{variant:n==="roadmap"?"default":"outline",onClick:()=>r("roadmap"),"data-testid":"button-section-roadmap",children:[s.jsx(uF,{className:"h-4 w-4 mr-2"}),"Roadmap"]}),s.jsxs(U,{variant:n==="news"?"default":"outline",onClick:()=>r("news"),"data-testid":"button-section-news",children:[s.jsx(Ia,{className:"h-4 w-4 mr-2"}),"  "]})]}),n==="roadmap"&&s.jsxs(J,{children:[s.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(uF,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"     "})]}),s.jsxs(U,{onClick:()=>{A(),i(null),l(!0)},"data-testid":"button-add-roadmap",children:[s.jsx(fr,{className:"h-4 w-4 mr-2"}),""]})]}),s.jsxs(ne,{className:"space-y-4",children:[o&&s.jsx(J,{className:"border-primary",children:s.jsxs(ne,{className:"pt-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsx(le,{value:c.title,onChange:O=>u({...c,title:O.target.value}),placeholder:" ...","data-testid":"input-roadmap-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsxs(ht,{value:c.quarter,onValueChange:O=>u({...c,quarter:O}),children:[s.jsx(dt,{"data-testid":"select-roadmap-quarter",children:s.jsx(mt,{})}),s.jsx(ut,{children:E.map(O=>s.jsx(ke,{value:O,children:O},O))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsx(le,{value:c.description,onChange:O=>u({...c,description:O.target.value}),placeholder:" ...","data-testid":"input-roadmap-description"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsxs(ht,{value:c.status,onValueChange:O=>u({...c,status:O}),children:[s.jsx(dt,{"data-testid":"select-roadmap-status",children:s.jsx(mt,{})}),s.jsxs(ut,{children:[s.jsx(ke,{value:"planned",children:""}),s.jsx(ke,{value:"in_progress",children:" "}),s.jsx(ke,{value:"completed",children:""})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsx(le,{type:"number",value:c.priority,onChange:O=>u({...c,priority:parseInt(O.target.value)||0}),"data-testid":"input-roadmap-priority"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[s.jsx(vr,{checked:c.isPublished,onCheckedChange:O=>u({...c,isPublished:O}),"data-testid":"switch-roadmap-published"}),s.jsx(te,{children:""})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{onClick:T,disabled:!c.title||!c.description,"data-testid":"button-save-roadmap",children:[s.jsx(Es,{className:"h-4 w-4 mr-2"}),a?"":""]}),s.jsx(U,{variant:"outline",onClick:()=>{l(!1),i(null)},"data-testid":"button-cancel-roadmap",children:""})]})]})}),m?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"h-8 w-8 animate-spin"})}):f.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"    "}):s.jsx("div",{className:"space-y-2",children:f.map(O=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`roadmap-item-${O.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:O.title}),s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-muted",children:O.quarter}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${O.status==="completed"?"bg-green-500/20 text-green-500":O.status==="in_progress"?"bg-yellow-500/20 text-yellow-500":"bg-muted"}`,children:S[O.status]||O.status}),O.isPublished&&s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-primary/20 text-primary",children:""})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:O.description})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>C(O),"data-testid":`button-edit-${O.id}`,children:s.jsx(r_,{className:"h-4 w-4"})}),s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>w.mutate(O.id),"data-testid":`button-delete-${O.id}`,children:s.jsx(Os,{className:"h-4 w-4 text-destructive"})})]})]},O.id))})]})]}),n==="news"&&s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Ia,{className:"h-5 w-5"}),"  "]}),s.jsx(et,{children:"      "})]}),s.jsx(ne,{children:g?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"h-8 w-8 animate-spin"})}):p.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:' .     "" .'}):s.jsx("div",{className:"space-y-2",children:p.map(O=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`news-item-${O.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:O.title}),O.showOnLanding&&s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-green-500/20 text-green-500",children:" "})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:O.shortDescription||O.body?.substring(0,100)})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vr,{checked:O.showOnLanding||!1,onCheckedChange:_=>N.mutate({id:O.id,data:{showOnLanding:_}}),"data-testid":`switch-landing-${O.id}`}),s.jsx(te,{className:"text-sm",children:" "})]})})]},O.id))})})]})]})}function RYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(null),[a,i]=j.useState(null),[o,l]=j.useState(""),[c,u]=j.useState(""),{data:f=[],isLoading:m}=Ne({queryKey:["/api/admin/domain-requests"]}),p=ve({mutationFn:async({id:N,notes:A})=>{const T=await fetch(`/api/admin/domain-requests/${N}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({adminNotes:A})});if(!T.ok){const C=await T.json();throw new Error(C.message||"Approval failed")}return T.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/domain-requests"]}),e({title:" ",description:"    provisioning"}),y()},onError:N=>{e({title:" ",description:N.message,variant:"destructive"})}}),g=ve({mutationFn:async({id:N,reason:A})=>{const T=await fetch(`/api/admin/domain-requests/${N}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:A})});if(!T.ok){const C=await T.json();throw new Error(C.message||"Rejection failed")}return T.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/domain-requests"]}),e({title:" "}),y()},onError:N=>{e({title:" ",description:N.message,variant:"destructive"})}}),v=ve({mutationFn:async N=>{const A=await fetch(`/api/admin/domain-requests/${N}/activate`,{method:"POST",credentials:"include"});if(!A.ok){const T=await A.json();throw new Error(T.message||"Activation failed")}return A.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/domain-requests"]}),e({title:" ",description:"   "})},onError:N=>{e({title:" ",description:N.message,variant:"destructive"})}}),y=()=>{r(null),i(null),l(""),u("")},w=N=>{switch(N){case"admin_review":return s.jsxs(ye,{variant:"secondary",className:"bg-blue-500/10 text-blue-400 border-blue-500/30",children:[s.jsx(Yt,{className:"w-3 h-3 mr-1"})," "]});case"provisioning":return s.jsxs(ye,{variant:"secondary",className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/30",children:[s.jsx(Br,{className:"w-3 h-3 mr-1 animate-spin"}),"Provisioning"]});case"active":return s.jsxs(ye,{variant:"default",className:"bg-green-500/20 text-green-400 border-green-500/30",children:[s.jsx(bt,{className:"w-3 h-3 mr-1"}),""]});case"rejected":return s.jsxs(ye,{variant:"destructive",children:[s.jsx(Xn,{className:"w-3 h-3 mr-1"}),""]});case"pending":case"ns_configured":default:return s.jsxs(ye,{variant:"outline",children:[s.jsx(Ui,{className:"w-3 h-3 mr-1"})," NS"]})}};return m?s.jsx("div",{className:"p-6 text-muted-foreground",children:" ..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-domain-requests-title",children:"  "}),s.jsx("p",{className:"text-muted-foreground",children:"      "})]}),f.length===0?s.jsx(J,{children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(jn,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"    "})]})}):s.jsx(J,{children:s.jsx(ne,{className:"p-0",children:s.jsxs(Ou,{children:[s.jsx(Pu,{children:s.jsxs(Ra,{children:[s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:" "}),s.jsx(Ht,{children:""})]})}),s.jsx(Mu,{children:f.map(N=>s.jsxs(Ra,{"data-testid":`row-domain-request-${N.id}`,children:[s.jsx(Kt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jn,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"font-mono",children:N.domain})]})}),s.jsx(Kt,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:N.advertiser.companyName||N.advertiser.username}),s.jsx("div",{className:"text-sm text-muted-foreground",children:N.advertiser.email})]})}),s.jsx(Kt,{children:w(N.requestStatus)}),s.jsx(Kt,{children:N.requestedAt?s.jsxs("div",{children:[s.jsx("div",{children:Eu(new Date(N.requestedAt),"d MMM yyyy",{locale:Si})}),s.jsx("div",{className:"text-xs text-muted-foreground",children:Oy(new Date(N.requestedAt),{addSuffix:!0,locale:Si})})]}):s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsx(Kt,{children:s.jsxs("div",{className:"flex gap-2",children:[N.requestStatus==="admin_review"&&s.jsxs(s.Fragment,{children:[s.jsxs(U,{size:"sm",variant:"default",className:"bg-green-600 hover:bg-green-700",onClick:()=>{r(N),i("approve")},"data-testid":`button-approve-${N.id}`,children:[s.jsx(bt,{className:"w-4 h-4 mr-1"}),""]}),s.jsxs(U,{size:"sm",variant:"destructive",onClick:()=>{r(N),i("reject")},"data-testid":`button-reject-${N.id}`,children:[s.jsx(Xn,{className:"w-4 h-4 mr-1"}),""]})]}),N.requestStatus==="provisioning"&&s.jsxs(U,{size:"sm",variant:"default",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>v.mutate(N.id),disabled:v.isPending,"data-testid":`button-activate-${N.id}`,children:[s.jsx(ph,{className:`w-4 h-4 mr-1 ${v.isPending?"animate-spin":""}`}),""]})]})})]},N.id))})]})})}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsx(Ie,{children:"  "}),s.jsx(et,{children:"     "})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"1.    Replit Deployment"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" Deployments  Settings  Custom Domains   ."})]}),s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"2.  DNS  Cloudflare"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" CNAME   ,   Replit deployment URL."})]}),s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"3.  "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'    ""   .'})]})]})]}),s.jsx(Wt,{open:!!n&&!!a,onOpenChange:y,children:s.jsxs(zt,{children:[s.jsxs(qt,{children:[s.jsx(Ut,{children:a==="approve"?" ":" "}),s.jsxs(ao,{children:[": ",s.jsx("span",{className:"font-mono",children:n?.domain})]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[a==="approve"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"adminNotes",children:" ()"}),s.jsx(vi,{id:"adminNotes",value:o,onChange:N=>l(N.target.value),placeholder:"   ...","data-testid":"input-admin-notes"})]}),a==="reject"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"rejectionReason",children:"  *"}),s.jsx(vi,{id:"rejectionReason",value:c,onChange:N=>u(N.target.value),placeholder:"   ...","data-testid":"input-rejection-reason"})]})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:y,children:""}),a==="approve"&&s.jsx(U,{className:"bg-green-600 hover:bg-green-700",onClick:()=>n&&p.mutate({id:n.id,notes:o}),disabled:p.isPending,"data-testid":"button-confirm-approve",children:""}),a==="reject"&&s.jsx(U,{variant:"destructive",onClick:()=>n&&g.mutate({id:n.id,reason:c}),disabled:!c||g.isPending,"data-testid":"button-confirm-reject",children:""})]})]})})]})}const MK={trial:" ",active:"",cancelled:"",expired:"",past_due:"",pending_payment:" "},DYe={trial:"bg-blue-500/20 text-blue-400 border-blue-500/30",active:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cancelled:"bg-gray-500/20 text-gray-400 border-gray-500/30",expired:"bg-red-500/20 text-red-400 border-red-500/30",past_due:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",pending_payment:"bg-orange-500/20 text-orange-400 border-orange-500/30"};function IYe(){const e=rt(),[t,n]=j.useState(""),[r,a]=j.useState(""),[i,o]=j.useState(""),[l,c]=j.useState(null),[u,f]=j.useState("30"),[m,p]=j.useState(null),[g,v]=j.useState(""),[y,w]=j.useState(!1),[N,A]=j.useState(""),[T,C]=j.useState(""),[S,E]=j.useState("1"),{data:O,isLoading:_,refetch:M}=Ne({queryKey:["admin-subscriptions",t,r,i],queryFn:async()=>{const R=new URLSearchParams;t&&R.set("search",t),r&&R.set("status",r),i&&R.set("planId",i);const B=await fetch(`/api/admin/subscriptions?${R}`,{credentials:"include"});if(!B.ok)throw new Error("Failed to fetch subscriptions");return B.json()}}),{data:$}=Ne({queryKey:["admin-users-for-grant"],queryFn:async()=>{const R=await fetch("/api/admin/users?role=advertiser",{credentials:"include"});if(!R.ok)return[];const B=await R.json();return B.users||B}}),z=ve({mutationFn:async({id:R,days:B})=>{const L=await fetch(`/api/admin/subscriptions/${R}/extend`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({extendByDays:B})});if(!L.ok){const q=await L.json();throw new Error(q.message||"Failed to extend subscription")}return L.json()},onSuccess:()=>{Rt.success(" "),c(null),e.invalidateQueries({queryKey:["admin-subscriptions"]})},onError:R=>{Rt.error(R.message)}}),V=ve({mutationFn:async({id:R,planId:B})=>{const L=await fetch(`/api/admin/subscriptions/${R}/change-plan`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({planId:B})});if(!L.ok){const q=await L.json();throw new Error(q.message||"Failed to change plan")}return L.json()},onSuccess:()=>{Rt.success(" "),p(null),e.invalidateQueries({queryKey:["admin-subscriptions"]})},onError:R=>{Rt.error(R.message)}}),I=ve({mutationFn:async({userId:R,planId:B,periodMonths:L})=>{const q=await fetch("/api/admin/subscriptions/grant",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userId:R,planId:B,periodMonths:L})});if(!q.ok){const se=await q.json();throw new Error(se.message||"Failed to grant subscription")}return q.json()},onSuccess:()=>{Rt.success(" "),w(!1),A(""),C(""),E("1"),e.invalidateQueries({queryKey:["admin-subscriptions"]})},onError:R=>{Rt.error(R.message)}}),F=O?.subscriptions||[],K=O?.plans||[];return _?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:" "}),s.jsx("p",{className:"text-muted-foreground",children:"    "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{onClick:()=>w(!0),"data-testid":"button-grant-subscription",children:[s.jsx(whe,{className:"w-4 h-4 mr-2"})," "]}),s.jsxs(U,{variant:"outline",onClick:()=>M(),"data-testid":"button-refresh-subscriptions",children:[s.jsx(Br,{className:"w-4 h-4 mr-2"}),""]})]})]}),s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(pn,{className:"w-5 h-5"})," (",F.length,")"]})}),s.jsxs(ne,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{placeholder:"  email  username...",value:t,onChange:R=>n(R.target.value),className:"pl-10","data-testid":"input-search-subscriptions"})]}),s.jsxs(ht,{value:r||"all",onValueChange:R=>a(R==="all"?"":R),children:[s.jsx(dt,{className:"w-[180px]","data-testid":"select-status-filter",children:s.jsx(mt,{placeholder:" "})}),s.jsxs(ut,{children:[s.jsx(ke,{value:"all","data-testid":"select-status-all",children:" "}),Object.entries(MK).map(([R,B])=>s.jsx(ke,{value:R,"data-testid":`select-status-${R}`,children:B},R))]})]}),s.jsxs(ht,{value:i||"all",onValueChange:R=>o(R==="all"?"":R),children:[s.jsx(dt,{className:"w-[180px]","data-testid":"select-plan-filter",children:s.jsx(mt,{placeholder:" "})}),s.jsxs(ut,{children:[s.jsx(ke,{value:"all","data-testid":"select-plan-all",children:" "}),K.map(R=>s.jsx(ke,{value:R.id,"data-testid":`select-plan-${R.id}`,children:R.name},R.id))]})]})]}),F.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Kn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"  "})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ou,{children:[s.jsx(Pu,{children:s.jsxs(Ra,{children:[s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{className:"text-right",children:""})]})}),s.jsx(Mu,{children:F.map(R=>s.jsxs(Ra,{"data-testid":`subscription-row-${R.id}`,children:[s.jsx(Kt,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:R.user.username}),s.jsx("p",{className:"text-xs text-muted-foreground",children:R.user.email})]})}),s.jsx(Kt,{children:R.plan?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(she,{className:"w-4 h-4 text-amber-400"}),s.jsx("span",{children:R.plan.name})]}):s.jsx("span",{className:"text-muted-foreground",children:" "})}),s.jsx(Kt,{children:s.jsx(ye,{variant:"outline",className:DYe[R.status]||"",children:MK[R.status]||R.status})}),s.jsx(Kt,{children:R.status==="trial"&&R.trialEndsAt?s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-muted-foreground",children:" :"}),s.jsx("p",{children:Eu(new Date(R.trialEndsAt),"dd MMM yyyy",{locale:Si})})]}):R.currentPeriodEnd?s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-muted-foreground",children:" :"}),s.jsx("p",{children:Eu(new Date(R.currentPeriodEnd),"dd MMM yyyy",{locale:Si})})]}):s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsx(Kt,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>{c(R),f("30")},"data-testid":`button-extend-${R.id}`,children:[s.jsx(Lfe,{className:"w-4 h-4 mr-1"}),""]}),s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>{p(R),v(R.planId||"")},"data-testid":`button-change-plan-${R.id}`,children:[s.jsx(bfe,{className:"w-4 h-4 mr-1"}),""]})]})})]},R.id))})]})})]})]}),s.jsx(Wt,{open:!!l,onOpenChange:()=>c(null),children:s.jsxs(zt,{children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:[": ",s.jsx("span",{className:"font-medium text-foreground",children:l?.user.username})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" "}),s.jsx(le,{type:"number",value:u,onChange:R=>f(R.target.value),min:"1","data-testid":"input-extend-days"})]})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:()=>c(null),"data-testid":"button-cancel-extend",children:""}),s.jsxs(U,{onClick:()=>{l&&z.mutate({id:l.id,days:parseInt(u)})},disabled:z.isPending,"data-testid":"button-confirm-extend",children:[z.isPending&&s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})}),s.jsx(Wt,{open:!!m,onOpenChange:()=>p(null),children:s.jsxs(zt,{children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:[": ",s.jsx("span",{className:"font-medium text-foreground",children:m?.user.username})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" "}),s.jsxs(ht,{value:g,onValueChange:v,children:[s.jsx(dt,{"data-testid":"select-new-plan",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:K.map(R=>s.jsxs(ke,{value:R.id,"data-testid":`select-change-plan-${R.id}`,children:[R.name,"  $",R.monthlyPrice,"/"]},R.id))})]})]})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:()=>p(null),"data-testid":"button-cancel-change-plan",children:""}),s.jsxs(U,{onClick:()=>{m&&g&&V.mutate({id:m.id,planId:g})},disabled:V.isPending||!g,"data-testid":"button-confirm-change-plan",children:[V.isPending&&s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})}),s.jsx(Wt,{open:y,onOpenChange:w,children:s.jsxs(zt,{children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsxs(ht,{value:N,onValueChange:A,children:[s.jsx(dt,{"data-testid":"select-grant-user",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:$?.map(R=>s.jsxs(ke,{value:R.id,"data-testid":`select-grant-user-${R.id}`,children:[R.username," (",R.email,")"]},R.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsxs(ht,{value:T,onValueChange:C,children:[s.jsx(dt,{"data-testid":"select-grant-plan",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:K.map(R=>s.jsxs(ke,{value:R.id,"data-testid":`select-grant-plan-${R.id}`,children:[R.name,"  $",R.monthlyPrice,"/"]},R.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" ()"}),s.jsx(le,{type:"number",value:S,onChange:R=>E(R.target.value),min:"1","data-testid":"input-grant-months"})]})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:()=>w(!1),"data-testid":"button-cancel-grant",children:""}),s.jsxs(U,{onClick:()=>{N&&T&&I.mutate({userId:N,planId:T,periodMonths:parseInt(S)})},disabled:I.isPending||!N||!T,"data-testid":"button-confirm-grant",children:[I.isPending&&s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})})]})}const Yp=[{value:"manager",label:"",icon:hh,description:" "},{value:"analyst",label:"",icon:mh,description:"  "},{value:"support",label:"",icon:zW,description:"  "},{value:"finance",label:"",icon:Qr,description:"  "}];function LYe(){const e=rt(),{canWrite:t}=Zg(),[n,r]=j.useState(!1),[a,i]=j.useState(null),[o,l]=j.useState({fullName:"",email:"",staffRole:"analyst",password:""}),[c,u]=j.useState(!1),f=t("team"),{data:m=[],isLoading:p}=Ne({queryKey:["advertiser-staff"],queryFn:async()=>{const T=await fetch("/api/advertiser/staff",{credentials:"include"});if(!T.ok)throw new Error("Failed to fetch staff");return T.json()}}),g=ve({mutationFn:async T=>(await Be("POST","/api/advertiser/staff",T)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["advertiser-staff"]}),r(!1),l({fullName:"",email:"",staffRole:"analyst",password:""})}}),v=ve({mutationFn:async({id:T,data:C})=>(await Be("PUT",`/api/advertiser/staff/${T}`,C)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["advertiser-staff"]}),i(null)}}),y=ve({mutationFn:async T=>(await Be("DELETE",`/api/advertiser/staff/${T}`,{})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["advertiser-staff"]})}}),w=T=>Yp.find(C=>C.value===T)||Yp[1],N=T=>{if(T.preventDefault(),a){const C={fullName:o.fullName,staffRole:o.staffRole};o.password&&(C.password=o.password),v.mutate({id:a.id,data:C})}else g.mutate(o)},A=T=>{i(T),l({fullName:T.fullName,email:T.email,staffRole:T.staffRole,password:""})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(pn,{className:"w-6 h-6 text-blue-500"}),""]}),s.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"  "})]}),f&&s.jsxs(Wt,{open:n,onOpenChange:r,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{"data-testid":"button-add-staff",className:"bg-emerald-600 hover:bg-emerald-500",children:[s.jsx(Do,{className:"w-4 h-4 mr-2"})," "]})}),s.jsxs(zt,{children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsx(le,{"data-testid":"input-staff-name",value:o.fullName,onChange:T=>l({...o,fullName:T.target.value}),placeholder:" ",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"Email"}),s.jsx(le,{"data-testid":"input-staff-email",type:"email",value:o.email,onChange:T=>l({...o,email:T.target.value}),placeholder:"ivan@company.com",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsxs(ht,{value:o.staffRole,onValueChange:T=>l({...o,staffRole:T}),children:[s.jsx(dt,{"data-testid":"select-staff-role",children:s.jsx(mt,{})}),s.jsx(ut,{children:Yp.map(T=>s.jsx(ke,{value:T.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(T.icon,{className:"w-4 h-4"}),s.jsx("span",{children:T.label}),s.jsxs("span",{className:"text-muted-foreground text-xs",children:[" ",T.description]})]})},T.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsx(le,{"data-testid":"input-staff-password",type:"password",value:o.password,onChange:T=>l({...o,password:T.target.value}),placeholder:"",required:!0})]}),s.jsxs(U,{type:"submit",className:"w-full",disabled:g.isPending,children:[g.isPending&&s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})]})]}),s.jsx("div",{className:"grid gap-4 grid-cols-2 lg:grid-cols-4",children:Yp.map(T=>s.jsxs(J,{className:"bg-card/50 border-border",children:[s.jsx(Pe,{className:"pb-2",children:s.jsxs(Ie,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(T.icon,{className:"w-4 h-4 text-muted-foreground"}),T.label]})}),s.jsxs(ne,{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:T.description}),s.jsx("p",{className:"text-2xl font-bold mt-2",children:m.filter(C=>C.staffRole===T.value).length})]})]},T.value))}),s.jsx(O5,{open:c,onOpenChange:u,children:s.jsxs(J,{className:"bg-blue-500/5 border-blue-500/20",children:[s.jsx(P5,{asChild:!0,children:s.jsx(Pe,{className:"cursor-pointer hover:bg-blue-500/10 transition-colors",children:s.jsxs(Ie,{className:"text-sm font-medium flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-400",children:[s.jsx(UW,{className:"w-4 h-4"}),"   "]}),s.jsx(fa,{className:`w-4 h-4 text-blue-400 transition-transform ${c?"rotate-180":""}`})]})})}),s.jsx(M5,{children:s.jsxs(ne,{className:"pt-0 text-sm text-muted-foreground space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground mb-2",children:"  :"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[s.jsx("li",{children:'  " "'}),s.jsx("li",{children:" , email  "}),s.jsx("li",{children:"     "}),s.jsx("li",{children:"    email + "})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground mb-2",children:"   :"}),s.jsxs("div",{className:"space-y-2 ml-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(hh,{className:"w-4 h-4 mt-0.5 text-purple-400"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-foreground",children:""}),s.jsx("span",{className:"text-muted-foreground",children:"      : , , , "})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(mh,{className:"w-4 h-4 mt-0.5 text-blue-400"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-foreground",children:""}),s.jsx("span",{className:"text-muted-foreground",children:"   ,    ( )"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(zW,{className:"w-4 h-4 mt-0.5 text-emerald-400"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-foreground",children:""}),s.jsx("span",{className:"text-muted-foreground",children:"    ,   "})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Qr,{className:"w-4 h-4 mt-0.5 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-foreground",children:""}),s.jsx("span",{className:"text-muted-foreground",children:"   ,    "})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground mb-2",children:":"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[s.jsx("li",{children:"     email  "}),s.jsx("li",{children:"      "}),s.jsx("li",{children:"         "}),s.jsx("li",{children:"       "})]})]})]})})]})}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{children:s.jsx(Ie,{className:"text-lg",children:""})}),s.jsx(ne,{children:p?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):m.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(pn,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:" "}),s.jsx("p",{className:"text-sm",children:"   "})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border text-left text-xs text-muted-foreground uppercase",children:[s.jsx("th",{className:"py-3 px-4",children:""}),s.jsx("th",{className:"py-3 px-4",children:"Email"}),s.jsx("th",{className:"py-3 px-4",children:""}),s.jsx("th",{className:"py-3 px-4",children:""}),s.jsx("th",{className:"py-3 px-4",children:""}),s.jsx("th",{className:"py-3 px-4 text-right",children:""})]})}),s.jsx("tbody",{children:m.map(T=>{const C=w(T.staffRole);return s.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:s.jsx(Or,{className:"w-4 h-4 text-muted-foreground"})}),s.jsx("span",{className:"font-medium",children:T.fullName})]})}),s.jsx("td",{className:"py-3 px-4 text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ji,{className:"w-3 h-3"}),T.email]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs(ye,{variant:"outline",className:"gap-1",children:[s.jsx(C.icon,{className:"w-3 h-3"}),C.label]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(ye,{variant:T.status==="active"?"default":"destructive",children:T.status==="active"?"":""})}),s.jsx("td",{className:"py-3 px-4 text-muted-foreground text-sm",children:new Date(T.createdAt).toLocaleDateString("ru-RU")}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex justify-end gap-2",children:f&&s.jsxs(s.Fragment,{children:[s.jsxs(Wt,{open:a?.id===T.id,onOpenChange:S=>!S&&i(null),children:[s.jsx(ks,{asChild:!0,children:s.jsx(U,{"data-testid":`button-edit-staff-${T.id}`,size:"sm",variant:"outline",onClick:()=>A(T),children:s.jsx(r_,{className:"w-4 h-4"})})}),s.jsxs(zt,{children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsx(le,{value:o.fullName,onChange:S=>l({...o,fullName:S.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsxs(ht,{value:o.staffRole,onValueChange:S=>l({...o,staffRole:S}),children:[s.jsx(dt,{children:s.jsx(mt,{})}),s.jsx(ut,{children:Yp.map(S=>s.jsx(ke,{value:S.value,children:S.label},S.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"  ()"}),s.jsx(le,{type:"password",value:o.password,onChange:S=>l({...o,password:S.target.value}),placeholder:" ,   "})]}),s.jsxs(U,{type:"submit",className:"w-full",disabled:v.isPending,children:[v.isPending&&s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})]}),s.jsx(U,{"data-testid":`button-toggle-staff-${T.id}`,size:"sm",variant:T.status==="active"?"destructive":"default",onClick:()=>v.mutate({id:T.id,data:{status:T.status==="active"?"blocked":"active"}}),disabled:v.isPending,children:s.jsx(Fn,{className:"w-4 h-4"})}),s.jsx(U,{"data-testid":`button-delete-staff-${T.id}`,size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",onClick:()=>y.mutate(T.id),disabled:y.isPending,children:s.jsx(Os,{className:"w-4 h-4"})})]})})})]},T.id)})})]})})})]})]})}function So({className:e,...t}){return s.jsx("div",{className:Re("animate-pulse rounded-md bg-primary/10",e),...t})}function $Ye(){const e=rt(),{toast:t}=Dt(),[n,r]=j.useState(""),[a,i]=j.useState(null),[o,l]=j.useState(""),[c,u]=j.useState("5"),{data:f=[],isLoading:m}=Ne({queryKey:["advertiser-referrals"],queryFn:async()=>{const E=await fetch("/api/advertiser/referrals",{credentials:"include"});if(!E.ok)throw new Error("   ");return E.json()}}),{data:p}=Ne({queryKey:["advertiser-referrals-stats"],queryFn:async()=>{const E=await fetch("/api/advertiser/referrals/stats",{credentials:"include"});if(!E.ok)throw new Error("   ");return E.json()}}),g=ve({mutationFn:async({publisherId:E,referralEnabled:O,referralRate:_})=>(await Be("PATCH",`/api/advertiser/referrals/${E}`,{referralEnabled:O,referralRate:_})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["advertiser-referrals"]}),i(null),l("")},onError:E=>{t({variant:"destructive",title:"",description:E.message})}}),v=ve({mutationFn:async({referralEnabled:E,referralRate:O})=>(await Be("PATCH","/api/advertiser/referrals/bulk",{referralEnabled:E,referralRate:O})).json(),onSuccess:E=>{e.invalidateQueries({queryKey:["advertiser-referrals"]}),t({title:" ",description:` : ${E.updated}`})},onError:E=>{t({variant:"destructive",title:"",description:E.message})}}),y=f.filter(E=>E.publisherName.toLowerCase().includes(n.toLowerCase())),w=f.reduce((E,O)=>E+O.referredCount,0),N=f.reduce((E,O)=>E+O.totalPaid,0),A=f.filter(E=>E.referralEnabled).length,T=(E,O)=>{g.mutate({publisherId:E,referralEnabled:!O})},C=E=>{const O=parseFloat(o);isNaN(O)||O<0||O>100||g.mutate({publisherId:E,referralRate:o})},S=(E,O)=>{i(E),l(O)};return m?s.jsxs("div",{className:"space-y-6",children:[s.jsx(So,{className:"h-8 w-64"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(So,{className:"h-24"}),s.jsx(So,{className:"h-24"}),s.jsx(So,{className:"h-24"})]}),s.jsx(So,{className:"h-64"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-3","data-testid":"text-referrals-title",children:[s.jsx(Ea,{className:"w-6 h-6"})," "]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"    "})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[s.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(qr,{className:"w-4 h-4 text-emerald-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]}),s.jsx("p",{className:"text-xl font-bold text-emerald-400","data-testid":"text-active-programs",children:A})]}),s.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Do,{className:"w-4 h-4 text-blue-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]}),s.jsx("p",{className:"text-xl font-bold text-blue-400","data-testid":"text-total-referred",children:w})]}),s.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Sn,{className:"w-4 h-4 text-yellow-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]}),s.jsx("p",{className:"text-xl font-bold text-yellow-400","data-testid":"text-total-paid",children:Xe(N)})]}),s.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Qr,{className:"w-4 h-4 text-purple-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),s.jsx("p",{className:"text-xl font-bold text-purple-400","data-testid":"text-accrued",children:Xe(p?.accrued||0)})]}),s.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Vs,{className:"w-4 h-4 text-emerald-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),s.jsx("p",{className:"text-xl font-bold text-emerald-400","data-testid":"text-paid",children:Xe(p?.paid||0)})]}),s.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Yt,{className:"w-4 h-4 text-orange-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]}),s.jsx("p",{className:"text-xl font-bold text-orange-400","data-testid":"text-pending",children:Xe(p?.pending||0)})]})]}),s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ie,{className:"text-lg",children:""}),s.jsxs("div",{className:"relative w-64",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(le,{"data-testid":"input-search-publishers",placeholder:" ...",value:n,onChange:E=>r(E.target.value),className:"pl-10"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 p-3 rounded-lg bg-muted/30 border border-border/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mme,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:" :"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(le,{"data-testid":"input-bulk-rate",type:"number",min:"0",max:"100",step:"0.1",value:c,onChange:E=>u(E.target.value),className:"w-20 h-8 text-center",placeholder:"%"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"%"})]}),s.jsxs(U,{"data-testid":"button-bulk-enable",size:"sm",variant:"default",className:"bg-emerald-600 hover:bg-emerald-700",onClick:()=>{const E=parseFloat(c);if(isNaN(E)||E<0||E>100){t({variant:"destructive",title:"",description:"    0  100"});return}v.mutate({referralEnabled:!0,referralRate:c})},disabled:v.isPending||f.length===0,children:[v.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin mr-1"}):null,"  "]}),s.jsx(U,{"data-testid":"button-bulk-disable",size:"sm",variant:"outline",onClick:()=>{const E=parseFloat(c);if(isNaN(E)||E<0||E>100){t({variant:"destructive",title:"",description:"    0  100"});return}v.mutate({referralEnabled:!1,referralRate:c})},disabled:v.isPending||f.length===0,children:"  "})]})]})}),s.jsx(ne,{children:y.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Ea,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"   "})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-muted-foreground",children:" "}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:""})]})}),s.jsx("tbody",{children:y.map(E=>s.jsxs("tr",{className:"border-b border-border/50 hover:bg-muted/20","data-testid":`row-publisher-${E.publisherId}`,children:[s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"font-medium text-foreground","data-testid":`text-publisher-name-${E.publisherId}`,children:E.publisherName})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx(vr,{"data-testid":`switch-referral-${E.publisherId}`,checked:E.referralEnabled,onCheckedChange:()=>T(E.publisherId,E.referralEnabled),disabled:g.isPending})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:a===E.publisherId?s.jsxs(s.Fragment,{children:[s.jsx(le,{"data-testid":`input-rate-${E.publisherId}`,type:"number",min:"0",max:"100",step:"0.1",value:o,onChange:O=>l(O.target.value),className:"w-20 h-8 text-center"}),s.jsx("span",{className:"text-muted-foreground",children:"%"}),s.jsx(U,{"data-testid":`button-save-rate-${E.publisherId}`,size:"sm",variant:"ghost",onClick:()=>C(E.publisherId),disabled:g.isPending,children:g.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin"}):s.jsx(Es,{className:"w-4 h-4 text-emerald-400"})})]}):s.jsx(U,{"data-testid":`button-edit-rate-${E.publisherId}`,variant:"ghost",size:"sm",onClick:()=>S(E.publisherId,E.referralRate),className:"flex items-center gap-1",children:s.jsxs(ye,{variant:"outline",className:"bg-purple-500/20 text-purple-400 border-purple-500/30",children:[s.jsx(gme,{className:"w-3 h-3 mr-1"}),E.referralRate,"%"]})})})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsxs(ye,{variant:"outline",className:E.referredCount>0?"bg-blue-500/20 text-blue-400 border-blue-500/30":"",children:[s.jsx(Do,{className:"w-3 h-3 mr-1"}),E.referredCount]})}),s.jsx("td",{className:"py-3 px-4 text-right",children:s.jsxs("span",{className:E.totalPaid>0?"text-emerald-400 font-medium":"text-muted-foreground","data-testid":`text-paid-${E.publisherId}`,children:["$",E.totalPaid.toFixed(2)]})})]},E.publisherId))})]})})})]}),s.jsx(J,{className:"bg-blue-500/10 border-blue-500/30",children:s.jsx(ne,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-full bg-blue-500/20",children:s.jsx(Ea,{className:"w-5 h-5 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-foreground mb-1",children:"   ?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"       ,       . ,    5%     $100,   $5 ."})]})]})})})]})}function FYe(){const{selectedAdvertiserId:e,selectedAdvertiser:t}=Vl(),[n,r]=j.useState(!1),{data:a,isLoading:i}=Ne({queryKey:["publisher-referrals-info",e],queryFn:async()=>{if(!e)throw new Error(" ");const w=await fetch(`/api/publisher/referrals/${e}`,{credentials:"include"});if(!w.ok)throw new Error("   ");return w.json()},enabled:!!e}),{data:o,isLoading:l}=Ne({queryKey:["publisher-referrals-stats",e],queryFn:async()=>{if(!e)throw new Error(" ");const w=await fetch(`/api/publisher/referrals/${e}/stats`,{credentials:"include"});if(!w.ok)throw new Error("   ");return w.json()},enabled:!!e&&a?.enabled===!0}),{data:c=[],isLoading:u}=Ne({queryKey:["publisher-referrals-earnings",e],queryFn:async()=>{if(!e)throw new Error(" ");const w=await fetch(`/api/publisher/referrals/${e}/earnings`,{credentials:"include"});if(!w.ok)throw new Error("   ");return w.json()},enabled:!!e&&a?.enabled===!0}),f=()=>{a?.referralLink&&(navigator.clipboard.writeText(a.referralLink),r(!0),setTimeout(()=>r(!1),2e3))},m=i||(a?.enabled?l:!1);if(!e)return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(Ea,{className:"w-6 h-6"})," "]}),s.jsx(J,{children:s.jsxs(ne,{className:"pt-6 text-center py-12 text-muted-foreground",children:[s.jsx(Ea,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"    "})]})})]});if(m)return s.jsxs("div",{className:"space-y-6",children:[s.jsx(So,{className:"h-8 w-64"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(So,{className:"h-24"}),s.jsx(So,{className:"h-24"}),s.jsx(So,{className:"h-24"})]}),s.jsx(So,{className:"h-64"})]});if(!a?.enabled)return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-3","data-testid":"text-referrals-title",children:[s.jsx(Ea,{className:"w-6 h-6"})," "]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"     "})]}),s.jsx(J,{className:"bg-muted/30",children:s.jsxs(ne,{className:"pt-6 text-center py-12",children:[s.jsx(Ea,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"  "}),s.jsxs("p",{className:"text-muted-foreground max-w-md mx-auto",children:[" ",t?.companyName||t?.username,"     .      ."]})]})})]});const p=parseFloat(o?.referralRate||a?.referralRate||"0"),g=o?.totalReferred||0,v=o?.totalEarnings||0,y=o?.pendingEarnings||0;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-3","data-testid":"text-referrals-title",children:[s.jsx(Ea,{className:"w-6 h-6"})," "]}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:["    ",p,"%   "]})]}),a?.referralLink&&s.jsx(J,{children:s.jsx(ne,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-purple-500/20",children:s.jsx(Gg,{className:"w-6 h-6 text-purple-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"  "}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(le,{"data-testid":"input-referral-link",value:a.referralLink,readOnly:!0,className:"bg-background/50"}),s.jsx(U,{"data-testid":"button-copy-link",variant:"outline",onClick:f,className:"shrink-0",children:n?s.jsx(bt,{className:"w-4 h-4 text-emerald-400"}):s.jsx(Yn,{className:"w-4 h-4"})})]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(qr,{className:"w-4 h-4 text-purple-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),s.jsxs("p",{className:"text-xl font-bold text-purple-400","data-testid":"text-referral-rate",children:[p,"%"]})]}),s.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Do,{className:"w-4 h-4 text-blue-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),s.jsx("p",{className:"text-xl font-bold text-blue-400","data-testid":"text-total-referred",children:g})]}),s.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Sn,{className:"w-4 h-4 text-emerald-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),s.jsx("p",{className:"text-xl font-bold text-emerald-400","data-testid":"text-total-earnings",children:Xe(v)})]}),s.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Yt,{className:"w-4 h-4 text-yellow-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),s.jsx("p",{className:"text-xl font-bold text-yellow-400","data-testid":"text-pending-earnings",children:Xe(y)})]})]}),o?.referredPartners&&o.referredPartners.length>0&&s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[s.jsx(Do,{className:"w-5 h-5"})," "]})}),s.jsx(ne,{children:s.jsx("div",{className:"space-y-2",children:o.referredPartners.map(w=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50","data-testid":`row-referred-${w.id}`,children:[s.jsx("span",{className:"font-medium text-foreground",children:w.username}),s.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(w.createdAt).toLocaleDateString("ru-RU")})]},w.id))})})]}),!u&&c.length>0&&s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[s.jsx(Sn,{className:"w-5 h-5"})," "]})}),s.jsx(ne,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-muted-foreground",children:" "}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:""})]})}),s.jsx("tbody",{children:c.map(w=>s.jsxs("tr",{className:"border-b border-border/50","data-testid":`row-earning-${w.id}`,children:[s.jsx("td",{className:"py-3 px-4 text-foreground",children:new Date(w.createdAt).toLocaleDateString("ru-RU")}),s.jsxs("td",{className:"py-3 px-4 text-center text-muted-foreground",children:["$",parseFloat(w.originalPayout).toFixed(2)]}),s.jsxs("td",{className:"py-3 px-4 text-center font-medium text-emerald-400",children:["+$",parseFloat(w.amount).toFixed(2)]}),s.jsx("td",{className:"py-3 px-4 text-right",children:s.jsx(ye,{variant:"outline",className:w.status==="paid"?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:w.status==="paid"?"":""})})]},w.id))})]})})})]}),s.jsx(J,{className:"bg-blue-500/10 border-blue-500/30",children:s.jsx(ne,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-full bg-blue-500/20",children:s.jsx(Ea,{className:"w-5 h-5 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-foreground mb-1",children:"  ?"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["     .      ,    ",p,"%    .      ."]})]})]})})})]})}function BYe(){const[,e]=hr(),t=rt(),{toast:n}=Dt(),{data:r}=Ne({queryKey:["/api/user"],queryFn:async()=>{const m=await fetch("/api/user",{credentials:"include"});if(!m.ok)throw new Error("Not authenticated");return m.json()}}),{data:a=[],isLoading:i}=Ne({queryKey:["/api/news"],queryFn:async()=>{const m=await fetch("/api/news",{credentials:"include"});return m.ok?m.json():[]}});j.useEffect(()=>{if(a.length>0){const m=a.map(p=>p.id);fetch("/api/news/mark-read",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({newsIds:m})}).then(()=>{t.invalidateQueries({queryKey:["unread-news-count"]})}).catch(()=>{})}},[a,t]);const o=ve({mutationFn:async m=>{const p=await fetch(`/api/news/${m}`,{method:"DELETE",credentials:"include"});if(!p.ok)throw new Error("Failed to delete");return p.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/news"]}),n({title:"",description:" "})},onError:()=>{n({title:"",description:"   ",variant:"destructive"})}}),l=m=>r?r.role==="admin"||r.role==="advertiser"&&m.authorId===r.id:!1,c=m=>{switch(m){case"update":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"announcement":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"promo":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"alert":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-muted text-muted-foreground border-border"}},u=m=>{switch(m){case"update":return"";case"announcement":return"";case"promo":return"";case"alert":return"";default:return m}},f=r?.role==="admin"||r?.role==="advertiser";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(Ia,{className:"h-6 w-6"}),"  "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),f&&r?.role&&s.jsx(Mt,{href:`/dashboard/${r.role}/news/create`,children:s.jsxs(U,{"data-testid":"create-news-button",children:[s.jsx(fr,{className:"h-4 w-4 mr-2"})," "]})})]}),i?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.length===0?s.jsx(J,{children:s.jsxs(ne,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Ia,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:" "})]})}):s.jsx("div",{className:"space-y-4",children:a.map(m=>s.jsx(J,{className:`overflow-hidden ${m.isPinned?"border-yellow-500/30":""}`,"data-testid":`news-card-${m.id}`,children:s.jsxs("div",{className:`flex ${m.imageUrl?"flex-col sm:flex-row":""}`,children:[m.imageUrl&&s.jsx("div",{className:"sm:w-36 sm:min-w-36 h-32 sm:h-auto sm:min-h-24 overflow-hidden flex-shrink-0",children:s.jsx("img",{src:m.imageUrl,alt:m.title,className:"w-full h-full object-cover sm:rounded-l-lg"})}),s.jsxs(ne,{className:"p-4 flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.isPinned&&s.jsx(bme,{className:"h-4 w-4 text-yellow-500"}),s.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded border ${c(m.category)}`,children:u(m.category)}),s.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:m.authorRole==="admin"?"":""})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[s.jsx(Uw,{className:"h-3 w-3"}),m.publishedAt&&Eu(new Date(m.publishedAt),"d MMM yyyy",{locale:Si})]}),l(m)&&s.jsxs(Ru,{children:[s.jsx(Du,{asChild:!0,children:s.jsx(U,{variant:"ghost",size:"icon",className:"h-6 w-6","data-testid":`news-actions-${m.id}`,children:s.jsx(che,{className:"h-4 w-4"})})}),s.jsxs(Zc,{align:"end",children:[s.jsxs($a,{onClick:()=>e(`/dashboard/${r?.role}/news/edit/${m.id}`),"data-testid":`edit-news-${m.id}`,children:[s.jsx(mme,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs(RR,{children:[s.jsx(Dke,{asChild:!0,children:s.jsxs($a,{onSelect:p=>p.preventDefault(),className:"text-red-500 focus:text-red-500","data-testid":`delete-news-${m.id}`,children:[s.jsx(Os,{className:"h-4 w-4 mr-2"}),""]})}),s.jsxs(bN,{children:[s.jsxs(jN,{children:[s.jsx(NN,{children:" ?"}),s.jsx(SN,{children:"    .    ."})]}),s.jsxs(wN,{children:[s.jsx(kN,{children:""}),s.jsx(CN,{onClick:()=>o.mutate(m.id),className:"bg-red-500 hover:bg-red-600",children:""})]})]})]})]})]})]})]}),s.jsx("h3",{className:"text-base font-semibold text-foreground mb-1",children:m.title}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:m.body})]})]})},m.id))})]})}function zYe(){const e=rt(),{data:t=[],isLoading:n}=Ne({queryKey:["/api/notifications"],queryFn:async()=>{const c=await fetch("/api/notifications?limit=100",{credentials:"include"});return c.ok?c.json():[]}}),r=ve({mutationFn:async c=>{await Be("PATCH",`/api/notifications/${c}/read`)},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/notifications"]}),e.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),a=ve({mutationFn:async()=>{await Be("POST","/api/notifications/mark-all-read")},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/notifications"]}),e.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),i=c=>{switch(c){case"conversion":case"sale":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"lead":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"payout":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"offer":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"access_request":return"bg-cyan-500/20 text-cyan-400 border-cyan-500/30";case"system":default:return"bg-muted text-muted-foreground border-border"}},o=c=>{switch(c){case"conversion":return"";case"sale":return"";case"lead":return"";case"payout":return"";case"offer":return"";case"access_request":return" ";case"system":return"";default:return c}},l=t.filter(c=>!c.isRead).length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground flex items-center gap-2","data-testid":"text-notifications-title",children:[s.jsx(_o,{className:"h-6 w-6"}),""]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:l>0?`${l} `:" "})]}),l>0&&s.jsxs(U,{variant:"outline",onClick:()=>a.mutate(),disabled:a.isPending,"data-testid":"mark-all-read",children:[s.jsx(XM,{className:"h-4 w-4 mr-2"})," "]})]}),n?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t.length===0?s.jsx(J,{children:s.jsxs(ne,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(_o,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:" "})]})}):s.jsx("div",{className:"space-y-3",children:t.map(c=>s.jsx(J,{className:`cursor-pointer transition-colors ${c.isRead?"":"border-blue-500/30 bg-blue-500/5"}`,onClick:()=>!c.isRead&&r.mutate(c.id),"data-testid":`notification-card-${c.id}`,children:s.jsx(ne,{className:"p-4",children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded border ${i(c.type)}`,children:o(c.type)}),!c.isRead&&s.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-500"})]}),s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-1",children:c.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.body}),s.jsx("p",{className:"text-[10px] text-muted-foreground/60 mt-2",children:Oy(new Date(c.createdAt),{addSuffix:!0,locale:Si})})]})})})},c.id))})]})}function _K({embedded:e=!1,editId:t}){const[,n]=hr(),r=rt(),{toast:a}=Dt(),[i,o]=j.useState(""),[l,c]=j.useState(""),[u,f]=j.useState("update"),[m,p]=j.useState("all"),[g,v]=j.useState(!1),[y,w]=j.useState(!0),[N,A]=j.useState(null),[T,C]=j.useState(!1),[S,E]=j.useState(!1),{data:O}=Ne({queryKey:["/api/user"],queryFn:async()=>{const q=await fetch("/api/user",{credentials:"include"});if(!q.ok)throw new Error("Not authenticated");return q.json()}}),{data:_}=Ne({queryKey:["/api/news",t],queryFn:async()=>{const q=await fetch(`/api/news/${t}`,{credentials:"include"});if(!q.ok)throw new Error("Not found");return q.json()},enabled:!!t});j.useEffect(()=>{_&&!S&&(o(_.title||""),c(_.body||""),f(_.category||"update"),p(_.targetAudience||"all"),v(_.isPinned||!1),w(_.isPublished!==!1),A(_.imageUrl||null),E(!0))},[_,S]);const M=ve({mutationFn:async q=>(await Be("POST","/api/news",q)).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/news"]}),a({title:"",description:" "}),O?.role?n(`/dashboard/${O.role}/news`):n("/dashboard/admin/news")},onError:q=>{a({title:"",description:q.message||"   ",variant:"destructive"})}}),$=ve({mutationFn:async q=>{const se=await fetch(`/api/news/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(q)});if(!se.ok)throw new Error("Failed to update");return se.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/news"]}),a({title:"",description:" "}),O?.role?n(`/dashboard/${O.role}/news`):n("/dashboard/admin/news")},onError:q=>{a({title:"",description:q.message||"   ",variant:"destructive"})}}),z=async q=>{const se=q.target.files?.[0];if(se){if(!se.type.startsWith("image/")){a({title:"",description:",  ",variant:"destructive"});return}if(se.size>5*1024*1024){a({title:"",description:"     5 ",variant:"destructive"});return}C(!0);try{const H=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:se.name,size:se.size,contentType:se.type})});if(!H.ok)throw new Error("Failed to get upload URL");const{uploadURL:Y,objectPath:G}=await H.json();await fetch(Y,{method:"PUT",body:se,headers:{"Content-Type":se.type}});const X=window.location.origin+G;A(X),a({title:"",description:" "})}catch{a({title:"",description:"   ",variant:"destructive"})}finally{C(!1)}}},V=q=>{if(q.preventDefault(),!i.trim()||!l.trim()){a({title:"",description:"    ",variant:"destructive"});return}const se={title:i,body:l,category:u,targetAudience:m,isPinned:g,isPublished:y,imageUrl:N};t?$.mutate(se):M.mutate(se)},I=!!t,F=M.isPending||$.isPending,K=O?.role==="admin",R=()=>{O?.role?n(`/dashboard/${O.role}/news`):n("/dashboard/admin/news")},B=s.jsxs("form",{onSubmit:V,children:[s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsx(Ie,{children:" "})}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"title",children:""}),s.jsx(le,{id:"title",value:i,onChange:q=>o(q.target.value),placeholder:" ...","data-testid":"news-title-input"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"body",children:" "}),s.jsx(vi,{id:"body",value:l,onChange:q=>c(q.target.value),placeholder:"  ...",rows:6,"data-testid":"news-body-input"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" ()"}),N?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:N,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),s.jsx(U,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:()=>A(null),"data-testid":"remove-image-button",children:s.jsx(Xn,{className:"h-4 w-4"})})]}):s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-border rounded-lg cursor-pointer hover:border-primary/50 transition-colors",children:[s.jsx("div",{className:"flex flex-col items-center justify-center py-4",children:T?s.jsx(we,{className:"h-8 w-8 text-muted-foreground animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(du,{className:"h-8 w-8 text-muted-foreground mb-2"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"   "}),s.jsx("span",{className:"text-xs text-muted-foreground/60",children:"PNG, JPG  5 "})]})}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:z,disabled:T,"data-testid":"image-upload-input"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"category",children:""}),s.jsxs(ht,{value:u,onValueChange:f,children:[s.jsx(dt,{"data-testid":"category-select",children:s.jsx(mt,{})}),s.jsxs(ut,{children:[s.jsx(ke,{value:"update",children:""}),s.jsx(ke,{value:"announcement",children:""}),s.jsx(ke,{value:"promo",children:""}),s.jsx(ke,{value:"alert",children:""})]})]})]}),K&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"audience",children:""}),s.jsxs(ht,{value:m,onValueChange:p,children:[s.jsx(dt,{"data-testid":"audience-select",children:s.jsx(mt,{})}),s.jsxs(ut,{children:[s.jsx(ke,{value:"all",children:""}),s.jsx(ke,{value:"advertisers",children:""}),s.jsx(ke,{value:"publishers",children:""})]})]})]})]}),s.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vr,{id:"pinned",checked:g,onCheckedChange:v,"data-testid":"pinned-switch"}),s.jsx(te,{htmlFor:"pinned",className:"text-sm",children:""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vr,{id:"published",checked:y,onCheckedChange:w,"data-testid":"published-switch"}),s.jsx(te,{htmlFor:"published",className:"text-sm",children:" "})]})]})})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx(U,{type:"button",variant:"outline",onClick:R,"data-testid":"cancel-button",children:""}),s.jsxs(U,{type:"submit",disabled:F||!i.trim()||!l.trim(),"data-testid":"submit-button",children:[F?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(dr,{className:"h-4 w-4 mr-2"}),I?"":""]})]})]}),L=I?" ":" ";return e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(U,{variant:"ghost",size:"icon",onClick:R,"data-testid":"back-button",children:s.jsx(As,{className:"h-4 w-4"})}),s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:L})]}),B]}):s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(U,{variant:"ghost",size:"icon",onClick:R,"data-testid":"back-button",children:s.jsx(As,{className:"h-4 w-4"})}),s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:L})]}),B]})})}const qYe=[pn,pn,On,Tme],UYe=["bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500"];function VYe({offerId:e}){const[t,n]=j.useState("30"),r=gGe(new Date,parseInt(t)).toISOString(),a=new Date().toISOString(),{data:i,isLoading:o,error:l}=Ne({queryKey:["/api/advertiser/funnel",e,t],queryFn:async()=>{const u=new URLSearchParams;u.set("dateFrom",r),u.set("dateTo",a),e&&u.set("offerId",e);const f=await fetch(`/api/advertiser/funnel?${u}`,{credentials:"include"});if(!f.ok)throw new Error("Failed to fetch funnel data");return f.json()}});if(o)return s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"py-12 flex justify-center",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-muted-foreground"})})});if(l||!i)return s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"py-8 text-center text-muted-foreground",children:"    "})});const c=Math.max(...i.stages.map(u=>u.count),1);return s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[s.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[s.jsx(dpe,{className:"w-5 h-5 text-blue-400"})," "]}),s.jsxs(ht,{value:t,onValueChange:n,children:[s.jsx(dt,{className:"w-32","data-testid":"select-funnel-period",children:s.jsx(mt,{})}),s.jsxs(ut,{children:[s.jsx(ke,{value:"7",children:"7 "}),s.jsx(ke,{value:"14",children:"14 "}),s.jsx(ke,{value:"30",children:"30 "}),s.jsx(ke,{value:"90",children:"90 "})]})]})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsx("div",{className:"space-y-4",children:i.stages.map((u,f)=>{const m=qYe[f]||pn,p=u.count/c*100,g=UYe[f]||"bg-gray-500";return s.jsxs("div",{className:"relative","data-testid":`funnel-stage-${f}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(m,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:u.name})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsx("span",{className:"font-mono text-foreground",children:u.count.toLocaleString()}),s.jsxs("span",{className:"text-muted-foreground w-16 text-right",children:[u.percent.toFixed(1),"%"]}),u.dropoff>0&&s.jsxs("span",{className:"text-red-400 text-xs flex items-center gap-1 w-20",children:[s.jsx(gfe,{className:"w-3 h-3"}),"-",u.dropoff.toFixed(1),"%"]})]})]}),s.jsx("div",{className:"h-8 bg-muted/30 rounded-lg overflow-hidden",children:s.jsx("div",{className:`h-full ${g} transition-all duration-500 rounded-lg flex items-center justify-end pr-3`,style:{width:`${Math.max(p,2)}%`},children:p>10&&s.jsx("span",{className:"text-xs text-white font-medium",children:u.count.toLocaleString()})})})]},u.name)})}),s.jsxs("div",{className:"border-t border-border pt-4",children:[s.jsx("div",{className:"text-sm font-medium mb-3",children:" "}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 text-center",children:[s.jsxs("div",{className:"text-2xl font-mono text-green-400",children:[i.conversionRates.clickToReg.toFixed(2),"%"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"  "})]}),s.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 text-center",children:[s.jsxs("div",{className:"text-2xl font-mono text-yellow-400",children:[i.conversionRates.regToFtd.toFixed(2),"%"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"  FTD"})]}),s.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 text-center",children:[s.jsxs("div",{className:"text-2xl font-mono text-purple-400",children:[i.conversionRates.ftdToRepeat.toFixed(2),"%"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"FTD  "})]}),s.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 text-center",children:[s.jsxs("div",{className:"text-2xl font-mono text-blue-400",children:[i.conversionRates.clickToFtd.toFixed(2),"%"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"  FTD"})]})]})]}),i.totalClicks===0&&s.jsxs("div",{className:"text-center py-4 text-muted-foreground text-sm",children:["    .",s.jsx("br",{}),s.jsx("span",{className:"text-xs",children:"       player_id."})]})]})]})}const RK=e=>{if(!e||e.length!==2)return"";const t=e.toUpperCase().split("").map(n=>127397+n.charCodeAt(0));return String.fromCodePoint(...t)};function HYe({role:e}){const{t}=as(),n=rt(),[r,a]=j.useState(!1),[i,o]=j.useState(null),[l,c]=j.useState(""),[u,f]=j.useState(""),[m,p]=j.useState([{offerId:"",landingId:null,weight:50},{offerId:"",landingId:null,weight:50}]),[g,v]=j.useState(!1),[y,w]=j.useState(null),[N,A]=j.useState({sub1:"",sub2:"",sub3:"",sub4:"",sub5:"",sub6:"",sub7:"",sub8:"",sub9:"",sub10:""}),{data:T,isLoading:C}=Ne({queryKey:["/api/publisher/split-tests"],queryFn:async()=>{const X=await fetch("/api/publisher/split-tests",{credentials:"include"});if(!X.ok)throw new Error("Failed to fetch split tests");return X.json()}}),{data:S}=Ne({queryKey:["/api/publisher/offers-approved"],queryFn:async()=>{const X=await fetch("/api/publisher/offers-approved",{credentials:"include"});return X.ok?X.json():[]}}),E=ve({mutationFn:async X=>{const ae=await fetch("/api/publisher/split-tests",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(X)});if(!ae.ok){const de=await ae.json();throw new Error(de.message||"Failed to create split test")}return ae.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/publisher/split-tests"]}),z(),Rt.success(t("splitTests.created"))},onError:X=>{Rt.error(X.message)}}),O=ve({mutationFn:async X=>{const ae=await fetch(`/api/publisher/split-tests/${X.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(X)});if(!ae.ok){const de=await ae.json();throw new Error(de.message||"Failed to update split test")}return ae.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/publisher/split-tests"]}),z(),Rt.success(t("splitTests.updated"))},onError:X=>{Rt.error(X.message)}}),_=ve({mutationFn:async X=>{const ae=await fetch(`/api/publisher/split-tests/${X}`,{method:"DELETE",credentials:"include"});if(!ae.ok)throw new Error("Failed to delete split test");return ae.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/publisher/split-tests"]}),Rt.success(t("splitTests.deleted"))},onError:X=>{Rt.error(X.message)}}),M=()=>{o(null),c(""),f(""),p([{offerId:"",landingId:null,weight:50},{offerId:"",landingId:null,weight:50}]),a(!0)},$=X=>{o(X),c(X.name),f(X.description||""),p(X.items.map(ae=>({offerId:ae.offerId,landingId:ae.landingId,weight:ae.weight}))),a(!0)},z=()=>{a(!1),o(null)},V=()=>{if(!l.trim()){Rt.error(t("splitTests.nameRequired"));return}if(m.length<2){Rt.error(t("splitTests.minItemsRequired"));return}if(m.some(ae=>!ae.offerId)){Rt.error(t("splitTests.selectAllOffers"));return}const X=m.reduce((ae,de)=>ae+de.weight,0);if(X!==100){Rt.error(t("splitTests.weightsMustEqual100",{total:X}));return}i?O.mutate({id:i.id,name:l,description:u,items:m,status:i.status}):E.mutate({name:l,description:u,items:m})},I=()=>{const X=Math.floor(100/(m.length+1)),ae=100-X*(m.length+1);p([...m.map((de,he)=>({...de,weight:X+(he===0?ae:0)})),{offerId:"",landingId:null,weight:X}])},F=X=>{if(m.length<=2)return;const ae=m.filter((he,Fe)=>Fe!==X),de=ae.reduce((he,Fe)=>he+Fe.weight,0);if(de!==100){const he=100-de;ae[0].weight+=he}p(ae)},K=(X,ae)=>{const de=[...m];de[X].weight=ae,p(de)},R=(X,ae)=>{const de=[...m];de[X].offerId=ae,de[X].landingId=null,p(de)},B=(X,ae)=>{const de=[...m];de[X].landingId=ae,p(de)},L=X=>{const ae=`${window.location.origin}/t/s/${X}`;navigator.clipboard.writeText(ae),Rt.success(t("splitTests.linkCopied"))},q=X=>{w(X),A({sub1:"",sub2:"",sub3:"",sub4:"",sub5:"",sub6:"",sub7:"",sub8:"",sub9:"",sub10:""}),v(!0)},se=()=>{if(!y)return"";const X=`${window.location.origin}/t/s/${y.shortCode}`,ae=Object.entries(N).filter(([de,he])=>he.trim()!=="").map(([de,he])=>`${de}=${encodeURIComponent(he.trim())}`).join("&");return ae?`${X}?${ae}`:X},H=()=>{navigator.clipboard.writeText(se()),Rt.success(t("splitTests.linkCopied"))},Y=X=>{const ae=X.status==="active"?"paused":"active";O.mutate({id:X.id,name:X.name,description:X.description||"",items:X.items.map(de=>({offerId:de.offerId,landingId:de.landingId,weight:de.weight})),status:ae})},G=m.reduce((X,ae)=>X+ae.weight,0);return C?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-split-tests-title",children:t("splitTests.title")}),s.jsx("p",{className:"text-muted-foreground",children:t("splitTests.description")})]}),s.jsxs(U,{onClick:M,"data-testid":"button-create-split-test",children:[s.jsx(fr,{className:"h-4 w-4 mr-2"}),t("splitTests.create")]})]}),T&&T.length===0?s.jsxs(J,{className:"p-8 text-center",children:[s.jsx(QM,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium",children:t("splitTests.noTests")}),s.jsx("p",{className:"text-muted-foreground mb-4",children:t("splitTests.noTestsDescription")}),s.jsxs(U,{onClick:M,"data-testid":"button-create-first-split-test",children:[s.jsx(fr,{className:"h-4 w-4 mr-2"}),t("splitTests.createFirst")]})]}):s.jsx("div",{className:"grid gap-4",children:T?.map(X=>s.jsx(J,{className:"p-4","data-testid":`card-split-test-${X.id}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:X.name}),s.jsx(ye,{variant:X.status==="active"?"default":"secondary",children:X.status})]}),X.description&&s.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:X.description}),s.jsx("div",{className:"space-y-2 mb-4",children:X.items.map((ae,de)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsxs("span",{className:"font-medium w-12",children:[ae.weight,"%"]}),s.jsx("span",{className:"text-muted-foreground",children:""}),ae.offerLogoUrl?s.jsx("img",{src:ae.offerLogoUrl,alt:ae.offerName,className:"w-5 h-5 rounded object-cover flex-shrink-0"}):s.jsx(mF,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:ae.offerName}),ae.landingName&&s.jsxs("span",{className:"text-muted-foreground",children:[" ",ae.landingName]}),ae.landingGeo&&s.jsxs("span",{className:"text-xs bg-muted px-1.5 py-0.5 rounded",children:[RK(ae.landingGeo)," ",ae.landingGeo]})]},ae.id))}),s.jsx("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:t("splitTests.trackingLink")}),s.jsxs("code",{className:"text-sm font-mono break-all block",children:[window.location.origin,"/t/s/",X.shortCode]})]}),s.jsxs("div",{className:"flex gap-2 ml-3 shrink-0",children:[s.jsxs(U,{type:"button",size:"sm",onClick:()=>q(X),"data-testid":`button-configure-link-${X.id}`,children:[s.jsx(Gi,{className:"h-4 w-4 mr-2"}),t("splitTests.configureLink")]}),s.jsxs(U,{variant:"secondary",size:"sm",onClick:()=>L(X.shortCode),"data-testid":`button-copy-link-${X.id}`,children:[s.jsx(Yn,{className:"h-4 w-4 mr-2"}),t("common.copy")]})]})]})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vr,{checked:X.status==="active",onCheckedChange:()=>Y(X),"data-testid":`switch-status-${X.id}`}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>$(X),"data-testid":`button-edit-${X.id}`,children:s.jsx(WW,{className:"h-4 w-4"})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>_.mutate(X.id),"data-testid":`button-delete-${X.id}`,children:s.jsx(Os,{className:"h-4 w-4 text-destructive"})})]})]})},X.id))}),s.jsx(Wt,{open:r,onOpenChange:a,children:s.jsxs(zt,{className:"max-w-2xl",children:[s.jsx(qt,{children:s.jsx(Ut,{children:t(i?"splitTests.edit":"splitTests.create")})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:t("splitTests.name")}),s.jsx(le,{value:l,onChange:X=>c(X.target.value),placeholder:t("splitTests.namePlaceholder"),"data-testid":"input-split-test-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:t("splitTests.descriptionLabel")}),s.jsx(le,{value:u,onChange:X=>f(X.target.value),placeholder:t("splitTests.descriptionPlaceholder"),"data-testid":"input-split-test-description"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(te,{children:t("splitTests.items")}),s.jsxs("span",{className:`text-sm ${G===100?"text-green-500":"text-destructive"}`,children:[t("splitTests.totalWeight"),": ",G,"%"]})]}),s.jsx("div",{className:"space-y-3",children:m.map((X,ae)=>s.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg","data-testid":`item-row-${ae}`,children:[s.jsx("div",{className:"flex-1",children:s.jsxs(ht,{value:X.offerId,onValueChange:de=>R(ae,de),children:[s.jsx(dt,{"data-testid":`select-offer-${ae}`,children:s.jsx(mt,{placeholder:t("splitTests.selectOffer")})}),s.jsx(ut,{className:"max-h-60 overflow-y-auto",children:S?.map(de=>{const he=Array.from(new Set((de.landings??[]).map(Fe=>Fe.geo?.toUpperCase()).filter(Boolean)));return s.jsx(ke,{value:de.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[de.logoUrl?s.jsx("img",{src:de.logoUrl,alt:de.name,className:"w-5 h-5 rounded object-cover flex-shrink-0"}):s.jsx(mF,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"truncate",children:de.name}),he.length>0&&s.jsx("span",{className:"text-muted-foreground text-xs ml-1",children:he.map(Fe=>`${RK(Fe)} ${Fe}`).join(", ")})]})},de.id)})})]})}),s.jsx("div",{className:"flex-1",children:s.jsxs(ht,{value:X.landingId||"default",onValueChange:de=>B(ae,de==="default"?null:de),disabled:!X.offerId,children:[s.jsx(dt,{"data-testid":`select-landing-${ae}`,children:s.jsx(mt,{placeholder:t("splitTests.defaultLanding")})}),s.jsxs(ut,{className:"max-h-60 overflow-y-auto",children:[s.jsx(ke,{value:"default",children:t("splitTests.defaultLanding")}),S?.find(de=>de.id===X.offerId)?.landings?.filter(de=>de.offerId===X.offerId)?.map(de=>s.jsx(ke,{value:de.id,children:de.landingName||` ${de.geo}`},de.id))]})]})}),s.jsxs("div",{className:"w-24 flex items-center gap-2",children:[s.jsx(le,{type:"number",min:1,max:99,value:X.weight,onChange:de=>K(ae,parseInt(de.target.value)||0),className:"text-center","data-testid":`input-weight-${ae}`}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"%"})]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>F(ae),disabled:m.length<=2,"data-testid":`button-remove-item-${ae}`,children:s.jsx(Os,{className:"h-4 w-4"})})]},ae))}),s.jsxs(U,{variant:"outline",size:"sm",onClick:I,className:"w-full","data-testid":"button-add-item",children:[s.jsx(fr,{className:"h-4 w-4 mr-2"}),t("splitTests.addItem")]})]})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:z,"data-testid":"button-cancel",children:t("common.cancel")}),s.jsxs(U,{onClick:V,disabled:E.isPending||O.isPending,"data-testid":"button-save-split-test",children:[(E.isPending||O.isPending)&&s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}),t(i?"common.save":"splitTests.create")]})]})]})}),s.jsx(Wt,{open:g,onOpenChange:v,children:s.jsxs(zt,{className:"max-w-xl",children:[s.jsx(qt,{children:s.jsx(Ut,{children:t("splitTests.configureLinkTitle")})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:t("splitTests.subParamsDescription")}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:[1,2,3,4,5,6,7,8,9,10].map(X=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(te,{className:"w-10 text-xs text-muted-foreground",children:["sub",X]}),s.jsx(le,{value:N[`sub${X}`]||"",onChange:ae=>A(de=>({...de,[`sub${X}`]:ae.target.value})),placeholder:`sub${X}`,className:"flex-1","data-testid":`input-sub${X}`})]},X))}),s.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg border",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:t("splitTests.generatedLink")}),s.jsx("code",{className:"text-sm font-mono break-all block","data-testid":"text-generated-link",children:se()})]})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:()=>v(!1),"data-testid":"button-close-link-modal",children:t("common.close")}),s.jsxs(U,{onClick:H,"data-testid":"button-copy-generated-link",children:[s.jsx(Yn,{className:"h-4 w-4 mr-2"}),t("splitTests.copyLink")]})]})]})})]})}const KYe=[{value:"offers:read",label:" ()"},{value:"offers:write",label:" ()"},{value:"partners:read",label:" ()"},{value:"partners:write",label:" ()"},{value:"clicks:read",label:" ()"},{value:"conversions:read",label:" ()"},{value:"conversions:write",label:" ()"},{value:"payouts:read",label:" ()"},{value:"payouts:write",label:" ()"},{value:"stats:read",label:" ()"}],WYe=[{value:"conversion.created",label:" "},{value:"conversion.approved",label:" "},{value:"conversion.rejected",label:" "},{value:"payout.requested",label:" "},{value:"payout.approved",label:" "},{value:"payout.completed",label:" "},{value:"partner.registered",label:" "},{value:"partner.activated",label:" "},{value:"offer.created",label:" "},{value:"offer.updated",label:" "}];function GYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState("api-keys"),[a,i]=j.useState(!1),[o,l]=j.useState(!1),[c,u]=j.useState(""),[f,m]=j.useState([]),[p,g]=j.useState("never"),[v,y]=j.useState(null),[w,N]=j.useState(""),[A,T]=j.useState(""),[C,S]=j.useState([]),[E,O]=j.useState(""),{data:_=[],isLoading:M}=Ne({queryKey:["/api/admin/platform-api-keys"]}),{data:$=[],isLoading:z}=Ne({queryKey:["/api/admin/platform-webhooks"]}),V=ve({mutationFn:async Y=>{const G=await fetch("/api/admin/platform-api-keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)});if(!G.ok)throw new Error("Failed to create API key");return G.json()},onSuccess:Y=>{t.invalidateQueries({queryKey:["/api/admin/platform-api-keys"]}),y(Y.apiKey),u(""),m([]),g("never"),e({title:"API   "})},onError:()=>{e({title:"  API ",variant:"destructive"})}}),I=ve({mutationFn:async Y=>{const G=await fetch(`/api/admin/platform-api-keys/${Y}/revoke`,{method:"POST"});if(!G.ok)throw new Error("Failed to revoke API key");return G.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/platform-api-keys"]}),e({title:"API  "})}}),F=ve({mutationFn:async Y=>{const G=await fetch(`/api/admin/platform-api-keys/${Y}`,{method:"DELETE"});if(!G.ok)throw new Error("Failed to delete API key");return G.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/platform-api-keys"]}),e({title:"API  "})}}),K=ve({mutationFn:async Y=>{const G=await fetch("/api/admin/platform-webhooks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)});if(!G.ok)throw new Error("Failed to create webhook");return G.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/platform-webhooks"]}),l(!1),N(""),T(""),S([]),O(""),e({title:"  "})},onError:()=>{e({title:"  ",variant:"destructive"})}}),R=ve({mutationFn:async Y=>{const G=await fetch(`/api/admin/platform-webhooks/${Y}`,{method:"DELETE"});if(!G.ok)throw new Error("Failed to delete webhook");return G.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/platform-webhooks"]}),e({title:" "})}}),B=ve({mutationFn:async Y=>{const G=await fetch(`/api/admin/platform-webhooks/${Y}/test`,{method:"POST"});if(!G.ok)throw new Error("Test failed");return G.json()},onSuccess:Y=>{Y.success?e({title:"  ",description:`: ${Y.statusCode}`}):e({title:"  ",description:`: ${Y.statusCode}`,variant:"destructive"}),t.invalidateQueries({queryKey:["/api/admin/platform-webhooks"]})},onError:()=>{e({title:"  ",variant:"destructive"})}}),L=ve({mutationFn:async({id:Y,isActive:G})=>{const X=await fetch(`/api/admin/platform-webhooks/${Y}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:G})});if(!X.ok)throw new Error("Failed to update webhook");return X.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/platform-webhooks"]})}}),q=()=>{const Y=p==="never"?null:parseInt(p);V.mutate({name:c,permissions:f,expiresInDays:Y})},se=()=>{K.mutate({name:w,url:A,events:C,secret:E||void 0})},H=Y=>{navigator.clipboard.writeText(Y),e({title:"   "})};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"API & "}),s.jsx("p",{className:"text-muted-foreground mt-1",children:" API     (n8n, Zapier,  )"})]}),s.jsxs(uo,{value:n,onValueChange:r,children:[s.jsxs(ki,{children:[s.jsxs(lt,{value:"api-keys","data-testid":"tab-api-keys",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:[s.jsx(Da,{className:"h-4 w-4 mr-2"}),"API "]}),s.jsxs(lt,{value:"webhooks","data-testid":"tab-webhooks",className:"data-[state=active]:bg-purple-500 data-[state=active]:text-white",children:[s.jsx(a_,{className:"h-4 w-4 mr-2"})," "]}),s.jsxs(lt,{value:"docs","data-testid":"tab-docs",className:"data-[state=active]:bg-green-500 data-[state=active]:text-white",children:[s.jsx(ph,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs(lt,{value:"n8n-guide","data-testid":"tab-n8n-guide",className:"data-[state=active]:bg-orange-500 data-[state=active]:text-white",children:[s.jsx(zx,{className:"h-4 w-4 mr-2"})," n8n"]})]}),s.jsx(ct,{value:"api-keys",className:"mt-6",children:s.jsxs(J,{children:[s.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ie,{children:"API "}),s.jsx(et,{children:"  X-API-Key   /api/v1/* "})]}),s.jsxs(Wt,{open:a,onOpenChange:i,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{"data-testid":"btn-create-api-key",children:[s.jsx(fr,{className:"h-4 w-4 mr-2"})," "]})}),s.jsxs(zt,{className:"max-w-md",children:[s.jsxs(qt,{children:[s.jsx(Ut,{children:" API "}),s.jsx(ao,{children:"  API    "})]}),v?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-green-800 font-medium mb-2",children:"API  !"}),s.jsx("p",{className:"text-xs text-green-600 mb-2",children:"        "}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"flex-1 text-xs bg-white p-2 rounded border break-all",children:v}),s.jsx(U,{size:"sm",variant:"outline",onClick:()=>H(v),children:s.jsx(Yn,{className:"h-4 w-4"})})]})]}),s.jsx(U,{className:"w-full",onClick:()=>{y(null),i(!1)},"data-testid":"btn-close-key-dialog",children:""})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(le,{value:c,onChange:Y=>u(Y.target.value),placeholder:", n8n Production","data-testid":"input-key-name"})]}),s.jsxs("div",{children:[s.jsx(te,{children:" "}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:KYe.map(Y=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($l,{id:Y.value,checked:f.includes(Y.value),onCheckedChange:G=>{m(G?[...f,Y.value]:f.filter(X=>X!==Y.value))},"data-testid":`checkbox-${Y.value}`}),s.jsx("label",{htmlFor:Y.value,className:"text-sm",children:Y.label})]},Y.value))})]}),s.jsxs("div",{children:[s.jsx(te,{children:" "}),s.jsxs(ht,{value:p,onValueChange:g,children:[s.jsx(dt,{"data-testid":"select-expiry",children:s.jsx(mt,{})}),s.jsxs(ut,{children:[s.jsx(ke,{value:"never",children:""}),s.jsx(ke,{value:"7",children:"7 "}),s.jsx(ke,{value:"30",children:"30 "}),s.jsx(ke,{value:"90",children:"90 "}),s.jsx(ke,{value:"365",children:"1 "})]})]})]}),s.jsx(U,{className:"w-full",onClick:q,disabled:!c||f.length===0,"data-testid":"btn-submit-key",children:" "})]})]})]})]}),s.jsx(ne,{children:M?s.jsx("p",{children:"..."}):_.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"API    "}):s.jsxs(Ou,{children:[s.jsx(Pu,{children:s.jsxs(Ra,{children:[s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:". "}),s.jsx(Ht,{children:""}),s.jsx(Ht,{})]})}),s.jsx(Mu,{children:_.map(Y=>s.jsxs(Ra,{"data-testid":`row-key-${Y.id}`,children:[s.jsx(Kt,{className:"font-medium",children:Y.name}),s.jsx(Kt,{children:s.jsxs("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:[Y.keyPrefix,"..."]})}),s.jsx(Kt,{children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[Y.permissions.slice(0,3).map(G=>s.jsx(ye,{variant:"secondary",className:"text-xs",children:G},G)),Y.permissions.length>3&&s.jsxs(ye,{variant:"outline",className:"text-xs",children:["+",Y.permissions.length-3]})]})}),s.jsx(Kt,{children:Y.revokedAt?s.jsx(ye,{variant:"destructive",children:""}):Y.isActive?s.jsx(ye,{variant:"default",children:""}):s.jsx(ye,{variant:"secondary",children:""})}),s.jsx(Kt,{className:"text-sm text-muted-foreground",children:Y.lastUsedAt?new Date(Y.lastUsedAt).toLocaleDateString():""}),s.jsx(Kt,{className:"text-sm text-muted-foreground",children:Y.expiresAt?new Date(Y.expiresAt).toLocaleDateString():""}),s.jsx(Kt,{children:s.jsxs("div",{className:"flex gap-2",children:[Y.isActive&&!Y.revokedAt&&s.jsx(U,{size:"sm",variant:"outline",onClick:()=>I.mutate(Y.id),"data-testid":`btn-revoke-${Y.id}`,children:s.jsx(Bx,{className:"h-4 w-4"})}),s.jsx(U,{size:"sm",variant:"destructive",onClick:()=>F.mutate(Y.id),"data-testid":`btn-delete-key-${Y.id}`,children:s.jsx(Os,{className:"h-4 w-4"})})]})})]},Y.id))})]})})]})}),s.jsx(ct,{value:"webhooks",className:"mt-6",children:s.jsxs(J,{children:[s.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ie,{children:" "}),s.jsx(et,{children:"     (n8n, Zapier,  )"})]}),s.jsxs(Wt,{open:o,onOpenChange:l,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{"data-testid":"btn-create-webhook",children:[s.jsx(fr,{className:"h-4 w-4 mr-2"})," "]})}),s.jsxs(zt,{className:"max-w-md",children:[s.jsxs(qt,{children:[s.jsx(Ut,{children:" "}),s.jsx(ao,{children:"   "})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(le,{value:w,onChange:Y=>N(Y.target.value),placeholder:", n8n Conversions","data-testid":"input-webhook-name"})]}),s.jsxs("div",{children:[s.jsx(te,{children:"URL"}),s.jsx(le,{value:A,onChange:Y=>T(Y.target.value),placeholder:"https://...","data-testid":"input-webhook-url"})]}),s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2 max-h-40 overflow-y-auto",children:WYe.map(Y=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($l,{id:Y.value,checked:C.includes(Y.value),onCheckedChange:G=>{S(G?[...C,Y.value]:C.filter(X=>X!==Y.value))},"data-testid":`checkbox-event-${Y.value}`}),s.jsx("label",{htmlFor:Y.value,className:"text-sm",children:Y.label})]},Y.value))})]}),s.jsxs("div",{children:[s.jsx(te,{children:" ()"}),s.jsx(le,{value:E,onChange:Y=>O(Y.target.value),placeholder:"HMAC   ",type:"password","data-testid":"input-webhook-secret"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"   X-Webhook-Signature"})]}),s.jsx(U,{className:"w-full",onClick:se,disabled:!w||!A||C.length===0,"data-testid":"btn-submit-webhook",children:" "})]})]})]})]}),s.jsx(ne,{children:z?s.jsx("p",{children:"..."}):$.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"   "}):s.jsxs(Ou,{children:[s.jsx(Pu,{children:s.jsxs(Ra,{children:[s.jsx(Ht,{children:""}),s.jsx(Ht,{children:"URL"}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:". "}),s.jsx(Ht,{})]})}),s.jsx(Mu,{children:$.map(Y=>s.jsxs(Ra,{"data-testid":`row-webhook-${Y.id}`,children:[s.jsx(Kt,{className:"font-medium",children:Y.name}),s.jsx(Kt,{children:s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded truncate max-w-[200px] block",children:Y.url})}),s.jsx(Kt,{children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[Y.events.slice(0,2).map(G=>s.jsx(ye,{variant:"secondary",className:"text-xs",children:G},G)),Y.events.length>2&&s.jsxs(ye,{variant:"outline",className:"text-xs",children:["+",Y.events.length-2]})]})}),s.jsx(Kt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vr,{checked:Y.isActive,onCheckedChange:G=>L.mutate({id:Y.id,isActive:G}),"data-testid":`switch-webhook-${Y.id}`}),Y.failedAttempts>0&&s.jsxs(ye,{variant:"destructive",className:"text-xs",children:[Y.failedAttempts," "]})]})}),s.jsx(Kt,{className:"text-sm text-muted-foreground",children:Y.lastTriggeredAt?new Date(Y.lastTriggeredAt).toLocaleDateString():""}),s.jsx(Kt,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{size:"sm",variant:"outline",onClick:()=>B.mutate(Y.id),disabled:B.isPending,"data-testid":`btn-test-${Y.id}`,children:s.jsx(Kc,{className:"h-4 w-4"})}),s.jsx(U,{size:"sm",variant:"destructive",onClick:()=>R.mutate(Y.id),"data-testid":`btn-delete-webhook-${Y.id}`,children:s.jsx(Os,{className:"h-4 w-4"})})]})})]},Y.id))})]})})]})}),s.jsx(ct,{value:"docs",className:"mt-6",children:s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsx(Ie,{children:" API"}),s.jsx(et,{children:"  API "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:" API   API    X-API-Key:"}),s.jsx("pre",{className:"bg-muted p-3 rounded text-sm overflow-x-auto",children:`curl -H "X-API-Key: pt_xxxxxxxx_xxxxxxxxxxxxxxxxxxxxx" \\
     https://your-domain.com/api/v1/offers`})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:" "}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"outline",children:"GET"}),s.jsx("code",{children:"/api/v1/offers"}),s.jsx("span",{className:"text-muted-foreground",children:"-   "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"outline",children:"GET"}),s.jsx("code",{children:"/api/v1/offers/:id"}),s.jsx("span",{className:"text-muted-foreground",children:"-  "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"outline",children:"GET"}),s.jsx("code",{children:"/api/v1/partners"}),s.jsx("span",{className:"text-muted-foreground",children:"-   "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"outline",children:"GET"}),s.jsx("code",{children:"/api/v1/partners/:id"}),s.jsx("span",{className:"text-muted-foreground",children:"-  "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"outline",children:"GET"}),s.jsx("code",{children:"/api/v1/clicks"}),s.jsx("span",{className:"text-muted-foreground",children:"-  "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"outline",children:"GET"}),s.jsx("code",{children:"/api/v1/conversions"}),s.jsx("span",{className:"text-muted-foreground",children:"-  "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"secondary",children:"POST"}),s.jsx("code",{children:"/api/v1/conversions"}),s.jsx("span",{className:"text-muted-foreground",children:"-  "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"outline",children:"GET"}),s.jsx("code",{children:"/api/v1/payouts"}),s.jsx("span",{className:"text-muted-foreground",children:"-    "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"secondary",children:"PATCH"}),s.jsx("code",{children:"/api/v1/payouts/:id"}),s.jsx("span",{className:"text-muted-foreground",children:"-   "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"outline",children:"GET"}),s.jsx("code",{children:"/api/v1/stats"}),s.jsx("span",{className:"text-muted-foreground",children:"-  "})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"  n8n"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"   n8n  HTTP Request   :"}),s.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:": Header Auth"}),s.jsx("li",{children:" : X-API-Key"}),s.jsx("li",{children:" :  API "})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:" Webhook "}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"  JSON   :"}),s.jsx("pre",{className:"bg-muted p-3 rounded text-sm overflow-x-auto",children:`{
  "event": "conversion.created",
  "timestamp": "2024-01-16T12:00:00.000Z",
  "data": {
    "conversionId": "...",
    "clickId": "...",
    "offerId": "...",
    "publisherId": "...",
    "conversionType": "lead",
    "status": "pending",
    "publisherPayout": 50,
    "advertiserCost": 60
  }
}`})]})]})]})}),s.jsx(ct,{value:"n8n-guide",className:"mt-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsx(Ie,{children:"     n8n"}),s.jsx(et,{children:"    "})]}),s.jsx(ne,{className:"space-y-6",children:s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"  :"}),s.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[s.jsx("li",{children:" n8n (self-hosted  n8n.cloud)"}),s.jsx("li",{children:'API  PrimeTrack (   "API ")'}),s.jsx("li",{children:'   (   " ")'})]})]})})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsx(Ie,{children:"1.  API "}),s.jsx(et,{children:" n8n  API PrimeTrack   "})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:" 1:  credentials  n8n"}),s.jsxs("ol",{className:"list-decimal list-inside text-sm text-muted-foreground space-y-2",children:[s.jsx("li",{children:" n8n  Settings  Credentials"}),s.jsx("li",{children:' "Add Credential"'}),s.jsxs("li",{children:[" : ",s.jsx("strong",{children:"Header Auth"})]}),s.jsx("li",{children:" :"})]}),s.jsx("div",{className:"mt-3 bg-muted p-3 rounded text-sm",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Name:"}),s.jsx("code",{children:"PrimeTrack API"}),s.jsx("span",{className:"text-muted-foreground",children:"Header Name:"}),s.jsx("code",{children:"X-API-Key"}),s.jsx("span",{className:"text-muted-foreground",children:"Header Value:"}),s.jsx("code",{children:"pt_xxxxxxxx_xxxxxxxxxxxxx"})]})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:" 2:  HTTP Request "}),s.jsxs("ol",{className:"list-decimal list-inside text-sm text-muted-foreground space-y-2",children:[s.jsx("li",{children:'  "HTTP Request"'}),s.jsxs("li",{children:["Authentication  ",s.jsx("strong",{children:"Predefined Credential Type"})]}),s.jsxs("li",{children:["Credential Type  ",s.jsx("strong",{children:"Header Auth"})]}),s.jsx("li",{children:'Header Auth   "PrimeTrack API"'})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:":   "}),s.jsx("pre",{className:"bg-muted p-3 rounded text-sm overflow-x-auto",children:`Method: GET
URL: https://-.com/api/v1/offers

:
[
  {
    "id": "offer_123",
    "name": "Casino Offer",
    "status": "active",
    "geo": ["RU", "KZ"],
    "payoutRange": "$30 - $75"
  }
]`})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:":  "}),s.jsx("pre",{className:"bg-muted p-3 rounded text-sm overflow-x-auto",children:`Method: POST
URL: https://-.com/api/v1/conversions
Headers: Content-Type: application/json
Body:
{
  "clickId": "clk_abc123",
  "conversionType": "lead",
  "revenue": 50
}`})]})]})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsx(Ie,{children:"2.   Webhook "}),s.jsx(et,{children:"    PrimeTrack  n8n"})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:" 1:  Webhook   n8n"}),s.jsxs("ol",{className:"list-decimal list-inside text-sm text-muted-foreground space-y-2",children:[s.jsx("li",{children:"  workflow  n8n"}),s.jsx("li",{children:'  "Webhook"'}),s.jsxs("li",{children:["HTTP Method: ",s.jsx("strong",{children:"POST"})]}),s.jsxs("li",{children:["Path:  ",s.jsx("code",{children:"/primetrack-events"})]}),s.jsxs("li",{children:["Authentication: ",s.jsx("strong",{children:"None"})," (  )"]}),s.jsx("li",{children:" Production URL"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:" 2:    PrimeTrack"}),s.jsxs("ol",{className:"list-decimal list-inside text-sm text-muted-foreground space-y-2",children:[s.jsx("li",{children:'   " "'}),s.jsx("li",{children:' " "'}),s.jsx("li",{children:" URL  n8n"}),s.jsx("li",{children:"  "}),s.jsx("li",{children:"   HMAC "})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"  "}),s.jsx("pre",{className:"bg-muted p-3 rounded text-sm overflow-x-auto",children:`Headers:
  X-Webhook-Signature: a1b2c3d4e5f6... (HMAC-SHA256 hex)
  Content-Type: application/json

Body:
{
  "event": "conversion.created",
  "timestamp": "2024-01-16T12:00:00.000Z",
  "data": {
    "conversionId": "conv_123",
    "clickId": "clk_456", 
    "offerId": "offer_789",
    "publisherId": "pub_012",
    "conversionType": "lead",
    "status": "pending",
    "publisherPayout": 50,
    "advertiserCost": 60
  }
}`})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:" HMAC  ()"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:'  "Code"  Webhook   :'}),s.jsx("pre",{className:"bg-muted p-3 rounded text-sm overflow-x-auto",children:`const crypto = require('crypto');
const secret = '_';
const signature = $input.first().headers['x-webhook-signature'];
const payload = JSON.stringify($input.first().body);
const expected = crypto
  .createHmac('sha256', secret)
  .update(payload)
  .digest('hex');

if (signature !== expected) {
  throw new Error('Invalid signature');
}
return $input.all();`})]})]})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsx(Ie,{children:"3.   "}),s.jsx(et,{children:"    "})]}),s.jsx(ne,{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"      Telegram"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Webhook  IF (event = conversion.created)  Telegram"}),s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:": conversion.created, conversion.approved"})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"   Google Sheets"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Webhook  Google Sheets ( )"}),s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:"    "})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"    "}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Webhook  IF (event = payout.requested)  Slack/Email"}),s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:": payout.requested, payout.approved"})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"   "}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Webhook  IF (event = partner.activated)  Gmail"}),s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:": partner.registered, partner.activated"})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"   "}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Schedule  HTTP Request (GET /api/v1/stats)  Telegram"}),s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:" API    stats:read"})]})]})})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsx(Ie,{children:"4.  "}),s.jsx(et,{children:"    "})]}),s.jsx(ne,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200",children:" 401: Unauthorized"}),s.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:[",  API        . ,   ",s.jsx("strong",{children:"Header Auth"}),",    ."]})]}),s.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200",children:" 403: Forbidden"}),s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:"API     .      permissions."})]}),s.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-950 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:"  "}),s.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:["1. ,    ( )",s.jsx("br",{}),"2.  URL     Production URL  n8n",s.jsx("br",{}),'3.   ""   ']})]}),s.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-950 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:"  "}),s.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"    3    5 , 30 , 2 . ,  n8n workflow   Webhook  ."})]})]})})]})]})})]})]})}function Ooe({role:e}){const t=rt(),[n,r]=j.useState(!1),{data:a=[]}=Ne({queryKey:["/api/notifications"],queryFn:async()=>{const f=await fetch("/api/notifications?limit=10",{credentials:"include"});return f.ok?f.json():[]},refetchInterval:3e4}),{data:i}=Ne({queryKey:["/api/notifications/unread-count"],queryFn:async()=>{const f=await fetch("/api/notifications/unread-count",{credentials:"include"});return f.ok?f.json():{count:0}},refetchInterval:3e4}),o=ve({mutationFn:async f=>{await Be("PATCH",`/api/notifications/${f}/read`)},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/notifications"]}),t.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),l=ve({mutationFn:async()=>{await Be("POST","/api/notifications/mark-all-read")},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/notifications"]}),t.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),c=f=>{switch(f){case"conversion":case"sale":return"text-emerald-400";case"lead":return"text-blue-400";case"payout":return"text-yellow-400";case"offer":return"text-purple-400";case"access_request":return"text-cyan-400";case"system":default:return"text-muted-foreground"}},u=f=>{f.isRead||o.mutate(f.id),r(!1)};return s.jsxs(Ru,{open:n,onOpenChange:r,children:[s.jsx(Du,{asChild:!0,children:s.jsxs(U,{variant:"ghost",size:"icon",className:"relative h-8 w-8 text-muted-foreground hover:text-foreground","data-testid":"notification-bell",children:[s.jsx(_o,{className:"h-4 w-4 text-amber-500"}),i&&i.count>0&&s.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-red-500 text-[10px] font-bold text-white flex items-center justify-center","data-testid":"notification-count",children:i.count>9?"9+":i.count})]})}),s.jsxs(Zc,{align:"end",className:"w-80 bg-card border-border",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-border",children:[s.jsx("span",{className:"text-sm font-semibold text-foreground",children:""}),i&&i.count>0&&s.jsxs(U,{variant:"ghost",size:"sm",className:"h-6 text-xs text-muted-foreground hover:text-foreground",onClick:()=>l.mutate(),disabled:l.isPending,"data-testid":"mark-all-read",children:[s.jsx(XM,{className:"h-3 w-3 mr-1"})," "]})]}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:a.length===0?s.jsx("div",{className:"px-3 py-8 text-center text-sm text-muted-foreground",children:" "}):a.map(f=>s.jsxs($a,{className:`flex flex-col items-start gap-1 px-3 py-3 cursor-pointer ${f.isRead?"":"bg-blue-500/5"}`,onClick:()=>u(f),"data-testid":`notification-item-${f.id}`,children:[s.jsxs("div",{className:"flex items-start justify-between w-full gap-2",children:[s.jsx("span",{className:`text-sm font-medium ${c(f.type)}`,children:f.title}),!f.isRead&&s.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-500 flex-shrink-0 mt-1.5"})]}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:f.body}),s.jsx("span",{className:"text-[10px] text-muted-foreground/60",children:Oy(new Date(f.createdAt),{addSuffix:!0,locale:Si})})]},f.id))}),s.jsx(jX,{className:"bg-border"}),s.jsx(Mt,{href:e?`/dashboard/${e}/notifications`:"/notifications",onClick:()=>r(!1),children:s.jsxs($a,{className:"flex items-center justify-center gap-2 text-sm text-blue-400 hover:text-blue-300 cursor-pointer","data-testid":"view-all-notifications",children:[s.jsx(ph,{className:"h-3 w-3"})," "]})})]})]})}function YYe({role:e}){if(e!=="advertiser")return null;const{data:t,isLoading:n}=Ne({queryKey:["/api/subscription/current"],queryFn:async()=>{const f=await fetch("/api/subscription/current",{credentials:"include"});if(!f.ok)throw new Error("Failed to fetch subscription");return f.json()},refetchInterval:6e4});if(n||!t)return null;const{subscription:r,plan:a}=t,o=(()=>{let f=null;if(r.status==="trial"&&r.trialEndsAt?f=new Date(r.trialEndsAt):r.status==="active"&&r.currentPeriodEnd&&(f=new Date(r.currentPeriodEnd)),!f)return null;const m=new Date,p=f.getTime()-m.getTime();if(p<=0)return{days:0,hours:0,expired:!0};const g=Math.floor(p/(1e3*60*60*24)),v=Math.floor(p%(1e3*60*60*24)/(1e3*60*60));return{days:g,hours:v,expired:!1}})(),l=()=>!o||o.expired||o.days<7?"destructive":o.days<=14?"secondary":"outline",c=()=>!o||o.expired||o.days<7?"text-red-400":o.days<=14?"text-yellow-400":"text-emerald-400",u=()=>o?o.expired?"":o.days<=7?`${o.days} ${o.hours}`:`${o.days} `:"";return r.status==="expired"?s.jsx(Mt,{href:"/dashboard/advertiser/settings?tab=subscription",children:s.jsxs(ye,{variant:"destructive",className:"cursor-pointer flex items-center gap-1.5 px-2 py-1 text-xs font-mono","data-testid":"subscription-badge-expired",children:[s.jsx(Ui,{className:"w-3 h-3"})," "]})}):r.status==="active"?s.jsx(Mt,{href:"/dashboard/advertiser/settings?tab=subscription",children:s.jsxs(ye,{variant:"outline",className:`cursor-pointer flex items-center gap-1.5 px-2 py-1 text-xs font-mono border-emerald-500/50 ${c()}`,"data-testid":"subscription-badge-active",children:[s.jsx(Gn,{className:"w-3 h-3"}),a?.name||"",o&&!o.expired&&s.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",u(),")"]})]})}):r.status==="trial"?s.jsx(Mt,{href:"/dashboard/advertiser/settings?tab=subscription",children:s.jsxs(ye,{variant:l(),className:`cursor-pointer flex items-center gap-1.5 px-2 py-1 text-xs font-mono ${c()}`,"data-testid":"subscription-badge-trial",children:[s.jsx(Yt,{className:"w-3 h-3"}),": ",u()]})}):null}function XYe(){const[e,t]=j.useState(null),[n,r]=j.useState(!0),[a,i]=j.useState(!1),[,o]=hr(),l=rt();j.useEffect(()=>{c()},[]);const c=async()=>{try{const m=await fetch("/api/auth/me",{credentials:"include"});if(m.ok){const p=await m.json();t(p),!p.twoFactorEnabled&&p.twoFactorSetupCompleted===!1&&!window.location.pathname.includes("/setup-2fa")&&o("/setup-2fa")}}catch{console.error("Auth check failed")}finally{r(!1)}},u=async(m,p)=>{try{const g=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:m,password:p}),credentials:"include"});if(g.ok){const v=await g.json();return l.clear(),t(v),v.needsSetup2FA?o("/setup-2fa"):o(`/dashboard/${v.role}`),!0}return!1}catch{return!1}},f=j.useCallback(async()=>{if(!a){i(!0);try{const m=await fetch("/api/auth/logout",{method:"POST",credentials:"include"});m.ok||console.error("Logout failed with status:",m.status)}catch(m){console.error("Logout request failed:",m)}t(null),l.removeQueries(),o("/login"),i(!1)}},[a,l,o]);return{user:e,loading:n,loggingOut:a,login:u,logout:f,checkAuth:c}}function DK(){const{t:e}=as(),[t,n]=j.useState(!1),{logout:r,loggingOut:a}=XYe(),[i,o]=an("/dashboard/:role"),[l,c]=an("/dashboard/:role/:section"),[u,f]=an("/dashboard/:role/:section/:action"),[m,p]=an("/dashboard/:role/:section/:action/:id"),g=p?.role||f?.role||c?.role||o?.role;return g?s.jsx(RCe,{role:g,children:s.jsxs("div",{className:"min-h-screen bg-background text-foreground font-sans flex flex-col",children:[s.jsx(QYe,{role:g,mobileMenuOpen:t,setMobileMenuOpen:n,t:e}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx(eXe,{role:g,t:e,onNavigate:()=>n(!1),onLogout:r,loggingOut:a}),s.jsx(tXe,{role:g,t:e})]}),s.jsx(ECe,{open:t,onOpenChange:n,children:s.jsx(XJ,{side:"left",className:"w-72 p-0 bg-card border-border",children:s.jsx(JYe,{role:g,t:e,onNavigate:()=>n(!1),onLogout:r,loggingOut:a})})})]})}):(window.location.href="/login",null)}function QYe({role:e,mobileMenuOpen:t,setMobileMenuOpen:n,t:r}){const{selectedAdvertiser:a}=Vl(),i=e==="admin"?"bg-red-500":e==="advertiser"?"bg-blue-500":"bg-emerald-500",{data:o}=Ne({queryKey:["/api/public/platform-settings"]}),l=e==="publisher"&&a?.hidePlatformBranding,c=a?.brandName||a?.companyName||"PARTNER";return s.jsxs("header",{className:"md:hidden h-14 bg-card border-b border-border flex items-center justify-between px-4 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>n(!t),className:"h-9 w-9","data-testid":"mobile-menu-toggle",children:s.jsx(KW,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[l&&a?.logoUrl?s.jsx("img",{src:a.logoUrl,alt:c,className:"h-6 w-6 object-contain"}):s.jsx("div",{className:`w-3 h-3 rounded-sm ${i}`}),s.jsx("span",{className:"font-mono font-bold text-xs tracking-wider uppercase",children:l?c:o?.platformName||e})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ooe,{}),s.jsx(D_,{})]})]})}function JYe({role:e,t,onNavigate:n,onLogout:r,loggingOut:a}){const{selectedAdvertiser:i}=Vl(),[,o]=hr(),{isStaff:l,staffLoading:c,canAccess:u}=Zg(),f=T=>{o(T),n()},m=()=>{n(),r()},{data:p}=Ne({queryKey:["unread-news-count",i?.id],queryFn:async()=>{const T=new URLSearchParams;i?.id&&T.set("advertiserId",i.id);const C=await fetch(`/api/news/unread-count?${T}`,{credentials:"include"});return C.ok?C.json():{count:0}}}),g=p?.count||0,v={admin:[{icon:eh,label:t("dashboard.menu.overview"),path:`/dashboard/${e}`,color:"text-blue-400"},{icon:Ro,label:t("dashboard.menu.offers"),path:`/dashboard/${e}/offers`,color:"text-orange-400"},{icon:mh,label:t("dashboard.menu.reports"),path:`/dashboard/${e}/reports`,color:"text-purple-400"},{icon:pn,label:t("dashboard.menu.users"),path:`/dashboard/${e}/users`,color:"text-emerald-400"},{icon:Qr,label:"",path:`/dashboard/${e}/subscriptions`,color:"text-amber-400"},{icon:Fn,label:t("hero.specs.antifraud"),path:`/dashboard/${e}/antifraud`,color:"text-red-400"},{icon:Sn,label:t("dashboard.menu.finance"),path:`/dashboard/${e}/finance`,color:"text-yellow-400"},{icon:Ia,label:"",path:`/dashboard/${e}/news`,color:"text-orange-400"},{icon:jn,label:"",path:`/dashboard/${e}/postbacks`,color:"text-pink-400"},{icon:jn,label:"",path:`/dashboard/${e}/domain-requests`,color:"text-cyan-400"},{icon:hh,label:"",path:`/dashboard/${e}/team`,color:"text-indigo-400"},{icon:LW,label:"API & ",path:`/dashboard/${e}/integrations`,color:"text-violet-400"},{icon:Gi,label:t("dashboard.menu.settings"),path:`/dashboard/${e}/settings`,color:"text-muted-foreground"}],advertiser:[{icon:eh,label:t("dashboard.menu.overview"),path:`/dashboard/${e}`,color:"text-blue-400"},{icon:Ro,label:t("dashboard.menu.offers"),path:`/dashboard/${e}/offers`,color:"text-orange-400"},{icon:Do,label:t("dashboard.menu.requests"),path:`/dashboard/${e}/requests`,color:"text-cyan-400"},{icon:pn,label:t("dashboard.menu.partners"),path:`/dashboard/${e}/partners`,color:"text-emerald-400"},{icon:mh,label:t("dashboard.menu.reports"),path:`/dashboard/${e}/reports`,color:"text-purple-400"},{icon:Il,label:"",path:`/dashboard/${e}/analytics`,color:"text-teal-400"},{icon:Fn,label:t("hero.specs.antifraud"),path:`/dashboard/${e}/antifraud`,color:"text-red-400"},{icon:Qr,label:t("dashboard.menu.finance"),path:`/dashboard/${e}/finance`,color:"text-yellow-400"},{icon:Ia,label:"",path:`/dashboard/${e}/news`,color:"text-orange-400"},{icon:jn,label:"",path:`/dashboard/${e}/postbacks`,color:"text-pink-400"},{icon:hh,label:"",path:`/dashboard/${e}/team`,color:"text-indigo-400"},{icon:Ea,label:"",path:`/dashboard/${e}/referrals`,color:"text-pink-400"},{icon:Gi,label:t("dashboard.menu.settings"),path:`/dashboard/${e}/settings`,color:"text-muted-foreground"}],publisher:[{icon:eh,label:t("dashboard.menu.overview"),path:`/dashboard/${e}`,color:"text-blue-400"},{icon:Gg,label:t("dashboard.menu.links"),path:`/dashboard/${e}/links`,color:"text-cyan-400"},{icon:QM,label:t("dashboard.menu.splitTests"),path:`/dashboard/${e}/split-tests`,color:"text-teal-400"},{icon:Il,label:t("dashboard.menu.reports"),path:`/dashboard/${e}/reports`,color:"text-purple-400"},{icon:Sn,label:t("dashboard.menu.payouts"),path:`/dashboard/${e}/payouts`,color:"text-yellow-400"},{icon:Ea,label:"",path:`/dashboard/${e}/referrals`,color:"text-pink-400"},{icon:Ia,label:"",path:`/dashboard/${e}/news`,color:"text-orange-400"},{icon:jn,label:"",path:`/dashboard/${e}/postbacks`,color:"text-pink-400"},{icon:Gi,label:t("dashboard.menu.settings"),path:`/dashboard/${e}/settings`,color:"text-muted-foreground"}]};let y=v[e]||v.publisher;!c&&l&&e==="advertiser"&&(y=y.filter(T=>{const C=JG(T.path);return C?u(C):!0}));const w=e==="admin"?"bg-red-500":e==="advertiser"?"bg-blue-500":"bg-emerald-500",N=e==="publisher"&&i?.hidePlatformBranding,A=i?.brandName||i?.companyName||"PARTNER";return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"h-14 flex items-center px-4 border-b border-border",children:N?s.jsxs(s.Fragment,{children:[i?.logoUrl?s.jsx("img",{src:i.logoUrl,alt:A,className:"h-8 w-8 object-contain mr-3"}):s.jsx("div",{className:`w-3 h-3 rounded-sm ${w} mr-3`}),s.jsx("span",{className:"font-mono font-bold text-sm tracking-wider uppercase truncate",children:A})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`w-3 h-3 rounded-sm ${w} mr-3`}),s.jsxs("span",{className:"font-mono font-bold text-sm tracking-wider uppercase",children:[e," PORTAL"]})]})}),s.jsx("nav",{className:"p-2 space-y-1 flex-1 overflow-y-auto",children:y.map((T,C)=>{const S=T.path.includes("/news");return s.jsxs("button",{onClick:()=>f(T.path),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded text-sm font-medium transition-colors text-muted-foreground hover:bg-muted hover:text-foreground",children:[s.jsx(T.icon,{className:`w-4 h-4 ${T.color}`}),s.jsx("span",{className:"flex-1 text-left",children:T.label}),S&&g>0&&s.jsx("span",{className:"min-w-5 h-5 px-1.5 flex items-center justify-center text-xs font-bold bg-red-500 text-white rounded-full",children:g>99?"99+":g})]},C)})}),s.jsx("div",{className:"p-4 border-t border-border",children:s.jsxs("button",{onClick:m,disabled:a,className:"flex items-center gap-2 text-xs font-mono text-muted-foreground hover:text-foreground transition-colors w-full disabled:opacity-50",children:[s.jsx(HW,{className:"w-3 h-3 text-red-500"}),a?"...":t("dashboard.menu.logout")]})})]})}function ZYe(){const{data:e}=Ne({queryKey:["/api/public/platform-settings"],queryFn:async()=>{const t=await fetch("/api/public/platform-settings",{credentials:"include"});return t.ok?t.json():null}});return!e?.supportTelegram&&!e?.supportPhone&&!e?.supportEmail?null:s.jsx("div",{className:"p-3 mb-16",children:s.jsxs("div",{className:"bg-gradient-to-br from-red-900/30 to-slate-900/50 rounded-lg p-3 border border-red-500/20","data-testid":"manager-card",children:[s.jsx("div",{className:"text-[10px] text-red-400 uppercase font-bold mb-2",children:""}),s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.platformLogoUrl?s.jsx("img",{src:e.platformLogoUrl,alt:e.platformName||"Platform",className:"w-10 h-10 rounded-lg bg-muted object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-red-500 to-orange-600 flex items-center justify-center text-primary-foreground font-bold text-sm",children:(e.platformName||"P").charAt(0).toUpperCase()}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-sm font-semibold text-foreground truncate",children:e.platformName||""})})]}),s.jsxs("div",{className:"space-y-2",children:[e.supportTelegram&&s.jsxs("a",{href:`https://t.me/${e.supportTelegram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs text-muted-foreground hover:text-blue-400 transition-colors","data-testid":"manager-telegram",children:[s.jsx(dr,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:e.supportTelegram})]}),e.supportPhone&&s.jsxs("a",{href:`tel:${e.supportPhone}`,className:"flex items-center gap-2 text-xs text-muted-foreground hover:text-emerald-400 transition-colors","data-testid":"manager-phone",children:[s.jsx(im,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:e.supportPhone})]}),e.supportEmail&&s.jsxs("a",{href:`mailto:${e.supportEmail}`,className:"flex items-center gap-2 text-xs text-muted-foreground hover:text-yellow-400 transition-colors","data-testid":"manager-email",children:[s.jsx(Or,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:e.supportEmail})]})]})]})})}function eXe({role:e,t,onNavigate:n,onLogout:r,loggingOut:a}){const{selectedAdvertiser:i}=Vl(),[o,l]=j.useState(!1),{isStaff:c,staffLoading:u,canAccess:f}=Zg();hr();const{data:m}=Ne({queryKey:["unread-news-count",i?.id],queryFn:async()=>{const w=new URLSearchParams;i?.id&&w.set("advertiserId",i.id);const N=await fetch(`/api/news/unread-count?${w}`,{credentials:"include"});return N.ok?N.json():{count:0}},refetchInterval:6e4}),p=m?.count||0,g={admin:[{icon:eh,label:t("dashboard.menu.overview"),path:`/dashboard/${e}`,color:"text-blue-400"},{icon:Ro,label:t("dashboard.menu.offers"),path:`/dashboard/${e}/offers`,color:"text-orange-400"},{icon:mh,label:t("dashboard.menu.reports"),path:`/dashboard/${e}/reports`,color:"text-purple-400"},{icon:pn,label:t("dashboard.menu.users"),path:`/dashboard/${e}/users`,color:"text-emerald-400"},{icon:Qr,label:"",path:`/dashboard/${e}/subscriptions`,color:"text-amber-400"},{icon:Fn,label:t("hero.specs.antifraud"),path:`/dashboard/${e}/antifraud`,color:"text-red-400"},{icon:Sn,label:t("dashboard.menu.finance"),path:`/dashboard/${e}/finance`,color:"text-yellow-400"},{icon:Ia,label:"",path:`/dashboard/${e}/news`,color:"text-orange-400"},{icon:jn,label:"",path:`/dashboard/${e}/postbacks`,color:"text-pink-400"},{icon:jn,label:"",path:`/dashboard/${e}/domain-requests`,color:"text-cyan-400"},{icon:hh,label:"",path:`/dashboard/${e}/team`,color:"text-indigo-400"},{icon:LW,label:"API & ",path:`/dashboard/${e}/integrations`,color:"text-violet-400"},{icon:Gi,label:t("dashboard.menu.settings"),path:`/dashboard/${e}/settings`,color:"text-muted-foreground"}],advertiser:[{icon:eh,label:t("dashboard.menu.overview"),path:`/dashboard/${e}`,color:"text-blue-400"},{icon:Ro,label:t("dashboard.menu.offers"),path:`/dashboard/${e}/offers`,color:"text-orange-400"},{icon:Do,label:t("dashboard.menu.requests"),path:`/dashboard/${e}/requests`,color:"text-cyan-400"},{icon:pn,label:t("dashboard.menu.partners"),path:`/dashboard/${e}/partners`,color:"text-emerald-400"},{icon:mh,label:t("dashboard.menu.reports"),path:`/dashboard/${e}/reports`,color:"text-purple-400"},{icon:Il,label:"",path:`/dashboard/${e}/analytics`,color:"text-teal-400"},{icon:Fn,label:t("hero.specs.antifraud"),path:`/dashboard/${e}/antifraud`,color:"text-red-400"},{icon:Qr,label:t("dashboard.menu.finance"),path:`/dashboard/${e}/finance`,color:"text-yellow-400"},{icon:Ia,label:"",path:`/dashboard/${e}/news`,color:"text-orange-400"},{icon:jn,label:"",path:`/dashboard/${e}/postbacks`,color:"text-pink-400"},{icon:hh,label:"",path:`/dashboard/${e}/team`,color:"text-indigo-400"},{icon:Ea,label:"",path:`/dashboard/${e}/referrals`,color:"text-pink-400"},{icon:Gi,label:t("dashboard.menu.settings"),path:`/dashboard/${e}/settings`,color:"text-muted-foreground"}],publisher:[{icon:eh,label:t("dashboard.menu.overview"),path:`/dashboard/${e}`,color:"text-blue-400"},{icon:Gg,label:t("dashboard.menu.links"),path:`/dashboard/${e}/links`,color:"text-cyan-400"},{icon:QM,label:t("dashboard.menu.splitTests"),path:`/dashboard/${e}/split-tests`,color:"text-teal-400"},{icon:Il,label:t("dashboard.menu.reports"),path:`/dashboard/${e}/reports`,color:"text-purple-400"},{icon:Sn,label:t("dashboard.menu.payouts"),path:`/dashboard/${e}/payouts`,color:"text-yellow-400"},{icon:Ea,label:"",path:`/dashboard/${e}/referrals`,color:"text-pink-400"},{icon:Ia,label:"",path:`/dashboard/${e}/news`,color:"text-orange-400"},{icon:jn,label:"",path:`/dashboard/${e}/postbacks`,color:"text-pink-400"},{icon:Gi,label:t("dashboard.menu.settings"),path:`/dashboard/${e}/settings`,color:"text-muted-foreground"}]};let v=g[e]||g.publisher;!u&&c&&e==="advertiser"&&(v=v.filter(w=>{const N=JG(w.path);return N?f(N):!0}));const y=e==="admin"?"bg-red-500":e==="advertiser"?"bg-blue-500":"bg-emerald-500";return s.jsxs("aside",{className:"w-64 bg-card border-r border-border flex-shrink-0 hidden md:flex flex-col",children:[s.jsx("div",{className:"h-14 flex items-center px-4 border-b border-border",children:e==="publisher"&&i?.hidePlatformBranding?s.jsxs(s.Fragment,{children:[i?.logoUrl?s.jsx("img",{src:i.logoUrl,alt:i.brandName||i.companyName||"",className:"h-8 w-8 object-contain mr-3"}):s.jsx("div",{className:`w-3 h-3 rounded-sm ${y} mr-3`}),s.jsx("span",{className:"font-mono font-bold text-sm tracking-wider uppercase truncate","data-testid":"sidebar-brand-name",children:i.brandName||i.companyName||"PARTNER"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`w-3 h-3 rounded-sm ${y} mr-3`}),s.jsxs("span",{className:"font-mono font-bold text-sm tracking-wider uppercase",children:[e," PORTAL"]})]})}),s.jsx("nav",{className:"p-2 space-y-1 flex-1 overflow-y-auto",children:v.map((w,N)=>{const A=w.path.includes("/news");return s.jsx(Mt,{href:w.path,children:s.jsxs("button",{className:`w-full flex items-center gap-3 px-3 py-2 rounded text-sm font-medium transition-colors ${N===-1?"bg-muted text-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,children:[s.jsx(w.icon,{className:`w-4 h-4 ${w.color}`}),s.jsx("span",{className:"flex-1 text-left",children:w.label}),A&&p>0&&s.jsx("span",{className:"min-w-5 h-5 px-1.5 flex items-center justify-center text-xs font-bold bg-red-500 text-white rounded-full","data-testid":"unread-news-badge",children:p>99?"99+":p})]})},N)})}),e==="publisher"&&i&&s.jsx("div",{className:"p-3 mt-auto mb-36",children:s.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 dark:from-slate-800/50 dark:to-slate-900/50 rounded-lg p-3 border border-border","data-testid":"advertiser-card",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.logoUrl?s.jsx("img",{src:i.logoUrl,alt:i.companyName||i.username,className:"w-10 h-10 rounded-lg bg-muted object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-primary-foreground font-bold text-sm",children:(i.companyName||i.username).charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-foreground truncate",children:i.companyName||i.username}),s.jsxs("p",{className:"text-[10px] text-muted-foreground truncate",children:[i.offersCount," "]})]})]}),s.jsxs("div",{className:"space-y-2",children:[i.telegram&&s.jsxs("a",{href:`https://t.me/${i.telegram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs text-muted-foreground hover:text-blue-400 transition-colors","data-testid":"advertiser-telegram",children:[s.jsx(dr,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:i.telegram})]}),i.phone&&s.jsxs("a",{href:`tel:${i.phone}`,className:"flex items-center gap-2 text-xs text-muted-foreground hover:text-emerald-400 transition-colors","data-testid":"advertiser-phone",children:[s.jsx(im,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:i.phone})]})]})]})}),e==="advertiser"&&s.jsx(ZYe,{}),(e==="advertiser"||e==="publisher")&&s.jsx("div",{className:"px-3 pb-2",children:s.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 text-xs font-mono text-muted-foreground hover:text-yellow-500 transition-colors w-full px-3 py-2 rounded hover:bg-muted","data-testid":"button-suggest-feature",children:[s.jsx(VW,{className:"w-3 h-3 text-yellow-500"})," "]})}),s.jsx("div",{className:"p-4 border-t border-border",children:s.jsxs("button",{onClick:r,disabled:a,className:"flex items-center gap-2 text-xs font-mono text-muted-foreground hover:text-foreground transition-colors w-full disabled:opacity-50",children:[s.jsx(HW,{className:"w-3 h-3 text-red-500"}),a?"...":t("dashboard.menu.logout")]})}),s.jsx(ACe,{open:o,onOpenChange:l})]})}function tXe({role:e,t}){const[,n]=hr(),{isStaff:r,staffLoading:a,canAccess:i}=Zg(),[o]=an("/dashboard/:role/offers"),[l]=an("/dashboard/:role/offers/archived"),[c]=an("/dashboard/:role/offers/new"),[u]=an("/dashboard/:role/links"),[f,m]=an("/dashboard/:role/offer/:offerId"),[p]=an("/dashboard/:role/partners"),[g,v]=an("/dashboard/:role/partner/:publisherId"),[y]=an("/dashboard/:role/users"),[w]=an("/dashboard/:role/reports"),[N]=an("/dashboard/:role/requests"),[A]=an("/dashboard/:role/finance"),[T]=an("/dashboard/:role/payouts"),[C]=an("/dashboard/:role/postbacks"),[S]=an("/dashboard/:role/antifraud"),[E]=an("/dashboard/:role/settings"),[O]=an("/dashboard/:role/team"),[_]=an("/dashboard/:role/news"),[M]=an("/dashboard/:role/news/create"),[$,z]=an("/dashboard/:role/news/edit/:newsId"),[V]=an("/dashboard/:role/notifications"),[I]=an("/dashboard/:role/domain-requests"),[F]=an("/dashboard/:role/subscriptions"),[K]=an("/dashboard/:role/analytics"),[R]=an("/dashboard/:role/split-tests"),[B]=an("/dashboard/:role/integrations"),[L]=an("/dashboard/:role/referrals");j.useEffect(()=>{a||r&&e==="advertiser"&&(!(O&&!i("team")||E&&!i("settings")||(p||g)&&!i("partners")||N&&!i("requests")||A&&!i("finance")||(o||l||c||f)&&!i("offers")||w&&!i("reports")||S&&!i("antifraud")||C&&!i("postbacks")||(_||M||$)&&!i("news"))||n(`/dashboard/${e}`))},[a,r,e,i,n,O,E,p,g,N,A,o,l,c,f,w,S,C,_,M,$]);const{data:q,isLoading:se,error:H}=Ne({queryKey:["/api/user"],queryFn:async()=>{const Q=await fetch("/api/user",{credentials:"include"});if(!Q.ok)throw new Error("Not authenticated");return Q.json()},retry:!1}),{data:Y}=Ne({queryKey:["/api/advertiser/settings"],queryFn:async()=>{const Q=await fetch("/api/advertiser/settings",{credentials:"include"});return Q.ok?Q.json():null},enabled:e==="advertiser"}),{data:G}=Ne({queryKey:["/api/public/platform-settings"],queryFn:async()=>{const Q=await fetch("/api/public/platform-settings",{credentials:"include"});return Q.ok?Q.json():null}});j.useEffect(()=>{H&&n("/login")},[H,n]),j.useEffect(()=>{!se&&q&&!q.twoFactorEnabled&&q.twoFactorSetupCompleted===!1&&(q.status==="active"||q.role==="publisher"&&q.hasApprovedAdvertiser)&&n("/setup-2fa")},[se,q,n]);const{advertisers:X,selectedAdvertiserId:ae,selectedAdvertiser:de,setSelectedAdvertiserId:he,isLoading:Fe}=Vl(),{data:ge}=Ne({queryKey:["/api/publisher/balance",ae],enabled:e==="publisher"&&!!ae}),{data:Ae=[]}=Ne({queryKey:["/api/publisher/payout-requests",ae],enabled:e==="publisher"&&!!ae}),_e=Ae.filter(Q=>Q.status==="approved").reduce((Q,xt)=>Q+parseFloat(xt.approvedAmount||xt.requestedAmount||"0"),0),ee=ge?.hold||0,Le=ge?.available||0,Ce=Q=>{switch(Q){case"active":return s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-emerald-500/20 text-emerald-400",children:""});case"pending":return s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-yellow-500/20 text-yellow-400",children:""});case"inactive":case"rejected":return s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-red-500/20 text-red-400",children:""});default:return null}},De=o||e==="publisher"&&u,We=l,nt=c,Et=f,St=p&&e==="advertiser",Gt=g&&e==="advertiser",Jn=y&&e==="admin",cn=w,_r=N&&e==="advertiser",Vt=A&&(e==="advertiser"||e==="admin"),_n=T&&e==="publisher",zn=R&&e==="publisher",Rn=C,_s=S&&(e==="admin"||e==="advertiser"),Ai=E,Ei=O&&(e==="advertiser"||e==="admin"),Js=_&&!M&&!$,ga=M&&(e==="admin"||e==="advertiser"),rr=$&&(e==="admin"||e==="advertiser"),Tn=V,qn=()=>{if(Tn)return s.jsx(zYe,{});if(Ai){if(e==="admin")return s.jsx(kYe,{});if(e==="advertiser")return s.jsx(hYe,{});if(e==="publisher")return s.jsx(jYe,{})}if(Ei)return s.jsx(LYe,{});if(L){if(e==="advertiser")return s.jsx($Ye,{});if(e==="publisher")return s.jsx(FYe,{})}if(Jn)return s.jsx(_Ke,{});if(I&&e==="admin")return s.jsx(RYe,{});if(F&&e==="admin")return s.jsx(IYe,{});if(B&&e==="admin")return s.jsx(GYe,{});if(_r)return s.jsx(BKe,{});if(Vt)return e==="admin"?s.jsx(nWe,{}):s.jsx(tWe,{});if(Rn){if(e==="advertiser")return s.jsx(ZGe,{});if(e==="publisher")return s.jsx(eYe,{});if(e==="admin")return s.jsx(tYe,{})}if(ga)return s.jsx(_K,{embedded:!0});if(rr&&z?.newsId)return s.jsx(_K,{embedded:!0,editId:z.newsId});if(Js)return s.jsx(BYe,{});if(_s)return s.jsx(nYe,{role:e});if(_n)return s.jsx(QGe,{});if(zn)return s.jsx(HYe,{role:e});if(K&&(e==="advertiser"||e==="admin"))return s.jsx(VYe,{});if(cn)return s.jsx(IKe,{role:e});if(Et&&m?.offerId)return s.jsx(w5e,{offerId:m.offerId,role:e});if(We&&(e==="advertiser"||e==="admin"))return s.jsx(Kke,{role:e});if(nt&&(e==="advertiser"||e==="admin"))return s.jsx(FRe,{role:e});if(Gt&&v?.publisherId)return s.jsx(CKe,{publisherId:v.publisherId});if(St)return s.jsx(SKe,{});if(De){if(e==="admin"||e==="advertiser")return s.jsx(Hke,{role:e});if(e==="publisher")return s.jsx(Wke,{role:e})}return e==="admin"?s.jsx(NKe,{}):e==="advertiser"?s.jsx(jKe,{}):e==="publisher"?s.jsx(wKe,{}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("p",{className:"text-muted-foreground",children:t("common.loading")||"Loading..."})})};return s.jsxs("main",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[s.jsxs("header",{className:"h-14 bg-card border-b border-border flex items-center justify-between px-6 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[e==="publisher"&&X.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs(Ru,{children:[s.jsx(Du,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded bg-blue-500/10 border border-blue-500/20 hover:bg-blue-500/20 transition-colors","data-testid":"advertiser-switcher",children:[s.jsx(er,{className:"w-4 h-4 text-blue-400"}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:de?.username||" "}),de&&s.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[de.offersCount," "]})]}),de&&Ce(de.status),s.jsx(fa,{className:"w-4 h-4 text-muted-foreground"})]})}),s.jsx(Zc,{align:"start",className:"w-64 bg-card border-border",children:X.map(Q=>s.jsxs($a,{onClick:()=>he(Q.id),className:`flex items-center justify-between cursor-pointer ${ae===Q.id?"bg-white/10":""}`,"data-testid":`advertiser-option-${Q.id}`,children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:Q.username}),s.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[Q.offersCount," "]})]}),Ce(Q.status)]},Q.id))})]}),s.jsx("div",{className:"h-4 w-px bg-border"})]}),s.jsx("h2",{className:"text-sm font-bold text-foreground uppercase tracking-wider",children:t("dashboard.menu.overview")}),s.jsx("div",{className:"h-4 w-px bg-border"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground font-mono",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),t("dashboard.liveStream")]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[e==="publisher"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded bg-emerald-500/10 border border-emerald-500/20",children:[s.jsx(Sn,{className:"w-3 h-3 text-emerald-500"}),s.jsxs("span",{className:"text-xs font-mono text-emerald-400","data-testid":"header-available",children:["$",Le.toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded bg-blue-500/10 border border-blue-500/20",children:[s.jsx(Qr,{className:"w-3 h-3 text-blue-500"}),s.jsxs("span",{className:"text-xs font-mono text-blue-400","data-testid":"header-approved",children:["$",_e.toFixed(2)]}),s.jsx("span",{className:"text-[10px] text-blue-400/60",children:"."})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded bg-yellow-500/10 border border-yellow-500/20",children:[s.jsx(Ro,{className:"w-3 h-3 text-yellow-500"}),s.jsxs("span",{className:"text-xs font-mono text-yellow-400","data-testid":"header-hold",children:["$",ee.toFixed(2)]}),s.jsx("span",{className:"text-[10px] text-yellow-400/60",children:""})]}),s.jsx("div",{className:"h-4 w-px bg-border"})]}),s.jsxs("div",{className:"text-xs font-mono text-muted-foreground",children:[t("dashboard.server"),": US-EAST-1"]}),s.jsx(YYe,{role:e}),s.jsx(Ooe,{role:e}),s.jsx(D_,{}),G?.platformLogoUrl||Y?.logoUrl||q?.logoUrl?s.jsx("img",{src:G?.platformLogoUrl||Y?.logoUrl||q?.logoUrl,alt:"Logo",className:"w-8 h-8 rounded object-cover","data-testid":"header-platform-logo"}):s.jsx("div",{className:"w-8 h-8 rounded bg-white/10 flex items-center justify-center text-xs font-bold uppercase",children:e.charAt(0)})]})]}),s.jsx("div",{className:"flex-1 overflow-auto p-6",children:qn()})]})}const nXe=am("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Am=j.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:Re(nXe({variant:t}),e),...n}));Am.displayName="Alert";const rXe=j.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:Re("mb-1 font-medium leading-none tracking-tight",e),...t}));rXe.displayName="AlertTitle";const Em=j.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Re("text-sm [&_p]:leading-relaxed",e),...t}));Em.displayName="AlertDescription";function sXe(){const[,e]=hr(),t=$M(),n=new URLSearchParams(window.location.search),r=t.ref||n.get("ref")||"",a=n.get("adv")||"";j.useEffect(()=>{if(r){const g=a?`/register/${r}?adv=${a}`:`/register/${r}`;e(g)}},[r,a,e]);const[i,o]=j.useState({username:"",email:"",password:"",confirmPassword:""}),[l,c]=j.useState(""),{data:u,isLoading:f}=Ne({queryKey:["validate-referral",r,a],queryFn:async()=>{if(!r)return null;const g=a?`/api/auth/validate-referral/${r}?adv=${a}`:`/api/auth/validate-referral/${r}`,v=await fetch(g,{credentials:"include"});return v.ok?v.json():null},enabled:!!r}),m=ve({mutationFn:async g=>(await Be("POST","/api/auth/register",{username:g.username,email:g.email,password:g.password,referralCode:g.referralCode,advertiserId:g.advertiserId,referrerId:g.referrerId})).json(),onSuccess:()=>{e("/dashboard/publisher")},onError:g=>{c(g.message||"Registration failed")}}),p=g=>{if(g.preventDefault(),c(""),!i.username||!i.email||!i.password){c("All fields are required");return}if(i.password!==i.confirmPassword){c("Passwords do not match");return}if(i.password.length<6){c("Password must be at least 6 characters");return}m.mutate({...i,referralCode:r||void 0,advertiserId:u?.advertiserId||void 0,referrerId:u?.referrerId||void 0})};return s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),s.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-[310px] w-[310px] rounded-full bg-emerald-500 opacity-10 blur-[100px]"}),s.jsxs(J,{className:"w-full max-w-md bg-card border-border relative z-10",children:[s.jsxs(Pe,{className:"text-center",children:[s.jsx(Ie,{className:"text-2xl font-bold text-foreground",children:"Create Account"}),s.jsx(et,{className:"text-muted-foreground",children:"Register as a publisher to start earning"})]}),s.jsxs(ne,{className:"space-y-6",children:[r&&s.jsx("div",{className:"p-4 rounded-lg border border-border bg-muted",children:f?s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(we,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"  ..."})]}):u?.valid?s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-emerald-400",children:[s.jsx(Gn,{className:"w-4 h-4"}),s.jsxs("span",{children:[": ",s.jsx("strong",{children:u.advertiserName})]})]}),u.type==="publisher"&&u.referrerName&&s.jsxs("div",{className:"flex items-center gap-2 text-blue-400 text-sm",children:[s.jsx(Or,{className:"w-3 h-3"}),s.jsxs("span",{children:[": ",s.jsx("strong",{children:u.referrerName})]})]})]}):s.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[s.jsx(ts,{className:"w-4 h-4"}),s.jsx("span",{children:"  "})]})}),l&&s.jsx(Am,{variant:"destructive",children:s.jsx(Em,{children:l})}),s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"username",className:"text-muted-foreground",children:"Username"}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"username","data-testid":"input-username",type:"text",placeholder:"Enter username",value:i.username,onChange:g=>o({...i,username:g.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"email",className:"text-muted-foreground",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ji,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"email","data-testid":"input-email",type:"email",placeholder:"Enter email",value:i.email,onChange:g=>o({...i,email:g.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"password",className:"text-muted-foreground",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"password","data-testid":"input-password",type:"password",placeholder:"Enter password",value:i.password,onChange:g=>o({...i,password:g.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"confirmPassword",className:"text-muted-foreground",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"confirmPassword","data-testid":"input-confirm-password",type:"password",placeholder:"Confirm password",value:i.confirmPassword,onChange:g=>o({...i,confirmPassword:g.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsx(U,{type:"submit","data-testid":"button-register",disabled:m.isPending||!!r&&!u?.valid,className:"w-full h-12 bg-emerald-600 hover:bg-emerald-500 text-foreground font-medium",children:m.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"Registering..."]}):"Create Account"})]}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",s.jsx("button",{onClick:()=>e("/"),className:"text-emerald-400 hover:text-emerald-300","data-testid":"link-login",children:"Sign in"})]})]})]})]})}var aXe=Object.defineProperty,iXe=Object.defineProperties,oXe=Object.getOwnPropertyDescriptors,$w=Object.getOwnPropertySymbols,Poe=Object.prototype.hasOwnProperty,Moe=Object.prototype.propertyIsEnumerable,IK=(e,t,n)=>t in e?aXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lXe=(e,t)=>{for(var n in t||(t={}))Poe.call(t,n)&&IK(e,n,t[n]);if($w)for(var n of $w(t))Moe.call(t,n)&&IK(e,n,t[n]);return e},cXe=(e,t)=>iXe(e,oXe(t)),dXe=(e,t)=>{var n={};for(var r in e)Poe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$w)for(var r of $w(e))t.indexOf(r)<0&&Moe.call(e,r)&&(n[r]=e[r]);return n};function uXe(e){let t=setTimeout(e,0),n=setTimeout(e,10),r=setTimeout(e,50);return[t,n,r]}function fXe(e){let t=j.useRef();return j.useEffect(()=>{t.current=e}),t.current}var hXe=18,_oe=40,mXe=`${_oe}px`,pXe=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function xXe({containerRef:e,inputRef:t,pushPasswordManagerStrategy:n,isFocused:r}){let[a,i]=j.useState(!1),[o,l]=j.useState(!1),[c,u]=j.useState(!1),f=j.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&a&&o,[a,o,n]),m=j.useCallback(()=>{let p=e.current,g=t.current;if(!p||!g||c||n==="none")return;let v=p,y=v.getBoundingClientRect().left+v.offsetWidth,w=v.getBoundingClientRect().top+v.offsetHeight/2,N=y-hXe,A=w;document.querySelectorAll(pXe).length===0&&document.elementFromPoint(N,A)===p||(i(!0),u(!0))},[e,t,c,n]);return j.useEffect(()=>{let p=e.current;if(!p||n==="none")return;function g(){let y=window.innerWidth-p.getBoundingClientRect().right;l(y>=_oe)}g();let v=setInterval(g,1e3);return()=>{clearInterval(v)}},[e,n]),j.useEffect(()=>{let p=r||document.activeElement===t.current;if(n==="none"||!p)return;let g=setTimeout(m,0),v=setTimeout(m,2e3),y=setTimeout(m,5e3),w=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(g),clearTimeout(v),clearTimeout(y),clearTimeout(w)}},[t,r,n,m]),{hasPWMBadge:a,willPushPWMBadge:f,PWM_BADGE_SPACE_WIDTH:mXe}}var Roe=j.createContext({}),Doe=j.forwardRef((e,t)=>{var n=e,{value:r,onChange:a,maxLength:i,textAlign:o="left",pattern:l,placeholder:c,inputMode:u="numeric",onComplete:f,pushPasswordManagerStrategy:m="increase-width",pasteTransformer:p,containerClassName:g,noScriptCSSFallback:v=gXe,render:y,children:w}=n,N=dXe(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),A,T,C,S,E;let[O,_]=j.useState(typeof N.defaultValue=="string"?N.defaultValue:""),M=r??O,$=fXe(M),z=j.useCallback(Ce=>{a?.(Ce),_(Ce)},[a]),V=j.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),I=j.useRef(null),F=j.useRef(null),K=j.useRef({value:M,onChange:z,isIOS:typeof window<"u"&&((T=(A=window?.CSS)==null?void 0:A.supports)==null?void 0:T.call(A,"-webkit-touch-callout","none"))}),R=j.useRef({prev:[(C=I.current)==null?void 0:C.selectionStart,(S=I.current)==null?void 0:S.selectionEnd,(E=I.current)==null?void 0:E.selectionDirection]});j.useImperativeHandle(t,()=>I.current,[]),j.useEffect(()=>{let Ce=I.current,De=F.current;if(!Ce||!De)return;K.current.value!==Ce.value&&K.current.onChange(Ce.value),R.current.prev=[Ce.selectionStart,Ce.selectionEnd,Ce.selectionDirection];function We(){if(document.activeElement!==Ce){Y(null),X(null);return}let St=Ce.selectionStart,Gt=Ce.selectionEnd,Jn=Ce.selectionDirection,cn=Ce.maxLength,_r=Ce.value,Vt=R.current.prev,_n=-1,zn=-1,Rn;if(_r.length!==0&&St!==null&&Gt!==null){let Js=St===Gt,ga=St===_r.length&&_r.length<cn;if(Js&&!ga){let rr=St;if(rr===0)_n=0,zn=1,Rn="forward";else if(rr===cn)_n=rr-1,zn=rr,Rn="backward";else if(cn>1&&_r.length>1){let Tn=0;if(Vt[0]!==null&&Vt[1]!==null){Rn=rr<Vt[1]?"backward":"forward";let qn=Vt[0]===Vt[1]&&Vt[0]<cn;Rn==="backward"&&!qn&&(Tn=-1)}_n=Tn+rr,zn=Tn+rr+1}}_n!==-1&&zn!==-1&&_n!==zn&&I.current.setSelectionRange(_n,zn,Rn)}let _s=_n!==-1?_n:St,Ai=zn!==-1?zn:Gt,Ei=Rn??Jn;Y(_s),X(Ai),R.current.prev=[_s,Ai,Ei]}if(document.addEventListener("selectionchange",We,{capture:!0}),We(),document.activeElement===Ce&&se(!0),!document.getElementById("input-otp-style")){let St=document.createElement("style");if(St.id="input-otp-style",document.head.appendChild(St),St.sheet){let Gt="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Xp(St.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Xp(St.sheet,`[data-input-otp]:autofill { ${Gt} }`),Xp(St.sheet,`[data-input-otp]:-webkit-autofill { ${Gt} }`),Xp(St.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Xp(St.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let nt=()=>{De&&De.style.setProperty("--root-height",`${Ce.clientHeight}px`)};nt();let Et=new ResizeObserver(nt);return Et.observe(Ce),()=>{document.removeEventListener("selectionchange",We,{capture:!0}),Et.disconnect()}},[]);let[B,L]=j.useState(!1),[q,se]=j.useState(!1),[H,Y]=j.useState(null),[G,X]=j.useState(null);j.useEffect(()=>{uXe(()=>{var Ce,De,We,nt;(Ce=I.current)==null||Ce.dispatchEvent(new Event("input"));let Et=(De=I.current)==null?void 0:De.selectionStart,St=(We=I.current)==null?void 0:We.selectionEnd,Gt=(nt=I.current)==null?void 0:nt.selectionDirection;Et!==null&&St!==null&&(Y(Et),X(St),R.current.prev=[Et,St,Gt])})},[M,q]),j.useEffect(()=>{$!==void 0&&M!==$&&$.length<i&&M.length===i&&f?.(M)},[i,f,$,M]);let ae=xXe({containerRef:F,inputRef:I,pushPasswordManagerStrategy:m,isFocused:q}),de=j.useCallback(Ce=>{let De=Ce.currentTarget.value.slice(0,i);if(De.length>0&&V&&!V.test(De)){Ce.preventDefault();return}typeof $=="string"&&De.length<$.length&&document.dispatchEvent(new Event("selectionchange")),z(De)},[i,z,$,V]),he=j.useCallback(()=>{var Ce;if(I.current){let De=Math.min(I.current.value.length,i-1),We=I.current.value.length;(Ce=I.current)==null||Ce.setSelectionRange(De,We),Y(De),X(We)}se(!0)},[i]),Fe=j.useCallback(Ce=>{var De,We;let nt=I.current;if(!p&&(!K.current.isIOS||!Ce.clipboardData||!nt))return;let Et=Ce.clipboardData.getData("text/plain"),St=p?p(Et):Et;Ce.preventDefault();let Gt=(De=I.current)==null?void 0:De.selectionStart,Jn=(We=I.current)==null?void 0:We.selectionEnd,cn=(Gt!==Jn?M.slice(0,Gt)+St+M.slice(Jn):M.slice(0,Gt)+St+M.slice(Gt)).slice(0,i);if(cn.length>0&&V&&!V.test(cn))return;nt.value=cn,z(cn);let _r=Math.min(cn.length,i-1),Vt=cn.length;nt.setSelectionRange(_r,Vt),Y(_r),X(Vt)},[i,z,V,M]),ge=j.useMemo(()=>({position:"relative",cursor:N.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[N.disabled]),Ae=j.useMemo(()=>({position:"absolute",inset:0,width:ae.willPushPWMBadge?`calc(100% + ${ae.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:ae.willPushPWMBadge?`inset(0 ${ae.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[ae.PWM_BADGE_SPACE_WIDTH,ae.willPushPWMBadge,o]),_e=j.useMemo(()=>j.createElement("input",cXe(lXe({autoComplete:N.autoComplete||"one-time-code"},N),{"data-input-otp":!0,"data-input-otp-placeholder-shown":M.length===0||void 0,"data-input-otp-mss":H,"data-input-otp-mse":G,inputMode:u,pattern:V?.source,"aria-placeholder":c,style:Ae,maxLength:i,value:M,ref:I,onPaste:Ce=>{var De;Fe(Ce),(De=N.onPaste)==null||De.call(N,Ce)},onChange:de,onMouseOver:Ce=>{var De;L(!0),(De=N.onMouseOver)==null||De.call(N,Ce)},onMouseLeave:Ce=>{var De;L(!1),(De=N.onMouseLeave)==null||De.call(N,Ce)},onFocus:Ce=>{var De;he(),(De=N.onFocus)==null||De.call(N,Ce)},onBlur:Ce=>{var De;se(!1),(De=N.onBlur)==null||De.call(N,Ce)}})),[de,he,Fe,u,Ae,i,G,H,N,V?.source,M]),ee=j.useMemo(()=>({slots:Array.from({length:i}).map((Ce,De)=>{var We;let nt=q&&H!==null&&G!==null&&(H===G&&De===H||De>=H&&De<G),Et=M[De]!==void 0?M[De]:null,St=M[0]!==void 0?null:(We=c?.[De])!=null?We:null;return{char:Et,placeholderChar:St,isActive:nt,hasFakeCaret:nt&&Et===null}}),isFocused:q,isHovering:!N.disabled&&B}),[q,B,i,G,H,N.disabled,M]),Le=j.useMemo(()=>y?y(ee):j.createElement(Roe.Provider,{value:ee},w),[w,ee,y]);return j.createElement(j.Fragment,null,v!==null&&j.createElement("noscript",null,j.createElement("style",null,v)),j.createElement("div",{ref:F,"data-input-otp-container":!0,style:ge,className:g},Le,j.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},_e)))});Doe.displayName="Input";function Xp(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var gXe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const Ioe=j.forwardRef(({className:e,containerClassName:t,...n},r)=>s.jsx(Doe,{ref:r,containerClassName:Re("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:Re("disabled:cursor-not-allowed",e),...n}));Ioe.displayName="InputOTP";const Loe=j.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Re("flex items-center",e),...t}));Loe.displayName="InputOTPGroup";const Fd=j.forwardRef(({index:e,className:t,...n},r)=>{const a=j.useContext(Roe),{char:i,hasFakeCaret:o,isActive:l}=a.slots[e];return s.jsxs("div",{ref:r,className:Re("relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-1 ring-ring",t),...n,children:[i,o&&s.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});Fd.displayName="InputOTPSlot";const yXe=j.forwardRef(({...e},t)=>s.jsx("div",{ref:t,role:"separator",...e,children:s.jsx(IO,{})}));yXe.displayName="InputOTPSeparator";function vXe(){const[,e]=hr(),{branding:t}=_ye(),[n,r]=j.useState({username:"",password:""}),[a,i]=j.useState(""),[o,l]=j.useState(!1),[c,u]=j.useState(""),[f,m]=j.useState(!1),[p,g]=j.useState(!1),[v,y]=j.useState(""),{data:w}=Ne({queryKey:["/api/public/platform-settings"],staleTime:300*1e3}),N=t.isWhiteLabel?t.logoUrl:w?.platformLogoUrl,A=t.isWhiteLabel?t.brandName:w?.platformName||"  ",T=t.isWhiteLabel?"   ":"   ",C=ve({mutationFn:async M=>(await Be("POST","/api/auth/login",M)).json(),onSuccess:M=>{if(M.requires2FA){g(!0),i("");return}if(M.needsSetup2FA){e("/setup-2fa");return}M.role==="admin"?e("/dashboard/admin"):M.role==="advertiser"?e("/dashboard/advertiser"):e("/dashboard/publisher")},onError:M=>{i(M.message||" ")}}),S=ve({mutationFn:async M=>(await Be("POST","/api/auth/verify-2fa",{token:M})).json(),onSuccess:M=>{M.role==="admin"?e("/dashboard/admin"):M.role==="advertiser"?e("/dashboard/advertiser"):e("/dashboard/publisher")},onError:M=>{i(M.message||" "),y("")}}),E=ve({mutationFn:async M=>(await Be("POST","/api/auth/forgot-password",{email:M})).json(),onSuccess:()=>{m(!0)},onError:M=>{i(M.message||" ")}}),O=M=>{if(M.preventDefault(),i(""),!n.username||!n.password){i("  ");return}C.mutate(n)},_=M=>{if(M.preventDefault(),i(""),!c){i(" email");return}E.mutate(c)};return s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),s.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-[310px] w-[310px] rounded-full bg-emerald-500 opacity-10 blur-[100px]"}),s.jsxs(J,{className:"w-full max-w-md bg-card border-border relative z-10",children:[s.jsxs(Pe,{className:"text-center",children:[N&&s.jsx("img",{src:N,alt:A,className:"h-16 w-auto mx-auto mb-4 object-contain","data-testid":"img-brand-logo"}),s.jsx(Ie,{className:"text-2xl font-bold text-foreground","data-testid":"text-brand-name",children:A}),s.jsx(et,{className:"text-muted-foreground",children:T})]}),s.jsxs(ne,{className:"space-y-6",children:[a&&s.jsx(Am,{variant:"destructive",children:s.jsx(Em,{children:a})}),p?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-emerald-500/20 flex items-center justify-center mx-auto mb-4",children:s.jsx(Fn,{className:"w-8 h-8 text-emerald-500"})}),s.jsx("p",{className:"text-foreground font-medium mb-2",children:" "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(Ioe,{maxLength:6,value:v,onChange:M=>y(M),"data-testid":"input-2fa-code",children:s.jsxs(Loe,{children:[s.jsx(Fd,{index:0}),s.jsx(Fd,{index:1}),s.jsx(Fd,{index:2}),s.jsx(Fd,{index:3}),s.jsx(Fd,{index:4}),s.jsx(Fd,{index:5})]})})}),s.jsx(U,{onClick:()=>S.mutate(v),disabled:v.length!==6||S.isPending,className:"w-full h-12 bg-emerald-600 hover:bg-emerald-500 text-foreground font-medium","data-testid":"button-verify-2fa",children:S.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):""}),s.jsx("button",{type:"button",onClick:()=>{g(!1),y(""),i("")},className:"w-full text-sm text-muted-foreground hover:text-foreground",children:"  "})]}):s.jsxs(s.Fragment,{children:[s.jsxs("form",{onSubmit:O,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"username",className:"text-muted-foreground",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"username","data-testid":"input-username",type:"text",placeholder:" ",value:n.username,onChange:M=>r({...n,username:M.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"password",className:"text-muted-foreground",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"password","data-testid":"input-password",type:"password",placeholder:" ",value:n.password,onChange:M=>r({...n,password:M.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("button",{type:"button",onClick:()=>l(!0),className:"text-sm text-emerald-400 hover:text-emerald-300","data-testid":"link-forgot-password",children:" ?"})}),s.jsx(U,{type:"submit","data-testid":"button-login",disabled:C.isPending,className:"w-full h-12 bg-emerald-600 hover:bg-emerald-500 text-foreground font-medium",children:C.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):""})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t border-border"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:""})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(U,{variant:"outline",className:"w-full border-border hover:bg-muted",onClick:()=>e("/register/advertiser"),"data-testid":"link-register-advertiser",children:" "}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"      "})]}),s.jsx("div",{className:"text-center text-sm text-muted-foreground",children:s.jsxs("button",{onClick:()=>e("/"),className:"text-emerald-400 hover:text-emerald-300 flex items-center justify-center gap-1 mx-auto","data-testid":"link-home",children:[s.jsx(As,{className:"w-4 h-4"})," "]})})]})]})]}),s.jsx(Wt,{open:o,onOpenChange:l,children:s.jsxs(zt,{className:"sm:max-w-md",children:[s.jsxs(qt,{children:[s.jsx(Ut,{children:" "}),s.jsx(ao,{children:" email   "})]}),f?s.jsxs("div",{className:"text-center py-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-500/20 flex items-center justify-center mx-auto mb-4",children:s.jsx(Ji,{className:"w-6 h-6 text-emerald-500"})}),s.jsx("p",{className:"text-foreground font-medium mb-2",children:" !"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"    "}),s.jsx(U,{className:"mt-4",onClick:()=>{l(!1),m(!1),u("")},children:""})]}):s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"reset-email",children:"Email"}),s.jsx(le,{id:"reset-email","data-testid":"input-reset-email",type:"email",placeholder:" email",value:c,onChange:M=>u(M.target.value)})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(U,{type:"button",variant:"outline",className:"flex-1",onClick:()=>l(!1),children:""}),s.jsx(U,{type:"submit",className:"flex-1 bg-emerald-600 hover:bg-emerald-500",disabled:E.isPending,"data-testid":"button-reset-password",children:E.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin"}):""})]})]})]})})]})}const bXe=[{value:"telegram",label:"Telegram",icon:""},{value:"whatsapp",label:"WhatsApp",icon:""},{value:"viber",label:"Viber",icon:""}];function jXe(){const[,e]=hr(),[t,n]=j.useState({fullName:"",username:"",email:"",companyName:"",phone:"",contactType:"",contactValue:"",password:"",confirmPassword:""}),[r,a]=j.useState(""),[i,o]=j.useState(!1),l=ve({mutationFn:async f=>(await Be("POST","/api/auth/register/advertiser",{fullName:f.fullName,username:f.username,email:f.email,companyName:f.companyName,phone:f.phone,contactType:f.contactType,contactValue:f.contactValue,password:f.password})).json(),onSuccess:()=>{o(!0)},onError:f=>{a(f.message||" ")}}),c=f=>{f.preventDefault(),a("");const m=[{key:"fullName",label:""},{key:"username",label:""},{key:"email",label:"Email"},{key:"companyName",label:""},{key:"phone",label:""},{key:"contactType",label:" "},{key:"contactValue",label:""},{key:"password",label:""},{key:"confirmPassword",label:" "}];for(const p of m)if(!t[p.key]){a(` "${p.label}"   `);return}if(t.password!==t.confirmPassword){a("  ");return}if(t.password.length<6){a("    6 ");return}l.mutate(t)},u=()=>{switch(t.contactType){case"telegram":return"@username  ";case"whatsapp":return"+7 999 123-45-67";case"viber":return"+7 999 123-45-67";default:return" "}};return i?s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),s.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-[400px] w-[400px] rounded-full bg-emerald-500 opacity-20 blur-[120px]"}),s.jsxs(J,{className:"w-full max-w-md bg-card border-border relative z-10 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-emerald-500 via-emerald-400 to-teal-500"}),s.jsxs(Pe,{className:"text-center pt-8",children:[s.jsxs("div",{className:"relative mx-auto mb-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-emerald-500/20 flex items-center justify-center mx-auto animate-pulse",children:s.jsx(Gn,{className:"w-10 h-10 text-emerald-500"})}),s.jsx("div",{className:"absolute -top-2 -right-2",children:s.jsx(n_,{className:"w-6 h-6 text-yellow-500"})})]}),s.jsx(Ie,{className:"text-2xl font-bold text-foreground",children:" !"}),s.jsx(et,{className:"text-muted-foreground text-base mt-2",children:"  "})]}),s.jsxs(ne,{className:"space-y-6 text-center pb-8",children:[s.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 rounded-xl p-6 border border-emerald-500/20",children:[s.jsx("p",{className:"text-lg text-foreground",children:"  !"}),s.jsxs("p",{className:"text-muted-foreground mt-2",children:["      ",s.jsx("span",{className:"text-emerald-500 font-semibold",children:"24 "})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),s.jsx("span",{children:"  "})]}),s.jsx(U,{onClick:()=>e("/login"),className:"w-full bg-emerald-600 hover:bg-emerald-700 h-12 text-base","data-testid":"button-go-to-login",children:"  "})]})]})]}):s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),s.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-[310px] w-[310px] rounded-full bg-emerald-500 opacity-10 blur-[100px]"}),s.jsxs(J,{className:"w-full max-w-lg bg-card border-border relative z-10",children:[s.jsxs(Pe,{className:"text-center",children:[s.jsx(Ie,{className:"text-2xl font-bold text-foreground",children:" "}),s.jsx(et,{className:"text-muted-foreground",children:"    "})]}),s.jsxs(ne,{className:"space-y-6",children:[r&&s.jsx(Am,{variant:"destructive",children:s.jsx(Em,{children:r})}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"fullName",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"fullName","data-testid":"input-fullname",type:"text",placeholder:" ",value:t.fullName,onChange:f=>n({...t,fullName:f.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"username",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"username","data-testid":"input-username",type:"text",placeholder:"  ",value:t.username,onChange:f=>n({...t,username:f.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"email",className:"text-muted-foreground",children:"Email *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ji,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"email","data-testid":"input-email",type:"email",placeholder:"email@example.com",value:t.email,onChange:f=>n({...t,email:f.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"companyName",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx($W,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"companyName","data-testid":"input-company",type:"text",placeholder:" ",value:t.companyName,onChange:f=>n({...t,companyName:f.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"phone",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(im,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"phone","data-testid":"input-phone",type:"tel",placeholder:"+7 999 123-45-67",value:t.phone,onChange:f=>n({...t,phone:f.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground",children:" *"}),s.jsxs(ht,{value:t.contactType,onValueChange:f=>n({...t,contactType:f}),children:[s.jsx(dt,{"data-testid":"select-contact-type",className:"bg-muted border-border",children:s.jsx(mt,{placeholder:""})}),s.jsx(ut,{children:bXe.map(f=>s.jsxs(ke,{value:f.value,children:[f.icon," ",f.label]},f.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"contactValue",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(g0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"contactValue","data-testid":"input-contact-value",type:"text",placeholder:u(),value:t.contactValue,onChange:f=>n({...t,contactValue:f.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"password",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"password","data-testid":"input-password",type:"password",placeholder:" 6 ",value:t.password,onChange:f=>n({...t,password:f.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"confirmPassword",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"confirmPassword","data-testid":"input-confirm-password",type:"password",placeholder:" ",value:t.confirmPassword,onChange:f=>n({...t,confirmPassword:f.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]})]}),s.jsx(U,{type:"submit","data-testid":"button-register",disabled:l.isPending,className:"w-full h-12 bg-emerald-600 hover:bg-emerald-500 text-foreground font-medium",children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):""})]}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["  ?"," ",s.jsx("button",{onClick:()=>e("/login"),className:"text-emerald-400 hover:text-emerald-300","data-testid":"link-login",children:""})]}),s.jsx("div",{className:"text-center",children:s.jsxs("button",{onClick:()=>e("/"),className:"text-sm text-muted-foreground hover:text-foreground flex items-center justify-center gap-1 mx-auto","data-testid":"link-home",children:[s.jsx(As,{className:"w-4 h-4"})," "]})})]})]})]})}const wXe=[{value:"telegram",label:"Telegram",icon:""},{value:"whatsapp",label:"WhatsApp",icon:""},{value:"viber",label:"Viber",icon:""}];function NXe(){const[,e]=hr(),t=$M(),n=new URLSearchParams(window.location.search),r=t.ref||n.get("ref")||"",a=n.get("adv")||"",[i,o]=j.useState({fullName:"",username:"",email:"",phone:"",contactType:"",contactValue:"",password:"",confirmPassword:""}),[l,c]=j.useState(""),[u,f]=j.useState(!1),[m,p]=j.useState(!1),[g,v]=j.useState({username:"",password:""}),[y,w]=j.useState(null),{data:N,isLoading:A}=Ne({queryKey:["validate-referral",r,a],queryFn:async()=>{if(!r)return null;const _=a?`/api/auth/validate-referral/${r}?adv=${a}`:`/api/auth/validate-referral/${r}`,M=await fetch(_,{credentials:"include"});return M.ok?M.json():null},enabled:!!r}),T=ve({mutationFn:async _=>{const M=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullName:_.fullName,username:_.username,email:_.email,phone:_.phone,contactType:_.contactType,contactValue:_.contactValue,password:_.password,referralCode:_.referralCode,advertiserId:_.advertiserId,referrerId:_.referrerId}),credentials:"include"}),$=await M.json();if(M.status===409&&$.code==="EMAIL_EXISTS_DIFFERENT_ADVERTISER")return{showLinkDialog:!0,advertiserId:$.advertiserId,advertiserName:$.advertiserName};if(!M.ok)throw new Error($.message||" ");return $},onSuccess:_=>{_?.showLinkDialog?(w({advertiserId:_.advertiserId,advertiserName:_.advertiserName}),p(!0)):f(!0)},onError:_=>{c(_.message||" ")}}),C=ve({mutationFn:async _=>(await Be("POST","/api/auth/link-to-advertiser",_)).json(),onSuccess:()=>{p(!1),e("/dashboard/publisher")},onError:_=>{c(_.message||" ")}}),S=_=>{_.preventDefault(),c("");const M=[{key:"fullName",label:""},{key:"username",label:""},{key:"email",label:"Email"},{key:"phone",label:""},{key:"contactType",label:""},{key:"contactValue",label:""},{key:"password",label:""},{key:"confirmPassword",label:" "}];for(const $ of M)if(!i[$.key]){c(` "${$.label}"   `);return}if(i.password!==i.confirmPassword){c("  ");return}if(i.password.length<6){c("    6 ");return}T.mutate({...i,referralCode:r||void 0,advertiserId:N?.advertiserId||void 0,referrerId:N?.referrerId||void 0})},E=_=>{if(_.preventDefault(),!g.username||!g.password){c("   ");return}const M=y?.advertiserId;if(!M){c(":   .     .");return}C.mutate({username:g.username,password:g.password,advertiserId:M})},O=()=>{switch(i.contactType){case"telegram":return"@username  ";case"whatsapp":return"+7 999 123-45-67";case"viber":return"+7 999 123-45-67";default:return" "}};return u?s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),s.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-[400px] w-[400px] rounded-full bg-emerald-500 opacity-20 blur-[120px]"}),s.jsxs(J,{className:"w-full max-w-md bg-card border-border relative z-10 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-emerald-500 via-emerald-400 to-teal-500"}),s.jsxs(Pe,{className:"text-center pt-8",children:[s.jsxs("div",{className:"relative mx-auto mb-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-emerald-500/20 flex items-center justify-center mx-auto animate-pulse",children:s.jsx(Gn,{className:"w-10 h-10 text-emerald-500"})}),s.jsx("div",{className:"absolute -top-2 -right-2",children:s.jsx(n_,{className:"w-6 h-6 text-yellow-500"})})]}),s.jsx(Ie,{className:"text-2xl font-bold text-foreground",children:" !"}),s.jsx(et,{className:"text-muted-foreground text-base mt-2",children:"  "})]}),s.jsxs(ne,{className:"space-y-6 text-center pb-8",children:[s.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 rounded-xl p-6 border border-emerald-500/20",children:[s.jsx("p",{className:"text-lg text-foreground",children:"  !"}),s.jsxs("p",{className:"text-muted-foreground mt-2",children:["      ",s.jsx("span",{className:"text-emerald-500 font-semibold",children:"24 "})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),s.jsx("span",{children:"  "})]}),s.jsx(U,{onClick:()=>e("/login"),className:"w-full bg-emerald-600 hover:bg-emerald-700 h-12 text-base","data-testid":"button-go-to-login",children:"  "})]})]})]}):r?s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),s.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-[310px] w-[310px] rounded-full bg-emerald-500 opacity-10 blur-[100px]"}),s.jsxs(J,{className:"w-full max-w-lg bg-card border-border relative z-10",children:[s.jsxs(Pe,{className:"text-center",children:[s.jsx(Ie,{className:"text-2xl font-bold text-foreground",children:" "}),s.jsx(et,{className:"text-muted-foreground",children:"     "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsx("div",{className:"p-4 rounded-lg border border-border bg-muted",children:A?s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(we,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:" ..."})]}):N?.valid?s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-emerald-400",children:[s.jsx(Gn,{className:"w-4 h-4"}),s.jsxs("span",{children:[": ",s.jsx("strong",{children:N.advertiserName})]})]}),N.type==="publisher"&&N.referrerName&&s.jsxs("div",{className:"flex items-center gap-2 text-blue-400 text-sm",children:[s.jsx(Or,{className:"w-3 h-3"}),s.jsxs("span",{children:[": ",s.jsx("strong",{children:N.referrerName})]})]})]}):s.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[s.jsx(ts,{className:"w-4 h-4"}),s.jsx("span",{children:" "})]})}),l&&s.jsx(Am,{variant:"destructive",children:s.jsx(Em,{children:l})}),s.jsxs("form",{onSubmit:S,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"fullName",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"fullName","data-testid":"input-fullname",type:"text",placeholder:" ",value:i.fullName,onChange:_=>o({...i,fullName:_.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"username",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"username","data-testid":"input-username",type:"text",placeholder:"  ",value:i.username,onChange:_=>o({...i,username:_.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"email",className:"text-muted-foreground",children:"Email *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ji,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"email","data-testid":"input-email",type:"email",placeholder:"email@example.com",value:i.email,onChange:_=>o({...i,email:_.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"phone",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(im,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"phone","data-testid":"input-phone",type:"tel",placeholder:"+7 999 123-45-67",value:i.phone,onChange:_=>o({...i,phone:_.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground",children:" *"}),s.jsxs(ht,{value:i.contactType,onValueChange:_=>o({...i,contactType:_}),children:[s.jsx(dt,{"data-testid":"select-contact-type",className:"bg-muted border-border",children:s.jsx(mt,{placeholder:""})}),s.jsx(ut,{children:wXe.map(_=>s.jsxs(ke,{value:_.value,children:[_.icon," ",_.label]},_.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"contactValue",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(g0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"contactValue","data-testid":"input-contact-value",type:"text",placeholder:O(),value:i.contactValue,onChange:_=>o({...i,contactValue:_.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"password",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"password","data-testid":"input-password",type:"password",placeholder:" 6 ",value:i.password,onChange:_=>o({...i,password:_.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"confirmPassword",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"confirmPassword","data-testid":"input-confirm-password",type:"password",placeholder:" ",value:i.confirmPassword,onChange:_=>o({...i,confirmPassword:_.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]})]}),s.jsx(U,{type:"submit","data-testid":"button-register",disabled:T.isPending||!N?.valid,className:"w-full h-12 bg-emerald-600 hover:bg-emerald-500 text-foreground font-medium",children:T.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):""})]}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["  ?"," ",s.jsx("button",{onClick:()=>e("/login"),className:"text-emerald-400 hover:text-emerald-300","data-testid":"link-login",children:""})]}),s.jsx("div",{className:"text-center",children:s.jsxs("button",{onClick:()=>e("/"),className:"text-sm text-muted-foreground hover:text-foreground flex items-center justify-center gap-1 mx-auto","data-testid":"link-home",children:[s.jsx(As,{className:"w-4 h-4"})," "]})})]})]}),s.jsx(Wt,{open:m,onOpenChange:p,children:s.jsxs(zt,{className:"sm:max-w-md",children:[s.jsxs(qt,{children:[s.jsxs(Ut,{className:"flex items-center gap-2",children:[s.jsx(Ui,{className:"w-5 h-5 text-yellow-500"}),"  "]}),s.jsx(ao,{children:" email     .       ."})]}),s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"login-username",children:""}),s.jsx(le,{id:"login-username","data-testid":"input-link-username",type:"text",placeholder:" ",value:g.username,onChange:_=>v({...g,username:_.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"login-password",children:""}),s.jsx(le,{id:"login-password","data-testid":"input-link-password",type:"password",placeholder:" ",value:g.password,onChange:_=>v({...g,password:_.target.value})})]}),s.jsxs(Ks,{className:"gap-2",children:[s.jsx(U,{type:"button",variant:"outline",onClick:()=>p(!1),children:""}),s.jsx(U,{type:"submit",className:"bg-emerald-600 hover:bg-emerald-500",disabled:C.isPending,"data-testid":"button-link-account",children:C.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin"}):""})]})]})]})})]}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(J,{className:"w-full max-w-md bg-card border-border",children:s.jsxs(ne,{className:"pt-6 text-center",children:[s.jsx(ts,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-foreground mb-2",children:" "}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"       "}),s.jsx(U,{onClick:()=>e("/"),variant:"outline",children:" "})]})})})}function SXe(){const[,e]=hr(),t=rt(),[n,r]=j.useState("intro"),[a,i]=j.useState(""),[o,l]=j.useState(""),[c,u]=j.useState(""),[f,m]=j.useState(""),[p,g]=j.useState(!1),{data:v,isLoading:y,error:w}=Ne({queryKey:["/api/user"],queryFn:async()=>{const E=await fetch("/api/user",{credentials:"include"});if(!E.ok)throw new Error("Not authenticated");return E.json()},retry:!1});j.useEffect(()=>{w&&e("/login")},[w,e]);const N=ve({mutationFn:async()=>(await Be("POST","/api/user/2fa/setup",{})).json(),onSuccess:E=>{i(E.secret),l(E.qrCode),r("verify")},onError:E=>{m(E.message||"  2FA")}}),A=ve({mutationFn:async E=>(await Be("POST","/api/user/2fa/enable",E)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),v?.role==="admin"?e("/dashboard/admin"):v?.role==="advertiser"?e("/dashboard/advertiser"):e("/dashboard/publisher")},onError:E=>{m(E.message||"  ")}}),T=()=>{m(""),N.mutate()},C=E=>{if(E.preventDefault(),m(""),!c||c.length!==6){m(" 6- ");return}A.mutate({secret:a,token:c})},S=()=>{navigator.clipboard.writeText(a),g(!0),setTimeout(()=>g(!1),2e3)};return y?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-emerald-500"})}):v?.twoFactorEnabled?(v.role==="admin"?e("/dashboard/admin"):v.role==="advertiser"?e("/dashboard/advertiser"):e("/dashboard/publisher"),null):s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),s.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-[310px] w-[310px] rounded-full bg-emerald-500 opacity-10 blur-[100px]"}),s.jsxs(J,{className:"w-full max-w-md bg-card border-border relative z-10",children:[s.jsxs(Pe,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-emerald-500/20 flex items-center justify-center mx-auto mb-4",children:s.jsx(Fn,{className:"w-8 h-8 text-emerald-500"})}),s.jsx(Ie,{className:"text-2xl font-bold text-foreground",children:"  "}),s.jsx(et,{className:"text-muted-foreground",children:"      2FA"})]}),s.jsxs(ne,{className:"space-y-6",children:[f&&s.jsx(Am,{variant:"destructive",children:s.jsx(Em,{children:f})}),n==="intro"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-muted rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-emerald-500 font-bold",children:"1"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:" "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" Google Authenticator, Authy     2FA"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-emerald-500 font-bold",children:"2"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:" QR-"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"    QR-"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-emerald-500 font-bold",children:"3"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:" "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" 6-     "})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(U,{variant:"outline",className:"flex-1",onClick:()=>window.open("https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2","_blank"),children:[s.jsx(v0,{className:"w-4 h-4 mr-2"}),"Android"]}),s.jsxs(U,{variant:"outline",className:"flex-1",onClick:()=>window.open("https://apps.apple.com/app/google-authenticator/id388497605","_blank"),children:[s.jsx(v0,{className:"w-4 h-4 mr-2"}),"iOS"]})]}),s.jsx(U,{onClick:T,disabled:N.isPending,className:"w-full h-12 bg-emerald-600 hover:bg-emerald-500","data-testid":"button-start-2fa",children:N.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):" "})]}),n==="verify"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:" QR-   Google Authenticator"}),o&&s.jsx("div",{className:"inline-block p-4 bg-white rounded-lg",children:s.jsx("img",{src:o,alt:"QR Code",className:"w-48 h-48"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground",children:"   :"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{value:a,readOnly:!0,className:"font-mono text-sm bg-muted"}),s.jsx(U,{variant:"outline",size:"icon",onClick:S,"data-testid":"button-copy-secret",children:p?s.jsx(bt,{className:"w-4 h-4 text-emerald-500"}):s.jsx(Yn,{className:"w-4 h-4"})})]})]}),s.jsxs("form",{onSubmit:C,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"code",className:"text-muted-foreground",children:" 6-   "}),s.jsx(le,{id:"code","data-testid":"input-2fa-code",type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,placeholder:"000000",value:c,onChange:E=>u(E.target.value.replace(/\D/g,"")),className:"text-center text-2xl font-mono tracking-widest bg-muted border-border"})]}),s.jsx(U,{type:"submit",disabled:A.isPending||c.length!==6,className:"w-full h-12 bg-emerald-600 hover:bg-emerald-500","data-testid":"button-verify-2fa",children:A.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Gn,{className:"w-4 h-4 mr-2"}),"   2FA"]})})]})]})]})]})]})}function CXe(){const e=rt(),[,t]=hr(),{data:n}=Ne({queryKey:["/api/user"],queryFn:async()=>{const f=await fetch("/api/user",{credentials:"include"});return f.ok?f.json():null}});j.useEffect(()=>{n?.role&&t(`/dashboard/${n.role}/notifications`)},[n,t]);const{data:r=[],isLoading:a}=Ne({queryKey:["/api/notifications"],queryFn:async()=>{const f=await fetch("/api/notifications?limit=100",{credentials:"include"});return f.ok?f.json():[]}}),i=ve({mutationFn:async f=>{await Be("PATCH",`/api/notifications/${f}/read`)},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/notifications"]}),e.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),o=ve({mutationFn:async()=>{await Be("POST","/api/notifications/mark-all-read")},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/notifications"]}),e.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),l=f=>{switch(f){case"conversion":case"sale":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"lead":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"payout":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"offer":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"access_request":return"bg-cyan-500/20 text-cyan-400 border-cyan-500/30";case"system":default:return"bg-muted text-muted-foreground border-border"}},c=f=>{switch(f){case"conversion":return"";case"sale":return"";case"lead":return"";case"payout":return"";case"offer":return"";case"access_request":return" ";case"system":return"";default:return f}},u=r.filter(f=>!f.isRead).length;return s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Mt,{href:n?.role?`/dashboard/${n.role}`:"/dashboard",children:s.jsx(U,{variant:"ghost",size:"icon","data-testid":"back-button",children:s.jsx(As,{className:"h-4 w-4"})})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(_o,{className:"h-6 w-6"}),""]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:u>0?`${u} `:" "})]})]}),u>0&&s.jsxs(U,{variant:"outline",onClick:()=>o.mutate(),disabled:o.isPending,"data-testid":"mark-all-read",children:[s.jsx(XM,{className:"h-4 w-4 mr-2"})," "]})]}),a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r.length===0?s.jsx(J,{children:s.jsxs(ne,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(_o,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:" "})]})}):s.jsx("div",{className:"space-y-3",children:r.map(f=>s.jsx(J,{className:`cursor-pointer transition-colors ${f.isRead?"":"border-blue-500/30 bg-blue-500/5"}`,onClick:()=>!f.isRead&&i.mutate(f.id),"data-testid":`notification-card-${f.id}`,children:s.jsx(ne,{className:"p-4",children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded border ${l(f.type)}`,children:c(f.type)}),!f.isRead&&s.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-500"})]}),s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-1",children:f.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f.body}),s.jsx("p",{className:"text-[10px] text-muted-foreground/60 mt-2",children:Oy(new Date(f.createdAt),{addSuffix:!0,locale:Si})})]})})})},f.id))})]})})}const Rd={antifraud:" ",news:"  ",postbacks:"",team:" ()",webhooks:"Webhooks",customDomain:" ",apiAccess:"API "};function kXe(){const[e,t]=j.useState(!1),[,n]=hr(),{data:r=[],isLoading:a}=Ne({queryKey:["/api/subscription/plans"]}),i=p=>e?(parseFloat(p.yearlyPrice)/12).toFixed(0):parseFloat(p.monthlyPrice).toFixed(0),o=p=>parseFloat(p.yearlyPrice).toFixed(0),l=p=>(parseFloat(p.monthlyPrice)*12).toFixed(0),c=p=>{const g=parseFloat(p.monthlyPrice)*12,v=parseFloat(p.yearlyPrice);return(g-v).toFixed(0)},u=p=>[{key:"partners",value:p.maxPartners?` ${p.maxPartners} `:" ",included:!0},{key:"offers",value:" ",included:!0},{key:"postbacks",value:Rd.postbacks,included:p.hasPostbacks},{key:"stats",value:"",included:!0},{key:"finance",value:"",included:!0},{key:"antifraud",value:Rd.antifraud,included:p.hasAntifraud},{key:"news",value:Rd.news,included:p.hasNews},{key:"team",value:Rd.team,included:p.hasTeam},{key:"webhooks",value:Rd.webhooks,included:p.hasWebhooks},{key:"customDomain",value:Rd.customDomain,included:p.hasCustomDomain},{key:"apiAccess",value:Rd.apiAccess,included:p.hasApiAccess}],f=p=>p===1?"border-primary shadow-lg scale-105 relative z-10":"border-border",m=p=>{n(`/register?plan=${p}&billing=${e?"yearly":"monthly"}`)};return a?s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:s.jsxs("div",{className:"container max-w-6xl mx-auto px-4 py-16",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(ye,{variant:"secondary",className:"mb-4",children:"30  "}),s.jsx("h1",{className:"text-4xl font-bold mb-4","data-testid":"text-pricing-title",children:"    "}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"  30-  .  ,     ."})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-12",children:[s.jsx("span",{className:`text-sm font-medium ${e?"text-muted-foreground":"text-foreground"}`,children:""}),s.jsx(vr,{checked:e,onCheckedChange:t,"data-testid":"switch-billing-cycle"}),s.jsx("span",{className:`text-sm font-medium ${e?"text-foreground":"text-muted-foreground"}`,children:""}),e&&s.jsx(ye,{variant:"default",className:"bg-green-600 hover:bg-green-600",children:"-15%"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6 items-start",children:r.map((p,g)=>s.jsxs(J,{className:`relative transition-all duration-300 ${f(g)}`,"data-testid":`card-plan-${p.name.toLowerCase()}`,children:[g===1&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:s.jsx(ye,{className:"bg-primary text-primary-foreground",children:""})}),s.jsxs(Pe,{className:"text-center pb-2",children:[s.jsx(Ie,{className:"text-2xl",children:p.name}),s.jsxs(et,{children:[g===0&&"  ",g===1&&"  ",g===2&&"  "]})]}),s.jsxs(ne,{className:"text-center",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[s.jsxs("span",{className:"text-4xl font-bold",children:["$",i(p)]}),s.jsx("span",{className:"text-muted-foreground",children:"/"})]}),e&&s.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["$",o(p),"/ ( $",c(p),")"]}),!e&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["$",l(p),"/"]})]}),s.jsx("ul",{className:"space-y-3 text-left",children:u(p).map(v=>s.jsxs("li",{className:`flex items-center gap-3 ${v.included?"":"text-muted-foreground"}`,children:[v.included?s.jsx(bt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}):s.jsx(Xn,{className:"w-5 h-5 text-muted-foreground/50 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:v.value})]},v.key))})]}),s.jsx(tY,{children:s.jsx(U,{className:"w-full",variant:g===1?"default":"outline",size:"lg",onClick:()=>m(p.id),"data-testid":`button-select-${p.name.toLowerCase()}`,children:" "})})]},p.id))}),s.jsxs("div",{className:"mt-16 text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"  ?"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"         "}),s.jsxs(U,{variant:"outline","data-testid":"button-contact-sales",children:[s.jsx($W,{className:"w-4 h-4 mr-2"}),"  "]})]}),s.jsxs("div",{className:"mt-12 text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"  :"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-2",children:[s.jsx("span",{children:" -"}),s.jsx("span",{children:" "}),s.jsx("span",{children:"  "}),s.jsx("span",{children:" Email "})]})]})]})})}function TXe(){const{toast:e}=Dt(),[t,n]=j.useState(""),[r,a]=j.useState(!1),i=ve({mutationFn:async o=>{const l=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})}),c=await l.json();if(!l.ok)throw new Error(c.message);return c},onSuccess:()=>{a(!0)},onError:o=>{e({title:"",description:o.message,variant:"destructive"})}});return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-900 via-gray-900 to-gray-900 p-4",children:s.jsxs(J,{className:"w-full max-w-md",children:[s.jsxs(Pe,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-emerald-500/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(Vs,{className:"h-6 w-6 text-emerald-500"})}),s.jsx(Ie,{children:" "}),s.jsxs(et,{children:["   email ",s.jsx("strong",{children:t})," ,      ."]})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"  ?         ."}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(U,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-try-again",children:"  email"}),s.jsx(Mt,{href:"/login",children:s.jsxs(U,{variant:"ghost",className:"w-full","data-testid":"link-back-login",children:[s.jsx(As,{className:"h-4 w-4 mr-2"}),"  "]})})]})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-900 via-gray-900 to-gray-900 p-4",children:s.jsxs(J,{className:"w-full max-w-md",children:[s.jsxs(Pe,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-emerald-500/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(Ji,{className:"h-6 w-6 text-emerald-500"})}),s.jsx(Ie,{children:" "}),s.jsx(et,{children:" email,   .      ."})]}),s.jsxs(ne,{children:[s.jsxs("form",{onSubmit:o=>{o.preventDefault(),i.mutate(t)},className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"email",children:"Email"}),s.jsx(le,{id:"email",type:"email",value:t,onChange:o=>n(o.target.value),placeholder:"your@email.com",required:!0,"data-testid":"input-email"})]}),s.jsxs(U,{type:"submit",className:"w-full",disabled:i.isPending||!t,"data-testid":"button-submit",children:[i.isPending&&s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"})," "]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(Mt,{href:"/login",children:s.jsxs(U,{variant:"link",className:"text-muted-foreground","data-testid":"link-login",children:[s.jsx(As,{className:"h-4 w-4 mr-2"}),"  "]})})})]})]})})}function AXe(){const{toast:e}=Dt();hr();const[t,n]=j.useState(""),[r,a]=j.useState(""),[i,o]=j.useState(!1),c=new URLSearchParams(window.location.search).get("token"),{data:u,isLoading:f}=Ne({queryKey:["/api/auth/verify-reset-token",c],queryFn:async()=>c?(await fetch(`/api/auth/verify-reset-token/${c}`)).json():{valid:!1,message:" "},enabled:!!c}),m=ve({mutationFn:async()=>{const g=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:c,newPassword:t})}),v=await g.json();if(!g.ok)throw new Error(v.message);return v},onSuccess:()=>{o(!0),e({title:" ",description:"      "})},onError:g=>{e({title:"",description:g.message,variant:"destructive"})}}),p=g=>{if(g.preventDefault(),t.length<6){e({title:"",description:"     6 ",variant:"destructive"});return}if(t!==r){e({title:"",description:"  ",variant:"destructive"});return}m.mutate()};return f?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-900 via-gray-900 to-gray-900 p-4",children:s.jsx(J,{className:"w-full max-w-md",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(we,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-emerald-500"}),s.jsx("p",{className:"text-muted-foreground",children:" ..."})]})})}):!c||!u?.valid?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-900 via-gray-900 to-gray-900 p-4",children:s.jsxs(J,{className:"w-full max-w-md",children:[s.jsxs(Pe,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-red-500/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(ts,{className:"h-6 w-6 text-red-500"})}),s.jsx(Ie,{children:" "}),s.jsx(et,{children:u?.message||"        ."})]}),s.jsx(ne,{children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Mt,{href:"/forgot-password",children:s.jsx(U,{className:"w-full","data-testid":"button-request-new",children:"  "})}),s.jsx(Mt,{href:"/login",children:s.jsxs(U,{variant:"ghost",className:"w-full","data-testid":"link-login",children:[s.jsx(As,{className:"h-4 w-4 mr-2"}),"  "]})})]})})]})}):i?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-900 via-gray-900 to-gray-900 p-4",children:s.jsxs(J,{className:"w-full max-w-md",children:[s.jsxs(Pe,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-emerald-500/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(Vs,{className:"h-6 w-6 text-emerald-500"})}),s.jsx(Ie,{children:" !"}),s.jsx(et,{children:"   .       ."})]}),s.jsx(ne,{children:s.jsx(Mt,{href:"/login",children:s.jsx(U,{className:"w-full","data-testid":"button-go-login",children:"  "})})})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-900 via-gray-900 to-gray-900 p-4",children:s.jsxs(J,{className:"w-full max-w-md",children:[s.jsxs(Pe,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-emerald-500/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(ns,{className:"h-6 w-6 text-emerald-500"})}),s.jsx(Ie,{children:" "}),s.jsx(et,{children:"     "})]}),s.jsx(ne,{children:s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"password",children:" "}),s.jsx(le,{id:"password",type:"password",value:t,onChange:g=>n(g.target.value),placeholder:" 6 ",required:!0,minLength:6,"data-testid":"input-password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"confirmPassword",children:" "}),s.jsx(le,{id:"confirmPassword",type:"password",value:r,onChange:g=>a(g.target.value),placeholder:" ",required:!0,"data-testid":"input-confirm-password"})]}),s.jsxs(U,{type:"submit",className:"w-full",disabled:m.isPending||!t||!r,"data-testid":"button-submit",children:[m.isPending&&s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"})," "]})]})})]})})}const EXe={en:{translation:{brand:"Primetrack",nav:{features:"Features",pricing:"Pricing",integrations:"Integrations",apiDocs:"API Documentation",login:"LOG IN",start:"START",loginSystem:"LOG IN TO SYSTEM",dashboard:"Dashboard",getStarted:"Start Free Trial",exit:"Exit Demo"},hero:{badge:"SYSTEM OPERATIONAL v3.2.1",title:"The Ultimate Ad Tracker for Media Buying Teams",subtitle:"Track, optimize, and automate your affiliate campaigns with the fastest self-hosted tracker on the market. Zero redirect lag. Real-time data.",cta:"Get Started Free",demo:"Live Demo",specs:{selfHosted:"Self-Hosted",latency:"5ms Latency",antifraud:"Anti-Fraud"},rps:"RPS (Req/Sec)"},stats:{clicks:"Clicks",uptime:"Uptime",speed:"Speed",nodes:"Active Nodes",revenue:"Revenue (Today)",conversions:"Conversions",roi:"ROI",leads:"Leads",sales:"Sales",advertiserCost:"Cost",publisherPayout:"Payout",margin:"Margin",cr:"CR%"},features:{title:"Everything you need to scale",subtitle:"Built by affiliates, for affiliates. We know what matters.",reporting:{title:"Real-time Reporting",desc:"Drill down into 30+ metrics instantly. Group data by any parameter to find profitable segments."},automation:{title:"Smart Rotation",desc:"Distribute traffic automatically based on rules, paths, and landing page performance."},protection:{title:"Bot Protection",desc:"Advanced anti-fraud system filters out bot traffic before it reaches your offers."},integration:{title:"100+ Integrations",desc:"Pre-configured templates for all major traffic sources and affiliate networks."},cards:{miniTracker:{title:"Mini-tracker for real traffic",desc:"Lightweight tracker without overload. Clicks are processed instantly, each gets a unique click_id, GEO is detected automatically."},statistics:{title:"Clear statistics",desc:"Statistics by offers, partners, geo and devices  in one place. Filters help you quickly understand what to scale and what to disable."},antifraud:{title:"Anti-fraud and quality control",desc:"Protection from low-quality traffic: proxies and VPNs, suspicious fingerprints, too fast or repeated clicks."},postback:{title:"Postback and Webhooks",desc:"Automatic conversion sending to external systems. Support for retries, logging and status monitoring."},teamwork:{title:"Teamwork",desc:"Add managers, analysts and finance staff. Access control  everyone sees only what they need."},customDomains:{title:"Custom domains",desc:"Connect your domains for tracking links. SSL certificates are issued automatically via Let's Encrypt  no manual hassle."},finance:{title:"Finance and payouts",desc:"Balance tracking, holds and partner payouts. Crypto integration support and transparent transaction history."},notifications:{title:"Notifications",desc:"Important events always at hand: in-app notifications and Telegram bot. Clicks, conversions and errors  without constantly refreshing pages."},migration:{title:"Painless migration",desc:"We help you move from Scaleo, Affilka, Affise, Alanbase. Importing offers and data takes 10-15 minutes."}}},categoryLabels:{update:"Update",integration:"Integration",feature:"Feature",news:"News"},fallbackNews:{news1:{title:"New anti-fraud system 2.0",category:"Update",shortDesc:"Added machine learning for even more accurate fraud traffic detection.",body:"We are pleased to present the updated anti-fraud system version 2.0! The platform now uses machine learning algorithms to analyze traffic patterns in real time. The system can detect: bot traffic and automated clicks, proxy and VPN connections, suspicious device fingerprints, abnormal user behavior patterns."},news2:{title:"Binance Pay integration",category:"Integration",shortDesc:"Now you can pay partners directly via Binance Pay without fees.",body:"We have integrated Binance Pay for fast and fee-free partner payouts! Now you can: send payouts in USDT, BTC, ETH and other cryptocurrencies, save on transfer fees, get instant transaction confirmations."},news3:{title:"Telegram bot for notifications",category:"Feature",shortDesc:"Get instant conversion notifications right in Telegram.",body:"Introducing the new Telegram notification bot! Connect the bot to your account and receive instant notifications about: new leads and sales, payout requests from partners, important system events."}},fallbackRoadmap:{item1:{title:"AI anti-fraud integration",desc:"Machine learning for real-time fraud traffic detection"},item2:{title:"Mobile app",desc:"Native iOS and Android apps with push notifications"},item3:{title:"Advanced analytics",desc:"Dashboards with detailed statistics and ML-based forecasts"}},roadmapStatus:{completed:"Completed",inProgress:"In progress",planned:"Planned"},copyright:" {{year}} {{name}}. All rights reserved.",pricing:{title:"Simple, Transparent Pricing",subtitle:"No hidden fees. No traffic limits on self-hosted plans.",starter:"Starter",pro:"Professional",business:"Business",month:"/mo",features:{clicks:"Unlimited Clicks",domains:"Custom Domains",users:"Team Members",support:"Priority Support"}},dashboard:{title:"Dashboard",welcome:"SYSTEM ACCESS",selectRole:"Select your secure portal gateway",loginPrompt:"Enter credentials or use quick login",username:"USERNAME",password:"PASSWORD",login:"LOGIN",quickLogin:"Quick Login",loginError:"Invalid credentials",server:"SERVER",liveStream:"LIVE DATA STREAM",trafficVol:"Traffic Volume (24h)",topGeos:"Top Geos",activeCampaigns:"Active Campaigns",table:{id:"ID",name:"Campaign Name",status:"Status",clicks:"Clicks",conv:"Conv.",revenue:"Revenue",roi:"ROI",offer:"Offer",leads:"Leads",sales:"Sales",cost:"Cost",payout:"Payout",margin:"Margin",cr:"CR%",publisher:"Publisher",conversions:"Conv."},overview:"Dashboard Overview",dailyStats:"Daily Statistics",statsByOffer:"Statistics by Offer",statsByPublisher:"Statistics by Publisher",filters:"Filters",freeSearch:"Free Search",freeSearchPlaceholder:"Search...",dateFrom:"Date From",dateTo:"Date To",menu:{overview:"Overview",reports:"Reports",links:"Offers",finance:"Finance",settings:"Settings",logout:"DISCONNECT",users:"Tenant Management",offers:"Offers",campaigns:"Campaigns",payouts:"Payouts",partners:"Partners",requests:"Requests",splitTests:"Split Tests"},offers:{all:"All Offers"},publishers:{all:"All Publishers"},roles:{admin:"Administrator",adminDesc:"Full system control, tenant management, and global finance.",advertiser:"Advertiser",advertiserDesc:"Create offers, manage budgets, and track performance.",publisher:"Publisher",publisherDesc:"Get links, view stats, and check payouts.",view:"View as {{role}}",enter:"ENTER PORTAL"},stats:{recentActivity:"Recent Activity",salesMonth:"Sales this month",newLead:"New Lead",converted:"converted from",revenue:"Total Revenue",profit:"Net Profit",activeOffers:"Active Offers",activeAffiliates:"Active Affiliates",clicksToday:"Clicks Today"}},auth:{login:"Log In"},common:{retry:"Retry",copied:"Copied!",cancel:"Cancel",save:"Save",copy:"Copy",close:"Close"},tracking:{generator:"Link Generator",copyLink:"Copy Affiliate Link"},publisherDashboard:{totalPayout:"Total Payout",hold:"Hold",epc:"EPC",apply:"Apply",noData:"No data for selected period",noGeoData:"No GEO data",noOffersData:"No offers data",statusApproved:"Approved",statusHold:"Hold",statusRejected:"Rejected",statusPending:"Pending",exportConversions:"Export Conversions",exportClicks:"Export Clicks"},splitTests:{title:"Split Tests",description:"Create A/B tests to distribute traffic between multiple offers",create:"Create Split Test",createFirst:"Create Your First Split Test",edit:"Edit Split Test",noTests:"No Split Tests",noTestsDescription:"Create your first split test to distribute traffic between multiple offers with custom weights.",name:"Name",namePlaceholder:"e.g. Gambling GEO Mix",nameRequired:"Name is required",descriptionLabel:"Description",descriptionPlaceholder:"Optional description",items:"Offers and Weights",selectOffer:"Select offer",defaultLanding:"Default landing",addItem:"Add Offer",totalWeight:"Total weight",weightsMustEqual100:"Weights must total 100% (current: {{total}}%)",minItemsRequired:"At least 2 offers are required",selectAllOffers:"Please select an offer for each item",created:"Split test created successfully",updated:"Split test updated successfully",deleted:"Split test deleted successfully",linkCopied:"Tracking link copied to clipboard",trackingLink:"Tracking Link",configureLink:"Configure",configureLinkTitle:"Configure Tracking Link",subParamsDescription:"Fill in the fields you need  they will be added to the link",generatedLink:"Generated link with your sub-parameters",copyLink:"Copy Link"},reports:{filters:"Filters",freeSearch:"Free Search",freeSearchPlaceholder:"Search...",dateFrom:"From (dd.mm.yyyy)",dateTo:"To (dd.mm.yyyy)",geo:"GEO",device:"Device",groupBy:"Group By",clearFilters:"Clear Filters",clicks:"Clicks",conversions:"Conversions",grouped:"Grouped",noData:"No data for selected filters",all:"All",showing:"Showing",of:"of",total:"total",table:{date:"Date",clickId:"Click ID",offer:"Offer",publisher:"Publisher",geo:"GEO",device:"Device",os:"OS",browser:"Browser",unique:"Unique",geoMatch:"GEO Match",sub1:"Sub1",type:"Type",status:"Status",payout:"Payout",cost:"Cost",margin:"Margin",roi:"ROI",leads:"Leads",sales:"Sales",conv:"Conv.",clicks:"Clicks"}},errors:{sessionExpired:"Session expired. Please log in again."},footer:{rights:"All rights reserved.",terms:"Terms of Service",privacy:"Privacy Policy",contacts:"Contacts"},landing:{badges:{whoFor:"Who It's For",advantages:"Advantages",features:"Features",howItWorks:"How It Works",migration:"Migration",testimonials:"Testimonials",pricing:"Pricing",faq:"FAQ",contact:"Contact",aboutUs:"About Us",roadmap:"Roadmap",news:"News",freeTrial:"30 days free",freeTrialFull:"30 days free + no card"},demoTabs:{dashboard:"Dashboard",offers:"Offers",createOffer:"Create Offer",statistics:"Statistics",finance:"Finance",team:"Team",antifraud:"Anti-Fraud"},fallbacks:{noTitle:"No title",news:"News",offersSettings:"Offers and their settings",update:"Update",integration:"Integration",feature:"Feature"},stats:{clicksProcessed:"Clicks processed",availability:"Availability",responseTime:"Response time",advertisers:"Advertisers"},heroTags:{cpaRevshare:"CPA / RevShare / Hybrid",postback:"Postback",subid:"SubID",antiDuplicate:"Anti-duplicate"},migration:{title:"Easy migration from any tracker",subtitle:"Move from your current tracker without losing data. We support import from popular platforms."},migrationSection:{whatTransfers:"What transfers",campaigns:"Campaigns and traffic sources",subidParams:"SubID parameters",conversions:"Conversions and their statuses",howProcess:"How the process works",step1:"Choose the tracker you want to migrate from",step2:"Export data or connect API",step3:"Upload file or provide access",step4:"Check field mapping",step5:"Start import",importMethods:"Import methods",importTime:"Import time",minutes:"10-15 minutes",otherTracker:"Using a different tracker? Contact support  we'll help with the format.",securityNote:"All data is transmitted over an encrypted connection. Original files are not stored after import.",startMigration:"Start migration",moreAbout:"More about migration"},migrationModal:{title:"Migration from other trackers",intro1:"Moving from one tracker to another almost always seems painful: you need to recreate offers, transfer campaigns, make sure statistics don't break.",intro2:"{{platform}} allows you to transfer basic data from popular trackers and continue working without manually recreating the structure.",platformsTitle:"Which platforms you can migrate from"},footerNav:{navigation:"Navigation",features:"Features",account:"Account",advantages:"Advantages",pricing:"Pricing",contacts:"Contacts",clickTracking:"Click tracking",postbackIntegration:"Postback integration",antifraudSystem:"Anti-fraud system",detailedStats:"Detailed statistics",registration:"Registration",login:"Login",support:"Support"},contactForm:{sending:"Sending...",writeUs:"Or email us:",namePlaceholder:"John Doe",messagePlaceholder:"Describe your question or request..."},news:{title:"Latest Updates",readMore:"Read more"},description:{tagline:"Affiliate platform for advertisers and publishers",liveSupport:"We update regularly, support is live  we answer properly, no bots."},hero:{title1:"Tracker for",title2:"affiliate marketing",subtitle:"Gambling, betting, push traffic. Clicks  leads  deposits. Postback to any tracker.",cta:"Start free",demo:"Live Demo"},pricing:{title:"Simple and honest pricing",subtitle:"No hidden fees. Unlimited traffic.",monthly:"Monthly",yearly:"Yearly",savings:"Save 20%",perMonth:"/mo",perYear:"/yr"},whoFor:{title:"Who is {{platform}} for",subtitle:"Platform for advertisers who want to control, analyze and scale their affiliate programs.",intro:`{{platform}} is a working tool for those who drive traffic every day and count money. We didn't try to make a universal service "for everyone". It's made for specific tasks.`,viewPricing:"View pricing",affiliates:{title:"For affiliates",desc:"If you drive traffic yourself and need to see the real picture by sources, {{platform}} lets you control every stage  from click to deposit.",youGet:"You get:",item1:"tracking clicks, leads and deposits",item2:"detailed statistics by subID (sub1sub10)",item3:"quick launch and scaling of working funnels",footer:"All statistics available in one place, without extra screens and reports."},teams:{title:"For teams and media buyers",desc:"{{platform}} is convenient for teams when multiple people work with traffic.",platformAllows:"The platform allows you to:",item1:"create multiple accounts and projects",item2:"separate access between team members",item3:"view overall statistics by sources and campaigns",footer:"This simplifies team control and gives a transparent picture of results."},partners:{title:"For affiliate programs",desc:"{{platform}} is suitable for tracking and controlling affiliate traffic.",youCan:"You can:",item1:"track clicks, leads and conversions",item2:"work with your offers and postback",item3:"control traffic quality and detect suspicious activity",footer:"The system helps you see where traffic comes from and how it converts."}},advantages:{title:"Why it's convenient in real work",items:{control:{title:"Full Control",desc:"All data in your hands. No third parties, no shared databases. Your traffic  your rules."},speed:{title:"Instant Setup",desc:"Registration in 1 minute. First offer in 5 minutes. No approvals or waiting  start working right away."},analytics:{title:"Deep Analytics",desc:"Every click, every conversion, every sub. Slice data by any parameter  find what works."},antifraud:{title:"Built-in Anti-Fraud",desc:"Automatic detection of bots, proxies, click-spam. Protect your budget and advertiser's reputation."}},cards:{noModules:{title:"No unnecessary modules",p1:"Most trackers have many features that look useful in demos but aren't used in real work.",p2:"In {{platform}} we kept only what's really needed every day: offers, campaigns, subID, postback, statistics and filters.",p3:"No CRM logic, complex roles and multi-level scenarios  just tracking and traffic control."},quickStart:{title:"Quick start",p1:"We deliberately removed complex onboarding.",p2:"After registration, you can immediately create an offer, generate a link and start driving traffic. On average, the first launch takes no more than 5 minutes.",p3:"No mandatory integrations and long preliminary settings."},simpleLogic:{title:"Simple logic",p1:"The interface is designed so you don't need to figure it out. All main actions are where you expect to find them.",p2:"If you've worked with trackers before, {{platform}} will be clear from the first login  without training and reading documentation."},affiliate:{title:"Built for affiliate marketing",p1:"{{platform}} was developed for real traffic scenarios.",p2:"We focus on push sources, gambling and betting offers, working with CPA and RevShare models.",p3:"The system correctly receives and sends postback, supports work with subID and gives a complete picture of campaigns."}}},howItWorks:{title:"How it works",subtitle:"No complex scenarios and unnecessary settings. You create an offer, drive traffic and immediately see the result.",steps:{registration:{title:"Registration",p1:"You create an account in {{platform}} and immediately get into the working dashboard.",p2:"No phone confirmation, no managers and no mandatory card binding.",p3:"Registration takes no more than a minute."},createOffer:{title:"Creating an offer",p1:"You add an offer, specify landings and payout model.",p2:"You configure postback, subID parameters and other needed options.",p3:"After saving, the system immediately generates a tracking link."},attractPartners:{title:"Attracting partners",p1:"You give partners or media buyers the ready link.",p2:"Every click and conversion is automatically recorded in statistics.",p3:"You see where the traffic came from and which sources work better."},trackResults:{title:"Tracking results",p1:"In real time you track clicks, leads and sales.",p2:"You filter statistics by offers, campaigns and subID.",p3:"You control traffic quality and source efficiency."}}},features:{title:"Everything for managing affiliate programs",subtitle:"Full toolkit for advertisers"},migration:{title:"Migration from other trackers",subtitle:"Transfer offers, campaigns, subIDs and conversion history in 10-15 minutes. Without stopping traffic.",features:{dataTypes:"Data Types",importMethods:"Import Methods",support:"Support"}},testimonials:{title:"What clients who actually work with {{platform}} say",subtitle:"Not marketing quotes  real usage experience",items:{t1:{role:"Advertiser / media buying team",text:"We moved from Scaleo because we were tired of the overloaded interface. Here it's easier to control traffic and faster to see where the fraud is. In terms of money  we really started losing less on junk traffic."},t2:{role:"CPA network",text:"Set up postbacks on the first try, no hassle. Support is responsive and doesn't brush you off  that's rare. We don't use all the features yet, but enough for current tasks."},t3:{role:"Affiliate program",text:"We were looking for a white-label solution so we don't have to build our own tracker. Connected a domain, set up offers  partners work as if it's our platform. For starting and scaling  exactly what we needed."},t4:{name:"Anonymous user",role:"Affiliate team",text:"There are things still being polished, but the team responds quickly. What's more important to us is that the product is developing and we can directly influence features."}}},pricingFeatures:{maxPartners:"Up to {{count}} partners",unlimitedPartners:"Unlimited partners",unlimitedOffers:"Unlimited offers",postbacks:"Postbacks",statistics:"Statistics",finance:"Finance",antifraud:"Anti-fraud",news:"News",team:"Team",customDomain:"Custom domain",popular:"Popular"},faq:{title:"Frequently Asked Questions",q1:"Who can register in the system?",a1:"Only advertisers can register directly. Partners (affiliates) register exclusively via a personal invitation link that the advertiser creates in their dashboard. This is done so the advertiser controls who works with their offers and eliminates junk traffic.",q2:"How can a partner get into the system?",a2:"The advertiser creates a registration link for partners and posts it on their website or sends it to the partner directly. There are no other ways to register partners.",q3:"Are there separate dashboards for advertiser and partner?",a3:"Yes. The advertiser creates offers, manages partners, configures postbacks, views analytics and finances. The partner only sees offers available to them, generates links, views their statistics and earnings  they don't see other partners and advertiser data.",q4:"Do partners see the platform brand?",a4:"No. The platform works in white-label mode. Partners see the advertiser's domain and branding. They won't even know about the SaaS platform's existence.",q5:"What's included in the free period?",a5:"30 days of full access to all features of the selected plan. No credit card required, no auto-charges, you can cancel anytime. Test the system in real conditions.",q6:"Are there limits in the free period?",a6:"No. Functionality is not limited, restrictions apply only to plans after the trial ends.",q7:"How does click tracking work?",a7:"With each click, the system instantly generates a unique click_id, determines GEO, device, browser and saves data for analytics and anti-fraud. Click processing happens in real-time.",q8:"How does anti-fraud work?",a8:"Anti-fraud is enabled by default. The system analyzes IP addresses (VPN/proxy/hosting), browser fingerprint, click speed and frequency, suspicious behavior patterns. Fraudulent traffic is automatically flagged and not counted in statistics and payouts.",q9:"How do postbacks work?",a9:"With each conversion, the system automatically sends a postback (HTTP request) to the specified URL. Retry on errors is supported, log of all sent requests and test mode for verification.",q10:"What if the partner doesn't use postback?",a10:"Even if the partner hasn't set up a postback, the system still records clicks, counts conversions and calculates statistics within the platform. If there's a postback  data is transmitted externally and stays with you.",q11:"Is there API access?",a11:"Yes. API is available on Professional and Enterprise plans. Through the API you can get statistics, manage offers, work with partners and integrate external services. Documentation opens after registration.",q12:"Can I connect my own domain?",a12:"Yes. You can connect any of your domains to work with partners. SSL certificate is issued automatically (Let's Encrypt), setup takes 5-10 minutes, partners work only through your domain.",q13:"Are cryptocurrency payouts supported?",a13:"Yes. Automatic payouts through Binance, Bybit, Kraken, Coinbase, EXMO, MEXC, OKX are supported. Holds, payout history and manual confirmation are available.",q14:"Can I add a team?",a14:"Yes. You can add managers, analysts and financiers with different access levels. Everyone sees only what they're allowed to.",q15:"Is the platform suitable for open CPA networks?",a15:"No. The platform is designed for advertisers, private/in-house affiliate programs, agencies and teams. If you need an open CPA network with public registration  this is not our format.",q16:"How are you different from Scaleo, Affise and Affilka?",a16:"Simpler and faster launch, strict partner control, built-in anti-fraud at no extra cost, full white-label, focus on advertisers, not an 'offer marketplace'."},contact:{title:"Have questions?",subtitle:"Write to us and we'll respond within 24 hours",form:{name:"Your name",email:"Email",message:"Message",submit:"Send message",success:"Message sent!",successDesc:"We'll contact you shortly."}},aboutUs:{title:"About Us",description:"Tracker for affiliates by affiliates. We run push and gambling ourselves  we know what's needed in practice. No extra modules and corporate fluff. Register, set up postbacks, work."},roadmap:{title:"Development Plan",subtitle:"Follow our progress and learn about new features we're developing"},cta:{title:"Launch tracking in 5 minutes",subtitle1:"No card. No test limits. Registration in 1 minute.",subtitle2:"Join hundreds of advertisers already using {{platform}}",register:"Create free account",login:"Log in"}}}},ru:{translation:{brand:"Primetrack",nav:{features:"",pricing:"",integrations:"",apiDocs:"API ",login:"",start:"",loginSystem:"  ",dashboard:" ",getStarted:" ",exit:""},hero:{badge:"  v3.2.1",title:"    ",subtitle:",         self-hosted .  .    .",cta:" ",demo:" ",specs:{selfHosted:"Self-Hosted",latency:" 5",antifraud:""},rps:"RPS (/)"},stats:{clicks:"",uptime:"Uptime",speed:"",nodes:" ",revenue:" ()",conversions:"",roi:"ROI",leads:"",sales:"",advertiserCost:"",publisherPayout:"",margin:"",cr:"CR%"},features:{title:"   ",subtitle:"   .  ,    .",reporting:{title:"   ",desc:"   30+ .         ."},automation:{title:" ",desc:"     ,    ."},protection:{title:"  ",desc:"       ,     ."},integration:{title:"100+ ",desc:"         ."},cards:{miniTracker:{title:"-   ",desc:"   .   ,    click_id, GEO  ."},statistics:{title:" ",desc:"  , ,       .    ,  ,   ."},antifraud:{title:"   ",desc:"   :   VPN,  ,     ."},postback:{title:"Postback  Webhooks",desc:"     .   ,    ."},teamwork:{title:" ",desc:" ,    .        ,   ."},customDomains:{title:" ",desc:"    -. SSL-    Let's Encrypt    ."},finance:{title:"  ",desc:" ,    .       ."},notifications:{title:"",desc:"    : in-app   Telegram-. ,        ."},migration:{title:"  ",desc:"   Scaleo, Affilka, Affise, Alanbase.      1015 ."}}},categoryLabels:{update:"",integration:"",feature:"",news:""},fallbackNews:{news1:{title:"   2.0",category:"",shortDesc:"         .",body:"       2.0!             .   : -   ,   VPN ,  fingerprints ,    ."},news2:{title:"  Binance Pay",category:"",shortDesc:"      Binance Pay  .",body:"  Binance Pay      !   :    USDT, BTC, ETH   ,     ,    ."},news3:{title:"Telegram   ",category:"",shortDesc:"       Telegram.",body:"  Telegram   !          :    ,     ,   ."}},fallbackRoadmap:{item1:{title:" AI-",desc:"        "},item2:{title:" ",desc:"   iOS  Android  push-"},item3:{title:" ",desc:"        ML"}},roadmapStatus:{completed:"",inProgress:" ",planned:""},copyright:" {{year}} {{name}}.   .",pricing:{title:"   ",subtitle:"  .    self-hosted .",starter:"",pro:"",business:"",month:"/",features:{clicks:" ",domains:" ",users:"",support:" "}},dashboard:{title:" ",welcome:"  ",selectRole:"   ",loginPrompt:"     ",username:"",password:"",login:"",quickLogin:" ",loginError:" ",server:"",liveStream:"  LIVE",trafficVol:"  (24)",topGeos:" ",activeCampaigns:" ",table:{id:"ID",name:"",status:"",clicks:"",conv:".",revenue:"",roi:"ROI",offer:"",leads:"",sales:"",cost:"",payout:"",margin:"",cr:"CR%",publisher:"",conversions:"."},overview:"",dailyStats:"  ",statsByOffer:"  ",statsByPublisher:"  ",filters:"",freeSearch:" ",freeSearchPlaceholder:"...",dateFrom:" ",dateTo:" ",menu:{overview:"",reports:"",links:"",finance:"",settings:"",logout:"",users:" ",offers:"",campaigns:"",payouts:"",partners:"",requests:"",splitTests:"-"},offers:{all:" ",title:" ",subtitle:"     ",create:" ",createNew:" ",createNewDesc:"       ",marketplace:" ",marketplaceDesc:"    ",searchPlaceholder:"  , ID  ...",filter:"",name:"",category:"",geo:"",payout:"",cr:"CR",status:"",form:{title:" ",description:"  ",trackingUrl:"Tracking URL ()"}},publishers:{all:" "},roles:{admin:"",adminDesc:"  ,    .",advertiser:"",advertiserDesc:" ,     ROI.",publisher:"",publisherDesc:" ,    .",view:": {{role}}",enter:"  "},stats:{recentActivity:" ",salesMonth:"   ",newLead:" ",converted:"",revenue:" ",profit:" ",activeOffers:" ",activeAffiliates:" ",clicksToday:" "}},auth:{login:""},common:{retry:"",copied:"!",cancel:"",save:"",copy:"",close:""},tracking:{generator:" ",copyLink:" "},publisherDashboard:{totalPayout:" ",hold:" ",epc:"EPC",apply:"",noData:"    ",noGeoData:"   ",noOffersData:"   ",statusApproved:"",statusHold:" ",statusRejected:"",statusPending:" ",exportConversions:" ",exportClicks:" "},splitTests:{title:"-",description:" A/B      ",create:" -",createFirst:"  -",edit:" -",noTests:" -",noTestsDescription:"  -        .",name:"",namePlaceholder:",   ",nameRequired:" ",descriptionLabel:"",descriptionPlaceholder:" ",items:"  ",selectOffer:" ",defaultLanding:"  ",addItem:" ",totalWeight:" ",weightsMustEqual100:"   100% (: {{total}}%)",minItemsRequired:"  2 ",selectAllOffers:"    ",created:"-  ",updated:"-  ",deleted:"-  ",linkCopied:"    ",trackingLink:"Tracking ",configureLink:"",configureLinkTitle:" ",subParamsDescription:"        ",generatedLink:"    sub-",copyLink:" "},reports:{filters:"",freeSearch:" ",freeSearchPlaceholder:" ...",dateFrom:" (..)",dateTo:" (..)",geo:"",device:"",groupBy:" ",clearFilters:" ",clicks:"",conversions:"",grouped:"",noData:"    ",all:"",showing:"",of:"",total:"",table:{date:"",clickId:"ID ",offer:"",publisher:"",geo:"",device:"",os:"",browser:"",unique:"",geoMatch:"GEO Match",sub1:"Sub1",type:"",status:"",payout:"",cost:"",margin:"",roi:"ROI",leads:"",sales:"",conv:".",clicks:""}},errors:{sessionExpired:" . ,  ."},footer:{rights:"  .",terms:" ",privacy:" ",contacts:""},landing:{badges:{whoFor:" ",advantages:"",features:"",howItWorks:"  ",migration:"",testimonials:"",pricing:"",faq:"FAQ",contact:"",aboutUs:" ",roadmap:"",news:"",freeTrial:"30  ",freeTrialFull:"30   +  "},demoTabs:{dashboard:"",offers:"",createOffer:" ",statistics:"",finance:"",team:"",antifraud:""},fallbacks:{noTitle:" ",news:"",offersSettings:"   ",update:"",integration:"",feature:""},stats:{clicksProcessed:" ",availability:"",responseTime:" ",advertisers:""},heroTags:{cpaRevshare:"CPA / RevShare / Hybrid",postback:"Postback",subid:"SubID",antiDuplicate:""},migration:{title:"    ",subtitle:"      .     ."},migrationSection:{whatTransfers:" ",campaigns:"   ",subidParams:" subID",conversions:"   ",howProcess:"  ",step1:" ,     ",step2:"    API",step3:"    ",step4:"  ",step5:" ",importMethods:" ",importTime:" ",minutes:"10-15 ",otherTracker:"  ?      .",securityNote:"     .      .",startMigration:" ",moreAbout:"  "},migrationModal:{title:"   ",intro1:"         :    ,  , ,    .",intro2:"{{platform}}              .",platformsTitle:"    "},footerNav:{navigation:"",features:"",account:"",advantages:"",pricing:"",contacts:"",clickTracking:" ",postbackIntegration:"Postback ",antifraudSystem:" ",detailedStats:" ",registration:"",login:"",support:""},contactForm:{sending:"...",writeUs:"  :",namePlaceholder:" ",messagePlaceholder:"    ..."},news:{title:" ",readMore:""},description:{tagline:"     ",liveSupport:" ,      ,  ."},hero:{title1:" ",title2:"",subtitle:", , push-.     . Postback   .",cta:" ",demo:" "},pricing:{title:"   ",subtitle:"  .  .",monthly:"",yearly:"",savings:" 20%",perMonth:"/",perYear:"/"},whoFor:{title:"  {{platform}}",subtitle:"  ,   ,     .",intro:"{{platform}}      ,        .        .     .",viewPricing:" ",affiliates:{title:"",desc:"            , {{platform}}         .",youGet:" :",item1:" ,   ",item2:"   subID (sub1sub10)",item3:"     ",footer:"     ,     ."},teams:{title:"  ",desc:"{{platform}}    ,      .",platformAllows:" :",item1:"    ",item2:"   ",item3:"      ",footer:"          ."},partners:{title:" ",desc:"{{platform}}       .",youCan:" :",item1:" ,   ",item2:"     postback",item3:"      ",footer:"  ,       ."}},advantages:{title:"     ",items:{control:{title:" ",desc:"    .   ,   .     ."},speed:{title:" ",desc:"  1 .    5 .       ."},analytics:{title:" ",desc:" ,  ,  sub.       ,  ."},antifraud:{title:" ",desc:"  , , click-spam.     ."}},cards:{noModules:{title:"  ",p1:"    ,     ,      .",p2:" {{platform}}    ,     : , , subID, postback,   .",p3:" CRM-,           ."},quickStart:{title:" ",p1:"    .",p2:"      ,      .         5 .",p3:"      ."},simpleLogic:{title:" ",p1:"  ,       .     ,    .",p2:"     , {{platform}}           ."},affiliate:{title:"  ",p1:"{{platform}}      .",p2:"   push-, gambling  betting-,   CPA  RevShare .",p3:"     postback,    subID      ."}}},howItWorks:{title:"  ",subtitle:"     .   ,      .",steps:{registration:{title:"",p1:"   {{platform}}      .",p2:"   ,       .",p3:"    ."},createOffer:{title:" ",p1:" ,     .",p2:" postback,  subID    .",p3:"      ."},attractPartners:{title:" ",p1:"     .",p2:"       .",p3:" ,          ."},trackResults:{title:" ",p1:"    ,   .",p2:"   ,   subID.",p3:"     ."}}},features:{title:"   ",subtitle:"    "},testimonials:{title:"  ,     {{platform}}",subtitle:"      ",items:{t1:{role:" / media buying ",text:"  Scaleo,      .       ,  .          ."},t2:{role:"CPA-",text:"    ,    .         .     ,     ."},t3:{role:" ",text:"   white-label,     .  ,         .      ,  ."},t4:{name:" ",role:" ",text:" ,   ,    .  ,         ."}}},pricingFeatures:{maxPartners:" {{count}} ",unlimitedPartners:" ",unlimitedOffers:" ",postbacks:"",statistics:"",finance:"",antifraud:"",news:"",team:"",customDomain:" ",popular:""},faq:{title:"  ",q1:"    ?",a1:"    .  ()      ,      .  ,   ,     ,    .",q2:"    ?",a2:"               .     .",q3:"       ?",a3:".   ,  ,  ,    .      ,  ,             .",q4:"    ?",a4:".    white-label .       .   SaaS-    .",q5:"    ?",a5:"30        .    ,  ,     .       .",q6:"     ?",a6:".   ,       trial.",q7:"   ?",a7:"       click_id,  GEO, ,        .      .",q8:"  ?",a8:"   .   IP- (VPN/proxy/hosting), browser fingerprint,    ,   .           .",q9:"  ?",a9:"      postback (HTTP-)   URL.    (retry)  ,         .",q10:"     ?",a10:"     ,     ,       .        ,    .",q11:"  API ?",a11:". API    Professional  Enterprise.  API   ,  ,       .    .",q12:"    ?",a12:".          . SSL-   (Let's Encrypt),   510 ,      .",q13:"    ?",a13:".     Binance, Bybit, Kraken, Coinbase, EXMO, MEXC, OKX.  ,     .",q14:"   ?",a14:".    ,       .    ,   .",q15:"     CPA-?",a15:".    , private / in-house  ,   .     CPA-        .",q16:"    Scaleo, Affise  Affilka?",a16:"   ,   ,    ,  white-label,   ,     ."},contact:{title:" ?",subtitle:" ,      24 ",form:{name:" ",email:"Email",message:"",submit:" ",success:" !",successDesc:"      ."}},aboutUs:{title:" ",description:"    .   push        .      . ,  , ."},roadmap:{title:" ",subtitle:"        ,   "},cta:{title:"   5 ",subtitle1:" .    .   1 .",subtitle2:"   ,    {{platform}}",register:"  ",login:"  "}}}}};Qs.use(bve).init({resources:EXe,lng:"ru",fallbackLng:"ru",interpolation:{escapeValue:!1}});function OXe(){const[,e]=hr(),{data:t,isLoading:n}=Ne({queryKey:["/api/auth/session"],queryFn:async()=>{const r=await fetch("/api/auth/session",{credentials:"include"});return r.ok?r.json():null},staleTime:5e3,retry:!1});return j.useEffect(()=>{n||(t?.role?e(`/dashboard/${t.role}`,{replace:!0}):e("/login",{replace:!0}))},[n,t,e]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})})}function PXe(){return s.jsxs(jde,{children:[s.jsx(Is,{path:"/",component:NCe}),s.jsx(Is,{path:"/login",component:vXe}),s.jsx(Is,{path:"/forgot-password",component:TXe}),s.jsx(Is,{path:"/reset-password",component:AXe}),s.jsx(Is,{path:"/setup-2fa",component:SXe}),s.jsx(Is,{path:"/register",component:sXe}),s.jsx(Is,{path:"/register/advertiser",component:jXe}),s.jsx(Is,{path:"/register/:ref",component:NXe}),s.jsx(Is,{path:"/dashboard",component:OXe}),s.jsx(Is,{path:"/dashboard/:role",component:DK}),s.jsx(Is,{path:"/dashboard/:role/*",component:DK}),s.jsx(Is,{path:"/notifications",component:CXe}),s.jsx(Is,{path:"/pricing",component:kXe}),s.jsx(Is,{path:"/system/unavailable",component:Dye}),s.jsx(Is,{component:Rye})]})}function MXe(){return s.jsx(aue,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:s.jsx(zde,{client:eue,children:s.jsx(Mye,{children:s.jsx(Pye,{children:s.jsxs(k0,{children:[s.jsx(yxe,{}),s.jsx(PXe,{})]})})})})})}tde.createRoot(document.getElementById("root")).render(s.jsx(MXe,{}));
