function Wce(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function on(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var z2={exports:{}},kp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O$;function Gce(){if(O$)return kp;O$=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var l in a)l!=="key"&&(i[l]=a[l])}else i=a;return a=i.ref,{$$typeof:e,type:r,key:o,ref:a!==void 0?a:null,props:i}}return kp.Fragment=t,kp.jsx=n,kp.jsxs=n,kp}var P$;function Yce(){return P$||(P$=1,z2.exports=Gce()),z2.exports}var s=Yce(),q2={exports:{}},Tp={},U2={exports:{}},V2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M$;function Xce(){return M$||(M$=1,(function(e){function t(R,B){var L=R.length;R.push(B);e:for(;0<L;){var q=L-1>>>1,se=R[q];if(0<a(se,B))R[q]=B,R[L]=se,L=q;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var B=R[0],L=R.pop();if(L!==B){R[0]=L;e:for(var q=0,se=R.length,H=se>>>1;q<H;){var Y=2*(q+1)-1,G=R[Y],X=Y+1,ae=R[X];if(0>a(G,L))X<se&&0>a(ae,G)?(R[q]=ae,R[X]=L,q=X):(R[q]=G,R[Y]=L,q=Y);else if(X<se&&0>a(ae,L))R[q]=ae,R[X]=L,q=X;else break e}}return B}function a(R,B){var L=R.sortIndex-B.sortIndex;return L!==0?L:R.id-B.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,m=null,p=3,g=!1,v=!1,y=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(R){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=R)r(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(u)}}function S(R){if(y=!1,C(R),!v)if(n(c)!==null)v=!0,E||(E=!0,V());else{var B=n(u);B!==null&&K(S,B.startTime-R)}}var E=!1,O=-1,_=5,M=-1;function $(){return w?!0:!(e.unstable_now()-M<_)}function z(){if(w=!1,E){var R=e.unstable_now();M=R;var B=!0;try{e:{v=!1,y&&(y=!1,A(O),O=-1),g=!0;var L=p;try{t:{for(C(R),m=n(c);m!==null&&!(m.expirationTime>R&&$());){var q=m.callback;if(typeof q=="function"){m.callback=null,p=m.priorityLevel;var se=q(m.expirationTime<=R);if(R=e.unstable_now(),typeof se=="function"){m.callback=se,C(R),B=!0;break t}m===n(c)&&r(c),C(R)}else r(c);m=n(c)}if(m!==null)B=!0;else{var H=n(u);H!==null&&K(S,H.startTime-R),B=!1}}break e}finally{m=null,p=L,g=!1}B=void 0}}finally{B?V():E=!1}}}var V;if(typeof T=="function")V=function(){T(z)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,F=I.port2;I.port1.onmessage=z,V=function(){F.postMessage(null)}}else V=function(){N(z,0)};function K(R,B){O=N(function(){R(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var L=p;p=B;try{return R()}finally{p=L}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(R,B){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var L=p;p=R;try{return B()}finally{p=L}},e.unstable_scheduleCallback=function(R,B,L){var q=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?q+L:q):L=q,R){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=L+se,R={id:f++,callback:B,priorityLevel:R,startTime:L,expirationTime:se,sortIndex:-1},L>q?(R.sortIndex=L,t(u,R),n(c)===null&&R===n(u)&&(y?(A(O),O=-1):y=!0,K(S,L-q))):(R.sortIndex=se,t(c,R),v||g||(v=!0,E||(E=!0,V()))),R},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(R){var B=p;return function(){var L=p;p=B;try{return R.apply(this,arguments)}finally{p=L}}}})(V2)),V2}var _$;function Qce(){return _$||(_$=1,U2.exports=Xce()),U2.exports}var H2={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R$;function Jce(){if(R$)return wt;R$=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),p=Symbol.iterator;function g(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function N(H,Y,G){this.props=H,this.context=Y,this.refs=w,this.updater=G||v}N.prototype.isReactComponent={},N.prototype.setState=function(H,Y){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Y,"setState")},N.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function A(){}A.prototype=N.prototype;function T(H,Y,G){this.props=H,this.context=Y,this.refs=w,this.updater=G||v}var C=T.prototype=new A;C.constructor=T,y(C,N.prototype),C.isPureReactComponent=!0;var S=Array.isArray;function E(){}var O={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function M(H,Y,G){var X=G.ref;return{$$typeof:e,type:H,key:Y,ref:X!==void 0?X:null,props:G}}function $(H,Y){return M(H.type,Y,H.props)}function z(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function V(H){var Y={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(G){return Y[G]})}var I=/\/+/g;function F(H,Y){return typeof H=="object"&&H!==null&&H.key!=null?V(""+H.key):Y.toString(36)}function K(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(E,E):(H.status="pending",H.then(function(Y){H.status==="pending"&&(H.status="fulfilled",H.value=Y)},function(Y){H.status==="pending"&&(H.status="rejected",H.reason=Y)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function R(H,Y,G,X,ae){var de=typeof H;(de==="undefined"||de==="boolean")&&(H=null);var he=!1;if(H===null)he=!0;else switch(de){case"bigint":case"string":case"number":he=!0;break;case"object":switch(H.$$typeof){case e:case t:he=!0;break;case f:return he=H._init,R(he(H._payload),Y,G,X,ae)}}if(he)return ae=ae(H),he=X===""?"."+F(H,0):X,S(ae)?(G="",he!=null&&(G=he.replace(I,"$&/")+"/"),R(ae,Y,G,"",function(Ae){return Ae})):ae!=null&&(z(ae)&&(ae=$(ae,G+(ae.key==null||H&&H.key===ae.key?"":(""+ae.key).replace(I,"$&/")+"/")+he)),Y.push(ae)),1;he=0;var Fe=X===""?".":X+":";if(S(H))for(var ge=0;ge<H.length;ge++)X=H[ge],de=Fe+F(X,ge),he+=R(X,Y,G,de,ae);else if(ge=g(H),typeof ge=="function")for(H=ge.call(H),ge=0;!(X=H.next()).done;)X=X.value,de=Fe+F(X,ge++),he+=R(X,Y,G,de,ae);else if(de==="object"){if(typeof H.then=="function")return R(K(H),Y,G,X,ae);throw Y=String(H),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return he}function B(H,Y,G){if(H==null)return H;var X=[],ae=0;return R(H,X,"","",function(de){return Y.call(G,de,ae++)}),X}function L(H){if(H._status===-1){var Y=H._result;Y=Y(),Y.then(function(G){(H._status===0||H._status===-1)&&(H._status=1,H._result=G)},function(G){(H._status===0||H._status===-1)&&(H._status=2,H._result=G)}),H._status===-1&&(H._status=0,H._result=Y)}if(H._status===1)return H._result.default;throw H._result}var q=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},se={map:B,forEach:function(H,Y,G){B(H,function(){Y.apply(this,arguments)},G)},count:function(H){var Y=0;return B(H,function(){Y++}),Y},toArray:function(H){return B(H,function(Y){return Y})||[]},only:function(H){if(!z(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return wt.Activity=m,wt.Children=se,wt.Component=N,wt.Fragment=n,wt.Profiler=a,wt.PureComponent=T,wt.StrictMode=r,wt.Suspense=c,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,wt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return O.H.useMemoCache(H)}},wt.cache=function(H){return function(){return H.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(H,Y,G){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var X=y({},H.props),ae=H.key;if(Y!=null)for(de in Y.key!==void 0&&(ae=""+Y.key),Y)!_.call(Y,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&Y.ref===void 0||(X[de]=Y[de]);var de=arguments.length-2;if(de===1)X.children=G;else if(1<de){for(var he=Array(de),Fe=0;Fe<de;Fe++)he[Fe]=arguments[Fe+2];X.children=he}return M(H.type,ae,X)},wt.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:i,_context:H},H},wt.createElement=function(H,Y,G){var X,ae={},de=null;if(Y!=null)for(X in Y.key!==void 0&&(de=""+Y.key),Y)_.call(Y,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ae[X]=Y[X]);var he=arguments.length-2;if(he===1)ae.children=G;else if(1<he){for(var Fe=Array(he),ge=0;ge<he;ge++)Fe[ge]=arguments[ge+2];ae.children=Fe}if(H&&H.defaultProps)for(X in he=H.defaultProps,he)ae[X]===void 0&&(ae[X]=he[X]);return M(H,de,ae)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(H){return{$$typeof:l,render:H}},wt.isValidElement=z,wt.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:L}},wt.memo=function(H,Y){return{$$typeof:u,type:H,compare:Y===void 0?null:Y}},wt.startTransition=function(H){var Y=O.T,G={};O.T=G;try{var X=H(),ae=O.S;ae!==null&&ae(G,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(E,q)}catch(de){q(de)}finally{Y!==null&&G.types!==null&&(Y.types=G.types),O.T=Y}},wt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},wt.use=function(H){return O.H.use(H)},wt.useActionState=function(H,Y,G){return O.H.useActionState(H,Y,G)},wt.useCallback=function(H,Y){return O.H.useCallback(H,Y)},wt.useContext=function(H){return O.H.useContext(H)},wt.useDebugValue=function(){},wt.useDeferredValue=function(H,Y){return O.H.useDeferredValue(H,Y)},wt.useEffect=function(H,Y){return O.H.useEffect(H,Y)},wt.useEffectEvent=function(H){return O.H.useEffectEvent(H)},wt.useId=function(){return O.H.useId()},wt.useImperativeHandle=function(H,Y,G){return O.H.useImperativeHandle(H,Y,G)},wt.useInsertionEffect=function(H,Y){return O.H.useInsertionEffect(H,Y)},wt.useLayoutEffect=function(H,Y){return O.H.useLayoutEffect(H,Y)},wt.useMemo=function(H,Y){return O.H.useMemo(H,Y)},wt.useOptimistic=function(H,Y){return O.H.useOptimistic(H,Y)},wt.useReducer=function(H,Y,G){return O.H.useReducer(H,Y,G)},wt.useRef=function(H){return O.H.useRef(H)},wt.useState=function(H){return O.H.useState(H)},wt.useSyncExternalStore=function(H,Y,G){return O.H.useSyncExternalStore(H,Y,G)},wt.useTransition=function(){return O.H.useTransition()},wt.version="19.2.0",wt}var D$;function Wg(){return D$||(D$=1,H2.exports=Jce()),H2.exports}var K2={exports:{}},bs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I$;function Zce(){if(I$)return bs;I$=1;var e=Wg();function t(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(c,u,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:c,containerInfo:u,implementation:f}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return bs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,bs.createPortal=function(c,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return i(c,u,null,f)},bs.flushSync=function(c){var u=o.T,f=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=u,r.p=f,r.d.f()}},bs.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(c,u))},bs.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},bs.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var f=u.as,m=l(f,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,g=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;f==="style"?r.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:g}):f==="script"&&r.d.X(c,{crossOrigin:m,integrity:p,fetchPriority:g,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},bs.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var f=l(u.as,u.crossOrigin);r.d.M(c,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(c)},bs.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var f=u.as,m=l(f,u.crossOrigin);r.d.L(c,f,{crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},bs.preloadModule=function(c,u){if(typeof c=="string")if(u){var f=l(u.as,u.crossOrigin);r.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(c)},bs.requestFormReset=function(c){r.d.r(c)},bs.unstable_batchedUpdates=function(c,u){return c(u)},bs.useFormState=function(c,u,f){return o.H.useFormState(c,u,f)},bs.useFormStatus=function(){return o.H.useHostTransitionStatus()},bs.version="19.2.0",bs}var L$;function $K(){if(L$)return K2.exports;L$=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),K2.exports=Zce(),K2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $$;function ede(){if($$)return Tp;$$=1;var e=Qce(),t=Wg(),n=$K();function r(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function i(d){var h=d,x=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,(h.flags&4098)!==0&&(x=h.return),d=h.return;while(d)}return h.tag===3?x:null}function o(d){if(d.tag===13){var h=d.memoizedState;if(h===null&&(d=d.alternate,d!==null&&(h=d.memoizedState)),h!==null)return h.dehydrated}return null}function l(d){if(d.tag===31){var h=d.memoizedState;if(h===null&&(d=d.alternate,d!==null&&(h=d.memoizedState)),h!==null)return h.dehydrated}return null}function c(d){if(i(d)!==d)throw Error(r(188))}function u(d){var h=d.alternate;if(!h){if(h=i(d),h===null)throw Error(r(188));return h!==d?null:d}for(var x=d,b=h;;){var k=x.return;if(k===null)break;var P=k.alternate;if(P===null){if(b=k.return,b!==null){x=b;continue}break}if(k.child===P.child){for(P=k.child;P;){if(P===x)return c(k),d;if(P===b)return c(k),h;P=P.sibling}throw Error(r(188))}if(x.return!==b.return)x=k,b=P;else{for(var D=!1,W=k.child;W;){if(W===x){D=!0,x=k,b=P;break}if(W===b){D=!0,b=k,x=P;break}W=W.sibling}if(!D){for(W=P.child;W;){if(W===x){D=!0,x=P,b=k;break}if(W===b){D=!0,b=P,x=k;break}W=W.sibling}if(!D)throw Error(r(189))}}if(x.alternate!==b)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?d:h}function f(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d;for(d=d.child;d!==null;){if(h=f(d),h!==null)return h;d=d.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function V(d){return d===null||typeof d!="object"?null:(d=z&&d[z]||d["@@iterator"],typeof d=="function"?d:null)}var I=Symbol.for("react.client.reference");function F(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===I?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case y:return"Fragment";case N:return"Profiler";case w:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList";case M:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case v:return"Portal";case T:return d.displayName||"Context";case A:return(d._context.displayName||"Context")+".Consumer";case C:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case O:return h=d.displayName||null,h!==null?h:F(d.type)||"Memo";case _:h=d._payload,d=d._init;try{return F(d(h))}catch{}}return null}var K=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},q=[],se=-1;function H(d){return{current:d}}function Y(d){0>se||(d.current=q[se],q[se]=null,se--)}function G(d,h){se++,q[se]=d.current,d.current=h}var X=H(null),ae=H(null),de=H(null),he=H(null);function Fe(d,h){switch(G(de,h),G(ae,d),G(X,null),h.nodeType){case 9:case 11:d=(d=h.documentElement)&&(d=d.namespaceURI)?ZL(d):0;break;default:if(d=h.tagName,h=h.namespaceURI)h=ZL(h),d=e$(h,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}Y(X),G(X,d)}function ge(){Y(X),Y(ae),Y(de)}function Ae(d){d.memoizedState!==null&&G(he,d);var h=X.current,x=e$(h,d.type);h!==x&&(G(ae,d),G(X,x))}function _e(d){ae.current===d&&(Y(X),Y(ae)),he.current===d&&(Y(he),wp._currentValue=L)}var ee,Le;function Ce(d){if(ee===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);ee=h&&h[1]||"",Le=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ee+d+Le}var De=!1;function We(d,h){if(!d||De)return"";De=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(h){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(xe){var me=xe}Reflect.construct(d,[],Te)}else{try{Te.call()}catch(xe){me=xe}d.call(Te.prototype)}}else{try{throw Error()}catch(xe){me=xe}(Te=d())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(xe){if(xe&&me&&typeof xe.stack=="string")return[xe.stack,me.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=b.DetermineComponentFrameRoot(),D=P[0],W=P[1];if(D&&W){var re=D.split(`
`),fe=W.split(`
`);for(k=b=0;b<re.length&&!re[b].includes("DetermineComponentFrameRoot");)b++;for(;k<fe.length&&!fe[k].includes("DetermineComponentFrameRoot");)k++;if(b===re.length||k===fe.length)for(b=re.length-1,k=fe.length-1;1<=b&&0<=k&&re[b]!==fe[k];)k--;for(;1<=b&&0<=k;b--,k--)if(re[b]!==fe[k]){if(b!==1||k!==1)do if(b--,k--,0>k||re[b]!==fe[k]){var be=`
`+re[b].replace(" at new "," at ");return d.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",d.displayName)),be}while(1<=b&&0<=k);break}}}finally{De=!1,Error.prepareStackTrace=x}return(x=d?d.displayName||d.name:"")?Ce(x):""}function nt(d,h){switch(d.tag){case 26:case 27:case 5:return Ce(d.type);case 16:return Ce("Lazy");case 13:return d.child!==h&&h!==null?Ce("Suspense Fallback"):Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 15:return We(d.type,!1);case 11:return We(d.type.render,!1);case 1:return We(d.type,!0);case 31:return Ce("Activity");default:return""}}function Et(d){try{var h="",x=null;do h+=nt(d,x),x=d,d=d.return;while(d);return h}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var St=Object.prototype.hasOwnProperty,Gt=e.unstable_scheduleCallback,Jn=e.unstable_cancelCallback,cn=e.unstable_shouldYield,_r=e.unstable_requestPaint,Vt=e.unstable_now,_n=e.unstable_getCurrentPriorityLevel,zn=e.unstable_ImmediatePriority,Rn=e.unstable_UserBlockingPriority,_s=e.unstable_NormalPriority,Ai=e.unstable_LowPriority,Ei=e.unstable_IdlePriority,Js=e.log,ga=e.unstable_setDisableYieldValue,rr=null,Tn=null;function qn(d){if(typeof Js=="function"&&ga(d),Tn&&typeof Tn.setStrictMode=="function")try{Tn.setStrictMode(rr,d)}catch{}}var Q=Math.clz32?Math.clz32:jr,xt=Math.log,dn=Math.LN2;function jr(d){return d>>>=0,d===0?32:31-(xt(d)/dn|0)|0}var vs=256,Un=262144,Zs=4194304;function Rs(d){var h=d&42;if(h!==0)return h;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function Uu(d,h,x){var b=d.pendingLanes;if(b===0)return 0;var k=0,P=d.suspendedLanes,D=d.pingedLanes;d=d.warmLanes;var W=b&134217727;return W!==0?(b=W&~P,b!==0?k=Rs(b):(D&=W,D!==0?k=Rs(D):x||(x=W&~d,x!==0&&(k=Rs(x))))):(W=b&~P,W!==0?k=Rs(W):D!==0?k=Rs(D):x||(x=b&~d,x!==0&&(k=Rs(x)))),k===0?0:h!==0&&h!==k&&(h&P)===0&&(P=k&-k,x=h&-h,P>=x||P===32&&(x&4194048)!==0)?h:k}function ud(d,h){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&h)===0}function mr(d,h){switch(d){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wo(){var d=Zs;return Zs<<=1,(Zs&62914560)===0&&(Zs=4194304),d}function Pm(d){for(var h=[],x=0;31>x;x++)h.push(d);return h}function Ql(d,h){d.pendingLanes|=h,h!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function Mm(d,h,x,b,k,P){var D=d.pendingLanes;d.pendingLanes=x,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=x,d.entangledLanes&=x,d.errorRecoveryDisabledLanes&=x,d.shellSuspendCounter=0;var W=d.entanglements,re=d.expirationTimes,fe=d.hiddenUpdates;for(x=D&~x;0<x;){var be=31-Q(x),Te=1<<be;W[be]=0,re[be]=-1;var me=fe[be];if(me!==null)for(fe[be]=null,be=0;be<me.length;be++){var xe=me[be];xe!==null&&(xe.lane&=-536870913)}x&=~Te}b!==0&&_m(d,b,0),P!==0&&k===0&&d.tag!==0&&(d.suspendedLanes|=P&~(D&~h))}function _m(d,h,x){d.pendingLanes|=h,d.suspendedLanes&=~h;var b=31-Q(h);d.entangledLanes|=h,d.entanglements[b]=d.entanglements[b]|1073741824|x&261930}function Rm(d,h){var x=d.entangledLanes|=h;for(d=d.entanglements;x;){var b=31-Q(x),k=1<<b;k&h|d[b]&h&&(d[b]|=h),x&=~k}}function My(d,h){var x=h&-h;return x=(x&42)!==0?1:ea(x),(x&(d.suspendedLanes|h))!==0?0:x}function ea(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function Oi(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function Dm(){var d=B.p;return d!==0?d:(d=window.event,d===void 0?32:N$(d.type))}function Im(d,h){var x=B.p;try{return B.p=d,h()}finally{B.p=x}}var Va=Math.random().toString(36).slice(2),wr="__reactFiber$"+Va,Vn="__reactProps$"+Va,Go="__reactContainer$"+Va,Vu="__reactEvents$"+Va,_y="__reactListeners$"+Va,Ry="__reactHandles$"+Va,Dy="__reactResources$"+Va,Ge="__reactMarker$"+Va;function ie(d){delete d[wr],delete d[Vn],delete d[Vu],delete d[_y],delete d[Ry]}function Oe(d){var h=d[wr];if(h)return h;for(var x=d.parentNode;x;){if(h=x[Go]||x[wr]){if(x=h.alternate,h.child!==null||x!==null&&x.child!==null)for(d=o$(d);d!==null;){if(x=d[wr])return x;d=o$(d)}return h}d=x,x=d.parentNode}return null}function qe(d){if(d=d[wr]||d[Go]){var h=d.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return d}return null}function nn(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d.stateNode;throw Error(r(33))}function Zn(d){var h=d[Dy];return h||(h=d[Dy]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Ot(d){d[Ge]=!0}var ls=new Set,Ha={};function ta(d,h){fo(d,h),fo(d+"Capture",h)}function fo(d,h){for(Ha[d]=h,d=0;d<h.length;d++)ls.add(h[d])}var Rr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lm={},$m={};function Foe(d){return St.call($m,d)?!0:St.call(Lm,d)?!1:Rr.test(d)?$m[d]=!0:(Lm[d]=!0,!1)}function Iy(d,h,x){if(Foe(h))if(x===null)d.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":d.removeAttribute(h);return;case"boolean":var b=h.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){d.removeAttribute(h);return}}d.setAttribute(h,""+x)}}function Ly(d,h,x){if(x===null)d.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(h);return}d.setAttribute(h,""+x)}}function Yo(d,h,x,b){if(b===null)d.removeAttribute(x);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(x);return}d.setAttributeNS(h,x,""+b)}}function Ka(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function H3(d){var h=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Boe(d,h,x){var b=Object.getOwnPropertyDescriptor(d.constructor.prototype,h);if(!d.hasOwnProperty(h)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var k=b.get,P=b.set;return Object.defineProperty(d,h,{configurable:!0,get:function(){return k.call(this)},set:function(D){x=""+D,P.call(this,D)}}),Object.defineProperty(d,h,{enumerable:b.enumerable}),{getValue:function(){return x},setValue:function(D){x=""+D},stopTracking:function(){d._valueTracker=null,delete d[h]}}}}function R1(d){if(!d._valueTracker){var h=H3(d)?"checked":"value";d._valueTracker=Boe(d,h,""+d[h])}}function K3(d){if(!d)return!1;var h=d._valueTracker;if(!h)return!0;var x=h.getValue(),b="";return d&&(b=H3(d)?d.checked?"true":"false":d.value),d=b,d!==x?(h.setValue(d),!0):!1}function $y(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var zoe=/[\n"\\]/g;function Wa(d){return d.replace(zoe,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function D1(d,h,x,b,k,P,D,W){d.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?d.type=D:d.removeAttribute("type"),h!=null?D==="number"?(h===0&&d.value===""||d.value!=h)&&(d.value=""+Ka(h)):d.value!==""+Ka(h)&&(d.value=""+Ka(h)):D!=="submit"&&D!=="reset"||d.removeAttribute("value"),h!=null?I1(d,D,Ka(h)):x!=null?I1(d,D,Ka(x)):b!=null&&d.removeAttribute("value"),k==null&&P!=null&&(d.defaultChecked=!!P),k!=null&&(d.checked=k&&typeof k!="function"&&typeof k!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?d.name=""+Ka(W):d.removeAttribute("name")}function W3(d,h,x,b,k,P,D,W){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(d.type=P),h!=null||x!=null){if(!(P!=="submit"&&P!=="reset"||h!=null)){R1(d);return}x=x!=null?""+Ka(x):"",h=h!=null?""+Ka(h):x,W||h===d.value||(d.value=h),d.defaultValue=h}b=b??k,b=typeof b!="function"&&typeof b!="symbol"&&!!b,d.checked=W?d.checked:!!b,d.defaultChecked=!!b,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(d.name=D),R1(d)}function I1(d,h,x){h==="number"&&$y(d.ownerDocument)===d||d.defaultValue===""+x||(d.defaultValue=""+x)}function Hu(d,h,x,b){if(d=d.options,h){h={};for(var k=0;k<x.length;k++)h["$"+x[k]]=!0;for(x=0;x<d.length;x++)k=h.hasOwnProperty("$"+d[x].value),d[x].selected!==k&&(d[x].selected=k),k&&b&&(d[x].defaultSelected=!0)}else{for(x=""+Ka(x),h=null,k=0;k<d.length;k++){if(d[k].value===x){d[k].selected=!0,b&&(d[k].defaultSelected=!0);return}h!==null||d[k].disabled||(h=d[k])}h!==null&&(h.selected=!0)}}function G3(d,h,x){if(h!=null&&(h=""+Ka(h),h!==d.value&&(d.value=h),x==null)){d.defaultValue!==h&&(d.defaultValue=h);return}d.defaultValue=x!=null?""+Ka(x):""}function Y3(d,h,x,b){if(h==null){if(b!=null){if(x!=null)throw Error(r(92));if(K(b)){if(1<b.length)throw Error(r(93));b=b[0]}x=b}x==null&&(x=""),h=x}x=Ka(h),d.defaultValue=x,b=d.textContent,b===x&&b!==""&&b!==null&&(d.value=b),R1(d)}function Ku(d,h){if(h){var x=d.firstChild;if(x&&x===d.lastChild&&x.nodeType===3){x.nodeValue=h;return}}d.textContent=h}var qoe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function X3(d,h,x){var b=h.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?b?d.setProperty(h,""):h==="float"?d.cssFloat="":d[h]="":b?d.setProperty(h,x):typeof x!="number"||x===0||qoe.has(h)?h==="float"?d.cssFloat=x:d[h]=(""+x).trim():d[h]=x+"px"}function Q3(d,h,x){if(h!=null&&typeof h!="object")throw Error(r(62));if(d=d.style,x!=null){for(var b in x)!x.hasOwnProperty(b)||h!=null&&h.hasOwnProperty(b)||(b.indexOf("--")===0?d.setProperty(b,""):b==="float"?d.cssFloat="":d[b]="");for(var k in h)b=h[k],h.hasOwnProperty(k)&&x[k]!==b&&X3(d,k,b)}else for(var P in h)h.hasOwnProperty(P)&&X3(d,P,h[P])}function L1(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uoe=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Voe=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fy(d){return Voe.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}function Xo(){}var $1=null;function F1(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Wu=null,Gu=null;function J3(d){var h=qe(d);if(h&&(d=h.stateNode)){var x=d[Vn]||null;e:switch(d=h.stateNode,h.type){case"input":if(D1(d,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),h=x.name,x.type==="radio"&&h!=null){for(x=d;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Wa(""+h)+'"][type="radio"]'),h=0;h<x.length;h++){var b=x[h];if(b!==d&&b.form===d.form){var k=b[Vn]||null;if(!k)throw Error(r(90));D1(b,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name)}}for(h=0;h<x.length;h++)b=x[h],b.form===d.form&&K3(b)}break e;case"textarea":G3(d,x.value,x.defaultValue);break e;case"select":h=x.value,h!=null&&Hu(d,!!x.multiple,h,!1)}}}var B1=!1;function Z3(d,h,x){if(B1)return d(h,x);B1=!0;try{var b=d(h);return b}finally{if(B1=!1,(Wu!==null||Gu!==null)&&(kv(),Wu&&(h=Wu,d=Gu,Gu=Wu=null,J3(h),d)))for(h=0;h<d.length;h++)J3(d[h])}}function Fm(d,h){var x=d.stateNode;if(x===null)return null;var b=x[Vn]||null;if(b===null)return null;x=b[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(d=d.type,b=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!b;break e;default:d=!1}if(d)return null;if(x&&typeof x!="function")throw Error(r(231,h,typeof x));return x}var Qo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),z1=!1;if(Qo)try{var Bm={};Object.defineProperty(Bm,"passive",{get:function(){z1=!0}}),window.addEventListener("test",Bm,Bm),window.removeEventListener("test",Bm,Bm)}catch{z1=!1}var Jl=null,q1=null,By=null;function eD(){if(By)return By;var d,h=q1,x=h.length,b,k="value"in Jl?Jl.value:Jl.textContent,P=k.length;for(d=0;d<x&&h[d]===k[d];d++);var D=x-d;for(b=1;b<=D&&h[x-b]===k[P-b];b++);return By=k.slice(d,1<b?1-b:void 0)}function zy(d){var h=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&h===13&&(d=13)):d=h,d===10&&(d=13),32<=d||d===13?d:0}function qy(){return!0}function tD(){return!1}function na(d){function h(x,b,k,P,D){this._reactName=x,this._targetInst=k,this.type=b,this.nativeEvent=P,this.target=D,this.currentTarget=null;for(var W in d)d.hasOwnProperty(W)&&(x=d[W],this[W]=x?x(P):P[W]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?qy:tD,this.isPropagationStopped=tD,this}return m(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=qy)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=qy)},persist:function(){},isPersistent:qy}),h}var fd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uy=na(fd),zm=m({},fd,{view:0,detail:0}),Hoe=na(zm),U1,V1,qm,Vy=m({},zm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:K1,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==qm&&(qm&&d.type==="mousemove"?(U1=d.screenX-qm.screenX,V1=d.screenY-qm.screenY):V1=U1=0,qm=d),U1)},movementY:function(d){return"movementY"in d?d.movementY:V1}}),nD=na(Vy),Koe=m({},Vy,{dataTransfer:0}),Woe=na(Koe),Goe=m({},zm,{relatedTarget:0}),H1=na(Goe),Yoe=m({},fd,{animationName:0,elapsedTime:0,pseudoElement:0}),Xoe=na(Yoe),Qoe=m({},fd,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Joe=na(Qoe),Zoe=m({},fd,{data:0}),rD=na(Zoe),ele={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tle={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nle={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rle(d){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(d):(d=nle[d])?!!h[d]:!1}function K1(){return rle}var sle=m({},zm,{key:function(d){if(d.key){var h=ele[d.key]||d.key;if(h!=="Unidentified")return h}return d.type==="keypress"?(d=zy(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?tle[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:K1,charCode:function(d){return d.type==="keypress"?zy(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?zy(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),ale=na(sle),ile=m({},Vy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sD=na(ile),ole=m({},zm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:K1}),lle=na(ole),cle=m({},fd,{propertyName:0,elapsedTime:0,pseudoElement:0}),dle=na(cle),ule=m({},Vy,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),fle=na(ule),hle=m({},fd,{newState:0,oldState:0}),mle=na(hle),ple=[9,13,27,32],W1=Qo&&"CompositionEvent"in window,Um=null;Qo&&"documentMode"in document&&(Um=document.documentMode);var xle=Qo&&"TextEvent"in window&&!Um,aD=Qo&&(!W1||Um&&8<Um&&11>=Um),iD=" ",oD=!1;function lD(d,h){switch(d){case"keyup":return ple.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cD(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Yu=!1;function gle(d,h){switch(d){case"compositionend":return cD(h);case"keypress":return h.which!==32?null:(oD=!0,iD);case"textInput":return d=h.data,d===iD&&oD?null:d;default:return null}}function yle(d,h){if(Yu)return d==="compositionend"||!W1&&lD(d,h)?(d=eD(),By=q1=Jl=null,Yu=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return aD&&h.locale!=="ko"?null:h.data;default:return null}}var vle={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dD(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h==="input"?!!vle[d.type]:h==="textarea"}function uD(d,h,x,b){Wu?Gu?Gu.push(b):Gu=[b]:Wu=b,h=_v(h,"onChange"),0<h.length&&(x=new Uy("onChange","change",null,x,b),d.push({event:x,listeners:h}))}var Vm=null,Hm=null;function ble(d){WL(d,0)}function Hy(d){var h=nn(d);if(K3(h))return d}function fD(d,h){if(d==="change")return h}var hD=!1;if(Qo){var G1;if(Qo){var Y1="oninput"in document;if(!Y1){var mD=document.createElement("div");mD.setAttribute("oninput","return;"),Y1=typeof mD.oninput=="function"}G1=Y1}else G1=!1;hD=G1&&(!document.documentMode||9<document.documentMode)}function pD(){Vm&&(Vm.detachEvent("onpropertychange",xD),Hm=Vm=null)}function xD(d){if(d.propertyName==="value"&&Hy(Hm)){var h=[];uD(h,Hm,d,F1(d)),Z3(ble,h)}}function jle(d,h,x){d==="focusin"?(pD(),Vm=h,Hm=x,Vm.attachEvent("onpropertychange",xD)):d==="focusout"&&pD()}function wle(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Hy(Hm)}function Nle(d,h){if(d==="click")return Hy(h)}function Sle(d,h){if(d==="input"||d==="change")return Hy(h)}function Cle(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var ya=typeof Object.is=="function"?Object.is:Cle;function Km(d,h){if(ya(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var x=Object.keys(d),b=Object.keys(h);if(x.length!==b.length)return!1;for(b=0;b<x.length;b++){var k=x[b];if(!St.call(h,k)||!ya(d[k],h[k]))return!1}return!0}function gD(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function yD(d,h){var x=gD(d);d=0;for(var b;x;){if(x.nodeType===3){if(b=d+x.textContent.length,d<=h&&b>=h)return{node:x,offset:h-d};d=b}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=gD(x)}}function vD(d,h){return d&&h?d===h?!0:d&&d.nodeType===3?!1:h&&h.nodeType===3?vD(d,h.parentNode):"contains"in d?d.contains(h):d.compareDocumentPosition?!!(d.compareDocumentPosition(h)&16):!1:!1}function bD(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var h=$y(d.document);h instanceof d.HTMLIFrameElement;){try{var x=typeof h.contentWindow.location.href=="string"}catch{x=!1}if(x)d=h.contentWindow;else break;h=$y(d.document)}return h}function X1(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h&&(h==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||h==="textarea"||d.contentEditable==="true")}var kle=Qo&&"documentMode"in document&&11>=document.documentMode,Xu=null,Q1=null,Wm=null,J1=!1;function jD(d,h,x){var b=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;J1||Xu==null||Xu!==$y(b)||(b=Xu,"selectionStart"in b&&X1(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Wm&&Km(Wm,b)||(Wm=b,b=_v(Q1,"onSelect"),0<b.length&&(h=new Uy("onSelect","select",null,h,x),d.push({event:h,listeners:b}),h.target=Xu)))}function hd(d,h){var x={};return x[d.toLowerCase()]=h.toLowerCase(),x["Webkit"+d]="webkit"+h,x["Moz"+d]="moz"+h,x}var Qu={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionrun:hd("Transition","TransitionRun"),transitionstart:hd("Transition","TransitionStart"),transitioncancel:hd("Transition","TransitionCancel"),transitionend:hd("Transition","TransitionEnd")},Z1={},wD={};Qo&&(wD=document.createElement("div").style,"AnimationEvent"in window||(delete Qu.animationend.animation,delete Qu.animationiteration.animation,delete Qu.animationstart.animation),"TransitionEvent"in window||delete Qu.transitionend.transition);function md(d){if(Z1[d])return Z1[d];if(!Qu[d])return d;var h=Qu[d],x;for(x in h)if(h.hasOwnProperty(x)&&x in wD)return Z1[d]=h[x];return d}var ND=md("animationend"),SD=md("animationiteration"),CD=md("animationstart"),Tle=md("transitionrun"),Ale=md("transitionstart"),Ele=md("transitioncancel"),kD=md("transitionend"),TD=new Map,eS="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eS.push("scrollEnd");function Pi(d,h){TD.set(d,h),ta(h,[d])}var Ky=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},Ga=[],Ju=0,tS=0;function Wy(){for(var d=Ju,h=tS=Ju=0;h<d;){var x=Ga[h];Ga[h++]=null;var b=Ga[h];Ga[h++]=null;var k=Ga[h];Ga[h++]=null;var P=Ga[h];if(Ga[h++]=null,b!==null&&k!==null){var D=b.pending;D===null?k.next=k:(k.next=D.next,D.next=k),b.pending=k}P!==0&&AD(x,k,P)}}function Gy(d,h,x,b){Ga[Ju++]=d,Ga[Ju++]=h,Ga[Ju++]=x,Ga[Ju++]=b,tS|=b,d.lanes|=b,d=d.alternate,d!==null&&(d.lanes|=b)}function nS(d,h,x,b){return Gy(d,h,x,b),Yy(d)}function pd(d,h){return Gy(d,null,null,h),Yy(d)}function AD(d,h,x){d.lanes|=x;var b=d.alternate;b!==null&&(b.lanes|=x);for(var k=!1,P=d.return;P!==null;)P.childLanes|=x,b=P.alternate,b!==null&&(b.childLanes|=x),P.tag===22&&(d=P.stateNode,d===null||d._visibility&1||(k=!0)),d=P,P=P.return;return d.tag===3?(P=d.stateNode,k&&h!==null&&(k=31-Q(x),d=P.hiddenUpdates,b=d[k],b===null?d[k]=[h]:b.push(h),h.lane=x|536870912),P):null}function Yy(d){if(50<pp)throw pp=0,u2=null,Error(r(185));for(var h=d.return;h!==null;)d=h,h=d.return;return d.tag===3?d.stateNode:null}var Zu={};function Ole(d,h,x,b){this.tag=d,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function va(d,h,x,b){return new Ole(d,h,x,b)}function rS(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Jo(d,h){var x=d.alternate;return x===null?(x=va(d.tag,h,d.key,d.mode),x.elementType=d.elementType,x.type=d.type,x.stateNode=d.stateNode,x.alternate=d,d.alternate=x):(x.pendingProps=h,x.type=d.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=d.flags&65011712,x.childLanes=d.childLanes,x.lanes=d.lanes,x.child=d.child,x.memoizedProps=d.memoizedProps,x.memoizedState=d.memoizedState,x.updateQueue=d.updateQueue,h=d.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=d.sibling,x.index=d.index,x.ref=d.ref,x.refCleanup=d.refCleanup,x}function ED(d,h){d.flags&=65011714;var x=d.alternate;return x===null?(d.childLanes=0,d.lanes=h,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,h=x.dependencies,d.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),d}function Xy(d,h,x,b,k,P){var D=0;if(b=d,typeof d=="function")rS(d)&&(D=1);else if(typeof d=="string")D=Dce(d,x,X.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case M:return d=va(31,x,h,k),d.elementType=M,d.lanes=P,d;case y:return xd(x.children,k,P,h);case w:D=8,k|=24;break;case N:return d=va(12,x,h,k|2),d.elementType=N,d.lanes=P,d;case S:return d=va(13,x,h,k),d.elementType=S,d.lanes=P,d;case E:return d=va(19,x,h,k),d.elementType=E,d.lanes=P,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case T:D=10;break e;case A:D=9;break e;case C:D=11;break e;case O:D=14;break e;case _:D=16,b=null;break e}D=29,x=Error(r(130,d===null?"null":typeof d,"")),b=null}return h=va(D,x,h,k),h.elementType=d,h.type=b,h.lanes=P,h}function xd(d,h,x,b){return d=va(7,d,b,h),d.lanes=x,d}function sS(d,h,x){return d=va(6,d,null,h),d.lanes=x,d}function OD(d){var h=va(18,null,null,0);return h.stateNode=d,h}function aS(d,h,x){return h=va(4,d.children!==null?d.children:[],d.key,h),h.lanes=x,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}var PD=new WeakMap;function Ya(d,h){if(typeof d=="object"&&d!==null){var x=PD.get(d);return x!==void 0?x:(h={value:d,source:h,stack:Et(h)},PD.set(d,h),h)}return{value:d,source:h,stack:Et(h)}}var ef=[],tf=0,Qy=null,Gm=0,Xa=[],Qa=0,Zl=null,ho=1,mo="";function Zo(d,h){ef[tf++]=Gm,ef[tf++]=Qy,Qy=d,Gm=h}function MD(d,h,x){Xa[Qa++]=ho,Xa[Qa++]=mo,Xa[Qa++]=Zl,Zl=d;var b=ho;d=mo;var k=32-Q(b)-1;b&=~(1<<k),x+=1;var P=32-Q(h)+k;if(30<P){var D=k-k%5;P=(b&(1<<D)-1).toString(32),b>>=D,k-=D,ho=1<<32-Q(h)+k|x<<k|b,mo=P+d}else ho=1<<P|x<<k|b,mo=d}function iS(d){d.return!==null&&(Zo(d,1),MD(d,1,0))}function oS(d){for(;d===Qy;)Qy=ef[--tf],ef[tf]=null,Gm=ef[--tf],ef[tf]=null;for(;d===Zl;)Zl=Xa[--Qa],Xa[Qa]=null,mo=Xa[--Qa],Xa[Qa]=null,ho=Xa[--Qa],Xa[Qa]=null}function _D(d,h){Xa[Qa++]=ho,Xa[Qa++]=mo,Xa[Qa++]=Zl,ho=h.id,mo=h.overflow,Zl=d}var cs=null,Dn=null,Bt=!1,ec=null,Ja=!1,lS=Error(r(519));function tc(d){var h=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ym(Ya(h,d)),lS}function RD(d){var h=d.stateNode,x=d.type,b=d.memoizedProps;switch(h[wr]=d,h[Vn]=b,x){case"dialog":Lt("cancel",h),Lt("close",h);break;case"iframe":case"object":case"embed":Lt("load",h);break;case"video":case"audio":for(x=0;x<gp.length;x++)Lt(gp[x],h);break;case"source":Lt("error",h);break;case"img":case"image":case"link":Lt("error",h),Lt("load",h);break;case"details":Lt("toggle",h);break;case"input":Lt("invalid",h),W3(h,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":Lt("invalid",h);break;case"textarea":Lt("invalid",h),Y3(h,b.value,b.defaultValue,b.children)}x=b.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||h.textContent===""+x||b.suppressHydrationWarning===!0||QL(h.textContent,x)?(b.popover!=null&&(Lt("beforetoggle",h),Lt("toggle",h)),b.onScroll!=null&&Lt("scroll",h),b.onScrollEnd!=null&&Lt("scrollend",h),b.onClick!=null&&(h.onclick=Xo),h=!0):h=!1,h||tc(d,!0)}function DD(d){for(cs=d.return;cs;)switch(cs.tag){case 5:case 31:case 13:Ja=!1;return;case 27:case 3:Ja=!0;return;default:cs=cs.return}}function nf(d){if(d!==cs)return!1;if(!Bt)return DD(d),Bt=!0,!1;var h=d.tag,x;if((x=h!==3&&h!==27)&&((x=h===5)&&(x=d.type,x=!(x!=="form"&&x!=="button")||k2(d.type,d.memoizedProps)),x=!x),x&&Dn&&tc(d),DD(d),h===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));Dn=i$(d)}else if(h===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));Dn=i$(d)}else h===27?(h=Dn,pc(d.type)?(d=P2,P2=null,Dn=d):Dn=h):Dn=cs?ei(d.stateNode.nextSibling):null;return!0}function gd(){Dn=cs=null,Bt=!1}function cS(){var d=ec;return d!==null&&(ia===null?ia=d:ia.push.apply(ia,d),ec=null),d}function Ym(d){ec===null?ec=[d]:ec.push(d)}var dS=H(null),yd=null,el=null;function nc(d,h,x){G(dS,h._currentValue),h._currentValue=x}function tl(d){d._currentValue=dS.current,Y(dS)}function uS(d,h,x){for(;d!==null;){var b=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,b!==null&&(b.childLanes|=h)):b!==null&&(b.childLanes&h)!==h&&(b.childLanes|=h),d===x)break;d=d.return}}function fS(d,h,x,b){var k=d.child;for(k!==null&&(k.return=d);k!==null;){var P=k.dependencies;if(P!==null){var D=k.child;P=P.firstContext;e:for(;P!==null;){var W=P;P=k;for(var re=0;re<h.length;re++)if(W.context===h[re]){P.lanes|=x,W=P.alternate,W!==null&&(W.lanes|=x),uS(P.return,x,d),b||(D=null);break e}P=W.next}}else if(k.tag===18){if(D=k.return,D===null)throw Error(r(341));D.lanes|=x,P=D.alternate,P!==null&&(P.lanes|=x),uS(D,x,d),D=null}else D=k.child;if(D!==null)D.return=k;else for(D=k;D!==null;){if(D===d){D=null;break}if(k=D.sibling,k!==null){k.return=D.return,D=k;break}D=D.return}k=D}}function rf(d,h,x,b){d=null;for(var k=h,P=!1;k!==null;){if(!P){if((k.flags&524288)!==0)P=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var D=k.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var W=k.type;ya(k.pendingProps.value,D.value)||(d!==null?d.push(W):d=[W])}}else if(k===he.current){if(D=k.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(d!==null?d.push(wp):d=[wp])}k=k.return}d!==null&&fS(h,d,x,b),h.flags|=262144}function Jy(d){for(d=d.firstContext;d!==null;){if(!ya(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function vd(d){yd=d,el=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function ds(d){return ID(yd,d)}function Zy(d,h){return yd===null&&vd(d),ID(d,h)}function ID(d,h){var x=h._currentValue;if(h={context:h,memoizedValue:x,next:null},el===null){if(d===null)throw Error(r(308));el=h,d.dependencies={lanes:0,firstContext:h},d.flags|=524288}else el=el.next=h;return x}var Ple=typeof AbortController<"u"?AbortController:function(){var d=[],h=this.signal={aborted:!1,addEventListener:function(x,b){d.push(b)}};this.abort=function(){h.aborted=!0,d.forEach(function(x){return x()})}},Mle=e.unstable_scheduleCallback,_le=e.unstable_NormalPriority,Nr={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hS(){return{controller:new Ple,data:new Map,refCount:0}}function Xm(d){d.refCount--,d.refCount===0&&Mle(_le,function(){d.controller.abort()})}var Qm=null,mS=0,sf=0,af=null;function Rle(d,h){if(Qm===null){var x=Qm=[];mS=0,sf=g2(),af={status:"pending",value:void 0,then:function(b){x.push(b)}}}return mS++,h.then(LD,LD),h}function LD(){if(--mS===0&&Qm!==null){af!==null&&(af.status="fulfilled");var d=Qm;Qm=null,sf=0,af=null;for(var h=0;h<d.length;h++)(0,d[h])()}}function Dle(d,h){var x=[],b={status:"pending",value:null,reason:null,then:function(k){x.push(k)}};return d.then(function(){b.status="fulfilled",b.value=h;for(var k=0;k<x.length;k++)(0,x[k])(h)},function(k){for(b.status="rejected",b.reason=k,k=0;k<x.length;k++)(0,x[k])(void 0)}),b}var $D=R.S;R.S=function(d,h){jL=Vt(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&Rle(d,h),$D!==null&&$D(d,h)};var bd=H(null);function pS(){var d=bd.current;return d!==null?d:Nn.pooledCache}function ev(d,h){h===null?G(bd,bd.current):G(bd,h.pool)}function FD(){var d=pS();return d===null?null:{parent:Nr._currentValue,pool:d}}var of=Error(r(460)),xS=Error(r(474)),tv=Error(r(542)),nv={then:function(){}};function BD(d){return d=d.status,d==="fulfilled"||d==="rejected"}function zD(d,h,x){switch(x=d[x],x===void 0?d.push(h):x!==h&&(h.then(Xo,Xo),h=x),h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,UD(d),d;default:if(typeof h.status=="string")h.then(Xo,Xo);else{if(d=Nn,d!==null&&100<d.shellSuspendCounter)throw Error(r(482));d=h,d.status="pending",d.then(function(b){if(h.status==="pending"){var k=h;k.status="fulfilled",k.value=b}},function(b){if(h.status==="pending"){var k=h;k.status="rejected",k.reason=b}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,UD(d),d}throw wd=h,of}}function jd(d){try{var h=d._init;return h(d._payload)}catch(x){throw x!==null&&typeof x=="object"&&typeof x.then=="function"?(wd=x,of):x}}var wd=null;function qD(){if(wd===null)throw Error(r(459));var d=wd;return wd=null,d}function UD(d){if(d===of||d===tv)throw Error(r(483))}var lf=null,Jm=0;function rv(d){var h=Jm;return Jm+=1,lf===null&&(lf=[]),zD(lf,d,h)}function Zm(d,h){h=h.props.ref,d.ref=h!==void 0?h:null}function sv(d,h){throw h.$$typeof===p?Error(r(525)):(d=Object.prototype.toString.call(h),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d)))}function VD(d){function h(ce,oe){if(d){var ue=ce.deletions;ue===null?(ce.deletions=[oe],ce.flags|=16):ue.push(oe)}}function x(ce,oe){if(!d)return null;for(;oe!==null;)h(ce,oe),oe=oe.sibling;return null}function b(ce){for(var oe=new Map;ce!==null;)ce.key!==null?oe.set(ce.key,ce):oe.set(ce.index,ce),ce=ce.sibling;return oe}function k(ce,oe){return ce=Jo(ce,oe),ce.index=0,ce.sibling=null,ce}function P(ce,oe,ue){return ce.index=ue,d?(ue=ce.alternate,ue!==null?(ue=ue.index,ue<oe?(ce.flags|=67108866,oe):ue):(ce.flags|=67108866,oe)):(ce.flags|=1048576,oe)}function D(ce){return d&&ce.alternate===null&&(ce.flags|=67108866),ce}function W(ce,oe,ue,Se){return oe===null||oe.tag!==6?(oe=sS(ue,ce.mode,Se),oe.return=ce,oe):(oe=k(oe,ue),oe.return=ce,oe)}function re(ce,oe,ue,Se){var Ze=ue.type;return Ze===y?be(ce,oe,ue.props.children,Se,ue.key):oe!==null&&(oe.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===_&&jd(Ze)===oe.type)?(oe=k(oe,ue.props),Zm(oe,ue),oe.return=ce,oe):(oe=Xy(ue.type,ue.key,ue.props,null,ce.mode,Se),Zm(oe,ue),oe.return=ce,oe)}function fe(ce,oe,ue,Se){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ue.containerInfo||oe.stateNode.implementation!==ue.implementation?(oe=aS(ue,ce.mode,Se),oe.return=ce,oe):(oe=k(oe,ue.children||[]),oe.return=ce,oe)}function be(ce,oe,ue,Se,Ze){return oe===null||oe.tag!==7?(oe=xd(ue,ce.mode,Se,Ze),oe.return=ce,oe):(oe=k(oe,ue),oe.return=ce,oe)}function Te(ce,oe,ue){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=sS(""+oe,ce.mode,ue),oe.return=ce,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case g:return ue=Xy(oe.type,oe.key,oe.props,null,ce.mode,ue),Zm(ue,oe),ue.return=ce,ue;case v:return oe=aS(oe,ce.mode,ue),oe.return=ce,oe;case _:return oe=jd(oe),Te(ce,oe,ue)}if(K(oe)||V(oe))return oe=xd(oe,ce.mode,ue,null),oe.return=ce,oe;if(typeof oe.then=="function")return Te(ce,rv(oe),ue);if(oe.$$typeof===T)return Te(ce,Zy(ce,oe),ue);sv(ce,oe)}return null}function me(ce,oe,ue,Se){var Ze=oe!==null?oe.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Ze!==null?null:W(ce,oe,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case g:return ue.key===Ze?re(ce,oe,ue,Se):null;case v:return ue.key===Ze?fe(ce,oe,ue,Se):null;case _:return ue=jd(ue),me(ce,oe,ue,Se)}if(K(ue)||V(ue))return Ze!==null?null:be(ce,oe,ue,Se,null);if(typeof ue.then=="function")return me(ce,oe,rv(ue),Se);if(ue.$$typeof===T)return me(ce,oe,Zy(ce,ue),Se);sv(ce,ue)}return null}function xe(ce,oe,ue,Se,Ze){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return ce=ce.get(ue)||null,W(oe,ce,""+Se,Ze);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case g:return ce=ce.get(Se.key===null?ue:Se.key)||null,re(oe,ce,Se,Ze);case v:return ce=ce.get(Se.key===null?ue:Se.key)||null,fe(oe,ce,Se,Ze);case _:return Se=jd(Se),xe(ce,oe,ue,Se,Ze)}if(K(Se)||V(Se))return ce=ce.get(ue)||null,be(oe,ce,Se,Ze,null);if(typeof Se.then=="function")return xe(ce,oe,ue,rv(Se),Ze);if(Se.$$typeof===T)return xe(ce,oe,ue,Zy(oe,Se),Ze);sv(oe,Se)}return null}function Ve(ce,oe,ue,Se){for(var Ze=null,Xt=null,Ye=oe,Tt=oe=0,Ft=null;Ye!==null&&Tt<ue.length;Tt++){Ye.index>Tt?(Ft=Ye,Ye=null):Ft=Ye.sibling;var Qt=me(ce,Ye,ue[Tt],Se);if(Qt===null){Ye===null&&(Ye=Ft);break}d&&Ye&&Qt.alternate===null&&h(ce,Ye),oe=P(Qt,oe,Tt),Xt===null?Ze=Qt:Xt.sibling=Qt,Xt=Qt,Ye=Ft}if(Tt===ue.length)return x(ce,Ye),Bt&&Zo(ce,Tt),Ze;if(Ye===null){for(;Tt<ue.length;Tt++)Ye=Te(ce,ue[Tt],Se),Ye!==null&&(oe=P(Ye,oe,Tt),Xt===null?Ze=Ye:Xt.sibling=Ye,Xt=Ye);return Bt&&Zo(ce,Tt),Ze}for(Ye=b(Ye);Tt<ue.length;Tt++)Ft=xe(Ye,ce,Tt,ue[Tt],Se),Ft!==null&&(d&&Ft.alternate!==null&&Ye.delete(Ft.key===null?Tt:Ft.key),oe=P(Ft,oe,Tt),Xt===null?Ze=Ft:Xt.sibling=Ft,Xt=Ft);return d&&Ye.forEach(function(bc){return h(ce,bc)}),Bt&&Zo(ce,Tt),Ze}function ot(ce,oe,ue,Se){if(ue==null)throw Error(r(151));for(var Ze=null,Xt=null,Ye=oe,Tt=oe=0,Ft=null,Qt=ue.next();Ye!==null&&!Qt.done;Tt++,Qt=ue.next()){Ye.index>Tt?(Ft=Ye,Ye=null):Ft=Ye.sibling;var bc=me(ce,Ye,Qt.value,Se);if(bc===null){Ye===null&&(Ye=Ft);break}d&&Ye&&bc.alternate===null&&h(ce,Ye),oe=P(bc,oe,Tt),Xt===null?Ze=bc:Xt.sibling=bc,Xt=bc,Ye=Ft}if(Qt.done)return x(ce,Ye),Bt&&Zo(ce,Tt),Ze;if(Ye===null){for(;!Qt.done;Tt++,Qt=ue.next())Qt=Te(ce,Qt.value,Se),Qt!==null&&(oe=P(Qt,oe,Tt),Xt===null?Ze=Qt:Xt.sibling=Qt,Xt=Qt);return Bt&&Zo(ce,Tt),Ze}for(Ye=b(Ye);!Qt.done;Tt++,Qt=ue.next())Qt=xe(Ye,ce,Tt,Qt.value,Se),Qt!==null&&(d&&Qt.alternate!==null&&Ye.delete(Qt.key===null?Tt:Qt.key),oe=P(Qt,oe,Tt),Xt===null?Ze=Qt:Xt.sibling=Qt,Xt=Qt);return d&&Ye.forEach(function(Kce){return h(ce,Kce)}),Bt&&Zo(ce,Tt),Ze}function vn(ce,oe,ue,Se){if(typeof ue=="object"&&ue!==null&&ue.type===y&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case g:e:{for(var Ze=ue.key;oe!==null;){if(oe.key===Ze){if(Ze=ue.type,Ze===y){if(oe.tag===7){x(ce,oe.sibling),Se=k(oe,ue.props.children),Se.return=ce,ce=Se;break e}}else if(oe.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===_&&jd(Ze)===oe.type){x(ce,oe.sibling),Se=k(oe,ue.props),Zm(Se,ue),Se.return=ce,ce=Se;break e}x(ce,oe);break}else h(ce,oe);oe=oe.sibling}ue.type===y?(Se=xd(ue.props.children,ce.mode,Se,ue.key),Se.return=ce,ce=Se):(Se=Xy(ue.type,ue.key,ue.props,null,ce.mode,Se),Zm(Se,ue),Se.return=ce,ce=Se)}return D(ce);case v:e:{for(Ze=ue.key;oe!==null;){if(oe.key===Ze)if(oe.tag===4&&oe.stateNode.containerInfo===ue.containerInfo&&oe.stateNode.implementation===ue.implementation){x(ce,oe.sibling),Se=k(oe,ue.children||[]),Se.return=ce,ce=Se;break e}else{x(ce,oe);break}else h(ce,oe);oe=oe.sibling}Se=aS(ue,ce.mode,Se),Se.return=ce,ce=Se}return D(ce);case _:return ue=jd(ue),vn(ce,oe,ue,Se)}if(K(ue))return Ve(ce,oe,ue,Se);if(V(ue)){if(Ze=V(ue),typeof Ze!="function")throw Error(r(150));return ue=Ze.call(ue),ot(ce,oe,ue,Se)}if(typeof ue.then=="function")return vn(ce,oe,rv(ue),Se);if(ue.$$typeof===T)return vn(ce,oe,Zy(ce,ue),Se);sv(ce,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,oe!==null&&oe.tag===6?(x(ce,oe.sibling),Se=k(oe,ue),Se.return=ce,ce=Se):(x(ce,oe),Se=sS(ue,ce.mode,Se),Se.return=ce,ce=Se),D(ce)):x(ce,oe)}return function(ce,oe,ue,Se){try{Jm=0;var Ze=vn(ce,oe,ue,Se);return lf=null,Ze}catch(Ye){if(Ye===of||Ye===tv)throw Ye;var Xt=va(29,Ye,null,ce.mode);return Xt.lanes=Se,Xt.return=ce,Xt}finally{}}}var Nd=VD(!0),HD=VD(!1),rc=!1;function gS(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yS(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function sc(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function ac(d,h,x){var b=d.updateQueue;if(b===null)return null;if(b=b.shared,(tn&2)!==0){var k=b.pending;return k===null?h.next=h:(h.next=k.next,k.next=h),b.pending=h,h=Yy(d),AD(d,null,x),h}return Gy(d,b,h,x),Yy(d)}function ep(d,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194048)!==0)){var b=h.lanes;b&=d.pendingLanes,x|=b,h.lanes=x,Rm(d,x)}}function vS(d,h){var x=d.updateQueue,b=d.alternate;if(b!==null&&(b=b.updateQueue,x===b)){var k=null,P=null;if(x=x.firstBaseUpdate,x!==null){do{var D={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};P===null?k=P=D:P=P.next=D,x=x.next}while(x!==null);P===null?k=P=h:P=P.next=h}else k=P=h;x={baseState:b.baseState,firstBaseUpdate:k,lastBaseUpdate:P,shared:b.shared,callbacks:b.callbacks},d.updateQueue=x;return}d=x.lastBaseUpdate,d===null?x.firstBaseUpdate=h:d.next=h,x.lastBaseUpdate=h}var bS=!1;function tp(){if(bS){var d=af;if(d!==null)throw d}}function np(d,h,x,b){bS=!1;var k=d.updateQueue;rc=!1;var P=k.firstBaseUpdate,D=k.lastBaseUpdate,W=k.shared.pending;if(W!==null){k.shared.pending=null;var re=W,fe=re.next;re.next=null,D===null?P=fe:D.next=fe,D=re;var be=d.alternate;be!==null&&(be=be.updateQueue,W=be.lastBaseUpdate,W!==D&&(W===null?be.firstBaseUpdate=fe:W.next=fe,be.lastBaseUpdate=re))}if(P!==null){var Te=k.baseState;D=0,be=fe=re=null,W=P;do{var me=W.lane&-536870913,xe=me!==W.lane;if(xe?($t&me)===me:(b&me)===me){me!==0&&me===sf&&(bS=!0),be!==null&&(be=be.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var Ve=d,ot=W;me=h;var vn=x;switch(ot.tag){case 1:if(Ve=ot.payload,typeof Ve=="function"){Te=Ve.call(vn,Te,me);break e}Te=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=ot.payload,me=typeof Ve=="function"?Ve.call(vn,Te,me):Ve,me==null)break e;Te=m({},Te,me);break e;case 2:rc=!0}}me=W.callback,me!==null&&(d.flags|=64,xe&&(d.flags|=8192),xe=k.callbacks,xe===null?k.callbacks=[me]:xe.push(me))}else xe={lane:me,tag:W.tag,payload:W.payload,callback:W.callback,next:null},be===null?(fe=be=xe,re=Te):be=be.next=xe,D|=me;if(W=W.next,W===null){if(W=k.shared.pending,W===null)break;xe=W,W=xe.next,xe.next=null,k.lastBaseUpdate=xe,k.shared.pending=null}}while(!0);be===null&&(re=Te),k.baseState=re,k.firstBaseUpdate=fe,k.lastBaseUpdate=be,P===null&&(k.shared.lanes=0),dc|=D,d.lanes=D,d.memoizedState=Te}}function KD(d,h){if(typeof d!="function")throw Error(r(191,d));d.call(h)}function WD(d,h){var x=d.callbacks;if(x!==null)for(d.callbacks=null,d=0;d<x.length;d++)KD(x[d],h)}var cf=H(null),av=H(0);function GD(d,h){d=dl,G(av,d),G(cf,h),dl=d|h.baseLanes}function jS(){G(av,dl),G(cf,cf.current)}function wS(){dl=av.current,Y(cf),Y(av)}var ba=H(null),Za=null;function ic(d){var h=d.alternate;G(pr,pr.current&1),G(ba,d),Za===null&&(h===null||cf.current!==null||h.memoizedState!==null)&&(Za=d)}function NS(d){G(pr,pr.current),G(ba,d),Za===null&&(Za=d)}function YD(d){d.tag===22?(G(pr,pr.current),G(ba,d),Za===null&&(Za=d)):oc()}function oc(){G(pr,pr.current),G(ba,ba.current)}function ja(d){Y(ba),Za===d&&(Za=null),Y(pr)}var pr=H(0);function iv(d){for(var h=d;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||E2(x)||O2(x)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var nl=0,kt=null,gn=null,Sr=null,ov=!1,df=!1,Sd=!1,lv=0,rp=0,uf=null,Ile=0;function sr(){throw Error(r(321))}function SS(d,h){if(h===null)return!1;for(var x=0;x<h.length&&x<d.length;x++)if(!ya(d[x],h[x]))return!1;return!0}function CS(d,h,x,b,k,P){return nl=P,kt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,R.H=d===null||d.memoizedState===null?MI:BS,Sd=!1,P=x(b,k),Sd=!1,df&&(P=QD(h,x,b,k)),XD(d),P}function XD(d){R.H=ip;var h=gn!==null&&gn.next!==null;if(nl=0,Sr=gn=kt=null,ov=!1,rp=0,uf=null,h)throw Error(r(300));d===null||Cr||(d=d.dependencies,d!==null&&Jy(d)&&(Cr=!0))}function QD(d,h,x,b){kt=d;var k=0;do{if(df&&(uf=null),rp=0,df=!1,25<=k)throw Error(r(301));if(k+=1,Sr=gn=null,d.updateQueue!=null){var P=d.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}R.H=_I,P=h(x,b)}while(df);return P}function Lle(){var d=R.H,h=d.useState()[0];return h=typeof h.then=="function"?sp(h):h,d=d.useState()[0],(gn!==null?gn.memoizedState:null)!==d&&(kt.flags|=1024),h}function kS(){var d=lv!==0;return lv=0,d}function TS(d,h,x){h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~x}function AS(d){if(ov){for(d=d.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}ov=!1}nl=0,Sr=gn=kt=null,df=!1,rp=lv=0,uf=null}function Ds(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?kt.memoizedState=Sr=d:Sr=Sr.next=d,Sr}function xr(){if(gn===null){var d=kt.alternate;d=d!==null?d.memoizedState:null}else d=gn.next;var h=Sr===null?kt.memoizedState:Sr.next;if(h!==null)Sr=h,gn=d;else{if(d===null)throw kt.alternate===null?Error(r(467)):Error(r(310));gn=d,d={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},Sr===null?kt.memoizedState=Sr=d:Sr=Sr.next=d}return Sr}function cv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sp(d){var h=rp;return rp+=1,uf===null&&(uf=[]),d=zD(uf,d,h),h=kt,(Sr===null?h.memoizedState:Sr.next)===null&&(h=h.alternate,R.H=h===null||h.memoizedState===null?MI:BS),d}function dv(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return sp(d);if(d.$$typeof===T)return ds(d)}throw Error(r(438,String(d)))}function ES(d){var h=null,x=kt.updateQueue;if(x!==null&&(h=x.memoCache),h==null){var b=kt.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(h={data:b.data.map(function(k){return k.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),x===null&&(x=cv(),kt.updateQueue=x),x.memoCache=h,x=h.data[h.index],x===void 0)for(x=h.data[h.index]=Array(d),b=0;b<d;b++)x[b]=$;return h.index++,x}function rl(d,h){return typeof h=="function"?h(d):h}function uv(d){var h=xr();return OS(h,gn,d)}function OS(d,h,x){var b=d.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=x;var k=d.baseQueue,P=b.pending;if(P!==null){if(k!==null){var D=k.next;k.next=P.next,P.next=D}h.baseQueue=k=P,b.pending=null}if(P=d.baseState,k===null)d.memoizedState=P;else{h=k.next;var W=D=null,re=null,fe=h,be=!1;do{var Te=fe.lane&-536870913;if(Te!==fe.lane?($t&Te)===Te:(nl&Te)===Te){var me=fe.revertLane;if(me===0)re!==null&&(re=re.next={lane:0,revertLane:0,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Te===sf&&(be=!0);else if((nl&me)===me){fe=fe.next,me===sf&&(be=!0);continue}else Te={lane:0,revertLane:fe.revertLane,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},re===null?(W=re=Te,D=P):re=re.next=Te,kt.lanes|=me,dc|=me;Te=fe.action,Sd&&x(P,Te),P=fe.hasEagerState?fe.eagerState:x(P,Te)}else me={lane:Te,revertLane:fe.revertLane,gesture:fe.gesture,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},re===null?(W=re=me,D=P):re=re.next=me,kt.lanes|=Te,dc|=Te;fe=fe.next}while(fe!==null&&fe!==h);if(re===null?D=P:re.next=W,!ya(P,d.memoizedState)&&(Cr=!0,be&&(x=af,x!==null)))throw x;d.memoizedState=P,d.baseState=D,d.baseQueue=re,b.lastRenderedState=P}return k===null&&(b.lanes=0),[d.memoizedState,b.dispatch]}function PS(d){var h=xr(),x=h.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=d;var b=x.dispatch,k=x.pending,P=h.memoizedState;if(k!==null){x.pending=null;var D=k=k.next;do P=d(P,D.action),D=D.next;while(D!==k);ya(P,h.memoizedState)||(Cr=!0),h.memoizedState=P,h.baseQueue===null&&(h.baseState=P),x.lastRenderedState=P}return[P,b]}function JD(d,h,x){var b=kt,k=xr(),P=Bt;if(P){if(x===void 0)throw Error(r(407));x=x()}else x=h();var D=!ya((gn||k).memoizedState,x);if(D&&(k.memoizedState=x,Cr=!0),k=k.queue,RS(tI.bind(null,b,k,d),[d]),k.getSnapshot!==h||D||Sr!==null&&Sr.memoizedState.tag&1){if(b.flags|=2048,ff(9,{destroy:void 0},eI.bind(null,b,k,x,h),null),Nn===null)throw Error(r(349));P||(nl&127)!==0||ZD(b,h,x)}return x}function ZD(d,h,x){d.flags|=16384,d={getSnapshot:h,value:x},h=kt.updateQueue,h===null?(h=cv(),kt.updateQueue=h,h.stores=[d]):(x=h.stores,x===null?h.stores=[d]:x.push(d))}function eI(d,h,x,b){h.value=x,h.getSnapshot=b,nI(h)&&rI(d)}function tI(d,h,x){return x(function(){nI(h)&&rI(d)})}function nI(d){var h=d.getSnapshot;d=d.value;try{var x=h();return!ya(d,x)}catch{return!0}}function rI(d){var h=pd(d,2);h!==null&&oa(h,d,2)}function MS(d){var h=Ds();if(typeof d=="function"){var x=d;if(d=x(),Sd){qn(!0);try{x()}finally{qn(!1)}}}return h.memoizedState=h.baseState=d,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:d},h}function sI(d,h,x,b){return d.baseState=x,OS(d,gn,typeof b=="function"?b:rl)}function $le(d,h,x,b,k){if(mv(d))throw Error(r(485));if(d=h.action,d!==null){var P={payload:k,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){P.listeners.push(D)}};R.T!==null?x(!0):P.isTransition=!1,b(P),x=h.pending,x===null?(P.next=h.pending=P,aI(h,P)):(P.next=x.next,h.pending=x.next=P)}}function aI(d,h){var x=h.action,b=h.payload,k=d.state;if(h.isTransition){var P=R.T,D={};R.T=D;try{var W=x(k,b),re=R.S;re!==null&&re(D,W),iI(d,h,W)}catch(fe){_S(d,h,fe)}finally{P!==null&&D.types!==null&&(P.types=D.types),R.T=P}}else try{P=x(k,b),iI(d,h,P)}catch(fe){_S(d,h,fe)}}function iI(d,h,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(b){oI(d,h,b)},function(b){return _S(d,h,b)}):oI(d,h,x)}function oI(d,h,x){h.status="fulfilled",h.value=x,lI(h),d.state=x,h=d.pending,h!==null&&(x=h.next,x===h?d.pending=null:(x=x.next,h.next=x,aI(d,x)))}function _S(d,h,x){var b=d.pending;if(d.pending=null,b!==null){b=b.next;do h.status="rejected",h.reason=x,lI(h),h=h.next;while(h!==b)}d.action=null}function lI(d){d=d.listeners;for(var h=0;h<d.length;h++)(0,d[h])()}function cI(d,h){return h}function dI(d,h){if(Bt){var x=Nn.formState;if(x!==null){e:{var b=kt;if(Bt){if(Dn){t:{for(var k=Dn,P=Ja;k.nodeType!==8;){if(!P){k=null;break t}if(k=ei(k.nextSibling),k===null){k=null;break t}}P=k.data,k=P==="F!"||P==="F"?k:null}if(k){Dn=ei(k.nextSibling),b=k.data==="F!";break e}}tc(b)}b=!1}b&&(h=x[0])}}return x=Ds(),x.memoizedState=x.baseState=h,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cI,lastRenderedState:h},x.queue=b,x=EI.bind(null,kt,b),b.dispatch=x,b=MS(!1),P=FS.bind(null,kt,!1,b.queue),b=Ds(),k={state:h,dispatch:null,action:d,pending:null},b.queue=k,x=$le.bind(null,kt,k,P,x),k.dispatch=x,b.memoizedState=d,[h,x,!1]}function uI(d){var h=xr();return fI(h,gn,d)}function fI(d,h,x){if(h=OS(d,h,cI)[0],d=uv(rl)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var b=sp(h)}catch(D){throw D===of?tv:D}else b=h;h=xr();var k=h.queue,P=k.dispatch;return x!==h.memoizedState&&(kt.flags|=2048,ff(9,{destroy:void 0},Fle.bind(null,k,x),null)),[b,P,d]}function Fle(d,h){d.action=h}function hI(d){var h=xr(),x=gn;if(x!==null)return fI(h,x,d);xr(),h=h.memoizedState,x=xr();var b=x.queue.dispatch;return x.memoizedState=d,[h,b,!1]}function ff(d,h,x,b){return d={tag:d,create:x,deps:b,inst:h,next:null},h=kt.updateQueue,h===null&&(h=cv(),kt.updateQueue=h),x=h.lastEffect,x===null?h.lastEffect=d.next=d:(b=x.next,x.next=d,d.next=b,h.lastEffect=d),d}function mI(){return xr().memoizedState}function fv(d,h,x,b){var k=Ds();kt.flags|=d,k.memoizedState=ff(1|h,{destroy:void 0},x,b===void 0?null:b)}function hv(d,h,x,b){var k=xr();b=b===void 0?null:b;var P=k.memoizedState.inst;gn!==null&&b!==null&&SS(b,gn.memoizedState.deps)?k.memoizedState=ff(h,P,x,b):(kt.flags|=d,k.memoizedState=ff(1|h,P,x,b))}function pI(d,h){fv(8390656,8,d,h)}function RS(d,h){hv(2048,8,d,h)}function Ble(d){kt.flags|=4;var h=kt.updateQueue;if(h===null)h=cv(),kt.updateQueue=h,h.events=[d];else{var x=h.events;x===null?h.events=[d]:x.push(d)}}function xI(d){var h=xr().memoizedState;return Ble({ref:h,nextImpl:d}),function(){if((tn&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}function gI(d,h){return hv(4,2,d,h)}function yI(d,h){return hv(4,4,d,h)}function vI(d,h){if(typeof h=="function"){d=d();var x=h(d);return function(){typeof x=="function"?x():h(null)}}if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function bI(d,h,x){x=x!=null?x.concat([d]):null,hv(4,4,vI.bind(null,h,d),x)}function DS(){}function jI(d,h){var x=xr();h=h===void 0?null:h;var b=x.memoizedState;return h!==null&&SS(h,b[1])?b[0]:(x.memoizedState=[d,h],d)}function wI(d,h){var x=xr();h=h===void 0?null:h;var b=x.memoizedState;if(h!==null&&SS(h,b[1]))return b[0];if(b=d(),Sd){qn(!0);try{d()}finally{qn(!1)}}return x.memoizedState=[b,h],b}function IS(d,h,x){return x===void 0||(nl&1073741824)!==0&&($t&261930)===0?d.memoizedState=h:(d.memoizedState=x,d=NL(),kt.lanes|=d,dc|=d,x)}function NI(d,h,x,b){return ya(x,h)?x:cf.current!==null?(d=IS(d,x,b),ya(d,h)||(Cr=!0),d):(nl&42)===0||(nl&1073741824)!==0&&($t&261930)===0?(Cr=!0,d.memoizedState=x):(d=NL(),kt.lanes|=d,dc|=d,h)}function SI(d,h,x,b,k){var P=B.p;B.p=P!==0&&8>P?P:8;var D=R.T,W={};R.T=W,FS(d,!1,h,x);try{var re=k(),fe=R.S;if(fe!==null&&fe(W,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var be=Dle(re,b);ap(d,h,be,Sa(d))}else ap(d,h,b,Sa(d))}catch(Te){ap(d,h,{then:function(){},status:"rejected",reason:Te},Sa())}finally{B.p=P,D!==null&&W.types!==null&&(D.types=W.types),R.T=D}}function zle(){}function LS(d,h,x,b){if(d.tag!==5)throw Error(r(476));var k=CI(d).queue;SI(d,k,h,L,x===null?zle:function(){return kI(d),x(b)})}function CI(d){var h=d.memoizedState;if(h!==null)return h;h={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:L},next:null};var x={};return h.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:x},next:null},d.memoizedState=h,d=d.alternate,d!==null&&(d.memoizedState=h),h}function kI(d){var h=CI(d);h.next===null&&(h=d.alternate.memoizedState),ap(d,h.next.queue,{},Sa())}function $S(){return ds(wp)}function TI(){return xr().memoizedState}function AI(){return xr().memoizedState}function qle(d){for(var h=d.return;h!==null;){switch(h.tag){case 24:case 3:var x=Sa();d=sc(x);var b=ac(h,d,x);b!==null&&(oa(b,h,x),ep(b,h,x)),h={cache:hS()},d.payload=h;return}h=h.return}}function Ule(d,h,x){var b=Sa();x={lane:b,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},mv(d)?OI(h,x):(x=nS(d,h,x,b),x!==null&&(oa(x,d,b),PI(x,h,b)))}function EI(d,h,x){var b=Sa();ap(d,h,x,b)}function ap(d,h,x,b){var k={lane:b,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null};if(mv(d))OI(h,k);else{var P=d.alternate;if(d.lanes===0&&(P===null||P.lanes===0)&&(P=h.lastRenderedReducer,P!==null))try{var D=h.lastRenderedState,W=P(D,x);if(k.hasEagerState=!0,k.eagerState=W,ya(W,D))return Gy(d,h,k,0),Nn===null&&Wy(),!1}catch{}finally{}if(x=nS(d,h,k,b),x!==null)return oa(x,d,b),PI(x,h,b),!0}return!1}function FS(d,h,x,b){if(b={lane:2,revertLane:g2(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},mv(d)){if(h)throw Error(r(479))}else h=nS(d,x,b,2),h!==null&&oa(h,d,2)}function mv(d){var h=d.alternate;return d===kt||h!==null&&h===kt}function OI(d,h){df=ov=!0;var x=d.pending;x===null?h.next=h:(h.next=x.next,x.next=h),d.pending=h}function PI(d,h,x){if((x&4194048)!==0){var b=h.lanes;b&=d.pendingLanes,x|=b,h.lanes=x,Rm(d,x)}}var ip={readContext:ds,use:dv,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useLayoutEffect:sr,useInsertionEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useSyncExternalStore:sr,useId:sr,useHostTransitionStatus:sr,useFormState:sr,useActionState:sr,useOptimistic:sr,useMemoCache:sr,useCacheRefresh:sr};ip.useEffectEvent=sr;var MI={readContext:ds,use:dv,useCallback:function(d,h){return Ds().memoizedState=[d,h===void 0?null:h],d},useContext:ds,useEffect:pI,useImperativeHandle:function(d,h,x){x=x!=null?x.concat([d]):null,fv(4194308,4,vI.bind(null,h,d),x)},useLayoutEffect:function(d,h){return fv(4194308,4,d,h)},useInsertionEffect:function(d,h){fv(4,2,d,h)},useMemo:function(d,h){var x=Ds();h=h===void 0?null:h;var b=d();if(Sd){qn(!0);try{d()}finally{qn(!1)}}return x.memoizedState=[b,h],b},useReducer:function(d,h,x){var b=Ds();if(x!==void 0){var k=x(h);if(Sd){qn(!0);try{x(h)}finally{qn(!1)}}}else k=h;return b.memoizedState=b.baseState=k,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:k},b.queue=d,d=d.dispatch=Ule.bind(null,kt,d),[b.memoizedState,d]},useRef:function(d){var h=Ds();return d={current:d},h.memoizedState=d},useState:function(d){d=MS(d);var h=d.queue,x=EI.bind(null,kt,h);return h.dispatch=x,[d.memoizedState,x]},useDebugValue:DS,useDeferredValue:function(d,h){var x=Ds();return IS(x,d,h)},useTransition:function(){var d=MS(!1);return d=SI.bind(null,kt,d.queue,!0,!1),Ds().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,h,x){var b=kt,k=Ds();if(Bt){if(x===void 0)throw Error(r(407));x=x()}else{if(x=h(),Nn===null)throw Error(r(349));($t&127)!==0||ZD(b,h,x)}k.memoizedState=x;var P={value:x,getSnapshot:h};return k.queue=P,pI(tI.bind(null,b,P,d),[d]),b.flags|=2048,ff(9,{destroy:void 0},eI.bind(null,b,P,x,h),null),x},useId:function(){var d=Ds(),h=Nn.identifierPrefix;if(Bt){var x=mo,b=ho;x=(b&~(1<<32-Q(b)-1)).toString(32)+x,h="_"+h+"R_"+x,x=lv++,0<x&&(h+="H"+x.toString(32)),h+="_"}else x=Ile++,h="_"+h+"r_"+x.toString(32)+"_";return d.memoizedState=h},useHostTransitionStatus:$S,useFormState:dI,useActionState:dI,useOptimistic:function(d){var h=Ds();h.memoizedState=h.baseState=d;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=x,h=FS.bind(null,kt,!0,x),x.dispatch=h,[d,h]},useMemoCache:ES,useCacheRefresh:function(){return Ds().memoizedState=qle.bind(null,kt)},useEffectEvent:function(d){var h=Ds(),x={impl:d};return h.memoizedState=x,function(){if((tn&2)!==0)throw Error(r(440));return x.impl.apply(void 0,arguments)}}},BS={readContext:ds,use:dv,useCallback:jI,useContext:ds,useEffect:RS,useImperativeHandle:bI,useInsertionEffect:gI,useLayoutEffect:yI,useMemo:wI,useReducer:uv,useRef:mI,useState:function(){return uv(rl)},useDebugValue:DS,useDeferredValue:function(d,h){var x=xr();return NI(x,gn.memoizedState,d,h)},useTransition:function(){var d=uv(rl)[0],h=xr().memoizedState;return[typeof d=="boolean"?d:sp(d),h]},useSyncExternalStore:JD,useId:TI,useHostTransitionStatus:$S,useFormState:uI,useActionState:uI,useOptimistic:function(d,h){var x=xr();return sI(x,gn,d,h)},useMemoCache:ES,useCacheRefresh:AI};BS.useEffectEvent=xI;var _I={readContext:ds,use:dv,useCallback:jI,useContext:ds,useEffect:RS,useImperativeHandle:bI,useInsertionEffect:gI,useLayoutEffect:yI,useMemo:wI,useReducer:PS,useRef:mI,useState:function(){return PS(rl)},useDebugValue:DS,useDeferredValue:function(d,h){var x=xr();return gn===null?IS(x,d,h):NI(x,gn.memoizedState,d,h)},useTransition:function(){var d=PS(rl)[0],h=xr().memoizedState;return[typeof d=="boolean"?d:sp(d),h]},useSyncExternalStore:JD,useId:TI,useHostTransitionStatus:$S,useFormState:hI,useActionState:hI,useOptimistic:function(d,h){var x=xr();return gn!==null?sI(x,gn,d,h):(x.baseState=d,[d,x.queue.dispatch])},useMemoCache:ES,useCacheRefresh:AI};_I.useEffectEvent=xI;function zS(d,h,x,b){h=d.memoizedState,x=x(b,h),x=x==null?h:m({},h,x),d.memoizedState=x,d.lanes===0&&(d.updateQueue.baseState=x)}var qS={enqueueSetState:function(d,h,x){d=d._reactInternals;var b=Sa(),k=sc(b);k.payload=h,x!=null&&(k.callback=x),h=ac(d,k,b),h!==null&&(oa(h,d,b),ep(h,d,b))},enqueueReplaceState:function(d,h,x){d=d._reactInternals;var b=Sa(),k=sc(b);k.tag=1,k.payload=h,x!=null&&(k.callback=x),h=ac(d,k,b),h!==null&&(oa(h,d,b),ep(h,d,b))},enqueueForceUpdate:function(d,h){d=d._reactInternals;var x=Sa(),b=sc(x);b.tag=2,h!=null&&(b.callback=h),h=ac(d,b,x),h!==null&&(oa(h,d,x),ep(h,d,x))}};function RI(d,h,x,b,k,P,D){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(b,P,D):h.prototype&&h.prototype.isPureReactComponent?!Km(x,b)||!Km(k,P):!0}function DI(d,h,x,b){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,b),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,b),h.state!==d&&qS.enqueueReplaceState(h,h.state,null)}function Cd(d,h){var x=h;if("ref"in h){x={};for(var b in h)b!=="ref"&&(x[b]=h[b])}if(d=d.defaultProps){x===h&&(x=m({},x));for(var k in d)x[k]===void 0&&(x[k]=d[k])}return x}function II(d){Ky(d)}function LI(d){console.error(d)}function $I(d){Ky(d)}function pv(d,h){try{var x=d.onUncaughtError;x(h.value,{componentStack:h.stack})}catch(b){setTimeout(function(){throw b})}}function FI(d,h,x){try{var b=d.onCaughtError;b(x.value,{componentStack:x.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function US(d,h,x){return x=sc(x),x.tag=3,x.payload={element:null},x.callback=function(){pv(d,h)},x}function BI(d){return d=sc(d),d.tag=3,d}function zI(d,h,x,b){var k=x.type.getDerivedStateFromError;if(typeof k=="function"){var P=b.value;d.payload=function(){return k(P)},d.callback=function(){FI(h,x,b)}}var D=x.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(d.callback=function(){FI(h,x,b),typeof k!="function"&&(uc===null?uc=new Set([this]):uc.add(this));var W=b.stack;this.componentDidCatch(b.value,{componentStack:W!==null?W:""})})}function Vle(d,h,x,b,k){if(x.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(h=x.alternate,h!==null&&rf(h,x,k,!0),x=ba.current,x!==null){switch(x.tag){case 31:case 13:return Za===null?Tv():x.alternate===null&&ar===0&&(ar=3),x.flags&=-257,x.flags|=65536,x.lanes=k,b===nv?x.flags|=16384:(h=x.updateQueue,h===null?x.updateQueue=new Set([b]):h.add(b),m2(d,b,k)),!1;case 22:return x.flags|=65536,b===nv?x.flags|=16384:(h=x.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([b])},x.updateQueue=h):(x=h.retryQueue,x===null?h.retryQueue=new Set([b]):x.add(b)),m2(d,b,k)),!1}throw Error(r(435,x.tag))}return m2(d,b,k),Tv(),!1}if(Bt)return h=ba.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=k,b!==lS&&(d=Error(r(422),{cause:b}),Ym(Ya(d,x)))):(b!==lS&&(h=Error(r(423),{cause:b}),Ym(Ya(h,x))),d=d.current.alternate,d.flags|=65536,k&=-k,d.lanes|=k,b=Ya(b,x),k=US(d.stateNode,b,k),vS(d,k),ar!==4&&(ar=2)),!1;var P=Error(r(520),{cause:b});if(P=Ya(P,x),mp===null?mp=[P]:mp.push(P),ar!==4&&(ar=2),h===null)return!0;b=Ya(b,x),x=h;do{switch(x.tag){case 3:return x.flags|=65536,d=k&-k,x.lanes|=d,d=US(x.stateNode,b,d),vS(x,d),!1;case 1:if(h=x.type,P=x.stateNode,(x.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(uc===null||!uc.has(P))))return x.flags|=65536,k&=-k,x.lanes|=k,k=BI(k),zI(k,d,x,b),vS(x,k),!1}x=x.return}while(x!==null);return!1}var VS=Error(r(461)),Cr=!1;function us(d,h,x,b){h.child=d===null?HD(h,null,x,b):Nd(h,d.child,x,b)}function qI(d,h,x,b,k){x=x.render;var P=h.ref;if("ref"in b){var D={};for(var W in b)W!=="ref"&&(D[W]=b[W])}else D=b;return vd(h),b=CS(d,h,x,D,P,k),W=kS(),d!==null&&!Cr?(TS(d,h,k),sl(d,h,k)):(Bt&&W&&iS(h),h.flags|=1,us(d,h,b,k),h.child)}function UI(d,h,x,b,k){if(d===null){var P=x.type;return typeof P=="function"&&!rS(P)&&P.defaultProps===void 0&&x.compare===null?(h.tag=15,h.type=P,VI(d,h,P,b,k)):(d=Xy(x.type,null,b,h,h.mode,k),d.ref=h.ref,d.return=h,h.child=d)}if(P=d.child,!JS(d,k)){var D=P.memoizedProps;if(x=x.compare,x=x!==null?x:Km,x(D,b)&&d.ref===h.ref)return sl(d,h,k)}return h.flags|=1,d=Jo(P,b),d.ref=h.ref,d.return=h,h.child=d}function VI(d,h,x,b,k){if(d!==null){var P=d.memoizedProps;if(Km(P,b)&&d.ref===h.ref)if(Cr=!1,h.pendingProps=b=P,JS(d,k))(d.flags&131072)!==0&&(Cr=!0);else return h.lanes=d.lanes,sl(d,h,k)}return HS(d,h,x,b,k)}function HI(d,h,x,b){var k=b.children,P=d!==null?d.memoizedState:null;if(d===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((h.flags&128)!==0){if(P=P!==null?P.baseLanes|x:x,d!==null){for(b=h.child=d.child,k=0;b!==null;)k=k|b.lanes|b.childLanes,b=b.sibling;b=k&~P}else b=0,h.child=null;return KI(d,h,P,x,b)}if((x&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},d!==null&&ev(h,P!==null?P.cachePool:null),P!==null?GD(h,P):jS(),YD(h);else return b=h.lanes=536870912,KI(d,h,P!==null?P.baseLanes|x:x,x,b)}else P!==null?(ev(h,P.cachePool),GD(h,P),oc(),h.memoizedState=null):(d!==null&&ev(h,null),jS(),oc());return us(d,h,k,x),h.child}function op(d,h){return d!==null&&d.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function KI(d,h,x,b,k){var P=pS();return P=P===null?null:{parent:Nr._currentValue,pool:P},h.memoizedState={baseLanes:x,cachePool:P},d!==null&&ev(h,null),jS(),YD(h),d!==null&&rf(d,h,b,!0),h.childLanes=k,null}function xv(d,h){return h=yv({mode:h.mode,children:h.children},d.mode),h.ref=d.ref,d.child=h,h.return=d,h}function WI(d,h,x){return Nd(h,d.child,null,x),d=xv(h,h.pendingProps),d.flags|=2,ja(h),h.memoizedState=null,d}function Hle(d,h,x){var b=h.pendingProps,k=(h.flags&128)!==0;if(h.flags&=-129,d===null){if(Bt){if(b.mode==="hidden")return d=xv(h,b),h.lanes=536870912,op(null,d);if(NS(h),(d=Dn)?(d=a$(d,Ja),d=d!==null&&d.data==="&"?d:null,d!==null&&(h.memoizedState={dehydrated:d,treeContext:Zl!==null?{id:ho,overflow:mo}:null,retryLane:536870912,hydrationErrors:null},x=OD(d),x.return=h,h.child=x,cs=h,Dn=null)):d=null,d===null)throw tc(h);return h.lanes=536870912,null}return xv(h,b)}var P=d.memoizedState;if(P!==null){var D=P.dehydrated;if(NS(h),k)if(h.flags&256)h.flags&=-257,h=WI(d,h,x);else if(h.memoizedState!==null)h.child=d.child,h.flags|=128,h=null;else throw Error(r(558));else if(Cr||rf(d,h,x,!1),k=(x&d.childLanes)!==0,Cr||k){if(b=Nn,b!==null&&(D=My(b,x),D!==0&&D!==P.retryLane))throw P.retryLane=D,pd(d,D),oa(b,d,D),VS;Tv(),h=WI(d,h,x)}else d=P.treeContext,Dn=ei(D.nextSibling),cs=h,Bt=!0,ec=null,Ja=!1,d!==null&&_D(h,d),h=xv(h,b),h.flags|=4096;return h}return d=Jo(d.child,{mode:b.mode,children:b.children}),d.ref=h.ref,h.child=d,d.return=h,d}function gv(d,h){var x=h.ref;if(x===null)d!==null&&d.ref!==null&&(h.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(r(284));(d===null||d.ref!==x)&&(h.flags|=4194816)}}function HS(d,h,x,b,k){return vd(h),x=CS(d,h,x,b,void 0,k),b=kS(),d!==null&&!Cr?(TS(d,h,k),sl(d,h,k)):(Bt&&b&&iS(h),h.flags|=1,us(d,h,x,k),h.child)}function GI(d,h,x,b,k,P){return vd(h),h.updateQueue=null,x=QD(h,b,x,k),XD(d),b=kS(),d!==null&&!Cr?(TS(d,h,P),sl(d,h,P)):(Bt&&b&&iS(h),h.flags|=1,us(d,h,x,P),h.child)}function YI(d,h,x,b,k){if(vd(h),h.stateNode===null){var P=Zu,D=x.contextType;typeof D=="object"&&D!==null&&(P=ds(D)),P=new x(b,P),h.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=qS,h.stateNode=P,P._reactInternals=h,P=h.stateNode,P.props=b,P.state=h.memoizedState,P.refs={},gS(h),D=x.contextType,P.context=typeof D=="object"&&D!==null?ds(D):Zu,P.state=h.memoizedState,D=x.getDerivedStateFromProps,typeof D=="function"&&(zS(h,x,D,b),P.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(D=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),D!==P.state&&qS.enqueueReplaceState(P,P.state,null),np(h,b,P,k),tp(),P.state=h.memoizedState),typeof P.componentDidMount=="function"&&(h.flags|=4194308),b=!0}else if(d===null){P=h.stateNode;var W=h.memoizedProps,re=Cd(x,W);P.props=re;var fe=P.context,be=x.contextType;D=Zu,typeof be=="object"&&be!==null&&(D=ds(be));var Te=x.getDerivedStateFromProps;be=typeof Te=="function"||typeof P.getSnapshotBeforeUpdate=="function",W=h.pendingProps!==W,be||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(W||fe!==D)&&DI(h,P,b,D),rc=!1;var me=h.memoizedState;P.state=me,np(h,b,P,k),tp(),fe=h.memoizedState,W||me!==fe||rc?(typeof Te=="function"&&(zS(h,x,Te,b),fe=h.memoizedState),(re=rc||RI(h,x,re,b,me,fe,D))?(be||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(h.flags|=4194308)):(typeof P.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=b,h.memoizedState=fe),P.props=b,P.state=fe,P.context=D,b=re):(typeof P.componentDidMount=="function"&&(h.flags|=4194308),b=!1)}else{P=h.stateNode,yS(d,h),D=h.memoizedProps,be=Cd(x,D),P.props=be,Te=h.pendingProps,me=P.context,fe=x.contextType,re=Zu,typeof fe=="object"&&fe!==null&&(re=ds(fe)),W=x.getDerivedStateFromProps,(fe=typeof W=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(D!==Te||me!==re)&&DI(h,P,b,re),rc=!1,me=h.memoizedState,P.state=me,np(h,b,P,k),tp();var xe=h.memoizedState;D!==Te||me!==xe||rc||d!==null&&d.dependencies!==null&&Jy(d.dependencies)?(typeof W=="function"&&(zS(h,x,W,b),xe=h.memoizedState),(be=rc||RI(h,x,be,b,me,xe,re)||d!==null&&d.dependencies!==null&&Jy(d.dependencies))?(fe||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(b,xe,re),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(b,xe,re)),typeof P.componentDidUpdate=="function"&&(h.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof P.componentDidUpdate!="function"||D===d.memoizedProps&&me===d.memoizedState||(h.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||D===d.memoizedProps&&me===d.memoizedState||(h.flags|=1024),h.memoizedProps=b,h.memoizedState=xe),P.props=b,P.state=xe,P.context=re,b=be):(typeof P.componentDidUpdate!="function"||D===d.memoizedProps&&me===d.memoizedState||(h.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||D===d.memoizedProps&&me===d.memoizedState||(h.flags|=1024),b=!1)}return P=b,gv(d,h),b=(h.flags&128)!==0,P||b?(P=h.stateNode,x=b&&typeof x.getDerivedStateFromError!="function"?null:P.render(),h.flags|=1,d!==null&&b?(h.child=Nd(h,d.child,null,k),h.child=Nd(h,null,x,k)):us(d,h,x,k),h.memoizedState=P.state,d=h.child):d=sl(d,h,k),d}function XI(d,h,x,b){return gd(),h.flags|=256,us(d,h,x,b),h.child}var KS={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function WS(d){return{baseLanes:d,cachePool:FD()}}function GS(d,h,x){return d=d!==null?d.childLanes&~x:0,h&&(d|=Na),d}function QI(d,h,x){var b=h.pendingProps,k=!1,P=(h.flags&128)!==0,D;if((D=P)||(D=d!==null&&d.memoizedState===null?!1:(pr.current&2)!==0),D&&(k=!0,h.flags&=-129),D=(h.flags&32)!==0,h.flags&=-33,d===null){if(Bt){if(k?ic(h):oc(),(d=Dn)?(d=a$(d,Ja),d=d!==null&&d.data!=="&"?d:null,d!==null&&(h.memoizedState={dehydrated:d,treeContext:Zl!==null?{id:ho,overflow:mo}:null,retryLane:536870912,hydrationErrors:null},x=OD(d),x.return=h,h.child=x,cs=h,Dn=null)):d=null,d===null)throw tc(h);return O2(d)?h.lanes=32:h.lanes=536870912,null}var W=b.children;return b=b.fallback,k?(oc(),k=h.mode,W=yv({mode:"hidden",children:W},k),b=xd(b,k,x,null),W.return=h,b.return=h,W.sibling=b,h.child=W,b=h.child,b.memoizedState=WS(x),b.childLanes=GS(d,D,x),h.memoizedState=KS,op(null,b)):(ic(h),YS(h,W))}var re=d.memoizedState;if(re!==null&&(W=re.dehydrated,W!==null)){if(P)h.flags&256?(ic(h),h.flags&=-257,h=XS(d,h,x)):h.memoizedState!==null?(oc(),h.child=d.child,h.flags|=128,h=null):(oc(),W=b.fallback,k=h.mode,b=yv({mode:"visible",children:b.children},k),W=xd(W,k,x,null),W.flags|=2,b.return=h,W.return=h,b.sibling=W,h.child=b,Nd(h,d.child,null,x),b=h.child,b.memoizedState=WS(x),b.childLanes=GS(d,D,x),h.memoizedState=KS,h=op(null,b));else if(ic(h),O2(W)){if(D=W.nextSibling&&W.nextSibling.dataset,D)var fe=D.dgst;D=fe,b=Error(r(419)),b.stack="",b.digest=D,Ym({value:b,source:null,stack:null}),h=XS(d,h,x)}else if(Cr||rf(d,h,x,!1),D=(x&d.childLanes)!==0,Cr||D){if(D=Nn,D!==null&&(b=My(D,x),b!==0&&b!==re.retryLane))throw re.retryLane=b,pd(d,b),oa(D,d,b),VS;E2(W)||Tv(),h=XS(d,h,x)}else E2(W)?(h.flags|=192,h.child=d.child,h=null):(d=re.treeContext,Dn=ei(W.nextSibling),cs=h,Bt=!0,ec=null,Ja=!1,d!==null&&_D(h,d),h=YS(h,b.children),h.flags|=4096);return h}return k?(oc(),W=b.fallback,k=h.mode,re=d.child,fe=re.sibling,b=Jo(re,{mode:"hidden",children:b.children}),b.subtreeFlags=re.subtreeFlags&65011712,fe!==null?W=Jo(fe,W):(W=xd(W,k,x,null),W.flags|=2),W.return=h,b.return=h,b.sibling=W,h.child=b,op(null,b),b=h.child,W=d.child.memoizedState,W===null?W=WS(x):(k=W.cachePool,k!==null?(re=Nr._currentValue,k=k.parent!==re?{parent:re,pool:re}:k):k=FD(),W={baseLanes:W.baseLanes|x,cachePool:k}),b.memoizedState=W,b.childLanes=GS(d,D,x),h.memoizedState=KS,op(d.child,b)):(ic(h),x=d.child,d=x.sibling,x=Jo(x,{mode:"visible",children:b.children}),x.return=h,x.sibling=null,d!==null&&(D=h.deletions,D===null?(h.deletions=[d],h.flags|=16):D.push(d)),h.child=x,h.memoizedState=null,x)}function YS(d,h){return h=yv({mode:"visible",children:h},d.mode),h.return=d,d.child=h}function yv(d,h){return d=va(22,d,null,h),d.lanes=0,d}function XS(d,h,x){return Nd(h,d.child,null,x),d=YS(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function JI(d,h,x){d.lanes|=h;var b=d.alternate;b!==null&&(b.lanes|=h),uS(d.return,h,x)}function QS(d,h,x,b,k,P){var D=d.memoizedState;D===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:b,tail:x,tailMode:k,treeForkCount:P}:(D.isBackwards=h,D.rendering=null,D.renderingStartTime=0,D.last=b,D.tail=x,D.tailMode=k,D.treeForkCount=P)}function ZI(d,h,x){var b=h.pendingProps,k=b.revealOrder,P=b.tail;b=b.children;var D=pr.current,W=(D&2)!==0;if(W?(D=D&1|2,h.flags|=128):D&=1,G(pr,D),us(d,h,b,x),b=Bt?Gm:0,!W&&d!==null&&(d.flags&128)!==0)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&JI(d,x,h);else if(d.tag===19)JI(d,x,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(k){case"forwards":for(x=h.child,k=null;x!==null;)d=x.alternate,d!==null&&iv(d)===null&&(k=x),x=x.sibling;x=k,x===null?(k=h.child,h.child=null):(k=x.sibling,x.sibling=null),QS(h,!1,k,x,P,b);break;case"backwards":case"unstable_legacy-backwards":for(x=null,k=h.child,h.child=null;k!==null;){if(d=k.alternate,d!==null&&iv(d)===null){h.child=k;break}d=k.sibling,k.sibling=x,x=k,k=d}QS(h,!0,x,null,P,b);break;case"together":QS(h,!1,null,null,void 0,b);break;default:h.memoizedState=null}return h.child}function sl(d,h,x){if(d!==null&&(h.dependencies=d.dependencies),dc|=h.lanes,(x&h.childLanes)===0)if(d!==null){if(rf(d,h,x,!1),(x&h.childLanes)===0)return null}else return null;if(d!==null&&h.child!==d.child)throw Error(r(153));if(h.child!==null){for(d=h.child,x=Jo(d,d.pendingProps),h.child=x,x.return=h;d.sibling!==null;)d=d.sibling,x=x.sibling=Jo(d,d.pendingProps),x.return=h;x.sibling=null}return h.child}function JS(d,h){return(d.lanes&h)!==0?!0:(d=d.dependencies,!!(d!==null&&Jy(d)))}function Kle(d,h,x){switch(h.tag){case 3:Fe(h,h.stateNode.containerInfo),nc(h,Nr,d.memoizedState.cache),gd();break;case 27:case 5:Ae(h);break;case 4:Fe(h,h.stateNode.containerInfo);break;case 10:nc(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,NS(h),null;break;case 13:var b=h.memoizedState;if(b!==null)return b.dehydrated!==null?(ic(h),h.flags|=128,null):(x&h.child.childLanes)!==0?QI(d,h,x):(ic(h),d=sl(d,h,x),d!==null?d.sibling:null);ic(h);break;case 19:var k=(d.flags&128)!==0;if(b=(x&h.childLanes)!==0,b||(rf(d,h,x,!1),b=(x&h.childLanes)!==0),k){if(b)return ZI(d,h,x);h.flags|=128}if(k=h.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),G(pr,pr.current),b)break;return null;case 22:return h.lanes=0,HI(d,h,x,h.pendingProps);case 24:nc(h,Nr,d.memoizedState.cache)}return sl(d,h,x)}function eL(d,h,x){if(d!==null)if(d.memoizedProps!==h.pendingProps)Cr=!0;else{if(!JS(d,x)&&(h.flags&128)===0)return Cr=!1,Kle(d,h,x);Cr=(d.flags&131072)!==0}else Cr=!1,Bt&&(h.flags&1048576)!==0&&MD(h,Gm,h.index);switch(h.lanes=0,h.tag){case 16:e:{var b=h.pendingProps;if(d=jd(h.elementType),h.type=d,typeof d=="function")rS(d)?(b=Cd(d,b),h.tag=1,h=YI(null,h,d,b,x)):(h.tag=0,h=HS(null,h,d,b,x));else{if(d!=null){var k=d.$$typeof;if(k===C){h.tag=11,h=qI(null,h,d,b,x);break e}else if(k===O){h.tag=14,h=UI(null,h,d,b,x);break e}}throw h=F(d)||d,Error(r(306,h,""))}}return h;case 0:return HS(d,h,h.type,h.pendingProps,x);case 1:return b=h.type,k=Cd(b,h.pendingProps),YI(d,h,b,k,x);case 3:e:{if(Fe(h,h.stateNode.containerInfo),d===null)throw Error(r(387));b=h.pendingProps;var P=h.memoizedState;k=P.element,yS(d,h),np(h,b,null,x);var D=h.memoizedState;if(b=D.cache,nc(h,Nr,b),b!==P.cache&&fS(h,[Nr],x,!0),tp(),b=D.element,P.isDehydrated)if(P={element:b,isDehydrated:!1,cache:D.cache},h.updateQueue.baseState=P,h.memoizedState=P,h.flags&256){h=XI(d,h,b,x);break e}else if(b!==k){k=Ya(Error(r(424)),h),Ym(k),h=XI(d,h,b,x);break e}else{switch(d=h.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(Dn=ei(d.firstChild),cs=h,Bt=!0,ec=null,Ja=!0,x=HD(h,null,b,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(gd(),b===k){h=sl(d,h,x);break e}us(d,h,b,x)}h=h.child}return h;case 26:return gv(d,h),d===null?(x=u$(h.type,null,h.pendingProps,null))?h.memoizedState=x:Bt||(x=h.type,d=h.pendingProps,b=Rv(de.current).createElement(x),b[wr]=h,b[Vn]=d,fs(b,x,d),Ot(b),h.stateNode=b):h.memoizedState=u$(h.type,d.memoizedProps,h.pendingProps,d.memoizedState),null;case 27:return Ae(h),d===null&&Bt&&(b=h.stateNode=l$(h.type,h.pendingProps,de.current),cs=h,Ja=!0,k=Dn,pc(h.type)?(P2=k,Dn=ei(b.firstChild)):Dn=k),us(d,h,h.pendingProps.children,x),gv(d,h),d===null&&(h.flags|=4194304),h.child;case 5:return d===null&&Bt&&((k=b=Dn)&&(b=wce(b,h.type,h.pendingProps,Ja),b!==null?(h.stateNode=b,cs=h,Dn=ei(b.firstChild),Ja=!1,k=!0):k=!1),k||tc(h)),Ae(h),k=h.type,P=h.pendingProps,D=d!==null?d.memoizedProps:null,b=P.children,k2(k,P)?b=null:D!==null&&k2(k,D)&&(h.flags|=32),h.memoizedState!==null&&(k=CS(d,h,Lle,null,null,x),wp._currentValue=k),gv(d,h),us(d,h,b,x),h.child;case 6:return d===null&&Bt&&((d=x=Dn)&&(x=Nce(x,h.pendingProps,Ja),x!==null?(h.stateNode=x,cs=h,Dn=null,d=!0):d=!1),d||tc(h)),null;case 13:return QI(d,h,x);case 4:return Fe(h,h.stateNode.containerInfo),b=h.pendingProps,d===null?h.child=Nd(h,null,b,x):us(d,h,b,x),h.child;case 11:return qI(d,h,h.type,h.pendingProps,x);case 7:return us(d,h,h.pendingProps,x),h.child;case 8:return us(d,h,h.pendingProps.children,x),h.child;case 12:return us(d,h,h.pendingProps.children,x),h.child;case 10:return b=h.pendingProps,nc(h,h.type,b.value),us(d,h,b.children,x),h.child;case 9:return k=h.type._context,b=h.pendingProps.children,vd(h),k=ds(k),b=b(k),h.flags|=1,us(d,h,b,x),h.child;case 14:return UI(d,h,h.type,h.pendingProps,x);case 15:return VI(d,h,h.type,h.pendingProps,x);case 19:return ZI(d,h,x);case 31:return Hle(d,h,x);case 22:return HI(d,h,x,h.pendingProps);case 24:return vd(h),b=ds(Nr),d===null?(k=pS(),k===null&&(k=Nn,P=hS(),k.pooledCache=P,P.refCount++,P!==null&&(k.pooledCacheLanes|=x),k=P),h.memoizedState={parent:b,cache:k},gS(h),nc(h,Nr,k)):((d.lanes&x)!==0&&(yS(d,h),np(h,null,null,x),tp()),k=d.memoizedState,P=h.memoizedState,k.parent!==b?(k={parent:b,cache:b},h.memoizedState=k,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=k),nc(h,Nr,b)):(b=P.cache,nc(h,Nr,b),b!==k.cache&&fS(h,[Nr],x,!0))),us(d,h,h.pendingProps.children,x),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function al(d){d.flags|=4}function ZS(d,h,x,b,k){if((h=(d.mode&32)!==0)&&(h=!1),h){if(d.flags|=16777216,(k&335544128)===k)if(d.stateNode.complete)d.flags|=8192;else if(TL())d.flags|=8192;else throw wd=nv,xS}else d.flags&=-16777217}function tL(d,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!x$(h))if(TL())d.flags|=8192;else throw wd=nv,xS}function vv(d,h){h!==null&&(d.flags|=4),d.flags&16384&&(h=d.tag!==22?Wo():536870912,d.lanes|=h,xf|=h)}function lp(d,h){if(!Bt)switch(d.tailMode){case"hidden":h=d.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?d.tail=null:x.sibling=null;break;case"collapsed":x=d.tail;for(var b=null;x!==null;)x.alternate!==null&&(b=x),x=x.sibling;b===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:b.sibling=null}}function In(d){var h=d.alternate!==null&&d.alternate.child===d.child,x=0,b=0;if(h)for(var k=d.child;k!==null;)x|=k.lanes|k.childLanes,b|=k.subtreeFlags&65011712,b|=k.flags&65011712,k.return=d,k=k.sibling;else for(k=d.child;k!==null;)x|=k.lanes|k.childLanes,b|=k.subtreeFlags,b|=k.flags,k.return=d,k=k.sibling;return d.subtreeFlags|=b,d.childLanes=x,h}function Wle(d,h,x){var b=h.pendingProps;switch(oS(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(h),null;case 1:return In(h),null;case 3:return x=h.stateNode,b=null,d!==null&&(b=d.memoizedState.cache),h.memoizedState.cache!==b&&(h.flags|=2048),tl(Nr),ge(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(d===null||d.child===null)&&(nf(h)?al(h):d===null||d.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,cS())),In(h),null;case 26:var k=h.type,P=h.memoizedState;return d===null?(al(h),P!==null?(In(h),tL(h,P)):(In(h),ZS(h,k,null,b,x))):P?P!==d.memoizedState?(al(h),In(h),tL(h,P)):(In(h),h.flags&=-16777217):(d=d.memoizedProps,d!==b&&al(h),In(h),ZS(h,k,d,b,x)),null;case 27:if(_e(h),x=de.current,k=h.type,d!==null&&h.stateNode!=null)d.memoizedProps!==b&&al(h);else{if(!b){if(h.stateNode===null)throw Error(r(166));return In(h),null}d=X.current,nf(h)?RD(h):(d=l$(k,b,x),h.stateNode=d,al(h))}return In(h),null;case 5:if(_e(h),k=h.type,d!==null&&h.stateNode!=null)d.memoizedProps!==b&&al(h);else{if(!b){if(h.stateNode===null)throw Error(r(166));return In(h),null}if(P=X.current,nf(h))RD(h);else{var D=Rv(de.current);switch(P){case 1:P=D.createElementNS("http://www.w3.org/2000/svg",k);break;case 2:P=D.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;default:switch(k){case"svg":P=D.createElementNS("http://www.w3.org/2000/svg",k);break;case"math":P=D.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;case"script":P=D.createElement("div"),P.innerHTML="<script><\/script>",P=P.removeChild(P.firstChild);break;case"select":P=typeof b.is=="string"?D.createElement("select",{is:b.is}):D.createElement("select"),b.multiple?P.multiple=!0:b.size&&(P.size=b.size);break;default:P=typeof b.is=="string"?D.createElement(k,{is:b.is}):D.createElement(k)}}P[wr]=h,P[Vn]=b;e:for(D=h.child;D!==null;){if(D.tag===5||D.tag===6)P.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===h)break e;for(;D.sibling===null;){if(D.return===null||D.return===h)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}h.stateNode=P;e:switch(fs(P,k,b),k){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&al(h)}}return In(h),ZS(h,h.type,d===null?null:d.memoizedProps,h.pendingProps,x),null;case 6:if(d&&h.stateNode!=null)d.memoizedProps!==b&&al(h);else{if(typeof b!="string"&&h.stateNode===null)throw Error(r(166));if(d=de.current,nf(h)){if(d=h.stateNode,x=h.memoizedProps,b=null,k=cs,k!==null)switch(k.tag){case 27:case 5:b=k.memoizedProps}d[wr]=h,d=!!(d.nodeValue===x||b!==null&&b.suppressHydrationWarning===!0||QL(d.nodeValue,x)),d||tc(h,!0)}else d=Rv(d).createTextNode(b),d[wr]=h,h.stateNode=d}return In(h),null;case 31:if(x=h.memoizedState,d===null||d.memoizedState!==null){if(b=nf(h),x!==null){if(d===null){if(!b)throw Error(r(318));if(d=h.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(557));d[wr]=h}else gd(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;In(h),d=!1}else x=cS(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=x),d=!0;if(!d)return h.flags&256?(ja(h),h):(ja(h),null);if((h.flags&128)!==0)throw Error(r(558))}return In(h),null;case 13:if(b=h.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(k=nf(h),b!==null&&b.dehydrated!==null){if(d===null){if(!k)throw Error(r(318));if(k=h.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[wr]=h}else gd(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;In(h),k=!1}else k=cS(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=k),k=!0;if(!k)return h.flags&256?(ja(h),h):(ja(h),null)}return ja(h),(h.flags&128)!==0?(h.lanes=x,h):(x=b!==null,d=d!==null&&d.memoizedState!==null,x&&(b=h.child,k=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(k=b.alternate.memoizedState.cachePool.pool),P=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(P=b.memoizedState.cachePool.pool),P!==k&&(b.flags|=2048)),x!==d&&x&&(h.child.flags|=8192),vv(h,h.updateQueue),In(h),null);case 4:return ge(),d===null&&j2(h.stateNode.containerInfo),In(h),null;case 10:return tl(h.type),In(h),null;case 19:if(Y(pr),b=h.memoizedState,b===null)return In(h),null;if(k=(h.flags&128)!==0,P=b.rendering,P===null)if(k)lp(b,!1);else{if(ar!==0||d!==null&&(d.flags&128)!==0)for(d=h.child;d!==null;){if(P=iv(d),P!==null){for(h.flags|=128,lp(b,!1),d=P.updateQueue,h.updateQueue=d,vv(h,d),h.subtreeFlags=0,d=x,x=h.child;x!==null;)ED(x,d),x=x.sibling;return G(pr,pr.current&1|2),Bt&&Zo(h,b.treeForkCount),h.child}d=d.sibling}b.tail!==null&&Vt()>Sv&&(h.flags|=128,k=!0,lp(b,!1),h.lanes=4194304)}else{if(!k)if(d=iv(P),d!==null){if(h.flags|=128,k=!0,d=d.updateQueue,h.updateQueue=d,vv(h,d),lp(b,!0),b.tail===null&&b.tailMode==="hidden"&&!P.alternate&&!Bt)return In(h),null}else 2*Vt()-b.renderingStartTime>Sv&&x!==536870912&&(h.flags|=128,k=!0,lp(b,!1),h.lanes=4194304);b.isBackwards?(P.sibling=h.child,h.child=P):(d=b.last,d!==null?d.sibling=P:h.child=P,b.last=P)}return b.tail!==null?(d=b.tail,b.rendering=d,b.tail=d.sibling,b.renderingStartTime=Vt(),d.sibling=null,x=pr.current,G(pr,k?x&1|2:x&1),Bt&&Zo(h,b.treeForkCount),d):(In(h),null);case 22:case 23:return ja(h),wS(),b=h.memoizedState!==null,d!==null?d.memoizedState!==null!==b&&(h.flags|=8192):b&&(h.flags|=8192),b?(x&536870912)!==0&&(h.flags&128)===0&&(In(h),h.subtreeFlags&6&&(h.flags|=8192)):In(h),x=h.updateQueue,x!==null&&vv(h,x.retryQueue),x=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==x&&(h.flags|=2048),d!==null&&Y(bd),null;case 24:return x=null,d!==null&&(x=d.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),tl(Nr),In(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function Gle(d,h){switch(oS(h),h.tag){case 1:return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return tl(Nr),ge(),d=h.flags,(d&65536)!==0&&(d&128)===0?(h.flags=d&-65537|128,h):null;case 26:case 27:case 5:return _e(h),null;case 31:if(h.memoizedState!==null){if(ja(h),h.alternate===null)throw Error(r(340));gd()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 13:if(ja(h),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(r(340));gd()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return Y(pr),null;case 4:return ge(),null;case 10:return tl(h.type),null;case 22:case 23:return ja(h),wS(),d!==null&&Y(bd),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 24:return tl(Nr),null;case 25:return null;default:return null}}function nL(d,h){switch(oS(h),h.tag){case 3:tl(Nr),ge();break;case 26:case 27:case 5:_e(h);break;case 4:ge();break;case 31:h.memoizedState!==null&&ja(h);break;case 13:ja(h);break;case 19:Y(pr);break;case 10:tl(h.type);break;case 22:case 23:ja(h),wS(),d!==null&&Y(bd);break;case 24:tl(Nr)}}function cp(d,h){try{var x=h.updateQueue,b=x!==null?x.lastEffect:null;if(b!==null){var k=b.next;x=k;do{if((x.tag&d)===d){b=void 0;var P=x.create,D=x.inst;b=P(),D.destroy=b}x=x.next}while(x!==k)}}catch(W){fn(h,h.return,W)}}function lc(d,h,x){try{var b=h.updateQueue,k=b!==null?b.lastEffect:null;if(k!==null){var P=k.next;b=P;do{if((b.tag&d)===d){var D=b.inst,W=D.destroy;if(W!==void 0){D.destroy=void 0,k=h;var re=x,fe=W;try{fe()}catch(be){fn(k,re,be)}}}b=b.next}while(b!==P)}}catch(be){fn(h,h.return,be)}}function rL(d){var h=d.updateQueue;if(h!==null){var x=d.stateNode;try{WD(h,x)}catch(b){fn(d,d.return,b)}}}function sL(d,h,x){x.props=Cd(d.type,d.memoizedProps),x.state=d.memoizedState;try{x.componentWillUnmount()}catch(b){fn(d,h,b)}}function dp(d,h){try{var x=d.ref;if(x!==null){switch(d.tag){case 26:case 27:case 5:var b=d.stateNode;break;case 30:b=d.stateNode;break;default:b=d.stateNode}typeof x=="function"?d.refCleanup=x(b):x.current=b}}catch(k){fn(d,h,k)}}function po(d,h){var x=d.ref,b=d.refCleanup;if(x!==null)if(typeof b=="function")try{b()}catch(k){fn(d,h,k)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(k){fn(d,h,k)}else x.current=null}function aL(d){var h=d.type,x=d.memoizedProps,b=d.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":x.autoFocus&&b.focus();break e;case"img":x.src?b.src=x.src:x.srcSet&&(b.srcset=x.srcSet)}}catch(k){fn(d,d.return,k)}}function e2(d,h,x){try{var b=d.stateNode;xce(b,d.type,x,h),b[Vn]=h}catch(k){fn(d,d.return,k)}}function iL(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&pc(d.type)||d.tag===4}function t2(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||iL(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&pc(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function n2(d,h,x){var b=d.tag;if(b===5||b===6)d=d.stateNode,h?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(d,h):(h=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,h.appendChild(d),x=x._reactRootContainer,x!=null||h.onclick!==null||(h.onclick=Xo));else if(b!==4&&(b===27&&pc(d.type)&&(x=d.stateNode,h=null),d=d.child,d!==null))for(n2(d,h,x),d=d.sibling;d!==null;)n2(d,h,x),d=d.sibling}function bv(d,h,x){var b=d.tag;if(b===5||b===6)d=d.stateNode,h?x.insertBefore(d,h):x.appendChild(d);else if(b!==4&&(b===27&&pc(d.type)&&(x=d.stateNode),d=d.child,d!==null))for(bv(d,h,x),d=d.sibling;d!==null;)bv(d,h,x),d=d.sibling}function oL(d){var h=d.stateNode,x=d.memoizedProps;try{for(var b=d.type,k=h.attributes;k.length;)h.removeAttributeNode(k[0]);fs(h,b,x),h[wr]=d,h[Vn]=x}catch(P){fn(d,d.return,P)}}var il=!1,kr=!1,r2=!1,lL=typeof WeakSet=="function"?WeakSet:Set,Kr=null;function Yle(d,h){if(d=d.containerInfo,S2=zv,d=bD(d),X1(d)){if("selectionStart"in d)var x={start:d.selectionStart,end:d.selectionEnd};else e:{x=(x=d.ownerDocument)&&x.defaultView||window;var b=x.getSelection&&x.getSelection();if(b&&b.rangeCount!==0){x=b.anchorNode;var k=b.anchorOffset,P=b.focusNode;b=b.focusOffset;try{x.nodeType,P.nodeType}catch{x=null;break e}var D=0,W=-1,re=-1,fe=0,be=0,Te=d,me=null;t:for(;;){for(var xe;Te!==x||k!==0&&Te.nodeType!==3||(W=D+k),Te!==P||b!==0&&Te.nodeType!==3||(re=D+b),Te.nodeType===3&&(D+=Te.nodeValue.length),(xe=Te.firstChild)!==null;)me=Te,Te=xe;for(;;){if(Te===d)break t;if(me===x&&++fe===k&&(W=D),me===P&&++be===b&&(re=D),(xe=Te.nextSibling)!==null)break;Te=me,me=Te.parentNode}Te=xe}x=W===-1||re===-1?null:{start:W,end:re}}else x=null}x=x||{start:0,end:0}}else x=null;for(C2={focusedElem:d,selectionRange:x},zv=!1,Kr=h;Kr!==null;)if(h=Kr,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,Kr=d;else for(;Kr!==null;){switch(h=Kr,P=h.alternate,d=h.flags,h.tag){case 0:if((d&4)!==0&&(d=h.updateQueue,d=d!==null?d.events:null,d!==null))for(x=0;x<d.length;x++)k=d[x],k.ref.impl=k.nextImpl;break;case 11:case 15:break;case 1:if((d&1024)!==0&&P!==null){d=void 0,x=h,k=P.memoizedProps,P=P.memoizedState,b=x.stateNode;try{var Ve=Cd(x.type,k);d=b.getSnapshotBeforeUpdate(Ve,P),b.__reactInternalSnapshotBeforeUpdate=d}catch(ot){fn(x,x.return,ot)}}break;case 3:if((d&1024)!==0){if(d=h.stateNode.containerInfo,x=d.nodeType,x===9)A2(d);else if(x===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":A2(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=h.sibling,d!==null){d.return=h.return,Kr=d;break}Kr=h.return}}function cL(d,h,x){var b=x.flags;switch(x.tag){case 0:case 11:case 15:ll(d,x),b&4&&cp(5,x);break;case 1:if(ll(d,x),b&4)if(d=x.stateNode,h===null)try{d.componentDidMount()}catch(D){fn(x,x.return,D)}else{var k=Cd(x.type,h.memoizedProps);h=h.memoizedState;try{d.componentDidUpdate(k,h,d.__reactInternalSnapshotBeforeUpdate)}catch(D){fn(x,x.return,D)}}b&64&&rL(x),b&512&&dp(x,x.return);break;case 3:if(ll(d,x),b&64&&(d=x.updateQueue,d!==null)){if(h=null,x.child!==null)switch(x.child.tag){case 27:case 5:h=x.child.stateNode;break;case 1:h=x.child.stateNode}try{WD(d,h)}catch(D){fn(x,x.return,D)}}break;case 27:h===null&&b&4&&oL(x);case 26:case 5:ll(d,x),h===null&&b&4&&aL(x),b&512&&dp(x,x.return);break;case 12:ll(d,x);break;case 31:ll(d,x),b&4&&fL(d,x);break;case 13:ll(d,x),b&4&&hL(d,x),b&64&&(d=x.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(x=sce.bind(null,x),Sce(d,x))));break;case 22:if(b=x.memoizedState!==null||il,!b){h=h!==null&&h.memoizedState!==null||kr,k=il;var P=kr;il=b,(kr=h)&&!P?cl(d,x,(x.subtreeFlags&8772)!==0):ll(d,x),il=k,kr=P}break;case 30:break;default:ll(d,x)}}function dL(d){var h=d.alternate;h!==null&&(d.alternate=null,dL(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&ie(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var Hn=null,ra=!1;function ol(d,h,x){for(x=x.child;x!==null;)uL(d,h,x),x=x.sibling}function uL(d,h,x){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(rr,x)}catch{}switch(x.tag){case 26:kr||po(x,h),ol(d,h,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:kr||po(x,h);var b=Hn,k=ra;pc(x.type)&&(Hn=x.stateNode,ra=!1),ol(d,h,x),vp(x.stateNode),Hn=b,ra=k;break;case 5:kr||po(x,h);case 6:if(b=Hn,k=ra,Hn=null,ol(d,h,x),Hn=b,ra=k,Hn!==null)if(ra)try{(Hn.nodeType===9?Hn.body:Hn.nodeName==="HTML"?Hn.ownerDocument.body:Hn).removeChild(x.stateNode)}catch(P){fn(x,h,P)}else try{Hn.removeChild(x.stateNode)}catch(P){fn(x,h,P)}break;case 18:Hn!==null&&(ra?(d=Hn,r$(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,x.stateNode),Sf(d)):r$(Hn,x.stateNode));break;case 4:b=Hn,k=ra,Hn=x.stateNode.containerInfo,ra=!0,ol(d,h,x),Hn=b,ra=k;break;case 0:case 11:case 14:case 15:lc(2,x,h),kr||lc(4,x,h),ol(d,h,x);break;case 1:kr||(po(x,h),b=x.stateNode,typeof b.componentWillUnmount=="function"&&sL(x,h,b)),ol(d,h,x);break;case 21:ol(d,h,x);break;case 22:kr=(b=kr)||x.memoizedState!==null,ol(d,h,x),kr=b;break;default:ol(d,h,x)}}function fL(d,h){if(h.memoizedState===null&&(d=h.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{Sf(d)}catch(x){fn(h,h.return,x)}}}function hL(d,h){if(h.memoizedState===null&&(d=h.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{Sf(d)}catch(x){fn(h,h.return,x)}}function Xle(d){switch(d.tag){case 31:case 13:case 19:var h=d.stateNode;return h===null&&(h=d.stateNode=new lL),h;case 22:return d=d.stateNode,h=d._retryCache,h===null&&(h=d._retryCache=new lL),h;default:throw Error(r(435,d.tag))}}function jv(d,h){var x=Xle(d);h.forEach(function(b){if(!x.has(b)){x.add(b);var k=ace.bind(null,d,b);b.then(k,k)}})}function sa(d,h){var x=h.deletions;if(x!==null)for(var b=0;b<x.length;b++){var k=x[b],P=d,D=h,W=D;e:for(;W!==null;){switch(W.tag){case 27:if(pc(W.type)){Hn=W.stateNode,ra=!1;break e}break;case 5:Hn=W.stateNode,ra=!1;break e;case 3:case 4:Hn=W.stateNode.containerInfo,ra=!0;break e}W=W.return}if(Hn===null)throw Error(r(160));uL(P,D,k),Hn=null,ra=!1,P=k.alternate,P!==null&&(P.return=null),k.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)mL(h,d),h=h.sibling}var Mi=null;function mL(d,h){var x=d.alternate,b=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:sa(h,d),aa(d),b&4&&(lc(3,d,d.return),cp(3,d),lc(5,d,d.return));break;case 1:sa(h,d),aa(d),b&512&&(kr||x===null||po(x,x.return)),b&64&&il&&(d=d.updateQueue,d!==null&&(b=d.callbacks,b!==null&&(x=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=x===null?b:x.concat(b))));break;case 26:var k=Mi;if(sa(h,d),aa(d),b&512&&(kr||x===null||po(x,x.return)),b&4){var P=x!==null?x.memoizedState:null;if(b=d.memoizedState,x===null)if(b===null)if(d.stateNode===null){e:{b=d.type,x=d.memoizedProps,k=k.ownerDocument||k;t:switch(b){case"title":P=k.getElementsByTagName("title")[0],(!P||P[Ge]||P[wr]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=k.createElement(b),k.head.insertBefore(P,k.querySelector("head > title"))),fs(P,b,x),P[wr]=d,Ot(P),b=P;break e;case"link":var D=m$("link","href",k).get(b+(x.href||""));if(D){for(var W=0;W<D.length;W++)if(P=D[W],P.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&P.getAttribute("rel")===(x.rel==null?null:x.rel)&&P.getAttribute("title")===(x.title==null?null:x.title)&&P.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){D.splice(W,1);break t}}P=k.createElement(b),fs(P,b,x),k.head.appendChild(P);break;case"meta":if(D=m$("meta","content",k).get(b+(x.content||""))){for(W=0;W<D.length;W++)if(P=D[W],P.getAttribute("content")===(x.content==null?null:""+x.content)&&P.getAttribute("name")===(x.name==null?null:x.name)&&P.getAttribute("property")===(x.property==null?null:x.property)&&P.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&P.getAttribute("charset")===(x.charSet==null?null:x.charSet)){D.splice(W,1);break t}}P=k.createElement(b),fs(P,b,x),k.head.appendChild(P);break;default:throw Error(r(468,b))}P[wr]=d,Ot(P),b=P}d.stateNode=b}else p$(k,d.type,d.stateNode);else d.stateNode=h$(k,b,d.memoizedProps);else P!==b?(P===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):P.count--,b===null?p$(k,d.type,d.stateNode):h$(k,b,d.memoizedProps)):b===null&&d.stateNode!==null&&e2(d,d.memoizedProps,x.memoizedProps)}break;case 27:sa(h,d),aa(d),b&512&&(kr||x===null||po(x,x.return)),x!==null&&b&4&&e2(d,d.memoizedProps,x.memoizedProps);break;case 5:if(sa(h,d),aa(d),b&512&&(kr||x===null||po(x,x.return)),d.flags&32){k=d.stateNode;try{Ku(k,"")}catch(Ve){fn(d,d.return,Ve)}}b&4&&d.stateNode!=null&&(k=d.memoizedProps,e2(d,k,x!==null?x.memoizedProps:k)),b&1024&&(r2=!0);break;case 6:if(sa(h,d),aa(d),b&4){if(d.stateNode===null)throw Error(r(162));b=d.memoizedProps,x=d.stateNode;try{x.nodeValue=b}catch(Ve){fn(d,d.return,Ve)}}break;case 3:if(Lv=null,k=Mi,Mi=Dv(h.containerInfo),sa(h,d),Mi=k,aa(d),b&4&&x!==null&&x.memoizedState.isDehydrated)try{Sf(h.containerInfo)}catch(Ve){fn(d,d.return,Ve)}r2&&(r2=!1,pL(d));break;case 4:b=Mi,Mi=Dv(d.stateNode.containerInfo),sa(h,d),aa(d),Mi=b;break;case 12:sa(h,d),aa(d);break;case 31:sa(h,d),aa(d),b&4&&(b=d.updateQueue,b!==null&&(d.updateQueue=null,jv(d,b)));break;case 13:sa(h,d),aa(d),d.child.flags&8192&&d.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(Nv=Vt()),b&4&&(b=d.updateQueue,b!==null&&(d.updateQueue=null,jv(d,b)));break;case 22:k=d.memoizedState!==null;var re=x!==null&&x.memoizedState!==null,fe=il,be=kr;if(il=fe||k,kr=be||re,sa(h,d),kr=be,il=fe,aa(d),b&8192)e:for(h=d.stateNode,h._visibility=k?h._visibility&-2:h._visibility|1,k&&(x===null||re||il||kr||kd(d)),x=null,h=d;;){if(h.tag===5||h.tag===26){if(x===null){re=x=h;try{if(P=re.stateNode,k)D=P.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{W=re.stateNode;var Te=re.memoizedProps.style,me=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;W.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(Ve){fn(re,re.return,Ve)}}}else if(h.tag===6){if(x===null){re=h;try{re.stateNode.nodeValue=k?"":re.memoizedProps}catch(Ve){fn(re,re.return,Ve)}}}else if(h.tag===18){if(x===null){re=h;try{var xe=re.stateNode;k?s$(xe,!0):s$(re.stateNode,!1)}catch(Ve){fn(re,re.return,Ve)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===d)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}b&4&&(b=d.updateQueue,b!==null&&(x=b.retryQueue,x!==null&&(b.retryQueue=null,jv(d,x))));break;case 19:sa(h,d),aa(d),b&4&&(b=d.updateQueue,b!==null&&(d.updateQueue=null,jv(d,b)));break;case 30:break;case 21:break;default:sa(h,d),aa(d)}}function aa(d){var h=d.flags;if(h&2){try{for(var x,b=d.return;b!==null;){if(iL(b)){x=b;break}b=b.return}if(x==null)throw Error(r(160));switch(x.tag){case 27:var k=x.stateNode,P=t2(d);bv(d,P,k);break;case 5:var D=x.stateNode;x.flags&32&&(Ku(D,""),x.flags&=-33);var W=t2(d);bv(d,W,D);break;case 3:case 4:var re=x.stateNode.containerInfo,fe=t2(d);n2(d,fe,re);break;default:throw Error(r(161))}}catch(be){fn(d,d.return,be)}d.flags&=-3}h&4096&&(d.flags&=-4097)}function pL(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var h=d;pL(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),d=d.sibling}}function ll(d,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)cL(d,h.alternate,h),h=h.sibling}function kd(d){for(d=d.child;d!==null;){var h=d;switch(h.tag){case 0:case 11:case 14:case 15:lc(4,h,h.return),kd(h);break;case 1:po(h,h.return);var x=h.stateNode;typeof x.componentWillUnmount=="function"&&sL(h,h.return,x),kd(h);break;case 27:vp(h.stateNode);case 26:case 5:po(h,h.return),kd(h);break;case 22:h.memoizedState===null&&kd(h);break;case 30:kd(h);break;default:kd(h)}d=d.sibling}}function cl(d,h,x){for(x=x&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var b=h.alternate,k=d,P=h,D=P.flags;switch(P.tag){case 0:case 11:case 15:cl(k,P,x),cp(4,P);break;case 1:if(cl(k,P,x),b=P,k=b.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(fe){fn(b,b.return,fe)}if(b=P,k=b.updateQueue,k!==null){var W=b.stateNode;try{var re=k.shared.hiddenCallbacks;if(re!==null)for(k.shared.hiddenCallbacks=null,k=0;k<re.length;k++)KD(re[k],W)}catch(fe){fn(b,b.return,fe)}}x&&D&64&&rL(P),dp(P,P.return);break;case 27:oL(P);case 26:case 5:cl(k,P,x),x&&b===null&&D&4&&aL(P),dp(P,P.return);break;case 12:cl(k,P,x);break;case 31:cl(k,P,x),x&&D&4&&fL(k,P);break;case 13:cl(k,P,x),x&&D&4&&hL(k,P);break;case 22:P.memoizedState===null&&cl(k,P,x),dp(P,P.return);break;case 30:break;default:cl(k,P,x)}h=h.sibling}}function s2(d,h){var x=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),d=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(d=h.memoizedState.cachePool.pool),d!==x&&(d!=null&&d.refCount++,x!=null&&Xm(x))}function a2(d,h){d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&Xm(d))}function _i(d,h,x,b){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)xL(d,h,x,b),h=h.sibling}function xL(d,h,x,b){var k=h.flags;switch(h.tag){case 0:case 11:case 15:_i(d,h,x,b),k&2048&&cp(9,h);break;case 1:_i(d,h,x,b);break;case 3:_i(d,h,x,b),k&2048&&(d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&Xm(d)));break;case 12:if(k&2048){_i(d,h,x,b),d=h.stateNode;try{var P=h.memoizedProps,D=P.id,W=P.onPostCommit;typeof W=="function"&&W(D,h.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(re){fn(h,h.return,re)}}else _i(d,h,x,b);break;case 31:_i(d,h,x,b);break;case 13:_i(d,h,x,b);break;case 23:break;case 22:P=h.stateNode,D=h.alternate,h.memoizedState!==null?P._visibility&2?_i(d,h,x,b):up(d,h):P._visibility&2?_i(d,h,x,b):(P._visibility|=2,hf(d,h,x,b,(h.subtreeFlags&10256)!==0||!1)),k&2048&&s2(D,h);break;case 24:_i(d,h,x,b),k&2048&&a2(h.alternate,h);break;default:_i(d,h,x,b)}}function hf(d,h,x,b,k){for(k=k&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var P=d,D=h,W=x,re=b,fe=D.flags;switch(D.tag){case 0:case 11:case 15:hf(P,D,W,re,k),cp(8,D);break;case 23:break;case 22:var be=D.stateNode;D.memoizedState!==null?be._visibility&2?hf(P,D,W,re,k):up(P,D):(be._visibility|=2,hf(P,D,W,re,k)),k&&fe&2048&&s2(D.alternate,D);break;case 24:hf(P,D,W,re,k),k&&fe&2048&&a2(D.alternate,D);break;default:hf(P,D,W,re,k)}h=h.sibling}}function up(d,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var x=d,b=h,k=b.flags;switch(b.tag){case 22:up(x,b),k&2048&&s2(b.alternate,b);break;case 24:up(x,b),k&2048&&a2(b.alternate,b);break;default:up(x,b)}h=h.sibling}}var fp=8192;function mf(d,h,x){if(d.subtreeFlags&fp)for(d=d.child;d!==null;)gL(d,h,x),d=d.sibling}function gL(d,h,x){switch(d.tag){case 26:mf(d,h,x),d.flags&fp&&d.memoizedState!==null&&Ice(x,Mi,d.memoizedState,d.memoizedProps);break;case 5:mf(d,h,x);break;case 3:case 4:var b=Mi;Mi=Dv(d.stateNode.containerInfo),mf(d,h,x),Mi=b;break;case 22:d.memoizedState===null&&(b=d.alternate,b!==null&&b.memoizedState!==null?(b=fp,fp=16777216,mf(d,h,x),fp=b):mf(d,h,x));break;default:mf(d,h,x)}}function yL(d){var h=d.alternate;if(h!==null&&(d=h.child,d!==null)){h.child=null;do h=d.sibling,d.sibling=null,d=h;while(d!==null)}}function hp(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var b=h[x];Kr=b,bL(b,d)}yL(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)vL(d),d=d.sibling}function vL(d){switch(d.tag){case 0:case 11:case 15:hp(d),d.flags&2048&&lc(9,d,d.return);break;case 3:hp(d);break;case 12:hp(d);break;case 22:var h=d.stateNode;d.memoizedState!==null&&h._visibility&2&&(d.return===null||d.return.tag!==13)?(h._visibility&=-3,wv(d)):hp(d);break;default:hp(d)}}function wv(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var b=h[x];Kr=b,bL(b,d)}yL(d)}for(d=d.child;d!==null;){switch(h=d,h.tag){case 0:case 11:case 15:lc(8,h,h.return),wv(h);break;case 22:x=h.stateNode,x._visibility&2&&(x._visibility&=-3,wv(h));break;default:wv(h)}d=d.sibling}}function bL(d,h){for(;Kr!==null;){var x=Kr;switch(x.tag){case 0:case 11:case 15:lc(8,x,h);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var b=x.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Xm(x.memoizedState.cache)}if(b=x.child,b!==null)b.return=x,Kr=b;else e:for(x=d;Kr!==null;){b=Kr;var k=b.sibling,P=b.return;if(dL(b),b===x){Kr=null;break e}if(k!==null){k.return=P,Kr=k;break e}Kr=P}}}var Qle={getCacheForType:function(d){var h=ds(Nr),x=h.data.get(d);return x===void 0&&(x=d(),h.data.set(d,x)),x},cacheSignal:function(){return ds(Nr).controller.signal}},Jle=typeof WeakMap=="function"?WeakMap:Map,tn=0,Nn=null,It=null,$t=0,un=0,wa=null,cc=!1,pf=!1,i2=!1,dl=0,ar=0,dc=0,Td=0,o2=0,Na=0,xf=0,mp=null,ia=null,l2=!1,Nv=0,jL=0,Sv=1/0,Cv=null,uc=null,Dr=0,fc=null,gf=null,ul=0,c2=0,d2=null,wL=null,pp=0,u2=null;function Sa(){return(tn&2)!==0&&$t!==0?$t&-$t:R.T!==null?g2():Dm()}function NL(){if(Na===0)if(($t&536870912)===0||Bt){var d=Un;Un<<=1,(Un&3932160)===0&&(Un=262144),Na=d}else Na=536870912;return d=ba.current,d!==null&&(d.flags|=32),Na}function oa(d,h,x){(d===Nn&&(un===2||un===9)||d.cancelPendingCommit!==null)&&(yf(d,0),hc(d,$t,Na,!1)),Ql(d,x),((tn&2)===0||d!==Nn)&&(d===Nn&&((tn&2)===0&&(Td|=x),ar===4&&hc(d,$t,Na,!1)),xo(d))}function SL(d,h,x){if((tn&6)!==0)throw Error(r(327));var b=!x&&(h&127)===0&&(h&d.expiredLanes)===0||ud(d,h),k=b?tce(d,h):h2(d,h,!0),P=b;do{if(k===0){pf&&!b&&hc(d,h,0,!1);break}else{if(x=d.current.alternate,P&&!Zle(x)){k=h2(d,h,!1),P=!1;continue}if(k===2){if(P=h,d.errorRecoveryDisabledLanes&P)var D=0;else D=d.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){h=D;e:{var W=d;k=mp;var re=W.current.memoizedState.isDehydrated;if(re&&(yf(W,D).flags|=256),D=h2(W,D,!1),D!==2){if(i2&&!re){W.errorRecoveryDisabledLanes|=P,Td|=P,k=4;break e}P=ia,ia=k,P!==null&&(ia===null?ia=P:ia.push.apply(ia,P))}k=D}if(P=!1,k!==2)continue}}if(k===1){yf(d,0),hc(d,h,0,!0);break}e:{switch(b=d,P=k,P){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:hc(b,h,Na,!cc);break e;case 2:ia=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(k=Nv+300-Vt(),10<k)){if(hc(b,h,Na,!cc),Uu(b,0,!0)!==0)break e;ul=h,b.timeoutHandle=t$(CL.bind(null,b,x,ia,Cv,l2,h,Na,Td,xf,cc,P,"Throttled",-0,0),k);break e}CL(b,x,ia,Cv,l2,h,Na,Td,xf,cc,P,null,-0,0)}}break}while(!0);xo(d)}function CL(d,h,x,b,k,P,D,W,re,fe,be,Te,me,xe){if(d.timeoutHandle=-1,Te=h.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xo},gL(h,P,Te);var Ve=(P&62914560)===P?Nv-Vt():(P&4194048)===P?jL-Vt():0;if(Ve=Lce(Te,Ve),Ve!==null){ul=P,d.cancelPendingCommit=Ve(_L.bind(null,d,h,P,x,b,k,D,W,re,be,Te,null,me,xe)),hc(d,P,D,!fe);return}}_L(d,h,P,x,b,k,D,W,re)}function Zle(d){for(var h=d;;){var x=h.tag;if((x===0||x===11||x===15)&&h.flags&16384&&(x=h.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var b=0;b<x.length;b++){var k=x[b],P=k.getSnapshot;k=k.value;try{if(!ya(P(),k))return!1}catch{return!1}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function hc(d,h,x,b){h&=~o2,h&=~Td,d.suspendedLanes|=h,d.pingedLanes&=~h,b&&(d.warmLanes|=h),b=d.expirationTimes;for(var k=h;0<k;){var P=31-Q(k),D=1<<P;b[P]=-1,k&=~D}x!==0&&_m(d,x,h)}function kv(){return(tn&6)===0?(xp(0),!1):!0}function f2(){if(It!==null){if(un===0)var d=It.return;else d=It,el=yd=null,AS(d),lf=null,Jm=0,d=It;for(;d!==null;)nL(d.alternate,d),d=d.return;It=null}}function yf(d,h){var x=d.timeoutHandle;x!==-1&&(d.timeoutHandle=-1,vce(x)),x=d.cancelPendingCommit,x!==null&&(d.cancelPendingCommit=null,x()),ul=0,f2(),Nn=d,It=x=Jo(d.current,null),$t=h,un=0,wa=null,cc=!1,pf=ud(d,h),i2=!1,xf=Na=o2=Td=dc=ar=0,ia=mp=null,l2=!1,(h&8)!==0&&(h|=h&32);var b=d.entangledLanes;if(b!==0)for(d=d.entanglements,b&=h;0<b;){var k=31-Q(b),P=1<<k;h|=d[k],b&=~P}return dl=h,Wy(),x}function kL(d,h){kt=null,R.H=ip,h===of||h===tv?(h=qD(),un=3):h===xS?(h=qD(),un=4):un=h===VS?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,wa=h,It===null&&(ar=1,pv(d,Ya(h,d.current)))}function TL(){var d=ba.current;return d===null?!0:($t&4194048)===$t?Za===null:($t&62914560)===$t||($t&536870912)!==0?d===Za:!1}function AL(){var d=R.H;return R.H=ip,d===null?ip:d}function EL(){var d=R.A;return R.A=Qle,d}function Tv(){ar=4,cc||($t&4194048)!==$t&&ba.current!==null||(pf=!0),(dc&134217727)===0&&(Td&134217727)===0||Nn===null||hc(Nn,$t,Na,!1)}function h2(d,h,x){var b=tn;tn|=2;var k=AL(),P=EL();(Nn!==d||$t!==h)&&(Cv=null,yf(d,h)),h=!1;var D=ar;e:do try{if(un!==0&&It!==null){var W=It,re=wa;switch(un){case 8:f2(),D=6;break e;case 3:case 2:case 9:case 6:ba.current===null&&(h=!0);var fe=un;if(un=0,wa=null,vf(d,W,re,fe),x&&pf){D=0;break e}break;default:fe=un,un=0,wa=null,vf(d,W,re,fe)}}ece(),D=ar;break}catch(be){kL(d,be)}while(!0);return h&&d.shellSuspendCounter++,el=yd=null,tn=b,R.H=k,R.A=P,It===null&&(Nn=null,$t=0,Wy()),D}function ece(){for(;It!==null;)OL(It)}function tce(d,h){var x=tn;tn|=2;var b=AL(),k=EL();Nn!==d||$t!==h?(Cv=null,Sv=Vt()+500,yf(d,h)):pf=ud(d,h);e:do try{if(un!==0&&It!==null){h=It;var P=wa;t:switch(un){case 1:un=0,wa=null,vf(d,h,P,1);break;case 2:case 9:if(BD(P)){un=0,wa=null,PL(h);break}h=function(){un!==2&&un!==9||Nn!==d||(un=7),xo(d)},P.then(h,h);break e;case 3:un=7;break e;case 4:un=5;break e;case 7:BD(P)?(un=0,wa=null,PL(h)):(un=0,wa=null,vf(d,h,P,7));break;case 5:var D=null;switch(It.tag){case 26:D=It.memoizedState;case 5:case 27:var W=It;if(D?x$(D):W.stateNode.complete){un=0,wa=null;var re=W.sibling;if(re!==null)It=re;else{var fe=W.return;fe!==null?(It=fe,Av(fe)):It=null}break t}}un=0,wa=null,vf(d,h,P,5);break;case 6:un=0,wa=null,vf(d,h,P,6);break;case 8:f2(),ar=6;break e;default:throw Error(r(462))}}nce();break}catch(be){kL(d,be)}while(!0);return el=yd=null,R.H=b,R.A=k,tn=x,It!==null?0:(Nn=null,$t=0,Wy(),ar)}function nce(){for(;It!==null&&!cn();)OL(It)}function OL(d){var h=eL(d.alternate,d,dl);d.memoizedProps=d.pendingProps,h===null?Av(d):It=h}function PL(d){var h=d,x=h.alternate;switch(h.tag){case 15:case 0:h=GI(x,h,h.pendingProps,h.type,void 0,$t);break;case 11:h=GI(x,h,h.pendingProps,h.type.render,h.ref,$t);break;case 5:AS(h);default:nL(x,h),h=It=ED(h,dl),h=eL(x,h,dl)}d.memoizedProps=d.pendingProps,h===null?Av(d):It=h}function vf(d,h,x,b){el=yd=null,AS(h),lf=null,Jm=0;var k=h.return;try{if(Vle(d,k,h,x,$t)){ar=1,pv(d,Ya(x,d.current)),It=null;return}}catch(P){if(k!==null)throw It=k,P;ar=1,pv(d,Ya(x,d.current)),It=null;return}h.flags&32768?(Bt||b===1?d=!0:pf||($t&536870912)!==0?d=!1:(cc=d=!0,(b===2||b===9||b===3||b===6)&&(b=ba.current,b!==null&&b.tag===13&&(b.flags|=16384))),ML(h,d)):Av(h)}function Av(d){var h=d;do{if((h.flags&32768)!==0){ML(h,cc);return}d=h.return;var x=Wle(h.alternate,h,dl);if(x!==null){It=x;return}if(h=h.sibling,h!==null){It=h;return}It=h=d}while(h!==null);ar===0&&(ar=5)}function ML(d,h){do{var x=Gle(d.alternate,d);if(x!==null){x.flags&=32767,It=x;return}if(x=d.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!h&&(d=d.sibling,d!==null)){It=d;return}It=d=x}while(d!==null);ar=6,It=null}function _L(d,h,x,b,k,P,D,W,re){d.cancelPendingCommit=null;do Ev();while(Dr!==0);if((tn&6)!==0)throw Error(r(327));if(h!==null){if(h===d.current)throw Error(r(177));if(P=h.lanes|h.childLanes,P|=tS,Mm(d,x,P,D,W,re),d===Nn&&(It=Nn=null,$t=0),gf=h,fc=d,ul=x,c2=P,d2=k,wL=b,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,ice(_s,function(){return $L(),null})):(d.callbackNode=null,d.callbackPriority=0),b=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||b){b=R.T,R.T=null,k=B.p,B.p=2,D=tn,tn|=4;try{Yle(d,h,x)}finally{tn=D,B.p=k,R.T=b}}Dr=1,RL(),DL(),IL()}}function RL(){if(Dr===1){Dr=0;var d=fc,h=gf,x=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||x){x=R.T,R.T=null;var b=B.p;B.p=2;var k=tn;tn|=4;try{mL(h,d);var P=C2,D=bD(d.containerInfo),W=P.focusedElem,re=P.selectionRange;if(D!==W&&W&&W.ownerDocument&&vD(W.ownerDocument.documentElement,W)){if(re!==null&&X1(W)){var fe=re.start,be=re.end;if(be===void 0&&(be=fe),"selectionStart"in W)W.selectionStart=fe,W.selectionEnd=Math.min(be,W.value.length);else{var Te=W.ownerDocument||document,me=Te&&Te.defaultView||window;if(me.getSelection){var xe=me.getSelection(),Ve=W.textContent.length,ot=Math.min(re.start,Ve),vn=re.end===void 0?ot:Math.min(re.end,Ve);!xe.extend&&ot>vn&&(D=vn,vn=ot,ot=D);var ce=yD(W,ot),oe=yD(W,vn);if(ce&&oe&&(xe.rangeCount!==1||xe.anchorNode!==ce.node||xe.anchorOffset!==ce.offset||xe.focusNode!==oe.node||xe.focusOffset!==oe.offset)){var ue=Te.createRange();ue.setStart(ce.node,ce.offset),xe.removeAllRanges(),ot>vn?(xe.addRange(ue),xe.extend(oe.node,oe.offset)):(ue.setEnd(oe.node,oe.offset),xe.addRange(ue))}}}}for(Te=[],xe=W;xe=xe.parentNode;)xe.nodeType===1&&Te.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Te.length;W++){var Se=Te[W];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}zv=!!S2,C2=S2=null}finally{tn=k,B.p=b,R.T=x}}d.current=h,Dr=2}}function DL(){if(Dr===2){Dr=0;var d=fc,h=gf,x=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||x){x=R.T,R.T=null;var b=B.p;B.p=2;var k=tn;tn|=4;try{cL(d,h.alternate,h)}finally{tn=k,B.p=b,R.T=x}}Dr=3}}function IL(){if(Dr===4||Dr===3){Dr=0,_r();var d=fc,h=gf,x=ul,b=wL;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Dr=5:(Dr=0,gf=fc=null,LL(d,d.pendingLanes));var k=d.pendingLanes;if(k===0&&(uc=null),Oi(x),h=h.stateNode,Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(rr,h,void 0,(h.current.flags&128)===128)}catch{}if(b!==null){h=R.T,k=B.p,B.p=2,R.T=null;try{for(var P=d.onRecoverableError,D=0;D<b.length;D++){var W=b[D];P(W.value,{componentStack:W.stack})}}finally{R.T=h,B.p=k}}(ul&3)!==0&&Ev(),xo(d),k=d.pendingLanes,(x&261930)!==0&&(k&42)!==0?d===u2?pp++:(pp=0,u2=d):pp=0,xp(0)}}function LL(d,h){(d.pooledCacheLanes&=h)===0&&(h=d.pooledCache,h!=null&&(d.pooledCache=null,Xm(h)))}function Ev(){return RL(),DL(),IL(),$L()}function $L(){if(Dr!==5)return!1;var d=fc,h=c2;c2=0;var x=Oi(ul),b=R.T,k=B.p;try{B.p=32>x?32:x,R.T=null,x=d2,d2=null;var P=fc,D=ul;if(Dr=0,gf=fc=null,ul=0,(tn&6)!==0)throw Error(r(331));var W=tn;if(tn|=4,vL(P.current),xL(P,P.current,D,x),tn=W,xp(0,!1),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(rr,P)}catch{}return!0}finally{B.p=k,R.T=b,LL(d,h)}}function FL(d,h,x){h=Ya(x,h),h=US(d.stateNode,h,2),d=ac(d,h,2),d!==null&&(Ql(d,2),xo(d))}function fn(d,h,x){if(d.tag===3)FL(d,d,x);else for(;h!==null;){if(h.tag===3){FL(h,d,x);break}else if(h.tag===1){var b=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(uc===null||!uc.has(b))){d=Ya(x,d),x=BI(2),b=ac(h,x,2),b!==null&&(zI(x,b,h,d),Ql(b,2),xo(b));break}}h=h.return}}function m2(d,h,x){var b=d.pingCache;if(b===null){b=d.pingCache=new Jle;var k=new Set;b.set(h,k)}else k=b.get(h),k===void 0&&(k=new Set,b.set(h,k));k.has(x)||(i2=!0,k.add(x),d=rce.bind(null,d,h,x),h.then(d,d))}function rce(d,h,x){var b=d.pingCache;b!==null&&b.delete(h),d.pingedLanes|=d.suspendedLanes&x,d.warmLanes&=~x,Nn===d&&($t&x)===x&&(ar===4||ar===3&&($t&62914560)===$t&&300>Vt()-Nv?(tn&2)===0&&yf(d,0):o2|=x,xf===$t&&(xf=0)),xo(d)}function BL(d,h){h===0&&(h=Wo()),d=pd(d,h),d!==null&&(Ql(d,h),xo(d))}function sce(d){var h=d.memoizedState,x=0;h!==null&&(x=h.retryLane),BL(d,x)}function ace(d,h){var x=0;switch(d.tag){case 31:case 13:var b=d.stateNode,k=d.memoizedState;k!==null&&(x=k.retryLane);break;case 19:b=d.stateNode;break;case 22:b=d.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(h),BL(d,x)}function ice(d,h){return Gt(d,h)}var Ov=null,bf=null,p2=!1,Pv=!1,x2=!1,mc=0;function xo(d){d!==bf&&d.next===null&&(bf===null?Ov=bf=d:bf=bf.next=d),Pv=!0,p2||(p2=!0,lce())}function xp(d,h){if(!x2&&Pv){x2=!0;do for(var x=!1,b=Ov;b!==null;){if(d!==0){var k=b.pendingLanes;if(k===0)var P=0;else{var D=b.suspendedLanes,W=b.pingedLanes;P=(1<<31-Q(42|d)+1)-1,P&=k&~(D&~W),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(x=!0,VL(b,P))}else P=$t,P=Uu(b,b===Nn?P:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(P&3)===0||ud(b,P)||(x=!0,VL(b,P));b=b.next}while(x);x2=!1}}function oce(){zL()}function zL(){Pv=p2=!1;var d=0;mc!==0&&yce()&&(d=mc);for(var h=Vt(),x=null,b=Ov;b!==null;){var k=b.next,P=qL(b,h);P===0?(b.next=null,x===null?Ov=k:x.next=k,k===null&&(bf=x)):(x=b,(d!==0||(P&3)!==0)&&(Pv=!0)),b=k}Dr!==0&&Dr!==5||xp(d),mc!==0&&(mc=0)}function qL(d,h){for(var x=d.suspendedLanes,b=d.pingedLanes,k=d.expirationTimes,P=d.pendingLanes&-62914561;0<P;){var D=31-Q(P),W=1<<D,re=k[D];re===-1?((W&x)===0||(W&b)!==0)&&(k[D]=mr(W,h)):re<=h&&(d.expiredLanes|=W),P&=~W}if(h=Nn,x=$t,x=Uu(d,d===h?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),b=d.callbackNode,x===0||d===h&&(un===2||un===9)||d.cancelPendingCommit!==null)return b!==null&&b!==null&&Jn(b),d.callbackNode=null,d.callbackPriority=0;if((x&3)===0||ud(d,x)){if(h=x&-x,h===d.callbackPriority)return h;switch(b!==null&&Jn(b),Oi(x)){case 2:case 8:x=Rn;break;case 32:x=_s;break;case 268435456:x=Ei;break;default:x=_s}return b=UL.bind(null,d),x=Gt(x,b),d.callbackPriority=h,d.callbackNode=x,h}return b!==null&&b!==null&&Jn(b),d.callbackPriority=2,d.callbackNode=null,2}function UL(d,h){if(Dr!==0&&Dr!==5)return d.callbackNode=null,d.callbackPriority=0,null;var x=d.callbackNode;if(Ev()&&d.callbackNode!==x)return null;var b=$t;return b=Uu(d,d===Nn?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),b===0?null:(SL(d,b,h),qL(d,Vt()),d.callbackNode!=null&&d.callbackNode===x?UL.bind(null,d):null)}function VL(d,h){if(Ev())return null;SL(d,h,!0)}function lce(){bce(function(){(tn&6)!==0?Gt(zn,oce):zL()})}function g2(){if(mc===0){var d=sf;d===0&&(d=vs,vs<<=1,(vs&261888)===0&&(vs=256)),mc=d}return mc}function HL(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:Fy(""+d)}function KL(d,h){var x=h.ownerDocument.createElement("input");return x.name=h.name,x.value=h.value,d.id&&x.setAttribute("form",d.id),h.parentNode.insertBefore(x,h),d=new FormData(d),x.parentNode.removeChild(x),d}function cce(d,h,x,b,k){if(h==="submit"&&x&&x.stateNode===k){var P=HL((k[Vn]||null).action),D=b.submitter;D&&(h=(h=D[Vn]||null)?HL(h.formAction):D.getAttribute("formAction"),h!==null&&(P=h,D=null));var W=new Uy("action","action",null,b,k);d.push({event:W,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(mc!==0){var re=D?KL(k,D):new FormData(k);LS(x,{pending:!0,data:re,method:k.method,action:P},null,re)}}else typeof P=="function"&&(W.preventDefault(),re=D?KL(k,D):new FormData(k),LS(x,{pending:!0,data:re,method:k.method,action:P},P,re))},currentTarget:k}]})}}for(var y2=0;y2<eS.length;y2++){var v2=eS[y2],dce=v2.toLowerCase(),uce=v2[0].toUpperCase()+v2.slice(1);Pi(dce,"on"+uce)}Pi(ND,"onAnimationEnd"),Pi(SD,"onAnimationIteration"),Pi(CD,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(Tle,"onTransitionRun"),Pi(Ale,"onTransitionStart"),Pi(Ele,"onTransitionCancel"),Pi(kD,"onTransitionEnd"),fo("onMouseEnter",["mouseout","mouseover"]),fo("onMouseLeave",["mouseout","mouseover"]),fo("onPointerEnter",["pointerout","pointerover"]),fo("onPointerLeave",["pointerout","pointerover"]),ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fce=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gp));function WL(d,h){h=(h&4)!==0;for(var x=0;x<d.length;x++){var b=d[x],k=b.event;b=b.listeners;e:{var P=void 0;if(h)for(var D=b.length-1;0<=D;D--){var W=b[D],re=W.instance,fe=W.currentTarget;if(W=W.listener,re!==P&&k.isPropagationStopped())break e;P=W,k.currentTarget=fe;try{P(k)}catch(be){Ky(be)}k.currentTarget=null,P=re}else for(D=0;D<b.length;D++){if(W=b[D],re=W.instance,fe=W.currentTarget,W=W.listener,re!==P&&k.isPropagationStopped())break e;P=W,k.currentTarget=fe;try{P(k)}catch(be){Ky(be)}k.currentTarget=null,P=re}}}}function Lt(d,h){var x=h[Vu];x===void 0&&(x=h[Vu]=new Set);var b=d+"__bubble";x.has(b)||(GL(h,d,2,!1),x.add(b))}function b2(d,h,x){var b=0;h&&(b|=4),GL(x,d,b,h)}var Mv="_reactListening"+Math.random().toString(36).slice(2);function j2(d){if(!d[Mv]){d[Mv]=!0,ls.forEach(function(x){x!=="selectionchange"&&(fce.has(x)||b2(x,!1,d),b2(x,!0,d))});var h=d.nodeType===9?d:d.ownerDocument;h===null||h[Mv]||(h[Mv]=!0,b2("selectionchange",!1,h))}}function GL(d,h,x,b){switch(N$(h)){case 2:var k=Bce;break;case 8:k=zce;break;default:k=I2}x=k.bind(null,h,x,d),k=void 0,!z1||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(k=!0),b?k!==void 0?d.addEventListener(h,x,{capture:!0,passive:k}):d.addEventListener(h,x,!0):k!==void 0?d.addEventListener(h,x,{passive:k}):d.addEventListener(h,x,!1)}function w2(d,h,x,b,k){var P=b;if((h&1)===0&&(h&2)===0&&b!==null)e:for(;;){if(b===null)return;var D=b.tag;if(D===3||D===4){var W=b.stateNode.containerInfo;if(W===k)break;if(D===4)for(D=b.return;D!==null;){var re=D.tag;if((re===3||re===4)&&D.stateNode.containerInfo===k)return;D=D.return}for(;W!==null;){if(D=Oe(W),D===null)return;if(re=D.tag,re===5||re===6||re===26||re===27){b=P=D;continue e}W=W.parentNode}}b=b.return}Z3(function(){var fe=P,be=F1(x),Te=[];e:{var me=TD.get(d);if(me!==void 0){var xe=Uy,Ve=d;switch(d){case"keypress":if(zy(x)===0)break e;case"keydown":case"keyup":xe=ale;break;case"focusin":Ve="focus",xe=H1;break;case"focusout":Ve="blur",xe=H1;break;case"beforeblur":case"afterblur":xe=H1;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=nD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=Woe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=lle;break;case ND:case SD:case CD:xe=Xoe;break;case kD:xe=dle;break;case"scroll":case"scrollend":xe=Hoe;break;case"wheel":xe=fle;break;case"copy":case"cut":case"paste":xe=Joe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=sD;break;case"toggle":case"beforetoggle":xe=mle}var ot=(h&4)!==0,vn=!ot&&(d==="scroll"||d==="scrollend"),ce=ot?me!==null?me+"Capture":null:me;ot=[];for(var oe=fe,ue;oe!==null;){var Se=oe;if(ue=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||ue===null||ce===null||(Se=Fm(oe,ce),Se!=null&&ot.push(yp(oe,Se,ue))),vn)break;oe=oe.return}0<ot.length&&(me=new xe(me,Ve,null,x,be),Te.push({event:me,listeners:ot}))}}if((h&7)===0){e:{if(me=d==="mouseover"||d==="pointerover",xe=d==="mouseout"||d==="pointerout",me&&x!==$1&&(Ve=x.relatedTarget||x.fromElement)&&(Oe(Ve)||Ve[Go]))break e;if((xe||me)&&(me=be.window===be?be:(me=be.ownerDocument)?me.defaultView||me.parentWindow:window,xe?(Ve=x.relatedTarget||x.toElement,xe=fe,Ve=Ve?Oe(Ve):null,Ve!==null&&(vn=i(Ve),ot=Ve.tag,Ve!==vn||ot!==5&&ot!==27&&ot!==6)&&(Ve=null)):(xe=null,Ve=fe),xe!==Ve)){if(ot=nD,Se="onMouseLeave",ce="onMouseEnter",oe="mouse",(d==="pointerout"||d==="pointerover")&&(ot=sD,Se="onPointerLeave",ce="onPointerEnter",oe="pointer"),vn=xe==null?me:nn(xe),ue=Ve==null?me:nn(Ve),me=new ot(Se,oe+"leave",xe,x,be),me.target=vn,me.relatedTarget=ue,Se=null,Oe(be)===fe&&(ot=new ot(ce,oe+"enter",Ve,x,be),ot.target=ue,ot.relatedTarget=vn,Se=ot),vn=Se,xe&&Ve)t:{for(ot=hce,ce=xe,oe=Ve,ue=0,Se=ce;Se;Se=ot(Se))ue++;Se=0;for(var Ze=oe;Ze;Ze=ot(Ze))Se++;for(;0<ue-Se;)ce=ot(ce),ue--;for(;0<Se-ue;)oe=ot(oe),Se--;for(;ue--;){if(ce===oe||oe!==null&&ce===oe.alternate){ot=ce;break t}ce=ot(ce),oe=ot(oe)}ot=null}else ot=null;xe!==null&&YL(Te,me,xe,ot,!1),Ve!==null&&vn!==null&&YL(Te,vn,Ve,ot,!0)}}e:{if(me=fe?nn(fe):window,xe=me.nodeName&&me.nodeName.toLowerCase(),xe==="select"||xe==="input"&&me.type==="file")var Xt=fD;else if(dD(me))if(hD)Xt=Sle;else{Xt=wle;var Ye=jle}else xe=me.nodeName,!xe||xe.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?fe&&L1(fe.elementType)&&(Xt=fD):Xt=Nle;if(Xt&&(Xt=Xt(d,fe))){uD(Te,Xt,x,be);break e}Ye&&Ye(d,me,fe),d==="focusout"&&fe&&me.type==="number"&&fe.memoizedProps.value!=null&&I1(me,"number",me.value)}switch(Ye=fe?nn(fe):window,d){case"focusin":(dD(Ye)||Ye.contentEditable==="true")&&(Xu=Ye,Q1=fe,Wm=null);break;case"focusout":Wm=Q1=Xu=null;break;case"mousedown":J1=!0;break;case"contextmenu":case"mouseup":case"dragend":J1=!1,jD(Te,x,be);break;case"selectionchange":if(kle)break;case"keydown":case"keyup":jD(Te,x,be)}var Tt;if(W1)e:{switch(d){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else Yu?lD(d,x)&&(Ft="onCompositionEnd"):d==="keydown"&&x.keyCode===229&&(Ft="onCompositionStart");Ft&&(aD&&x.locale!=="ko"&&(Yu||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&Yu&&(Tt=eD()):(Jl=be,q1="value"in Jl?Jl.value:Jl.textContent,Yu=!0)),Ye=_v(fe,Ft),0<Ye.length&&(Ft=new rD(Ft,d,null,x,be),Te.push({event:Ft,listeners:Ye}),Tt?Ft.data=Tt:(Tt=cD(x),Tt!==null&&(Ft.data=Tt)))),(Tt=xle?gle(d,x):yle(d,x))&&(Ft=_v(fe,"onBeforeInput"),0<Ft.length&&(Ye=new rD("onBeforeInput","beforeinput",null,x,be),Te.push({event:Ye,listeners:Ft}),Ye.data=Tt)),cce(Te,d,fe,x,be)}WL(Te,h)})}function yp(d,h,x){return{instance:d,listener:h,currentTarget:x}}function _v(d,h){for(var x=h+"Capture",b=[];d!==null;){var k=d,P=k.stateNode;if(k=k.tag,k!==5&&k!==26&&k!==27||P===null||(k=Fm(d,x),k!=null&&b.unshift(yp(d,k,P)),k=Fm(d,h),k!=null&&b.push(yp(d,k,P))),d.tag===3)return b;d=d.return}return[]}function hce(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function YL(d,h,x,b,k){for(var P=h._reactName,D=[];x!==null&&x!==b;){var W=x,re=W.alternate,fe=W.stateNode;if(W=W.tag,re!==null&&re===b)break;W!==5&&W!==26&&W!==27||fe===null||(re=fe,k?(fe=Fm(x,P),fe!=null&&D.unshift(yp(x,fe,re))):k||(fe=Fm(x,P),fe!=null&&D.push(yp(x,fe,re)))),x=x.return}D.length!==0&&d.push({event:h,listeners:D})}var mce=/\r\n?/g,pce=/\u0000|\uFFFD/g;function XL(d){return(typeof d=="string"?d:""+d).replace(mce,`
`).replace(pce,"")}function QL(d,h){return h=XL(h),XL(d)===h}function yn(d,h,x,b,k,P){switch(x){case"children":typeof b=="string"?h==="body"||h==="textarea"&&b===""||Ku(d,b):(typeof b=="number"||typeof b=="bigint")&&h!=="body"&&Ku(d,""+b);break;case"className":Ly(d,"class",b);break;case"tabIndex":Ly(d,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Ly(d,x,b);break;case"style":Q3(d,b,P);break;case"data":if(h!=="object"){Ly(d,"data",b);break}case"src":case"href":if(b===""&&(h!=="a"||x!=="href")){d.removeAttribute(x);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){d.removeAttribute(x);break}b=Fy(""+b),d.setAttribute(x,b);break;case"action":case"formAction":if(typeof b=="function"){d.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(x==="formAction"?(h!=="input"&&yn(d,h,"name",k.name,k,null),yn(d,h,"formEncType",k.formEncType,k,null),yn(d,h,"formMethod",k.formMethod,k,null),yn(d,h,"formTarget",k.formTarget,k,null)):(yn(d,h,"encType",k.encType,k,null),yn(d,h,"method",k.method,k,null),yn(d,h,"target",k.target,k,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){d.removeAttribute(x);break}b=Fy(""+b),d.setAttribute(x,b);break;case"onClick":b!=null&&(d.onclick=Xo);break;case"onScroll":b!=null&&Lt("scroll",d);break;case"onScrollEnd":b!=null&&Lt("scrollend",d);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(x=b.__html,x!=null){if(k.children!=null)throw Error(r(60));d.innerHTML=x}}break;case"multiple":d.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":d.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){d.removeAttribute("xlink:href");break}x=Fy(""+b),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?d.setAttribute(x,""+b):d.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?d.setAttribute(x,""):d.removeAttribute(x);break;case"capture":case"download":b===!0?d.setAttribute(x,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?d.setAttribute(x,b):d.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?d.setAttribute(x,b):d.removeAttribute(x);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?d.removeAttribute(x):d.setAttribute(x,b);break;case"popover":Lt("beforetoggle",d),Lt("toggle",d),Iy(d,"popover",b);break;case"xlinkActuate":Yo(d,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Yo(d,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Yo(d,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Yo(d,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Yo(d,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Yo(d,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Yo(d,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Yo(d,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Yo(d,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Iy(d,"is",b);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=Uoe.get(x)||x,Iy(d,x,b))}}function N2(d,h,x,b,k,P){switch(x){case"style":Q3(d,b,P);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(x=b.__html,x!=null){if(k.children!=null)throw Error(r(60));d.innerHTML=x}}break;case"children":typeof b=="string"?Ku(d,b):(typeof b=="number"||typeof b=="bigint")&&Ku(d,""+b);break;case"onScroll":b!=null&&Lt("scroll",d);break;case"onScrollEnd":b!=null&&Lt("scrollend",d);break;case"onClick":b!=null&&(d.onclick=Xo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ha.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(k=x.endsWith("Capture"),h=x.slice(2,k?x.length-7:void 0),P=d[Vn]||null,P=P!=null?P[x]:null,typeof P=="function"&&d.removeEventListener(h,P,k),typeof b=="function")){typeof P!="function"&&P!==null&&(x in d?d[x]=null:d.hasAttribute(x)&&d.removeAttribute(x)),d.addEventListener(h,b,k);break e}x in d?d[x]=b:b===!0?d.setAttribute(x,""):Iy(d,x,b)}}}function fs(d,h,x){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",d),Lt("load",d);var b=!1,k=!1,P;for(P in x)if(x.hasOwnProperty(P)){var D=x[P];if(D!=null)switch(P){case"src":b=!0;break;case"srcSet":k=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:yn(d,h,P,D,x,null)}}k&&yn(d,h,"srcSet",x.srcSet,x,null),b&&yn(d,h,"src",x.src,x,null);return;case"input":Lt("invalid",d);var W=P=D=k=null,re=null,fe=null;for(b in x)if(x.hasOwnProperty(b)){var be=x[b];if(be!=null)switch(b){case"name":k=be;break;case"type":D=be;break;case"checked":re=be;break;case"defaultChecked":fe=be;break;case"value":P=be;break;case"defaultValue":W=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,h));break;default:yn(d,h,b,be,x,null)}}W3(d,P,W,re,fe,D,k,!1);return;case"select":Lt("invalid",d),b=D=P=null;for(k in x)if(x.hasOwnProperty(k)&&(W=x[k],W!=null))switch(k){case"value":P=W;break;case"defaultValue":D=W;break;case"multiple":b=W;default:yn(d,h,k,W,x,null)}h=P,x=D,d.multiple=!!b,h!=null?Hu(d,!!b,h,!1):x!=null&&Hu(d,!!b,x,!0);return;case"textarea":Lt("invalid",d),P=k=b=null;for(D in x)if(x.hasOwnProperty(D)&&(W=x[D],W!=null))switch(D){case"value":b=W;break;case"defaultValue":k=W;break;case"children":P=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(91));break;default:yn(d,h,D,W,x,null)}Y3(d,b,k,P);return;case"option":for(re in x)if(x.hasOwnProperty(re)&&(b=x[re],b!=null))switch(re){case"selected":d.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:yn(d,h,re,b,x,null)}return;case"dialog":Lt("beforetoggle",d),Lt("toggle",d),Lt("cancel",d),Lt("close",d);break;case"iframe":case"object":Lt("load",d);break;case"video":case"audio":for(b=0;b<gp.length;b++)Lt(gp[b],d);break;case"image":Lt("error",d),Lt("load",d);break;case"details":Lt("toggle",d);break;case"embed":case"source":case"link":Lt("error",d),Lt("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in x)if(x.hasOwnProperty(fe)&&(b=x[fe],b!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:yn(d,h,fe,b,x,null)}return;default:if(L1(h)){for(be in x)x.hasOwnProperty(be)&&(b=x[be],b!==void 0&&N2(d,h,be,b,x,void 0));return}}for(W in x)x.hasOwnProperty(W)&&(b=x[W],b!=null&&yn(d,h,W,b,x,null))}function xce(d,h,x,b){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var k=null,P=null,D=null,W=null,re=null,fe=null,be=null;for(xe in x){var Te=x[xe];if(x.hasOwnProperty(xe)&&Te!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":re=Te;default:b.hasOwnProperty(xe)||yn(d,h,xe,null,b,Te)}}for(var me in b){var xe=b[me];if(Te=x[me],b.hasOwnProperty(me)&&(xe!=null||Te!=null))switch(me){case"type":P=xe;break;case"name":k=xe;break;case"checked":fe=xe;break;case"defaultChecked":be=xe;break;case"value":D=xe;break;case"defaultValue":W=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,h));break;default:xe!==Te&&yn(d,h,me,xe,b,Te)}}D1(d,D,W,re,fe,be,P,k);return;case"select":xe=D=W=me=null;for(P in x)if(re=x[P],x.hasOwnProperty(P)&&re!=null)switch(P){case"value":break;case"multiple":xe=re;default:b.hasOwnProperty(P)||yn(d,h,P,null,b,re)}for(k in b)if(P=b[k],re=x[k],b.hasOwnProperty(k)&&(P!=null||re!=null))switch(k){case"value":me=P;break;case"defaultValue":W=P;break;case"multiple":D=P;default:P!==re&&yn(d,h,k,P,b,re)}h=W,x=D,b=xe,me!=null?Hu(d,!!x,me,!1):!!b!=!!x&&(h!=null?Hu(d,!!x,h,!0):Hu(d,!!x,x?[]:"",!1));return;case"textarea":xe=me=null;for(W in x)if(k=x[W],x.hasOwnProperty(W)&&k!=null&&!b.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:yn(d,h,W,null,b,k)}for(D in b)if(k=b[D],P=x[D],b.hasOwnProperty(D)&&(k!=null||P!=null))switch(D){case"value":me=k;break;case"defaultValue":xe=k;break;case"children":break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:k!==P&&yn(d,h,D,k,b,P)}G3(d,me,xe);return;case"option":for(var Ve in x)if(me=x[Ve],x.hasOwnProperty(Ve)&&me!=null&&!b.hasOwnProperty(Ve))switch(Ve){case"selected":d.selected=!1;break;default:yn(d,h,Ve,null,b,me)}for(re in b)if(me=b[re],xe=x[re],b.hasOwnProperty(re)&&me!==xe&&(me!=null||xe!=null))switch(re){case"selected":d.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:yn(d,h,re,me,b,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in x)me=x[ot],x.hasOwnProperty(ot)&&me!=null&&!b.hasOwnProperty(ot)&&yn(d,h,ot,null,b,me);for(fe in b)if(me=b[fe],xe=x[fe],b.hasOwnProperty(fe)&&me!==xe&&(me!=null||xe!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,h));break;default:yn(d,h,fe,me,b,xe)}return;default:if(L1(h)){for(var vn in x)me=x[vn],x.hasOwnProperty(vn)&&me!==void 0&&!b.hasOwnProperty(vn)&&N2(d,h,vn,void 0,b,me);for(be in b)me=b[be],xe=x[be],!b.hasOwnProperty(be)||me===xe||me===void 0&&xe===void 0||N2(d,h,be,me,b,xe);return}}for(var ce in x)me=x[ce],x.hasOwnProperty(ce)&&me!=null&&!b.hasOwnProperty(ce)&&yn(d,h,ce,null,b,me);for(Te in b)me=b[Te],xe=x[Te],!b.hasOwnProperty(Te)||me===xe||me==null&&xe==null||yn(d,h,Te,me,b,xe)}function JL(d){switch(d){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gce(){if(typeof performance.getEntriesByType=="function"){for(var d=0,h=0,x=performance.getEntriesByType("resource"),b=0;b<x.length;b++){var k=x[b],P=k.transferSize,D=k.initiatorType,W=k.duration;if(P&&W&&JL(D)){for(D=0,W=k.responseEnd,b+=1;b<x.length;b++){var re=x[b],fe=re.startTime;if(fe>W)break;var be=re.transferSize,Te=re.initiatorType;be&&JL(Te)&&(re=re.responseEnd,D+=be*(re<W?1:(W-fe)/(re-fe)))}if(--b,h+=8*(P+D)/(k.duration/1e3),d++,10<d)break}}if(0<d)return h/d/1e6}return navigator.connection&&(d=navigator.connection.downlink,typeof d=="number")?d:5}var S2=null,C2=null;function Rv(d){return d.nodeType===9?d:d.ownerDocument}function ZL(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e$(d,h){if(d===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&h==="foreignObject"?0:d}function k2(d,h){return d==="textarea"||d==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var T2=null;function yce(){var d=window.event;return d&&d.type==="popstate"?d===T2?!1:(T2=d,!0):(T2=null,!1)}var t$=typeof setTimeout=="function"?setTimeout:void 0,vce=typeof clearTimeout=="function"?clearTimeout:void 0,n$=typeof Promise=="function"?Promise:void 0,bce=typeof queueMicrotask=="function"?queueMicrotask:typeof n$<"u"?function(d){return n$.resolve(null).then(d).catch(jce)}:t$;function jce(d){setTimeout(function(){throw d})}function pc(d){return d==="head"}function r$(d,h){var x=h,b=0;do{var k=x.nextSibling;if(d.removeChild(x),k&&k.nodeType===8)if(x=k.data,x==="/$"||x==="/&"){if(b===0){d.removeChild(k),Sf(h);return}b--}else if(x==="$"||x==="$?"||x==="$~"||x==="$!"||x==="&")b++;else if(x==="html")vp(d.ownerDocument.documentElement);else if(x==="head"){x=d.ownerDocument.head,vp(x);for(var P=x.firstChild;P;){var D=P.nextSibling,W=P.nodeName;P[Ge]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&P.rel.toLowerCase()==="stylesheet"||x.removeChild(P),P=D}}else x==="body"&&vp(d.ownerDocument.body);x=k}while(x);Sf(h)}function s$(d,h){var x=d;d=0;do{var b=x.nextSibling;if(x.nodeType===1?h?(x._stashedDisplay=x.style.display,x.style.display="none"):(x.style.display=x._stashedDisplay||"",x.getAttribute("style")===""&&x.removeAttribute("style")):x.nodeType===3&&(h?(x._stashedText=x.nodeValue,x.nodeValue=""):x.nodeValue=x._stashedText||""),b&&b.nodeType===8)if(x=b.data,x==="/$"){if(d===0)break;d--}else x!=="$"&&x!=="$?"&&x!=="$~"&&x!=="$!"||d++;x=b}while(x)}function A2(d){var h=d.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var x=h;switch(h=h.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":A2(x),ie(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}d.removeChild(x)}}function wce(d,h,x,b){for(;d.nodeType===1;){var k=x;if(d.nodeName.toLowerCase()!==h.toLowerCase()){if(!b&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(b){if(!d[Ge])switch(h){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(P=d.getAttribute("rel"),P==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(P!==k.rel||d.getAttribute("href")!==(k.href==null||k.href===""?null:k.href)||d.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin)||d.getAttribute("title")!==(k.title==null?null:k.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(P=d.getAttribute("src"),(P!==(k.src==null?null:k.src)||d.getAttribute("type")!==(k.type==null?null:k.type)||d.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin))&&P&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(h==="input"&&d.type==="hidden"){var P=k.name==null?null:""+k.name;if(k.type==="hidden"&&d.getAttribute("name")===P)return d}else return d;if(d=ei(d.nextSibling),d===null)break}return null}function Nce(d,h,x){if(h==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!x||(d=ei(d.nextSibling),d===null))return null;return d}function a$(d,h){for(;d.nodeType!==8;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!h||(d=ei(d.nextSibling),d===null))return null;return d}function E2(d){return d.data==="$?"||d.data==="$~"}function O2(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState!=="loading"}function Sce(d,h){var x=d.ownerDocument;if(d.data==="$~")d._reactRetry=h;else if(d.data!=="$?"||x.readyState!=="loading")h();else{var b=function(){h(),x.removeEventListener("DOMContentLoaded",b)};x.addEventListener("DOMContentLoaded",b),d._reactRetry=b}}function ei(d){for(;d!=null;d=d.nextSibling){var h=d.nodeType;if(h===1||h===3)break;if(h===8){if(h=d.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return d}var P2=null;function i$(d){d=d.nextSibling;for(var h=0;d;){if(d.nodeType===8){var x=d.data;if(x==="/$"||x==="/&"){if(h===0)return ei(d.nextSibling);h--}else x!=="$"&&x!=="$!"&&x!=="$?"&&x!=="$~"&&x!=="&"||h++}d=d.nextSibling}return null}function o$(d){d=d.previousSibling;for(var h=0;d;){if(d.nodeType===8){var x=d.data;if(x==="$"||x==="$!"||x==="$?"||x==="$~"||x==="&"){if(h===0)return d;h--}else x!=="/$"&&x!=="/&"||h++}d=d.previousSibling}return null}function l$(d,h,x){switch(h=Rv(x),d){case"html":if(d=h.documentElement,!d)throw Error(r(452));return d;case"head":if(d=h.head,!d)throw Error(r(453));return d;case"body":if(d=h.body,!d)throw Error(r(454));return d;default:throw Error(r(451))}}function vp(d){for(var h=d.attributes;h.length;)d.removeAttributeNode(h[0]);ie(d)}var ti=new Map,c$=new Set;function Dv(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var fl=B.d;B.d={f:Cce,r:kce,D:Tce,C:Ace,L:Ece,m:Oce,X:Mce,S:Pce,M:_ce};function Cce(){var d=fl.f(),h=kv();return d||h}function kce(d){var h=qe(d);h!==null&&h.tag===5&&h.type==="form"?kI(h):fl.r(d)}var jf=typeof document>"u"?null:document;function d$(d,h,x){var b=jf;if(b&&typeof h=="string"&&h){var k=Wa(h);k='link[rel="'+d+'"][href="'+k+'"]',typeof x=="string"&&(k+='[crossorigin="'+x+'"]'),c$.has(k)||(c$.add(k),d={rel:d,crossOrigin:x,href:h},b.querySelector(k)===null&&(h=b.createElement("link"),fs(h,"link",d),Ot(h),b.head.appendChild(h)))}}function Tce(d){fl.D(d),d$("dns-prefetch",d,null)}function Ace(d,h){fl.C(d,h),d$("preconnect",d,h)}function Ece(d,h,x){fl.L(d,h,x);var b=jf;if(b&&d&&h){var k='link[rel="preload"][as="'+Wa(h)+'"]';h==="image"&&x&&x.imageSrcSet?(k+='[imagesrcset="'+Wa(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(k+='[imagesizes="'+Wa(x.imageSizes)+'"]')):k+='[href="'+Wa(d)+'"]';var P=k;switch(h){case"style":P=wf(d);break;case"script":P=Nf(d)}ti.has(P)||(d=m({rel:"preload",href:h==="image"&&x&&x.imageSrcSet?void 0:d,as:h},x),ti.set(P,d),b.querySelector(k)!==null||h==="style"&&b.querySelector(bp(P))||h==="script"&&b.querySelector(jp(P))||(h=b.createElement("link"),fs(h,"link",d),Ot(h),b.head.appendChild(h)))}}function Oce(d,h){fl.m(d,h);var x=jf;if(x&&d){var b=h&&typeof h.as=="string"?h.as:"script",k='link[rel="modulepreload"][as="'+Wa(b)+'"][href="'+Wa(d)+'"]',P=k;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=Nf(d)}if(!ti.has(P)&&(d=m({rel:"modulepreload",href:d},h),ti.set(P,d),x.querySelector(k)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(jp(P)))return}b=x.createElement("link"),fs(b,"link",d),Ot(b),x.head.appendChild(b)}}}function Pce(d,h,x){fl.S(d,h,x);var b=jf;if(b&&d){var k=Zn(b).hoistableStyles,P=wf(d);h=h||"default";var D=k.get(P);if(!D){var W={loading:0,preload:null};if(D=b.querySelector(bp(P)))W.loading=5;else{d=m({rel:"stylesheet",href:d,"data-precedence":h},x),(x=ti.get(P))&&M2(d,x);var re=D=b.createElement("link");Ot(re),fs(re,"link",d),re._p=new Promise(function(fe,be){re.onload=fe,re.onerror=be}),re.addEventListener("load",function(){W.loading|=1}),re.addEventListener("error",function(){W.loading|=2}),W.loading|=4,Iv(D,h,b)}D={type:"stylesheet",instance:D,count:1,state:W},k.set(P,D)}}}function Mce(d,h){fl.X(d,h);var x=jf;if(x&&d){var b=Zn(x).hoistableScripts,k=Nf(d),P=b.get(k);P||(P=x.querySelector(jp(k)),P||(d=m({src:d,async:!0},h),(h=ti.get(k))&&_2(d,h),P=x.createElement("script"),Ot(P),fs(P,"link",d),x.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},b.set(k,P))}}function _ce(d,h){fl.M(d,h);var x=jf;if(x&&d){var b=Zn(x).hoistableScripts,k=Nf(d),P=b.get(k);P||(P=x.querySelector(jp(k)),P||(d=m({src:d,async:!0,type:"module"},h),(h=ti.get(k))&&_2(d,h),P=x.createElement("script"),Ot(P),fs(P,"link",d),x.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},b.set(k,P))}}function u$(d,h,x,b){var k=(k=de.current)?Dv(k):null;if(!k)throw Error(r(446));switch(d){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(h=wf(x.href),x=Zn(k).hoistableStyles,b=x.get(h),b||(b={type:"style",instance:null,count:0,state:null},x.set(h,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){d=wf(x.href);var P=Zn(k).hoistableStyles,D=P.get(d);if(D||(k=k.ownerDocument||k,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(d,D),(P=k.querySelector(bp(d)))&&!P._p&&(D.instance=P,D.state.loading=5),ti.has(d)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},ti.set(d,x),P||Rce(k,d,x,D.state))),h&&b===null)throw Error(r(528,""));return D}if(h&&b!==null)throw Error(r(529,""));return null;case"script":return h=x.async,x=x.src,typeof x=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Nf(x),x=Zn(k).hoistableScripts,b=x.get(h),b||(b={type:"script",instance:null,count:0,state:null},x.set(h,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,d))}}function wf(d){return'href="'+Wa(d)+'"'}function bp(d){return'link[rel="stylesheet"]['+d+"]"}function f$(d){return m({},d,{"data-precedence":d.precedence,precedence:null})}function Rce(d,h,x,b){d.querySelector('link[rel="preload"][as="style"]['+h+"]")?b.loading=1:(h=d.createElement("link"),b.preload=h,h.addEventListener("load",function(){return b.loading|=1}),h.addEventListener("error",function(){return b.loading|=2}),fs(h,"link",x),Ot(h),d.head.appendChild(h))}function Nf(d){return'[src="'+Wa(d)+'"]'}function jp(d){return"script[async]"+d}function h$(d,h,x){if(h.count++,h.instance===null)switch(h.type){case"style":var b=d.querySelector('style[data-href~="'+Wa(x.href)+'"]');if(b)return h.instance=b,Ot(b),b;var k=m({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return b=(d.ownerDocument||d).createElement("style"),Ot(b),fs(b,"style",k),Iv(b,x.precedence,d),h.instance=b;case"stylesheet":k=wf(x.href);var P=d.querySelector(bp(k));if(P)return h.state.loading|=4,h.instance=P,Ot(P),P;b=f$(x),(k=ti.get(k))&&M2(b,k),P=(d.ownerDocument||d).createElement("link"),Ot(P);var D=P;return D._p=new Promise(function(W,re){D.onload=W,D.onerror=re}),fs(P,"link",b),h.state.loading|=4,Iv(P,x.precedence,d),h.instance=P;case"script":return P=Nf(x.src),(k=d.querySelector(jp(P)))?(h.instance=k,Ot(k),k):(b=x,(k=ti.get(P))&&(b=m({},x),_2(b,k)),d=d.ownerDocument||d,k=d.createElement("script"),Ot(k),fs(k,"link",b),d.head.appendChild(k),h.instance=k);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(b=h.instance,h.state.loading|=4,Iv(b,x.precedence,d));return h.instance}function Iv(d,h,x){for(var b=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),k=b.length?b[b.length-1]:null,P=k,D=0;D<b.length;D++){var W=b[D];if(W.dataset.precedence===h)P=W;else if(P!==k)break}P?P.parentNode.insertBefore(d,P.nextSibling):(h=x.nodeType===9?x.head:x,h.insertBefore(d,h.firstChild))}function M2(d,h){d.crossOrigin==null&&(d.crossOrigin=h.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=h.referrerPolicy),d.title==null&&(d.title=h.title)}function _2(d,h){d.crossOrigin==null&&(d.crossOrigin=h.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=h.referrerPolicy),d.integrity==null&&(d.integrity=h.integrity)}var Lv=null;function m$(d,h,x){if(Lv===null){var b=new Map,k=Lv=new Map;k.set(x,b)}else k=Lv,b=k.get(x),b||(b=new Map,k.set(x,b));if(b.has(d))return b;for(b.set(d,null),x=x.getElementsByTagName(d),k=0;k<x.length;k++){var P=x[k];if(!(P[Ge]||P[wr]||d==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var D=P.getAttribute(h)||"";D=d+D;var W=b.get(D);W?W.push(P):b.set(D,[P])}}return b}function p$(d,h,x){d=d.ownerDocument||d,d.head.insertBefore(x,h==="title"?d.querySelector("head > title"):null)}function Dce(d,h,x){if(x===1||h.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return d=h.disabled,typeof h.precedence=="string"&&d==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function x$(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}function Ice(d,h,x,b){if(x.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(x.state.loading&4)===0){if(x.instance===null){var k=wf(b.href),P=h.querySelector(bp(k));if(P){h=P._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(d.count++,d=$v.bind(d),h.then(d,d)),x.state.loading|=4,x.instance=P,Ot(P);return}P=h.ownerDocument||h,b=f$(b),(k=ti.get(k))&&M2(b,k),P=P.createElement("link"),Ot(P);var D=P;D._p=new Promise(function(W,re){D.onload=W,D.onerror=re}),fs(P,"link",b),x.instance=P}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(x,h),(h=x.state.preload)&&(x.state.loading&3)===0&&(d.count++,x=$v.bind(d),h.addEventListener("load",x),h.addEventListener("error",x))}}var R2=0;function Lce(d,h){return d.stylesheets&&d.count===0&&Bv(d,d.stylesheets),0<d.count||0<d.imgCount?function(x){var b=setTimeout(function(){if(d.stylesheets&&Bv(d,d.stylesheets),d.unsuspend){var P=d.unsuspend;d.unsuspend=null,P()}},6e4+h);0<d.imgBytes&&R2===0&&(R2=62500*gce());var k=setTimeout(function(){if(d.waitingForImages=!1,d.count===0&&(d.stylesheets&&Bv(d,d.stylesheets),d.unsuspend)){var P=d.unsuspend;d.unsuspend=null,P()}},(d.imgBytes>R2?50:800)+h);return d.unsuspend=x,function(){d.unsuspend=null,clearTimeout(b),clearTimeout(k)}}:null}function $v(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bv(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var Fv=null;function Bv(d,h){d.stylesheets=null,d.unsuspend!==null&&(d.count++,Fv=new Map,h.forEach($ce,d),Fv=null,$v.call(d))}function $ce(d,h){if(!(h.state.loading&4)){var x=Fv.get(d);if(x)var b=x.get(null);else{x=new Map,Fv.set(d,x);for(var k=d.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<k.length;P++){var D=k[P];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(x.set(D.dataset.precedence,D),b=D)}b&&x.set(null,b)}k=h.instance,D=k.getAttribute("data-precedence"),P=x.get(D)||b,P===b&&x.set(null,k),x.set(D,k),this.count++,b=$v.bind(this),k.addEventListener("load",b),k.addEventListener("error",b),P?P.parentNode.insertBefore(k,P.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(k,d.firstChild)),h.state.loading|=4}}var wp={$$typeof:T,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Fce(d,h,x,b,k,P,D,W,re){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pm(0),this.hiddenUpdates=Pm(null),this.identifierPrefix=b,this.onUncaughtError=k,this.onCaughtError=P,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=re,this.incompleteTransitions=new Map}function g$(d,h,x,b,k,P,D,W,re,fe,be,Te){return d=new Fce(d,h,x,D,re,fe,be,Te,W),h=1,P===!0&&(h|=24),P=va(3,null,null,h),d.current=P,P.stateNode=d,h=hS(),h.refCount++,d.pooledCache=h,h.refCount++,P.memoizedState={element:b,isDehydrated:x,cache:h},gS(P),d}function y$(d){return d?(d=Zu,d):Zu}function v$(d,h,x,b,k,P){k=y$(k),b.context===null?b.context=k:b.pendingContext=k,b=sc(h),b.payload={element:x},P=P===void 0?null:P,P!==null&&(b.callback=P),x=ac(d,b,h),x!==null&&(oa(x,d,h),ep(x,d,h))}function b$(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var x=d.retryLane;d.retryLane=x!==0&&x<h?x:h}}function D2(d,h){b$(d,h),(d=d.alternate)&&b$(d,h)}function j$(d){if(d.tag===13||d.tag===31){var h=pd(d,67108864);h!==null&&oa(h,d,67108864),D2(d,67108864)}}function w$(d){if(d.tag===13||d.tag===31){var h=Sa();h=ea(h);var x=pd(d,h);x!==null&&oa(x,d,h),D2(d,h)}}var zv=!0;function Bce(d,h,x,b){var k=R.T;R.T=null;var P=B.p;try{B.p=2,I2(d,h,x,b)}finally{B.p=P,R.T=k}}function zce(d,h,x,b){var k=R.T;R.T=null;var P=B.p;try{B.p=8,I2(d,h,x,b)}finally{B.p=P,R.T=k}}function I2(d,h,x,b){if(zv){var k=L2(b);if(k===null)w2(d,h,b,qv,x),S$(d,b);else if(Uce(k,d,h,x,b))b.stopPropagation();else if(S$(d,b),h&4&&-1<qce.indexOf(d)){for(;k!==null;){var P=qe(k);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var D=Rs(P.pendingLanes);if(D!==0){var W=P;for(W.pendingLanes|=2,W.entangledLanes|=2;D;){var re=1<<31-Q(D);W.entanglements[1]|=re,D&=~re}xo(P),(tn&6)===0&&(Sv=Vt()+500,xp(0))}}break;case 31:case 13:W=pd(P,2),W!==null&&oa(W,P,2),kv(),D2(P,2)}if(P=L2(b),P===null&&w2(d,h,b,qv,x),P===k)break;k=P}k!==null&&b.stopPropagation()}else w2(d,h,b,null,x)}}function L2(d){return d=F1(d),$2(d)}var qv=null;function $2(d){if(qv=null,d=Oe(d),d!==null){var h=i(d);if(h===null)d=null;else{var x=h.tag;if(x===13){if(d=o(h),d!==null)return d;d=null}else if(x===31){if(d=l(h),d!==null)return d;d=null}else if(x===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;d=null}else h!==d&&(d=null)}}return qv=d,null}function N$(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_n()){case zn:return 2;case Rn:return 8;case _s:case Ai:return 32;case Ei:return 268435456;default:return 32}default:return 32}}var F2=!1,xc=null,gc=null,yc=null,Np=new Map,Sp=new Map,vc=[],qce="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S$(d,h){switch(d){case"focusin":case"focusout":xc=null;break;case"dragenter":case"dragleave":gc=null;break;case"mouseover":case"mouseout":yc=null;break;case"pointerover":case"pointerout":Np.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sp.delete(h.pointerId)}}function Cp(d,h,x,b,k,P){return d===null||d.nativeEvent!==P?(d={blockedOn:h,domEventName:x,eventSystemFlags:b,nativeEvent:P,targetContainers:[k]},h!==null&&(h=qe(h),h!==null&&j$(h)),d):(d.eventSystemFlags|=b,h=d.targetContainers,k!==null&&h.indexOf(k)===-1&&h.push(k),d)}function Uce(d,h,x,b,k){switch(h){case"focusin":return xc=Cp(xc,d,h,x,b,k),!0;case"dragenter":return gc=Cp(gc,d,h,x,b,k),!0;case"mouseover":return yc=Cp(yc,d,h,x,b,k),!0;case"pointerover":var P=k.pointerId;return Np.set(P,Cp(Np.get(P)||null,d,h,x,b,k)),!0;case"gotpointercapture":return P=k.pointerId,Sp.set(P,Cp(Sp.get(P)||null,d,h,x,b,k)),!0}return!1}function C$(d){var h=Oe(d.target);if(h!==null){var x=i(h);if(x!==null){if(h=x.tag,h===13){if(h=o(x),h!==null){d.blockedOn=h,Im(d.priority,function(){w$(x)});return}}else if(h===31){if(h=l(x),h!==null){d.blockedOn=h,Im(d.priority,function(){w$(x)});return}}else if(h===3&&x.stateNode.current.memoizedState.isDehydrated){d.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Uv(d){if(d.blockedOn!==null)return!1;for(var h=d.targetContainers;0<h.length;){var x=L2(d.nativeEvent);if(x===null){x=d.nativeEvent;var b=new x.constructor(x.type,x);$1=b,x.target.dispatchEvent(b),$1=null}else return h=qe(x),h!==null&&j$(h),d.blockedOn=x,!1;h.shift()}return!0}function k$(d,h,x){Uv(d)&&x.delete(h)}function Vce(){F2=!1,xc!==null&&Uv(xc)&&(xc=null),gc!==null&&Uv(gc)&&(gc=null),yc!==null&&Uv(yc)&&(yc=null),Np.forEach(k$),Sp.forEach(k$)}function Vv(d,h){d.blockedOn===h&&(d.blockedOn=null,F2||(F2=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vce)))}var Hv=null;function T$(d){Hv!==d&&(Hv=d,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Hv===d&&(Hv=null);for(var h=0;h<d.length;h+=3){var x=d[h],b=d[h+1],k=d[h+2];if(typeof b!="function"){if($2(b||x)===null)continue;break}var P=qe(x);P!==null&&(d.splice(h,3),h-=3,LS(P,{pending:!0,data:k,method:x.method,action:b},b,k))}}))}function Sf(d){function h(re){return Vv(re,d)}xc!==null&&Vv(xc,d),gc!==null&&Vv(gc,d),yc!==null&&Vv(yc,d),Np.forEach(h),Sp.forEach(h);for(var x=0;x<vc.length;x++){var b=vc[x];b.blockedOn===d&&(b.blockedOn=null)}for(;0<vc.length&&(x=vc[0],x.blockedOn===null);)C$(x),x.blockedOn===null&&vc.shift();if(x=(d.ownerDocument||d).$$reactFormReplay,x!=null)for(b=0;b<x.length;b+=3){var k=x[b],P=x[b+1],D=k[Vn]||null;if(typeof P=="function")D||T$(x);else if(D){var W=null;if(P&&P.hasAttribute("formAction")){if(k=P,D=P[Vn]||null)W=D.formAction;else if($2(k)!==null)continue}else W=D.action;typeof W=="function"?x[b+1]=W:(x.splice(b,3),b-=3),T$(x)}}}function A$(){function d(P){P.canIntercept&&P.info==="react-transition"&&P.intercept({handler:function(){return new Promise(function(D){return k=D})},focusReset:"manual",scroll:"manual"})}function h(){k!==null&&(k(),k=null),b||setTimeout(x,20)}function x(){if(!b&&!navigation.transition){var P=navigation.currentEntry;P&&P.url!=null&&navigation.navigate(P.url,{state:P.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,k=null;return navigation.addEventListener("navigate",d),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(x,100),function(){b=!0,navigation.removeEventListener("navigate",d),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),k!==null&&(k(),k=null)}}}function B2(d){this._internalRoot=d}Kv.prototype.render=B2.prototype.render=function(d){var h=this._internalRoot;if(h===null)throw Error(r(409));var x=h.current,b=Sa();v$(x,b,d,h,null,null)},Kv.prototype.unmount=B2.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var h=d.containerInfo;v$(d.current,2,null,d,null,null),kv(),h[Go]=null}};function Kv(d){this._internalRoot=d}Kv.prototype.unstable_scheduleHydration=function(d){if(d){var h=Dm();d={blockedOn:null,target:d,priority:h};for(var x=0;x<vc.length&&h!==0&&h<vc[x].priority;x++);vc.splice(x,0,d),x===0&&C$(d)}};var E$=t.version;if(E$!=="19.2.0")throw Error(r(527,E$,"19.2.0"));B.findDOMNode=function(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=u(h),d=d!==null?f(d):null,d=d===null?null:d.stateNode,d};var Hce={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wv.isDisabled&&Wv.supportsFiber)try{rr=Wv.inject(Hce),Tn=Wv}catch{}}return Tp.createRoot=function(d,h){if(!a(d))throw Error(r(299));var x=!1,b="",k=II,P=LI,D=$I;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onUncaughtError!==void 0&&(k=h.onUncaughtError),h.onCaughtError!==void 0&&(P=h.onCaughtError),h.onRecoverableError!==void 0&&(D=h.onRecoverableError)),h=g$(d,1,!1,null,null,x,b,null,k,P,D,A$),d[Go]=h.current,j2(d),new B2(h)},Tp.hydrateRoot=function(d,h,x){if(!a(d))throw Error(r(299));var b=!1,k="",P=II,D=LI,W=$I,re=null;return x!=null&&(x.unstable_strictMode===!0&&(b=!0),x.identifierPrefix!==void 0&&(k=x.identifierPrefix),x.onUncaughtError!==void 0&&(P=x.onUncaughtError),x.onCaughtError!==void 0&&(D=x.onCaughtError),x.onRecoverableError!==void 0&&(W=x.onRecoverableError),x.formState!==void 0&&(re=x.formState)),h=g$(d,1,!0,h,x??null,b,k,re,P,D,W,A$),h.context=y$(null),x=h.current,b=Sa(),b=ea(b),k=sc(b),k.callback=null,ac(x,k,b),x=b,h.current.lanes=x,Ql(h,x),xo(h),d[Go]=h.current,j2(d),new Kv(h)},Tp.version="19.2.0",Tp}var F$;function tde(){if(F$)return q2.exports;F$=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),q2.exports=ede(),q2.exports}var nde=tde();function rde(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)n=a[0],n==="*"?(o.push(n),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~r?r:~i?i:a.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var j=Wg();const Z=on(j),pa=Wce({__proto__:null,default:Z},[j]);var W2={exports:{}},G2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B$;function sde(){if(B$)return G2;B$=1;var e=Wg();function t(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(m,p){var g=p(),v=r({inst:{value:g,getSnapshot:p}}),y=v[0].inst,w=v[1];return i(function(){y.value=g,y.getSnapshot=p,c(y)&&w({inst:y})},[m,g,p]),a(function(){return c(y)&&w({inst:y}),m(function(){c(y)&&w({inst:y})})},[m]),o(g),g}function c(m){var p=m.getSnapshot;m=m.value;try{var g=p();return!n(m,g)}catch{return!0}}function u(m,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return G2.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,G2}var z$;function FK(){return z$||(z$=1,W2.exports=sde()),W2.exports}var Bw=FK();const ade=pa.useInsertionEffect,ide=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ode=ide?j.useLayoutEffect:j.useEffect,lde=ade||ode,BK=e=>{const t=j.useRef([e,(...n)=>t[0](...n)]).current;return lde(()=>{t[0]=e}),t[1]},cde="popstate",LM="pushState",$M="replaceState",dde="hashchange",q$=[cde,LM,$M,dde],ude=e=>{for(const t of q$)addEventListener(t,e);return()=>{for(const t of q$)removeEventListener(t,e)}},zK=(e,t)=>Bw.useSyncExternalStore(ude,e,t),fde=()=>location.search,hde=({ssrSearch:e=""}={})=>zK(fde,()=>e),U$=()=>location.pathname,mde=({ssrPath:e}={})=>zK(U$,e?()=>e:U$),pde=(e,{replace:t=!1,state:n=null}={})=>history[t?$M:LM](n,"",e),xde=(e={})=>[mde(e),pde],V$=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[V$]>"u"){for(const e of[LM,$M]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,V$,{value:!0})}const gde=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",qK=(e="")=>e==="/"?"":e,yde=(e,t)=>e[0]==="~"?e.slice(1):qK(t)+e,vde=(e="",t)=>gde(H$(qK(e)),H$(t)),H$=e=>{try{return decodeURI(e)}catch{return e}},UK={hook:xde,searchHook:hde,parser:rde,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},VK=j.createContext(UK),sm=()=>j.useContext(VK),HK={},KK=j.createContext(HK),FM=()=>j.useContext(KK),zw=e=>{const[t,n]=e.hook(e);return[vde(e.base,t),BK((r,a)=>n(yde(r,e.base),a))]},hr=()=>zw(sm()),BM=(e,t,n,r)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=a.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((m,p)=>[m,c[p]])):o.groups;let f={...c};return u&&Object.assign(f,u),f})(),...r?[l]:[]]:[!1,null]},an=e=>BM(sm().parser,e,hr()[0]),bde=({children:e,...t})=>{const n=sm(),r=t.hook?UK:n;let a=r;const[i,o]=t.ssrPath?.split("?")??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??t.hook?.hrefs;let l=j.useRef({}),c=l.current,u=c;for(let f in r){const m=f==="base"?r[f]+(t[f]||""):t[f]||r[f];c===u&&m!==u[f]&&(l.current=u={...u}),u[f]=m,m!==r[f]&&(a=u)}return j.createElement(VK.Provider,{value:a,children:e})},K$=({children:e,component:t},n)=>t?j.createElement(t,{params:n}):typeof e=="function"?e(n):e,jde=e=>{let t=j.useRef(HK),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Is=({path:e,nest:t,match:n,...r})=>{const a=sm(),[i]=zw(a),[o,l,c]=n??BM(a.parser,e,i,t),u=jde({...FM(),...l});if(!o)return null;const f=c?j.createElement(bde,{base:c},K$(r,u)):K$(r,u);return j.createElement(KK.Provider,{value:u,children:f})},Mt=j.forwardRef((e,t)=>{const n=sm(),[r,a]=zw(n),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:f,replace:m,state:p,...g}=e,v=BK(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(l?.(w),w.defaultPrevented||(w.preventDefault(),a(o,e)))}),y=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&j.isValidElement(u)?j.cloneElement(u,{onClick:v,href:y}):j.createElement("a",{...g,onClick:v,href:y,className:f?.call?f(r===o):f,children:u,ref:t})}),WK=e=>Array.isArray(e)?e.flatMap(t=>WK(t&&t.type===j.Fragment?t.props.children:t)):[e],wde=({children:e,location:t})=>{const n=sm(),[r]=zw(n);for(const a of WK(e)){let i=0;if(j.isValidElement(a)&&(i=BM(n.parser,a.props.path,t||r,a.props.nest))[0])return j.cloneElement(a,{match:i})}return null};var am=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lu=typeof window>"u"||"Deno"in globalThis;function di(){}function Nde(e,t){return typeof e=="function"?e(t):e}function SO(e){return typeof e=="number"&&e>=0&&e!==1/0}function GK(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zf(e,t){return typeof e=="function"?e(t):e}function Bi(e,t){return typeof e=="function"?e(t):e}function W$(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==zM(o,t.options))return!1}else if(!Bx(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function G$(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(cu(t.options.mutationKey)!==cu(i))return!1}else if(!Bx(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function zM(e,t){return(t?.queryKeyHashFn||cu)(e)}function cu(e){return JSON.stringify(e,(t,n)=>CO(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Bx(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Bx(e[n],t[n])):!1}function YK(e,t){if(e===t)return e;const n=Y$(e)&&Y$(t);if(n||CO(e)&&CO(t)){const r=n?e:Object.keys(e),a=r.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{};let c=0;for(let u=0;u<o;u++){const f=n?u:i[u];(!n&&r.includes(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,c++):(l[f]=YK(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function p0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Y$(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function CO(e){if(!X$(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!X$(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function X$(e){return Object.prototype.toString.call(e)==="[object Object]"}function Sde(e){return new Promise(t=>{setTimeout(t,e)})}function kO(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?YK(e,t):t}function Cde(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function kde(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var qM=Symbol();function XK(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===qM?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Tde=class extends am{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!lu&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},UM=new Tde,Ade=class extends am{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!lu&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},x0=new Ade;function TO(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function Ede(e){return Math.min(1e3*2**e,3e4)}function QK(e){return(e??"online")==="online"?x0.isOnline():!0}var JK=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Y2(e){return e instanceof JK}function ZK(e){let t=!1,n=0,r=!1,a;const i=TO(),o=y=>{r||(p(new JK(y)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},u=()=>UM.isFocused()&&(e.networkMode==="always"||x0.isOnline())&&e.canRun(),f=()=>QK(e.networkMode)&&e.canRun(),m=y=>{r||(r=!0,e.onSuccess?.(y),a?.(),i.resolve(y))},p=y=>{r||(r=!0,e.onError?.(y),a?.(),i.reject(y))},g=()=>new Promise(y=>{a=w=>{(r||u())&&y(w)},e.onPause?.()}).then(()=>{a=void 0,r||e.onContinue?.()}),v=()=>{if(r)return;let y;const w=n===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(N){y=Promise.reject(N)}Promise.resolve(y).then(m).catch(N=>{if(r)return;const A=e.retry??(lu?0:3),T=e.retryDelay??Ede,C=typeof T=="function"?T(n,N):T,S=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,N);if(t||!S){p(N);return}n++,e.onFail?.(n,N),Sde(C).then(()=>u()?void 0:g()).then(()=>{t?p(N):v()})})};return{promise:i,cancel:o,continue:()=>(a?.(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?v():g().then(v),i)}}function Ode(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var Fr=Ode(),eW=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),SO(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(lu?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Pde=class extends eW{#e;#t;#r;#n;#i;#a;constructor(e){super(),this.#a=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Mde(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const n=kO(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(di).catch(di):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Bi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qM||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!GK(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},a=()=>{const l=XK(this.options,t),c={queryKey:this.queryKey,meta:this.meta};return r(c),this.#a=!1,this.options.persister?this.options.persister(l,c,this):l(c)},i={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};r(i),this.options.behavior?.onFetch(i,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#s({type:"fetch",meta:i.fetchOptions?.meta});const o=l=>{Y2(l)&&l.silent||this.#s({type:"error",error:l}),Y2(l)||(this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#n=ZK({initialPromise:t?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){o(c);return}this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,c)=>{this.#s({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...tW(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Y2(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Fr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function tW(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QK(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Mde(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var _de=class extends am{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,a=t.queryHash??zM(r,t);let i=this.get(a);return i||(i=new Pde({cache:this,queryKey:r,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Fr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>W$(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>W$(e,n)):t}notify(e){Fr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Fr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Fr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Rde=class extends eW{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||nW(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=ZK({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(r,a)=>{this.#n({type:"failed",failureCount:r,error:a})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",n=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:n}),await this.#t.config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&this.#n({type:"pending",context:a,variables:e,isPaused:n})}const r=await this.#r.start();return await this.#t.config.onSuccess?.(r,e,this.state.context,this),await this.options.onSuccess?.(r,e,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,e,this.state.context),this.#n({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,e,this.state.context,this),await this.options.onError?.(r,e,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,e,this.state.context),r}finally{this.#n({type:"error",error:r})}}finally{this.#t.runNext(this)}}#n(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Fr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function nW(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dde=class extends am{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,n){const r=new Rde({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){const t=Yv(e),n=this.#e.get(t)??[];n.push(e),this.#e.set(t,n),this.notify({type:"added",mutation:e})}remove(e){const t=Yv(e);if(this.#e.has(t)){const n=this.#e.get(t)?.filter(r=>r!==e);n&&(n.length===0?this.#e.delete(t):this.#e.set(t,n))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(Yv(e))?.find(n=>n.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(Yv(e))?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){Fr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(n=>G$(t,n))}findAll(e={}){return this.getAll().filter(t=>G$(e,t))}notify(e){Fr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Fr.batch(()=>Promise.all(e.map(t=>t.continue().catch(di))))}};function Yv(e){return e.options.scope?.id??String(e.mutationId)}function Q$(e){return{onFetch:(t,n)=>{const r=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let f=!1;const m=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},p=XK(t.options,t.fetchOptions),g=async(v,y,w)=>{if(f)return Promise.reject();if(y==null&&v.pages.length)return Promise.resolve(v);const N={queryKey:t.queryKey,pageParam:y,direction:w?"backward":"forward",meta:t.options.meta};m(N);const A=await p(N),{maxPages:T}=t.options,C=w?kde:Cde;return{pages:C(v.pages,A,T),pageParams:C(v.pageParams,y,T)}};if(a&&i.length){const v=a==="backward",y=v?Ide:J$,w={pages:i,pageParams:o},N=y(r,w);l=await g(w,N,v)}else{const v=e??i.length;do{const y=c===0?o[0]??r.initialPageParam:J$(r,l);if(c>0&&y==null)break;l=await g(l,y),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function J$(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Ide(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Lde=class{#e;#t;#r;#n;#i;#a;#s;#o;constructor(e={}){this.#e=e.queryCache||new _de,this.#t=e.mutationCache||new Dde,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#s=UM.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=x0.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=this.#e.build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Zf(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(r.queryHash)?.state.data,o=Nde(t,i);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Fr.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Fr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e,r={type:"active",...e};return Fr.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Fr.batch(()=>this.#e.findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(di).catch(di)}invalidateQueries(e={},t={}){return Fr.batch(()=>{if(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:t?.cancelRefetch??!0},r=Fr.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(di)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(di)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Zf(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(di).catch(di)}fetchInfiniteQuery(e){return e.behavior=Q$(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(di).catch(di)}ensureInfiniteQueryData(e){return e.behavior=Q$(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return x0.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(cu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let n={};return t.forEach(r=>{Bx(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){this.#i.set(cu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()];let n={};return t.forEach(r=>{Bx(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zM(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===qM&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},$de=class extends am{constructor(e,t){super(),this.options=t,this.#e=e,this.#o=null,this.#s=TO(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#a;#s;#o;#p;#f;#h;#c;#d;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Z$(this.#t,this.options)?this.#u():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return AO(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return AO(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#j(),this.#t.removeObserver(this)}setOptions(e,t){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),n._defaulted&&!p0(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&eF(this.#t,r,this.options,n)&&this.#u(),this.updateResult(t),a&&(this.#t!==r||Bi(this.options.enabled,this.#t)!==Bi(n.enabled,this.#t)||Zf(this.options.staleTime,this.#t)!==Zf(n.staleTime,this.#t))&&this.#x();const i=this.#g();a&&(this.#t!==r||Bi(this.options.enabled,this.#t)!==Bi(n.enabled,this.#t)||i!==this.#l)&&this.#y(i)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return Bde(this,n)&&(this.#n=n,this.#a=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(e,t){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t?.(r),e[r])})}),n}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#u(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(di)),t}#x(){this.#b();const e=Zf(this.options.staleTime,this.#t);if(lu||this.#n.isStale||!SO(e))return;const n=GK(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#j(),this.#l=e,!(lu||Bi(this.options.enabled,this.#t)===!1||!SO(this.#l)||this.#l===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||UM.isFocused())&&this.#u()},this.#l))}#v(){this.#x(),this.#y(this.#g())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#j(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const n=this.#t,r=this.options,a=this.#n,i=this.#i,o=this.#a,c=e!==n?e.state:this.#r,{state:u}=e;let f={...u},m=!1,p;if(t._optimisticResults){const O=this.hasListeners(),_=!O&&Z$(e,t),M=O&&eF(e,n,t,r);(_||M)&&(f={...f,...tW(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:y}=f;if(t.select&&f.data!==void 0)if(a&&f.data===i?.data&&t.select===this.#p)p=this.#f;else try{this.#p=t.select,p=t.select(f.data),p=kO(a?.data,p,t),this.#f=p,this.#o=null}catch(O){this.#o=O}else p=f.data;if(t.placeholderData!==void 0&&p===void 0&&y==="pending"){let O;if(a?.isPlaceholderData&&t.placeholderData===o?.placeholderData)O=a.data;else if(O=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,t.select&&O!==void 0)try{O=t.select(O),this.#o=null}catch(_){this.#o=_}O!==void 0&&(y="success",p=kO(a?.data,O,t),m=!0)}this.#o&&(g=this.#o,p=this.#f,v=Date.now(),y="error");const w=f.fetchStatus==="fetching",N=y==="pending",A=y==="error",T=N&&w,C=p!==void 0,E={status:y,fetchStatus:f.fetchStatus,isPending:N,isSuccess:y==="success",isError:A,isInitialLoading:T,isLoading:T,data:p,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!N,isLoadingError:A&&!C,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:A&&C,isStale:VM(e,t),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const O=$=>{E.status==="error"?$.reject(E.error):E.data!==void 0&&$.resolve(E.data)},_=()=>{const $=this.#s=E.promise=TO();O($)},M=this.#s;switch(M.status){case"pending":e.queryHash===n.queryHash&&O(M);break;case"fulfilled":(E.status==="error"||E.data!==M.value)&&_();break;case"rejected":(E.status!=="error"||E.error!==M.reason)&&_();break}}return E}updateResult(e){const t=this.#n,n=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#t),p0(n,t))return;this.#n=n;const r={},a=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!this.#m.size)return!0;const l=new Set(o??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#n).some(c=>{const u=c;return this.#n[u]!==t[u]&&l.has(u)})};e?.listeners!==!1&&a()&&(r.listeners=!0),this.#N({...r,...e})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#N(e){Fr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Fde(e,t){return Bi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Z$(e,t){return Fde(e,t)||e.state.data!==void 0&&AO(e,t,t.refetchOnMount)}function AO(e,t,n){if(Bi(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&VM(e,t)}return!1}function eF(e,t,n,r){return(e!==t||Bi(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&VM(e,n)}function VM(e,t){return Bi(t.enabled,e)!==!1&&e.isStaleByTime(Zf(t.staleTime,e))}function Bde(e,t){return!p0(e.getCurrentResult(),t)}var zde=class extends am{#e;#t=void 0;#r;#n;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),p0(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&cu(n.mutationKey)!==cu(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#a()}mutate(t,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){const t=this.#r?.state??nW();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){Fr.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,n,r),this.#n.onSettled?.(t.data,null,n,r)):t?.type==="error"&&(this.#n.onError?.(t.error,n,r),this.#n.onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},rW=j.createContext(void 0),rt=e=>{const t=j.useContext(rW);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},qde=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(rW.Provider,{value:e,children:t})),sW=j.createContext(!1),Ude=()=>j.useContext(sW);sW.Provider;function Vde(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Hde=j.createContext(Vde()),Kde=()=>j.useContext(Hde);function aW(e,t){return typeof e=="function"?e(...t):!!e}function EO(){}var Wde=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Gde=e=>{j.useEffect(()=>{e.clearReset()},[e])},Yde=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&aW(n,[e.error,r]),Xde=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Qde=(e,t)=>e.isLoading&&e.isFetching&&!t,Jde=(e,t)=>e?.suspense&&t.isPending,tF=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Zde(e,t,n){const r=rt(),a=Ude(),i=Kde(),o=r.defaultQueryOptions(e);r.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=a?"isRestoring":"optimistic",Xde(o),Wde(o,i),Gde(i);const l=!r.getQueryCache().get(o.queryHash),[c]=j.useState(()=>new t(r,o)),u=c.getOptimisticResult(o);if(j.useSyncExternalStore(j.useCallback(f=>{const m=a?EO:c.subscribe(Fr.batchCalls(f));return c.updateResult(),m},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),Jde(o,u))throw tF(o,c,i);if(Yde({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!lu&&Qde(u,a)&&(l?tF(o,c,i):r.getQueryCache().get(o.queryHash)?.promise)?.catch(EO).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function Ne(e,t){return Zde(e,$de)}function ve(e,t){const n=rt(),[r]=j.useState(()=>new zde(n,e));j.useEffect(()=>{r.setOptions(e)},[r,e]);const a=j.useSyncExternalStore(j.useCallback(o=>r.subscribe(Fr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=j.useCallback((o,l)=>{r.mutate(o,l).catch(EO)},[r]);if(a.error&&aW(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}async function iW(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Be(e,t,n){const r=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await iW(r),r}const eue=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return await iW(n),await n.json()},tue=new Lde({defaultOptions:{queries:{queryFn:eue({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});var nue=(e,t,n,r,a,i,o,l)=>{let c=document.documentElement,u=["light","dark"];function f(g){(Array.isArray(e)?e:[e]).forEach(v=>{let y=v==="class",w=y&&i?a.map(N=>i[N]||N):a;y?(c.classList.remove(...w),c.classList.add(i&&i[g]?i[g]:g)):c.setAttribute(v,g)}),m(g)}function m(g){l&&u.includes(g)&&(c.style.colorScheme=g)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)f(r);else try{let g=localStorage.getItem(t)||n,v=o&&g==="system"?p():g;f(v)}catch{}},nF=["light","dark"],oW="(prefers-color-scheme: dark)",rue=typeof window>"u",HM=j.createContext(void 0),sue={setTheme:e=>{},themes:[]},aue=()=>{var e;return(e=j.useContext(HM))!=null?e:sue},iue=e=>j.useContext(HM)?j.createElement(j.Fragment,null,e.children):j.createElement(lue,{...e}),oue=["light","dark"],lue=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:a="theme",themes:i=oue,defaultTheme:o=n?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:f,scriptProps:m})=>{let[p,g]=j.useState(()=>due(a,o)),[v,y]=j.useState(()=>p==="system"?X2():p),w=c?Object.values(c):i,N=j.useCallback(S=>{let E=S;if(!E)return;S==="system"&&n&&(E=X2());let O=c?c[E]:E,_=t?uue(f):null,M=document.documentElement,$=z=>{z==="class"?(M.classList.remove(...w),O&&M.classList.add(O)):z.startsWith("data-")&&(O?M.setAttribute(z,O):M.removeAttribute(z))};if(Array.isArray(l)?l.forEach($):$(l),r){let z=nF.includes(o)?o:null,V=nF.includes(E)?E:z;M.style.colorScheme=V}_?.()},[f]),A=j.useCallback(S=>{let E=typeof S=="function"?S(p):S;g(E);try{localStorage.setItem(a,E)}catch{}},[p]),T=j.useCallback(S=>{let E=X2(S);y(E),p==="system"&&n&&!e&&N("system")},[p,e]);j.useEffect(()=>{let S=window.matchMedia(oW);return S.addListener(T),T(S),()=>S.removeListener(T)},[T]),j.useEffect(()=>{let S=E=>{E.key===a&&(E.newValue?g(E.newValue):A(o))};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[A]),j.useEffect(()=>{N(e??p)},[e,p]);let C=j.useMemo(()=>({theme:p,setTheme:A,forcedTheme:e,resolvedTheme:p==="system"?v:p,themes:n?[...i,"system"]:i,systemTheme:n?v:void 0}),[p,A,e,v,n,i]);return j.createElement(HM.Provider,{value:C},j.createElement(cue,{forcedTheme:e,storageKey:a,attribute:l,enableSystem:n,enableColorScheme:r,defaultTheme:o,value:c,themes:i,nonce:f,scriptProps:m}),u)},cue=j.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:i,value:o,themes:l,nonce:c,scriptProps:u})=>{let f=JSON.stringify([n,t,i,e,l,o,r,a]).slice(1,-1);return j.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${nue.toString()})(${f})`}})}),due=(e,t)=>{if(rue)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},uue=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},X2=e=>(e||(e=window.matchMedia(oW)),e.matches?"dark":"light");const fue=1,hue=1e6;let Q2=0;function mue(){return Q2=(Q2+1)%Number.MAX_SAFE_INTEGER,Q2.toString()}const J2=new Map,rF=e=>{if(J2.has(e))return;const t=setTimeout(()=>{J2.delete(e),ux({type:"REMOVE_TOAST",toastId:e})},hue);J2.set(e,t)},pue=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,fue)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?rF(n):e.toasts.forEach(r=>{rF(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Vb=[];let Hb={toasts:[]};function ux(e){Hb=pue(Hb,e),Vb.forEach(t=>{t(Hb)})}function xue({...e}){const t=mue(),n=a=>ux({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>ux({type:"DISMISS_TOAST",toastId:t});return ux({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function Dt(){const[e,t]=j.useState(Hb);return j.useEffect(()=>(Vb.push(t),()=>{const n=Vb.indexOf(t);n>-1&&Vb.splice(n,1)}),[e]),{...e,toast:xue,dismiss:n=>ux({type:"DISMISS_TOAST",toastId:n})}}var Ul=$K();const KM=on(Ul);function Pa(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function sF(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function io(...e){return t=>{let n=!1;const r=e.map(a=>{const i=sF(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():sF(e[a],null)}}}}function it(...e){return j.useCallback(io(...e),e)}function gue(e,t){const n=j.createContext(t),r=i=>{const{children:o,...l}=i,c=j.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(i){const o=j.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function ss(e,t=[]){let n=[];function r(i,o){const l=j.createContext(o),c=n.length;n=[...n,o];const u=m=>{const{scope:p,children:g,...v}=m,y=p?.[e]?.[c]||l,w=j.useMemo(()=>v,Object.values(v));return s.jsx(y.Provider,{value:w,children:g})};u.displayName=i+"Provider";function f(m,p){const g=p?.[e]?.[c]||l,v=j.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[u,f]}const a=()=>{const i=n.map(o=>j.createContext(o));return function(l){const c=l?.[e]||i;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,yue(a,...t)]}function yue(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const m=c(i)[`__scope${u}`];return{...l,...m}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function OO(e){const t=vue(e),n=j.forwardRef((r,a)=>{const{children:i,...o}=r,l=j.Children.toArray(i),c=l.find(jue);if(c){const u=c.props.children,f=l.map(m=>m===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function vue(e){const t=j.forwardRef((n,r)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=Nue(a),l=wue(i,a.props);return a.type!==j.Fragment&&(l.ref=r?io(r,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bue=Symbol("radix.slottable");function jue(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bue}function wue(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{i(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function Nue(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Sue(e){const t=e+"CollectionProvider",[n,r]=ss(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:w,children:N}=y,A=Z.useRef(null),T=Z.useRef(new Map).current;return s.jsx(a,{scope:w,itemMap:T,collectionRef:A,children:N})};o.displayName=t;const l=e+"CollectionSlot",c=OO(l),u=Z.forwardRef((y,w)=>{const{scope:N,children:A}=y,T=i(l,N),C=it(w,T.collectionRef);return s.jsx(c,{ref:C,children:A})});u.displayName=l;const f=e+"CollectionItemSlot",m="data-radix-collection-item",p=OO(f),g=Z.forwardRef((y,w)=>{const{scope:N,children:A,...T}=y,C=Z.useRef(null),S=it(w,C),E=i(f,N);return Z.useEffect(()=>(E.itemMap.set(C,{ref:C,...T}),()=>void E.itemMap.delete(C))),s.jsx(p,{[m]:"",ref:S,children:A})});g.displayName=f;function v(y){const w=i(e+"CollectionConsumer",y);return Z.useCallback(()=>{const A=w.collectionRef.current;if(!A)return[];const T=Array.from(A.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((E,O)=>T.indexOf(E.ref.current)-T.indexOf(O.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},v,r]}var Cue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],qo=Cue.reduce((e,t)=>{const n=OO(`Primitive.${t}`),r=j.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function lW(e,t){e&&Ul.flushSync(()=>e.dispatchEvent(t))}function Pn(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...n)=>t.current?.(...n),[])}function cW(e,t=globalThis?.document){const n=Pn(e);j.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var kue="DismissableLayer",PO="dismissableLayer.update",Tue="dismissableLayer.pointerDownOutside",Aue="dismissableLayer.focusOutside",aF,dW=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uW=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=j.useContext(dW),[f,m]=j.useState(null),p=f?.ownerDocument??globalThis?.document,[,g]=j.useState({}),v=it(t,O=>m(O)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),N=y.indexOf(w),A=f?y.indexOf(f):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,C=A>=N,S=Oue(O=>{const _=O.target,M=[...u.branches].some($=>$.contains(_));!C||M||(a?.(O),o?.(O),O.defaultPrevented||l?.())},p),E=Pue(O=>{const _=O.target;[...u.branches].some($=>$.contains(_))||(i?.(O),o?.(O),O.defaultPrevented||l?.())},p);return cW(O=>{A===u.layers.size-1&&(r?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},p),j.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(aF=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),iF(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=aF)}},[f,p,n,u]),j.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),iF())},[f,u]),j.useEffect(()=>{const O=()=>g({});return document.addEventListener(PO,O),()=>document.removeEventListener(PO,O)},[]),s.jsx(qo.div,{...c,ref:v,style:{pointerEvents:T?C?"auto":"none":void 0,...e.style},onFocusCapture:Pa(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Pa(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Pa(e.onPointerDownCapture,S.onPointerDownCapture)})});uW.displayName=kue;var Eue="DismissableLayerBranch",fW=j.forwardRef((e,t)=>{const n=j.useContext(dW),r=j.useRef(null),a=it(t,r);return j.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(qo.div,{...e,ref:a})});fW.displayName=Eue;function Oue(e,t=globalThis?.document){const n=Pn(e),r=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){hW(Tue,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Pue(e,t=globalThis?.document){const n=Pn(e),r=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!r.current&&hW(Aue,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function iF(){const e=new CustomEvent(PO);document.dispatchEvent(e)}function hW(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?lW(a,i):a.dispatchEvent(i)}var Mue=uW,_ue=fW,Zt=globalThis?.document?j.useLayoutEffect:()=>{},Rue="Portal",mW=j.forwardRef((e,t)=>{const{container:n,...r}=e,[a,i]=j.useState(!1);Zt(()=>i(!0),[]);const o=n||a&&globalThis?.document?.body;return o?KM.createPortal(s.jsx(qo.div,{...r,ref:t}),o):null});mW.displayName=Rue;function Due(e,t){return j.useReducer((n,r)=>t[n][r]??n,e)}var pW=e=>{const{present:t,children:n}=e,r=Iue(t),a=typeof n=="function"?n({present:r.isPresent}):j.Children.only(n),i=it(r.ref,Lue(a));return typeof n=="function"||r.isPresent?j.cloneElement(a,{ref:i}):null};pW.displayName="Presence";function Iue(e){const[t,n]=j.useState(),r=j.useRef({}),a=j.useRef(e),i=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Due(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=Xv(r.current);i.current=l==="mounted"?u:"none"},[l]),Zt(()=>{const u=r.current,f=a.current;if(f!==e){const p=i.current,g=Xv(u);e?c("MOUNT"):g==="none"||u?.display==="none"?c("UNMOUNT"):c(f&&p!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Zt(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,m=g=>{const y=Xv(r.current).includes(g.animationName);if(g.target===t&&y&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=g=>{g.target===t&&(i.current=Xv(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Xv(e){return e?.animationName||"none"}function Lue(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function $ue({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=Fue({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,l=Pn(n),c=j.useCallback(u=>{if(i){const m=typeof u=="function"?u(e):u;m!==e&&l(m)}else a(u)},[i,e,a,l]);return[o,c]}function Fue({defaultProp:e,onChange:t}){const n=j.useState(e),[r]=n,a=j.useRef(r),i=Pn(t);return j.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}var Bue="VisuallyHidden",WM=j.forwardRef((e,t)=>s.jsx(qo.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));WM.displayName=Bue;var GM="ToastProvider",[YM,zue,que]=Sue("Toast"),[xW]=ss("Toast",[que]),[Uue,qw]=xW(GM),gW=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=j.useState(null),[u,f]=j.useState(0),m=j.useRef(!1),p=j.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${GM}\`. Expected non-empty \`string\`.`),s.jsx(YM.Provider,{scope:t,children:s.jsx(Uue,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:j.useCallback(()=>f(g=>g+1),[]),onToastRemove:j.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:p,children:o})})};gW.displayName=GM;var yW="ToastViewport",Vue=["F8"],MO="toast.viewportPause",_O="toast.viewportResume",vW=j.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Vue,label:a="Notifications ({hotkey})",...i}=e,o=qw(yW,n),l=zue(n),c=j.useRef(null),u=j.useRef(null),f=j.useRef(null),m=j.useRef(null),p=it(t,m,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;j.useEffect(()=>{const w=N=>{r.length!==0&&r.every(T=>N[T]||N.code===T)&&m.current?.focus()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),j.useEffect(()=>{const w=c.current,N=m.current;if(v&&w&&N){const A=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(MO);N.dispatchEvent(E),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(_O);N.dispatchEvent(E),o.isClosePausedRef.current=!1}},C=E=>{!w.contains(E.relatedTarget)&&T()},S=()=>{w.contains(document.activeElement)||T()};return w.addEventListener("focusin",A),w.addEventListener("focusout",C),w.addEventListener("pointermove",A),w.addEventListener("pointerleave",S),window.addEventListener("blur",A),window.addEventListener("focus",T),()=>{w.removeEventListener("focusin",A),w.removeEventListener("focusout",C),w.removeEventListener("pointermove",A),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",A),window.removeEventListener("focus",T)}}},[v,o.isClosePausedRef]);const y=j.useCallback(({tabbingDirection:w})=>{const A=l().map(T=>{const C=T.ref.current,S=[C,...rfe(C)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?A.reverse():A).flat()},[l]);return j.useEffect(()=>{const w=m.current;if(w){const N=A=>{const T=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!T){const S=document.activeElement,E=A.shiftKey;if(A.target===w&&E){u.current?.focus();return}const M=y({tabbingDirection:E?"backwards":"forwards"}),$=M.findIndex(z=>z===S);Z2(M.slice($+1))?A.preventDefault():E?u.current?.focus():f.current?.focus()}};return w.addEventListener("keydown",N),()=>w.removeEventListener("keydown",N)}},[l,y]),s.jsxs(_ue,{ref:c,role:"region","aria-label":a.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&s.jsx(RO,{ref:u,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});Z2(w)}}),s.jsx(YM.Slot,{scope:n,children:s.jsx(qo.ol,{tabIndex:-1,...i,ref:p})}),v&&s.jsx(RO,{ref:f,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});Z2(w)}})]})});vW.displayName=yW;var bW="ToastFocusProxy",RO=j.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=qw(bW,n);return s.jsx(WM,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!i.viewport?.contains(l)&&r()}})});RO.displayName=bW;var Uw="Toast",Hue="toast.swipeStart",Kue="toast.swipeMove",Wue="toast.swipeCancel",Gue="toast.swipeEnd",jW=j.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=$ue({prop:r,defaultProp:a,onChange:i});return s.jsx(pW,{present:n||l,children:s.jsx(Que,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Pn(e.onPause),onResume:Pn(e.onResume),onSwipeStart:Pa(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pa(e.onSwipeMove,u=>{const{x:f,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Pa(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pa(e.onSwipeEnd,u=>{const{x:f,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});jW.displayName=Uw;var[Yue,Xue]=xW(Uw,{onClose(){}}),Que=j.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:p,onSwipeEnd:g,...v}=e,y=qw(Uw,n),[w,N]=j.useState(null),A=it(t,F=>N(F)),T=j.useRef(null),C=j.useRef(null),S=a||y.duration,E=j.useRef(0),O=j.useRef(S),_=j.useRef(0),{onToastAdd:M,onToastRemove:$}=y,z=Pn(()=>{w?.contains(document.activeElement)&&y.viewport?.focus(),o()}),V=j.useCallback(F=>{!F||F===1/0||(window.clearTimeout(_.current),E.current=new Date().getTime(),_.current=window.setTimeout(z,F))},[z]);j.useEffect(()=>{const F=y.viewport;if(F){const K=()=>{V(O.current),u?.()},R=()=>{const B=new Date().getTime()-E.current;O.current=O.current-B,window.clearTimeout(_.current),c?.()};return F.addEventListener(MO,R),F.addEventListener(_O,K),()=>{F.removeEventListener(MO,R),F.removeEventListener(_O,K)}}},[y.viewport,S,c,u,V]),j.useEffect(()=>{i&&!y.isClosePausedRef.current&&V(S)},[i,S,y.isClosePausedRef,V]),j.useEffect(()=>(M(),()=>$()),[M,$]);const I=j.useMemo(()=>w?AW(w):null,[w]);return y.viewport?s.jsxs(s.Fragment,{children:[I&&s.jsx(Jue,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),s.jsx(Yue,{scope:n,onClose:z,children:Ul.createPortal(s.jsx(YM.ItemSlot,{scope:n,children:s.jsx(Mue,{asChild:!0,onEscapeKeyDown:Pa(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||z(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(qo.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:A,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Pa(e.onKeyDown,F=>{F.key==="Escape"&&(l?.(F.nativeEvent),F.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:Pa(e.onPointerDown,F=>{F.button===0&&(T.current={x:F.clientX,y:F.clientY})}),onPointerMove:Pa(e.onPointerMove,F=>{if(!T.current)return;const K=F.clientX-T.current.x,R=F.clientY-T.current.y,B=!!C.current,L=["left","right"].includes(y.swipeDirection),q=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,se=L?q(0,K):0,H=L?0:q(0,R),Y=F.pointerType==="touch"?10:2,G={x:se,y:H},X={originalEvent:F,delta:G};B?(C.current=G,Qv(Kue,m,X,{discrete:!1})):oF(G,y.swipeDirection,Y)?(C.current=G,Qv(Hue,f,X,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(K)>Y||Math.abs(R)>Y)&&(T.current=null)}),onPointerUp:Pa(e.onPointerUp,F=>{const K=C.current,R=F.target;if(R.hasPointerCapture(F.pointerId)&&R.releasePointerCapture(F.pointerId),C.current=null,T.current=null,K){const B=F.currentTarget,L={originalEvent:F,delta:K};oF(K,y.swipeDirection,y.swipeThreshold)?Qv(Gue,g,L,{discrete:!0}):Qv(Wue,p,L,{discrete:!0}),B.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Jue=e=>{const{__scopeToast:t,children:n,...r}=e,a=qw(Uw,t),[i,o]=j.useState(!1),[l,c]=j.useState(!1);return tfe(()=>o(!0)),j.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(mW,{asChild:!0,children:s.jsx(WM,{...r,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",n]})})})},Zue="ToastTitle",wW=j.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(qo.div,{...r,ref:t})});wW.displayName=Zue;var efe="ToastDescription",NW=j.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(qo.div,{...r,ref:t})});NW.displayName=efe;var SW="ToastAction",CW=j.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(TW,{altText:n,asChild:!0,children:s.jsx(XM,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${SW}\`. Expected non-empty \`string\`.`),null)});CW.displayName=SW;var kW="ToastClose",XM=j.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=Xue(kW,n);return s.jsx(TW,{asChild:!0,children:s.jsx(qo.button,{type:"button",...r,ref:t,onClick:Pa(e.onClick,a.onClose)})})});XM.displayName=kW;var TW=j.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return s.jsx(qo.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function AW(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),nfe(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...AW(r))}}),t}function Qv(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?lW(a,i):a.dispatchEvent(i)}var oF=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return t==="left"||t==="right"?i&&r>n:!i&&a>n};function tfe(e=()=>{}){const t=Pn(e);Zt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function nfe(e){return e.nodeType===e.ELEMENT_NODE}function rfe(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Z2(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var sfe=gW,EW=vW,OW=jW,PW=wW,MW=NW,_W=CW,RW=XM;function DW(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=DW(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ct(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=DW(e))&&(r&&(r+=" "),r+=t);return r}const lF=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cF=Ct,im=(e,t)=>n=>{var r;if(t?.variants==null)return cF(e,n?.class,n?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const f=n?.[u],m=i?.[u];if(f===null)return null;const p=lF(f)||lF(m);return a[u][p]}),l=n&&Object.entries(n).reduce((u,f)=>{let[m,p]=f;return p===void 0||(u[m]=p),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:m,className:p,...g}=f;return Object.entries(g).every(v=>{let[y,w]=v;return Array.isArray(w)?w.includes({...i,...l}[y]):{...i,...l}[y]===w})?[...u,m,p]:u},[]);return cF(e,o,c,n?.class,n?.className)};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const afe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ife=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),dF=e=>{const t=ife(e);return t.charAt(0).toUpperCase()+t.slice(1)},IW=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),ofe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>j.createElement("svg",{ref:c,...lfe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:IW("lucide",a),...!i&&!ofe(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,f])=>j.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const n=j.forwardRef(({className:r,...a},i)=>j.createElement(cfe,{ref:i,iconNode:t,className:IW(`lucide-${afe(dF(e))}`,`lucide-${e}`,r),...a}));return n.displayName=dF(e),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dfe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Il=pe("activity",dfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ufe=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],ffe=pe("archive-restore",ufe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hfe=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],uF=pe("archive",hfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mfe=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],pfe=pe("arrow-down-right",mfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xfe=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],fh=pe("arrow-down-to-line",xfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gfe=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],yfe=pe("arrow-down",gfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vfe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],As=pe("arrow-left",vfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],jfe=pe("arrow-right-left",bfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wfe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Jp=pe("arrow-right",wfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nfe=[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]],g0=pe("arrow-up-from-line",Nfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sfe=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],LW=pe("arrow-up-right",Sfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cfe=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zx=pe("ban",Cfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kfe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],_o=pe("bell",kfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tfe=[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]],fi=pe("bitcoin",Tfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Afe=[["path",{d:"M10 22V7a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5a1 1 0 0 0-1-1H2",key:"1ah6g2"}],["rect",{x:"14",y:"2",width:"8",height:"8",rx:"1",key:"88lufb"}]],$W=pe("blocks",Afe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Efe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Ofe=pe("bold",Efe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],qx=pe("book-open",Pfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mfe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],_fe=pe("bot",Mfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rfe=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],hh=pe("briefcase",Rfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dfe=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],er=pe("building-2",Dfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ife=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],FW=pe("building",Ife);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lfe=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],$fe=pe("calendar-plus",Lfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ffe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Vw=pe("calendar",Ffe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bfe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],DO=pe("chart-column",Bfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],mh=pe("chart-no-axes-column",zfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qfe=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],QM=pe("check-check",qfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ufe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bt=pe("check",Ufe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vfe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],fa=pe("chevron-down",Vfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],BW=pe("chevron-left",Hfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kfe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hc=pe("chevron-right",Kfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Gfe=pe("chevron-up",Wfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Kn=pe("circle-alert",Yfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Vs=pe("circle-check",Xfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qfe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Gn=pe("circle-check-big",Qfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Sl=pe("circle-question-mark",Jfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ts=pe("circle-x",Zfe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zW=pe("circle",ehe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Yt=pe("clock",the);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nhe=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Yn=pe("copy",nhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rhe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],On=pe("credit-card",rhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const she=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ahe=pe("crown",she);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ux=pe("database",ihe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ohe=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Sn=pe("dollar-sign",ohe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Wi=pe("download",lhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],dhe=pe("ellipsis-vertical",che);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uhe=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ph=pe("external-link",uhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fhe=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ca=pe("eye-off",fhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hhe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ur=pe("eye",hhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mhe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],eC=pe("file-spreadsheet",mhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],gi=pe("file-text",phe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xhe=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],IO=pe("fingerprint",xhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ghe=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],yhe=pe("flag",ghe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vhe=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],bhe=pe("folder-open",vhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jhe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Gg=pe("funnel",jhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const whe=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Nhe=pe("gift",whe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const She=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],JM=pe("git-branch",She);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Che=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],jn=pe("globe",Che);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const khe=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],The=pe("heading-1",khe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ahe=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Ehe=pe("heading-2",Ahe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ohe=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],Phe=pe("heading-3",Ohe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mhe=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],qW=pe("headphones",Mhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _he=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Kb=pe("history",_he);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rhe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],UW=pe("image",Rhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],VW=pe("info",Dhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ihe=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Lhe=pe("italic",Ihe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $he=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],tC=pe("key-round",$he);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fhe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Da=pe("key",Fhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bhe=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],eh=pe("layout-dashboard",Bhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zhe=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],HW=pe("lightbulb",zhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qhe=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],ZM=pe("link-2",qhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uhe=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Yg=pe("link",Uhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vhe=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Hhe=pe("list-ordered",Vhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Khe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Whe=pe("list",Khe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ghe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],we=pe("loader-circle",Ghe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yhe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],KW=pe("log-out",Yhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xhe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ns=pe("lock",Xhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qhe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ji=pe("mail",Qhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jhe=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],fF=pe("map",Jhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zhe=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],e_=pe("megaphone",Zhe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eme=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],WW=pe("menu",eme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tme=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],y0=pe("message-circle",tme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nme=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Hw=pe("message-square",nme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rme=[["path",{d:"M5 12h14",key:"1ays0h"}]],LO=pe("minus",rme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sme=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],hF=pe("monitor",sme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ame=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],mF=pe("moon",ame);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ime=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],v0=pe("mouse-pointer-2",ime);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ome=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],lme=pe("mouse-pointer-click",ome);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cme=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],t_=pe("mouse-pointer",cme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dme=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],Ia=pe("newspaper",dme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ume=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],pF=pe("package",ume);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fme=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],n_=pe("palette",fme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hme=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],$O=pe("pause",hme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mme=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],pme=pe("pen",mme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xme=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],GW=pe("pencil",xme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gme=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],yme=pe("percent",gme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vme=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],om=pe("phone",vme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bme=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],jme=pe("pin",bme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wme=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Kc=pe("play",wme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nme=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fr=pe("plus",Nme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sme=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Cme=pe("quote",Sme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kme=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Br=pe("refresh-cw",kme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tme=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Ame=pe("repeat",Tme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eme=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Es=pe("save",Eme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ome=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zi=pe("search",Ome);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pme=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],dr=pe("send",Pme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mme=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],_me=pe("settings-2",Mme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rme=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gi=pe("settings",Rme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dme=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Ime=pe("share-2",Dme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lme=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],YW=pe("shield-alert",Lme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $me=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nC=pe("shield-check",$me);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fme=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fn=pe("shield",Fme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bme=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],b0=pe("smartphone",Bme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zme=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],r_=pe("sparkles",zme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qme=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xF=pe("square-check-big",qme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ume=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],s_=pe("square-pen",Ume);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vme=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],FO=pe("star",Vme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hme=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],Kme=pe("strikethrough",Hme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wme=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],gF=pe("sun",Wme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gme=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],xh=pe("tag",Gme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ro=pe("target",Yme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xme=[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]],a_=pe("test-tube-diagonal",Xme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qme=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Jme=pe("terminal",Qme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zme=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],epe=pe("test-tube",Zme);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tpe=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],npe=pe("text-align-center",tpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],spe=pe("text-align-end",rpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ape=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],ipe=pe("text-align-start",ape);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ope=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],lpe=pe("timer",ope);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cpe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Os=pe("trash-2",cpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dpe=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],upe=pe("trending-down",dpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fpe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],qr=pe("trending-up",fpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hpe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ui=pe("triangle-alert",hpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mpe=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],ppe=pe("underline",mpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xpe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],du=pe("upload",xpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gpe=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zp=pe("user-check",gpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ype=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Do=pe("user-plus",ype);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vpe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],rC=pe("user-x",vpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bpe=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],Ea=pe("users-round",bpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jpe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pn=pe("users",jpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wpe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Or=pe("user",wpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Npe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Qr=pe("wallet",Npe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Spe=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],i_=pe("webhook",Spe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cpe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xn=pe("x",Cpe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kpe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],BO=pe("zap",kpe),Tpe=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},Ape=(e,t)=>({classGroupId:e,validator:t}),XW=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),j0="-",yF=[],Epe="arbitrary..",Ope=e=>{const t=Mpe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return Ppe(o);const l=o.split(j0),c=l[0]===""&&l.length>1?1:0;return QW(l,c,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=r[o],u=n[o];return c?u?Tpe(u,c):c:u||yF}return n[o]||yF}}},QW=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const a=e[t],i=n.nextPart.get(a);if(i){const u=QW(e,t+1,i);if(u)return u}const o=n.validators;if(o===null)return;const l=t===0?e.join(j0):e.slice(t).join(j0),c=o.length;for(let u=0;u<c;u++){const f=o[u];if(f.validator(l))return f.classGroupId}},Ppe=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?Epe+r:void 0})(),Mpe=e=>{const{theme:t,classGroups:n}=e;return _pe(n,t)},_pe=(e,t)=>{const n=XW();for(const r in e){const a=e[r];o_(a,n,r,t)}return n},o_=(e,t,n,r)=>{const a=e.length;for(let i=0;i<a;i++){const o=e[i];Rpe(o,t,n,r)}},Rpe=(e,t,n,r)=>{if(typeof e=="string"){Dpe(e,t,n);return}if(typeof e=="function"){Ipe(e,t,n,r);return}Lpe(e,t,n,r)},Dpe=(e,t,n)=>{const r=e===""?t:JW(t,e);r.classGroupId=n},Ipe=(e,t,n,r)=>{if($pe(e)){o_(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(Ape(n,e))},Lpe=(e,t,n,r)=>{const a=Object.entries(e),i=a.length;for(let o=0;o<i;o++){const[l,c]=a[o];o_(c,JW(t,l),n,r)}},JW=(e,t)=>{let n=e;const r=t.split(j0),a=r.length;for(let i=0;i<a;i++){const o=r[i];let l=n.nextPart.get(o);l||(l=XW(),n.nextPart.set(o,l)),n=l}return n},$pe=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Fpe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const a=(i,o)=>{n[i]=o,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(i){let o=n[i];if(o!==void 0)return o;if((o=r[i])!==void 0)return a(i,o),o},set(i,o){i in n?n[i]=o:a(i,o)}}},zO="!",vF=":",Bpe=[],bF=(e,t,n,r,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),zpe=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=a=>{const i=[];let o=0,l=0,c=0,u;const f=a.length;for(let y=0;y<f;y++){const w=a[y];if(o===0&&l===0){if(w===vF){i.push(a.slice(c,y)),c=y+1;continue}if(w==="/"){u=y;continue}}w==="["?o++:w==="]"?o--:w==="("?l++:w===")"&&l--}const m=i.length===0?a:a.slice(c);let p=m,g=!1;m.endsWith(zO)?(p=m.slice(0,-1),g=!0):m.startsWith(zO)&&(p=m.slice(1),g=!0);const v=u&&u>c?u-c:void 0;return bF(i,g,p,v)};if(t){const a=t+vF,i=r;r=o=>o.startsWith(a)?i(o.slice(a.length)):bF(Bpe,!1,o,void 0,!0)}if(n){const a=r;r=i=>n({className:i,parseClassName:a})}return r},qpe=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let i=0;i<n.length;i++){const o=n[i],l=o[0]==="[",c=t.has(o);l||c?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(o)):a.push(o)}return a.length>0&&(a.sort(),r.push(...a)),r}},Upe=e=>({cache:Fpe(e.cacheSize),parseClassName:zpe(e),sortModifiers:qpe(e),...Ope(e)}),Vpe=/\s+/,Hpe=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(Vpe);let c="";for(let u=l.length-1;u>=0;u-=1){const f=l[u],{isExternal:m,modifiers:p,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}=n(f);if(m){c=f+(c.length>0?" "+c:c);continue}let w=!!y,N=r(w?v.substring(0,y):v);if(!N){if(!w){c=f+(c.length>0?" "+c:c);continue}if(N=r(v),!N){c=f+(c.length>0?" "+c:c);continue}w=!1}const A=p.length===0?"":p.length===1?p[0]:i(p).join(":"),T=g?A+zO:A,C=T+N;if(o.indexOf(C)>-1)continue;o.push(C);const S=a(N,w);for(let E=0;E<S.length;++E){const O=S[E];o.push(T+O)}c=f+(c.length>0?" "+c:c)}return c},Kpe=(...e)=>{let t=0,n,r,a="";for(;t<e.length;)(n=e[t++])&&(r=ZW(n))&&(a&&(a+=" "),a+=r);return a},ZW=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=ZW(e[r]))&&(n&&(n+=" "),n+=t);return n},Wpe=(e,...t)=>{let n,r,a,i;const o=c=>{const u=t.reduce((f,m)=>m(f),e());return n=Upe(u),r=n.cache.get,a=n.cache.set,i=l,l(c)},l=c=>{const u=r(c);if(u)return u;const f=Hpe(c,n);return a(c,f),f};return i=o,(...c)=>i(Kpe(...c))},Gpe=[],Ir=e=>{const t=n=>n[e]||Gpe;return t.isThemeGetter=!0,t},eG=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,tG=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ype=/^\d+\/\d+$/,Xpe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qpe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Jpe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Zpe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,exe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cf=e=>Ype.test(e),Pt=e=>!!e&&!Number.isNaN(Number(e)),jc=e=>!!e&&Number.isInteger(Number(e)),sC=e=>e.endsWith("%")&&Pt(e.slice(0,-1)),hl=e=>Xpe.test(e),txe=()=>!0,nxe=e=>Qpe.test(e)&&!Jpe.test(e),nG=()=>!1,rxe=e=>Zpe.test(e),sxe=e=>exe.test(e),axe=e=>!He(e)&&!Ke(e),ixe=e=>lm(e,aG,nG),He=e=>eG.test(e),Ad=e=>lm(e,iG,nxe),aC=e=>lm(e,uxe,Pt),jF=e=>lm(e,rG,nG),oxe=e=>lm(e,sG,sxe),Jv=e=>lm(e,oG,rxe),Ke=e=>tG.test(e),Ap=e=>cm(e,iG),lxe=e=>cm(e,fxe),wF=e=>cm(e,rG),cxe=e=>cm(e,aG),dxe=e=>cm(e,sG),Zv=e=>cm(e,oG,!0),lm=(e,t,n)=>{const r=eG.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},cm=(e,t,n=!1)=>{const r=tG.exec(e);return r?r[1]?t(r[1]):n:!1},rG=e=>e==="position"||e==="percentage",sG=e=>e==="image"||e==="url",aG=e=>e==="length"||e==="size"||e==="bg-size",iG=e=>e==="length",uxe=e=>e==="number",fxe=e=>e==="family-name",oG=e=>e==="shadow",hxe=()=>{const e=Ir("color"),t=Ir("font"),n=Ir("text"),r=Ir("font-weight"),a=Ir("tracking"),i=Ir("leading"),o=Ir("breakpoint"),l=Ir("container"),c=Ir("spacing"),u=Ir("radius"),f=Ir("shadow"),m=Ir("inset-shadow"),p=Ir("text-shadow"),g=Ir("drop-shadow"),v=Ir("blur"),y=Ir("perspective"),w=Ir("aspect"),N=Ir("ease"),A=Ir("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...C(),Ke,He],E=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],_=()=>[Ke,He,c],M=()=>[Cf,"full","auto",..._()],$=()=>[jc,"none","subgrid",Ke,He],z=()=>["auto",{span:["full",jc,Ke,He]},jc,Ke,He],V=()=>[jc,"auto",Ke,He],I=()=>["auto","min","max","fr",Ke,He],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],R=()=>["auto",..._()],B=()=>[Cf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],L=()=>[e,Ke,He],q=()=>[...C(),wF,jF,{position:[Ke,He]}],se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",cxe,ixe,{size:[Ke,He]}],Y=()=>[sC,Ap,Ad],G=()=>["","none","full",u,Ke,He],X=()=>["",Pt,Ap,Ad],ae=()=>["solid","dashed","dotted","double"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[Pt,sC,wF,jF],Fe=()=>["","none",v,Ke,He],ge=()=>["none",Pt,Ke,He],Ae=()=>["none",Pt,Ke,He],_e=()=>[Pt,Ke,He],ee=()=>[Cf,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hl],breakpoint:[hl],color:[txe],container:[hl],"drop-shadow":[hl],ease:["in","out","in-out"],font:[axe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hl],shadow:[hl],spacing:["px",Pt],text:[hl],"text-shadow":[hl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Cf,He,Ke,w]}],container:["container"],columns:[{columns:[Pt,He,Ke,l]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[jc,"auto",Ke,He]}],basis:[{basis:[Cf,"full","auto",l,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pt,Cf,"auto","initial","none",He]}],grow:[{grow:["",Pt,Ke,He]}],shrink:[{shrink:["",Pt,Ke,He]}],order:[{order:[jc,"first","last","none",Ke,He]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[l,"screen",...B()]}],"min-w":[{"min-w":[l,"screen","none",...B()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",n,Ap,Ad]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ke,aC]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",sC,He]}],"font-family":[{font:[lxe,He,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ke,He]}],"line-clamp":[{"line-clamp":[Pt,"none",Ke,aC]}],leading:[{leading:[i,..._()]}],"list-image":[{"list-image":["none",Ke,He]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ke,He]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pt,"from-font","auto",Ke,Ad]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[Pt,"auto",Ke,He]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke,He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke,He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:q()}],"bg-repeat":[{bg:se()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},jc,Ke,He],radial:["",Ke,He],conic:[jc,Ke,He]},dxe,oxe]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pt,Ke,He]}],"outline-w":[{outline:["",Pt,Ap,Ad]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",f,Zv,Jv]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",m,Zv,Jv]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[Pt,Ad]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",p,Zv,Jv]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[Pt,Ke,He]}],"mix-blend":[{"mix-blend":[...de(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":de()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[Ke,He]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:q()}],"mask-repeat":[{mask:se()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ke,He]}],filter:[{filter:["","none",Ke,He]}],blur:[{blur:Fe()}],brightness:[{brightness:[Pt,Ke,He]}],contrast:[{contrast:[Pt,Ke,He]}],"drop-shadow":[{"drop-shadow":["","none",g,Zv,Jv]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",Pt,Ke,He]}],"hue-rotate":[{"hue-rotate":[Pt,Ke,He]}],invert:[{invert:["",Pt,Ke,He]}],saturate:[{saturate:[Pt,Ke,He]}],sepia:[{sepia:["",Pt,Ke,He]}],"backdrop-filter":[{"backdrop-filter":["","none",Ke,He]}],"backdrop-blur":[{"backdrop-blur":Fe()}],"backdrop-brightness":[{"backdrop-brightness":[Pt,Ke,He]}],"backdrop-contrast":[{"backdrop-contrast":[Pt,Ke,He]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pt,Ke,He]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pt,Ke,He]}],"backdrop-invert":[{"backdrop-invert":["",Pt,Ke,He]}],"backdrop-opacity":[{"backdrop-opacity":[Pt,Ke,He]}],"backdrop-saturate":[{"backdrop-saturate":[Pt,Ke,He]}],"backdrop-sepia":[{"backdrop-sepia":["",Pt,Ke,He]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ke,He]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pt,"initial",Ke,He]}],ease:[{ease:["linear","initial",N,Ke,He]}],delay:[{delay:[Pt,Ke,He]}],animate:[{animate:["none",A,Ke,He]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Ke,He]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:ge()}],"rotate-x":[{"rotate-x":ge()}],"rotate-y":[{"rotate-y":ge()}],"rotate-z":[{"rotate-z":ge()}],scale:[{scale:Ae()}],"scale-x":[{"scale-x":Ae()}],"scale-y":[{"scale-y":Ae()}],"scale-z":[{"scale-z":Ae()}],"scale-3d":["scale-3d"],skew:[{skew:_e()}],"skew-x":[{"skew-x":_e()}],"skew-y":[{"skew-y":_e()}],transform:[{transform:[Ke,He,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ee()}],"translate-x":[{"translate-x":ee()}],"translate-y":[{"translate-y":ee()}],"translate-z":[{"translate-z":ee()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke,He]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke,He]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[Pt,Ap,Ad,aC]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},mxe=Wpe(hxe);function Re(...e){return mxe(Ct(e))}const pxe={USD:"$",EUR:"",RUB:"",GBP:"",USDT:"",BTC:"",ETH:""};function Hs(e){return e?pxe[e.toUpperCase()]||e:"$"}function Xe(e,t){if(e==null)return"";const n=typeof e=="string"?parseFloat(e):e;return isNaN(n)?"":`${Hs(t)}${n.toFixed(2)}`}function Ol(e){return e.landings?.[0]?.currency||"USD"}const xxe=sfe,lG=j.forwardRef(({className:e,...t},n)=>s.jsx(EW,{ref:n,className:Re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));lG.displayName=EW.displayName;const gxe=im("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),cG=j.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(OW,{ref:r,className:Re(gxe({variant:t}),e),...n}));cG.displayName=OW.displayName;const yxe=j.forwardRef(({className:e,...t},n)=>s.jsx(_W,{ref:n,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));yxe.displayName=_W.displayName;const dG=j.forwardRef(({className:e,...t},n)=>s.jsx(RW,{ref:n,className:Re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Xn,{className:"h-4 w-4"})}));dG.displayName=RW.displayName;const uG=j.forwardRef(({className:e,...t},n)=>s.jsx(PW,{ref:n,className:Re("text-sm font-semibold",e),...t}));uG.displayName=PW.displayName;const fG=j.forwardRef(({className:e,...t},n)=>s.jsx(MW,{ref:n,className:Re("text-sm opacity-90",e),...t}));fG.displayName=MW.displayName;function vxe(){const{toasts:e}=Dt();return s.jsxs(xxe,{children:[e.map(function({id:t,title:n,description:r,action:a,...i}){return s.jsxs(cG,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(uG,{children:n}),r&&s.jsx(fG,{children:r})]}),a,s.jsx(dG,{})]},t)}),s.jsx(lG,{})]})}function kf(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function iC(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function bxe(e){const t=jxe(e),n=j.forwardRef((r,a)=>{const{children:i,...o}=r,l=j.Children.toArray(i),c=l.find(Nxe);if(c){const u=c.props.children,f=l.map(m=>m===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function jxe(e){const t=j.forwardRef((n,r)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=Cxe(a),l=Sxe(i,a.props);return a.type!==j.Fragment&&(l.ref=r?io(r,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wxe=Symbol("radix.slottable");function Nxe(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wxe}function Sxe(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function Cxe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kxe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Je=kxe.reduce((e,t)=>{const n=bxe(`Primitive.${t}`),r=j.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function hG(e,t){e&&Ul.flushSync(()=>e.dispatchEvent(t))}var Txe="DismissableLayer",qO="dismissableLayer.update",Axe="dismissableLayer.pointerDownOutside",Exe="dismissableLayer.focusOutside",NF,mG=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dm=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=j.useContext(mG),[f,m]=j.useState(null),p=f?.ownerDocument??globalThis?.document,[,g]=j.useState({}),v=it(t,O=>m(O)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),N=y.indexOf(w),A=f?y.indexOf(f):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,C=A>=N,S=Mxe(O=>{const _=O.target,M=[...u.branches].some($=>$.contains(_));!C||M||(a?.(O),o?.(O),O.defaultPrevented||l?.())},p),E=_xe(O=>{const _=O.target;[...u.branches].some($=>$.contains(_))||(i?.(O),o?.(O),O.defaultPrevented||l?.())},p);return cW(O=>{A===u.layers.size-1&&(r?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},p),j.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(NF=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),SF(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=NF)}},[f,p,n,u]),j.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),SF())},[f,u]),j.useEffect(()=>{const O=()=>g({});return document.addEventListener(qO,O),()=>document.removeEventListener(qO,O)},[]),s.jsx(Je.div,{...c,ref:v,style:{pointerEvents:T?C?"auto":"none":void 0,...e.style},onFocusCapture:iC(e.onFocusCapture,E.onFocusCapture),onBlurCapture:iC(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:iC(e.onPointerDownCapture,S.onPointerDownCapture)})});dm.displayName=Txe;var Oxe="DismissableLayerBranch",Pxe=j.forwardRef((e,t)=>{const n=j.useContext(mG),r=j.useRef(null),a=it(t,r);return j.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(Je.div,{...e,ref:a})});Pxe.displayName=Oxe;function Mxe(e,t=globalThis?.document){const n=Pn(e),r=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){pG(Axe,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function _xe(e,t=globalThis?.document){const n=Pn(e),r=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!r.current&&pG(Exe,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function SF(){const e=new CustomEvent(qO);document.dispatchEvent(e)}function pG(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?hG(a,i):a.dispatchEvent(i)}var Rxe=pa[" useId ".trim().toString()]||(()=>{}),Dxe=0;function Ts(e){const[t,n]=j.useState(Rxe());return Zt(()=>{n(r=>r??String(Dxe++))},[e]),t?`radix-${t}`:""}const xG=["top","right","bottom","left"],CF=["start","end"],kF=xG.reduce((e,t)=>e.concat(t,t+"-"+CF[0],t+"-"+CF[1]),[]),eo=Math.min,Ns=Math.max,w0=Math.round,eb=Math.floor,To=e=>({x:e,y:e}),Ixe={left:"right",right:"left",bottom:"top",top:"bottom"},Lxe={start:"end",end:"start"};function UO(e,t,n){return Ns(e,eo(t,n))}function to(e,t){return typeof e=="function"?e(t):e}function qa(e){return e.split("-")[0]}function Yi(e){return e.split("-")[1]}function l_(e){return e==="x"?"y":"x"}function c_(e){return e==="y"?"height":"width"}const $xe=new Set(["top","bottom"]);function Vi(e){return $xe.has(qa(e))?"y":"x"}function d_(e){return l_(Vi(e))}function gG(e,t,n){n===void 0&&(n=!1);const r=Yi(e),a=d_(e),i=c_(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=S0(o)),[o,S0(o)]}function Fxe(e){const t=S0(e);return[N0(e),t,N0(t)]}function N0(e){return e.replace(/start|end/g,t=>Lxe[t])}const TF=["left","right"],AF=["right","left"],Bxe=["top","bottom"],zxe=["bottom","top"];function qxe(e,t,n){switch(e){case"top":case"bottom":return n?t?AF:TF:t?TF:AF;case"left":case"right":return t?Bxe:zxe;default:return[]}}function Uxe(e,t,n,r){const a=Yi(e);let i=qxe(qa(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(N0)))),i}function S0(e){return e.replace(/left|right|bottom|top/g,t=>Ixe[t])}function Vxe(e){return{top:0,right:0,bottom:0,left:0,...e}}function u_(e){return typeof e!="number"?Vxe(e):{top:e,right:e,bottom:e,left:e}}function gh(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function EF(e,t,n){let{reference:r,floating:a}=e;const i=Vi(t),o=d_(t),l=c_(o),c=qa(t),u=i==="y",f=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,p=r[l]/2-a[l]/2;let g;switch(c){case"top":g={x:f,y:r.y-a.height};break;case"bottom":g={x:f,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:m};break;case"left":g={x:r.x-a.width,y:m};break;default:g={x:r.x,y:r.y}}switch(Yi(t)){case"start":g[o]-=p*(n&&u?-1:1);break;case"end":g[o]+=p*(n&&u?-1:1);break}return g}const Hxe=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:m}=EF(u,r,c),p=r,g={},v=0;for(let y=0;y<l.length;y++){const{name:w,fn:N}=l[y],{x:A,y:T,data:C,reset:S}=await N({x:f,y:m,initialPlacement:r,placement:p,strategy:a,middlewareData:g,rects:u,platform:o,elements:{reference:e,floating:t}});f=A??f,m=T??m,g={...g,[w]:{...g[w],...C}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:f,y:m}=EF(u,p,c)),y=-1)}return{x:f,y:m,placement:p,strategy:a,middlewareData:g}};async function yh(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:p=!1,padding:g=0}=to(t,e),v=u_(g),w=l[p?m==="floating"?"reference":"floating":m],N=gh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),A=m==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),C=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},S=gh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:A,offsetParent:T,strategy:c}):A);return{top:(N.top-S.top+v.top)/C.y,bottom:(S.bottom-N.bottom+v.bottom)/C.y,left:(N.left-S.left+v.left)/C.x,right:(S.right-N.right+v.right)/C.x}}const Kxe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=to(e,t)||{};if(u==null)return{};const m=u_(f),p={x:n,y:r},g=d_(a),v=c_(g),y=await o.getDimensions(u),w=g==="y",N=w?"top":"left",A=w?"bottom":"right",T=w?"clientHeight":"clientWidth",C=i.reference[v]+i.reference[g]-p[g]-i.floating[v],S=p[g]-i.reference[g],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=E?E[T]:0;(!O||!await(o.isElement==null?void 0:o.isElement(E)))&&(O=l.floating[T]||i.floating[v]);const _=C/2-S/2,M=O/2-y[v]/2-1,$=eo(m[N],M),z=eo(m[A],M),V=$,I=O-y[v]-z,F=O/2-y[v]/2+_,K=UO(V,F,I),R=!c.arrow&&Yi(a)!=null&&F!==K&&i.reference[v]/2-(F<V?$:z)-y[v]/2<0,B=R?F<V?F-V:F-I:0;return{[g]:p[g]+B,data:{[g]:K,centerOffset:F-K-B,...R&&{alignmentOffset:B}},reset:R}}});function Wxe(e,t,n){return(e?[...n.filter(a=>Yi(a)===e),...n.filter(a=>Yi(a)!==e)]:n.filter(a=>qa(a)===a)).filter(a=>e?Yi(a)===e||(t?N0(a)!==a:!1):!0)}const Gxe=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,a;const{rects:i,middlewareData:o,placement:l,platform:c,elements:u}=t,{crossAxis:f=!1,alignment:m,allowedPlacements:p=kF,autoAlignment:g=!0,...v}=to(e,t),y=m!==void 0||p===kF?Wxe(m||null,g,p):p,w=await yh(t,v),N=((n=o.autoPlacement)==null?void 0:n.index)||0,A=y[N];if(A==null)return{};const T=gG(A,i,await(c.isRTL==null?void 0:c.isRTL(u.floating)));if(l!==A)return{reset:{placement:y[0]}};const C=[w[qa(A)],w[T[0]],w[T[1]]],S=[...((r=o.autoPlacement)==null?void 0:r.overflows)||[],{placement:A,overflows:C}],E=y[N+1];if(E)return{data:{index:N+1,overflows:S},reset:{placement:E}};const O=S.map($=>{const z=Yi($.placement);return[$.placement,z&&f?$.overflows.slice(0,2).reduce((V,I)=>V+I,0):$.overflows[0],$.overflows]}).sort(($,z)=>$[1]-z[1]),M=((a=O.filter($=>$[2].slice(0,Yi($[0])?2:3).every(z=>z<=0))[0])==null?void 0:a[0])||O[0][0];return M!==l?{data:{index:N+1,overflows:S},reset:{placement:M}}:{}}}},Yxe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...w}=to(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const N=qa(a),A=Vi(l),T=qa(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=p||(T||!y?[S0(l)]:Fxe(l)),E=v!=="none";!p&&E&&S.push(...Uxe(l,y,v,C));const O=[l,...S],_=await yh(t,w),M=[];let $=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&M.push(_[N]),m){const F=gG(a,o,C);M.push(_[F[0]],_[F[1]])}if($=[...$,{placement:a,overflows:M}],!M.every(F=>F<=0)){var z,V;const F=(((z=i.flip)==null?void 0:z.index)||0)+1,K=O[F];if(K&&(!(m==="alignment"?A!==Vi(K):!1)||$.every(L=>Vi(L.placement)===A?L.overflows[0]>0:!0)))return{data:{index:F,overflows:$},reset:{placement:K}};let R=(V=$.filter(B=>B.overflows[0]<=0).sort((B,L)=>B.overflows[1]-L.overflows[1])[0])==null?void 0:V.placement;if(!R)switch(g){case"bestFit":{var I;const B=(I=$.filter(L=>{if(E){const q=Vi(L.placement);return q===A||q==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(q=>q>0).reduce((q,se)=>q+se,0)]).sort((L,q)=>L[1]-q[1])[0])==null?void 0:I[0];B&&(R=B);break}case"initialPlacement":R=l;break}if(a!==R)return{reset:{placement:R}}}return{}}}};function OF(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function PF(e){return xG.some(t=>e[t]>=0)}const Xxe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=to(e,t);switch(r){case"referenceHidden":{const i=await yh(t,{...a,elementContext:"reference"}),o=OF(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:PF(o)}}}case"escaped":{const i=await yh(t,{...a,altBoundary:!0}),o=OF(i,n.floating);return{data:{escapedOffsets:o,escaped:PF(o)}}}default:return{}}}}};function yG(e){const t=eo(...e.map(i=>i.left)),n=eo(...e.map(i=>i.top)),r=Ns(...e.map(i=>i.right)),a=Ns(...e.map(i=>i.bottom));return{x:t,y:n,width:r-t,height:a-n}}function Qxe(e){const t=e.slice().sort((a,i)=>a.y-i.y),n=[];let r=null;for(let a=0;a<t.length;a++){const i=t[a];!r||i.y-r.y>r.height/2?n.push([i]):n[n.length-1].push(i),r=i}return n.map(a=>gh(yG(a)))}const Jxe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:a,platform:i,strategy:o}=t,{padding:l=2,x:c,y:u}=to(e,t),f=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(r.reference))||[]),m=Qxe(f),p=gh(yG(f)),g=u_(l);function v(){if(m.length===2&&m[0].left>m[1].right&&c!=null&&u!=null)return m.find(w=>c>w.left-g.left&&c<w.right+g.right&&u>w.top-g.top&&u<w.bottom+g.bottom)||p;if(m.length>=2){if(Vi(n)==="y"){const $=m[0],z=m[m.length-1],V=qa(n)==="top",I=$.top,F=z.bottom,K=V?$.left:z.left,R=V?$.right:z.right,B=R-K,L=F-I;return{top:I,bottom:F,left:K,right:R,width:B,height:L,x:K,y:I}}const w=qa(n)==="left",N=Ns(...m.map($=>$.right)),A=eo(...m.map($=>$.left)),T=m.filter($=>w?$.left===A:$.right===N),C=T[0].top,S=T[T.length-1].bottom,E=A,O=N,_=O-E,M=S-C;return{top:C,bottom:S,left:E,right:O,width:_,height:M,x:E,y:C}}return p}const y=await i.getElementRects({reference:{getBoundingClientRect:v},floating:r.floating,strategy:o});return a.reference.x!==y.reference.x||a.reference.y!==y.reference.y||a.reference.width!==y.reference.width||a.reference.height!==y.reference.height?{reset:{rects:y}}:{}}}},vG=new Set(["left","top"]);async function Zxe(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=qa(n),l=Yi(n),c=Vi(n)==="y",u=vG.has(o)?-1:1,f=i&&c?-1:1,m=to(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*f,y:p*u}:{x:p*u,y:g*f}}const ege=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await Zxe(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},tge=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:N,y:A}=w;return{x:N,y:A}}},...c}=to(e,t),u={x:n,y:r},f=await yh(t,c),m=Vi(qa(a)),p=l_(m);let g=u[p],v=u[m];if(i){const w=p==="y"?"top":"left",N=p==="y"?"bottom":"right",A=g+f[w],T=g-f[N];g=UO(A,g,T)}if(o){const w=m==="y"?"top":"left",N=m==="y"?"bottom":"right",A=v+f[w],T=v-f[N];v=UO(A,v,T)}const y=l.fn({...t,[p]:g,[m]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:i,[m]:o}}}}}},nge=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=to(e,t),f={x:n,y:r},m=Vi(a),p=l_(m);let g=f[p],v=f[m];const y=to(l,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const T=p==="y"?"height":"width",C=i.reference[p]-i.floating[T]+w.mainAxis,S=i.reference[p]+i.reference[T]-w.mainAxis;g<C?g=C:g>S&&(g=S)}if(u){var N,A;const T=p==="y"?"width":"height",C=vG.has(qa(a)),S=i.reference[m]-i.floating[T]+(C&&((N=o.offset)==null?void 0:N[m])||0)+(C?0:w.crossAxis),E=i.reference[m]+i.reference[T]+(C?0:((A=o.offset)==null?void 0:A[m])||0)-(C?w.crossAxis:0);v<S?v=S:v>E&&(v=E)}return{[p]:g,[m]:v}}}},rge=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=to(e,t),f=await yh(t,u),m=qa(a),p=Yi(a),g=Vi(a)==="y",{width:v,height:y}=i.floating;let w,N;m==="top"||m==="bottom"?(w=m,N=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=m,w=p==="end"?"top":"bottom");const A=y-f.top-f.bottom,T=v-f.left-f.right,C=eo(y-f[w],A),S=eo(v-f[N],T),E=!t.middlewareData.shift;let O=C,_=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=T),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(O=A),E&&!p){const $=Ns(f.left,0),z=Ns(f.right,0),V=Ns(f.top,0),I=Ns(f.bottom,0);g?_=v-2*($!==0||z!==0?$+z:Ns(f.left,f.right)):O=y-2*(V!==0||I!==0?V+I:Ns(f.top,f.bottom))}await c({...t,availableWidth:_,availableHeight:O});const M=await o.getDimensions(l.floating);return v!==M.width||y!==M.height?{reset:{rects:!0}}:{}}}};function Kw(){return typeof window<"u"}function um(e){return bG(e)?(e.nodeName||"").toLowerCase():"#document"}function La(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Uo(e){var t;return(t=(bG(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bG(e){return Kw()?e instanceof Node||e instanceof La(e).Node:!1}function no(e){return Kw()?e instanceof Element||e instanceof La(e).Element:!1}function Io(e){return Kw()?e instanceof HTMLElement||e instanceof La(e).HTMLElement:!1}function MF(e){return!Kw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof La(e).ShadowRoot}const sge=new Set(["inline","contents"]);function Xg(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=ro(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!sge.has(a)}const age=new Set(["table","td","th"]);function ige(e){return age.has(um(e))}const oge=[":popover-open",":modal"];function Ww(e){return oge.some(t=>{try{return e.matches(t)}catch{return!1}})}const lge=["transform","translate","scale","rotate","perspective"],cge=["transform","translate","scale","rotate","perspective","filter"],dge=["paint","layout","strict","content"];function f_(e){const t=h_(),n=no(e)?ro(e):e;return lge.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||cge.some(r=>(n.willChange||"").includes(r))||dge.some(r=>(n.contain||"").includes(r))}function uge(e){let t=Wc(e);for(;Io(t)&&!vh(t);){if(f_(t))return t;if(Ww(t))return null;t=Wc(t)}return null}function h_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fge=new Set(["html","body","#document"]);function vh(e){return fge.has(um(e))}function ro(e){return La(e).getComputedStyle(e)}function Gw(e){return no(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wc(e){if(um(e)==="html")return e;const t=e.assignedSlot||e.parentNode||MF(e)&&e.host||Uo(e);return MF(t)?t.host:t}function jG(e){const t=Wc(e);return vh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Io(t)&&Xg(t)?t:jG(t)}function Vx(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=jG(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=La(a);if(i){const l=VO(o);return t.concat(o,o.visualViewport||[],Xg(a)?a:[],l&&n?Vx(l):[])}return t.concat(a,Vx(a,[],n))}function VO(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wG(e){const t=ro(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Io(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=w0(n)!==i||w0(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function m_(e){return no(e)?e:e.contextElement}function th(e){const t=m_(e);if(!Io(t))return To(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=wG(t);let o=(i?w0(n.width):n.width)/r,l=(i?w0(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const hge=To(0);function NG(e){const t=La(e);return!h_()||!t.visualViewport?hge:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function mge(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==La(e)?!1:t}function uu(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=m_(e);let o=To(1);t&&(r?no(r)&&(o=th(r)):o=th(e));const l=mge(i,n,r)?NG(i):To(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,f=a.width/o.x,m=a.height/o.y;if(i){const p=La(i),g=r&&no(r)?La(r):r;let v=p,y=VO(v);for(;y&&r&&g!==v;){const w=th(y),N=y.getBoundingClientRect(),A=ro(y),T=N.left+(y.clientLeft+parseFloat(A.paddingLeft))*w.x,C=N.top+(y.clientTop+parseFloat(A.paddingTop))*w.y;c*=w.x,u*=w.y,f*=w.x,m*=w.y,c+=T,u+=C,v=La(y),y=VO(v)}}return gh({width:f,height:m,x:c,y:u})}function Yw(e,t){const n=Gw(e).scrollLeft;return t?t.left+n:uu(Uo(e)).left+n}function SG(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Yw(e,n),a=n.top+t.scrollTop;return{x:r,y:a}}function pge(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=Uo(r),l=t?Ww(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=To(1);const f=To(0),m=Io(r);if((m||!m&&!i)&&((um(r)!=="body"||Xg(o))&&(c=Gw(r)),Io(r))){const g=uu(r);u=th(r),f.x=g.x+r.clientLeft,f.y=g.y+r.clientTop}const p=o&&!m&&!i?SG(o,c):To(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+p.x,y:n.y*u.y-c.scrollTop*u.y+f.y+p.y}}function xge(e){return Array.from(e.getClientRects())}function gge(e){const t=Uo(e),n=Gw(e),r=e.ownerDocument.body,a=Ns(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ns(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Yw(e);const l=-n.scrollTop;return ro(r).direction==="rtl"&&(o+=Ns(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}const _F=25;function yge(e,t){const n=La(e),r=Uo(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const f=h_();(!f||f&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=Yw(r);if(u<=0){const f=r.ownerDocument,m=f.body,p=getComputedStyle(m),g=f.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,v=Math.abs(r.clientWidth-m.clientWidth-g);v<=_F&&(i-=v)}else u<=_F&&(i+=u);return{width:i,height:o,x:l,y:c}}const vge=new Set(["absolute","fixed"]);function bge(e,t){const n=uu(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Io(e)?th(e):To(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function RF(e,t,n){let r;if(t==="viewport")r=yge(e,n);else if(t==="document")r=gge(Uo(e));else if(no(t))r=bge(t,n);else{const a=NG(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return gh(r)}function CG(e,t){const n=Wc(e);return n===t||!no(n)||vh(n)?!1:ro(n).position==="fixed"||CG(n,t)}function jge(e,t){const n=t.get(e);if(n)return n;let r=Vx(e,[],!1).filter(l=>no(l)&&um(l)!=="body"),a=null;const i=ro(e).position==="fixed";let o=i?Wc(e):e;for(;no(o)&&!vh(o);){const l=ro(o),c=f_(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&vge.has(a.position)||Xg(o)&&!c&&CG(e,o))?r=r.filter(f=>f!==o):a=l,o=Wc(o)}return t.set(e,r),r}function wge(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?Ww(t)?[]:jge(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,f)=>{const m=RF(t,f,a);return u.top=Ns(m.top,u.top),u.right=eo(m.right,u.right),u.bottom=eo(m.bottom,u.bottom),u.left=Ns(m.left,u.left),u},RF(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Nge(e){const{width:t,height:n}=wG(e);return{width:t,height:n}}function Sge(e,t,n){const r=Io(t),a=Uo(t),i=n==="fixed",o=uu(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=To(0);function u(){c.x=Yw(a)}if(r||!r&&!i)if((um(t)!=="body"||Xg(a))&&(l=Gw(t)),r){const g=uu(t,!0,i,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else a&&u();i&&!r&&a&&u();const f=a&&!r&&!i?SG(a,l):To(0),m=o.left+l.scrollLeft-c.x-f.x,p=o.top+l.scrollTop-c.y-f.y;return{x:m,y:p,width:o.width,height:o.height}}function oC(e){return ro(e).position==="static"}function DF(e,t){if(!Io(e)||ro(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Uo(e)===n&&(n=n.ownerDocument.body),n}function kG(e,t){const n=La(e);if(Ww(e))return n;if(!Io(e)){let a=Wc(e);for(;a&&!vh(a);){if(no(a)&&!oC(a))return a;a=Wc(a)}return n}let r=DF(e,t);for(;r&&ige(r)&&oC(r);)r=DF(r,t);return r&&vh(r)&&oC(r)&&!f_(r)?n:r||uge(e)||n}const Cge=async function(e){const t=this.getOffsetParent||kG,n=this.getDimensions,r=await n(e.floating);return{reference:Sge(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kge(e){return ro(e).direction==="rtl"}const Tge={convertOffsetParentRelativeRectToViewportRelativeRect:pge,getDocumentElement:Uo,getClippingRect:wge,getOffsetParent:kG,getElementRects:Cge,getClientRects:xge,getDimensions:Nge,getScale:th,isElement:no,isRTL:kge};function TG(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Age(e,t){let n=null,r;const a=Uo(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:f,top:m,width:p,height:g}=u;if(l||t(),!p||!g)return;const v=eb(m),y=eb(a.clientWidth-(f+p)),w=eb(a.clientHeight-(m+g)),N=eb(f),T={rootMargin:-v+"px "+-y+"px "+-w+"px "+-N+"px",threshold:Ns(0,eo(1,c))||1};let C=!0;function S(E){const O=E[0].intersectionRatio;if(O!==c){if(!C)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!TG(u,e.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(S,{...T,root:a.ownerDocument})}catch{n=new IntersectionObserver(S,T)}n.observe(e)}return o(!0),i}function Ege(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=m_(e),f=a||i?[...u?Vx(u):[],...Vx(t)]:[];f.forEach(N=>{a&&N.addEventListener("scroll",n,{passive:!0}),i&&N.addEventListener("resize",n)});const m=u&&l?Age(u,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(N=>{let[A]=N;A&&A.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(t)})),n()}),u&&!c&&g.observe(u),g.observe(t));let v,y=c?uu(e):null;c&&w();function w(){const N=uu(e);y&&!TG(y,N)&&n(),y=N,v=requestAnimationFrame(w)}return n(),()=>{var N;f.forEach(A=>{a&&A.removeEventListener("scroll",n),i&&A.removeEventListener("resize",n)}),m?.(),(N=g)==null||N.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const p_=ege,AG=Gxe,x_=tge,g_=Yxe,y_=rge,v_=Xxe,C0=Kxe,EG=Jxe,Oge=nge,b_=(e,t,n)=>{const r=new Map,a={platform:Tge,...n},i={...a.platform,_c:r};return Hxe(e,t,{...a,platform:i})};var Pge=typeof document<"u",Mge=function(){},Wb=Pge?j.useLayoutEffect:Mge;function k0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!k0(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!k0(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function OG(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function IF(e,t){const n=OG(e);return Math.round(t*n)/n}function lC(e){const t=j.useRef(e);return Wb(()=>{t.current=e}),t}function _ge(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,m]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,g]=j.useState(r);k0(p,r)||g(r);const[v,y]=j.useState(null),[w,N]=j.useState(null),A=j.useCallback(L=>{L!==E.current&&(E.current=L,y(L))},[]),T=j.useCallback(L=>{L!==O.current&&(O.current=L,N(L))},[]),C=i||v,S=o||w,E=j.useRef(null),O=j.useRef(null),_=j.useRef(f),M=c!=null,$=lC(c),z=lC(a),V=lC(u),I=j.useCallback(()=>{if(!E.current||!O.current)return;const L={placement:t,strategy:n,middleware:p};z.current&&(L.platform=z.current),b_(E.current,O.current,L).then(q=>{const se={...q,isPositioned:V.current!==!1};F.current&&!k0(_.current,se)&&(_.current=se,Ul.flushSync(()=>{m(se)}))})},[p,t,n,z,V]);Wb(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,m(L=>({...L,isPositioned:!1})))},[u]);const F=j.useRef(!1);Wb(()=>(F.current=!0,()=>{F.current=!1}),[]),Wb(()=>{if(C&&(E.current=C),S&&(O.current=S),C&&S){if($.current)return $.current(C,S,I);I()}},[C,S,I,$,M]);const K=j.useMemo(()=>({reference:E,floating:O,setReference:A,setFloating:T}),[A,T]),R=j.useMemo(()=>({reference:C,floating:S}),[C,S]),B=j.useMemo(()=>{const L={position:n,left:0,top:0};if(!R.floating)return L;const q=IF(R.floating,f.x),se=IF(R.floating,f.y);return l?{...L,transform:"translate("+q+"px, "+se+"px)",...OG(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:se}},[n,l,R.floating,f.x,f.y]);return j.useMemo(()=>({...f,update:I,refs:K,elements:R,floatingStyles:B}),[f,I,K,R,B])}const Rge=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?C0({element:r.current,padding:a}).fn(n):{}:r?C0({element:r,padding:a}).fn(n):{}}}},Dge=(e,t)=>({...p_(e),options:[e,t]}),Ige=(e,t)=>({...x_(e),options:[e,t]}),Lge=(e,t)=>({...Oge(e),options:[e,t]}),$ge=(e,t)=>({...g_(e),options:[e,t]}),Fge=(e,t)=>({...y_(e),options:[e,t]}),Bge=(e,t)=>({...v_(e),options:[e,t]}),zge=(e,t)=>({...Rge(e),options:[e,t]});var qge="Arrow",PG=j.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(Je.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});PG.displayName=qge;var Uge=PG;function j_(e){const[t,n]=j.useState(void 0);return Zt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var w_="Popper",[MG,Qc]=ss(w_),[Vge,_G]=MG(w_),RG=e=>{const{__scopePopper:t,children:n}=e,[r,a]=j.useState(null);return s.jsx(Vge,{scope:t,anchor:r,onAnchorChange:a,children:n})};RG.displayName=w_;var DG="PopperAnchor",IG=j.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=_G(DG,n),o=j.useRef(null),l=it(t,o),c=j.useRef(null);return j.useEffect(()=>{const u=c.current;c.current=r?.current||o.current,u!==c.current&&i.onAnchorChange(c.current)}),r?null:s.jsx(Je.div,{...a,ref:l})});IG.displayName=DG;var N_="PopperContent",[Hge,Kge]=MG(N_),LG=j.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:v,...y}=e,w=_G(N_,n),[N,A]=j.useState(null),T=it(t,he=>A(he)),[C,S]=j.useState(null),E=j_(C),O=E?.width??0,_=E?.height??0,M=r+(i!=="center"?"-"+i:""),$=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},z=Array.isArray(u)?u:[u],V=z.length>0,I={padding:$,boundary:z.filter(Gge),altBoundary:V},{refs:F,floatingStyles:K,placement:R,isPositioned:B,middlewareData:L}=_ge({strategy:"fixed",placement:M,whileElementsMounted:(...he)=>Ege(...he,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[Dge({mainAxis:a+_,alignmentAxis:o}),c&&Ige({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Lge():void 0,...I}),c&&$ge({...I}),Fge({...I,apply:({elements:he,rects:Fe,availableWidth:ge,availableHeight:Ae})=>{const{width:_e,height:ee}=Fe.reference,Le=he.floating.style;Le.setProperty("--radix-popper-available-width",`${ge}px`),Le.setProperty("--radix-popper-available-height",`${Ae}px`),Le.setProperty("--radix-popper-anchor-width",`${_e}px`),Le.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),C&&zge({element:C,padding:l}),Yge({arrowWidth:O,arrowHeight:_}),p&&Bge({strategy:"referenceHidden",...I})]}),[q,se]=BG(R),H=Pn(v);Zt(()=>{B&&H?.()},[B,H]);const Y=L.arrow?.x,G=L.arrow?.y,X=L.arrow?.centerOffset!==0,[ae,de]=j.useState();return Zt(()=>{N&&de(window.getComputedStyle(N).zIndex)},[N]),s.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:B?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Hge,{scope:n,placedSide:q,onArrowChange:S,arrowX:Y,arrowY:G,shouldHideArrow:X,children:s.jsx(Je.div,{"data-side":q,"data-align":se,...y,ref:T,style:{...y.style,animation:B?void 0:"none"}})})})});LG.displayName=N_;var $G="PopperArrow",Wge={top:"bottom",right:"left",bottom:"top",left:"right"},FG=j.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=Kge($G,r),o=Wge[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Uge,{...a,ref:n,style:{...a.style,display:"block"}})})});FG.displayName=$G;function Gge(e){return e!==null}var Yge=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=BG(n),m={start:"0%",center:"50%",end:"100%"}[f],p=(a.arrow?.x??0)+l/2,g=(a.arrow?.y??0)+c/2;let v="",y="";return u==="bottom"?(v=o?m:`${p}px`,y=`${-c}px`):u==="top"?(v=o?m:`${p}px`,y=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,y=o?m:`${g}px`):u==="left"&&(v=`${r.floating.width+c}px`,y=o?m:`${g}px`),{data:{x:v,y}}}});function BG(e){const[t,n="center"]=e.split("-");return[t,n]}var Qg=RG,Jg=IG,Xw=LG,Qw=FG,Xge="Portal",fm=j.forwardRef((e,t)=>{const{container:n,...r}=e,[a,i]=j.useState(!1);Zt(()=>i(!0),[]);const o=n||a&&globalThis?.document?.body;return o?KM.createPortal(s.jsx(Je.div,{...r,ref:t}),o):null});fm.displayName=Xge;function Qge(e,t){return j.useReducer((n,r)=>t[n][r]??n,e)}var Vr=e=>{const{present:t,children:n}=e,r=Jge(t),a=typeof n=="function"?n({present:r.isPresent}):j.Children.only(n),i=it(r.ref,Zge(a));return typeof n=="function"||r.isPresent?j.cloneElement(a,{ref:i}):null};Vr.displayName="Presence";function Jge(e){const[t,n]=j.useState(),r=j.useRef(null),a=j.useRef(e),i=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Qge(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=tb(r.current);i.current=l==="mounted"?u:"none"},[l]),Zt(()=>{const u=r.current,f=a.current;if(f!==e){const p=i.current,g=tb(u);e?c("MOUNT"):g==="none"||u?.display==="none"?c("UNMOUNT"):c(f&&p!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Zt(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,m=g=>{const y=tb(r.current).includes(CSS.escape(g.animationName));if(g.target===t&&y&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=g=>{g.target===t&&(i.current=tb(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function tb(e){return e?.animationName||"none"}function Zge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var eye=Symbol("radix.slottable");function tye(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=eye,t}var nye=pa[" useInsertionEffect ".trim().toString()]||Zt;function rye({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=sye({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=aye(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function sye({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return nye(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function aye(e){return typeof e=="function"}var zG=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),iye="VisuallyHidden",qG=j.forwardRef((e,t)=>s.jsx(Je.span,{...e,ref:t,style:{...zG,...e.style}}));qG.displayName=iye;var oye=qG,[Jw]=ss("Tooltip",[Qc]),Zw=Qc(),UG="TooltipProvider",lye=700,HO="tooltip.open",[cye,S_]=Jw(UG),VG=e=>{const{__scopeTooltip:t,delayDuration:n=lye,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=e,o=j.useRef(!0),l=j.useRef(!1),c=j.useRef(0);return j.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(cye,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:j.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:j.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};VG.displayName=UG;var Hx="Tooltip",[dye,Zg]=Jw(Hx),HG=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=S_(Hx,e.__scopeTooltip),u=Zw(t),[f,m]=j.useState(null),p=Ts(),g=j.useRef(0),v=o??c.disableHoverableContent,y=l??c.delayDuration,w=j.useRef(!1),[N,A]=rye({prop:r,defaultProp:a??!1,onChange:O=>{O?(c.onOpen(),document.dispatchEvent(new CustomEvent(HO))):c.onClose(),i?.(O)},caller:Hx}),T=j.useMemo(()=>N?w.current?"delayed-open":"instant-open":"closed",[N]),C=j.useCallback(()=>{window.clearTimeout(g.current),g.current=0,w.current=!1,A(!0)},[A]),S=j.useCallback(()=>{window.clearTimeout(g.current),g.current=0,A(!1)},[A]),E=j.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{w.current=!0,A(!0),g.current=0},y)},[y,A]);return j.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),s.jsx(Qg,{...u,children:s.jsx(dye,{scope:t,contentId:p,open:N,stateAttribute:T,trigger:f,onTriggerChange:m,onTriggerEnter:j.useCallback(()=>{c.isOpenDelayedRef.current?E():C()},[c.isOpenDelayedRef,E,C]),onTriggerLeave:j.useCallback(()=>{v?S():(window.clearTimeout(g.current),g.current=0)},[S,v]),onOpen:C,onClose:S,disableHoverableContent:v,children:n})})};HG.displayName=Hx;var KO="TooltipTrigger",KG=j.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Zg(KO,n),i=S_(KO,n),o=Zw(n),l=j.useRef(null),c=it(t,l,a.onTriggerChange),u=j.useRef(!1),f=j.useRef(!1),m=j.useCallback(()=>u.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(Jg,{asChild:!0,...o,children:s.jsx(Je.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:kf(e.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:kf(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:kf(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:kf(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:kf(e.onBlur,a.onClose),onClick:kf(e.onClick,a.onClose)})})});KG.displayName=KO;var C_="TooltipPortal",[uye,fye]=Jw(C_,{forceMount:void 0}),WG=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:a}=e,i=Zg(C_,t);return s.jsx(uye,{scope:t,forceMount:n,children:s.jsx(Vr,{present:n||i.open,children:s.jsx(fm,{asChild:!0,container:a,children:r})})})};WG.displayName=C_;var bh="TooltipContent",GG=j.forwardRef((e,t)=>{const n=fye(bh,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=e,o=Zg(bh,e.__scopeTooltip);return s.jsx(Vr,{present:r||o.open,children:o.disableHoverableContent?s.jsx(YG,{side:a,...i,ref:t}):s.jsx(hye,{side:a,...i,ref:t})})}),hye=j.forwardRef((e,t)=>{const n=Zg(bh,e.__scopeTooltip),r=S_(bh,e.__scopeTooltip),a=j.useRef(null),i=it(t,a),[o,l]=j.useState(null),{trigger:c,onClose:u}=n,f=a.current,{onPointerInTransitChange:m}=r,p=j.useCallback(()=>{l(null),m(!1)},[m]),g=j.useCallback((v,y)=>{const w=v.currentTarget,N={x:v.clientX,y:v.clientY},A=yye(N,w.getBoundingClientRect()),T=vye(N,A),C=bye(y.getBoundingClientRect()),S=wye([...T,...C]);l(S),m(!0)},[m]);return j.useEffect(()=>()=>p(),[p]),j.useEffect(()=>{if(c&&f){const v=w=>g(w,f),y=w=>g(w,c);return c.addEventListener("pointerleave",v),f.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",y)}}},[c,f,g,p]),j.useEffect(()=>{if(o){const v=y=>{const w=y.target,N={x:y.clientX,y:y.clientY},A=c?.contains(w)||f?.contains(w),T=!jye(N,o);A?p():T&&(p(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,f,o,u,p]),s.jsx(YG,{...e,ref:i})}),[mye,pye]=Jw(Hx,{isInside:!1}),xye=tye("TooltipContent"),YG=j.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Zg(bh,n),u=Zw(n),{onClose:f}=c;return j.useEffect(()=>(document.addEventListener(HO,f),()=>document.removeEventListener(HO,f)),[f]),j.useEffect(()=>{if(c.trigger){const m=p=>{p.target?.contains(c.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,f]),s.jsx(dm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:s.jsxs(Xw,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(xye,{children:r}),s.jsx(mye,{scope:n,isInside:!0,children:s.jsx(oye,{id:c.contentId,role:"tooltip",children:a||r})})]})})});GG.displayName=bh;var XG="TooltipArrow",gye=j.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Zw(n);return pye(XG,n).isInside?null:s.jsx(Qw,{...a,...r,ref:t})});gye.displayName=XG;function yye(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function vye(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function bye(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function jye(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,f=l.y,m=c.x,p=c.y;f>r!=p>r&&n<(m-u)*(r-f)/(p-f)+u&&(a=!a)}return a}function wye(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Nye(t)}function Nye(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Sye=VG,Cye=HG,kye=KG,Tye=WG,QG=GG;const T0=Sye,Gb=Cye,Yb=kye,fx=j.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(Tye,{children:s.jsx(QG,{ref:r,sideOffset:t,className:Re("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})}));fx.displayName=QG.displayName;const Aye={manager:{overview:{canView:!0,canWrite:!0},offers:{canView:!0,canWrite:!0},partners:{canView:!0,canWrite:!0},requests:{canView:!0,canWrite:!0},reports:{canView:!0,canWrite:!0},finance:{canView:!0,canWrite:!0},antifraud:{canView:!0,canWrite:!0},postbacks:{canView:!0,canWrite:!0},news:{canView:!0,canWrite:!0},team:{canView:!0,canWrite:!0},settings:{canView:!0,canWrite:!0}},analyst:{overview:{canView:!0,canWrite:!1},offers:{canView:!0,canWrite:!1},partners:{canView:!1,canWrite:!1},requests:{canView:!1,canWrite:!1},reports:{canView:!0,canWrite:!1},finance:{canView:!1,canWrite:!1},antifraud:{canView:!0,canWrite:!1},postbacks:{canView:!0,canWrite:!1},news:{canView:!0,canWrite:!1},team:{canView:!1,canWrite:!1},settings:{canView:!1,canWrite:!1}},support:{overview:{canView:!0,canWrite:!1},offers:{canView:!1,canWrite:!1},partners:{canView:!0,canWrite:!0},requests:{canView:!0,canWrite:!0},reports:{canView:!1,canWrite:!1},finance:{canView:!1,canWrite:!1},antifraud:{canView:!1,canWrite:!1},postbacks:{canView:!0,canWrite:!1},news:{canView:!0,canWrite:!1},team:{canView:!1,canWrite:!1},settings:{canView:!1,canWrite:!1}},finance:{overview:{canView:!0,canWrite:!1},offers:{canView:!1,canWrite:!1},partners:{canView:!1,canWrite:!1},requests:{canView:!1,canWrite:!1},reports:{canView:!1,canWrite:!1},finance:{canView:!0,canWrite:!0},antifraud:{canView:!1,canWrite:!1},postbacks:{canView:!0,canWrite:!1},news:{canView:!0,canWrite:!1},team:{canView:!1,canWrite:!1},settings:{canView:!1,canWrite:!1}}};function JG(e,t){return Aye[e]?.[t]??{canView:!1,canWrite:!1}}function Eye(e,t){return JG(e,t).canView}function Oye(e,t){return JG(e,t).canWrite}const Pye={"":"overview",offers:"offers",partners:"partners",requests:"requests",reports:"reports",finance:"finance",antifraud:"antifraud",postbacks:"postbacks",news:"news",team:"team",settings:"settings"};function ZG(e){const t=e.split("/").filter(Boolean).pop()||"";return e.match(/\/dashboard\/advertiser\/?$/)?"overview":e.includes("/offer/")?"offers":e.includes("/partner/")?"partners":Pye[t]??null}const eY=j.createContext({isStaff:!1,staffRole:null,staffAdvertiserId:null,advertiserName:null,staffLoading:!0,canWrite:()=>!0,canAccess:()=>!0});function Mye({children:e}){const{data:t,isLoading:n}=Ne({queryKey:["/api/user"]}),r=n,a=t?.isStaff||!1,i=t?.staffRole||null,o=t?.staffAdvertiserId||null,l=t?.advertiserName||null,c=f=>r||!a||!i?!0:Eye(i,f),u=f=>r||!a||!i?!0:Oye(i,f);return s.jsx(eY.Provider,{value:{isStaff:a,staffRole:i,staffAdvertiserId:o,advertiserName:l,staffLoading:r,canWrite:u,canAccess:c},children:e})}function ey(){return j.useContext(eY)}const WO={isWhiteLabel:!1,brandName:"Primetrack",logoUrl:null,hidePlatformBranding:!1},tY=j.createContext({branding:WO,isLoading:!0});function _ye({children:e}){const{data:t=WO,isLoading:n}=Ne({queryKey:["/api/public/branding",window.location.hostname],queryFn:async()=>{const r=await fetch(`/api/public/branding?domain=${window.location.hostname}`);return r.ok?r.json():WO},staleTime:3e5});return s.jsx(tY.Provider,{value:{branding:t,isLoading:n},children:e})}function Rye(){return j.useContext(tY)}const J=j.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Re("rounded-xl border bg-card text-card-foreground shadow",e),...t}));J.displayName="Card";const Pe=j.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Re("flex flex-col space-y-1.5 p-6",e),...t}));Pe.displayName="CardHeader";const Ie=j.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Re("font-semibold leading-none tracking-tight",e),...t}));Ie.displayName="CardTitle";const et=j.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Re("text-sm text-muted-foreground",e),...t}));et.displayName="CardDescription";const ne=j.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Re("p-6 pt-0",e),...t}));ne.displayName="CardContent";const nY=j.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Re("flex items-center p-6 pt-0",e),...t}));nY.displayName="CardFooter";function Dye(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(J,{className:"w-full max-w-md mx-4",children:s.jsxs(ne,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(Kn,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const cC={en:{title:"Page Unavailable",message:"This page is temporarily unavailable. Please try again later."},es:{title:"Pgina no disponible",message:"Este sitio no est disponible en este momento. Por favor, intntelo ms tarde."},pt:{title:"Pgina indisponvel",message:"Este site no est disponvel no momento. Por favor, tente novamente mais tarde."},de:{title:"Seite nicht verfgbar",message:"Diese Seite ist vorbergehend nicht verfgbar. Bitte versuchen Sie es spter erneut."},ru:{title:" ",message:"   . ,  ."},fr:{title:"Page indisponible",message:"Cette page est temporairement indisponible. Veuillez ressayer plus tard."},it:{title:"Pagina non disponibile",message:"Questa pagina  temporaneamente non disponibile. Si prega di riprovare pi tardi."},pl:{title:"Strona niedostpna",message:"Ta strona jest tymczasowo niedostpna. Prosz sprbowa ponownie pniej."},tr:{title:"Sayfa Kullanlamyor",message:"Bu sayfa geici olarak kullanlamyor. Ltfen daha sonra tekrar deneyin."},ja:{title:"",message:""},ko:{title:"   ",message:"     .    ."},zh:{title:"",message:""},ar:{title:"  ",message:"    .     ."},hi:{title:"   ",message:"            "},th:{title:"",message:" "},vi:{title:"Trang khng kh dng",message:"Trang ny tm thi khng kh dng. Vui lng th li sau."},id:{title:"Halaman Tidak Tersedia",message:"Halaman ini sementara tidak tersedia. Silakan coba lagi nanti."},nl:{title:"Pagina niet beschikbaar",message:"Deze pagina is tijdelijk niet beschikbaar. Probeer het later opnieuw."},sv:{title:"Sidan r inte tillgnglig",message:"Denna sida r tillflligt otillgnglig. Frsk igen senare."},uk:{title:" ",message:"   .  ,  ."}};function Iye(){const[e,t]=j.useState(cC.en);return j.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("lang")?.toLowerCase()||"en";t(cC[r]||cC.en)},[]),s.jsx("div",{"data-testid":"system-unavailable-page",className:"min-h-screen bg-white flex items-center justify-center",style:{fontFamily:"'Segoe UI', 'Helvetica Neue', Arial, sans-serif"},children:s.jsxs("div",{className:"text-center px-6 max-w-md",children:[s.jsx("h1",{"data-testid":"system-unavailable-title",className:"text-xl font-medium text-gray-700 mb-4",children:e.title}),s.jsx("p",{"data-testid":"system-unavailable-message",className:"text-gray-500 text-base leading-relaxed",children:e.message})]})})}var Lye=Symbol.for("react.lazy"),A0=pa[" use ".trim().toString()];function $ye(e){return typeof e=="object"&&e!==null&&"then"in e}function rY(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Lye&&"_payload"in e&&$ye(e._payload)}function k_(e){const t=Bye(e),n=j.forwardRef((r,a)=>{let{children:i,...o}=r;rY(i)&&typeof A0=="function"&&(i=A0(i._payload));const l=j.Children.toArray(i),c=l.find(qye);if(c){const u=c.props.children,f=l.map(m=>m===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var Fye=k_("Slot");function Bye(e){const t=j.forwardRef((n,r)=>{let{children:a,...i}=n;if(rY(a)&&typeof A0=="function"&&(a=A0(a._payload)),j.isValidElement(a)){const o=Vye(a),l=Uye(i,a.props);return a.type!==j.Fragment&&(l.ref=r?io(r,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var zye=Symbol("radix.slottable");function qye(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zye}function Uye(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function Vye(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const T_=im("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground shadow-sm border-destructive-border",outline:" border [border-color:var(--button-outline)] shadow-xs active:shadow-none ",accent:"border border-emerald-600 text-white bg-emerald-500 hover:bg-emerald-600 shadow-xs active:shadow-none",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),U=j.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},i)=>{const o=r?Fye:"button";return s.jsx(o,{className:Re(T_({variant:t,size:n,className:e})),ref:i,...a})});U.displayName="Button";const jt=e=>typeof e=="string",Ep=()=>{let e,t;const n=new Promise((r,a)=>{e=r,t=a});return n.resolve=e,n.reject=t,n},LF=e=>e==null?"":""+e,Hye=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},Kye=/###/g,$F=e=>e&&e.indexOf("###")>-1?e.replace(Kye,"."):e,FF=e=>!e||jt(e),hx=(e,t,n)=>{const r=jt(t)?t.split("."):t;let a=0;for(;a<r.length-1;){if(FF(e))return{};const i=$F(r[a]);!e[i]&&n&&(e[i]=new n),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++a}return FF(e)?{}:{obj:e,k:$F(r[a])}},BF=(e,t,n)=>{const{obj:r,k:a}=hx(e,t,Object);if(r!==void 0||t.length===1){r[a]=n;return}let i=t[t.length-1],o=t.slice(0,t.length-1),l=hx(e,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=hx(e,o,Object),l?.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=n},Wye=(e,t,n,r)=>{const{obj:a,k:i}=hx(e,t,Object);a[i]=a[i]||[],a[i].push(n)},E0=(e,t)=>{const{obj:n,k:r}=hx(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Gye=(e,t,n)=>{const r=E0(e,n);return r!==void 0?r:E0(t,n)},sY=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?jt(e[r])||e[r]instanceof String||jt(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):sY(e[r],t[r],n):e[r]=t[r]);return e},Tf=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Yye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Xye=e=>jt(e)?e.replace(/[&<>"'\/]/g,t=>Yye[t]):e;class Qye{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const Jye=[" ",",","?","!",";"],Zye=new Qye(20),eve=(e,t,n)=>{t=t||"",n=n||"";const r=Jye.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const a=Zye.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!a.test(e);if(!i){const o=e.indexOf(n);o>0&&!a.test(e.substring(0,o))&&(i=!0)}return i},GO=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let a=e;for(let i=0;i<r.length;){if(!a||typeof a!="object")return;let o,l="";for(let c=i;c<r.length;++c)if(c!==i&&(l+=n),l+=r[c],o=a[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<r.length-1)continue;i+=c-i+1;break}a=o}return a},Kx=e=>e?.replace("_","-"),tve={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class O0{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||tve,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,a){return a&&!this.debug?null:(jt(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new O0(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new O0(this.logger,t)}}var Co=new O0;let eN=class{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(n)||0;this.observers[r].set(n,a+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a.apply(a,[t,...n])})}};class zF extends eN{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,a={}){const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,n],r&&(Array.isArray(r)?l.push(...r):jt(r)&&i?l.push(...r.split(i)):l.push(r)));const c=E0(this.data,l);return!c&&!n&&!r&&t.indexOf(".")>-1&&(t=l[0],n=l[1],r=l.slice(2).join(".")),c||!o||!jt(r)?c:GO(this.data?.[t]?.[n],r,i)}addResource(t,n,r,a,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[t,n];r&&(l=l.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(l=t.split("."),a=n,n=l[1]),this.addNamespaces(n),BF(this.data,l,a),i.silent||this.emit("added",t,n,r,a)}addResources(t,n,r,a={silent:!1}){for(const i in r)(jt(r[i])||Array.isArray(r[i]))&&this.addResource(t,n,i,r[i],{silent:!0});a.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,a,i,o={silent:!1,skipCopy:!1}){let l=[t,n];t.indexOf(".")>-1&&(l=t.split("."),a=r,r=n,n=l[1]),this.addNamespaces(n);let c=E0(this.data,l)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?sY(c,r,i):c={...c,...r},BF(this.data,l,c),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var aY={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,a){return e.forEach(i=>{t=this.processors[i]?.process(t,n,r,a)??t}),t}};const iY=Symbol("i18next/PATH_KEY");function nve(){const e=[],t=Object.create(null);let n;return t.get=(r,a)=>(n?.revoke?.(),a===iY?e:(e.push(a),n=Proxy.revocable(r,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function YO(e,t){const{[iY]:n}=e(nve());return n.join(t?.keySeparator??".")}const qF={},dC=e=>!jt(e)&&typeof e!="boolean"&&typeof e!="number";class P0 extends eN{constructor(t,n={}){super(),Hye(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Co.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const r={...n};if(t==null)return!1;const a=this.resolve(t,r);if(a?.res===void 0)return!1;const i=dC(a.res);return!(r.returnObjects===!1&&i)}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!eve(t,r,a);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:jt(i)?[i]:i};const u=t.split(r);(r!==a||r===a&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),t=u.join(a)}return{key:t,namespaces:jt(i)?[i]:i}}translate(t,n,r){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),t==null)return"";typeof t=="function"&&(t=YO(t,{...this.options,...a})),Array.isArray(t)||(t=[String(t)]);const i=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],a),u=c[c.length-1];let f=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");const m=a.lng||this.language,p=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m?.toLowerCase()==="cimode")return p?i?{res:`${u}${f}${l}`,usedKey:l,exactUsedKey:l,usedLng:m,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:`${u}${f}${l}`:i?{res:l,usedKey:l,exactUsedKey:l,usedLng:m,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:l;const g=this.resolve(t,a);let v=g?.res;const y=g?.usedKey||l,w=g?.exactUsedKey||l,N=["[object Number]","[object Function]","[object RegExp]"],A=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,C=a.count!==void 0&&!jt(a.count),S=P0.hasDefaultValue(a),E=C?this.pluralResolver.getSuffix(m,a.count,a):"",O=a.ordinal&&C?this.pluralResolver.getSuffix(m,a.count,{ordinal:!1}):"",_=C&&!a.ordinal&&a.count===0,M=_&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${E}`]||a[`defaultValue${O}`]||a.defaultValue;let $=v;T&&!v&&S&&($=M);const z=dC($),V=Object.prototype.toString.apply($);if(T&&$&&z&&N.indexOf(V)<0&&!(jt(A)&&Array.isArray($))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const I=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,$,{...a,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return i?(g.res=I,g.usedParams=this.getUsedParamsDetails(a),g):I}if(o){const I=Array.isArray($),F=I?[]:{},K=I?w:y;for(const R in $)if(Object.prototype.hasOwnProperty.call($,R)){const B=`${K}${o}${R}`;S&&!v?F[R]=this.translate(B,{...a,defaultValue:dC(M)?M[R]:void 0,joinArrays:!1,ns:c}):F[R]=this.translate(B,{...a,joinArrays:!1,ns:c}),F[R]===B&&(F[R]=$[R])}v=F}}else if(T&&jt(A)&&Array.isArray(v))v=v.join(A),v&&(v=this.extendTranslation(v,t,a,r));else{let I=!1,F=!1;!this.isValidLookup(v)&&S&&(I=!0,v=M),this.isValidLookup(v)||(F=!0,v=l);const R=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&F?void 0:v,B=S&&M!==v&&this.options.updateMissing;if(F||I||B){if(this.logger.log(B?"updateKey":"missingKey",m,u,l,B?M:v),o){const H=this.resolve(l,{...a,keySeparator:!1});H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let L=[];const q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&q&&q[0])for(let H=0;H<q.length;H++)L.push(q[H]);else this.options.saveMissingTo==="all"?L=this.languageUtils.toResolveHierarchy(a.lng||this.language):L.push(a.lng||this.language);const se=(H,Y,G)=>{const X=S&&G!==v?G:R;this.options.missingKeyHandler?this.options.missingKeyHandler(H,u,Y,X,B,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(H,u,Y,X,B,a),this.emit("missingKey",H,u,Y,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?L.forEach(H=>{const Y=this.pluralResolver.getSuffixes(H,a);_&&a[`defaultValue${this.options.pluralSeparator}zero`]&&Y.indexOf(`${this.options.pluralSeparator}zero`)<0&&Y.push(`${this.options.pluralSeparator}zero`),Y.forEach(G=>{se([H],l+G,a[`defaultValue${G}`]||M)})}):se(L,l,M))}v=this.extendTranslation(v,t,a,g,r),F&&v===l&&this.options.appendNamespaceToMissingKey&&(v=`${u}${f}${l}`),(F||I)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${f}${l}`:l,I?v:void 0,a))}return i?(g.res=v,g.usedParams=this.getUsedParamsDetails(a),g):v}extendTranslation(t,n,r,a,i){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=jt(t)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const m=t.match(this.interpolator.nestingRegexp);u=m&&m.length}let f=r.replace&&!jt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,r.lng||this.language||a.usedLng,r),c){const m=t.match(this.interpolator.nestingRegexp),p=m&&m.length;u<p&&(r.nest=!1)}!r.lng&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...m)=>i?.[0]===m[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):this.translate(...m,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,l=jt(o)?[o]:o;return t!=null&&l?.length&&r.applyPostProcessor!==!1&&(t=aY.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,a,i,o,l;return jt(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(c,n),f=u.key;a=f;let m=u.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const p=n.count!==void 0&&!jt(n.count),g=p&&!n.ordinal&&n.count===0,v=n.context!==void 0&&(jt(n.context)||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);m.forEach(w=>{this.isValidLookup(r)||(l=w,!qF[`${y[0]}-${w}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(qF[`${y[0]}-${w}`]=!0,this.logger.warn(`key "${a}" for languages "${y.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(N=>{if(this.isValidLookup(r))return;o=N;const A=[f];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(A,f,N,w,n);else{let C;p&&(C=this.pluralResolver.getSuffix(N,n.count,n));const S=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(n.ordinal&&C.indexOf(E)===0&&A.push(f+C.replace(E,this.options.pluralSeparator)),A.push(f+C),g&&A.push(f+S)),v){const O=`${f}${this.options.contextSeparator||"_"}${n.context}`;A.push(O),p&&(n.ordinal&&C.indexOf(E)===0&&A.push(O+C.replace(E,this.options.pluralSeparator)),A.push(O+C),g&&A.push(O+S))}}let T;for(;T=A.pop();)this.isValidLookup(r)||(i=T,r=this.getResource(N,w,T,n))}))})}),{res:r,usedKey:a,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,r,a):this.resourceStore.getResource(t,n,r,a)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!jt(t.replace);let a=r?t.replace:t;if(r&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const i of n)delete a[i]}return a}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class UF{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Co.create("languageUtils")}getScriptPartFromCode(t){if(t=Kx(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Kx(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(jt(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const a=this.getScriptPartFromCode(r);if(this.isSupportedCode(a))return n=a;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),jt(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),a=[],i=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return jt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):jt(t)&&i(this.formatLanguageCode(t)),r.forEach(o=>{a.indexOf(o)<0&&i(this.formatLanguageCode(o))}),a}}const VF={zero:0,one:1,two:2,few:3,many:4,other:5},HF={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class rve{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=Co.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const r=Kx(t==="dev"?"en":t),a=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),HF;if(!t.match(/-|_/))return HF;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,n)}return this.pluralRulesCache[i]=o,o}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(a=>`${n}${a}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((a,i)=>VF[a]-VF[i]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,n,r={}){const a=this.getRule(t,r);return a?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const KF=(e,t,n,r=".",a=!0)=>{let i=Gye(e,t,n);return!i&&a&&jt(n)&&(i=GO(e,n,r),i===void 0&&(i=GO(t,n,r))),i},uC=e=>e.replace(/\$/g,"$$$$");class WF{constructor(t={}){this.logger=Co.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:a,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:f,unescapePrefix:m,nestingPrefix:p,nestingPrefixEscaped:g,nestingSuffix:v,nestingSuffixEscaped:y,nestingOptionsSeparator:w,maxReplaces:N,alwaysFormat:A}=t.interpolation;this.escape=n!==void 0?n:Xye,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?Tf(i):o||"{{",this.suffix=l?Tf(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=f?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=p?Tf(p):g||Tf("$t("),this.nestingSuffix=v?Tf(v):y||Tf(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=N||1e3,this.alwaysFormat=A!==void 0?A:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,r,a){let i,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const N=KF(n,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(N,void 0,r,{...a,...n,interpolationkey:g}):N}const v=g.split(this.formatSeparator),y=v.shift().trim(),w=v.join(this.formatSeparator).trim();return this.format(KF(n,c,y,this.options.keySeparator,this.options.ignoreJSONStructure),w,r,{...a,...n,interpolationkey:y})};this.resetRegExp();const f=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>uC(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?uC(this.escape(g)):uC(g)}].forEach(g=>{for(l=0;i=g.regex.exec(t);){const v=i[1].trim();if(o=u(v),o===void 0)if(typeof f=="function"){const w=f(t,i,a);o=jt(w)?w:""}else if(a&&Object.prototype.hasOwnProperty.call(a,v))o="";else if(m){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${t}`),o="";else!jt(o)&&!this.useRawValueToEscape&&(o=LF(o));const y=g.safeValue(o);if(t=t.replace(i[0],y),m?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=i[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n,r={}){let a,i,o;const l=(c,u)=>{const f=this.nestingOptionsSeparator;if(c.indexOf(f)<0)return c;const m=c.split(new RegExp(`${f}[ ]*{`));let p=`{${m[1]}`;c=m[0],p=this.interpolate(p,o);const g=p.match(/'/g),v=p.match(/"/g);((g?.length??0)%2===0&&!v||v.length%2!==0)&&(p=p.replace(/'/g,'"'));try{o=JSON.parse(p),u&&(o={...u,...o})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,y),`${c}${f}${p}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;a=this.nestingRegexp.exec(t);){let c=[];o={...r},o=o.replace&&!jt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(u!==-1&&(c=a[1].slice(u).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),a[1]=a[1].slice(0,u)),i=n(l.call(this,a[1].trim(),o),o),i&&a[0]===t&&!jt(i))return i;jt(i)||(i=LF(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),i=""),c.length&&(i=c.reduce((f,m)=>this.format(f,m,r.lng,{...r,interpolationkey:a[1].trim()}),i.trim())),t=t.replace(a[0],i),this.regexp.lastIndex=0}return t}}const sve=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);t==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),f=l.trim();n[f]||(n[f]=u),u==="false"&&(n[f]=!1),u==="true"&&(n[f]=!0),isNaN(u)||(n[f]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},GF=e=>{const t={};return(n,r,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const o=r+JSON.stringify(i);let l=t[o];return l||(l=e(Kx(r),a),t[o]=l),l(n)}},ave=e=>(t,n,r)=>e(Kx(n),r)(t);class ive{constructor(t={}){this.logger=Co.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?GF:ave;this.formats={number:r((a,i)=>{const o=new Intl.NumberFormat(a,{...i});return l=>o.format(l)}),currency:r((a,i)=>{const o=new Intl.NumberFormat(a,{...i,style:"currency"});return l=>o.format(l)}),datetime:r((a,i)=>{const o=new Intl.DateTimeFormat(a,{...i});return l=>o.format(l)}),relativetime:r((a,i)=>{const o=new Intl.RelativeTimeFormat(a,{...i});return l=>o.format(l,i.range||"day")}),list:r((a,i)=>{const o=new Intl.ListFormat(a,{...i});return l=>o.format(l)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=GF(n)}format(t,n,r,a={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,c)=>{const{formatName:u,formatOptions:f}=sve(c);if(this.formats[u]){let m=l;try{const p=a?.formatParams?.[a.interpolationkey]||{},g=p.locale||p.lng||a.locale||a.lng||r;m=this.formats[u](l,g,{...f,...a,...p})}catch(p){this.logger.warn(p)}return m}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const ove=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class lve extends eN{constructor(t,n,r,a={}){super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=Co.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,a.backend,a)}queueLoad(t,n,r,a){const i={},o={},l={},c={};return t.forEach(u=>{let f=!0;n.forEach(m=>{const p=`${u}|${m}`;!r.reload&&this.store.hasResourceBundle(u,m)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?o[p]===void 0&&(o[p]=!0):(this.state[p]=1,f=!1,o[p]===void 0&&(o[p]=!0),i[p]===void 0&&(i[p]=!0),c[m]===void 0&&(c[m]=!0)))}),f||(l[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,n,r){const a=t.split("|"),i=a[0],o=a[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const l={};this.queue.forEach(c=>{Wye(c.loaded,[i],o),ove(c,t),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const f=c.loaded[u];f.length&&f.forEach(m=>{l[u][m]===void 0&&(l[u][m]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,n,r,a=0,i=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:a,wait:i,callback:o});return}this.readingCalls++;const l=(u,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(u&&f&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,a+1,i*2,o)},i);return}o(u,f)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const u=c(t,n);u&&typeof u.then=="function"?u.then(f=>l(null,f)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,n,l)}prepareLoading(t,n,r={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();jt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),jt(n)&&(n=[n]);const i=this.queueLoad(t,n,r,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){const r=t.split("|"),a=r[0],i=r[1];this.read(a,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${a} failed`,o),!o&&l&&this.logger.log(`${n}loaded namespace ${i} for language ${a}`,l),this.loaded(t,o,l)})}saveMissing(t,n,r,a,i,o={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const c={...o,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let f;u.length===5?f=u(t,n,r,a,c):f=u(t,n,r,a),f&&typeof f.then=="function"?f.then(m=>l(null,m)).catch(l):l(null,f)}catch(f){l(f)}else u(t,n,r,a,l,c)}!t||!t[0]||this.store.addResource(t[0],n,r,a)}}}const YF=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),jt(e[1])&&(t.defaultValue=e[1]),jt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),XF=e=>(jt(e.ns)&&(e.ns=[e.ns]),jt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),jt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),nb=()=>{},cve=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class mx extends eN{constructor(t={},n){if(super(),this.options=XF(t),this.services={},this.logger=Co,this.modules={external:[]},cve(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(jt(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=YF();this.options={...r,...this.options,...XF(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Co.init(a(this.modules.logger),this.options):Co.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=ive;const f=new UF(this.options);this.store=new zF(this.options.resources,this.options);const m=this.services;m.logger=Co,m.resourceStore=this.store,m.languageUtils=f,m.pluralResolver=new rve(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(m.formatter=a(u),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new WF(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new lve(a(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(g,...v)=>{this.emit(g,...v)}),this.modules.languageDetector&&(m.languageDetector=a(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=a(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new P0(this.services,this.options),this.translator.on("*",(g,...v)=>{this.emit(g,...v)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=nb),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...f)=>this.store[u](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...f)=>(this.store[u](...f),this)});const l=Ep(),c=()=>{const u=(f,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(m),n(f,m)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,n=nb){let r=n;const a=jt(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};a?o(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload?.forEach?.(l=>o(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(t,n,r){const a=Ep();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=nb),this.services.backendConnector.reload(t,n,i=>{a.resolve(),r(i)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&aY.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const r=Ep();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,c)=>{c?this.isLanguageChangingTo===t&&(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(l,(...u)=>this.t(...u))},o=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const c=jt(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(jt(l)?[l]:l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,f=>{i(f,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),r}getFixedT(t,n,r){const a=(i,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([i,o].concat(l)):c={...o},c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||a.keyPrefix);const u=this.options.keySeparator||".";let f;return c.keyPrefix&&Array.isArray(i)?f=i.map(m=>(typeof m=="function"&&(m=YO(m,{...this.options,...o})),`${c.keyPrefix}${u}${m}`)):(typeof i=="function"&&(i=YO(i,{...this.options,...o})),f=c.keyPrefix?`${c.keyPrefix}${u}${i}`:i),this.t(f,c)};return jt(t)?a.lng=t:a.lngs=t,a.ns=n,a.keyPrefix=r,a}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(n.precheck){const l=n.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!a||o(i,t)))}loadNamespaces(t,n){const r=Ep();return this.options.ns?(jt(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Ep();jt(t)&&(t=[t]);const a=this.options.preload||[],i=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=a.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const a=new Intl.Locale(t);if(a&&a.getTextInfo){const i=a.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new UF(YF());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const r=new mx(t,n);return r.createInstance=mx.createInstance,r}cloneInstance(t={},n=nb){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},i=new mx(a);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((f,m)=>(f[m]={...c[u][m]},f),c[u]),c),{});i.store=new zF(l,a),i.services.resourceStore=i.store}return t.interpolation&&(i.services.interpolator=new WF(a)),i.translator=new P0(i.services,a),i.translator.on("*",(l,...c)=>{i.emit(l,...c)}),i.init(a,n),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Qs=mx.createInstance();Qs.createInstance;Qs.dir;Qs.init;Qs.loadResources;Qs.reloadResources;Qs.use;Qs.changeLanguage;Qs.getFixedT;Qs.t;Qs.exists;Qs.setDefaultNamespace;Qs.hasLoadedNamespace;Qs.loadNamespaces;Qs.loadLanguages;const dve=(e,t,n,r)=>{const a=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);fu(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...a):console?.warn&&console.warn(...a)},QF={},oY=(e,t,n,r)=>{fu(n)&&QF[n]||(fu(n)&&(QF[n]=new Date),dve(e,t,n,r))},lY=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},XO=(e,t,n)=>{e.loadNamespaces(t,lY(e,n))},JF=(e,t,n,r)=>{if(fu(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return XO(e,n,r);n.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,lY(e,r))},uve=(e,t,n={})=>!t.languages||!t.languages.length?(oY(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,e))return!1}}),fu=e=>typeof e=="string",fve=e=>typeof e=="object"&&e!==null,hve=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,mve={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},pve=e=>mve[e],xve=e=>e.replace(hve,pve);let QO={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:xve,transDefaultProps:void 0};const gve=(e={})=>{QO={...QO,...e}},yve=()=>QO;let cY;const vve=e=>{cY=e},bve=()=>cY,jve={type:"3rdParty",init(e){gve(e.options.react),vve(e)}},wve=j.createContext();class Nve{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Sve=(e,t)=>fu(t)?t:fve(t)&&fu(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,Cve={t:Sve,ready:!1},kve=()=>()=>{},as=(e,t={})=>{const{i18n:n}=t,{i18n:r,defaultNS:a}=j.useContext(wve)||{},i=n||r||bve();i&&!i.reportNamespaces&&(i.reportNamespaces=new Nve),i||oY(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=j.useMemo(()=>({...yve(),...i?.options?.react,...t}),[i,t]),{useSuspense:l,keyPrefix:c}=o,u=a||i?.options?.defaultNS,f=fu(u)?[u]:u||["translation"],m=j.useMemo(()=>f,f);i?.reportNamespaces?.addUsedNamespaces?.(m);const p=j.useRef(0),g=j.useCallback(M=>{if(!i)return kve;const{bindI18n:$,bindI18nStore:z}=o,V=()=>{p.current+=1,M()};return $&&i.on($,V),z&&i.store.on(z,V),()=>{$&&$.split(" ").forEach(I=>i.off(I,V)),z&&z.split(" ").forEach(I=>i.store.off(I,V))}},[i,o]),v=j.useRef(),y=j.useCallback(()=>{if(!i)return Cve;const M=!!(i.isInitialized||i.initializedStoreOnce)&&m.every(K=>uve(K,i,o)),$=t.lng||i.language,z=p.current,V=v.current;if(V&&V.ready===M&&V.lng===$&&V.keyPrefix===c&&V.revision===z)return V;const F={t:i.getFixedT($,o.nsMode==="fallback"?m:m[0],c),ready:M,lng:$,keyPrefix:c,revision:z};return v.current=F,F},[i,m,c,o,t.lng]),[w,N]=j.useState(0),{t:A,ready:T}=Bw.useSyncExternalStore(g,y,y);j.useEffect(()=>{if(i&&!T&&!l){const M=()=>N($=>$+1);t.lng?JF(i,t.lng,m,M):XO(i,m,M)}},[i,t.lng,m,T,l,w]);const C=i||{},S=j.useRef(null),E=j.useRef(),O=M=>{const $=Object.getOwnPropertyDescriptors(M);$.__original&&delete $.__original;const z=Object.create(Object.getPrototypeOf(M),$);if(!Object.prototype.hasOwnProperty.call(z,"__original"))try{Object.defineProperty(z,"__original",{value:M,writable:!1,enumerable:!1,configurable:!1})}catch{}return z},_=j.useMemo(()=>{const M=C,$=M?.language;let z=M;M&&(S.current&&S.current.__original===M?E.current!==$?(z=O(M),S.current=z,E.current=$):z=S.current:(z=O(M),S.current=z,E.current=$));const V=[A,z,T];return V.t=A,V.i18n=z,V.ready=T,V},[A,C,T,C.resolvedLanguage,C.language,C.languages]);if(i&&l&&!T)throw new Promise(M=>{const $=()=>M();t.lng?JF(i,t.lng,m,$):XO(i,m,$)});return _};function M0(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}var Tve=pa[" useInsertionEffect ".trim().toString()]||Zt;function dY({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=Ave({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=Eve(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function Ave({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return Tve(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function Eve(e){return typeof e=="function"}function yr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function ZF(e){const t=Ove(e),n=j.forwardRef((r,a)=>{const{children:i,...o}=r,l=j.Children.toArray(i),c=l.find(Mve);if(c){const u=c.props.children,f=l.map(m=>m===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function Ove(e){const t=j.forwardRef((n,r)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=Rve(a),l=_ve(i,a.props);return a.type!==j.Fragment&&(l.ref=r?io(r,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Pve=Symbol("radix.slottable");function Mve(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Pve}function _ve(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function Rve(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function tN(e){const t=e+"CollectionProvider",[n,r]=ss(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:w,children:N}=y,A=Z.useRef(null),T=Z.useRef(new Map).current;return s.jsx(a,{scope:w,itemMap:T,collectionRef:A,children:N})};o.displayName=t;const l=e+"CollectionSlot",c=ZF(l),u=Z.forwardRef((y,w)=>{const{scope:N,children:A}=y,T=i(l,N),C=it(w,T.collectionRef);return s.jsx(c,{ref:C,children:A})});u.displayName=l;const f=e+"CollectionItemSlot",m="data-radix-collection-item",p=ZF(f),g=Z.forwardRef((y,w)=>{const{scope:N,children:A,...T}=y,C=Z.useRef(null),S=it(w,C),E=i(f,N);return Z.useEffect(()=>(E.itemMap.set(C,{ref:C,...T}),()=>void E.itemMap.delete(C))),s.jsx(p,{[m]:"",ref:S,children:A})});g.displayName=f;function v(y){const w=i(e+"CollectionConsumer",y);return Z.useCallback(()=>{const A=w.collectionRef.current;if(!A)return[];const T=Array.from(A.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((E,O)=>T.indexOf(E.ref.current)-T.indexOf(O.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},v,r]}var Dve=j.createContext(void 0);function hm(e){const t=j.useContext(Dve);return e||t||"ltr"}var fC=0;function nN(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??e6()),document.body.insertAdjacentElement("beforeend",e[1]??e6()),fC++,()=>{fC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fC--}},[])}function e6(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hC="focusScope.autoFocusOnMount",mC="focusScope.autoFocusOnUnmount",t6={bubbles:!1,cancelable:!0},Ive="FocusScope",ty=j.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=j.useState(null),u=Pn(a),f=Pn(i),m=j.useRef(null),p=it(t,y=>c(y)),g=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(r){let y=function(T){if(g.paused||!l)return;const C=T.target;l.contains(C)?m.current=C:Sc(m.current,{select:!0})},w=function(T){if(g.paused||!l)return;const C=T.relatedTarget;C!==null&&(l.contains(C)||Sc(m.current,{select:!0}))},N=function(T){if(document.activeElement===document.body)for(const S of T)S.removedNodes.length>0&&Sc(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const A=new MutationObserver(N);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),A.disconnect()}}},[r,l,g.paused]),j.useEffect(()=>{if(l){r6.add(g);const y=document.activeElement;if(!l.contains(y)){const N=new CustomEvent(hC,t6);l.addEventListener(hC,u),l.dispatchEvent(N),N.defaultPrevented||(Lve(qve(uY(l)),{select:!0}),document.activeElement===y&&Sc(l))}return()=>{l.removeEventListener(hC,u),setTimeout(()=>{const N=new CustomEvent(mC,t6);l.addEventListener(mC,f),l.dispatchEvent(N),N.defaultPrevented||Sc(y??document.body,{select:!0}),l.removeEventListener(mC,f),r6.remove(g)},0)}}},[l,u,f,g]);const v=j.useCallback(y=>{if(!n&&!r||g.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,N=document.activeElement;if(w&&N){const A=y.currentTarget,[T,C]=$ve(A);T&&C?!y.shiftKey&&N===C?(y.preventDefault(),n&&Sc(T,{select:!0})):y.shiftKey&&N===T&&(y.preventDefault(),n&&Sc(C,{select:!0})):N===A&&y.preventDefault()}},[n,r,g.paused]);return s.jsx(Je.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});ty.displayName=Ive;function Lve(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Sc(r,{select:t}),document.activeElement!==n)return}function $ve(e){const t=uY(e),n=n6(t,e),r=n6(t.reverse(),e);return[n,r]}function uY(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function n6(e,t){for(const n of e)if(!Fve(n,{upTo:t}))return n}function Fve(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Bve(e){return e instanceof HTMLInputElement&&"select"in e}function Sc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Bve(e)&&t&&e.select()}}var r6=zve();function zve(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=s6(e,t),e.unshift(t)},remove(t){e=s6(e,t),e[0]?.resume()}}}function s6(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function qve(e){return e.filter(t=>t.tagName!=="A")}function nh(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}var Uve=pa[" useInsertionEffect ".trim().toString()]||Zt;function Vve({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=Hve({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=Kve(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function Hve({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return Uve(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function Kve(e){return typeof e=="function"}var pC="rovingFocusGroup.onEntryFocus",Wve={bubbles:!1,cancelable:!0},ny="RovingFocusGroup",[JO,fY,Gve]=tN(ny),[Yve,rN]=ss(ny,[Gve]),[Xve,Qve]=Yve(ny),hY=j.forwardRef((e,t)=>s.jsx(JO.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(JO.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Jve,{...e,ref:t})})}));hY.displayName=ny;var Jve=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...m}=e,p=j.useRef(null),g=it(t,p),v=hm(i),[y,w]=Vve({prop:o,defaultProp:l??null,onChange:c,caller:ny}),[N,A]=j.useState(!1),T=Pn(u),C=fY(n),S=j.useRef(!1),[E,O]=j.useState(0);return j.useEffect(()=>{const _=p.current;if(_)return _.addEventListener(pC,T),()=>_.removeEventListener(pC,T)},[T]),s.jsx(Xve,{scope:n,orientation:r,dir:v,loop:a,currentTabStopId:y,onItemFocus:j.useCallback(_=>w(_),[w]),onItemShiftTab:j.useCallback(()=>A(!0),[]),onFocusableItemAdd:j.useCallback(()=>O(_=>_+1),[]),onFocusableItemRemove:j.useCallback(()=>O(_=>_-1),[]),children:s.jsx(Je.div,{tabIndex:N||E===0?-1:0,"data-orientation":r,...m,ref:g,style:{outline:"none",...e.style},onMouseDown:nh(e.onMouseDown,()=>{S.current=!0}),onFocus:nh(e.onFocus,_=>{const M=!S.current;if(_.target===_.currentTarget&&M&&!N){const $=new CustomEvent(pC,Wve);if(_.currentTarget.dispatchEvent($),!$.defaultPrevented){const z=C().filter(R=>R.focusable),V=z.find(R=>R.active),I=z.find(R=>R.id===y),K=[V,I,...z].filter(Boolean).map(R=>R.ref.current);xY(K,f)}}S.current=!1}),onBlur:nh(e.onBlur,()=>A(!1))})})}),mY="RovingFocusGroupItem",pY=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Ts(),u=i||c,f=Qve(mY,n),m=f.currentTabStopId===u,p=fY(n),{onFocusableItemAdd:g,onFocusableItemRemove:v,currentTabStopId:y}=f;return j.useEffect(()=>{if(r)return g(),()=>v()},[r,g,v]),s.jsx(JO.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:s.jsx(Je.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:nh(e.onMouseDown,w=>{r?f.onItemFocus(u):w.preventDefault()}),onFocus:nh(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:nh(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const N=tbe(w,f.orientation,f.dir);if(N!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let T=p().filter(C=>C.focusable).map(C=>C.ref.current);if(N==="last")T.reverse();else if(N==="prev"||N==="next"){N==="prev"&&T.reverse();const C=T.indexOf(w.currentTarget);T=f.loop?nbe(T,C+1):T.slice(C+1)}setTimeout(()=>xY(T))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:y!=null}):o})})});pY.displayName=mY;var Zve={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ebe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function tbe(e,t,n){const r=ebe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Zve[r]}function xY(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function nbe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var gY=hY,yY=pY;function rbe(e){const t=sbe(e),n=j.forwardRef((r,a)=>{const{children:i,...o}=r,l=j.Children.toArray(i),c=l.find(ibe);if(c){const u=c.props.children,f=l.map(m=>m===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function sbe(e){const t=j.forwardRef((n,r)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=lbe(a),l=obe(i,a.props);return a.type!==j.Fragment&&(l.ref=r?io(r,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var abe=Symbol("radix.slottable");function ibe(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===abe}function obe(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function lbe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var cbe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Af=new WeakMap,rb=new WeakMap,sb={},xC=0,vY=function(e){return e&&(e.host||vY(e.parentNode))},dbe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=vY(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},ube=function(e,t,n,r){var a=dbe(t,Array.isArray(e)?e:[e]);sb[n]||(sb[n]=new WeakMap);var i=sb[n],o=[],l=new Set,c=new Set(a),u=function(m){!m||l.has(m)||(l.add(m),u(m.parentNode))};a.forEach(u);var f=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))f(p);else try{var g=p.getAttribute(r),v=g!==null&&g!=="false",y=(Af.get(p)||0)+1,w=(i.get(p)||0)+1;Af.set(p,y),i.set(p,w),o.push(p),y===1&&v&&rb.set(p,!0),w===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",p,N)}})};return f(t),l.clear(),xC++,function(){o.forEach(function(m){var p=Af.get(m)-1,g=i.get(m)-1;Af.set(m,p),i.set(m,g),p||(rb.has(m)||m.removeAttribute(r),rb.delete(m)),g||m.removeAttribute(n)}),xC--,xC||(Af=new WeakMap,Af=new WeakMap,rb=new WeakMap,sb={})}},sN=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=cbe(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),ube(r,a,n,"aria-hidden")):function(){return null}},jo=function(){return jo=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},jo.apply(this,arguments)};function bY(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function fbe(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Xb="right-scroll-bar-position",Qb="width-before-scroll-bar",hbe="with-scroll-bars-hidden",mbe="--removed-body-scroll-bar-size";function gC(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function pbe(e,t){var n=j.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var xbe=typeof window<"u"?j.useLayoutEffect:j.useEffect,a6=new WeakMap;function gbe(e,t){var n=pbe(null,function(r){return e.forEach(function(a){return gC(a,r)})});return xbe(function(){var r=a6.get(n);if(r){var a=new Set(r),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||gC(l,null)}),i.forEach(function(l){a.has(l)||gC(l,o)})}a6.set(n,e)},[e]),n}function ybe(e){return e}function vbe(e,t){t===void 0&&(t=ybe);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),n}}}};return a}function bbe(e){e===void 0&&(e={});var t=vbe(null);return t.options=jo({async:!0,ssr:!1},e),t}var jY=function(e){var t=e.sideCar,n=bY(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,jo({},n))};jY.isSideCarExport=!0;function jbe(e,t){return e.useMedium(t),jY}var wY=bbe(),yC=function(){},aN=j.forwardRef(function(e,t){var n=j.useRef(null),r=j.useState({onScrollCapture:yC,onWheelCapture:yC,onTouchMoveCapture:yC}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,m=e.shards,p=e.sideCar,g=e.noIsolation,v=e.inert,y=e.allowPinchZoom,w=e.as,N=w===void 0?"div":w,A=e.gapMode,T=bY(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,S=gbe([n,t]),E=jo(jo({},T),a);return j.createElement(j.Fragment,null,f&&j.createElement(C,{sideCar:wY,removeScrollBar:u,shards:m,noIsolation:g,inert:v,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:A}),o?j.cloneElement(j.Children.only(l),jo(jo({},E),{ref:S})):j.createElement(N,jo({},E,{className:c,ref:S}),l))});aN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};aN.classNames={fullWidth:Qb,zeroRight:Xb};var wbe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Nbe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=wbe();return t&&e.setAttribute("nonce",t),e}function Sbe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Cbe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var kbe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Nbe())&&(Sbe(t,n),Cbe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Tbe=function(){var e=kbe();return function(t,n){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},NY=function(){var e=Tbe(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},Abe={left:0,top:0,right:0,gap:0},vC=function(e){return parseInt(e||"",10)||0},Ebe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[vC(n),vC(r),vC(a)]},Obe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Abe;var t=Ebe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Pbe=NY(),rh="data-scroll-locked",Mbe=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(hbe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(rh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xb,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Qb,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Xb," .").concat(Xb,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qb," .").concat(Qb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(rh,`] {
    `).concat(mbe,": ").concat(l,`px;
  }
`)},i6=function(){var e=parseInt(document.body.getAttribute(rh)||"0",10);return isFinite(e)?e:0},_be=function(){j.useEffect(function(){return document.body.setAttribute(rh,(i6()+1).toString()),function(){var e=i6()-1;e<=0?document.body.removeAttribute(rh):document.body.setAttribute(rh,e.toString())}},[])},Rbe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;_be();var i=j.useMemo(function(){return Obe(a)},[a]);return j.createElement(Pbe,{styles:Mbe(i,!t,a,n?"":"!important")})},ZO=!1;if(typeof window<"u")try{var ab=Object.defineProperty({},"passive",{get:function(){return ZO=!0,!0}});window.addEventListener("test",ab,ab),window.removeEventListener("test",ab,ab)}catch{ZO=!1}var Ef=ZO?{passive:!1}:!1,Dbe=function(e){return e.tagName==="TEXTAREA"},SY=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Dbe(e)&&n[t]==="visible")},Ibe=function(e){return SY(e,"overflowY")},Lbe=function(e){return SY(e,"overflowX")},o6=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=CY(e,r);if(a){var i=kY(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},$be=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Fbe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},CY=function(e,t){return e==="v"?Ibe(t):Lbe(t)},kY=function(e,t){return e==="v"?$be(t):Fbe(t)},Bbe=function(e,t){return e==="h"&&t==="rtl"?-1:1},zbe=function(e,t,n,r,a){var i=Bbe(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,f=o>0,m=0,p=0;do{var g=kY(e,l),v=g[0],y=g[1],w=g[2],N=y-w-i*v;(v||N)&&CY(e,l)&&(m+=N,p+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(m)<1||!f&&Math.abs(p)<1)&&(u=!0),u},ib=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},l6=function(e){return[e.deltaX,e.deltaY]},c6=function(e){return e&&"current"in e?e.current:e},qbe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ube=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Vbe=0,Of=[];function Hbe(e){var t=j.useRef([]),n=j.useRef([0,0]),r=j.useRef(),a=j.useState(Vbe++)[0],i=j.useState(NY)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var y=fbe([e.lockRef.current],(e.shards||[]).map(c6),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=j.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var N=ib(y),A=n.current,T="deltaX"in y?y.deltaX:A[0]-N[0],C="deltaY"in y?y.deltaY:A[1]-N[1],S,E=y.target,O=Math.abs(T)>Math.abs(C)?"h":"v";if("touches"in y&&O==="h"&&E.type==="range")return!1;var _=o6(O,E);if(!_)return!0;if(_?S=O:(S=O==="v"?"h":"v",_=o6(O,E)),!_)return!1;if(!r.current&&"changedTouches"in y&&(T||C)&&(r.current=S),!S)return!0;var M=r.current||S;return zbe(M,w,y,M==="h"?T:C)},[]),c=j.useCallback(function(y){var w=y;if(!(!Of.length||Of[Of.length-1]!==i)){var N="deltaY"in w?l6(w):ib(w),A=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&qbe(S.delta,N)})[0];if(A&&A.should){w.cancelable&&w.preventDefault();return}if(!A){var T=(o.current.shards||[]).map(c6).filter(Boolean).filter(function(S){return S.contains(w.target)}),C=T.length>0?l(w,T[0]):!o.current.noIsolation;C&&w.cancelable&&w.preventDefault()}}},[]),u=j.useCallback(function(y,w,N,A){var T={name:y,delta:w,target:N,should:A,shadowParent:Kbe(N)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(C){return C!==T})},1)},[]),f=j.useCallback(function(y){n.current=ib(y),r.current=void 0},[]),m=j.useCallback(function(y){u(y.type,l6(y),y.target,l(y,e.lockRef.current))},[]),p=j.useCallback(function(y){u(y.type,ib(y),y.target,l(y,e.lockRef.current))},[]);j.useEffect(function(){return Of.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Ef),document.addEventListener("touchmove",c,Ef),document.addEventListener("touchstart",f,Ef),function(){Of=Of.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,Ef),document.removeEventListener("touchmove",c,Ef),document.removeEventListener("touchstart",f,Ef)}},[]);var g=e.removeScrollBar,v=e.inert;return j.createElement(j.Fragment,null,v?j.createElement(i,{styles:Ube(a)}):null,g?j.createElement(Rbe,{gapMode:e.gapMode}):null)}function Kbe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Wbe=jbe(wY,Hbe);var ry=j.forwardRef(function(e,t){return j.createElement(aN,jo({},e,{ref:t,sideCar:Wbe}))});ry.classNames=aN.classNames;var eP=["Enter"," "],Gbe=["ArrowDown","PageUp","Home"],TY=["ArrowUp","PageDown","End"],Ybe=[...Gbe,...TY],Xbe={ltr:[...eP,"ArrowRight"],rtl:[...eP,"ArrowLeft"]},Qbe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},sy="Menu",[Wx,Jbe,Zbe]=tN(sy),[_u,AY]=ss(sy,[Zbe,Qc,rN]),ay=Qc(),EY=rN(),[OY,Jc]=_u(sy),[e0e,iy]=_u(sy),PY=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=e,l=ay(t),[c,u]=j.useState(null),f=j.useRef(!1),m=Pn(i),p=hm(a);return j.useEffect(()=>{const g=()=>{f.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>f.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),s.jsx(Qg,{...l,children:s.jsx(OY,{scope:t,open:n,onOpenChange:m,content:c,onContentChange:u,children:s.jsx(e0e,{scope:t,onClose:j.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:p,modal:o,children:r})})})};PY.displayName=sy;var t0e="MenuAnchor",A_=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=ay(n);return s.jsx(Jg,{...a,...r,ref:t})});A_.displayName=t0e;var E_="MenuPortal",[n0e,MY]=_u(E_,{forceMount:void 0}),_Y=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,i=Jc(E_,t);return s.jsx(n0e,{scope:t,forceMount:n,children:s.jsx(Vr,{present:n||i.open,children:s.jsx(fm,{asChild:!0,container:a,children:r})})})};_Y.displayName=E_;var yi="MenuContent",[r0e,O_]=_u(yi),RY=j.forwardRef((e,t)=>{const n=MY(yi,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Jc(yi,e.__scopeMenu),o=iy(yi,e.__scopeMenu);return s.jsx(Wx.Provider,{scope:e.__scopeMenu,children:s.jsx(Vr,{present:r||i.open,children:s.jsx(Wx.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(s0e,{...a,ref:t}):s.jsx(a0e,{...a,ref:t})})})})}),s0e=j.forwardRef((e,t)=>{const n=Jc(yi,e.__scopeMenu),r=j.useRef(null),a=it(t,r);return j.useEffect(()=>{const i=r.current;if(i)return sN(i)},[]),s.jsx(P_,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:yr(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),a0e=j.forwardRef((e,t)=>{const n=Jc(yi,e.__scopeMenu);return s.jsx(P_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),i0e=rbe("MenuContent.ScrollLock"),P_=j.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:p,onDismiss:g,disableOutsideScroll:v,...y}=e,w=Jc(yi,n),N=iy(yi,n),A=ay(n),T=EY(n),C=Jbe(n),[S,E]=j.useState(null),O=j.useRef(null),_=it(t,O,w.onContentChange),M=j.useRef(0),$=j.useRef(""),z=j.useRef(0),V=j.useRef(null),I=j.useRef("right"),F=j.useRef(0),K=v?ry:j.Fragment,R=v?{as:i0e,allowPinchZoom:!0}:void 0,B=q=>{const se=$.current+q,H=C().filter(he=>!he.disabled),Y=document.activeElement,G=H.find(he=>he.ref.current===Y)?.textValue,X=H.map(he=>he.textValue),ae=y0e(X,se,G),de=H.find(he=>he.textValue===ae)?.ref.current;(function he(Fe){$.current=Fe,window.clearTimeout(M.current),Fe!==""&&(M.current=window.setTimeout(()=>he(""),1e3))})(se),de&&setTimeout(()=>de.focus())};j.useEffect(()=>()=>window.clearTimeout(M.current),[]),nN();const L=j.useCallback(q=>I.current===V.current?.side&&b0e(q,V.current?.area),[]);return s.jsx(r0e,{scope:n,searchRef:$,onItemEnter:j.useCallback(q=>{L(q)&&q.preventDefault()},[L]),onItemLeave:j.useCallback(q=>{L(q)||(O.current?.focus(),E(null))},[L]),onTriggerLeave:j.useCallback(q=>{L(q)&&q.preventDefault()},[L]),pointerGraceTimerRef:z,onPointerGraceIntentChange:j.useCallback(q=>{V.current=q},[]),children:s.jsx(K,{...R,children:s.jsx(ty,{asChild:!0,trapped:a,onMountAutoFocus:yr(i,q=>{q.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(dm,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:p,onDismiss:g,children:s.jsx(gY,{asChild:!0,...T,dir:N.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:E,onEntryFocus:yr(c,q=>{N.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Xw,{role:"menu","aria-orientation":"vertical","data-state":QY(w.open),"data-radix-menu-content":"",dir:N.dir,...A,...y,ref:_,style:{outline:"none",...y.style},onKeyDown:yr(y.onKeyDown,q=>{const H=q.target.closest("[data-radix-menu-content]")===q.currentTarget,Y=q.ctrlKey||q.altKey||q.metaKey,G=q.key.length===1;H&&(q.key==="Tab"&&q.preventDefault(),!Y&&G&&B(q.key));const X=O.current;if(q.target!==X||!Ybe.includes(q.key))return;q.preventDefault();const de=C().filter(he=>!he.disabled).map(he=>he.ref.current);TY.includes(q.key)&&de.reverse(),x0e(de)}),onBlur:yr(e.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(M.current),$.current="")}),onPointerMove:yr(e.onPointerMove,Gx(q=>{const se=q.target,H=F.current!==q.clientX;if(q.currentTarget.contains(se)&&H){const Y=q.clientX>F.current?"right":"left";I.current=Y,F.current=q.clientX}}))})})})})})})});RY.displayName=yi;var o0e="MenuGroup",M_=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Je.div,{role:"group",...r,ref:t})});M_.displayName=o0e;var l0e="MenuLabel",DY=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Je.div,{...r,ref:t})});DY.displayName=l0e;var _0="MenuItem",d6="menu.itemSelect",iN=j.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,i=j.useRef(null),o=iy(_0,e.__scopeMenu),l=O_(_0,e.__scopeMenu),c=it(t,i),u=j.useRef(!1),f=()=>{const m=i.current;if(!n&&m){const p=new CustomEvent(d6,{bubbles:!0,cancelable:!0});m.addEventListener(d6,g=>r?.(g),{once:!0}),hG(m,p),p.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(IY,{...a,ref:c,disabled:n,onClick:yr(e.onClick,f),onPointerDown:m=>{e.onPointerDown?.(m),u.current=!0},onPointerUp:yr(e.onPointerUp,m=>{u.current||m.currentTarget?.click()}),onKeyDown:yr(e.onKeyDown,m=>{const p=l.searchRef.current!=="";n||p&&m.key===" "||eP.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});iN.displayName=_0;var IY=j.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=e,o=O_(_0,n),l=EY(n),c=j.useRef(null),u=it(t,c),[f,m]=j.useState(!1),[p,g]=j.useState("");return j.useEffect(()=>{const v=c.current;v&&g((v.textContent??"").trim())},[i.children]),s.jsx(Wx.ItemSlot,{scope:n,disabled:r,textValue:a??p,children:s.jsx(yY,{asChild:!0,...l,focusable:!r,children:s.jsx(Je.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:yr(e.onPointerMove,Gx(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:yr(e.onPointerLeave,Gx(v=>o.onItemLeave(v))),onFocus:yr(e.onFocus,()=>m(!0)),onBlur:yr(e.onBlur,()=>m(!1))})})})}),c0e="MenuCheckboxItem",LY=j.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return s.jsx(qY,{scope:e.__scopeMenu,checked:n,children:s.jsx(iN,{role:"menuitemcheckbox","aria-checked":R0(n)?"mixed":n,...a,ref:t,"data-state":D_(n),onSelect:yr(a.onSelect,()=>r?.(R0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});LY.displayName=c0e;var $Y="MenuRadioGroup",[d0e,u0e]=_u($Y,{value:void 0,onValueChange:()=>{}}),FY=j.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,i=Pn(r);return s.jsx(d0e,{scope:e.__scopeMenu,value:n,onValueChange:i,children:s.jsx(M_,{...a,ref:t})})});FY.displayName=$Y;var BY="MenuRadioItem",zY=j.forwardRef((e,t)=>{const{value:n,...r}=e,a=u0e(BY,e.__scopeMenu),i=n===a.value;return s.jsx(qY,{scope:e.__scopeMenu,checked:i,children:s.jsx(iN,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":D_(i),onSelect:yr(r.onSelect,()=>a.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});zY.displayName=BY;var __="MenuItemIndicator",[qY,f0e]=_u(__,{checked:!1}),UY=j.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,i=f0e(__,n);return s.jsx(Vr,{present:r||R0(i.checked)||i.checked===!0,children:s.jsx(Je.span,{...a,ref:t,"data-state":D_(i.checked)})})});UY.displayName=__;var h0e="MenuSeparator",VY=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Je.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});VY.displayName=h0e;var m0e="MenuArrow",HY=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=ay(n);return s.jsx(Qw,{...a,...r,ref:t})});HY.displayName=m0e;var R_="MenuSub",[p0e,KY]=_u(R_),WY=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:a}=e,i=Jc(R_,t),o=ay(t),[l,c]=j.useState(null),[u,f]=j.useState(null),m=Pn(a);return j.useEffect(()=>(i.open===!1&&m(!1),()=>m(!1)),[i.open,m]),s.jsx(Qg,{...o,children:s.jsx(OY,{scope:t,open:r,onOpenChange:m,content:u,onContentChange:f,children:s.jsx(p0e,{scope:t,contentId:Ts(),triggerId:Ts(),trigger:l,onTriggerChange:c,children:n})})})};WY.displayName=R_;var ex="MenuSubTrigger",GY=j.forwardRef((e,t)=>{const n=Jc(ex,e.__scopeMenu),r=iy(ex,e.__scopeMenu),a=KY(ex,e.__scopeMenu),i=O_(ex,e.__scopeMenu),o=j.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},f=j.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return j.useEffect(()=>f,[f]),j.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),s.jsx(A_,{asChild:!0,...u,children:s.jsx(IY,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":QY(n.open),...e,ref:io(t,a.onTriggerChange),onClick:m=>{e.onClick?.(m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:yr(e.onPointerMove,Gx(m=>{i.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:yr(e.onPointerLeave,Gx(m=>{f();const p=n.content?.getBoundingClientRect();if(p){const g=n.content?.dataset.side,v=g==="right",y=v?-5:5,w=p[v?"left":"right"],N=p[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+y,y:m.clientY},{x:w,y:p.top},{x:N,y:p.top},{x:N,y:p.bottom},{x:w,y:p.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:yr(e.onKeyDown,m=>{const p=i.searchRef.current!=="";e.disabled||p&&m.key===" "||Xbe[r.dir].includes(m.key)&&(n.onOpenChange(!0),n.content?.focus(),m.preventDefault())})})})});GY.displayName=ex;var YY="MenuSubContent",XY=j.forwardRef((e,t)=>{const n=MY(yi,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Jc(yi,e.__scopeMenu),o=iy(yi,e.__scopeMenu),l=KY(YY,e.__scopeMenu),c=j.useRef(null),u=it(t,c);return s.jsx(Wx.Provider,{scope:e.__scopeMenu,children:s.jsx(Vr,{present:r||i.open,children:s.jsx(Wx.Slot,{scope:e.__scopeMenu,children:s.jsx(P_,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{o.isUsingKeyboardRef.current&&c.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:yr(e.onFocusOutside,f=>{f.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:yr(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:yr(e.onKeyDown,f=>{const m=f.currentTarget.contains(f.target),p=Qbe[o.dir].includes(f.key);m&&p&&(i.onOpenChange(!1),l.trigger?.focus(),f.preventDefault())})})})})})});XY.displayName=YY;function QY(e){return e?"open":"closed"}function R0(e){return e==="indeterminate"}function D_(e){return R0(e)?"indeterminate":e?"checked":"unchecked"}function x0e(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function g0e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function y0e(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=g0e(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function v0e(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,f=l.y,m=c.x,p=c.y;f>r!=p>r&&n<(m-u)*(r-f)/(p-f)+u&&(a=!a)}return a}function b0e(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return v0e(n,t)}function Gx(e){return t=>t.pointerType==="mouse"?e(t):void 0}var j0e=PY,w0e=A_,N0e=_Y,S0e=RY,C0e=M_,k0e=DY,T0e=iN,A0e=LY,E0e=FY,O0e=zY,P0e=UY,M0e=VY,_0e=HY,R0e=WY,D0e=GY,I0e=XY,oN="DropdownMenu",[L0e]=ss(oN,[AY]),Ps=AY(),[$0e,JY]=L0e(oN),ZY=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Ps(t),u=j.useRef(null),[f,m]=dY({prop:a,defaultProp:i??!1,onChange:o,caller:oN});return s.jsx($0e,{scope:t,triggerId:Ts(),triggerRef:u,contentId:Ts(),open:f,onOpenChange:m,onOpenToggle:j.useCallback(()=>m(p=>!p),[m]),modal:l,children:s.jsx(j0e,{...c,open:f,onOpenChange:m,dir:r,modal:l,children:n})})};ZY.displayName=oN;var eX="DropdownMenuTrigger",tX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,i=JY(eX,n),o=Ps(n);return s.jsx(w0e,{asChild:!0,...o,children:s.jsx(Je.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:io(t,i.triggerRef),onPointerDown:M0(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:M0(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});tX.displayName=eX;var F0e="DropdownMenuPortal",nX=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Ps(t);return s.jsx(N0e,{...r,...n})};nX.displayName=F0e;var rX="DropdownMenuContent",sX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=JY(rX,n),i=Ps(n),o=j.useRef(!1);return s.jsx(S0e,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:t,onCloseAutoFocus:M0(e.onCloseAutoFocus,l=>{o.current||a.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:M0(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!a.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sX.displayName=rX;var B0e="DropdownMenuGroup",z0e=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(C0e,{...a,...r,ref:t})});z0e.displayName=B0e;var q0e="DropdownMenuLabel",aX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(k0e,{...a,...r,ref:t})});aX.displayName=q0e;var U0e="DropdownMenuItem",iX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(T0e,{...a,...r,ref:t})});iX.displayName=U0e;var V0e="DropdownMenuCheckboxItem",oX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(A0e,{...a,...r,ref:t})});oX.displayName=V0e;var H0e="DropdownMenuRadioGroup",K0e=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(E0e,{...a,...r,ref:t})});K0e.displayName=H0e;var W0e="DropdownMenuRadioItem",lX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(O0e,{...a,...r,ref:t})});lX.displayName=W0e;var G0e="DropdownMenuItemIndicator",cX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(P0e,{...a,...r,ref:t})});cX.displayName=G0e;var Y0e="DropdownMenuSeparator",dX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(M0e,{...a,...r,ref:t})});dX.displayName=Y0e;var X0e="DropdownMenuArrow",Q0e=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(_0e,{...a,...r,ref:t})});Q0e.displayName=X0e;var J0e=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:a,defaultOpen:i}=e,o=Ps(t),[l,c]=dY({prop:r,defaultProp:i??!1,onChange:a,caller:"DropdownMenuSub"});return s.jsx(R0e,{...o,open:l,onOpenChange:c,children:n})},Z0e="DropdownMenuSubTrigger",uX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(D0e,{...a,...r,ref:t})});uX.displayName=Z0e;var eje="DropdownMenuSubContent",fX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ps(n);return s.jsx(I0e,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fX.displayName=eje;var tje=ZY,nje=tX,rje=nX,hX=sX,mX=aX,pX=iX,xX=oX,gX=lX,yX=cX,vX=dX,sje=J0e,bX=uX,jX=fX;const Ru=tje,Du=nje,u6=sje,tP=j.forwardRef(({className:e,inset:t,children:n,...r},a)=>s.jsxs(bX,{ref:a,className:Re("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,s.jsx(Hc,{className:"ml-auto"})]}));tP.displayName=bX.displayName;const nP=j.forwardRef(({className:e,...t},n)=>s.jsx(jX,{ref:n,className:Re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));nP.displayName=jX.displayName;const Zc=j.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(rje,{children:s.jsx(hX,{ref:r,sideOffset:t,className:Re("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));Zc.displayName=hX.displayName;const $a=j.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(pX,{ref:r,className:Re("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...n}));$a.displayName=pX.displayName;const aje=j.forwardRef(({className:e,children:t,checked:n,...r},a)=>s.jsxs(xX,{ref:a,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(yX,{children:s.jsx(bt,{className:"h-4 w-4"})})}),t]}));aje.displayName=xX.displayName;const ije=j.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(gX,{ref:r,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(yX,{children:s.jsx(zW,{className:"h-2 w-2 fill-current"})})}),t]}));ije.displayName=gX.displayName;const oje=j.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(mX,{ref:r,className:Re("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));oje.displayName=mX.displayName;const wX=j.forwardRef(({className:e,...t},n)=>s.jsx(vX,{ref:n,className:Re("-mx-1 my-1 h-px bg-muted",e),...t}));wX.displayName=vX.displayName;function I_(){const{setTheme:e,theme:t}=aue();return s.jsxs(Ru,{children:[s.jsx(Du,{asChild:!0,children:s.jsxs(U,{variant:"ghost",size:"icon",className:"h-9 w-9","data-testid":"button-theme-toggle",children:[s.jsx(gF,{className:"h-4 w-4 text-yellow-500 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(mF,{className:"absolute h-4 w-4 text-blue-400 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),s.jsxs(Zc,{align:"end",children:[s.jsxs($a,{onClick:()=>e("light"),"data-testid":"menu-theme-light",children:[s.jsx(gF,{className:"mr-2 h-4 w-4"}),""]}),s.jsxs($a,{onClick:()=>e("dark"),"data-testid":"menu-theme-dark",children:[s.jsx(mF,{className:"mr-2 h-4 w-4"}),""]}),s.jsxs($a,{onClick:()=>e("system"),"data-testid":"menu-theme-system",children:[s.jsx("span",{className:"mr-2",children:""}),""]})]})]})}function lje(){const{t:e,i18n:t}=as();hr();const[n,r]=j.useState(!1),[a,i]=j.useState(!1),{data:o}=Ne({queryKey:["/api/public/platform-settings"]}),l=o?.platformName||e("brand");j.useEffect(()=>{const u=()=>{r(window.scrollY>10)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]);const c=u=>{t.changeLanguage(u)};return s.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-200 border-b ${n?"bg-background/90 backdrop-blur-md border-border py-3":"bg-background border-transparent py-4"}`,children:[s.jsxs("div",{className:"container mx-auto px-4 flex items-center justify-between",children:[s.jsxs(Mt,{href:"/",className:"flex items-center gap-2 group",children:[o?.platformLogoUrl?s.jsx("img",{src:o.platformLogoUrl,alt:l,className:"w-8 h-8 rounded object-cover"}):s.jsx("div",{className:"w-8 h-8 rounded bg-emerald-600 flex items-center justify-center text-foreground font-bold font-mono text-sm shadow-[0_0_15px_rgba(16,185,129,0.4)] group-hover:bg-emerald-500 transition-colors",children:l.substring(0,2).toUpperCase()}),s.jsxs("span",{className:"font-bold text-lg tracking-tight text-foreground group-hover:text-emerald-400 transition-colors font-mono",children:[l,"_"]})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-8 text-xs font-mono font-medium text-muted-foreground uppercase tracking-widest",children:[s.jsx("a",{href:"#features",className:"hover:text-foreground transition-colors",children:e("nav.features")}),s.jsx("a",{href:"#pricing",className:"hover:text-foreground transition-colors",children:e("nav.pricing")}),s.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:e("nav.apiDocs")})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[s.jsxs(Ru,{children:[s.jsx(Du,{asChild:!0,children:s.jsxs(U,{variant:"ghost",size:"sm",className:"h-8 text-xs font-mono text-muted-foreground hover:text-foreground hover:bg-muted",children:[s.jsx(jn,{className:"h-3 w-3 mr-2"}),t.language.toUpperCase()]})}),s.jsxs(Zc,{align:"end",className:"bg-card border-border text-foreground",children:[s.jsx($a,{onClick:()=>c("ru"),className:"hover:bg-muted hover:text-foreground cursor-pointer font-mono text-xs",children:"RUSSIAN"}),s.jsx($a,{onClick:()=>c("en"),className:"hover:bg-muted hover:text-foreground cursor-pointer font-mono text-xs",children:"ENGLISH"})]})]}),s.jsx(I_,{}),s.jsx("div",{className:"h-4 w-px bg-border"}),s.jsx(Mt,{href:"/login",children:s.jsx(U,{variant:"ghost",size:"sm",className:"h-8 text-xs font-mono text-foreground hover:bg-muted",children:e("nav.login")})}),s.jsx(Mt,{href:"/register/advertiser",children:s.jsxs(U,{size:"sm",className:"h-8 bg-white text-black hover:bg-muted text-xs font-bold font-mono px-4 rounded-sm",children:[e("nav.start")," ",s.jsx(Jp,{className:"w-3 h-3 ml-2"})]})})]}),s.jsx("div",{className:"md:hidden flex items-center gap-4",children:s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>i(!a),className:"text-foreground",children:a?s.jsx(Xn,{className:"h-5 w-5"}):s.jsx(WW,{className:"h-5 w-5"})})})]}),a&&s.jsxs("div",{className:"md:hidden absolute top-full left-0 right-0 bg-background border-b border-border p-4 shadow-xl flex flex-col gap-4",children:[s.jsx("a",{href:"#features",className:"text-sm font-mono text-muted-foreground py-2",children:e("nav.features")}),s.jsx("a",{href:"#pricing",className:"text-sm font-mono text-muted-foreground py-2",children:e("nav.pricing")}),s.jsx(Mt,{href:"/login",children:s.jsx(U,{className:"w-full bg-emerald-600 hover:bg-emerald-500 text-foreground font-mono",children:e("nav.loginSystem")})})]})]})}function cje(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}var dje=pa[" useInsertionEffect ".trim().toString()]||Zt;function uje({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=fje({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=hje(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function fje({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return dje(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function hje(e){return typeof e=="function"}function L_(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var lN="Switch",[mje]=ss(lN),[pje,xje]=mje(lN),NX=j.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:f,...m}=e,[p,g]=j.useState(null),v=it(t,T=>g(T)),y=j.useRef(!1),w=p?f||!!p.closest("form"):!0,[N,A]=uje({prop:a,defaultProp:i??!1,onChange:u,caller:lN});return s.jsxs(pje,{scope:n,checked:N,disabled:l,children:[s.jsx(Je.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":TX(N),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:v,onClick:cje(e.onClick,T=>{A(C=>!C),w&&(y.current=T.isPropagationStopped(),y.current||T.stopPropagation())})}),w&&s.jsx(kX,{control:p,bubbles:!y.current,name:r,value:c,checked:N,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});NX.displayName=lN;var SX="SwitchThumb",CX=j.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=xje(SX,n);return s.jsx(Je.span,{"data-state":TX(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});CX.displayName=SX;var gje="SwitchBubbleInput",kX=j.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...a},i)=>{const o=j.useRef(null),l=it(o,i),c=L_(n),u=j_(t);return j.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&g){const v=new Event("click",{bubbles:r});g.call(f,n),f.dispatchEvent(v)}},[c,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kX.displayName=gje;function TX(e){return e?"checked":"unchecked"}var AX=NX,yje=CX;const vr=j.forwardRef(({className:e,...t},n)=>s.jsx(AX,{className:Re("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(yje,{className:Re("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));vr.displayName=AX.displayName;const vje=im("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:"text-foreground border [border-color:var(--badge-outline)]"}},defaultVariants:{variant:"default"}});function ye({className:e,variant:t,...n}){return s.jsx("div",{className:Re(vje({variant:t}),e),...n})}const EX=j.createContext({});function cN(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const $_=typeof window<"u",F_=$_?j.useLayoutEffect:j.useEffect,B_=j.createContext(null);function z_(e,t){e.indexOf(t)===-1&&e.push(t)}function q_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Lo=(e,t,n)=>n>t?t:n<e?e:n;let Yx=()=>{};const Ll={},OX=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function PX(e){return typeof e=="object"&&e!==null}const MX=e=>/^0[^.\s]+$/u.test(e);function U_(e){let t;return()=>(t===void 0&&(t=e()),t)}const ha=e=>e,bje=(e,t)=>n=>t(e(n)),oy=(...e)=>e.reduce(bje),jh=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class V_{constructor(){this.subscriptions=[]}add(t){return z_(this.subscriptions,t),()=>q_(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ao=e=>e*1e3,pi=e=>e/1e3;function H_(e,t){return t?e*(1e3/t):0}const _X=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,jje=1e-7,wje=12;function Nje(e,t,n,r,a){let i,o,l=0;do o=t+(n-t)/2,i=_X(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>jje&&++l<wje);return o}function ly(e,t,n,r){if(e===t&&n===r)return ha;const a=i=>Nje(i,0,1,e,n);return i=>i===0||i===1?i:_X(a(i),t,r)}const RX=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,DX=e=>t=>1-e(1-t),IX=ly(.33,1.53,.69,.99),K_=DX(IX),LX=RX(K_),$X=e=>(e*=2)<1?.5*K_(e):.5*(2-Math.pow(2,-10*(e-1))),W_=e=>1-Math.sin(Math.acos(e)),FX=DX(W_),BX=RX(W_),Sje=ly(.42,0,1,1),Cje=ly(0,0,.58,1),zX=ly(.42,0,.58,1),kje=e=>Array.isArray(e)&&typeof e[0]!="number",qX=e=>Array.isArray(e)&&typeof e[0]=="number",Tje={linear:ha,easeIn:Sje,easeInOut:zX,easeOut:Cje,circIn:W_,circInOut:BX,circOut:FX,backIn:K_,backInOut:LX,backOut:IX,anticipate:$X},Aje=e=>typeof e=="string",f6=e=>{if(qX(e)){Yx(e.length===4);const[t,n,r,a]=e;return ly(t,n,r,a)}else if(Aje(e))return Tje[e];return e},ob=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Eje(e,t){let n=new Set,r=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){o.has(f)&&(u.schedule(f),e()),f(l)}const u={schedule:(f,m=!1,p=!1)=>{const v=p&&a?n:r;return m&&o.add(f),v.has(f)||v.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(l=f,a){i=!0;return}a=!0,[n,r]=[r,n],n.forEach(c),n.clear(),a=!1,i&&(i=!1,u.process(f))}};return u}const Oje=40;function UX(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=ob.reduce((T,C)=>(T[C]=Eje(i),T),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:f,update:m,preRender:p,render:g,postRender:v}=o,y=()=>{const T=Ll.useManualTiming?a.timestamp:performance.now();n=!1,Ll.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(T-a.timestamp,Oje),1)),a.timestamp=T,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),f.process(a),m.process(a),p.process(a),g.process(a),v.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(y))},w=()=>{n=!0,r=!0,a.isProcessing||e(y)};return{schedule:ob.reduce((T,C)=>{const S=o[C];return T[C]=(E,O=!1,_=!1)=>(n||w(),S.schedule(E,O,_)),T},{}),cancel:T=>{for(let C=0;C<ob.length;C++)o[ob[C]].cancel(T)},state:a,steps:o}}const{schedule:xn,cancel:so,state:Wr,steps:bC}=UX(typeof requestAnimationFrame<"u"?requestAnimationFrame:ha,!0);let Jb;function Pje(){Jb=void 0}const da={now:()=>(Jb===void 0&&da.set(Wr.isProcessing||Ll.useManualTiming?Wr.timestamp:performance.now()),Jb),set:e=>{Jb=e,queueMicrotask(Pje)}},VX=e=>t=>typeof t=="string"&&t.startsWith(e),G_=VX("--"),Mje=VX("var(--"),Y_=e=>Mje(e)?_je.test(e.split("/*")[0].trim()):!1,_je=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,mm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Xx={...mm,transform:e=>Lo(0,1,e)},lb={...mm,default:1},px=e=>Math.round(e*1e5)/1e5,X_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Rje(e){return e==null}const Dje=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Q_=(e,t)=>n=>!!(typeof n=="string"&&Dje.test(n)&&n.startsWith(e)||t&&!Rje(n)&&Object.prototype.hasOwnProperty.call(n,t)),HX=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,i,o,l]=r.match(X_);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Ije=e=>Lo(0,255,e),jC={...mm,transform:e=>Math.round(Ije(e))},qd={test:Q_("rgb","red"),parse:HX("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+jC.transform(e)+", "+jC.transform(t)+", "+jC.transform(n)+", "+px(Xx.transform(r))+")"};function Lje(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const rP={test:Q_("#"),parse:Lje,transform:qd.transform},cy=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Cc=cy("deg"),Eo=cy("%"),gt=cy("px"),$je=cy("vh"),Fje=cy("vw"),h6={...Eo,parse:e=>Eo.parse(e)/100,transform:e=>Eo.transform(e*100)},zf={test:Q_("hsl","hue"),parse:HX("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Eo.transform(px(t))+", "+Eo.transform(px(n))+", "+px(Xx.transform(r))+")"},Ar={test:e=>qd.test(e)||rP.test(e)||zf.test(e),parse:e=>qd.test(e)?qd.parse(e):zf.test(e)?zf.parse(e):rP.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?qd.transform(e):zf.transform(e),getAnimatableNone:e=>{const t=Ar.parse(e);return t.alpha=0,Ar.transform(t)}},Bje=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zje(e){return isNaN(e)&&typeof e=="string"&&(e.match(X_)?.length||0)+(e.match(Bje)?.length||0)>0}const KX="number",WX="color",qje="var",Uje="var(",m6="${}",Vje=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qx(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(Vje,c=>(Ar.test(c)?(r.color.push(i),a.push(WX),n.push(Ar.parse(c))):c.startsWith(Uje)?(r.var.push(i),a.push(qje),n.push(c)):(r.number.push(i),a.push(KX),n.push(parseFloat(c))),++i,m6)).split(m6);return{values:n,split:l,indexes:r,types:a}}function GX(e){return Qx(e).values}function YX(e){const{split:t,types:n}=Qx(e),r=t.length;return a=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],a[o]!==void 0){const l=n[o];l===KX?i+=px(a[o]):l===WX?i+=Ar.transform(a[o]):i+=a[o]}return i}}const Hje=e=>typeof e=="number"?0:Ar.test(e)?Ar.getAnimatableNone(e):e;function Kje(e){const t=GX(e);return YX(e)(t.map(Hje))}const Gc={test:zje,parse:GX,createTransformer:YX,getAnimatableNone:Kje};function wC(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Wje({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=wC(c,l,e+1/3),i=wC(c,l,e),o=wC(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function D0(e,t){return n=>n>0?t:e}const nr=(e,t,n)=>e+(t-e)*n,NC=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},Gje=[rP,qd,zf],Yje=e=>Gje.find(t=>t.test(e));function p6(e){const t=Yje(e);if(!t)return!1;let n=t.parse(e);return t===zf&&(n=Wje(n)),n}const x6=(e,t)=>{const n=p6(e),r=p6(t);if(!n||!r)return D0(e,t);const a={...n};return i=>(a.red=NC(n.red,r.red,i),a.green=NC(n.green,r.green,i),a.blue=NC(n.blue,r.blue,i),a.alpha=nr(n.alpha,r.alpha,i),qd.transform(a))},sP=new Set(["none","hidden"]);function Xje(e,t){return sP.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Qje(e,t){return n=>nr(e,t,n)}function J_(e){return typeof e=="number"?Qje:typeof e=="string"?Y_(e)?D0:Ar.test(e)?x6:ewe:Array.isArray(e)?XX:typeof e=="object"?Ar.test(e)?x6:Jje:D0}function XX(e,t){const n=[...e],r=n.length,a=e.map((i,o)=>J_(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}}function Jje(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=J_(e[a])(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}}function Zje(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][r[i]],l=e.values[o]??0;n[a]=l,r[i]++}return n}const ewe=(e,t)=>{const n=Gc.createTransformer(t),r=Qx(e),a=Qx(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?sP.has(e)&&!a.values.length||sP.has(t)&&!r.values.length?Xje(e,t):oy(XX(Zje(r,a),a.values),n):D0(e,t)};function QX(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?nr(e,t,n):J_(e)(e,t)}const twe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>xn.update(t,n),stop:()=>so(t),now:()=>Wr.isProcessing?Wr.timestamp:da.now()}},JX=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)r+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},I0=2e4;function Z_(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<I0;)t+=n,r=e.next(t);return t>=I0?1/0:t}function nwe(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(Z_(r),I0);return{type:"keyframes",ease:i=>r.next(a*i).value/t,duration:pi(a)}}const rwe=5;function ZX(e,t,n){const r=Math.max(t-rwe,0);return H_(n-e(r),t-r)}const or={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},SC=.001;function swe({duration:e=or.duration,bounce:t=or.bounce,velocity:n=or.velocity,mass:r=or.mass}){let a,i,o=1-t;o=Lo(or.minDamping,or.maxDamping,o),e=Lo(or.minDuration,or.maxDuration,pi(e)),o<1?(a=u=>{const f=u*o,m=f*e,p=f-n,g=aP(u,o),v=Math.exp(-m);return SC-p/g*v},i=u=>{const m=u*o*e,p=m*n+n,g=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-m),y=aP(Math.pow(u,2),o);return(-a(u)+SC>0?-1:1)*((p-g)*v)/y}):(a=u=>{const f=Math.exp(-u*e),m=(u-n)*e+1;return-SC+f*m},i=u=>{const f=Math.exp(-u*e),m=(n-u)*(e*e);return f*m});const l=5/e,c=iwe(a,i,l);if(e=Ao(e),isNaN(c))return{stiffness:or.stiffness,damping:or.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const awe=12;function iwe(e,t,n){let r=n;for(let a=1;a<awe;a++)r=r-e(r)/t(r);return r}function aP(e,t){return e*Math.sqrt(1-t*t)}const owe=["duration","bounce"],lwe=["stiffness","damping","mass"];function g6(e,t){return t.some(n=>e[n]!==void 0)}function cwe(e){let t={velocity:or.velocity,stiffness:or.stiffness,damping:or.damping,mass:or.mass,isResolvedFromDuration:!1,...e};if(!g6(e,lwe)&&g6(e,owe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,i=2*Lo(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:or.mass,stiffness:a,damping:i}}else{const n=swe(e);t={...t,...n,mass:or.mass},t.isResolvedFromDuration=!0}return t}function L0(e=or.visualDuration,t=or.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:f,duration:m,velocity:p,isResolvedFromDuration:g}=cwe({...n,velocity:-pi(n.velocity||0)}),v=p||0,y=u/(2*Math.sqrt(c*f)),w=o-i,N=pi(Math.sqrt(c/f)),A=Math.abs(w)<5;r||(r=A?or.restSpeed.granular:or.restSpeed.default),a||(a=A?or.restDelta.granular:or.restDelta.default);let T;if(y<1){const S=aP(N,y);T=E=>{const O=Math.exp(-y*N*E);return o-O*((v+y*N*w)/S*Math.sin(S*E)+w*Math.cos(S*E))}}else if(y===1)T=S=>o-Math.exp(-N*S)*(w+(v+N*w)*S);else{const S=N*Math.sqrt(y*y-1);T=E=>{const O=Math.exp(-y*N*E),_=Math.min(S*E,300);return o-O*((v+y*N*w)*Math.sinh(_)+S*w*Math.cosh(_))/S}}const C={calculatedDuration:g&&m||null,next:S=>{const E=T(S);if(g)l.done=S>=m;else{let O=S===0?v:0;y<1&&(O=S===0?Ao(v):ZX(T,S,E));const _=Math.abs(O)<=r,M=Math.abs(o-E)<=a;l.done=_&&M}return l.value=l.done?o:E,l},toString:()=>{const S=Math.min(Z_(C),I0),E=JX(O=>C.next(S*O).value,S,30);return S+"ms "+E},toTransition:()=>{}};return C}L0.applyToOptions=e=>{const t=nwe(e,100,L0);return e.ease=t.ease,e.duration=Ao(t.duration),e.type="keyframes",e};function iP({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:f}){const m=e[0],p={done:!1,value:m},g=_=>l!==void 0&&_<l||c!==void 0&&_>c,v=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let y=n*t;const w=m+y,N=o===void 0?w:o(w);N!==w&&(y=N-m);const A=_=>-y*Math.exp(-_/r),T=_=>N+A(_),C=_=>{const M=A(_),$=T(_);p.done=Math.abs(M)<=u,p.value=p.done?N:$};let S,E;const O=_=>{g(p.value)&&(S=_,E=L0({keyframes:[p.value,v(p.value)],velocity:ZX(T,_,p.value),damping:a,stiffness:i,restDelta:u,restSpeed:f}))};return O(0),{calculatedDuration:null,next:_=>{let M=!1;return!E&&S===void 0&&(M=!0,C(_),O(_)),S!==void 0&&_>=S?E.next(_-S):(!M&&C(_),p)}}}function dwe(e,t,n){const r=[],a=n||Ll.mix||QX,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ha:t;l=oy(c,l)}r.push(l)}return r}function eR(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(Yx(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=dwe(t,r,a),c=l.length,u=f=>{if(o&&f<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(f<e[m+1]);m++);const p=jh(e[m],e[m+1],f);return l[m](p)};return n?f=>u(Lo(e[0],e[i-1],f)):u}function uwe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=jh(0,t,r);e.push(nr(n,1,a))}}function eQ(e){const t=[0];return uwe(t,e.length-1),t}function fwe(e,t){return e.map(n=>n*t)}function hwe(e,t){return e.map(()=>t||zX).splice(0,e.length-1)}function xx({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=kje(r)?r.map(f6):f6(r),i={done:!1,value:t[0]},o=fwe(n&&n.length===t.length?n:eQ(t),e),l=eR(o,t,{ease:Array.isArray(a)?a:hwe(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const mwe=e=>e!==null;function tR(e,{repeat:t,repeatType:n="loop"},r,a=1){const i=e.filter(mwe),l=a<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const pwe={decay:iP,inertia:iP,tween:xx,keyframes:xx,spring:L0};function tQ(e){typeof e.type=="string"&&(e.type=pwe[e.type])}class nR{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const xwe=e=>e/100;class rR extends nR{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==da.now()&&this.tick(da.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;tQ(t);const{type:n=xx,repeat:r=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=n||xx;c!==xx&&typeof l[0]!="number"&&(this.mixKeyframes=oy(xwe,QX(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Z_(u));const{calculatedDuration:f}=u;this.calculatedDuration=f,this.resolvedDuration=f+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:f,repeat:m,repeatType:p,repeatDelay:g,type:v,onUpdate:y,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const N=this.currentTime-u*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?N<0:N>a;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let T=this.currentTime,C=r;if(m){const _=Math.min(this.currentTime,a)/l;let M=Math.floor(_),$=_%1;!$&&_>=1&&($=1),$===1&&M--,M=Math.min(M,m+1),!!(M%2)&&(p==="reverse"?($=1-$,g&&($-=g/l)):p==="mirror"&&(C=o)),T=Lo(0,1,$)*l}const S=A?{done:!1,value:f[0]}:C.next(T);i&&(S.value=i(S.value));let{done:E}=S;!A&&c!==null&&(E=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return O&&v!==iP&&(S.value=tR(f,this.options,w,this.speed)),y&&y(S.value),O&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return pi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+pi(t)}get time(){return pi(this.currentTime)}set time(t){t=Ao(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(da.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=pi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=twe,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(da.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function gwe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ud=e=>e*180/Math.PI,oP=e=>{const t=Ud(Math.atan2(e[1],e[0]));return lP(t)},ywe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:oP,rotateZ:oP,skewX:e=>Ud(Math.atan(e[1])),skewY:e=>Ud(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},lP=e=>(e=e%360,e<0&&(e+=360),e),y6=oP,v6=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),b6=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),vwe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:v6,scaleY:b6,scale:e=>(v6(e)+b6(e))/2,rotateX:e=>lP(Ud(Math.atan2(e[6],e[5]))),rotateY:e=>lP(Ud(Math.atan2(-e[2],e[0]))),rotateZ:y6,rotate:y6,skewX:e=>Ud(Math.atan(e[4])),skewY:e=>Ud(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function cP(e){return e.includes("scale")?1:0}function dP(e,t){if(!e||e==="none")return cP(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=vwe,a=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ywe,a=l}if(!a)return cP(t);const i=r[t],o=a[1].split(",").map(jwe);return typeof i=="function"?i(o):o[i]}const bwe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return dP(n,t)};function jwe(e){return parseFloat(e.trim())}const pm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xm=new Set(pm),j6=e=>e===mm||e===gt,wwe=new Set(["x","y","z"]),Nwe=pm.filter(e=>!wwe.has(e));function Swe(e){const t=[];return Nwe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Qd={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>dP(t,"x"),y:(e,{transform:t})=>dP(t,"y")};Qd.translateX=Qd.x;Qd.translateY=Qd.y;const Jd=new Set;let uP=!1,fP=!1,hP=!1;function nQ(){if(fP){const e=Array.from(Jd).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=Swe(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([i,o])=>{r.getValue(i)?.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}fP=!1,uP=!1,Jd.forEach(e=>e.complete(hP)),Jd.clear()}function rQ(){Jd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(fP=!0)})}function Cwe(){hP=!0,rQ(),nQ(),hP=!1}class sR{constructor(t,n,r,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Jd.add(this),uP||(uP=!0,xn.read(rQ),xn.resolveKeyframes(nQ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const i=a?.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}gwe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Jd.delete(this)}cancel(){this.state==="scheduled"&&(Jd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kwe=e=>e.startsWith("--");function Twe(e,t,n){kwe(t)?e.style.setProperty(t,n):e.style[t]=n}const sQ=U_(()=>window.ScrollTimeline!==void 0),Awe={};function Ewe(e,t){const n=U_(e);return()=>Awe[t]??n()}const aQ=Ewe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tx=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,w6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tx([0,.65,.55,1]),circOut:tx([.55,0,1,.45]),backIn:tx([.31,.01,.66,-.59]),backOut:tx([.33,1.53,.69,.99])};function iQ(e,t){if(e)return typeof e=="function"?aQ()?JX(e,t):"ease-out":qX(e)?tx(e):Array.isArray(e)?e.map(n=>iQ(n,t)||w6.easeOut):w6[e]}function Owe(e,t,n,{delay:r=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const f={[t]:n};c&&(f.offset=c);const m=iQ(l,a);Array.isArray(m)&&(f.easing=m);const p={delay:r,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),e.animate(f,p)}function oQ(e){return typeof e=="function"&&"applyToOptions"in e}function Pwe({type:e,...t}){return oQ(e)&&aQ()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Mwe extends nR{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Yx(typeof t.type!="string");const u=Pwe(t);this.animation=Owe(n,r,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const f=tR(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):Twe(n,r,f),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return pi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+pi(t)}get time(){return pi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ao(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&sQ()?(this.animation.timeline=t,ha):n(this)}}const lQ={anticipate:$X,backInOut:LX,circInOut:BX};function _we(e){return e in lQ}function Rwe(e){typeof e.ease=="string"&&_we(e.ease)&&(e.ease=lQ[e.ease])}const N6=10;class Dwe extends Mwe{constructor(t){Rwe(t),tQ(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new rR({...o,autoplay:!1}),c=Ao(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-N6).value,l.sample(c).value,N6),l.stop()}}const S6=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Gc.test(e)||e==="0")&&!e.startsWith("url("));function Iwe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Lwe(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=S6(a,t),l=S6(i,t);return!o||!l?!1:Iwe(e)||(n==="spring"||oQ(n))&&r}function mP(e){e.duration=0,e.type="keyframes"}const $we=new Set(["opacity","clipPath","filter","transform"]),Fwe=U_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Bwe(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:i,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return Fwe()&&n&&$we.has(n)&&(n!=="transform"||!u)&&!c&&!r&&a!=="mirror"&&i!==0&&o!=="inertia"}const zwe=40;class qwe extends nR{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:f,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=da.now();const p={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:f,...m},g=f?.KeyframeResolver||sR;this.keyframeResolver=new g(l,(v,y,w)=>this.onKeyframesResolved(v,y,p,!w),c,u,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:f}=r;this.resolvedAt=da.now(),Lwe(t,i,o,l)||((Ll.instantAnimations||!c)&&f?.(tR(t,r,n)),t[0]=t[t.length-1],mP(r),r.repeat=0);const p={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>zwe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},g=!u&&Bwe(p)?new Dwe({...p,element:p.motionValue.owner.current}):new rR(p);g.finished.then(()=>this.notifyFinished()).catch(ha),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Cwe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Uwe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Vwe(e){const t=Uwe.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function cQ(e,t,n=1){const[r,a]=Vwe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return OX(o)?parseFloat(o):o}return Y_(a)?cQ(a,t,n+1):a}function aR(e,t){return e?.[t]??e?.default??e}const dQ=new Set(["width","height","top","left","right","bottom",...pm]),Hwe={test:e=>e==="auto",parse:e=>e},uQ=e=>t=>t.test(e),fQ=[mm,gt,Eo,Cc,Fje,$je,Hwe],C6=e=>fQ.find(uQ(e));function Kwe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||MX(e):!0}const Wwe=new Set(["brightness","contrast","saturate","opacity"]);function Gwe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(X_)||[];if(!r)return e;const a=n.replace(r,"");let i=Wwe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const Ywe=/\b([a-z-]*)\(.*?\)/gu,pP={...Gc,getAnimatableNone:e=>{const t=e.match(Ywe);return t?t.map(Gwe).join(" "):e}},k6={...mm,transform:Math.round},Xwe={rotate:Cc,rotateX:Cc,rotateY:Cc,rotateZ:Cc,scale:lb,scaleX:lb,scaleY:lb,scaleZ:lb,skew:Cc,skewX:Cc,skewY:Cc,distance:gt,translateX:gt,translateY:gt,translateZ:gt,x:gt,y:gt,z:gt,perspective:gt,transformPerspective:gt,opacity:Xx,originX:h6,originY:h6,originZ:gt},iR={borderWidth:gt,borderTopWidth:gt,borderRightWidth:gt,borderBottomWidth:gt,borderLeftWidth:gt,borderRadius:gt,radius:gt,borderTopLeftRadius:gt,borderTopRightRadius:gt,borderBottomRightRadius:gt,borderBottomLeftRadius:gt,width:gt,maxWidth:gt,height:gt,maxHeight:gt,top:gt,right:gt,bottom:gt,left:gt,padding:gt,paddingTop:gt,paddingRight:gt,paddingBottom:gt,paddingLeft:gt,margin:gt,marginTop:gt,marginRight:gt,marginBottom:gt,marginLeft:gt,backgroundPositionX:gt,backgroundPositionY:gt,...Xwe,zIndex:k6,fillOpacity:Xx,strokeOpacity:Xx,numOctaves:k6},Qwe={...iR,color:Ar,backgroundColor:Ar,outlineColor:Ar,fill:Ar,stroke:Ar,borderColor:Ar,borderTopColor:Ar,borderRightColor:Ar,borderBottomColor:Ar,borderLeftColor:Ar,filter:pP,WebkitFilter:pP},hQ=e=>Qwe[e];function mQ(e,t){let n=hQ(e);return n!==pP&&(n=Gc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Jwe=new Set(["auto","none","0"]);function Zwe(e,t,n){let r=0,a;for(;r<e.length&&!a;){const i=e[r];typeof i=="string"&&!Jwe.has(i)&&Qx(i).values.length&&(a=e[r]),r++}if(a&&n)for(const i of t)e[i]=mQ(n,a)}class eNe extends sR{constructor(t,n,r,a,i){super(t,n,r,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Y_(u))){const f=cQ(u,n.current);f!==void 0&&(t[c]=f),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!dQ.has(r)||t.length!==2)return;const[a,i]=t,o=C6(a),l=C6(i);if(o!==l)if(j6(o)&&j6(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Qd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||Kwe(t[a]))&&r.push(a);r.length&&Zwe(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Qd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function oR(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const a=document.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const pQ=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function xQ(e){return PX(e)&&"offsetHeight"in e}const T6=30,tNe=e=>!isNaN(parseFloat(e)),gx={current:void 0};class nNe{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=da.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=da.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=tNe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new V_);const r=this.events[t].add(n);return t==="change"?()=>{r(),xn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return gx.current&&gx.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=da.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>T6)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,T6);return H_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hi(e,t){return new nNe(e,t)}const{schedule:lR}=UX(queueMicrotask,!1),Di={x:!1,y:!1};function gQ(){return Di.x||Di.y}function rNe(e){return e==="x"||e==="y"?Di[e]?null:(Di[e]=!0,()=>{Di[e]=!1}):Di.x||Di.y?null:(Di.x=Di.y=!0,()=>{Di.x=Di.y=!1})}function yQ(e,t){const n=oR(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function A6(e){return!(e.pointerType==="touch"||gQ())}function sNe(e,t,n={}){const[r,a,i]=yQ(e,n),o=l=>{if(!A6(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const f=m=>{A6(m)&&(u(m),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,a)};return r.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const vQ=(e,t)=>t?e===t?!0:vQ(e,t.parentElement):!1,cR=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,aNe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iNe(e){return aNe.has(e.tagName)||e.tabIndex!==-1}const Zb=new WeakSet;function E6(e){return t=>{t.key==="Enter"&&e(t)}}function CC(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const oNe=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=E6(()=>{if(Zb.has(n))return;CC(n,"down");const a=E6(()=>{CC(n,"up")}),i=()=>CC(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function O6(e){return cR(e)&&!gQ()}function lNe(e,t,n={}){const[r,a,i]=yQ(e,n),o=l=>{const c=l.currentTarget;if(!O6(l))return;Zb.add(c);const u=t(c,l),f=(g,v)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),Zb.has(c)&&Zb.delete(c),O6(g)&&typeof u=="function"&&u(g,{success:v})},m=g=>{f(g,c===window||c===document||n.useGlobalTarget||vQ(c,g.target))},p=g=>{f(g,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",p,a)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),xQ(l)&&(l.addEventListener("focus",u=>oNe(u,a)),!iNe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function dR(e){return PX(e)&&"ownerSVGElement"in e}const e0=new WeakMap;let t0;const bQ=(e,t,n)=>(r,a)=>a&&a[0]?a[0][e+"Size"]:dR(r)&&"getBBox"in r?r.getBBox()[t]:r[n],cNe=bQ("inline","width","offsetWidth"),dNe=bQ("block","height","offsetHeight");function uNe({target:e,borderBoxSize:t}){e0.get(e)?.forEach(n=>{n(e,{get width(){return cNe(e,t)},get height(){return dNe(e,t)}})})}function fNe(e){e.forEach(uNe)}function hNe(){typeof ResizeObserver>"u"||(t0=new ResizeObserver(fNe))}function mNe(e,t){t0||hNe();const n=oR(e);return n.forEach(r=>{let a=e0.get(r);a||(a=new Set,e0.set(r,a)),a.add(t),t0?.observe(r)}),()=>{n.forEach(r=>{const a=e0.get(r);a?.delete(t),a?.size||t0?.unobserve(r)})}}const n0=new Set;let qf;function pNe(){qf=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};n0.forEach(t=>t(e))},window.addEventListener("resize",qf)}function xNe(e){return n0.add(e),qf||pNe(),()=>{n0.delete(e),!n0.size&&typeof qf=="function"&&(window.removeEventListener("resize",qf),qf=void 0)}}function gNe(e,t){return typeof e=="function"?xNe(e):mNe(e,t)}function jQ(e,t){let n;const r=()=>{const{currentTime:a}=t,o=(a===null?0:a.value)/100;n!==o&&e(o),n=o};return xn.preUpdate(r,!0),()=>so(r)}function yNe(e){return dR(e)&&e.tagName==="svg"}function vNe(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],a=e[1+n],i=e[2+n],o=e[3+n],l=eR(a,i,o);return t?l(r):l}const Cs=e=>!!(e&&e.getVelocity),bNe=[...fQ,Ar,Gc],jNe=e=>bNe.find(uQ(e)),uR=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function wNe(e=!0){const t=j.useContext(B_);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,i=j.useId();j.useEffect(()=>{if(e)return a(i)},[e]);const o=j.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const wQ=j.createContext({strict:!1}),P6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wh={};for(const e in P6)wh[e]={isEnabled:t=>P6[e].some(n=>!!t[n])};function NNe(e){for(const t in e)wh[t]={...wh[t],...e[t]}}const SNe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||SNe.has(e)}let NQ=e=>!$0(e);function CNe(e){typeof e=="function"&&(NQ=t=>t.startsWith("on")?!$0(t):e(t))}try{CNe(require("@emotion/is-prop-valid").default)}catch{}function kNe(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(NQ(a)||n===!0&&$0(a)||!t&&!$0(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const dN=j.createContext({});function uN(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Jx(e){return typeof e=="string"||Array.isArray(e)}const fR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hR=["initial",...fR];function fN(e){return uN(e.animate)||hR.some(t=>Jx(e[t]))}function SQ(e){return!!(fN(e)||e.variants)}function TNe(e,t){if(fN(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Jx(n)?n:void 0,animate:Jx(r)?r:void 0}}return e.inherit!==!1?t:{}}function ANe(e){const{initial:t,animate:n}=TNe(e,j.useContext(dN));return j.useMemo(()=>({initial:t,animate:n}),[M6(t),M6(n)])}function M6(e){return Array.isArray(e)?e.join(" "):e}const Zx={};function ENe(e){for(const t in e)Zx[t]=e[t],G_(t)&&(Zx[t].isCSSVariable=!0)}function CQ(e,{layout:t,layoutId:n}){return xm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Zx[e]||e==="opacity")}const ONe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PNe=pm.length;function MNe(e,t,n){let r="",a=!0;for(let i=0;i<PNe;i++){const o=pm[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=pQ(l,iR[o]);if(!c){a=!1;const f=ONe[o]||o;r+=`${f}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function mR(e,t,n){const{style:r,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(xm.has(c)){o=!0;continue}else if(G_(c)){a[c]=u;continue}else{const f=pQ(u,iR[c]);c.startsWith("origin")?(l=!0,i[c]=f):r[c]=f}}if(t.transform||(o||n?r.transform=MNe(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:f=0}=i;r.transformOrigin=`${c} ${u} ${f}`}}const pR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kQ(e,t,n){for(const r in t)!Cs(t[r])&&!CQ(r,n)&&(e[r]=t[r])}function _Ne({transformTemplate:e},t){return j.useMemo(()=>{const n=pR();return mR(n,t,e),Object.assign({},n.vars,n.style)},[t])}function RNe(e,t){const n=e.style||{},r={};return kQ(r,n,e),Object.assign(r,_Ne(e,t)),r}function DNe(e,t){const n={},r=RNe(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const INe={offset:"stroke-dashoffset",array:"stroke-dasharray"},LNe={offset:"strokeDashoffset",array:"strokeDasharray"};function $Ne(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?INe:LNe;e[i.offset]=gt.transform(-r);const o=gt.transform(t),l=gt.transform(n);e[i.array]=`${o} ${l}`}function TQ(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,u,f){if(mR(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p}=e;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=f?.transformBox??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&$Ne(m,a,i,o,!1)}const AQ=()=>({...pR(),attrs:{}}),EQ=e=>typeof e=="string"&&e.toLowerCase()==="svg";function FNe(e,t,n,r){const a=j.useMemo(()=>{const i=AQ();return TQ(i,t,EQ(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};kQ(i,e.style,e),a.style={...i,...a.style}}return a}const BNe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xR(e){return typeof e!="string"||e.includes("-")?!1:!!(BNe.indexOf(e)>-1||/[A-Z]/u.test(e))}function zNe(e,t,n,{latestValues:r},a,i=!1){const l=(xR(e)?FNe:DNe)(t,r,a,e),c=kNe(t,typeof e=="string",i),u=e!==j.Fragment?{...c,...l,ref:n}:{},{children:f}=t,m=j.useMemo(()=>Cs(f)?f.get():f,[f]);return j.createElement(e,{...u,children:m})}function _6(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function gR(e,t,n,r){if(typeof t=="function"){const[a,i]=_6(r);t=t(n!==void 0?n:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=_6(r);t=t(n!==void 0?n:e.custom,a,i)}return t}function r0(e){return Cs(e)?e.get():e}function qNe({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:UNe(n,r,a,e),renderState:t()}}function UNe(e,t,n,r){const a={},i=r(e,{});for(const p in i)a[p]=r0(i[p]);let{initial:o,animate:l}=e;const c=fN(e),u=SQ(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const m=f?l:o;if(m&&typeof m!="boolean"&&!uN(m)){const p=Array.isArray(m)?m:[m];for(let g=0;g<p.length;g++){const v=gR(e,p[g]);if(v){const{transitionEnd:y,transition:w,...N}=v;for(const A in N){let T=N[A];if(Array.isArray(T)){const C=f?T.length-1:0;T=T[C]}T!==null&&(a[A]=T)}for(const A in y)a[A]=y[A]}}}return a}const OQ=e=>(t,n)=>{const r=j.useContext(dN),a=j.useContext(B_),i=()=>qNe(e,t,r,a);return n?i():cN(i)};function yR(e,t,n){const{style:r}=e,a={};for(const i in r)(Cs(r[i])||t.style&&Cs(t.style[i])||CQ(i,e)||n?.getValue(i)?.liveStyle!==void 0)&&(a[i]=r[i]);return a}const VNe=OQ({scrapeMotionValuesFromProps:yR,createRenderState:pR});function PQ(e,t,n){const r=yR(e,t,n);for(const a in e)if(Cs(e[a])||Cs(t[a])){const i=pm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[i]=e[a]}return r}const HNe=OQ({scrapeMotionValuesFromProps:PQ,createRenderState:AQ}),KNe=Symbol.for("motionComponentSymbol");function Uf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function WNe(e,t,n){return j.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Uf(n)&&(n.current=r))},[t])}const vR=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),GNe="framerAppearId",MQ="data-"+vR(GNe),_Q=j.createContext({});function YNe(e,t,n,r,a){const{visualElement:i}=j.useContext(dN),o=j.useContext(wQ),l=j.useContext(B_),c=j.useContext(uR).reducedMotion,u=j.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=u.current,m=j.useContext(_Q);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&XNe(u.current,n,a,m);const p=j.useRef(!1);j.useInsertionEffect(()=>{f&&p.current&&f.update(n,l)});const g=n[MQ],v=j.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return F_(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),v.current&&f.animationState&&f.animationState.animateChanges())}),j.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),v.current=!1),f.enteringChildren=void 0)}),f}function XNe(e,t,n,r){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:RQ(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Uf(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:c,layoutRoot:u})}function RQ(e){if(e)return e.options.allowProjection!==!1?e.projection:RQ(e.parent)}function kC(e,{forwardMotionProps:t=!1}={},n,r){n&&NNe(n);const a=xR(e)?HNe:VNe;function i(l,c){let u;const f={...j.useContext(uR),...l,layoutId:QNe(l)},{isStatic:m}=f,p=ANe(l),g=a(l,m);if(!m&&$_){JNe();const v=ZNe(f);u=v.MeasureLayout,p.visualElement=YNe(e,g,f,r,v.ProjectionNode)}return s.jsxs(dN.Provider,{value:p,children:[u&&p.visualElement?s.jsx(u,{visualElement:p.visualElement,...f}):null,zNe(e,l,WNe(g,p.visualElement,c),g,m,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=j.forwardRef(i);return o[KNe]=e,o}function QNe({layoutId:e}){const t=j.useContext(EX).id;return t&&e!==void 0?t+"-"+e:e}function JNe(e,t){j.useContext(wQ).strict}function ZNe(e){const{drag:t,layout:n}=wh;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function e1e(e,t){if(typeof Proxy>"u")return kC;const n=new Map,r=(i,o)=>kC(i,o,e,t),a=(i,o)=>r(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,kC(o,void 0,e,t)),n.get(o))})}function DQ({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function t1e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function n1e(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function TC(e){return e===void 0||e===1}function xP({scale:e,scaleX:t,scaleY:n}){return!TC(e)||!TC(t)||!TC(n)}function Dd(e){return xP(e)||IQ(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function IQ(e){return R6(e.x)||R6(e.y)}function R6(e){return e&&e!=="0%"}function F0(e,t,n){const r=e-n,a=t*r;return n+a}function D6(e,t,n,r,a){return a!==void 0&&(e=F0(e,a,r)),F0(e,n,r)+t}function gP(e,t=0,n=1,r,a){e.min=D6(e.min,t,n,r,a),e.max=D6(e.max,t,n,r,a)}function LQ(e,{x:t,y:n}){gP(e.x,t.translate,t.scale,t.originPoint),gP(e.y,n.translate,n.scale,n.originPoint)}const I6=.999999999999,L6=1.0000000000001;function r1e(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Hf(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,LQ(e,o)),r&&Dd(i.latestValues)&&Hf(e,i.latestValues))}t.x<L6&&t.x>I6&&(t.x=1),t.y<L6&&t.y>I6&&(t.y=1)}function Vf(e,t){e.min=e.min+t,e.max=e.max+t}function $6(e,t,n,r,a=.5){const i=nr(e.min,e.max,a);gP(e,t,n,i,r)}function Hf(e,t){$6(e.x,t.x,t.scaleX,t.scale,t.originX),$6(e.y,t.y,t.scaleY,t.scale,t.originY)}function $Q(e,t){return DQ(n1e(e.getBoundingClientRect(),t))}function s1e(e,t,n){const r=$Q(e,n),{scroll:a}=t;return a&&(Vf(r.x,a.offset.x),Vf(r.y,a.offset.y)),r}const F6=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kf=()=>({x:F6(),y:F6()}),B6=()=>({min:0,max:0}),gr=()=>({x:B6(),y:B6()}),yP={current:null},FQ={current:!1};function a1e(){if(FQ.current=!0,!!$_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>yP.current=e.matches;e.addEventListener("change",t),t()}else yP.current=!1}const i1e=new WeakMap;function o1e(e,t,n){for(const r in t){const a=t[r],i=n[r];if(Cs(a))e.addValue(r,a);else if(Cs(i))e.addValue(r,Hi(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(r);e.addValue(r,Hi(o!==void 0?o:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const z6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class l1e{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=da.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,xn.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=fN(n),this.isVariantNode=SQ(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in m){const g=m[p];c[p]!==void 0&&Cs(g)&&g.set(c[p])}}mount(t){this.current=t,i1e.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),FQ.current||a1e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yP.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),so(this.notifyUpdate),so(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=xm.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&xn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in wh){const n=wh[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<z6.length;r++){const a=z6[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=o1e(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Hi(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(OX(r)||MX(r))?r=parseFloat(r):!jNe(r)&&Gc.test(n)&&(r=mQ(t,n)),this.setBaseTarget(t,Cs(r)?r.get():r)),Cs(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const i=gR(this.props,n,this.presenceContext?.custom);i&&(r=i[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Cs(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new V_),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){lR.render(this.render)}}class BQ extends l1e{constructor(){super(...arguments),this.KeyframeResolver=eNe}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Cs(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function zQ(e,{style:t,vars:n},r,a){const i=e.style;let o;for(o in t)i[o]=t[o];a?.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function c1e(e){return window.getComputedStyle(e)}class d1e extends BQ{constructor(){super(...arguments),this.type="html",this.renderInstance=zQ}readValueFromInstance(t,n){if(xm.has(n))return this.projection?.isProjecting?cP(n):bwe(t,n);{const r=c1e(t),a=(G_(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return $Q(t,n)}build(t,n,r){mR(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return yR(t,n,r)}}const qQ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function u1e(e,t,n,r){zQ(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(qQ.has(a)?a:vR(a),t.attrs[a])}class f1e extends BQ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(xm.has(n)){const r=hQ(n);return r&&r.default||0}return n=qQ.has(n)?n:vR(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return PQ(t,n,r)}build(t,n,r){TQ(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){u1e(t,n,r,a)}mount(t){this.isSVGTag=EQ(t.tagName),super.mount(t)}}const h1e=(e,t)=>xR(e)?new f1e(t):new d1e(t,{allowProjection:e!==j.Fragment});function sh(e,t,n){const r=e.getProps();return gR(r,t,n!==void 0?n:r.custom,e)}const vP=e=>Array.isArray(e);function m1e(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Hi(n))}function p1e(e){return vP(e)?e[e.length-1]||0:e}function x1e(e,t){const n=sh(e,t);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const o in i){const l=p1e(i[o]);m1e(e,o,l)}}function g1e(e){return!!(Cs(e)&&e.add)}function bP(e,t){const n=e.getValue("willChange");if(g1e(n))return n.add(t);if(!n&&Ll.WillChange){const r=new Ll.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function UQ(e){return e.props[MQ]}const y1e=e=>e!==null;function v1e(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(y1e),i=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[i]}const b1e={type:"spring",stiffness:500,damping:25,restSpeed:10},j1e=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),w1e={type:"keyframes",duration:.8},N1e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},S1e=(e,{keyframes:t})=>t.length>2?w1e:xm.has(e)?e.startsWith("scale")?j1e(t[1]):b1e:N1e;function C1e({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...f}){return!!Object.keys(f).length}const bR=(e,t,n,r={},a,i)=>o=>{const l=aR(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ao(c);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:p=>{t.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};C1e(l)||Object.assign(f,S1e(e,f)),f.duration&&(f.duration=Ao(f.duration)),f.repeatDelay&&(f.repeatDelay=Ao(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(mP(f),f.delay===0&&(m=!0)),(Ll.instantAnimations||Ll.skipAnimations)&&(m=!0,mP(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!i&&t.get()!==void 0){const p=v1e(f.keyframes,l);if(p!==void 0){xn.update(()=>{f.onUpdate(p),f.onComplete()});return}}return l.isSync?new rR(f):new qwe(f)};function k1e({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function VQ(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(i=r);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const f in l){const m=e.getValue(f,e.latestValues[f]??null),p=l[f];if(p===void 0||u&&k1e(u,f))continue;const g={delay:n,...aR(i||{},f)},v=m.get();if(v!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===v&&!g.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const N=UQ(e);if(N){const A=window.MotionHandoffAnimation(N,f,xn);A!==null&&(g.startTime=A,y=!0)}}bP(e,f),m.start(bR(f,m,p,e.shouldReduceMotion&&dQ.has(f)?{type:!1}:g,e,y));const w=m.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{xn.update(()=>{o&&x1e(e,o)})}),c}function HQ(e,t,n,r=0,a=1){const i=Array.from(e).sort((u,f)=>u.sortNodePosition(f)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(i,o):a===1?i*r:l-i*r}function jP(e,t,n={}){const r=sh(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(VQ(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:m}=a;return T1e(e,t,c,u,f,m,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function T1e(e,t,n=0,r=0,a=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(jP(c,t,{...o,delay:n+(typeof r=="function"?0:r)+HQ(e.variantChildren,c,r,a,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function A1e(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>jP(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=jP(e,t,n);else{const a=typeof t=="function"?sh(e,t,n.custom):t;r=Promise.all(VQ(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function KQ(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const E1e=hR.length;function WQ(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?WQ(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<E1e;n++){const r=hR[n],a=e.props[r];(Jx(a)||a===!1)&&(t[r]=a)}return t}const O1e=[...fR].reverse(),P1e=fR.length;function M1e(e){return t=>Promise.all(t.map(({animation:n,options:r})=>A1e(e,n,r)))}function _1e(e){let t=M1e(e),n=q6(),r=!0;const a=c=>(u,f)=>{const m=sh(e,f,c==="exit"?e.presenceContext?.custom:void 0);if(m){const{transition:p,transitionEnd:g,...v}=m;u={...u,...v,...g}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,f=WQ(e.parent)||{},m=[],p=new Set;let g={},v=1/0;for(let w=0;w<P1e;w++){const N=O1e[w],A=n[N],T=u[N]!==void 0?u[N]:f[N],C=Jx(T),S=N===c?A.isActive:null;S===!1&&(v=w);let E=T===f[N]&&T!==u[N]&&C;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),A.protectedKeys={...g},!A.isActive&&S===null||!T&&!A.prevProp||uN(T)||typeof T=="boolean")continue;const O=R1e(A.prevProp,T);let _=O||N===c&&A.isActive&&!E&&C||w>v&&C,M=!1;const $=Array.isArray(T)?T:[T];let z=$.reduce(a(N),{});S===!1&&(z={});const{prevResolvedValues:V={}}=A,I={...V,...z},F=B=>{_=!0,p.has(B)&&(M=!0,p.delete(B)),A.needsAnimating[B]=!0;const L=e.getValue(B);L&&(L.liveStyle=!1)};for(const B in I){const L=z[B],q=V[B];if(g.hasOwnProperty(B))continue;let se=!1;vP(L)&&vP(q)?se=!KQ(L,q):se=L!==q,se?L!=null?F(B):p.add(B):L!==void 0&&p.has(B)?F(B):A.protectedKeys[B]=!0}A.prevProp=T,A.prevResolvedValues=z,A.isActive&&(g={...g,...z}),r&&e.blockInitialAnimation&&(_=!1);const K=E&&O;_&&(!K||M)&&m.push(...$.map(B=>{const L={type:N};if(typeof B=="string"&&r&&!K&&e.manuallyAnimateOnMount&&e.parent){const{parent:q}=e,se=sh(q,B);if(q.enteringChildren&&se){const{delayChildren:H}=se.transition||{};L.delay=HQ(q.enteringChildren,e,H)}}return{animation:B,options:L}}))}if(p.size){const w={};if(typeof u.initial!="boolean"){const N=sh(e,Array.isArray(u.initial)?u.initial[0]:u.initial);N&&N.transition&&(w.transition=N.transition)}p.forEach(N=>{const A=e.getBaseTarget(N),T=e.getValue(N);T&&(T.liveStyle=!0),w[N]=A??null}),m.push({animation:w})}let y=!!m.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(m):Promise.resolve()}function l(c,u){if(n[c].isActive===u)return Promise.resolve();e.variantChildren?.forEach(m=>m.animationState?.setActive(c,u)),n[c].isActive=u;const f=o(c);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=q6()}}}function R1e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!KQ(t,e):!1}function Ed(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function q6(){return{animate:Ed(!0),whileInView:Ed(),whileHover:Ed(),whileTap:Ed(),whileDrag:Ed(),whileFocus:Ed(),exit:Ed()}}class ed{constructor(t){this.isMounted=!1,this.node=t}update(){}}class D1e extends ed{constructor(t){super(t),t.animationState||(t.animationState=_1e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();uN(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let I1e=0;class L1e extends ed{constructor(){super(...arguments),this.id=I1e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const $1e={animation:{Feature:D1e},exit:{Feature:L1e}};function eg(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function dy(e){return{point:{x:e.pageX,y:e.pageY}}}const F1e=e=>t=>cR(t)&&e(t,dy(t));function yx(e,t,n,r){return eg(e,t,F1e(n),r)}const GQ=1e-4,B1e=1-GQ,z1e=1+GQ,YQ=.01,q1e=0-YQ,U1e=0+YQ;function Fs(e){return e.max-e.min}function V1e(e,t,n){return Math.abs(e-t)<=n}function U6(e,t,n,r=.5){e.origin=r,e.originPoint=nr(t.min,t.max,e.origin),e.scale=Fs(n)/Fs(t),e.translate=nr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=B1e&&e.scale<=z1e||isNaN(e.scale))&&(e.scale=1),(e.translate>=q1e&&e.translate<=U1e||isNaN(e.translate))&&(e.translate=0)}function vx(e,t,n,r){U6(e.x,t.x,n.x,r?r.originX:void 0),U6(e.y,t.y,n.y,r?r.originY:void 0)}function V6(e,t,n){e.min=n.min+t.min,e.max=e.min+Fs(t)}function H1e(e,t,n){V6(e.x,t.x,n.x),V6(e.y,t.y,n.y)}function H6(e,t,n){e.min=t.min-n.min,e.max=e.min+Fs(t)}function bx(e,t,n){H6(e.x,t.x,n.x),H6(e.y,t.y,n.y)}function oi(e){return[e("x"),e("y")]}const XQ=({current:e})=>e?e.ownerDocument.defaultView:null,K6=(e,t)=>Math.abs(e-t);function K1e(e,t){const n=K6(e.x,t.x),r=K6(e.y,t.y);return Math.sqrt(n**2+r**2)}class QQ{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=EC(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=K1e(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!v)return;const{point:y}=p,{timestamp:w}=Wr;this.history.push({...y,timestamp:w});const{onStart:N,onMove:A}=this.handlers;g||(N&&N(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=AC(g,this.transformPagePoint),xn.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=EC(p.type==="pointercancel"?this.lastMoveEventInfo:AC(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,N),y&&y(p,N)},!cR(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=a||window;const l=dy(t),c=AC(l,this.transformPagePoint),{point:u}=c,{timestamp:f}=Wr;this.history=[{...u,timestamp:f}];const{onSessionStart:m}=n;m&&m(t,EC(c,this.history)),this.removeListeners=oy(yx(this.contextWindow,"pointermove",this.handlePointerMove),yx(this.contextWindow,"pointerup",this.handlePointerUp),yx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),so(this.updatePoint)}}function AC(e,t){return t?{point:t(e.point)}:e}function W6(e,t){return{x:e.x-t.x,y:e.y-t.y}}function EC({point:e},t){return{point:e,delta:W6(e,JQ(t)),offset:W6(e,W1e(t)),velocity:G1e(t,.1)}}function W1e(e){return e[0]}function JQ(e){return e[e.length-1]}function G1e(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=JQ(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Ao(t)));)n--;if(!r)return{x:0,y:0};const i=pi(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Y1e(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?nr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?nr(n,e,r.max):Math.min(e,n)),e}function G6(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function X1e(e,{top:t,left:n,bottom:r,right:a}){return{x:G6(e.x,n,a),y:G6(e.y,t,r)}}function Y6(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Q1e(e,t){return{x:Y6(e.x,t.x),y:Y6(e.y,t.y)}}function J1e(e,t){let n=.5;const r=Fs(e),a=Fs(t);return a>r?n=jh(t.min,t.max-r,e.min):r>a&&(n=jh(e.min,e.max-a,t.min)),Lo(0,1,n)}function Z1e(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const wP=.35;function eSe(e=wP){return e===!1?e=0:e===!0&&(e=wP),{x:X6(e,"left","right"),y:X6(e,"top","bottom")}}function X6(e,t,n){return{min:Q6(e,t),max:Q6(e,n)}}function Q6(e,t){return typeof e=="number"?e:e[t]||0}const tSe=new WeakMap;class nSe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(dy(m).point)},o=(m,p)=>{const{drag:g,dragPropagation:v,onDragStart:y}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rNe(g),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),oi(N=>{let A=this.getAxisMotionValue(N).get()||0;if(Eo.test(A)){const{projection:T}=this.visualElement;if(T&&T.layout){const C=T.layout.layoutBox[N];C&&(A=Fs(C)*(parseFloat(A)/100))}}this.originPoint[N]=A}),y&&xn.postRender(()=>y(m,p)),bP(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:y,onDrag:w}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:N}=p;if(v&&this.currentDirection===null){this.currentDirection=rSe(N),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,N),this.updateAxis("y",p.point,N),this.visualElement.render(),w&&w(m,p)},c=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>oi(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new QQ(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:XQ(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!r)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&xn.postRender(()=>l(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!cb(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Y1e(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Uf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=X1e(r.layoutBox,t):this.constraints=!1,this.elastic=eSe(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&oi(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Z1e(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Uf(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=s1e(r,a.root,this.visualElement.getTransformPagePoint());let o=Q1e(a.layout.layoutBox,i);if(n){const l=n(t1e(o));this.hasMutatedConstraints=!!l,l&&(o=DQ(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=oi(f=>{if(!cb(f,n,this.currentDirection))return;let m=c&&c[f]||{};o&&(m={min:0,max:0});const p=a?200:1e6,g=a?40:1e7,v={type:"inertia",velocity:r?t[f]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(f,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return bP(this.visualElement,t),r.start(bR(t,r,0,n,this.visualElement,!1))}stopAnimation(){oi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){oi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){oi(n=>{const{drag:r}=this.getProps();if(!cb(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[n];i.set(t[n]-nr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Uf(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};oi(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=J1e({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),oi(o=>{if(!cb(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(nr(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;tSe.set(this.visualElement,this);const t=this.visualElement.current,n=yx(t,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Uf(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),xn.read(r);const o=eg(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(oi(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=c[f].translate,m.set(m.get()+c[f].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=wP,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function cb(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function rSe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class sSe extends ed{constructor(t){super(t),this.removeGroupControls=ha,this.removeListeners=ha,this.controls=new nSe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ha}unmount(){this.removeGroupControls(),this.removeListeners()}}const J6=e=>(t,n)=>{e&&xn.postRender(()=>e(t,n))};class aSe extends ed{constructor(){super(...arguments),this.removePointerDownListener=ha}onPointerDown(t){this.session=new QQ(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XQ(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:J6(t),onStart:J6(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&xn.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=yx(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const s0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Z6(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Op={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(gt.test(e))e=parseFloat(e);else return e;const n=Z6(e,t.target.x),r=Z6(e,t.target.y);return`${n}% ${r}%`}},iSe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Gc.parse(e);if(a.length>5)return r;const i=Gc.createTransformer(e),o=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=nr(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};let OC=!1;class oSe extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;ENe(lSe),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),OC&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),s0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,OC=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||xn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),lR.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;OC=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ZQ(e){const[t,n]=wNe(),r=j.useContext(EX);return s.jsx(oSe,{...e,layoutGroup:r,switchLayoutGroup:j.useContext(_Q),isPresent:t,safeToRemove:n})}const lSe={borderRadius:{...Op,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Op,borderTopRightRadius:Op,borderBottomLeftRadius:Op,borderBottomRightRadius:Op,boxShadow:iSe};function cSe(e,t,n){const r=Cs(e)?e:Hi(e);return r.start(bR("",r,t,n)),r.animation}const dSe=(e,t)=>e.depth-t.depth;class uSe{constructor(){this.children=[],this.isDirty=!1}add(t){z_(this.children,t),this.isDirty=!0}remove(t){q_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(dSe),this.isDirty=!1,this.children.forEach(t)}}function fSe(e,t){const n=da.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(so(r),e(i-t))};return xn.setup(r,!0),()=>so(r)}const eJ=["TopLeft","TopRight","BottomLeft","BottomRight"],hSe=eJ.length,eB=e=>typeof e=="string"?parseFloat(e):e,tB=e=>typeof e=="number"||gt.test(e);function mSe(e,t,n,r,a,i){a?(e.opacity=nr(0,n.opacity??1,pSe(r)),e.opacityExit=nr(t.opacity??1,0,xSe(r))):i&&(e.opacity=nr(t.opacity??1,n.opacity??1,r));for(let o=0;o<hSe;o++){const l=`border${eJ[o]}Radius`;let c=nB(t,l),u=nB(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||tB(c)===tB(u)?(e[l]=Math.max(nr(eB(c),eB(u),r),0),(Eo.test(u)||Eo.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=nr(t.rotate||0,n.rotate||0,r))}function nB(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const pSe=tJ(0,.5,FX),xSe=tJ(.5,.95,ha);function tJ(e,t,n){return r=>r<e?0:r>t?1:n(jh(e,t,r))}function rB(e,t){e.min=t.min,e.max=t.max}function ni(e,t){rB(e.x,t.x),rB(e.y,t.y)}function sB(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function aB(e,t,n,r,a){return e-=t,e=F0(e,1/n,r),a!==void 0&&(e=F0(e,1/a,r)),e}function gSe(e,t=0,n=1,r=.5,a,i=e,o=e){if(Eo.test(t)&&(t=parseFloat(t),t=nr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=nr(i.min,i.max,r);e===i&&(l-=t),e.min=aB(e.min,t,n,l,a),e.max=aB(e.max,t,n,l,a)}function iB(e,t,[n,r,a],i,o){gSe(e,t[n],t[r],t[a],t.scale,i,o)}const ySe=["x","scaleX","originX"],vSe=["y","scaleY","originY"];function oB(e,t,n,r){iB(e.x,t,ySe,n?n.x:void 0,r?r.x:void 0),iB(e.y,t,vSe,n?n.y:void 0,r?r.y:void 0)}function lB(e){return e.translate===0&&e.scale===1}function nJ(e){return lB(e.x)&&lB(e.y)}function cB(e,t){return e.min===t.min&&e.max===t.max}function bSe(e,t){return cB(e.x,t.x)&&cB(e.y,t.y)}function dB(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function rJ(e,t){return dB(e.x,t.x)&&dB(e.y,t.y)}function uB(e){return Fs(e.x)/Fs(e.y)}function fB(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class jSe{constructor(){this.members=[]}add(t){z_(this.members,t),t.scheduleRender()}remove(t){if(q_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wSe(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=n?.z||0;if((a||i||o)&&(r=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:f,rotateX:m,rotateY:p,skewX:g,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const PC=["","X","Y","Z"],NSe=1e3;let SSe=0;function MC(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function sJ(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=UQ(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",xn,!(a||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&sJ(r)}function aJ({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},l=t?.()){this.id=SSe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(TSe),this.nodes.forEach(PSe),this.nodes.forEach(MSe),this.nodes.forEach(ASe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new uSe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new V_),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=dR(o)&&!yNe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let f,m=0;const p=()=>this.root.updateBlockedByResize=!1;xn.read(()=>{m=window.innerWidth}),e(o,()=>{const g=window.innerWidth;g!==m&&(m=g,this.root.updateBlockedByResize=!0,f&&f(),f=fSe(p,250),s0.hasAnimatedSinceResize&&(s0.hasAnimatedSinceResize=!1,this.nodes.forEach(pB)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||LSe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=u.getProps(),N=!this.targetLayout||!rJ(this.targetLayout,g),A=!m&&p;if(this.options.layoutRoot||this.resumeFrom||A||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...aR(v,"layout"),onPlay:y,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(f,A)}else m||pB(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),so(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_Se),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sJ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hB);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(mB);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(OSe),this.nodes.forEach(CSe),this.nodes.forEach(kSe)):this.nodes.forEach(mB),this.clearAllSnapshots();const l=da.now();Wr.delta=Lo(0,1e3/60,l-Wr.timestamp),Wr.timestamp=l,Wr.isProcessing=!0,bC.update.process(Wr),bC.preRender.process(Wr),bC.render.process(Wr),Wr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ESe),this.sharedNodes.forEach(RSe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fs(this.snapshot.measuredBox.x)&&!Fs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!nJ(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Dd(this.latestValues)||f)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),$Se(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return gr();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(FSe))){const{scroll:u}=this.root;u&&(Vf(l.x,u.offset.x),Vf(l.y,u.offset.y))}return l}removeElementScroll(o){const l=gr();if(ni(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:m}=u;u!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&ni(l,o),Vf(l.x,f.offset.x),Vf(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=gr();ni(c,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Hf(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Dd(f.latestValues)&&Hf(c,f.latestValues)}return Dd(this.latestValues)&&Hf(c,this.latestValues),c}removeTransform(o){const l=gr();ni(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Dd(u.latestValues))continue;xP(u.latestValues)&&u.updateSnapshot();const f=gr(),m=u.measurePageBox();ni(f,m),oB(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Dd(this.latestValues)&&oB(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Wr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gr(),this.relativeTargetOrigin=gr(),bx(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gr(),this.targetWithTransforms=gr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),H1e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ni(this.target,this.layout.layoutBox),LQ(this.target,this.targetDelta)):ni(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gr(),this.relativeTargetOrigin=gr(),bx(this.relativeTargetOrigin,this.target,p.target),ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||xP(this.parent.latestValues)||IQ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Wr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;ni(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;r1e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=gr());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sB(this.prevProjectionDelta.x,this.projectionDelta.x),sB(this.prevProjectionDelta.y,this.projectionDelta.y)),vx(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!fB(this.projectionDelta.x,this.prevProjectionDelta.x)||!fB(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kf(),this.projectionDelta=Kf(),this.projectionDeltaWithTransform=Kf()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},m=Kf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=gr(),g=c?c.source:void 0,v=this.layout?this.layout.source:void 0,y=g!==v,w=this.getStack(),N=!w||w.members.length<=1,A=!!(y&&!N&&this.options.crossfade===!0&&!this.path.some(ISe));this.animationProgress=0;let T;this.mixTargetDelta=C=>{const S=C/1e3;xB(m.x,o.x,S),xB(m.y,o.y,S),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bx(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),DSe(this.relativeTarget,this.relativeTargetOrigin,p,S),T&&bSe(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=gr()),ni(T,this.relativeTarget)),y&&(this.animationValues=f,mSe(f,u,this.latestValues,S,A,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(so(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xn.update(()=>{s0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hi(0)),this.currentAnimation=cSe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(NSe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:f}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&iJ(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||gr();const m=Fs(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const p=Fs(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}ni(l,c),Hf(l,f),vx(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new jSe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&MC("z",o,u,this.animationValues);for(let f=0;f<PC.length;f++)MC(`rotate${PC[f]}`,o,u,this.animationValues),MC(`skew${PC[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=r0(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=r0(l?.pointerEvents)||""),this.hasProjected&&!Dd(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=u.animationValues||u.latestValues;this.applyTransformsToTarget();let m=wSe(this.projectionDeltaWithTransform,this.treeScale,f);c&&(m=c(f,m)),o.transform=m;const{x:p,y:g}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,u.animationValues?o.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Zx){if(f[v]===void 0)continue;const{correct:y,applyTo:w,isCSSVariable:N}=Zx[v],A=m==="none"?f[v]:y(f[v],u);if(w){const T=w.length;for(let C=0;C<T;C++)o[w[C]]=A}else N?this.options.visualElement.renderState.vars[v]=A:o[v]=A}this.options.layoutId&&(o.pointerEvents=u===this?r0(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(hB),this.root.sharedNodes.clear()}}}function CSe(e){e.updateLayout()}function kSe(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;a==="size"?oi(f=>{const m=i?t.measuredBox[f]:t.layoutBox[f],p=Fs(m);m.min=n[f].min,m.max=m.min+p}):iJ(a,t.layoutBox,n)&&oi(f=>{const m=i?t.measuredBox[f]:t.layoutBox[f],p=Fs(n[f]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const o=Kf();vx(o,n,t.layoutBox);const l=Kf();i?vx(l,e.applyTransform(r,!0),t.measuredBox):vx(l,n,t.layoutBox);const c=!nJ(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const g=gr();bx(g,t.layoutBox,m.layoutBox);const v=gr();bx(v,n,p.layoutBox),rJ(g,v)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function TSe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ASe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ESe(e){e.clearSnapshot()}function hB(e){e.clearMeasurements()}function mB(e){e.isLayoutDirty=!1}function OSe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function pB(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function PSe(e){e.resolveTargetDelta()}function MSe(e){e.calcProjection()}function _Se(e){e.resetSkewAndRotation()}function RSe(e){e.removeLeadSnapshot()}function xB(e,t,n){e.translate=nr(t.translate,0,n),e.scale=nr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function gB(e,t,n,r){e.min=nr(t.min,n.min,r),e.max=nr(t.max,n.max,r)}function DSe(e,t,n,r){gB(e.x,t.x,n.x,r),gB(e.y,t.y,n.y,r)}function ISe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const LSe={duration:.45,ease:[.4,0,.1,1]},yB=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),vB=yB("applewebkit/")&&!yB("chrome/")?Math.round:ha;function bB(e){e.min=vB(e.min),e.max=vB(e.max)}function $Se(e){bB(e.x),bB(e.y)}function iJ(e,t,n){return e==="position"||e==="preserve-aspect"&&!V1e(uB(t),uB(n),.2)}function FSe(e){return e!==e.root&&e.scroll?.wasRoot}const BSe=aJ({attachResizeListener:(e,t)=>eg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_C={current:void 0},oJ=aJ({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_C.current){const e=new BSe({});e.mount(window),e.setOptions({layoutScroll:!0}),_C.current=e}return _C.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),zSe={pan:{Feature:aSe},drag:{Feature:sSe,ProjectionNode:oJ,MeasureLayout:ZQ}};function jB(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,i=r[a];i&&xn.postRender(()=>i(t,dy(t)))}class qSe extends ed{mount(){const{current:t}=this.node;t&&(this.unmount=sNe(t,(n,r)=>(jB(this.node,r,"Start"),a=>jB(this.node,a,"End"))))}unmount(){}}class USe extends ed{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oy(eg(this.node.current,"focus",()=>this.onFocus()),eg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wB(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),i=r[a];i&&xn.postRender(()=>i(t,dy(t)))}class VSe extends ed{mount(){const{current:t}=this.node;t&&(this.unmount=lNe(t,(n,r)=>(wB(this.node,r,"Start"),(a,{success:i})=>wB(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const NP=new WeakMap,RC=new WeakMap,HSe=e=>{const t=NP.get(e.target);t&&t(e)},KSe=e=>{e.forEach(HSe)};function WSe({root:e,...t}){const n=e||document;RC.has(n)||RC.set(n,{});const r=RC.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(KSe,{root:e,...t})),r[a]}function GSe(e,t,n){const r=WSe(t);return NP.set(e,n),r.observe(e),()=>{NP.delete(e),r.unobserve(e)}}const YSe={some:0,all:1};class XSe extends ed{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:YSe[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),p=u?f:m;p&&p(c)};return GSe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(QSe(t,n))&&this.startObserver()}unmount(){}}function QSe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const JSe={inView:{Feature:XSe},tap:{Feature:VSe},focus:{Feature:USe},hover:{Feature:qSe}},ZSe={layout:{ProjectionNode:oJ,MeasureLayout:ZQ}},e2e={...$1e,...JSe,...zSe,...ZSe},st=e1e(e2e,h1e),t2e=50,NB=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),n2e=()=>({time:0,x:NB(),y:NB()}),r2e={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function SB(e,t,n,r){const a=n[t],{length:i,position:o}=r2e[t],l=a.current,c=n.time;a.current=e[`scroll${o}`],a.scrollLength=e[`scroll${i}`]-e[`client${i}`],a.offset.length=0,a.offset[0]=0,a.offset[1]=a.scrollLength,a.progress=jh(0,a.scrollLength,a.current);const u=r-c;a.velocity=u>t2e?0:H_(a.current-l,u)}function s2e(e,t,n){SB(e,"x",t,n),SB(e,"y",t,n),t.time=n}function a2e(e,t){const n={x:0,y:0};let r=e;for(;r&&r!==t;)if(xQ(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const a=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();n.x+=a.left-i.left,n.y+=a.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:a,y:i}=r.getBBox();n.x+=a,n.y+=i;let o=null,l=r.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=r.parentNode;r=o}else break;return n}const SP={start:0,center:.5,end:1};function CB(e,t,n=0){let r=0;if(e in SP&&(e=SP[e]),typeof e=="string"){const a=parseFloat(e);e.endsWith("px")?r=a:e.endsWith("%")?e=a/100:e.endsWith("vw")?r=a/100*document.documentElement.clientWidth:e.endsWith("vh")?r=a/100*document.documentElement.clientHeight:e=a}return typeof e=="number"&&(r=t*e),n+r}const i2e=[0,0];function o2e(e,t,n,r){let a=Array.isArray(e)?e:i2e,i=0,o=0;return typeof e=="number"?a=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?a=e.split(" "):a=[e,SP[e]?e:"0"]),i=CB(a[0],n,r),o=CB(a[1],t),i-o}const l2e={All:[[0,0],[1,1]]},c2e={x:0,y:0};function d2e(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function u2e(e,t,n){const{offset:r=l2e.All}=n,{target:a=e,axis:i="y"}=n,o=i==="y"?"height":"width",l=a!==e?a2e(a,e):c2e,c=a===e?{width:e.scrollWidth,height:e.scrollHeight}:d2e(a),u={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let f=!t[i].interpolate;const m=r.length;for(let p=0;p<m;p++){const g=o2e(r[p],u[o],c[o],l[i]);!f&&g!==t[i].interpolatorOffsets[p]&&(f=!0),t[i].offset[p]=g}f&&(t[i].interpolate=eR(t[i].offset,eQ(r),{clamp:!1}),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=Lo(0,1,t[i].interpolate(t[i].current))}function f2e(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function h2e(e,t,n,r={}){return{measure:a=>{f2e(e,r.target,n),s2e(e,n,a),(r.offset||r.target)&&u2e(e,n,r)},notify:()=>t(n)}}const Pp=new WeakMap,kB=new WeakMap,DC=new WeakMap,TB=e=>e===document.scrollingElement?window:e;function lJ(e,{container:t=document.scrollingElement,...n}={}){if(!t)return ha;let r=DC.get(t);r||(r=new Set,DC.set(t,r));const a=n2e(),i=h2e(t,e,a,n);if(r.add(i),!Pp.has(t)){const l=()=>{for(const m of r)m.measure(Wr.timestamp);xn.preUpdate(c)},c=()=>{for(const m of r)m.notify()},u=()=>xn.read(l);Pp.set(t,u);const f=TB(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&kB.set(t,gNe(t,u)),f.addEventListener("scroll",u,{passive:!0}),u()}const o=Pp.get(t);return xn.read(o,!1,!0),()=>{so(o);const l=DC.get(t);if(!l||(l.delete(i),l.size))return;const c=Pp.get(t);Pp.delete(t),c&&(TB(t).removeEventListener("scroll",c),kB.get(t)?.(),window.removeEventListener("resize",c))}}const AB=new Map;function m2e(e){const t={value:0},n=lJ(r=>{t.value=r[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function cJ({source:e,container:t,...n}){const{axis:r}=n;e&&(t=e);const a=AB.get(t)??new Map;AB.set(t,a);const i=n.target??"self",o=a.get(i)??{},l=r+(n.offset??[]).join(",");return o[l]||(o[l]=!n.target&&sQ()?new ScrollTimeline({source:t,axis:r}):m2e({container:t,...n})),o[l]}function p2e(e,t){const n=cJ(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:r=>(r.pause(),jQ(a=>{r.time=r.iterationDuration*a},n))})}function x2e(e){return e.length===2}function g2e(e,t){return x2e(e)?lJ(n=>{e(n[t.axis].progress,n)},t):jQ(e,cJ(t))}function y2e(e,{axis:t="y",container:n=document.scrollingElement,...r}={}){if(!n)return ha;const a={axis:t,container:n,...r};return typeof e=="function"?g2e(e,a):p2e(e,a)}const v2e=()=>({scrollX:Hi(0),scrollY:Hi(0),scrollXProgress:Hi(0),scrollYProgress:Hi(0)}),db=e=>e?!e.current:!1;function b2e({container:e,target:t,...n}={}){const r=cN(v2e),a=j.useRef(null),i=j.useRef(!1),o=j.useCallback(()=>(a.current=y2e((l,{x:c,y:u})=>{r.scrollX.set(c.current),r.scrollXProgress.set(c.progress),r.scrollY.set(u.current),r.scrollYProgress.set(u.progress)},{...n,container:e?.current||void 0,target:t?.current||void 0}),()=>{a.current?.()}),[e,t,JSON.stringify(n.offset)]);return F_(()=>{if(i.current=!1,db(e)||db(t)){i.current=!0;return}else return o()},[o]),j.useEffect(()=>{if(i.current)return Yx(!db(e)),Yx(!db(t)),o()},[o]),r}function j2e(e){const t=cN(()=>Hi(e)),{isStatic:n}=j.useContext(uR);if(n){const[,r]=j.useState(e);j.useEffect(()=>t.on("change",r),[])}return t}function dJ(e,t){const n=j2e(t()),r=()=>n.set(t());return r(),F_(()=>{const a=()=>xn.preRender(r,!1,!0),i=e.map(o=>o.on("change",a));return()=>{i.forEach(o=>o()),so(r)}}),n}function w2e(e){gx.current=[],e();const t=dJ(gx.current,e);return gx.current=void 0,t}function IC(e,t,n,r){if(typeof e=="function")return w2e(e);const a=typeof t=="function"?t:vNe(t,n,r);return Array.isArray(e)?EB(e,a):EB([e],([i])=>a(i))}function EB(e,t){const n=cN(()=>[]);return dJ(e,()=>{n.length=0;const r=e.length;for(let a=0;a<r;a++)n[a]=e[a].get();return t(n)})}const N2e={some:0,all:1};function S2e(e,t,{root:n,margin:r,amount:a="some"}={}){const i=oR(e),o=new WeakMap,l=u=>{u.forEach(f=>{const m=o.get(f.target);if(f.isIntersecting!==!!m)if(f.isIntersecting){const p=t(f.target,f);typeof p=="function"?o.set(f.target,p):c.unobserve(f.target)}else typeof m=="function"&&(m(f),o.delete(f.target))})},c=new IntersectionObserver(l,{root:n,rootMargin:r,threshold:typeof a=="number"?a:N2e[a]});return i.forEach(u=>c.observe(u)),()=>c.disconnect()}function C2e(e,{root:t,margin:n,amount:r,once:a=!1,initial:i=!1}={}){const[o,l]=j.useState(i);return j.useEffect(()=>{if(!e.current||a&&o)return;const c=()=>(l(!0),a?void 0:()=>l(!1)),u={root:t&&t.current||void 0,margin:n,amount:r};return S2e(e.current,c,u)},[t,e,n,a,r]),o}function ub({children:e,className:t="",tiltAmount:n=10,glareEnabled:r=!0}){const a=j.useRef(null),[i,o]=j.useState(0),[l,c]=j.useState(0),[u,f]=j.useState({x:50,y:50}),m=g=>{if(!a.current)return;const v=a.current.getBoundingClientRect(),y=v.left+v.width/2,w=v.top+v.height/2,N=g.clientX-y,T=(g.clientY-w)/(v.height/2)*-n,C=N/(v.width/2)*n;o(T),c(C);const S=(g.clientX-v.left)/v.width*100,E=(g.clientY-v.top)/v.height*100;f({x:S,y:E})},p=()=>{o(0),c(0),f({x:50,y:50})};return s.jsxs(st.div,{ref:a,className:`relative ${t}`,onMouseMove:m,onMouseLeave:p,animate:{rotateX:i,rotateY:l,transformPerspective:1e3},transition:{type:"spring",stiffness:300,damping:20},style:{transformStyle:"preserve-3d"},children:[e,r&&s.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{background:`radial-gradient(circle at ${u.x}% ${u.y}%, rgba(255,255,255,0.15) 0%, transparent 60%)`}})]})}function k2e(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}var T2e=pa[" useInsertionEffect ".trim().toString()]||Zt;function uJ({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=A2e({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=E2e(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function A2e({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return T2e(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function E2e(e){return typeof e=="function"}function O2e(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}var P2e=pa[" useInsertionEffect ".trim().toString()]||Zt;function M2e({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=_2e({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=R2e(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function _2e({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return P2e(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function R2e(e){return typeof e=="function"}var hN="Collapsible",[D2e,fJ]=ss(hN),[I2e,jR]=D2e(hN),hJ=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,u]=M2e({prop:r,defaultProp:a??!1,onChange:o,caller:hN});return s.jsx(I2e,{scope:n,disabled:i,contentId:Ts(),open:c,onOpenToggle:j.useCallback(()=>u(f=>!f),[u]),children:s.jsx(Je.div,{"data-state":CR(c),"data-disabled":i?"":void 0,...l,ref:t})})});hJ.displayName=hN;var mJ="CollapsibleTrigger",wR=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=jR(mJ,n);return s.jsx(Je.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":CR(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:O2e(e.onClick,a.onOpenToggle)})});wR.displayName=mJ;var NR="CollapsibleContent",SR=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=jR(NR,e.__scopeCollapsible);return s.jsx(Vr,{present:n||a.open,children:({present:i})=>s.jsx(L2e,{...r,ref:t,present:i})})});SR.displayName=NR;var L2e=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...i}=e,o=jR(NR,n),[l,c]=j.useState(r),u=j.useRef(null),f=it(t,u),m=j.useRef(0),p=m.current,g=j.useRef(0),v=g.current,y=o.open||l,w=j.useRef(y),N=j.useRef(void 0);return j.useEffect(()=>{const A=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(A)},[]),Zt(()=>{const A=u.current;if(A){N.current=N.current||{transitionDuration:A.style.transitionDuration,animationName:A.style.animationName},A.style.transitionDuration="0s",A.style.animationName="none";const T=A.getBoundingClientRect();m.current=T.height,g.current=T.width,w.current||(A.style.transitionDuration=N.current.transitionDuration,A.style.animationName=N.current.animationName),c(r)}},[o.open,r]),s.jsx(Je.div,{"data-state":CR(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...i,ref:f,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:y&&a})});function CR(e){return e?"open":"closed"}var pJ=hJ,$2e=wR,F2e=SR,oo="Accordion",B2e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[kR,z2e,q2e]=tN(oo),[mN]=ss(oo,[q2e,fJ]),TR=fJ(),xJ=Z.forwardRef((e,t)=>{const{type:n,...r}=e,a=r,i=r;return s.jsx(kR.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?s.jsx(K2e,{...i,ref:t}):s.jsx(H2e,{...a,ref:t})})});xJ.displayName=oo;var[gJ,U2e]=mN(oo),[yJ,V2e]=mN(oo,{collapsible:!1}),H2e=Z.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=uJ({prop:n,defaultProp:r??"",onChange:a,caller:oo});return s.jsx(gJ,{scope:e.__scopeAccordion,value:Z.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:Z.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(yJ,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(vJ,{...o,ref:t})})})}),K2e=Z.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...i}=e,[o,l]=uJ({prop:n,defaultProp:r??[],onChange:a,caller:oo}),c=Z.useCallback(f=>l((m=[])=>[...m,f]),[l]),u=Z.useCallback(f=>l((m=[])=>m.filter(p=>p!==f)),[l]);return s.jsx(gJ,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(yJ,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(vJ,{...i,ref:t})})})}),[W2e,pN]=mN(oo),vJ=Z.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:a,orientation:i="vertical",...o}=e,l=Z.useRef(null),c=it(l,t),u=z2e(n),m=hm(a)==="ltr",p=k2e(e.onKeyDown,g=>{if(!B2e.includes(g.key))return;const v=g.target,y=u().filter(_=>!_.ref.current?.disabled),w=y.findIndex(_=>_.ref.current===v),N=y.length;if(w===-1)return;g.preventDefault();let A=w;const T=0,C=N-1,S=()=>{A=w+1,A>C&&(A=T)},E=()=>{A=w-1,A<T&&(A=C)};switch(g.key){case"Home":A=T;break;case"End":A=C;break;case"ArrowRight":i==="horizontal"&&(m?S():E());break;case"ArrowDown":i==="vertical"&&S();break;case"ArrowLeft":i==="horizontal"&&(m?E():S());break;case"ArrowUp":i==="vertical"&&E();break}const O=A%N;y[O].ref.current?.focus()});return s.jsx(W2e,{scope:n,disabled:r,direction:a,orientation:i,children:s.jsx(kR.Slot,{scope:n,children:s.jsx(Je.div,{...o,"data-orientation":i,ref:c,onKeyDown:r?void 0:p})})})}),B0="AccordionItem",[G2e,AR]=mN(B0),bJ=Z.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...a}=e,i=pN(B0,n),o=U2e(B0,n),l=TR(n),c=Ts(),u=r&&o.value.includes(r)||!1,f=i.disabled||e.disabled;return s.jsx(G2e,{scope:n,open:u,disabled:f,triggerId:c,children:s.jsx(pJ,{"data-orientation":i.orientation,"data-state":kJ(u),...l,...a,ref:t,disabled:f,open:u,onOpenChange:m=>{m?o.onItemOpen(r):o.onItemClose(r)}})})});bJ.displayName=B0;var jJ="AccordionHeader",wJ=Z.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=pN(oo,n),i=AR(jJ,n);return s.jsx(Je.h3,{"data-orientation":a.orientation,"data-state":kJ(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});wJ.displayName=jJ;var CP="AccordionTrigger",NJ=Z.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=pN(oo,n),i=AR(CP,n),o=V2e(CP,n),l=TR(n);return s.jsx(kR.ItemSlot,{scope:n,children:s.jsx($2e,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...r,ref:t})})});NJ.displayName=CP;var SJ="AccordionContent",CJ=Z.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=pN(oo,n),i=AR(SJ,n),o=TR(n);return s.jsx(F2e,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});CJ.displayName=SJ;function kJ(e){return e?"open":"closed"}var Y2e=xJ,X2e=bJ,Q2e=wJ,TJ=NJ,AJ=CJ;const kP=Y2e,z0=j.forwardRef(({className:e,...t},n)=>s.jsx(X2e,{ref:n,className:Re("border-b",e),...t}));z0.displayName="AccordionItem";const q0=j.forwardRef(({className:e,children:t,...n},r)=>s.jsx(Q2e,{className:"flex",children:s.jsxs(TJ,{ref:r,className:Re("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,s.jsx(fa,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));q0.displayName=TJ.displayName;const U0=j.forwardRef(({className:e,children:t,...n},r)=>s.jsx(AJ,{ref:r,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:s.jsx("div",{className:Re("pb-4 pt-0",e),children:t})}));U0.displayName=AJ.displayName;function jx(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}var J2e=pa[" useInsertionEffect ".trim().toString()]||Zt;function Z2e({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=eCe({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=tCe(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function eCe({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return J2e(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function tCe(e){return typeof e=="function"}function nCe(e){const t=rCe(e),n=j.forwardRef((r,a)=>{const{children:i,...o}=r,l=j.Children.toArray(i),c=l.find(aCe);if(c){const u=c.props.children,f=l.map(m=>m===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function rCe(e){const t=j.forwardRef((n,r)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=oCe(a),l=iCe(i,a.props);return a.type!==j.Fragment&&(l.ref=r?io(r,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sCe=Symbol("radix.slottable");function aCe(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sCe}function iCe(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function oCe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var xN="Dialog",[EJ,OJ]=ss(xN),[lCe,lo]=EJ(xN),PJ=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=j.useRef(null),c=j.useRef(null),[u,f]=Z2e({prop:r,defaultProp:a??!1,onChange:i,caller:xN});return s.jsx(lCe,{scope:t,triggerRef:l,contentRef:c,contentId:Ts(),titleId:Ts(),descriptionId:Ts(),open:u,onOpenChange:f,onOpenToggle:j.useCallback(()=>f(m=>!m),[f]),modal:o,children:n})};PJ.displayName=xN;var MJ="DialogTrigger",_J=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=lo(MJ,n),i=it(t,a.triggerRef);return s.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":PR(a.open),...r,ref:i,onClick:jx(e.onClick,a.onOpenToggle)})});_J.displayName=MJ;var ER="DialogPortal",[cCe,RJ]=EJ(ER,{forceMount:void 0}),DJ=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=lo(ER,t);return s.jsx(cCe,{scope:t,forceMount:n,children:j.Children.map(r,o=>s.jsx(Vr,{present:n||i.open,children:s.jsx(fm,{asChild:!0,container:a,children:o})}))})};DJ.displayName=ER;var V0="DialogOverlay",IJ=j.forwardRef((e,t)=>{const n=RJ(V0,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=lo(V0,e.__scopeDialog);return i.modal?s.jsx(Vr,{present:r||i.open,children:s.jsx(uCe,{...a,ref:t})}):null});IJ.displayName=V0;var dCe=nCe("DialogOverlay.RemoveScroll"),uCe=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=lo(V0,n);return s.jsx(ry,{as:dCe,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Je.div,{"data-state":PR(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),hu="DialogContent",LJ=j.forwardRef((e,t)=>{const n=RJ(hu,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=lo(hu,e.__scopeDialog);return s.jsx(Vr,{present:r||i.open,children:i.modal?s.jsx(fCe,{...a,ref:t}):s.jsx(hCe,{...a,ref:t})})});LJ.displayName=hu;var fCe=j.forwardRef((e,t)=>{const n=lo(hu,e.__scopeDialog),r=j.useRef(null),a=it(t,n.contentRef,r);return j.useEffect(()=>{const i=r.current;if(i)return sN(i)},[]),s.jsx($J,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jx(e.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:jx(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:jx(e.onFocusOutside,i=>i.preventDefault())})}),hCe=j.forwardRef((e,t)=>{const n=lo(hu,e.__scopeDialog),r=j.useRef(!1),a=j.useRef(!1);return s.jsx($J,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;n.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),$J=j.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=lo(hu,n),c=j.useRef(null),u=it(t,c);return nN(),s.jsxs(s.Fragment,{children:[s.jsx(ty,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(dm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":PR(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(pCe,{titleId:l.titleId}),s.jsx(gCe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),OR="DialogTitle",FJ=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=lo(OR,n);return s.jsx(Je.h2,{id:a.titleId,...r,ref:t})});FJ.displayName=OR;var BJ="DialogDescription",zJ=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=lo(BJ,n);return s.jsx(Je.p,{id:a.descriptionId,...r,ref:t})});zJ.displayName=BJ;var qJ="DialogClose",UJ=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=lo(qJ,n);return s.jsx(Je.button,{type:"button",...r,ref:t,onClick:jx(e.onClick,()=>a.onOpenChange(!1))})});UJ.displayName=qJ;function PR(e){return e?"open":"closed"}var VJ="DialogTitleWarning",[mCe,HJ]=gue(VJ,{contentName:hu,titleName:OR,docsSlug:"dialog"}),pCe=({titleId:e})=>{const t=HJ(VJ),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},xCe="DialogDescriptionWarning",gCe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${HJ(xCe).contentName}}.`;return j.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},MR=PJ,KJ=_J,_R=DJ,uy=IJ,fy=LJ,hy=FJ,my=zJ,gN=UJ;const Wt=MR,ks=KJ,yCe=_R,WJ=j.forwardRef(({className:e,...t},n)=>s.jsx(uy,{ref:n,className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));WJ.displayName=uy.displayName;const zt=j.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(yCe,{children:[s.jsx(WJ,{}),s.jsxs(fy,{ref:r,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(gN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Xn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zt.displayName=fy.displayName;const qt=({className:e,...t})=>s.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});qt.displayName="DialogHeader";const Ks=({className:e,...t})=>s.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ks.displayName="DialogFooter";const Ut=j.forwardRef(({className:e,...t},n)=>s.jsx(hy,{ref:n,className:Re("text-lg font-semibold leading-none tracking-tight",e),...t}));Ut.displayName=hy.displayName;const ao=j.forwardRef(({className:e,...t},n)=>s.jsx(my,{ref:n,className:Re("text-sm text-muted-foreground",e),...t}));ao.displayName=my.displayName;const le=j.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:Re("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));le.displayName="Input";const vi=j.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:Re("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));vi.displayName="Textarea";const vCe="/assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA_09.01.2026_%D0%B2_21.12_1767983590330-BAhPDH0M.png",bCe="/assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA_09.01.2026_%D0%B2_21.12_1767983590340-Bp90ddAd.png",jCe="/assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA_09.01.2026_%D0%B2_21.11_1767983590341-gQeC2xVZ.png",wCe=({value:e,suffix:t="",prefix:n=""})=>{const[r,a]=Z.useState(0),[i,o]=Z.useState(!1),l=Z.useRef(null),c=C2e(l,{once:!0,margin:"-50px"});Z.useEffect(()=>{if(c&&!i){o(!0);const f=e,m=2e3,p=Date.now(),g=()=>{const y=Date.now()-p,w=Math.min(y/m,1),N=1-Math.pow(1-w,3),A=Math.floor(N*f);a(A),w<1?requestAnimationFrame(g):a(f)};requestAnimationFrame(g)}},[c,i,e]);const u=f=>f>=1e9?(f/1e9).toFixed(1)+"B":f>=1e6?(f/1e6).toFixed(1)+"M":f>=1e3?(f/1e3).toFixed(0)+"K":f.toString();return s.jsxs("span",{ref:l,children:[n,u(r),t]})},NCe=[vCe,bCe,jCe];function SCe(){const{t:e}=as(),[,t]=hr(),[n,r]=j.useState(!1),[a,i]=j.useState(0),[o,l]=j.useState(4285),[c,u]=j.useState({name:"",email:"",message:""}),[f,m]=j.useState(!1),[p,g]=j.useState(null),[v,y]=j.useState(!1),[w,N]=j.useState(0),A=Z.useRef(null),{toast:T}=Dt(),{scrollY:C}=b2e(),S=IC(C,[0,500],[0,100]),E=IC(C,[0,500],[0,60]),O=IC(C,[0,500],[0,40]),_=[{label:e("landing.demoTabs.dashboard"),src:"/demo-videos/.mp4",icon:DO,color:"emerald",iconColor:"text-emerald-400"},{label:e("landing.demoTabs.offers"),src:"/demo-videos/_.mp4",icon:gi,color:"blue",iconColor:"text-blue-400"},{label:e("landing.demoTabs.createOffer"),src:"/demo-videos/_.mp4",icon:Gi,color:"purple",iconColor:"text-purple-400"},{label:e("landing.demoTabs.statistics"),src:"/demo-videos/.mp4",icon:qr,color:"cyan",iconColor:"text-cyan-400"},{label:e("landing.demoTabs.finance"),src:"/demo-videos/.mp4",icon:On,color:"amber",iconColor:"text-amber-400"},{label:e("landing.demoTabs.team"),src:"/demo-videos/.mp4",icon:pn,color:"pink",iconColor:"text-pink-400"},{label:e("landing.demoTabs.antifraud"),src:"/demo-videos/.mp4",icon:nC,color:"red",iconColor:"text-red-400"}],M=()=>{N(ee=>(ee+1)%_.length)};j.useEffect(()=>{A.current&&(A.current.load(),A.current.play().catch(()=>{}))},[w]);const{data:$=[],isLoading:z}=Ne({queryKey:["/api/public/news"]}),{data:V=[],isLoading:I}=Ne({queryKey:["/api/public/roadmap"]}),F=[{id:"1",title:e("fallbackNews.news1.title"),category:e("fallbackNews.news1.category"),shortDescription:e("fallbackNews.news1.shortDesc"),body:e("fallbackNews.news1.body"),createdAt:"2026-01-15T00:00:00Z"},{id:"2",title:e("fallbackNews.news2.title"),category:e("fallbackNews.news2.category"),shortDescription:e("fallbackNews.news2.shortDesc"),body:e("fallbackNews.news2.body"),createdAt:"2026-01-10T00:00:00Z"},{id:"3",title:e("fallbackNews.news3.title"),category:e("fallbackNews.news3.category"),shortDescription:e("fallbackNews.news3.shortDesc"),body:e("fallbackNews.news3.body"),createdAt:"2026-01-05T00:00:00Z"}],K=[{id:"1",title:e("fallbackRoadmap.item1.title"),description:e("fallbackRoadmap.item1.desc"),quarter:"Q1 2026",status:"in_progress"},{id:"2",title:e("fallbackRoadmap.item2.title"),description:e("fallbackRoadmap.item2.desc"),quarter:"Q2 2026",status:"planned"},{id:"3",title:e("fallbackRoadmap.item3.title"),description:e("fallbackRoadmap.item3.desc"),quarter:"Q3 2026",status:"planned"}],R=($||[]).map(ee=>({id:ee.id||`news-${Math.random()}`,title:ee.title||e("landing.fallbacks.noTitle"),category:ee.category||e("landing.fallbacks.news"),shortDescription:ee.shortDescription||ee.body?.substring(0,150)||"",body:ee.body||"",createdAt:ee.createdAt||ee.publishedAt||new Date().toISOString()})),B=(V||[]).map(ee=>({id:ee.id||`roadmap-${Math.random()}`,title:ee.title||e("landing.fallbacks.noTitle"),description:ee.description||"",quarter:ee.quarter||"TBD",status:ee.status||"planned"})),L=R.length>0?R:F,q=B.length>0?B:K,se={[e("categoryLabels.update")]:nC,[e("categoryLabels.integration")]:On,[e("categoryLabels.feature")]:_o,[e("categoryLabels.news")]:Ia},H=ee=>se[ee]||Ia;j.useEffect(()=>{const ee=setInterval(()=>{i(Le=>(Le+1)%NCe.length)},4e3);return()=>clearInterval(ee)},[]),j.useEffect(()=>{const ee=setInterval(()=>{l(Le=>Le+Math.floor(Math.random()*15)+5)},2e3);return()=>clearInterval(ee)},[]);const Y=async ee=>{ee.preventDefault(),m(!0),await new Promise(Le=>setTimeout(Le,1e3)),T({title:e("landing.contact.form.success"),description:e("landing.contact.form.successDesc")}),u({name:"",email:"",message:""}),m(!1)},G={initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5}},{data:X=[]}=Ne({queryKey:["/api/subscription/plans"]}),{data:ae}=Ne({queryKey:["/api/public/platform-settings"]}),de=ae?.platformName||e("brand"),he=ae?.supportEmail||"support@example.com",ge=(ae?.supportTelegram||"primetrack_support_bot").replace(/^@/,""),Ae=ae?.copyrightText||e("copyright",{year:new Date().getFullYear(),name:de}),_e=ee=>{document.getElementById(ee)?.scrollIntoView({behavior:"smooth"})};return s.jsxs("div",{className:"min-h-screen bg-background text-foreground font-sans selection:bg-emerald-500/30",children:[s.jsx(lje,{}),s.jsxs("section",{className:"relative pt-20 pb-12 overflow-hidden noise-overlay",children:[s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808006_1px,transparent_1px),linear-gradient(to_bottom,#80808006_1px,transparent_1px)] bg-[size:40px_40px]"}),s.jsx(st.div,{className:"absolute left-1/2 -translate-x-1/2 top-0 -z-10 h-[600px] w-[900px] rounded-full bg-emerald-500 opacity-20 blur-[150px]",style:{y:S}}),s.jsx(st.div,{className:"absolute left-1/4 top-1/4 -z-10 h-[400px] w-[400px] rounded-full bg-blue-500 opacity-10 blur-[120px]",style:{y:E}}),s.jsx(st.div,{className:"absolute right-1/4 top-1/3 -z-10 h-[300px] w-[300px] rounded-full bg-purple-500 opacity-10 blur-[100px]",style:{y:O}}),s.jsx(st.div,{className:"absolute left-[10%] top-[20%] w-3 h-3 rounded-full bg-emerald-400/30 animate-float",animate:{y:[0,-20,0],opacity:[.3,.6,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),s.jsx(st.div,{className:"absolute right-[15%] top-[30%] w-2 h-2 rounded-full bg-blue-400/30 animate-float-fast",animate:{y:[0,-15,0],opacity:[.2,.5,.2]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1}}),s.jsx(st.div,{className:"absolute left-[20%] bottom-[40%] w-4 h-4 rounded-full bg-purple-400/20 animate-float-slow",animate:{y:[0,-25,0],opacity:[.2,.4,.2]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:2}}),s.jsx(st.div,{className:"absolute right-[8%] top-[60%] w-2 h-2 rounded-full bg-cyan-400/25 animate-float",animate:{y:[0,-18,0],opacity:[.2,.45,.2]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:.5}}),s.jsx(st.div,{className:"absolute left-[5%] top-[70%] w-3 h-3 rounded-full bg-pink-400/20 animate-float-slow",animate:{y:[0,-22,0],opacity:[.15,.35,.15]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:1.5}}),s.jsx(st.div,{className:"absolute right-[25%] top-[15%] w-1.5 h-1.5 rounded-full bg-amber-400/30 animate-float-fast",animate:{y:[0,-12,0],opacity:[.25,.5,.25]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut",delay:2.5}}),s.jsx("div",{className:"container px-4 mx-auto relative z-10",children:s.jsxs("div",{className:"flex flex-col items-center text-center max-w-4xl mx-auto",children:[s.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-gradient-to-r from-emerald-500/10 to-blue-500/10 border border-emerald-500/30 text-emerald-400 text-sm font-medium mb-6",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),e("landing.badges.freeTrialFull")]}),s.jsxs(st.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-5xl md:text-6xl lg:text-7xl font-extrabold tracking-tight mb-5 leading-[1.1] font-display",children:[e("landing.hero.title1")," ",s.jsx("span",{className:"gradient-text",children:e("landing.hero.title2")})]}),s.jsx(st.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-lg text-muted-foreground mb-6 max-w-xl leading-relaxed",children:ae?.platformDescription||e("landing.hero.subtitle")}),s.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"flex flex-col sm:flex-row gap-3 mb-5",children:[s.jsxs(U,{size:"lg",className:"group h-14 px-10 rounded-xl bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white font-semibold text-base shadow-[0_0_40px_rgba(16,185,129,0.5)] hover:shadow-[0_0_60px_rgba(16,185,129,0.6)] border border-emerald-400/50 transition-all duration-300 hover:scale-[1.02]",onClick:()=>t("/register/advertiser"),"data-testid":"button-hero-register",children:[e("landing.hero.cta"),s.jsx(Jp,{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),s.jsx(U,{size:"lg",variant:"outline",className:"h-14 px-10 rounded-xl border-border/50 hover:border-emerald-500/50 hover:bg-emerald-500/5 text-muted-foreground hover:text-foreground font-semibold text-base transition-all duration-300 hover:scale-[1.02]",onClick:()=>_e("pricing"),"data-testid":"button-hero-pricing",children:e("landing.whoFor.viewPricing")})]}),s.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"flex flex-wrap justify-center gap-4 mb-10",children:[e("landing.heroTags.cpaRevshare"),e("landing.heroTags.postback"),e("landing.heroTags.subid"),e("landing.heroTags.antiDuplicate")].map((ee,Le)=>s.jsxs("span",{className:"flex items-center gap-1.5 text-sm text-muted-foreground/80",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500"}),ee]},Le))})]})}),s.jsxs(st.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,delay:.5},className:"w-full max-w-[1200px] mx-auto px-4 relative z-10",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-emerald-500/20 via-blue-500/10 to-purple-500/20 rounded-[32px] blur-2xl opacity-60 group-hover:opacity-80 transition-opacity duration-500"}),s.jsx("div",{className:"relative rounded-[24px] bg-gradient-to-b from-[#3a3a3c] via-[#2c2c2e] to-[#1c1c1e] p-[3px] shadow-[0_60px_120px_-20px_rgba(0,0,0,0.9),0_0_100px_rgba(16,185,129,0.15)]",children:s.jsx("div",{className:"rounded-[22px] bg-gradient-to-b from-[#1a1a1c] to-[#0a0a0a] overflow-hidden",children:s.jsxs("div",{className:"p-3 md:p-4",children:[s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx("div",{className:"w-2 h-2 rounded-full bg-[#1a1a1c] ring-1 ring-[#2a2a2c]"})}),s.jsxs("div",{className:"relative rounded-lg bg-[#0a0a0a] border border-[#2a2a2c] overflow-hidden shadow-inner",children:[s.jsxs("div",{className:"h-10 md:h-12 bg-[#111] border-b border-[#2a2a2c] flex items-center px-3 md:px-4",children:[s.jsxs("div",{className:"flex gap-1.5 md:gap-2",children:[s.jsx("div",{className:"w-2.5 h-2.5 md:w-3 md:h-3 rounded-full bg-[#ff5f57]"}),s.jsx("div",{className:"w-2.5 h-2.5 md:w-3 md:h-3 rounded-full bg-[#febc2e]"}),s.jsx("div",{className:"w-2.5 h-2.5 md:w-3 md:h-3 rounded-full bg-[#28c840]"})]}),s.jsx("div",{className:"flex-1 flex justify-center gap-1 md:gap-2 overflow-x-auto px-2 md:px-4",children:_.map((ee,Le)=>{const Ce=ee.icon,De={emerald:"bg-emerald-500/20 border-emerald-500/40 shadow-[0_0_12px_rgba(16,185,129,0.4)]",blue:"bg-blue-500/20 border-blue-500/40 shadow-[0_0_12px_rgba(59,130,246,0.4)]",purple:"bg-purple-500/20 border-purple-500/40 shadow-[0_0_12px_rgba(168,85,247,0.4)]",cyan:"bg-cyan-500/20 border-cyan-500/40 shadow-[0_0_12px_rgba(6,182,212,0.4)]",amber:"bg-amber-500/20 border-amber-500/40 shadow-[0_0_12px_rgba(245,158,11,0.4)]",pink:"bg-pink-500/20 border-pink-500/40 shadow-[0_0_12px_rgba(236,72,153,0.4)]",red:"bg-red-500/20 border-red-500/40 shadow-[0_0_12px_rgba(239,68,68,0.4)]"};return s.jsxs("button",{onClick:()=>N(Le),"data-testid":`demo-tab-${Le}`,className:`flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 text-[10px] md:text-sm font-medium rounded-lg transition-all whitespace-nowrap border ${w===Le?`text-white ${De[ee.color]}`:"text-muted-foreground hover:text-foreground hover:bg-[#1a1a2e]/50 border-transparent hover:border-[#2a2a4a]/50"}`,children:[s.jsx(Ce,{className:`w-3 h-3 md:w-3.5 md:h-3.5 ${ee.iconColor}`}),s.jsx("span",{className:"hidden md:inline",children:ee.label})]},ee.label)})})]}),s.jsxs("div",{className:"relative w-full",style:{aspectRatio:"16/9"},"data-testid":"demo-video-container",children:[s.jsx("video",{ref:A,src:_[w].src,className:"absolute inset-0 w-full h-full object-contain bg-black",autoPlay:!0,muted:!0,playsInline:!0,onEnded:M},w),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.03] via-transparent to-transparent pointer-events-none"}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1/3 bg-gradient-to-b from-white/[0.02] to-transparent pointer-events-none"})]})]})]})})}),s.jsxs("div",{className:"flex flex-col items-center -mt-1",children:[s.jsx("div",{className:"w-24 md:w-32 h-12 md:h-16 bg-gradient-to-b from-[#2c2c2e] via-[#3a3a3c] to-[#2c2c2e] rounded-b-lg shadow-inner",style:{clipPath:"polygon(15% 0, 85% 0, 100% 100%, 0% 100%)"}}),s.jsx("div",{className:"w-40 md:w-56 h-2 md:h-3 bg-gradient-to-b from-[#3a3a3c] to-[#2c2c2e] rounded-full shadow-lg"}),s.jsx("div",{className:"w-56 md:w-72 h-2 bg-black/30 rounded-full blur-md -mt-1"})]})]}),s.jsx("div",{className:"flex justify-center gap-2 mt-6",children:_.map((ee,Le)=>s.jsx("button",{onClick:()=>N(Le),"data-testid":`demo-dot-${Le}`,className:`w-2 h-2 rounded-full transition-all duration-300 ${Le===w?"bg-emerald-500 scale-125":"bg-muted-foreground/30 hover:bg-muted-foreground/50"}`},Le))})]})]}),s.jsxs("section",{className:"border-y border-border/50 bg-gradient-to-r from-background via-muted/30 to-background relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-emerald-500/5 via-transparent to-transparent"}),s.jsx("div",{className:"container mx-auto relative",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4",children:[{label:e("landing.stats.clicksProcessed"),numValue:12e8,suffix:"+",icon:lme,color:"from-emerald-400 to-cyan-400"},{label:e("landing.stats.availability"),displayValue:"99.99%",icon:Il,color:"from-green-400 to-emerald-400",isLive:!0},{label:e("landing.stats.responseTime"),displayValue:"< 5ms",icon:lpe,color:"from-cyan-400 to-blue-400"},{label:e("landing.stats.advertisers"),numValue:500,suffix:"+",icon:er,color:"from-violet-400 to-purple-400"}].map((ee,Le)=>s.jsxs(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:Le*.1,duration:.5},className:"group relative py-8 px-4 text-center transition-all duration-300 hover:bg-muted/50",children:[Le<3&&s.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 h-12 w-px bg-gradient-to-b from-transparent via-border to-transparent hidden md:block"}),s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:`p-2.5 rounded-xl bg-gradient-to-br ${ee.color} bg-opacity-10 group-hover:scale-110 transition-transform duration-300`,children:s.jsx(ee.icon,{className:"h-5 w-5 text-white/90"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[ee.isLive&&s.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-green-500"})]}),s.jsx("div",{className:`text-3xl md:text-4xl font-bold font-mono bg-gradient-to-r ${ee.color} bg-clip-text text-transparent`,children:ee.numValue?s.jsx(wCe,{value:ee.numValue,suffix:ee.suffix}):ee.displayValue})]}),s.jsx("div",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:ee.label})]})]},Le))})})]}),s.jsx("section",{className:"py-16 bg-background",children:s.jsxs("div",{className:"container px-4 mx-auto",children:[s.jsxs(st.div,{...G,className:"text-center mb-4",children:[s.jsx(ye,{variant:"secondary",className:"mb-3 bg-violet-500/10 text-violet-400 border-violet-500/20",children:e("landing.badges.whoFor")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.whoFor.title",{platform:de})})]}),s.jsx(st.div,{...G,className:"text-center mb-10 max-w-2xl mx-auto",children:s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("landing.whoFor.intro",{platform:de})})}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsx(st.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},transition:{delay:0,duration:.5},children:s.jsx(ub,{className:"h-full group",tiltAmount:8,children:s.jsx(J,{className:"bg-card border-border h-full hover:border-emerald-500/40 hover:shadow-[0_20px_60px_-15px_rgba(16,185,129,0.2)] transition-all duration-300 gradient-border rounded-2xl",children:s.jsxs(ne,{className:"p-8 relative z-10",children:[s.jsx(st.div,{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-emerald-500/20 to-emerald-500/5 flex items-center justify-center mb-6 shadow-lg",whileHover:{scale:1.1,rotate:6},transition:{type:"spring",stiffness:400,damping:10},children:s.jsx(qr,{className:"w-8 h-8 text-emerald-400"})}),s.jsx("h3",{className:"text-xl font-bold mb-3 font-display",children:e("landing.whoFor.affiliates.title")}),s.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed mb-4",children:e("landing.whoFor.affiliates.desc",{platform:de})}),s.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:e("landing.whoFor.affiliates.youGet")}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e("landing.whoFor.affiliates.item1")]}),s.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e("landing.whoFor.affiliates.item2")]}),s.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e("landing.whoFor.affiliates.item3")]})]}),s.jsx("p",{className:"text-muted-foreground text-sm mt-4",children:e("landing.whoFor.affiliates.footer")})]})})})}),s.jsx(st.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},transition:{delay:.1,duration:.5},children:s.jsx(ub,{className:"h-full group",tiltAmount:8,children:s.jsx(J,{className:"bg-card border-border h-full hover:border-blue-500/40 hover:shadow-[0_20px_60px_-15px_rgba(59,130,246,0.2)] transition-all duration-300 gradient-border rounded-2xl",children:s.jsxs(ne,{className:"p-8 relative z-10",children:[s.jsx(st.div,{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500/20 to-blue-500/5 flex items-center justify-center mb-6 shadow-lg",whileHover:{scale:1.1,rotate:6},transition:{type:"spring",stiffness:400,damping:10},children:s.jsx(pn,{className:"w-8 h-8 text-blue-400"})}),s.jsx("h3",{className:"text-xl font-bold mb-3 font-display",children:e("landing.whoFor.teams.title")}),s.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed mb-4",children:e("landing.whoFor.teams.desc",{platform:de})}),s.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:e("landing.whoFor.teams.platformAllows")}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e("landing.whoFor.teams.item1")]}),s.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e("landing.whoFor.teams.item2")]}),s.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e("landing.whoFor.teams.item3")]})]}),s.jsx("p",{className:"text-muted-foreground text-sm mt-4",children:e("landing.whoFor.teams.footer")})]})})})}),s.jsx(st.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},transition:{delay:.2,duration:.5},children:s.jsx(ub,{className:"h-full group",tiltAmount:8,children:s.jsx(J,{className:"bg-card border-border h-full hover:border-purple-500/40 hover:shadow-[0_20px_60px_-15px_rgba(168,85,247,0.2)] transition-all duration-300 gradient-border rounded-2xl",children:s.jsxs(ne,{className:"p-8 relative z-10",children:[s.jsx(st.div,{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-500/20 to-purple-500/5 flex items-center justify-center mb-6 shadow-lg",whileHover:{scale:1.1,rotate:6},transition:{type:"spring",stiffness:400,damping:10},children:s.jsx(jn,{className:"w-8 h-8 text-purple-400"})}),s.jsx("h3",{className:"text-xl font-bold mb-3 font-display",children:e("landing.whoFor.partners.title")}),s.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed mb-4",children:e("landing.whoFor.partners.desc",{platform:de})}),s.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:e("landing.whoFor.partners.youCan")}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e("landing.whoFor.partners.item1")]}),s.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e("landing.whoFor.partners.item2")]}),s.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e("landing.whoFor.partners.item3")]})]}),s.jsx("p",{className:"text-muted-foreground text-sm mt-4",children:e("landing.whoFor.partners.footer")})]})})})})]})]})}),s.jsx("section",{className:"py-16 border-t border-border bg-background",children:s.jsxs("div",{className:"container px-4 mx-auto",children:[s.jsxs(st.div,{...G,className:"text-center mb-12",children:[s.jsx(ye,{variant:"secondary",className:"mb-3 bg-emerald-500/10 text-emerald-400 border-emerald-500/20",children:e("landing.badges.advantages")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display",children:e("landing.advantages.title")})]}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-5",children:[s.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:0,duration:.4},whileHover:{y:-6,transition:{duration:.2}},children:s.jsx(J,{className:"h-full bg-card border-border hover:border-amber-500/40 hover:shadow-[0_15px_50px_-12px_rgba(245,158,11,0.2)] transition-all duration-300",children:s.jsxs(ne,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 mb-4 rounded-xl bg-gradient-to-br from-amber-500/20 to-amber-500/5 flex items-center justify-center shadow-md",children:s.jsx(BO,{className:"w-6 h-6 text-amber-400"})}),s.jsx("h3",{className:"text-lg font-bold mb-3",children:e("landing.advantages.cards.noModules.title")}),s.jsxs("div",{className:"text-muted-foreground text-sm leading-relaxed space-y-2",children:[s.jsx("p",{children:e("landing.advantages.cards.noModules.p1")}),s.jsx("p",{children:e("landing.advantages.cards.noModules.p2",{platform:de})}),s.jsx("p",{children:e("landing.advantages.cards.noModules.p3")})]})]})})}),s.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1,duration:.4},whileHover:{y:-6,transition:{duration:.2}},children:s.jsx(J,{className:"h-full bg-card border-border hover:border-cyan-500/40 hover:shadow-[0_15px_50px_-12px_rgba(6,182,212,0.2)] transition-all duration-300",children:s.jsxs(ne,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 mb-4 rounded-xl bg-gradient-to-br from-cyan-500/20 to-cyan-500/5 flex items-center justify-center shadow-md",children:s.jsx(Yt,{className:"w-6 h-6 text-cyan-400"})}),s.jsx("h3",{className:"text-lg font-bold mb-3",children:e("landing.advantages.cards.quickStart.title")}),s.jsxs("div",{className:"text-muted-foreground text-sm leading-relaxed space-y-2",children:[s.jsx("p",{children:e("landing.advantages.cards.quickStart.p1")}),s.jsx("p",{children:e("landing.advantages.cards.quickStart.p2")}),s.jsx("p",{children:e("landing.advantages.cards.quickStart.p3")})]})]})})}),s.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2,duration:.4},whileHover:{y:-6,transition:{duration:.2}},children:s.jsx(J,{className:"h-full bg-card border-border hover:border-pink-500/40 hover:shadow-[0_15px_50px_-12px_rgba(236,72,153,0.2)] transition-all duration-300",children:s.jsxs(ne,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 mb-4 rounded-xl bg-gradient-to-br from-pink-500/20 to-pink-500/5 flex items-center justify-center shadow-md",children:s.jsx(Jme,{className:"w-6 h-6 text-pink-400"})}),s.jsx("h3",{className:"text-lg font-bold mb-3",children:e("landing.advantages.cards.simpleLogic.title")}),s.jsxs("div",{className:"text-muted-foreground text-sm leading-relaxed space-y-2",children:[s.jsx("p",{children:e("landing.advantages.cards.simpleLogic.p1")}),s.jsx("p",{children:e("landing.advantages.cards.simpleLogic.p2",{platform:de})})]})]})})}),s.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3,duration:.4},whileHover:{y:-6,transition:{duration:.2}},children:s.jsx(J,{className:"h-full bg-card border-border hover:border-emerald-500/40 hover:shadow-[0_15px_50px_-12px_rgba(16,185,129,0.2)] transition-all duration-300",children:s.jsxs(ne,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 mb-4 rounded-xl bg-gradient-to-br from-emerald-500/20 to-emerald-500/5 flex items-center justify-center shadow-md",children:s.jsx(qr,{className:"w-6 h-6 text-emerald-400"})}),s.jsx("h3",{className:"text-lg font-bold mb-3",children:e("landing.advantages.cards.affiliate.title")}),s.jsxs("div",{className:"text-muted-foreground text-sm leading-relaxed space-y-2",children:[s.jsx("p",{children:e("landing.advantages.cards.affiliate.p1",{platform:de})}),s.jsx("p",{children:e("landing.advantages.cards.affiliate.p2")}),s.jsx("p",{children:e("landing.advantages.cards.affiliate.p3")})]})]})})})]})]})}),s.jsx("section",{id:"features",className:"py-16 border-t border-border bg-background",children:s.jsxs("div",{className:"container px-4 mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(ye,{variant:"secondary",className:"mb-3 bg-cyan-500/10 text-cyan-400 border-cyan-500/20",children:e("landing.badges.features")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.features.title")}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:e("landing.features.subtitle")})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:[{icon:BO,key:"miniTracker",iconBg:"bg-emerald-500/10",iconColor:"text-emerald-500",hoverBorder:"hover:border-emerald-500/40",hoverShadow:"hover:shadow-[0_15px_50px_-12px_rgba(16,185,129,0.2)]"},{icon:DO,key:"statistics",iconBg:"bg-blue-500/10",iconColor:"text-blue-500",hoverBorder:"hover:border-blue-500/40",hoverShadow:"hover:shadow-[0_15px_50px_-12px_rgba(59,130,246,0.2)]"},{icon:nC,key:"antifraud",iconBg:"bg-red-500/10",iconColor:"text-red-500",hoverBorder:"hover:border-red-500/40",hoverShadow:"hover:shadow-[0_15px_50px_-12px_rgba(239,68,68,0.2)]"},{icon:i_,key:"postback",iconBg:"bg-purple-500/10",iconColor:"text-purple-500",hoverBorder:"hover:border-purple-500/40",hoverShadow:"hover:shadow-[0_15px_50px_-12px_rgba(168,85,247,0.2)]"},{icon:pn,key:"teamwork",iconBg:"bg-orange-500/10",iconColor:"text-orange-500",hoverBorder:"hover:border-orange-500/40",hoverShadow:"hover:shadow-[0_15px_50px_-12px_rgba(249,115,22,0.2)]"},{icon:jn,key:"customDomains",iconBg:"bg-cyan-500/10",iconColor:"text-cyan-500",hoverBorder:"hover:border-cyan-500/40",hoverShadow:"hover:shadow-[0_15px_50px_-12px_rgba(6,182,212,0.2)]"},{icon:On,key:"finance",iconBg:"bg-green-500/10",iconColor:"text-green-500",hoverBorder:"hover:border-green-500/40",hoverShadow:"hover:shadow-[0_15px_50px_-12px_rgba(34,197,94,0.2)]"},{icon:_o,key:"notifications",iconBg:"bg-yellow-500/10",iconColor:"text-yellow-500",hoverBorder:"hover:border-yellow-500/40",hoverShadow:"hover:shadow-[0_15px_50px_-12px_rgba(234,179,8,0.2)]"},{icon:gi,key:"migration",iconBg:"bg-pink-500/10",iconColor:"text-pink-500",hoverBorder:"hover:border-pink-500/40",hoverShadow:"hover:shadow-[0_15px_50px_-12px_rgba(236,72,153,0.2)]"}].map((ee,Le)=>s.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},transition:{delay:Le*.05,duration:.4},children:s.jsx(ub,{className:"h-full group",tiltAmount:6,children:s.jsx(J,{className:`h-full bg-card/50 border-border ${ee.hoverBorder} ${ee.hoverShadow} transition-all duration-300 gradient-border rounded-2xl`,children:s.jsxs(ne,{className:"p-6 relative z-10",children:[s.jsx(st.div,{className:`w-12 h-12 ${ee.iconBg} rounded-xl flex items-center justify-center ${ee.iconColor} mb-4 shadow-md`,whileHover:{scale:1.15,rotate:6},transition:{type:"spring",stiffness:400,damping:10},children:s.jsx(ee.icon,{className:"w-6 h-6"})}),s.jsx("h3",{className:"text-lg font-bold mb-2 font-display",children:e(`features.cards.${ee.key}.title`)}),s.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:e(`features.cards.${ee.key}.desc`)})]})})})},Le))})]})}),s.jsx("section",{className:"py-16 border-t border-border bg-muted/30",children:s.jsxs("div",{className:"container px-4 mx-auto",children:[s.jsxs(st.div,{...G,className:"text-center mb-12",children:[s.jsx(ye,{variant:"secondary",className:"mb-3 bg-orange-500/10 text-orange-400 border-orange-500/20",children:e("landing.badges.howItWorks")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.howItWorks.title")})]}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[s.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:0,duration:.4},children:s.jsx(J,{className:"h-full bg-card border-border hover:border-emerald-500/30 transition-colors",children:s.jsxs(ne,{className:"p-6",children:[s.jsx("div",{className:"w-10 h-10 mb-4 rounded-full bg-blue-500/10 flex items-center justify-center",children:s.jsx(Do,{className:"w-5 h-5 text-blue-400"})}),s.jsx("div",{className:"text-xs font-mono text-blue-400 mb-2",children:"01"}),s.jsx("h3",{className:"text-lg font-bold mb-3",children:e("landing.howItWorks.steps.registration.title")}),s.jsxs("div",{className:"text-muted-foreground text-sm leading-relaxed space-y-2",children:[s.jsx("p",{children:e("landing.howItWorks.steps.registration.p1",{platform:de})}),s.jsx("p",{children:e("landing.howItWorks.steps.registration.p2")}),s.jsx("p",{children:e("landing.howItWorks.steps.registration.p3")})]})]})})}),s.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1,duration:.4},children:s.jsx(J,{className:"h-full bg-card border-border hover:border-emerald-500/30 transition-colors",children:s.jsxs(ne,{className:"p-6",children:[s.jsx("div",{className:"w-10 h-10 mb-4 rounded-full bg-purple-500/10 flex items-center justify-center",children:s.jsx(Gi,{className:"w-5 h-5 text-purple-400"})}),s.jsx("div",{className:"text-xs font-mono text-purple-400 mb-2",children:"02"}),s.jsx("h3",{className:"text-lg font-bold mb-3",children:e("landing.howItWorks.steps.createOffer.title")}),s.jsxs("div",{className:"text-muted-foreground text-sm leading-relaxed space-y-2",children:[s.jsx("p",{children:e("landing.howItWorks.steps.createOffer.p1")}),s.jsx("p",{children:e("landing.howItWorks.steps.createOffer.p2")}),s.jsx("p",{children:e("landing.howItWorks.steps.createOffer.p3")})]})]})})}),s.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2,duration:.4},children:s.jsx(J,{className:"h-full bg-card border-border hover:border-emerald-500/30 transition-colors",children:s.jsxs(ne,{className:"p-6",children:[s.jsx("div",{className:"w-10 h-10 mb-4 rounded-full bg-amber-500/10 flex items-center justify-center",children:s.jsx(pn,{className:"w-5 h-5 text-amber-400"})}),s.jsx("div",{className:"text-xs font-mono text-amber-400 mb-2",children:"03"}),s.jsx("h3",{className:"text-lg font-bold mb-3",children:e("landing.howItWorks.steps.attractPartners.title")}),s.jsxs("div",{className:"text-muted-foreground text-sm leading-relaxed space-y-2",children:[s.jsx("p",{children:e("landing.howItWorks.steps.attractPartners.p1")}),s.jsx("p",{children:e("landing.howItWorks.steps.attractPartners.p2")}),s.jsx("p",{children:e("landing.howItWorks.steps.attractPartners.p3")})]})]})})}),s.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3,duration:.4},children:s.jsx(J,{className:"h-full bg-card border-border hover:border-emerald-500/30 transition-colors",children:s.jsxs(ne,{className:"p-6",children:[s.jsx("div",{className:"w-10 h-10 mb-4 rounded-full bg-emerald-500/10 flex items-center justify-center",children:s.jsx(qr,{className:"w-5 h-5 text-emerald-400"})}),s.jsx("div",{className:"text-xs font-mono text-emerald-400 mb-2",children:"04"}),s.jsx("h3",{className:"text-lg font-bold mb-3",children:e("landing.howItWorks.steps.trackResults.title")}),s.jsxs("div",{className:"text-muted-foreground text-sm leading-relaxed space-y-2",children:[s.jsx("p",{children:e("landing.howItWorks.steps.trackResults.p1")}),s.jsx("p",{children:e("landing.howItWorks.steps.trackResults.p2")}),s.jsx("p",{children:e("landing.howItWorks.steps.trackResults.p3")})]})]})})})]}),s.jsx(st.div,{...G,className:"text-center mt-12 max-w-2xl mx-auto",children:s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("landing.howItWorks.subtitle")})})]})}),s.jsx("section",{className:"py-16 border-t border-border bg-background",children:s.jsx("div",{className:"container px-4 mx-auto",children:s.jsxs(st.div,{...G,className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(ye,{variant:"secondary",className:"mb-4 bg-blue-500/10 text-blue-400 border-blue-500/20",children:e("landing.badges.migration")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.migration.title")}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:e("landing.migration.subtitle")})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:["Scaleo","Affilka","Affise","Alanbase"].map(ee=>s.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 rounded border border-border bg-card/50 hover:border-emerald-500/30 transition-colors",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500"}),s.jsx("span",{className:"font-medium text-sm",children:ee})]},ee))}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(U,{variant:"outline",onClick:()=>y(!0),"data-testid":"button-migration-details",children:[e("landing.migrationSection.moreAbout"),s.jsx(Hc,{className:"ml-1 w-4 h-4"})]}),s.jsxs(U,{onClick:()=>t("/register/advertiser"),className:"bg-emerald-600 hover:bg-emerald-500","data-testid":"button-migration-register",children:[e("landing.migrationSection.startMigration"),s.jsx(Jp,{className:"ml-2 w-4 h-4"})]})]})]})})}),s.jsx(Wt,{open:v,onOpenChange:y,children:s.jsxs(zt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(qt,{children:s.jsx(Ut,{className:"text-xl",children:e("landing.migrationModal.title")})}),s.jsxs("div",{className:"text-muted-foreground leading-relaxed space-y-6 mt-4",children:[s.jsxs("div",{children:[s.jsx("p",{children:e("landing.migrationModal.intro1")}),s.jsx("p",{className:"mt-2",children:e("landing.migrationModal.intro2",{platform:de})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:e("landing.migrationModal.platformsTitle")}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Scaleo","Affilka","Affise","Alanbase"].map(ee=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500"}),s.jsx("span",{children:ee})]},ee))}),s.jsx("p",{className:"text-sm mt-2",children:e("landing.migrationSection.otherTracker")})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:e("landing.migrationSection.whatTransfers")}),s.jsxs("ul",{className:"space-y-1",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500"}),e("landing.fallbacks.offersSettings")]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500"}),e("landing.migrationSection.campaigns")]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500"}),e("landing.migrationSection.subidParams")]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(bt,{className:"w-4 h-4 text-emerald-500"}),e("landing.migrationSection.conversions")]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:e("landing.migrationSection.howProcess")}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[s.jsx("li",{children:e("landing.migrationSection.step1")}),s.jsx("li",{children:e("landing.migrationSection.step2")}),s.jsx("li",{children:e("landing.migrationSection.step3")}),s.jsx("li",{children:e("landing.migrationSection.step4")}),s.jsx("li",{children:e("landing.migrationSection.step5")})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"p-3 rounded bg-muted/50",children:[s.jsx("div",{className:"font-medium text-foreground",children:e("landing.migrationSection.importMethods")}),s.jsx("div",{children:"CSV, JSON, API"})]}),s.jsxs("div",{className:"p-3 rounded bg-muted/50",children:[s.jsx("div",{className:"font-medium text-foreground",children:e("landing.migrationSection.importTime")}),s.jsx("div",{children:e("landing.migrationSection.minutes")})]})]}),s.jsx("div",{className:"text-sm border-t border-border pt-4",children:s.jsx("p",{children:e("landing.migrationSection.securityNote")})}),s.jsx("div",{className:"flex justify-center pt-2",children:s.jsxs(U,{onClick:()=>{y(!1),t("/register/advertiser")},className:"bg-emerald-600 hover:bg-emerald-500",children:[e("landing.migrationSection.startMigration"),s.jsx(Jp,{className:"ml-2 w-4 h-4"})]})})]})]})}),s.jsx("section",{className:"py-16 border-t border-border bg-muted/30",children:s.jsxs("div",{className:"container px-4 mx-auto",children:[s.jsxs(st.div,{...G,className:"text-center mb-16",children:[s.jsx(ye,{variant:"secondary",className:"mb-4 bg-amber-500/10 text-amber-400 border-amber-500/20",children:e("landing.badges.testimonials")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.testimonials.title",{platform:de})}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:e("landing.testimonials.subtitle")})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{name:"MediaBuy Pro",role:e("landing.testimonials.items.t1.role"),avatar:"mediabuy",text:e("landing.testimonials.items.t1.text"),rating:5},{name:"TrafficLab",role:e("landing.testimonials.items.t2.role"),avatar:"trafficlab",text:e("landing.testimonials.items.t2.text"),rating:5},{name:"LeadGen Network",role:e("landing.testimonials.items.t3.role"),avatar:"leadgen",text:e("landing.testimonials.items.t3.text"),rating:5},{name:e("landing.testimonials.items.t4.name"),role:e("landing.testimonials.items.t4.role"),avatar:"anon2024",text:e("landing.testimonials.items.t4.text"),rating:4}].map((ee,Le)=>s.jsx(st.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:Le*.1,duration:.5},children:s.jsx(J,{className:"bg-card border-border h-full hover:border-emerald-500/30 transition-colors",children:s.jsxs(ne,{className:"p-6",children:[s.jsx(Cme,{className:"w-8 h-8 text-emerald-500/30 mb-4"}),s.jsxs("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:['"',ee.text,'"']}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${ee.avatar}`,alt:ee.name,className:"w-12 h-12 rounded-full bg-muted"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:ee.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:ee.role})]})]}),s.jsx("div",{className:"flex gap-1 mt-4",children:Array.from({length:ee.rating}).map((Ce,De)=>s.jsx(FO,{className:"w-4 h-4 fill-yellow-500 text-yellow-500"},De))})]})})},Le))})]})}),s.jsx("section",{id:"pricing",className:"py-16 border-t border-border bg-card/50",children:s.jsxs("div",{className:"container px-4 mx-auto max-w-5xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(ye,{variant:"secondary",className:"mb-4 bg-emerald-500/10 text-emerald-400 border-emerald-500/20",children:e("landing.badges.freeTrial")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.pricing.title")}),s.jsx("p",{className:"text-muted-foreground",children:e("landing.pricing.subtitle")})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-12",children:[s.jsx("span",{className:`text-sm font-medium ${n?"text-muted-foreground":"text-foreground"}`,children:e("landing.pricing.monthly")}),s.jsx(vr,{checked:n,onCheckedChange:r,"data-testid":"switch-billing-cycle"}),s.jsx("span",{className:`text-sm font-medium ${n?"text-foreground":"text-muted-foreground"}`,children:e("landing.pricing.yearly")}),n&&s.jsx(ye,{className:"bg-emerald-600 hover:bg-emerald-600 text-white",children:"-15%"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-0 border border-border rounded-xl mt-4",children:X.map((ee,Le)=>{const Ce=Le===1,De=n?(parseFloat(ee.yearlyPrice)/12).toFixed(0):parseFloat(ee.monthlyPrice).toFixed(0),We=[{label:ee.maxPartners?e("landing.pricingFeatures.maxPartners",{count:ee.maxPartners}):e("landing.pricingFeatures.unlimitedPartners"),included:!0},{label:e("landing.pricingFeatures.unlimitedOffers"),included:!0},{label:e("landing.pricingFeatures.postbacks"),included:ee.hasPostbacks},{label:e("landing.pricingFeatures.statistics"),included:!0},{label:e("landing.pricingFeatures.finance"),included:!0},{label:e("landing.pricingFeatures.antifraud"),included:ee.hasAntifraud},{label:e("landing.pricingFeatures.news"),included:ee.hasNews},{label:e("landing.pricingFeatures.team"),included:ee.hasTeam},{label:"Webhooks",included:ee.hasWebhooks},{label:e("landing.pricingFeatures.customDomain"),included:ee.hasCustomDomain},{label:"API",included:ee.hasApiAccess}];return s.jsxs("div",{className:`p-8 ${Ce?"bg-secondary relative z-10":"bg-background"} border-r border-border last:border-r-0 flex flex-col first:rounded-l-xl last:rounded-r-xl overflow-visible`,children:[Ce&&s.jsx("div",{className:"absolute top-0 inset-x-0 h-1 bg-emerald-500"}),Ce&&s.jsx(ye,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-emerald-600",children:e("landing.pricingFeatures.popular")}),s.jsx("h3",{className:"text-lg font-mono font-medium text-muted-foreground mb-2",children:ee.name}),s.jsxs("div",{className:"text-4xl font-bold text-foreground mb-2",children:["$",De,s.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:e("landing.pricing.perMonth")})]}),n&&s.jsxs("p",{className:"text-xs text-emerald-400 mb-6",children:["$",parseFloat(ee.yearlyPrice).toFixed(0),e("landing.pricing.perYear")]}),!n&&s.jsx("div",{className:"mb-6"}),s.jsx("ul",{className:"space-y-3 mb-8 flex-1",children:We.map((nt,Et)=>s.jsxs("li",{className:`flex items-center text-sm ${nt.included?"text-muted-foreground":"text-muted-foreground/40"}`,children:[nt.included?s.jsx(bt,{className:"w-4 h-4 text-emerald-500 mr-3 flex-shrink-0"}):s.jsx(Xn,{className:"w-4 h-4 text-muted-foreground/30 mr-3 flex-shrink-0"}),nt.label]},Et))}),s.jsx(U,{variant:Ce?"default":"outline",className:`w-full ${Ce?"bg-emerald-600 hover:bg-emerald-500":"border-border hover:bg-muted"}`,onClick:()=>t(`/register/advertiser?plan=${ee.id}&billing=${n?"yearly":"monthly"}`),"data-testid":`button-plan-${ee.name.toLowerCase()}`,children:e("landing.hero.cta")})]},ee.id)})})]})}),s.jsxs("section",{id:"faq",className:"py-20 border-t border-border bg-gradient-to-b from-background via-muted/10 to-background relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMtOS45NDEgMC0xOCA4LjA1OS0xOCAxOHM4LjA1OSAxOCAxOCAxOGM5Ljk0MSAwIDE4LTguMDU5IDE4LTE4cy04LjA1OS0xOC0xOC0xOHptMCAzMmMtNy43MzIgMC0xNC02LjI2OC0xNC0xNHM2LjI2OC0xNCAxNC0xNCAxNCA2LjI2OCAxNCAxNC02LjI2OCAxNC0xNCAxNHoiIGZpbGwtb3BhY2l0eT0iLjAyIiBmaWxsPSIjZmZmIi8+PC9nPjwvc3ZnPg==')] opacity-50"}),s.jsxs("div",{className:"container px-4 mx-auto max-w-6xl relative",children:[s.jsxs(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx(ye,{variant:"secondary",className:"mb-4 bg-emerald-500/10 text-emerald-400 border-emerald-500/20",children:e("landing.badges.faq")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.faq.title")})]}),(()=>{const ee=[{q:e("landing.faq.q1"),a:e("landing.faq.a1")},{q:e("landing.faq.q2"),a:e("landing.faq.a2")},{q:e("landing.faq.q3"),a:e("landing.faq.a3")},{q:e("landing.faq.q4"),a:e("landing.faq.a4")},{q:e("landing.faq.q5"),a:e("landing.faq.a5")},{q:e("landing.faq.q6"),a:e("landing.faq.a6")},{q:e("landing.faq.q7"),a:e("landing.faq.a7")},{q:e("landing.faq.q8"),a:e("landing.faq.a8")},{q:e("landing.faq.q9"),a:e("landing.faq.a9")},{q:e("landing.faq.q10"),a:e("landing.faq.a10")},{q:e("landing.faq.q11"),a:e("landing.faq.a11")},{q:e("landing.faq.q12"),a:e("landing.faq.a12")},{q:e("landing.faq.q13"),a:e("landing.faq.a13")},{q:e("landing.faq.q14"),a:e("landing.faq.a14")},{q:e("landing.faq.q15"),a:e("landing.faq.a15")},{q:e("landing.faq.q16"),a:e("landing.faq.a16")}],Le=Math.ceil(ee.length/2),Ce=ee.slice(0,Le),De=ee.slice(Le);return s.jsx("div",{className:"p-6 md:p-8 rounded-2xl bg-card/20 backdrop-blur-md border border-white/10 shadow-xl",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx(kP,{type:"single",collapsible:!0,className:"space-y-3",children:Ce.map((We,nt)=>s.jsx(st.div,{initial:{opacity:0,y:15},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:nt*.05,duration:.4},children:s.jsx(z0,{value:`item-left-${nt}`,className:"group border border-border/50 rounded-xl bg-card/40 backdrop-blur-sm hover:bg-card/70 hover:border-border transition-all duration-300 overflow-hidden data-[state=open]:shadow-[0_0_25px_rgba(16,185,129,0.15)] data-[state=open]:scale-[1.02] data-[state=open]:border-emerald-500/30",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1 bg-gradient-to-b from-emerald-500 to-cyan-500 opacity-0 group-data-[state=open]:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"flex-1 px-5",children:[s.jsxs(q0,{className:"text-left font-semibold hover:no-underline text-base py-5 [&>svg]:hidden gap-4",children:[s.jsx("span",{className:"flex-1",children:We.q}),s.jsxs("div",{className:"relative w-5 h-5 shrink-0",children:[s.jsx(fr,{className:"absolute inset-0 h-5 w-5 text-emerald-500 transition-all duration-300 group-data-[state=open]:opacity-0 group-data-[state=open]:rotate-90"}),s.jsx(LO,{className:"absolute inset-0 h-5 w-5 text-emerald-500 transition-all duration-300 opacity-0 group-data-[state=open]:opacity-100"})]})]}),s.jsx(U0,{className:"text-muted-foreground text-sm pb-5 leading-relaxed",children:We.a})]})]})})},nt))}),s.jsx(kP,{type:"single",collapsible:!0,className:"space-y-3",children:De.map((We,nt)=>s.jsx(st.div,{initial:{opacity:0,y:15},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:nt*.05+.1,duration:.4},children:s.jsx(z0,{value:`item-right-${nt}`,className:"group border border-border/50 rounded-xl bg-card/40 backdrop-blur-sm hover:bg-card/70 hover:border-border transition-all duration-300 overflow-hidden data-[state=open]:shadow-[0_0_25px_rgba(16,185,129,0.15)] data-[state=open]:scale-[1.02] data-[state=open]:border-emerald-500/30",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1 bg-gradient-to-b from-emerald-500 to-cyan-500 opacity-0 group-data-[state=open]:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"flex-1 px-5",children:[s.jsxs(q0,{className:"text-left font-semibold hover:no-underline text-base py-5 [&>svg]:hidden gap-4",children:[s.jsx("span",{className:"flex-1",children:We.q}),s.jsxs("div",{className:"relative w-5 h-5 shrink-0",children:[s.jsx(fr,{className:"absolute inset-0 h-5 w-5 text-emerald-500 transition-all duration-300 group-data-[state=open]:opacity-0 group-data-[state=open]:rotate-90"}),s.jsx(LO,{className:"absolute inset-0 h-5 w-5 text-emerald-500 transition-all duration-300 opacity-0 group-data-[state=open]:opacity-100"})]})]}),s.jsx(U0,{className:"text-muted-foreground text-sm pb-5 leading-relaxed",children:We.a})]})]})})},nt))})]})})})()]})]}),s.jsx("section",{id:"contact",className:"py-16 border-t border-border bg-muted/30",children:s.jsxs("div",{className:"container px-4 mx-auto max-w-4xl",children:[s.jsxs(st.div,{...G,className:"text-center mb-16",children:[s.jsx(ye,{variant:"secondary",className:"mb-4 bg-rose-500/10 text-rose-400 border-rose-500/20",children:e("landing.badges.contact")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.contact.title")}),s.jsx("p",{className:"text-muted-foreground",children:e("landing.contact.subtitle")})]}),s.jsx(st.div,{...G,children:s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"p-8",children:s.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:e("landing.contact.form.name")}),s.jsx(le,{placeholder:e("landing.contactForm.namePlaceholder"),value:c.name,onChange:ee=>u({...c,name:ee.target.value}),required:!0,"data-testid":"input-contact-name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:e("landing.contact.form.email")}),s.jsx(le,{type:"email",placeholder:"ivan@example.com",value:c.email,onChange:ee=>u({...c,email:ee.target.value}),required:!0,"data-testid":"input-contact-email"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:e("landing.contact.form.message")}),s.jsx(vi,{placeholder:e("landing.contactForm.messagePlaceholder"),rows:5,value:c.message,onChange:ee=>u({...c,message:ee.target.value}),required:!0,"data-testid":"input-contact-message"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[e("landing.contactForm.writeUs")," ",s.jsx("a",{href:`mailto:${he}`,className:"text-emerald-500 hover:underline",children:he})]}),s.jsx(U,{type:"submit",className:"bg-emerald-600 hover:bg-emerald-500 min-w-[200px]",disabled:f,"data-testid":"button-contact-submit",children:f?s.jsx(s.Fragment,{children:e("landing.contactForm.sending")}):s.jsxs(s.Fragment,{children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),e("landing.contact.form.submit")]})})]})]})})})})]})}),s.jsx("section",{className:"py-16 border-t border-border bg-background",children:s.jsx("div",{className:"container px-4 mx-auto",children:s.jsx("div",{className:"max-w-3xl mx-auto text-center",children:s.jsxs(st.div,{...G,children:[s.jsx(ye,{variant:"secondary",className:"mb-4 bg-indigo-500/10 text-indigo-400 border-indigo-500/20",children:e("landing.badges.aboutUs")}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:de}),s.jsx("p",{className:"text-lg text-muted-foreground mb-6 leading-relaxed",children:e("landing.aboutUs.description")}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("landing.description.liveSupport")}),s.jsxs("div",{className:"flex justify-center gap-6 mt-8",children:[s.jsxs("a",{href:`mailto:${he}`,className:"flex items-center gap-2 text-muted-foreground hover:text-emerald-500 transition-colors",children:[s.jsx(Ji,{className:"w-5 h-5"}),s.jsx("span",{children:he})]}),ge&&s.jsxs("a",{href:`https://t.me/${ge}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-muted-foreground hover:text-emerald-500 transition-colors",children:[s.jsx(y0,{className:"w-5 h-5"}),s.jsx("span",{children:"Telegram"})]})]})]})})})}),s.jsx("section",{className:"py-16 border-t border-border bg-background",children:s.jsxs("div",{className:"container px-4 mx-auto",children:[s.jsxs(st.div,{...G,className:"text-center mb-16",children:[s.jsx(ye,{variant:"secondary",className:"mb-4 bg-purple-500/10 text-purple-400 border-purple-500/20",children:e("landing.badges.roadmap")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.roadmap.title")}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:e("landing.roadmap.subtitle")})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:I?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsx("div",{className:"space-y-4",children:q.map((ee,Le)=>s.jsx(st.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:Le*.1,duration:.5},children:s.jsx(J,{className:"border-border hover:border-emerald-500/30 transition-colors",children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${ee.status==="completed"?"bg-green-500/20":ee.status==="in_progress"?"bg-yellow-500/20":"bg-muted"}`,children:ee.status==="completed"?s.jsx(Vs,{className:"w-5 h-5 text-green-500"}):ee.status==="in_progress"?s.jsx(Kc,{className:"w-5 h-5 text-yellow-500"}):s.jsx(zW,{className:"w-5 h-5 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"font-bold text-lg",children:ee.title}),s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-muted text-muted-foreground",children:ee.quarter}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${ee.status==="completed"?"bg-green-500/20 text-green-500":ee.status==="in_progress"?"bg-yellow-500/20 text-yellow-500":"bg-muted text-muted-foreground"}`,children:ee.status==="completed"?e("roadmapStatus.completed"):ee.status==="in_progress"?e("roadmapStatus.inProgress"):e("roadmapStatus.planned")})]}),s.jsx("p",{className:"text-muted-foreground",children:ee.description})]})]})})})},ee.id))})})]})}),s.jsx("section",{className:"py-16 border-t border-border bg-background",children:s.jsxs("div",{className:"container px-4 mx-auto",children:[s.jsxs(st.div,{...G,className:"text-center mb-16",children:[s.jsx(ye,{variant:"secondary",className:"mb-4 bg-sky-500/10 text-sky-400 border-sky-500/20",children:e("landing.badges.news")}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.news.title")})]}),z?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:L.map((ee,Le)=>{const Ce=H(ee.category);return s.jsx(st.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:Le*.1,duration:.5},children:s.jsx(J,{className:"bg-card border-border h-full hover:border-emerald-500/30 transition-colors group cursor-pointer",onClick:()=>g(ee),"data-testid":`card-news-${ee.id}`,children:s.jsxs(ne,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded bg-emerald-500/10 flex items-center justify-center",children:s.jsx(Ce,{className:"w-5 h-5 text-emerald-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-emerald-500 font-mono",children:ee.category||e("landing.fallbacks.news")}),s.jsx("div",{className:"text-xs text-muted-foreground",children:ee.createdAt?new Date(ee.createdAt).toLocaleDateString("ru-RU"):""})]})]}),s.jsx("h3",{className:"text-lg font-bold mb-2 group-hover:text-emerald-400 transition-colors",children:ee.title}),s.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:ee.shortDescription||ee.body?.substring(0,120)+"..."}),s.jsxs("div",{className:"mt-4 flex items-center text-sm text-emerald-500 font-medium",children:[e("landing.news.readMore")," ",s.jsx(Hc,{className:"w-4 h-4 ml-1"})]})]})})},ee.id)})})]})}),s.jsx(Wt,{open:!!p,onOpenChange:()=>g(null),children:s.jsx(zt,{className:"max-w-2xl",children:p&&s.jsxs(s.Fragment,{children:[s.jsxs(qt,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded bg-emerald-500/10 flex items-center justify-center",children:(()=>{const ee=H(p.category);return s.jsx(ee,{className:"w-5 h-5 text-emerald-500"})})()}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-emerald-500 font-mono",children:p.category||e("landing.fallbacks.news")}),s.jsx("div",{className:"text-xs text-muted-foreground",children:p.createdAt?new Date(p.createdAt).toLocaleDateString("ru-RU"):""})]})]}),s.jsx(Ut,{className:"text-xl",children:p.title})]}),s.jsx("div",{className:"text-muted-foreground leading-relaxed mt-4",children:p.body})]})})}),s.jsx("section",{className:"py-16 border-t border-border bg-gradient-to-b from-emerald-500/5 to-background",children:s.jsx("div",{className:"container px-4 mx-auto text-center",children:s.jsxs(st.div,{...G,children:[s.jsx(r_,{className:"w-12 h-12 mx-auto mb-6 text-emerald-500"}),s.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold font-display mb-3",children:e("landing.cta.title")}),s.jsx("p",{className:"text-muted-foreground mb-4 max-w-xl mx-auto",children:e("landing.cta.subtitle1")}),s.jsx("p",{className:"text-muted-foreground mb-8 max-w-xl mx-auto",children:e("landing.cta.subtitle2",{platform:de})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(U,{size:"lg",className:"h-14 px-8 bg-emerald-600 hover:bg-emerald-500",onClick:()=>t("/register/advertiser"),"data-testid":"button-cta-register",children:[e("landing.cta.register"),s.jsx(Jp,{className:"ml-2 w-5 h-5"})]}),s.jsx(U,{size:"lg",variant:"outline",className:"h-14 px-8",onClick:()=>t("/login"),"data-testid":"button-cta-login",children:e("landing.cta.login")})]})]})})}),s.jsx("footer",{className:"py-16 border-t border-border bg-background",children:s.jsxs("div",{className:"container px-4 mx-auto",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-12",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xl font-bold text-foreground mb-4",children:de}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e("landing.description.tagline")}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("a",{href:`mailto:${he}`,className:"text-muted-foreground hover:text-foreground transition-colors",children:s.jsx(Ji,{className:"w-5 h-5"})}),ge&&s.jsx("a",{href:`https://t.me/${ge}`,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground transition-colors",children:s.jsx(y0,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground mb-4",children:e("landing.footerNav.navigation")}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>_e("features"),className:"hover:text-foreground transition-colors",children:e("landing.footerNav.advantages")})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>_e("pricing"),className:"hover:text-foreground transition-colors",children:e("landing.footerNav.pricing")})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>_e("faq"),className:"hover:text-foreground transition-colors",children:"FAQ"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>_e("contact"),className:"hover:text-foreground transition-colors",children:e("landing.footerNav.contacts")})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground mb-4",children:e("landing.footerNav.features")}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsx("li",{children:s.jsx("span",{className:"hover:text-foreground transition-colors cursor-default",children:e("landing.footerNav.clickTracking")})}),s.jsx("li",{children:s.jsx("span",{className:"hover:text-foreground transition-colors cursor-default",children:e("landing.footerNav.postbackIntegration")})}),s.jsx("li",{children:s.jsx("span",{className:"hover:text-foreground transition-colors cursor-default",children:e("landing.footerNav.antifraudSystem")})}),s.jsx("li",{children:s.jsx("span",{className:"hover:text-foreground transition-colors cursor-default",children:e("landing.footerNav.detailedStats")})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground mb-4",children:e("landing.footerNav.account")}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>t("/register/advertiser"),className:"hover:text-foreground transition-colors",children:e("landing.footerNav.registration")})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>t("/login"),className:"hover:text-foreground transition-colors",children:e("landing.footerNav.login")})}),s.jsx("li",{children:s.jsx("a",{href:`mailto:${he}`,className:"hover:text-foreground transition-colors",children:e("landing.footerNav.support")})}),ge&&s.jsx("li",{children:s.jsx("a",{href:`https://t.me/${ge}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-foreground transition-colors",children:"Telegram"})})]})]})]}),s.jsx("div",{className:"pt-8 border-t border-border text-center text-xs text-muted-foreground font-mono",children:s.jsx("p",{children:Ae})})]})})]})}var CCe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kCe=CCe.reduce((e,t)=>{const n=k_(`Primitive.${t}`),r=j.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),TCe="Label",GJ=j.forwardRef((e,t)=>s.jsx(kCe.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));GJ.displayName=TCe;var YJ=GJ;const ACe=im("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),te=j.forwardRef(({className:e,...t},n)=>s.jsx(YJ,{ref:n,className:Re(ACe(),e),...t}));te.displayName=YJ.displayName;function ECe({open:e,onOpenChange:t}){const{toast:n}=Dt(),[r,a]=j.useState(""),[i,o]=j.useState(""),l=ve({mutationFn:async u=>Be("POST","/api/feature-suggestion",u),onSuccess:()=>{n({title:"  !",description:"   ."}),a(""),o(""),t(!1)},onError:u=>{n({title:"",description:u.message||"  ",variant:"destructive"})}}),c=u=>{if(u.preventDefault(),!r.trim()||!i.trim()){n({title:"",description:"  ",variant:"destructive"});return}l.mutate({title:r,description:i})};return s.jsx(Wt,{open:e,onOpenChange:t,children:s.jsxs(zt,{className:"sm:max-w-md",children:[s.jsxs(qt,{children:[s.jsxs(Ut,{className:"flex items-center gap-2",children:[s.jsx(HW,{className:"h-5 w-5 text-yellow-500"})," "]}),s.jsx(ao,{children:",        "})]}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"feature-title",children:""}),s.jsx(le,{id:"feature-title","data-testid":"input-feature-title",placeholder:"  ",value:r,onChange:u=>a(u.target.value),disabled:l.isPending})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"feature-description",children:""}),s.jsx(vi,{id:"feature-description","data-testid":"input-feature-description",placeholder:" ,         ",rows:4,value:i,onChange:u=>o(u.target.value),disabled:l.isPending})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(U,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:l.isPending,children:""}),s.jsx(U,{type:"submit",disabled:l.isPending,"data-testid":"button-submit-feature",children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"..."]}):""})]})]})]})})}const OCe=MR,PCe=_R,XJ=j.forwardRef(({className:e,...t},n)=>s.jsx(uy,{className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));XJ.displayName=uy.displayName;const MCe=im("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),QJ=j.forwardRef(({side:e="right",className:t,children:n,...r},a)=>s.jsxs(PCe,{children:[s.jsx(XJ,{}),s.jsxs(fy,{ref:a,className:Re(MCe({side:e}),t),...r,children:[s.jsxs(gN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Xn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));QJ.displayName=fy.displayName;const _Ce=j.forwardRef(({className:e,...t},n)=>s.jsx(hy,{ref:n,className:Re("text-lg font-semibold text-foreground",e),...t}));_Ce.displayName=hy.displayName;const RCe=j.forwardRef(({className:e,...t},n)=>s.jsx(my,{ref:n,className:Re("text-sm text-muted-foreground",e),...t}));RCe.displayName=my.displayName;const JJ=j.createContext(void 0),OB="primetrack_selected_advertiser";function DCe({children:e,role:t}){const[n,r]=j.useState(()=>{try{return localStorage.getItem(OB)||""}catch{return""}}),a=c=>{r(c);try{localStorage.setItem(OB,c)}catch{}},{data:i=[],isLoading:o}=Ne({queryKey:["/api/publisher/advertisers-extended"],queryFn:async()=>{const c=await fetch("/api/publisher/advertisers-extended",{credentials:"include"});return c.ok?c.json():[]},enabled:t==="publisher"});j.useEffect(()=>{if(i.length>0){const c=n,u=i.some(f=>f.id===c);(!c||!u)&&a(i[0].id)}},[i]);const l=i.find(c=>c.id===n)||null;return t!=="publisher"?s.jsx(s.Fragment,{children:e}):s.jsx(JJ.Provider,{value:{advertisers:i,selectedAdvertiserId:n,selectedAdvertiser:l,setSelectedAdvertiserId:a,isLoading:o},children:e})}function Vl(){const e=j.useContext(JJ);return e||{advertisers:[],selectedAdvertiserId:"",selectedAdvertiser:null,setSelectedAdvertiserId:()=>{},isLoading:!1}}function TP(e,[t,n]){return Math.min(n,Math.max(t,e))}function ps(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function ICe(e){const t=LCe(e),n=j.forwardRef((r,a)=>{const{children:i,...o}=r,l=j.Children.toArray(i),c=l.find(FCe);if(c){const u=c.props.children,f=l.map(m=>m===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function LCe(e){const t=j.forwardRef((n,r)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=zCe(a),l=BCe(i,a.props);return a.type!==j.Fragment&&(l.ref=r?io(r,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $Ce=Symbol("radix.slottable");function FCe(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$Ce}function BCe(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function zCe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var qCe=pa[" useInsertionEffect ".trim().toString()]||Zt;function PB({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=UCe({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=VCe(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function UCe({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return qCe(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function VCe(e){return typeof e=="function"}var HCe=[" ","Enter","ArrowUp","ArrowDown"],KCe=[" ","Enter"],mu="Select",[yN,vN,WCe]=tN(mu),[gm]=ss(mu,[WCe,Qc]),bN=Qc(),[GCe,td]=gm(mu),[YCe,XCe]=gm(mu),ZJ=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:m,disabled:p,required:g,form:v}=e,y=bN(t),[w,N]=j.useState(null),[A,T]=j.useState(null),[C,S]=j.useState(!1),E=hm(u),[O,_]=PB({prop:r,defaultProp:a??!1,onChange:i,caller:mu}),[M,$]=PB({prop:o,defaultProp:l,onChange:c,caller:mu}),z=j.useRef(null),V=w?v||!!w.closest("form"):!0,[I,F]=j.useState(new Set),K=Array.from(I).map(R=>R.props.value).join(";");return s.jsx(Qg,{...y,children:s.jsxs(GCe,{required:g,scope:t,trigger:w,onTriggerChange:N,valueNode:A,onValueNodeChange:T,valueNodeHasChildren:C,onValueNodeHasChildrenChange:S,contentId:Ts(),value:M,onValueChange:$,open:O,onOpenChange:_,dir:E,triggerPointerDownPosRef:z,disabled:p,children:[s.jsx(yN.Provider,{scope:t,children:s.jsx(YCe,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(R=>{F(B=>new Set(B).add(R))},[]),onNativeOptionRemove:j.useCallback(R=>{F(B=>{const L=new Set(B);return L.delete(R),L})},[]),children:n})}),V?s.jsxs(NZ,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:m,value:M,onChange:R=>$(R.target.value),disabled:p,form:v,children:[M===void 0?s.jsx("option",{value:""}):null,Array.from(I)]},K):null]})})};ZJ.displayName=mu;var eZ="SelectTrigger",tZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=bN(n),o=td(eZ,n),l=o.disabled||r,c=it(t,o.onTriggerChange),u=vN(n),f=j.useRef("touch"),[m,p,g]=CZ(y=>{const w=u().filter(T=>!T.disabled),N=w.find(T=>T.value===o.value),A=kZ(w,y,N);A!==void 0&&o.onValueChange(A.value)}),v=y=>{l||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return s.jsx(Jg,{asChild:!0,...i,children:s.jsx(Je.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":SZ(o.value)?"":void 0,...a,ref:c,onClick:ps(a.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&v(y)}),onPointerDown:ps(a.onPointerDown,y=>{f.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:ps(a.onKeyDown,y=>{const w=m.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(w&&y.key===" ")&&HCe.includes(y.key)&&(v(),y.preventDefault())})})})});tZ.displayName=eZ;var nZ="SelectValue",rZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o="",...l}=e,c=td(nZ,n),{onValueNodeHasChildrenChange:u}=c,f=i!==void 0,m=it(t,c.onValueNodeChange);return Zt(()=>{u(f)},[u,f]),s.jsx(Je.span,{...l,ref:m,style:{pointerEvents:"none"},children:SZ(c.value)?s.jsx(s.Fragment,{children:o}):i})});rZ.displayName=nZ;var QCe="SelectIcon",sZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(Je.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});sZ.displayName=QCe;var JCe="SelectPortal",aZ=e=>s.jsx(fm,{asChild:!0,...e});aZ.displayName=JCe;var pu="SelectContent",iZ=j.forwardRef((e,t)=>{const n=td(pu,e.__scopeSelect),[r,a]=j.useState();if(Zt(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?Ul.createPortal(s.jsx(oZ,{scope:e.__scopeSelect,children:s.jsx(yN.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(lZ,{...e,ref:t})});iZ.displayName=pu;var Ii=10,[oZ,nd]=gm(pu),ZCe="SelectContentImpl",eke=ICe("SelectContent.RemoveScroll"),lZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:w,...N}=e,A=td(pu,n),[T,C]=j.useState(null),[S,E]=j.useState(null),O=it(t,he=>C(he)),[_,M]=j.useState(null),[$,z]=j.useState(null),V=vN(n),[I,F]=j.useState(!1),K=j.useRef(!1);j.useEffect(()=>{if(T)return sN(T)},[T]),nN();const R=j.useCallback(he=>{const[Fe,...ge]=V().map(ee=>ee.ref.current),[Ae]=ge.slice(-1),_e=document.activeElement;for(const ee of he)if(ee===_e||(ee?.scrollIntoView({block:"nearest"}),ee===Fe&&S&&(S.scrollTop=0),ee===Ae&&S&&(S.scrollTop=S.scrollHeight),ee?.focus(),document.activeElement!==_e))return},[V,S]),B=j.useCallback(()=>R([_,T]),[R,_,T]);j.useEffect(()=>{I&&B()},[I,B]);const{onOpenChange:L,triggerPointerDownPosRef:q}=A;j.useEffect(()=>{if(T){let he={x:0,y:0};const Fe=Ae=>{he={x:Math.abs(Math.round(Ae.pageX)-(q.current?.x??0)),y:Math.abs(Math.round(Ae.pageY)-(q.current?.y??0))}},ge=Ae=>{he.x<=10&&he.y<=10?Ae.preventDefault():T.contains(Ae.target)||L(!1),document.removeEventListener("pointermove",Fe),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",ge,{capture:!0})}}},[T,L,q]),j.useEffect(()=>{const he=()=>L(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[L]);const[se,H]=CZ(he=>{const Fe=V().filter(_e=>!_e.disabled),ge=Fe.find(_e=>_e.ref.current===document.activeElement),Ae=kZ(Fe,he,ge);Ae&&setTimeout(()=>Ae.ref.current.focus())}),Y=j.useCallback((he,Fe,ge)=>{const Ae=!K.current&&!ge;(A.value!==void 0&&A.value===Fe||Ae)&&(M(he),Ae&&(K.current=!0))},[A.value]),G=j.useCallback(()=>T?.focus(),[T]),X=j.useCallback((he,Fe,ge)=>{const Ae=!K.current&&!ge;(A.value!==void 0&&A.value===Fe||Ae)&&z(he)},[A.value]),ae=r==="popper"?AP:cZ,de=ae===AP?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:w}:{};return s.jsx(oZ,{scope:n,content:T,viewport:S,onViewportChange:E,itemRefCallback:Y,selectedItem:_,onItemLeave:G,itemTextRefCallback:X,focusSelectedItem:B,selectedItemText:$,position:r,isPositioned:I,searchRef:se,children:s.jsx(ry,{as:eke,allowPinchZoom:!0,children:s.jsx(ty,{asChild:!0,trapped:A.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:ps(a,he=>{A.trigger?.focus({preventScroll:!0}),he.preventDefault()}),children:s.jsx(dm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:s.jsx(ae,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:he=>he.preventDefault(),...N,...de,onPlaced:()=>F(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:ps(N.onKeyDown,he=>{const Fe=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!Fe&&he.key.length===1&&H(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let Ae=V().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(he.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const _e=he.target,ee=Ae.indexOf(_e);Ae=Ae.slice(ee+1)}setTimeout(()=>R(Ae)),he.preventDefault()}})})})})})})});lZ.displayName=ZCe;var tke="SelectItemAlignedPosition",cZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=td(pu,n),o=nd(pu,n),[l,c]=j.useState(null),[u,f]=j.useState(null),m=it(t,O=>f(O)),p=vN(n),g=j.useRef(!1),v=j.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:N,focusSelectedItem:A}=o,T=j.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&y&&w&&N){const O=i.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),$=N.getBoundingClientRect();if(i.dir!=="rtl"){const _e=$.left-_.left,ee=M.left-_e,Le=O.left-ee,Ce=O.width+Le,De=Math.max(Ce,_.width),We=window.innerWidth-Ii,nt=TP(ee,[Ii,Math.max(Ii,We-De)]);l.style.minWidth=Ce+"px",l.style.left=nt+"px"}else{const _e=_.right-$.right,ee=window.innerWidth-M.right-_e,Le=window.innerWidth-O.right-ee,Ce=O.width+Le,De=Math.max(Ce,_.width),We=window.innerWidth-Ii,nt=TP(ee,[Ii,Math.max(Ii,We-De)]);l.style.minWidth=Ce+"px",l.style.right=nt+"px"}const z=p(),V=window.innerHeight-Ii*2,I=y.scrollHeight,F=window.getComputedStyle(u),K=parseInt(F.borderTopWidth,10),R=parseInt(F.paddingTop,10),B=parseInt(F.borderBottomWidth,10),L=parseInt(F.paddingBottom,10),q=K+R+I+L+B,se=Math.min(w.offsetHeight*5,q),H=window.getComputedStyle(y),Y=parseInt(H.paddingTop,10),G=parseInt(H.paddingBottom,10),X=O.top+O.height/2-Ii,ae=V-X,de=w.offsetHeight/2,he=w.offsetTop+de,Fe=K+R+he,ge=q-Fe;if(Fe<=X){const _e=z.length>0&&w===z[z.length-1].ref.current;l.style.bottom="0px";const ee=u.clientHeight-y.offsetTop-y.offsetHeight,Le=Math.max(ae,de+(_e?G:0)+ee+B),Ce=Fe+Le;l.style.height=Ce+"px"}else{const _e=z.length>0&&w===z[0].ref.current;l.style.top="0px";const Le=Math.max(X,K+y.offsetTop+(_e?Y:0)+de)+ge;l.style.height=Le+"px",y.scrollTop=Fe-X+y.offsetTop}l.style.margin=`${Ii}px 0`,l.style.minHeight=se+"px",l.style.maxHeight=V+"px",r?.(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,l,u,y,w,N,i.dir,r]);Zt(()=>T(),[T]);const[C,S]=j.useState();Zt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=j.useCallback(O=>{O&&v.current===!0&&(T(),A?.(),v.current=!1)},[T,A]);return s.jsx(rke,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:s.jsx(Je.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});cZ.displayName=tke;var nke="SelectPopperPosition",AP=j.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Ii,...i}=e,o=bN(n);return s.jsx(Xw,{...o,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});AP.displayName=nke;var[rke,RR]=gm(pu,{}),EP="SelectViewport",dZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=nd(EP,n),o=RR(EP,n),l=it(t,i.onViewportChange),c=j.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(yN.Slot,{scope:n,children:s.jsx(Je.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ps(a.onScroll,u=>{const f=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=o;if(p?.current&&m){const g=Math.abs(c.current-f.scrollTop);if(g>0){const v=window.innerHeight-Ii*2,y=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),N=Math.max(y,w);if(N<v){const A=N+g,T=Math.min(v,A),C=A-T;m.style.height=T+"px",m.style.bottom==="0px"&&(f.scrollTop=C>0?C:0,m.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});dZ.displayName=EP;var uZ="SelectGroup",[ske,ake]=gm(uZ),ike=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Ts();return s.jsx(ske,{scope:n,id:a,children:s.jsx(Je.div,{role:"group","aria-labelledby":a,...r,ref:t})})});ike.displayName=uZ;var fZ="SelectLabel",hZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=ake(fZ,n);return s.jsx(Je.div,{id:a.id,...r,ref:t})});hZ.displayName=fZ;var H0="SelectItem",[oke,mZ]=gm(H0),pZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=e,l=td(H0,n),c=nd(H0,n),u=l.value===r,[f,m]=j.useState(i??""),[p,g]=j.useState(!1),v=it(t,A=>c.itemRefCallback?.(A,r,a)),y=Ts(),w=j.useRef("touch"),N=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(oke,{scope:n,value:r,disabled:a,textId:y,isSelected:u,onItemTextChange:j.useCallback(A=>{m(T=>T||(A?.textContent??"").trim())},[]),children:s.jsx(yN.ItemSlot,{scope:n,value:r,disabled:a,textValue:f,children:s.jsx(Je.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:ps(o.onFocus,()=>g(!0)),onBlur:ps(o.onBlur,()=>g(!1)),onClick:ps(o.onClick,()=>{w.current!=="mouse"&&N()}),onPointerUp:ps(o.onPointerUp,()=>{w.current==="mouse"&&N()}),onPointerDown:ps(o.onPointerDown,A=>{w.current=A.pointerType}),onPointerMove:ps(o.onPointerMove,A=>{w.current=A.pointerType,a?c.onItemLeave?.():w.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ps(o.onPointerLeave,A=>{A.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:ps(o.onKeyDown,A=>{c.searchRef?.current!==""&&A.key===" "||(KCe.includes(A.key)&&N(),A.key===" "&&A.preventDefault())})})})})});pZ.displayName=H0;var nx="SelectItemText",xZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,o=td(nx,n),l=nd(nx,n),c=mZ(nx,n),u=XCe(nx,n),[f,m]=j.useState(null),p=it(t,N=>m(N),c.onItemTextChange,N=>l.itemTextRefCallback?.(N,c.value,c.disabled)),g=f?.textContent,v=j.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=u;return Zt(()=>(y(v),()=>w(v)),[y,w,v]),s.jsxs(s.Fragment,{children:[s.jsx(Je.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ul.createPortal(i.children,o.valueNode):null]})});xZ.displayName=nx;var gZ="SelectItemIndicator",yZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return mZ(gZ,n).isSelected?s.jsx(Je.span,{"aria-hidden":!0,...r,ref:t}):null});yZ.displayName=gZ;var OP="SelectScrollUpButton",vZ=j.forwardRef((e,t)=>{const n=nd(OP,e.__scopeSelect),r=RR(OP,e.__scopeSelect),[a,i]=j.useState(!1),o=it(t,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(jZ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});vZ.displayName=OP;var PP="SelectScrollDownButton",bZ=j.forwardRef((e,t)=>{const n=nd(PP,e.__scopeSelect),r=RR(PP,e.__scopeSelect),[a,i]=j.useState(!1),o=it(t,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;i(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(jZ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});bZ.displayName=PP;var jZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=nd("SelectScrollButton",n),o=j.useRef(null),l=vN(n),c=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),Zt(()=>{l().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(Je.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ps(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ps(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ps(a.onPointerLeave,()=>{c()})})}),lke="SelectSeparator",wZ=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Je.div,{"aria-hidden":!0,...r,ref:t})});wZ.displayName=lke;var MP="SelectArrow",cke=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=bN(n),i=td(MP,n),o=nd(MP,n);return i.open&&o.position==="popper"?s.jsx(Qw,{...a,...r,ref:t}):null});cke.displayName=MP;var dke="SelectBubbleInput",NZ=j.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const a=j.useRef(null),i=it(r,a),o=L_(t);return j.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const m=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(m)}},[o,t]),s.jsx(Je.select,{...n,style:{...zG,...n.style},ref:i,defaultValue:t})});NZ.displayName=dke;function SZ(e){return e===""||e===void 0}function CZ(e){const t=Pn(e),n=j.useRef(""),r=j.useRef(0),a=j.useCallback(o=>{const l=n.current+o;t(l),(function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),i=j.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function kZ(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=uke(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function uke(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var fke=ZJ,TZ=tZ,hke=rZ,mke=sZ,pke=aZ,AZ=iZ,xke=dZ,EZ=hZ,OZ=pZ,gke=xZ,yke=yZ,PZ=vZ,MZ=bZ,_Z=wZ;const ht=fke,mt=hke,dt=j.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(TZ,{ref:r,className:Re("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(mke,{asChild:!0,children:s.jsx(fa,{className:"h-4 w-4 opacity-50"})})]}));dt.displayName=TZ.displayName;const RZ=j.forwardRef(({className:e,...t},n)=>s.jsx(PZ,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Gfe,{className:"h-4 w-4"})}));RZ.displayName=PZ.displayName;const DZ=j.forwardRef(({className:e,...t},n)=>s.jsx(MZ,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(fa,{className:"h-4 w-4"})}));DZ.displayName=MZ.displayName;const ut=j.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(pke,{children:s.jsxs(AZ,{ref:a,className:Re("relative z-[100] max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border border-border bg-card text-foreground shadow-xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(RZ,{}),s.jsx(xke,{className:Re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(DZ,{})]})}));ut.displayName=AZ.displayName;const vke=j.forwardRef(({className:e,...t},n)=>s.jsx(EZ,{ref:n,className:Re("px-2 py-1.5 text-sm font-semibold",e),...t}));vke.displayName=EZ.displayName;const ke=j.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(OZ,{ref:r,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-muted focus:text-foreground hover:bg-muted data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(yke,{children:s.jsx(bt,{className:"h-4 w-4"})})}),s.jsx(gke,{children:t})]}));ke.displayName=OZ.displayName;const bke=j.forwardRef(({className:e,...t},n)=>s.jsx(_Z,{ref:n,className:Re("-mx-1 my-1 h-px bg-muted",e),...t}));bke.displayName=_Z.displayName;function K0({options:e,value:t,onValueChange:n,placeholder:r="...",searchPlaceholder:a="...",emptyText:i=" ",className:o,"data-testid":l}){const[c,u]=j.useState(!1),[f,m]=j.useState(""),p=j.useRef(null),g=j.useRef(null),v=j.useMemo(()=>{if(!f.trim())return e;const N=f.toLowerCase();return e.filter(A=>A.label.toLowerCase().includes(N))},[e,f]),y=e.find(N=>N.value===t);j.useEffect(()=>{c&&(m(""),setTimeout(()=>g.current?.focus(),10))},[c]),j.useEffect(()=>{const N=A=>{p.current&&!p.current.contains(A.target)&&u(!1)};return c&&document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[c]);const w=N=>{n(N),u(!1)};return s.jsxs("div",{ref:p,className:Re("relative",o),children:[s.jsxs("button",{type:"button",onClick:()=>u(!c),className:Re("flex h-9 w-full items-center justify-between rounded-md border border-border bg-input px-3 py-2 text-sm text-foreground shadow-sm transition-colors hover:bg-input/80 focus:outline-none focus:ring-1 focus:ring-ring",!y&&"text-muted-foreground"),"data-testid":l,children:[s.jsx("span",{className:"truncate flex items-center gap-1",children:y?s.jsxs(s.Fragment,{children:[y.icon&&s.jsx("span",{children:y.icon}),y.label]}):r}),s.jsx(fa,{className:Re("h-4 w-4 opacity-50 transition-transform",c&&"rotate-180")})]}),c&&s.jsxs("div",{className:"absolute z-50 mt-1 w-full rounded-md border border-border bg-card shadow-lg",children:[s.jsxs("div",{className:"flex items-center border-b border-border px-3 py-2",children:[s.jsx(Zi,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx("input",{ref:g,type:"text",placeholder:a,value:f,onChange:N=>m(N.target.value),className:"flex-1 bg-transparent text-sm text-foreground placeholder:text-muted-foreground outline-none","data-testid":l?`${l}-search`:"input-search"})]}),s.jsx("div",{className:"max-h-[250px] overflow-y-auto py-1",children:v.length===0?s.jsx("div",{className:"py-4 text-center text-sm text-muted-foreground",children:i}):v.map(N=>s.jsxs("div",{onClick:()=>w(N.value),className:Re("flex items-center gap-2 px-3 py-2 text-sm cursor-pointer hover:bg-accent",t===N.value&&"bg-accent"),children:[N.icon&&s.jsx("span",{children:N.icon}),s.jsx("span",{className:"flex-1",children:N.label}),t===N.value&&s.jsx(bt,{className:"h-4 w-4 text-primary"})]},N.value))})]})]})}function jke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}var wke=Symbol("radix.slottable");function Nke(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=wke,t}var IZ="AlertDialog",[Ske]=ss(IZ,[OJ]),Hl=OJ(),LZ=e=>{const{__scopeAlertDialog:t,...n}=e,r=Hl(t);return s.jsx(MR,{...r,...n,modal:!0})};LZ.displayName=IZ;var Cke="AlertDialogTrigger",$Z=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Hl(n);return s.jsx(KJ,{...a,...r,ref:t})});$Z.displayName=Cke;var kke="AlertDialogPortal",FZ=e=>{const{__scopeAlertDialog:t,...n}=e,r=Hl(t);return s.jsx(_R,{...r,...n})};FZ.displayName=kke;var Tke="AlertDialogOverlay",BZ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Hl(n);return s.jsx(uy,{...a,...r,ref:t})});BZ.displayName=Tke;var ah="AlertDialogContent",[Ake,Eke]=Ske(ah),Oke=Nke("AlertDialogContent"),zZ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,i=Hl(n),o=j.useRef(null),l=it(t,o),c=j.useRef(null);return s.jsx(mCe,{contentName:ah,titleName:qZ,docsSlug:"alert-dialog",children:s.jsx(Ake,{scope:n,cancelRef:c,children:s.jsxs(fy,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:jke(a.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(Oke,{children:r}),s.jsx(Mke,{contentRef:o})]})})})});zZ.displayName=ah;var qZ="AlertDialogTitle",UZ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Hl(n);return s.jsx(hy,{...a,...r,ref:t})});UZ.displayName=qZ;var VZ="AlertDialogDescription",HZ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Hl(n);return s.jsx(my,{...a,...r,ref:t})});HZ.displayName=VZ;var Pke="AlertDialogAction",KZ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Hl(n);return s.jsx(gN,{...a,...r,ref:t})});KZ.displayName=Pke;var WZ="AlertDialogCancel",GZ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=Eke(WZ,n),i=Hl(n),o=it(t,a);return s.jsx(gN,{...i,...r,ref:o})});GZ.displayName=WZ;var Mke=({contentRef:e})=>{const t=`\`${ah}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ah}\` by passing a \`${VZ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ah}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},_ke=LZ,Rke=$Z,Dke=FZ,YZ=BZ,XZ=zZ,QZ=KZ,JZ=GZ,ZZ=UZ,eee=HZ;const DR=_ke,Ike=Rke,Lke=Dke,tee=j.forwardRef(({className:e,...t},n)=>s.jsx(YZ,{className:Re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));tee.displayName=YZ.displayName;const jN=j.forwardRef(({className:e,...t},n)=>s.jsxs(Lke,{children:[s.jsx(tee,{}),s.jsx(XZ,{ref:n,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));jN.displayName=XZ.displayName;const wN=({className:e,...t})=>s.jsx("div",{className:Re("flex flex-col space-y-2 text-center sm:text-left",e),...t});wN.displayName="AlertDialogHeader";const NN=({className:e,...t})=>s.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});NN.displayName="AlertDialogFooter";const SN=j.forwardRef(({className:e,...t},n)=>s.jsx(ZZ,{ref:n,className:Re("text-lg font-semibold",e),...t}));SN.displayName=ZZ.displayName;const CN=j.forwardRef(({className:e,...t},n)=>s.jsx(eee,{ref:n,className:Re("text-sm text-muted-foreground",e),...t}));CN.displayName=eee.displayName;const kN=j.forwardRef(({className:e,...t},n)=>s.jsx(QZ,{ref:n,className:Re(T_(),e),...t}));kN.displayName=QZ.displayName;const TN=j.forwardRef(({className:e,...t},n)=>s.jsx(JZ,{ref:n,className:Re(T_({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));TN.displayName=JZ.displayName;function $ke(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Array(12).fill(0);let _P=1;class Fke{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...a}=t,i=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:_P++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:r}),{...c,...t,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...a,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=r!==void 0,o;const l=a.then(async u=>{if(o=["resolve",u],Z.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(zke(u)&&!u.ok){i=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,v=typeof m=="object"&&!Z.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:p,...v})}else if(u instanceof Error){i=!1;const m=typeof n.error=="function"?await n.error(u):n.error,p=typeof n.description=="function"?await n.description(u):n.description,v=typeof m=="object"&&!Z.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:p,...v})}else if(n.success!==void 0){i=!1;const m=typeof n.success=="function"?await n.success(u):n.success,p=typeof n.description=="function"?await n.description(u):n.description,v=typeof m=="object"&&!Z.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:p,...v})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;const f=typeof n.error=="function"?await n.error(u):n.error,m=typeof n.description=="function"?await n.description(u):n.description,g=typeof f=="object"&&!Z.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:m,...g})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,f)=>l.then(()=>o[0]==="reject"?f(o[1]):u(o[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{const r=n?.id||_P++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ci=new Fke,Bke=(e,t)=>{const n=t?.id||_P++;return ci.addToast({title:e,...t,id:n}),n},zke=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",qke=Bke,Uke=()=>ci.toasts,Vke=()=>ci.getActiveToasts(),Rt=Object.assign(qke,{success:ci.success,info:ci.info,warning:ci.warning,error:ci.error,custom:ci.custom,message:ci.message,promise:ci.promise,dismiss:ci.dismiss,loading:ci.loading},{getHistory:Uke,getToasts:Vke});$ke("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const a0=[{code:"AD",name:"Andorra"},{code:"AE",name:"United Arab Emirates"},{code:"AF",name:"Afghanistan"},{code:"AG",name:"Antigua and Barbuda"},{code:"AI",name:"Anguilla"},{code:"AL",name:"Albania"},{code:"AM",name:"Armenia"},{code:"AO",name:"Angola"},{code:"AQ",name:"Antarctica"},{code:"AR",name:"Argentina"},{code:"AS",name:"American Samoa"},{code:"AT",name:"Austria"},{code:"AU",name:"Australia"},{code:"AW",name:"Aruba"},{code:"AX",name:"land Islands"},{code:"AZ",name:"Azerbaijan"},{code:"BA",name:"Bosnia and Herzegovina"},{code:"BB",name:"Barbados"},{code:"BD",name:"Bangladesh"},{code:"BE",name:"Belgium"},{code:"BF",name:"Burkina Faso"},{code:"BG",name:"Bulgaria"},{code:"BH",name:"Bahrain"},{code:"BI",name:"Burundi"},{code:"BJ",name:"Benin"},{code:"BL",name:"Saint Barthlemy"},{code:"BM",name:"Bermuda"},{code:"BN",name:"Brunei"},{code:"BO",name:"Bolivia"},{code:"BQ",name:"Caribbean Netherlands"},{code:"BR",name:"Brazil"},{code:"BS",name:"Bahamas"},{code:"BT",name:"Bhutan"},{code:"BV",name:"Bouvet Island"},{code:"BW",name:"Botswana"},{code:"BY",name:"Belarus"},{code:"BZ",name:"Belize"},{code:"CA",name:"Canada"},{code:"CC",name:"Cocos Islands"},{code:"CD",name:"Congo - Kinshasa"},{code:"CF",name:"Central African Republic"},{code:"CG",name:"Congo - Brazzaville"},{code:"CH",name:"Switzerland"},{code:"CI",name:"Cte d'Ivoire"},{code:"CK",name:"Cook Islands"},{code:"CL",name:"Chile"},{code:"CM",name:"Cameroon"},{code:"CN",name:"China"},{code:"CO",name:"Colombia"},{code:"CR",name:"Costa Rica"},{code:"CU",name:"Cuba"},{code:"CV",name:"Cape Verde"},{code:"CW",name:"Curaao"},{code:"CX",name:"Christmas Island"},{code:"CY",name:"Cyprus"},{code:"CZ",name:"Czech Republic"},{code:"DE",name:"Germany"},{code:"DJ",name:"Djibouti"},{code:"DK",name:"Denmark"},{code:"DM",name:"Dominica"},{code:"DO",name:"Dominican Republic"},{code:"DZ",name:"Algeria"},{code:"EC",name:"Ecuador"},{code:"EE",name:"Estonia"},{code:"EG",name:"Egypt"},{code:"EH",name:"Western Sahara"},{code:"ER",name:"Eritrea"},{code:"ES",name:"Spain"},{code:"ET",name:"Ethiopia"},{code:"FI",name:"Finland"},{code:"FJ",name:"Fiji"},{code:"FK",name:"Falkland Islands"},{code:"FM",name:"Micronesia"},{code:"FO",name:"Faroe Islands"},{code:"FR",name:"France"},{code:"GA",name:"Gabon"},{code:"GB",name:"United Kingdom"},{code:"GD",name:"Grenada"},{code:"GE",name:"Georgia"},{code:"GF",name:"French Guiana"},{code:"GG",name:"Guernsey"},{code:"GH",name:"Ghana"},{code:"GI",name:"Gibraltar"},{code:"GL",name:"Greenland"},{code:"GM",name:"Gambia"},{code:"GN",name:"Guinea"},{code:"GP",name:"Guadeloupe"},{code:"GQ",name:"Equatorial Guinea"},{code:"GR",name:"Greece"},{code:"GS",name:"South Georgia and the South Sandwich Islands"},{code:"GT",name:"Guatemala"},{code:"GU",name:"Guam"},{code:"GW",name:"Guinea-Bissau"},{code:"GY",name:"Guyana"},{code:"HK",name:"Hong Kong"},{code:"HM",name:"Heard Island and McDonald Islands"},{code:"HN",name:"Honduras"},{code:"HR",name:"Croatia"},{code:"HT",name:"Haiti"},{code:"HU",name:"Hungary"},{code:"ID",name:"Indonesia"},{code:"IE",name:"Ireland"},{code:"IL",name:"Israel"},{code:"IM",name:"Isle of Man"},{code:"IN",name:"India"},{code:"IO",name:"British Indian Ocean Territory"},{code:"IQ",name:"Iraq"},{code:"IR",name:"Iran"},{code:"IS",name:"Iceland"},{code:"IT",name:"Italy"},{code:"JE",name:"Jersey"},{code:"JM",name:"Jamaica"},{code:"JO",name:"Jordan"},{code:"JP",name:"Japan"},{code:"KE",name:"Kenya"},{code:"KG",name:"Kyrgyzstan"},{code:"KH",name:"Cambodia"},{code:"KI",name:"Kiribati"},{code:"KM",name:"Comoros"},{code:"KN",name:"Saint Kitts and Nevis"},{code:"KP",name:"North Korea"},{code:"KR",name:"South Korea"},{code:"KW",name:"Kuwait"},{code:"KY",name:"Cayman Islands"},{code:"KZ",name:"Kazakhstan"},{code:"LA",name:"Laos"},{code:"LB",name:"Lebanon"},{code:"LC",name:"Saint Lucia"},{code:"LI",name:"Liechtenstein"},{code:"LK",name:"Sri Lanka"},{code:"LR",name:"Liberia"},{code:"LS",name:"Lesotho"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"LV",name:"Latvia"},{code:"LY",name:"Libya"},{code:"MA",name:"Morocco"},{code:"MC",name:"Monaco"},{code:"MD",name:"Moldova"},{code:"ME",name:"Montenegro"},{code:"MF",name:"Saint Martin"},{code:"MG",name:"Madagascar"},{code:"MH",name:"Marshall Islands"},{code:"MK",name:"North Macedonia"},{code:"ML",name:"Mali"},{code:"MM",name:"Myanmar"},{code:"MN",name:"Mongolia"},{code:"MO",name:"Macao"},{code:"MP",name:"Northern Mariana Islands"},{code:"MQ",name:"Martinique"},{code:"MR",name:"Mauritania"},{code:"MS",name:"Montserrat"},{code:"MT",name:"Malta"},{code:"MU",name:"Mauritius"},{code:"MV",name:"Maldives"},{code:"MW",name:"Malawi"},{code:"MX",name:"Mexico"},{code:"MY",name:"Malaysia"},{code:"MZ",name:"Mozambique"},{code:"NA",name:"Namibia"},{code:"NC",name:"New Caledonia"},{code:"NE",name:"Niger"},{code:"NF",name:"Norfolk Island"},{code:"NG",name:"Nigeria"},{code:"NI",name:"Nicaragua"},{code:"NL",name:"Netherlands"},{code:"NO",name:"Norway"},{code:"NP",name:"Nepal"},{code:"NR",name:"Nauru"},{code:"NU",name:"Niue"},{code:"NZ",name:"New Zealand"},{code:"OM",name:"Oman"},{code:"PA",name:"Panama"},{code:"PE",name:"Peru"},{code:"PF",name:"French Polynesia"},{code:"PG",name:"Papua New Guinea"},{code:"PH",name:"Philippines"},{code:"PK",name:"Pakistan"},{code:"PL",name:"Poland"},{code:"PM",name:"Saint Pierre and Miquelon"},{code:"PN",name:"Pitcairn Islands"},{code:"PR",name:"Puerto Rico"},{code:"PS",name:"Palestine"},{code:"PT",name:"Portugal"},{code:"PW",name:"Palau"},{code:"PY",name:"Paraguay"},{code:"QA",name:"Qatar"},{code:"RE",name:"Runion"},{code:"RO",name:"Romania"},{code:"RS",name:"Serbia"},{code:"RU",name:"Russia"},{code:"RW",name:"Rwanda"},{code:"SA",name:"Saudi Arabia"},{code:"SB",name:"Solomon Islands"},{code:"SC",name:"Seychelles"},{code:"SD",name:"Sudan"},{code:"SE",name:"Sweden"},{code:"SG",name:"Singapore"},{code:"SH",name:"Saint Helena"},{code:"SI",name:"Slovenia"},{code:"SJ",name:"Svalbard and Jan Mayen"},{code:"SK",name:"Slovakia"},{code:"SL",name:"Sierra Leone"},{code:"SM",name:"San Marino"},{code:"SN",name:"Senegal"},{code:"SO",name:"Somalia"},{code:"SR",name:"Suriname"},{code:"SS",name:"South Sudan"},{code:"ST",name:"So Tom and Prncipe"},{code:"SV",name:"El Salvador"},{code:"SX",name:"Sint Maarten"},{code:"SY",name:"Syria"},{code:"SZ",name:"Eswatini"},{code:"TC",name:"Turks and Caicos Islands"},{code:"TD",name:"Chad"},{code:"TF",name:"French Southern Territories"},{code:"TG",name:"Togo"},{code:"TH",name:"Thailand"},{code:"TJ",name:"Tajikistan"},{code:"TK",name:"Tokelau"},{code:"TL",name:"Timor-Leste"},{code:"TM",name:"Turkmenistan"},{code:"TN",name:"Tunisia"},{code:"TO",name:"Tonga"},{code:"TR",name:"Turkey"},{code:"TT",name:"Trinidad and Tobago"},{code:"TV",name:"Tuvalu"},{code:"TW",name:"Taiwan"},{code:"TZ",name:"Tanzania"},{code:"UA",name:"Ukraine"},{code:"UG",name:"Uganda"},{code:"UM",name:"United States Minor Outlying Islands"},{code:"US",name:"United States"},{code:"UY",name:"Uruguay"},{code:"UZ",name:"Uzbekistan"},{code:"VA",name:"Vatican City"},{code:"VC",name:"Saint Vincent and the Grenadines"},{code:"VE",name:"Venezuela"},{code:"VG",name:"British Virgin Islands"},{code:"VI",name:"United States Virgin Islands"},{code:"VN",name:"Vietnam"},{code:"VU",name:"Vanuatu"},{code:"WF",name:"Wallis and Futuna"},{code:"WS",name:"Samoa"},{code:"YE",name:"Yemen"},{code:"YT",name:"Mayotte"},{code:"ZA",name:"South Africa"},{code:"ZM",name:"Zambia"},{code:"ZW",name:"Zimbabwe"}];function xu(e){const n={UK:"GB",EN:"GB"}[e.toUpperCase()]||e.toUpperCase();if(n.length!==2)return"";const r=n.split("").map(a=>127397+a.charCodeAt(0));return String.fromCodePoint(...r)}function Hke({value:e,onChange:t,testId:n}){const[r,a]=j.useState(!1),[i,o]=j.useState(""),l=j.useMemo(()=>{if(!i)return a0;const u=i.toLowerCase();return a0.filter(f=>f.code.toLowerCase().includes(u)||f.name.toLowerCase().includes(u))},[i]),c=a0.find(u=>u.code===e);return s.jsxs("div",{className:"relative",children:[s.jsxs(U,{type:"button",variant:"outline",className:"w-full justify-between bg-card border-border text-foreground hover:bg-muted h-8 text-sm font-mono",onClick:()=>a(!r),"data-testid":n,children:[s.jsx("span",{className:"text-left flex items-center gap-2",children:c?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-lg",children:xu(c.code)}),s.jsxs("span",{children:[c.code," - ",c.name]})]}):" ( )"}),s.jsx(fa,{className:`w-4 h-4 opacity-50 transition-transform ${r?"rotate-180":""}`})]}),r&&s.jsxs("div",{className:"absolute top-full left-0 right-0 z-50 mt-1 bg-card border border-border rounded-md shadow-lg",children:[s.jsx("div",{className:"p-2 border-b border-border",children:s.jsx(le,{placeholder:"    ...",className:"bg-muted border-border text-foreground text-xs h-7",value:i,onChange:u=>o(u.target.value),autoFocus:!0,"data-testid":`${n}-search`})}),s.jsx("div",{className:"max-h-48 overflow-y-auto",children:l.length===0?s.jsx("div",{className:"p-3 text-center text-muted-foreground text-xs",children:" "}):l.map(u=>s.jsxs("button",{type:"button",className:`w-full text-left px-3 py-2 text-xs hover:bg-white/10 transition-colors flex items-center gap-2 ${e===u.code?"bg-blue-600/30 text-blue-400":"text-muted-foreground"}`,onClick:()=>{t(u.code),a(!1),o("")},"data-testid":`country-${u.code}`,children:[s.jsx("span",{className:"text-base",children:xu(u.code)}),s.jsx("span",{className:"font-mono font-bold",children:u.code}),s.jsx("span",{className:"text-muted-foreground",children:u.name})]},u.code))})]}),e&&s.jsx("button",{type:"button",className:"absolute right-8 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>t(""),"data-testid":`${n}-clear`,children:s.jsx(Xn,{className:"w-4 h-4"})})]})}function MB(e){if(e.landings&&e.landings.length>0){const t=e.landings.map(a=>parseFloat(a.partnerPayout)).filter(a=>!isNaN(a));if(t.length===0)return e.partnerPayout||"";const n=Math.min(...t),r=Math.max(...t);return n===r?n.toString():`${n} - ${r}`}return e.partnerPayout?e.partnerPayout:""}function _B(e){if(e.landings&&e.landings.length>0){const t=e.landings.map(a=>a.internalCost?parseFloat(a.internalCost):NaN).filter(a=>!isNaN(a));if(t.length===0)return e.internalCost||null;const n=Math.min(...t),r=Math.max(...t);return n===r?n.toString():`${n} - ${r}`}return e.internalCost?e.internalCost:null}function Kke({role:e}){const{t}=as(),n=rt(),{canWrite:r}=ey(),[a,i]=j.useState(""),[o,l]=j.useState("all"),[c,u]=j.useState("all"),[f,m]=j.useState("all"),[p,g]=j.useState("all"),[v,y]=j.useState(!1),[w,N]=j.useState(!1),[A,T]=j.useState(!1),[C,S]=j.useState(!1),[E,O]=j.useState(!1),[_,M]=j.useState(null),$=r("offers"),z=ve({mutationFn:async G=>{const X=await fetch(`/api/offers/${G}/archive`,{method:"PATCH",credentials:"include"});if(!X.ok)throw new Error("Failed to archive offer");return X.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/offers"]}),Rt.success("   "),O(!1),M(null)},onError:()=>{Rt.error("   ")}}),V=G=>{M(G),O(!0)},I=()=>{_&&z.mutate(_.id)},{data:F,isLoading:K,error:R}=Ne({queryKey:["/api/offers"],queryFn:async()=>{const G=await fetch("/api/offers",{credentials:"include"});if(!G.ok)throw new Error("Failed to fetch offers");return G.json()}}),{data:B}=Ne({queryKey:["/api/offers/stats"],queryFn:async()=>{const G=await fetch("/api/offers/stats",{credentials:"include"});if(!G.ok)throw new Error("Failed to fetch offer stats");return G.json()}}),L=j.useMemo(()=>B?new Map(B.map(G=>[G.offerId,{clicks:G.clicks,conversions:G.conversions,cr:G.cr,ar:G.ar||0,epc:G.epc||0}])):new Map,[B]),q=j.useMemo(()=>F?Array.from(new Set(F.map(G=>G.category).filter(Boolean))):[],[F]),se=j.useMemo(()=>{if(!F)return[];const G=new Set;return F.forEach(X=>X.geo.forEach(ae=>G.add(ae))),Array.from(G).sort()},[F]),H=j.useMemo(()=>{if(!F)return[];const G=new Set;return F.forEach(X=>X.trafficSources?.forEach(ae=>G.add(ae))),Array.from(G).sort()},[F]),Y=j.useMemo(()=>{if(!F)return[];const G=new Date(Date.now()-336*60*60*1e3);return F.filter(X=>{const ae=a===""||X.name.toLowerCase().includes(a.toLowerCase())||X.category.toLowerCase().includes(a.toLowerCase())||X.geo.some(De=>De.toLowerCase().includes(a.toLowerCase())),de=o==="all"||X.category.toLowerCase()===o.toLowerCase(),he=c==="all"||X.geo.includes(c),Fe=f==="all"||X.trafficSources?.includes(f),ge=p==="all"||X.status===p,Ae=X.createdAt&&new Date(X.createdAt)>G,_e=!v||Ae,ee=!w||X.isTop,Le=!A||X.isExclusive,Ce=!C||X.isPrivate;return ae&&de&&he&&Fe&&ge&&_e&&ee&&Le&&Ce})},[F,a,o,c,f,p,v,w,A,C]);return K?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-blue-500"})}):R?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-red-400",children:"Failed to load offers"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-mono text-foreground mb-2","data-testid":"text-offers-title",children:t("dashboard.offers.title")}),s.jsx("p",{className:"text-muted-foreground text-sm font-mono",children:t("dashboard.offers.subtitle")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[r("offers")&&s.jsx(Mt,{href:`/dashboard/${e}/offers/archived`,children:s.jsxs(U,{variant:"outline",className:"text-foreground font-mono","data-testid":"button-view-archive",children:[s.jsx(uF,{className:"w-4 h-4 mr-2"}),""]})}),$&&s.jsx(Mt,{href:`/dashboard/${e}/offers/new`,children:s.jsxs(U,{className:"bg-blue-600 hover:bg-blue-500 text-foreground font-mono","data-testid":"button-create-offer",children:[s.jsx(fr,{className:"w-4 h-4 mr-2"}),t("dashboard.offers.create")]})})]})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs("div",{className:"p-4 border-b border-border space-y-4",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:t("dashboard.offers.searchPlaceholder"),value:a,onChange:G=>i(G.target.value),className:"w-full bg-muted border border-border rounded pl-9 pr-4 py-2 text-sm text-foreground focus:outline-none focus:border-blue-500 font-mono","data-testid":"input-search-offers"})]})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx(K0,{value:c,onValueChange:u,placeholder:"",searchPlaceholder:" ...",className:"w-[140px] font-mono text-xs h-8","data-testid":"select-geo",options:[{value:"all",label:"  "},...se.map(G=>({value:G,label:`${xu(G)} ${G}`}))]}),s.jsxs(ht,{value:o,onValueChange:l,children:[s.jsxs(dt,{className:"w-[160px] bg-muted border-border text-foreground font-mono text-xs h-8","data-testid":"select-category",children:[s.jsx(bhe,{className:"w-3 h-3 mr-1 text-muted-foreground"}),s.jsx(mt,{placeholder:""})]}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"all",className:"text-foreground font-mono text-xs",children:" "}),q.map(G=>s.jsx(ke,{value:G,className:"text-foreground font-mono text-xs",children:G},G))]})]}),s.jsxs(ht,{value:f,onValueChange:m,children:[s.jsxs(dt,{className:"w-[160px] bg-muted border-border text-foreground font-mono text-xs h-8","data-testid":"select-source",children:[s.jsx(e_,{className:"w-3 h-3 mr-1 text-muted-foreground"}),s.jsx(mt,{placeholder:""})]}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"all",className:"text-foreground font-mono text-xs",children:" "}),H.map(G=>s.jsx(ke,{value:G,className:"text-foreground font-mono text-xs",children:G},G))]})]}),s.jsxs(ht,{value:p,onValueChange:g,children:[s.jsx(dt,{className:"w-[130px] bg-muted border-border text-foreground font-mono text-xs h-8","data-testid":"select-status",children:s.jsx(mt,{placeholder:""})}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"all",className:"text-foreground font-mono text-xs",children:" "}),s.jsx(ke,{value:"active",className:"text-foreground font-mono text-xs",children:"Active"}),s.jsx(ke,{value:"paused",className:"text-foreground font-mono text-xs",children:"Paused"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-2 pl-2 border-l border-border/50",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:v,onChange:G=>y(G.target.checked),className:"w-3.5 h-3.5 rounded border-border bg-muted accent-emerald-500","data-testid":"checkbox-filter-new"}),s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-emerald-500/20 text-emerald-400",children:"NEW"})]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:w,onChange:G=>N(G.target.checked),className:"w-3.5 h-3.5 rounded border-border bg-muted accent-yellow-500","data-testid":"checkbox-filter-top"}),s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-yellow-500/20 text-yellow-400",children:"TOP"})]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:A,onChange:G=>T(G.target.checked),className:"w-3.5 h-3.5 rounded border-border bg-muted accent-purple-500","data-testid":"checkbox-filter-exclusive"}),s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-purple-500/20 text-purple-400",children:"EXCLUSIVE"})]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:C,onChange:G=>S(G.target.checked),className:"w-3.5 h-3.5 rounded border-border bg-muted accent-red-500","data-testid":"checkbox-filter-private"}),s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-red-500/20 text-red-400",children:"PRIVATE"})]})]}),(c!=="all"||o!=="all"||f!=="all"||p!=="all"||v||w||A||C)&&s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{u("all"),l("all"),m("all"),g("all"),y(!1),N(!1),T(!1),S(!1)},className:"text-muted-foreground hover:text-foreground text-xs h-8","data-testid":"button-clear-filters",children:""})]})]}),Y.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(xh,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No offers yet"}),$&&s.jsx(Mt,{href:`/dashboard/${e}/offers/new`,children:s.jsxs(U,{className:"bg-blue-600 hover:bg-blue-500 text-foreground font-mono",children:[s.jsx(fr,{className:"w-4 h-4 mr-2"}),"Create Your First Offer"]})})]}):s.jsx("div",{className:"overflow-x-auto max-h-[700px] overflow-y-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono table-fixed",children:[s.jsx("thead",{className:"sticky top-0 z-10 bg-card",children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium w-[120px]",children:"ID"}),s.jsx("th",{className:"px-4 py-3 font-medium w-[200px]",children:t("dashboard.offers.name")}),s.jsx("th",{className:"px-4 py-3 font-medium w-[100px]",children:t("dashboard.offers.category")}),s.jsx("th",{className:"px-4 py-3 font-medium w-[70px]",children:"CR%"}),s.jsx("th",{className:"px-4 py-3 font-medium w-[70px]",children:"AR%"}),s.jsx("th",{className:"px-4 py-3 font-medium w-[70px]",children:"EPC"}),s.jsx("th",{className:"px-4 py-3 font-medium w-[120px]",children:"Partner Payout"}),s.jsx("th",{className:"px-4 py-3 font-medium w-[120px]",children:t("dashboard.offers.geo")}),s.jsx("th",{className:"px-4 py-3 font-medium w-[110px]",children:"Internal Cost"}),s.jsx("th",{className:"px-4 py-3 font-medium w-[80px]",children:t("dashboard.offers.status")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[100px]",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:Y.map(G=>s.jsxs("tr",{className:"hover:bg-muted transition-colors group","data-testid":`row-offer-${G.id}`,children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-2",children:[G.logoUrl?s.jsx("img",{src:G.logoUrl,alt:"",className:"w-6 h-6 rounded object-cover"}):s.jsx("div",{className:"w-6 h-6 rounded bg-muted flex items-center justify-center text-xs",children:G.name.charAt(0).toUpperCase()}),s.jsxs("span",{children:["#",G.id.slice(0,8)]})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mt,{href:`/dashboard/${e}/offer/${G.id}`,children:s.jsx("span",{className:"font-medium text-foreground group-hover:text-blue-400 transition-colors cursor-pointer","data-testid":`text-offer-name-${G.id}`,children:G.name})}),G.createdAt&&new Date(G.createdAt)>new Date(Date.now()-336*60*60*1e3)&&s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-emerald-500/20 text-emerald-400 animate-pulse",children:"NEW"}),G.isTop&&s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-yellow-500/20 text-yellow-400",children:"TOP"}),G.isExclusive&&s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-purple-500/20 text-purple-400",children:"EXCLUSIVE"}),G.isPrivate&&s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-red-500/20 text-red-400",children:"PRIVATE"})]})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:G.category}),s.jsx("td",{className:"px-4 py-3 text-blue-400 font-bold","data-testid":`text-cr-${G.id}`,children:(()=>{const X=L.get(G.id);return!X||X.clicks===0?"":`${X.cr}%`})()}),s.jsx("td",{className:"px-4 py-3 text-pink-400 font-medium","data-testid":`text-ar-${G.id}`,children:(()=>{const X=L.get(G.id);return!X||X.conversions===0?"":`${X.ar?.toFixed(1)||0}%`})()}),s.jsx("td",{className:"px-4 py-3 text-teal-400 font-medium","data-testid":`text-epc-${G.id}`,children:(()=>{const X=L.get(G.id);return!X||X.clicks===0?"":`${Hs(Ol(G))}${X.epc?.toFixed(2)||"0.00"}`})()}),s.jsx("td",{className:"px-4 py-3 text-emerald-400 font-bold","data-testid":`text-payout-${G.id}`,children:MB(G)?`${Hs(Ol(G))}${MB(G)}`:"N/A"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:s.jsx("span",{className:"flex items-center gap-1 flex-wrap",children:(()=>{const X=Array.from(new Set(G.geo));return s.jsxs(s.Fragment,{children:[X.slice(0,3).map((ae,de)=>s.jsxs("span",{className:"inline-flex items-center gap-0.5",children:[s.jsx("span",{children:xu(ae)}),s.jsx("span",{children:ae}),de<Math.min(X.length,3)-1&&s.jsx("span",{children:","})]},ae)),X.length>3&&s.jsxs("span",{className:"text-muted-foreground",children:["+",X.length-3]})]})})()})}),s.jsx("td",{className:"px-4 py-3 text-red-400 font-bold","data-testid":`text-cost-${G.id}`,children:_B(G)?`${Hs(Ol(G))}${_B(G)}`:"N/A"}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] uppercase font-bold ${G.status==="active"?"bg-emerald-500/20 text-emerald-500":"bg-yellow-500/20 text-yellow-500"}`,children:G.status})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(Mt,{href:`/dashboard/${e}/offer/${G.id}`,children:s.jsx(U,{size:"icon",variant:"ghost",className:"h-6 w-6 text-emerald-500 hover:text-emerald-400 hover:bg-emerald-500/10","data-testid":`button-view-${G.id}`,children:s.jsx(ur,{className:"w-3 h-3"})})}),$&&s.jsxs(s.Fragment,{children:[s.jsx(Mt,{href:`/dashboard/${e}/offers/new?edit=${G.id}`,children:s.jsx(U,{size:"icon",variant:"ghost",className:"h-6 w-6 text-blue-500 hover:text-blue-400 hover:bg-blue-500/10","data-testid":`button-edit-${G.id}`,children:s.jsx(s_,{className:"w-3 h-3"})})}),s.jsx(U,{size:"icon",variant:"ghost",className:"h-6 w-6 text-orange-500 hover:text-orange-400 hover:bg-orange-500/10","data-testid":`button-archive-${G.id}`,onClick:()=>V(G),title:" ",children:s.jsx(uF,{className:"w-3 h-3"})})]})]})})]},G.id))})]})})]}),s.jsx(DR,{open:E,onOpenChange:O,children:s.jsxs(jN,{children:[s.jsxs(wN,{children:[s.jsx(SN,{children:" ?"}),s.jsxs(CN,{children:[' ,     "',_?.name,'"?       ,      .         .']})]}),s.jsxs(NN,{children:[s.jsx(TN,{children:""}),s.jsx(kN,{onClick:G=>{G.preventDefault(),I()},className:"bg-orange-600 hover:bg-orange-700",disabled:z.isPending,children:z.isPending?"...":" "})]})]})})]})}function Wke({role:e}){const t=rt(),[n,r]=j.useState(""),[a,i]=j.useState(!1),[o,l]=j.useState(null),{data:c,isLoading:u,error:f}=Ne({queryKey:["/api/offers/archived"],queryFn:async()=>{const y=await fetch("/api/offers/archived",{credentials:"include"});if(!y.ok)throw new Error("Failed to fetch archived offers");return y.json()}}),m=ve({mutationFn:async y=>{const w=await fetch(`/api/offers/${y}/restore`,{method:"PATCH",credentials:"include"});if(!w.ok)throw new Error("Failed to restore offer");return w.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/offers/archived"]}),t.invalidateQueries({queryKey:["/api/offers"]}),Rt.success(" "),i(!1),l(null)},onError:()=>{Rt.error("   ")}}),p=y=>{l(y),i(!0)},g=()=>{o&&m.mutate(o.id)},v=j.useMemo(()=>c?c.filter(y=>{if(n){const w=n.toLowerCase();return y.name.toLowerCase().includes(w)||y.description?.toLowerCase().includes(w)}return!0}):[],[c,n]);return u?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-blue-500"})}):f?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-red-400",children:"   "})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Mt,{href:`/dashboard/${e}/offers`,children:s.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8","data-testid":"button-back",children:s.jsx(As,{className:"w-4 h-4"})})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-mono text-foreground mb-1","data-testid":"text-archive-title",children:" "}),s.jsxs("p",{className:"text-muted-foreground text-sm font-mono",children:[v.length," ",v.length===1?"":"","  "]})]})]})}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsx("div",{className:"p-4 border-b border-border",children:s.jsxs("div",{className:"relative max-w-sm",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"  ...",value:n,onChange:y=>r(y.target.value),className:"w-full bg-muted border border-border rounded pl-9 pr-4 py-2 text-sm text-foreground focus:outline-none focus:border-blue-500 font-mono","data-testid":"input-search-archived"})]})}),v.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(xh,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:" "}),s.jsx(Mt,{href:`/dashboard/${e}/offers`,children:s.jsxs(U,{variant:"outline",className:"font-mono",children:[s.jsx(As,{className:"w-4 h-4 mr-2"})," "]})})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"ID"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:v.map(y=>s.jsxs("tr",{className:"hover:bg-muted transition-colors group","data-testid":`row-archived-${y.id}`,children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-2",children:[y.logoUrl?s.jsx("img",{src:y.logoUrl,alt:"",className:"w-6 h-6 rounded object-cover"}):s.jsx("div",{className:"w-6 h-6 rounded bg-muted flex items-center justify-center text-xs",children:y.name.charAt(0).toUpperCase()}),s.jsxs("span",{children:["#",y.id.slice(0,8)]})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"font-medium text-foreground opacity-70","data-testid":`text-archived-name-${y.id}`,children:y.name})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:y.category}),s.jsxs("td",{className:"px-4 py-3 text-muted-foreground",children:[y.geo.slice(0,3).join(", "),y.geo.length>3?` +${y.geo.length-3}`:""]}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:y.archivedAt?new Date(y.archivedAt).toLocaleDateString("ru-RU"):"-"}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs(U,{size:"sm",variant:"outline",className:"h-7 text-xs text-emerald-500 border-emerald-500/30 hover:bg-emerald-500/10","data-testid":`button-restore-${y.id}`,onClick:()=>p(y),children:[s.jsx(ffe,{className:"w-3 h-3 mr-1"}),""]})})]},y.id))})]})})]}),s.jsx(DR,{open:a,onOpenChange:i,children:s.jsxs(jN,{children:[s.jsxs(wN,{children:[s.jsx(SN,{children:" ?"}),s.jsxs(CN,{children:[' ,     "',o?.name,'"?          .']})]}),s.jsxs(NN,{children:[s.jsx(TN,{children:""}),s.jsx(kN,{onClick:y=>{y.preventDefault(),g()},className:"bg-emerald-600 hover:bg-emerald-700",disabled:m.isPending,children:m.isPending?"...":""})]})]})})]})}function Gke({role:e}){const{t}=as(),[n,r]=j.useState(""),[a,i]=j.useState("all"),[o,l]=j.useState("all"),[c,u]=j.useState("all"),[f,m]=j.useState(!1),[p,g]=j.useState(!1),[v,y]=j.useState(!1),[w,N]=j.useState(!1),[A,T]=j.useState(!1),{selectedAdvertiserId:C}=Vl(),{data:S,isLoading:E,error:O}=Ne({queryKey:["/api/marketplace/offers",C],queryFn:async()=>{const q=await fetch("/api/marketplace/offers",{credentials:"include"});if(!q.ok)throw new Error("Failed to fetch marketplace");return q.json()}}),{data:_}=Ne({queryKey:["/api/publisher/offers/stats"],queryFn:async()=>{const q=await fetch("/api/publisher/offers/stats",{credentials:"include"});return q.ok?q.json():[]}}),M=j.useMemo(()=>{const q=new Map;return _&&_.forEach(se=>q.set(se.offerId,{clicks:se.clicks,conversions:se.conversions,cr:se.cr,ar:se.ar||0,epc:se.epc||0})),q},[_]),$=j.useMemo(()=>S?Array.from(new Set(S.map(q=>q.category).filter(Boolean))):[],[S]),z=j.useMemo(()=>{if(!S)return[];const q=new Set;return S.forEach(se=>se.geo.forEach(H=>q.add(H))),Array.from(q).sort()},[S]),V=j.useMemo(()=>{if(!S)return[];const q=new Set;return S.forEach(se=>se.trafficSources?.forEach(H=>q.add(H))),Array.from(q).sort()},[S]),I=j.useMemo(()=>{if(!S)return[];const q=new Date(Date.now()-336*60*60*1e3);return S.filter(se=>{const H=!C||se.advertiserId===C,Y=n===""||se.name.toLowerCase().includes(n.toLowerCase())||se.category.toLowerCase().includes(n.toLowerCase())||se.geo.some(ee=>ee.toLowerCase().includes(n.toLowerCase())),G=a==="all"||se.category.toLowerCase()===a.toLowerCase(),X=o==="all"||se.geo.includes(o),ae=c==="all"||se.trafficSources?.includes(c),de=!f||se.hasAccess===!0,he=se.createdAt&&new Date(se.createdAt)>q,Fe=!p||he,ge=!v||se.isTop,Ae=!w||se.isExclusive,_e=!A||se.isPrivate;return H&&Y&&G&&X&&ae&&de&&Fe&&ge&&Ae&&_e})},[S,n,a,o,c,f,C,p,v,w,A]),F=q=>{if(q.landings&&q.landings.length>0){const se=q.landings.map(G=>parseFloat(G.partnerPayout)),H=Math.min(...se),Y=Math.max(...se);return H===Y?Y.toFixed(2):`${H.toFixed(2)}-${Y.toFixed(2)}`}return q.partnerPayout},K=rt(),R=ve({mutationFn:async q=>{const se=await fetch(`/api/offers/${q}/request-access`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})});if(!se.ok){const H=await se.json();throw new Error(H.message||"Failed to request access")}return se.json()},onSuccess:()=>{K.invalidateQueries({queryKey:["/api/marketplace/offers"],exact:!1})}}),B=q=>q.hasAccess?s.jsxs("span",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-emerald-500/20 text-emerald-500",children:[s.jsx(Gn,{className:"w-3 h-3"}),""]}):q.accessStatus==="pending"?s.jsxs("span",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-yellow-500/20 text-yellow-500",children:[s.jsx(Yt,{className:"w-3 h-3"}),""]}):q.accessStatus==="rejected"?s.jsxs("span",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-red-500/20 text-red-500",children:[s.jsx(ts,{className:"w-3 h-3"}),""]}):q.accessStatus==="revoked"?s.jsxs("span",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-orange-500/20 text-orange-500",children:[s.jsx(Kn,{className:"w-3 h-3"}),""]}):s.jsxs("button",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-blue-500/20 text-blue-500 hover:bg-blue-500/30 hover:text-blue-400 transition-colors disabled:opacity-50",onClick:se=>{se.stopPropagation(),R.mutate(q.id)},disabled:R.isPending,"data-testid":`button-request-access-${q.id}`,children:[s.jsx(dr,{className:"w-3 h-3"}),""]});if(E)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-emerald-500"})});if(O)return s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-red-400",children:"Failed to load offers"})});const L=S?.filter(q=>q.hasAccess).length||0;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-mono text-foreground mb-2","data-testid":"text-offers-title",children:t("dashboard.offers.title")}),s.jsx("p",{className:"text-muted-foreground text-sm font-mono",children:t("dashboard.offers.subtitle")})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",className:`font-mono ${f?"text-muted-foreground border-border":"bg-emerald-500/10 text-emerald-400 border-emerald-500/50"}`,onClick:()=>m(!1),"data-testid":"button-all-offers",children:" "}),s.jsxs(U,{variant:"outline",className:`font-mono ${f?"bg-emerald-500/10 text-emerald-400 border-emerald-500/50":"text-muted-foreground border-border"}`,onClick:()=>m(!0),"data-testid":"button-my-offers",children:["  (",L,")"]})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsx("div",{className:"p-4 border-b border-border flex flex-col gap-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:t("dashboard.offers.searchPlaceholder"),value:n,onChange:q=>r(q.target.value),className:"w-full bg-muted border border-border rounded pl-9 pr-4 py-2 text-sm text-foreground focus:outline-none focus:border-emerald-500 font-mono","data-testid":"input-search-offers"})]}),s.jsxs("div",{className:"flex gap-3 flex-wrap",children:[s.jsxs(ht,{value:a,onValueChange:i,children:[s.jsxs(dt,{className:"w-[140px] bg-muted border-border text-foreground font-mono text-xs","data-testid":"select-category",children:[s.jsx(xh,{className:"w-3 h-3 mr-2 text-muted-foreground"}),s.jsx(mt,{placeholder:""})]}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"all",className:"font-mono text-xs",children:" "}),$.map(q=>s.jsx(ke,{value:q,className:"font-mono text-xs",children:q},q))]})]}),s.jsx(K0,{value:o,onValueChange:l,placeholder:"",searchPlaceholder:" ...",className:"w-[120px] font-mono text-xs","data-testid":"select-geo",options:[{value:"all",label:"  "},...z.map(q=>({value:q,label:`${xu(q)} ${q}`}))]}),s.jsxs(ht,{value:c,onValueChange:u,children:[s.jsxs(dt,{className:"w-[150px] bg-muted border-border text-foreground font-mono text-xs","data-testid":"select-source",children:[s.jsx(e_,{className:"w-3 h-3 mr-2 text-muted-foreground"}),s.jsx(mt,{placeholder:""})]}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"all",className:"font-mono text-xs",children:" "}),V.map(q=>s.jsx(ke,{value:q,className:"font-mono text-xs",children:q},q))]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-2 pl-2 border-l border-border/50",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:p,onChange:q=>g(q.target.checked),className:"w-3.5 h-3.5 rounded border-border bg-muted accent-emerald-500","data-testid":"checkbox-filter-new"}),s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-emerald-500/20 text-emerald-400",children:"NEW"})]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:v,onChange:q=>y(q.target.checked),className:"w-3.5 h-3.5 rounded border-border bg-muted accent-yellow-500","data-testid":"checkbox-filter-top"}),s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-yellow-500/20 text-yellow-400",children:"TOP"})]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:w,onChange:q=>N(q.target.checked),className:"w-3.5 h-3.5 rounded border-border bg-muted accent-purple-500","data-testid":"checkbox-filter-exclusive"}),s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-purple-500/20 text-purple-400",children:"EXCLUSIVE"})]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:A,onChange:q=>T(q.target.checked),className:"w-3.5 h-3.5 rounded border-border bg-muted accent-red-500","data-testid":"checkbox-filter-private"}),s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-red-500/20 text-red-400",children:"PRIVATE"})]})]})]})]})}),I.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(xh,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"  "})]}):s.jsx("div",{className:"overflow-x-auto max-h-[700px] overflow-y-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono table-fixed",style:{minWidth:"1100px"},children:[s.jsxs("colgroup",{children:[s.jsx("col",{style:{width:"100px"}}),s.jsx("col",{style:{width:"180px"}}),s.jsx("col",{style:{width:"90px"}}),s.jsx("col",{style:{width:"60px"}}),s.jsx("col",{style:{width:"60px"}}),s.jsx("col",{style:{width:"70px"}}),s.jsx("col",{style:{width:"110px"}}),s.jsx("col",{style:{width:"90px"}}),s.jsx("col",{style:{width:"70px"}}),s.jsx("col",{style:{width:"80px"}}),s.jsx("col",{style:{width:"80px"}})]}),s.jsx("thead",{className:"sticky top-0 z-10 bg-card",children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-3 py-3 font-medium",children:"ID"}),s.jsx("th",{className:"px-3 py-3 font-medium",children:t("dashboard.offers.name")}),s.jsx("th",{className:"px-3 py-3 font-medium",children:t("dashboard.offers.category")}),s.jsx("th",{className:"px-3 py-3 font-medium",children:"CR%"}),s.jsx("th",{className:"px-3 py-3 font-medium",children:"AR%"}),s.jsx("th",{className:"px-3 py-3 font-medium",children:"EPC"}),s.jsx("th",{className:"px-3 py-3 font-medium",children:t("dashboard.offers.geo")}),s.jsx("th",{className:"px-3 py-3 font-medium",children:""}),s.jsx("th",{className:"px-3 py-3 font-medium",children:""}),s.jsx("th",{className:"px-3 py-3 font-medium",children:""}),s.jsx("th",{className:"px-3 py-3 font-medium text-right",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:I.map(q=>{const se=F(q),H=M.get(q.id);return s.jsxs("tr",{className:"hover:bg-muted transition-colors group","data-testid":`row-offer-${q.id}`,children:[s.jsx("td",{className:"px-3 py-3 text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-2",children:[q.logoUrl?s.jsx("img",{src:q.logoUrl,alt:"",className:"w-6 h-6 rounded object-cover"}):s.jsx("div",{className:"w-6 h-6 rounded bg-muted flex items-center justify-center text-xs",children:q.name.charAt(0).toUpperCase()}),s.jsxs("span",{className:"truncate",children:["#",q.id.slice(0,8)]})]})}),s.jsx("td",{className:"px-3 py-3",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Mt,{href:`/dashboard/${e}/offer/${q.id}`,children:s.jsx("span",{className:"font-medium text-foreground group-hover:text-emerald-400 transition-colors cursor-pointer truncate","data-testid":`text-offer-name-${q.id}`,children:q.name})}),q.createdAt&&new Date(q.createdAt)>new Date(Date.now()-336*60*60*1e3)&&s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-emerald-500/20 text-emerald-400 animate-pulse",children:"NEW"}),q.isTop&&s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-yellow-500/20 text-yellow-400",children:"TOP"}),q.isExclusive&&s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-purple-500/20 text-purple-400",children:"EXCLUSIVE"}),q.isPrivate&&s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-red-500/20 text-red-400",children:"PRIVATE"})]})}),s.jsx("td",{className:"px-3 py-3 text-muted-foreground truncate",children:q.category}),s.jsx("td",{className:"px-3 py-3 text-cyan-400 font-medium",children:H?`${H.cr.toFixed(1)}%`:""}),s.jsx("td",{className:"px-3 py-3 text-pink-400 font-medium",children:H&&H.conversions>0?`${H.ar?.toFixed(1)||0}%`:""}),s.jsx("td",{className:"px-3 py-3 text-teal-400 font-medium",children:H&&H.clicks>0?`${Hs(Ol(q))}${H.epc?.toFixed(2)||"0.00"}`:""}),s.jsx("td",{className:"px-3 py-3 text-muted-foreground",children:s.jsx("span",{className:"flex items-center gap-1 flex-wrap",children:(()=>{const Y=Array.from(new Set(q.geo)),G=q.approvedGeos&&q.approvedGeos.length>0?q.approvedGeos:Y,X=q.approvedGeos&&q.approvedGeos.length>0&&q.approvedGeos.length<Y.length;return s.jsxs(s.Fragment,{children:[G.slice(0,3).map((ae,de)=>s.jsxs("span",{className:`inline-flex items-center gap-0.5 ${X?"text-yellow-400":""}`,children:[s.jsx("span",{children:xu(ae)}),s.jsx("span",{children:ae}),de<Math.min(G.length,3)-1&&s.jsx("span",{children:","})]},ae)),G.length>3&&s.jsxs("span",{className:X?"text-yellow-400":"text-muted-foreground",children:["+",G.length-3]}),X&&s.jsx("span",{className:"text-yellow-500 text-[10px] ml-1",title:`  ${G.length}  ${Y.length} `,children:"()"})]})})()})}),s.jsxs("td",{className:"px-3 py-3 text-emerald-400 font-bold",children:[Hs(Ol(q)),se]}),s.jsx("td",{className:"px-3 py-3 text-muted-foreground uppercase",children:q.payoutModel}),s.jsx("td",{className:"px-3 py-3",children:B(q)}),s.jsx("td",{className:"px-3 py-3 text-right",children:s.jsx(Mt,{href:`/dashboard/${e}/offer/${q.id}`,children:s.jsxs(U,{size:"sm",variant:"ghost",className:"h-7 px-3 text-muted-foreground hover:text-emerald-400 hover:bg-emerald-500/10","data-testid":`button-view-${q.id}`,children:[s.jsx(ur,{className:"w-3 h-3 mr-1"}),""]})})})]},q.id)})})]})})]})]})}function ms(e){this.content=e}ms.prototype={constructor:ms,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,a=r.find(e),i=r.content.slice();return a==-1?i.push(n||e,t):(i[a+1]=t,n&&(i[a]=n)),new ms(i)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new ms(n)},addToStart:function(e,t){return new ms([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new ms(n)},addBefore:function(e,t,n){var r=this.remove(t),a=r.content.slice(),i=r.find(e);return a.splice(i==-1?a.length:i,0,t,n),new ms(a)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=ms.from(e),e.size?new ms(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=ms.from(e),e.size?new ms(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=ms.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};ms.from=function(e){if(e instanceof ms)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new ms(t)};function nee(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let a=e.child(r),i=t.child(r);if(a==i){n+=a.nodeSize;continue}if(!a.sameMarkup(i))return n;if(a.isText&&a.text!=i.text){for(let o=0;a.text[o]==i.text[o];o++)n++;return n}if(a.content.size||i.content.size){let o=nee(a.content,i.content,n+1);if(o!=null)return o}n+=a.nodeSize}}function ree(e,t,n,r){for(let a=e.childCount,i=t.childCount;;){if(a==0||i==0)return a==i?null:{a:n,b:r};let o=e.child(--a),l=t.child(--i),c=o.nodeSize;if(o==l){n-=c,r-=c;continue}if(!o.sameMarkup(l))return{a:n,b:r};if(o.isText&&o.text!=l.text){let u=0,f=Math.min(o.text.length,l.text.length);for(;u<f&&o.text[o.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(o.content.size||l.content.size){let u=ree(o.content,l.content,n-1,r-1);if(u)return u}n-=c,r-=c}}class Ee{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,a=0,i){for(let o=0,l=0;l<n;o++){let c=this.content[o],u=l+c.nodeSize;if(u>t&&r(c,a+l,i||null,o)!==!1&&c.content.size){let f=l+1;c.nodesBetween(Math.max(0,t-f),Math.min(c.content.size,n-f),r,a+f)}l=u}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,a){let i="",o=!0;return this.nodesBetween(t,n,(l,c)=>{let u=l.isText?l.text.slice(Math.max(t,c)-c,n-c):l.isLeaf?a?typeof a=="function"?a(l):a:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(o?o=!1:i+=r),i+=u},0),i}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,a=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(a[a.length-1]=n.withText(n.text+r.text),i=1);i<t.content.length;i++)a.push(t.content[i]);return new Ee(a,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],a=0;if(n>t)for(let i=0,o=0;o<n;i++){let l=this.content[i],c=o+l.nodeSize;c>t&&((o<t||c>n)&&(l.isText?l=l.cut(Math.max(0,t-o),Math.min(l.text.length,n-o)):l=l.cut(Math.max(0,t-o-1),Math.min(l.content.size,n-o-1))),r.push(l),a+=l.nodeSize),o=c}return new Ee(r,a)}cutByIndex(t,n){return t==n?Ee.empty:t==0&&n==this.content.length?this:new Ee(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let a=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return a[t]=n,new Ee(a,i)}addToStart(t){return new Ee([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Ee(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let a=this.content[n];t(a,r,n),r+=a.nodeSize}}findDiffStart(t,n=0){return nee(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return ree(this,t,n,r)}findIndex(t){if(t==0)return fb(0,t);if(t==this.size)return fb(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let a=this.child(n),i=r+a.nodeSize;if(i>=t)return i==t?fb(n+1,i):fb(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return Ee.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ee(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Ee.empty;let n,r=0;for(let a=0;a<t.length;a++){let i=t[a];r+=i.nodeSize,a&&i.isText&&t[a-1].sameMarkup(i)?(n||(n=t.slice(0,a)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new Ee(n||t,r)}static from(t){if(!t)return Ee.empty;if(t instanceof Ee)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Ee([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ee.empty=new Ee([],0);const LC={index:0,offset:0};function fb(e,t){return LC.index=e,LC.offset=t,LC}function W0(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!W0(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!W0(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let Cn=class RP{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let a=0;a<t.length;a++){let i=t[a];if(this.eq(i))return t;if(this.type.excludes(i.type))n||(n=t.slice(0,a));else{if(i.type.excludes(this.type))return t;!r&&i.type.rank>this.type.rank&&(n||(n=t.slice(0,a)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&W0(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let a=r.create(n.attrs);return r.checkAttrs(a.attrs),a}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return RP.none;if(t instanceof RP)return[t];let n=t.slice();return n.sort((r,a)=>r.type.rank-a.type.rank),n}};Cn.none=[];class G0 extends Error{}class ze{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=aee(this.content,t+this.openStart,n);return r&&new ze(r,this.openStart,this.openEnd)}removeBetween(t,n){return new ze(see(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return ze.empty;let r=n.openStart||0,a=n.openEnd||0;if(typeof r!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ze(Ee.fromJSON(t,n.content),r,a)}static maxOpen(t,n=!0){let r=0,a=0;for(let i=t.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=t.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)a++;return new ze(t,r,a)}}ze.empty=new ze(Ee.empty,0,0);function see(e,t,n){let{index:r,offset:a}=e.findIndex(t),i=e.maybeChild(r),{index:o,offset:l}=e.findIndex(n);if(a==t||i.isText){if(l!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(see(i.content,t-a-1,n-a-1)))}function aee(e,t,n,r){let{index:a,offset:i}=e.findIndex(t),o=e.maybeChild(a);if(i==t||o.isText)return r&&!r.canReplace(a,a,n)?null:e.cut(0,t).append(n).append(e.cut(t));let l=aee(o.content,t-i-1,n,o);return l&&e.replaceChild(a,o.copy(l))}function Yke(e,t,n){if(n.openStart>e.depth)throw new G0("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new G0("Inconsistent open depths");return iee(e,t,n,0)}function iee(e,t,n,r){let a=e.index(r),i=e.node(r);if(a==t.index(r)&&r<e.depth-n.openStart){let o=iee(e,t,n,r+1);return i.copy(i.content.replaceChild(a,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let o=e.parent,l=o.content;return eu(o,l.cut(0,e.parentOffset).append(n.content).append(l.cut(t.parentOffset)))}else{let{start:o,end:l}=Xke(n,e);return eu(i,lee(e,o,l,t,r))}else return eu(i,Y0(e,t,r))}function oee(e,t){if(!t.type.compatibleContent(e.type))throw new G0("Cannot join "+t.type.name+" onto "+e.type.name)}function DP(e,t,n){let r=e.node(n);return oee(r,t.node(n)),r}function Zd(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function wx(e,t,n,r){let a=(t||e).node(n),i=0,o=t?t.index(n):a.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(Zd(e.nodeAfter,r),i++));for(let l=i;l<o;l++)Zd(a.child(l),r);t&&t.depth==n&&t.textOffset&&Zd(t.nodeBefore,r)}function eu(e,t){return e.type.checkContent(t),e.copy(t)}function lee(e,t,n,r,a){let i=e.depth>a&&DP(e,t,a+1),o=r.depth>a&&DP(n,r,a+1),l=[];return wx(null,e,a,l),i&&o&&t.index(a)==n.index(a)?(oee(i,o),Zd(eu(i,lee(e,t,n,r,a+1)),l)):(i&&Zd(eu(i,Y0(e,t,a+1)),l),wx(t,n,a,l),o&&Zd(eu(o,Y0(n,r,a+1)),l)),wx(r,null,a,l),new Ee(l)}function Y0(e,t,n){let r=[];if(wx(null,e,n,r),e.depth>n){let a=DP(e,t,n+1);Zd(eu(a,Y0(e,t,n+1)),r)}return wx(t,null,n,r),new Ee(r)}function Xke(e,t){let n=t.depth-e.openStart,a=t.node(n).copy(e.content);for(let i=n-1;i>=0;i--)a=t.node(i).copy(Ee.from(a));return{start:a.resolveNoCache(e.openStart+n),end:a.resolveNoCache(a.content.size-e.openEnd-n)}}class tg{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],a=t.child(n);return r?t.child(n).cut(r):a}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],a=n==0?0:this.path[n*3-1]+1;for(let i=0;i<t;i++)a+=r.child(i).nodeSize;return a}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Cn.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),a=t.maybeChild(n);if(!r){let l=r;r=a,a=l}let i=r.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!a||!i[o].isInSet(a.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,a=t.parent.maybeChild(t.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!a||!r[i].isInSet(a.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new X0(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],a=0,i=n;for(let o=t;;){let{index:l,offset:c}=o.content.findIndex(i),u=i-c;if(r.push(o,l,a+c),!u||(o=o.child(l),o.isText))break;i=u-1,a+=c+1}return new tg(n,r,i)}static resolveCached(t,n){let r=RB.get(t);if(r)for(let i=0;i<r.elts.length;i++){let o=r.elts[i];if(o.pos==n)return o}else RB.set(t,r=new Qke);let a=r.elts[r.i]=tg.resolve(t,n);return r.i=(r.i+1)%Jke,a}}class Qke{constructor(){this.elts=[],this.i=0}}const Jke=12,RB=new WeakMap;class X0{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Zke=Object.create(null);let $c=class IP{constructor(t,n,r,a=Cn.none){this.type=t,this.attrs=n,this.marks=a,this.content=r||Ee.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,a=0){this.content.nodesBetween(t,n,r,a,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,a){return this.content.textBetween(t,n,r,a)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&W0(this.attrs,n||t.defaultAttrs||Zke)&&Cn.sameSet(this.marks,r||Cn.none)}copy(t=null){return t==this.content?this:new IP(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new IP(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return ze.empty;let a=this.resolve(t),i=this.resolve(n),o=r?0:a.sharedDepth(n),l=a.start(o),u=a.node(o).content.cut(a.pos-l,i.pos-l);return new ze(u,a.depth-o,i.depth-o)}replace(t,n,r){return Yke(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:a}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(a==t||n.isText)return n;t-=a+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let a=this.content.child(n-1);return{node:a,index:n-1,offset:r-a.nodeSize}}resolve(t){return tg.resolveCached(this,t)}resolveNoCache(t){return tg.resolve(this,t)}rangeHasMark(t,n,r){let a=!1;return n>t&&this.nodesBetween(t,n,i=>(r.isInSet(i.marks)&&(a=!0),!a)),a}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),cee(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=Ee.empty,a=0,i=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,a,i),l=o&&o.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let c=a;c<i;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(t,n,r,a){if(a&&!this.type.allowsMarks(a))return!1;let i=this.contentMatchAt(t).matchType(r),o=i&&i.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Cn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Cn.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let a=Ee.fromJSON(t,n.content),i=t.nodeType(n.type).create(n.attrs,a,r);return i.type.checkAttrs(i.attrs),i}};$c.prototype.text=void 0;class Q0 extends $c{constructor(t,n,r,a){if(super(t,n,null,a),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):cee(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Q0(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Q0(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function cee(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class gu{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new eTe(t,n);if(r.next==null)return gu.empty;let a=dee(r);r.next&&r.err("Unexpected trailing text");let i=oTe(iTe(a));return lTe(i,r),i}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let a=this;for(let i=n;a&&i<r;i++)a=a.matchType(t.child(i).type);return a}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let a=[this];function i(o,l){let c=o.matchFragment(t,r);if(c&&(!n||c.validEnd))return Ee.from(l.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:f,next:m}=o.next[u];if(!(f.isText||f.hasRequiredAttrs())&&a.indexOf(m)==-1){a.push(m);let p=i(m,l.concat(f));if(p)return p}}return null}return i(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let a=r.shift(),i=a.match;if(i.matchType(t)){let o=[];for(let l=a;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:l,next:c}=i.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!a.type||c.validEnd)&&(r.push({match:l.contentMatch,type:l,via:a}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let a=0;a<r.next.length;a++)t.indexOf(r.next[a].next)==-1&&n(r.next[a].next)}return n(this),t.map((r,a)=>{let i=a+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)i+=(o?", ":"")+r.next[o].type.name+"->"+t.indexOf(r.next[o].next);return i}).join(`
`)}}gu.empty=new gu(!0);class eTe{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function dee(e){let t=[];do t.push(tTe(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function tTe(e){let t=[];do t.push(nTe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function nTe(e){let t=aTe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=rTe(e,t);else break;return t}function DB(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function rTe(e,t){let n=DB(e),r=n;return e.eat(",")&&(e.next!="}"?r=DB(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function sTe(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let a=[];for(let i in n){let o=n[i];o.isInGroup(t)&&a.push(o)}return a.length==0&&e.err("No node type or group '"+t+"' found"),a}function aTe(e){if(e.eat("(")){let t=dee(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=sTe(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function iTe(e){let t=[[]];return a(i(e,0),n()),t;function n(){return t.push([])-1}function r(o,l,c){let u={term:c,to:l};return t[o].push(u),u}function a(o,l){o.forEach(c=>c.to=l)}function i(o,l){if(o.type=="choice")return o.exprs.reduce((c,u)=>c.concat(i(u,l)),[]);if(o.type=="seq")for(let c=0;;c++){let u=i(o.exprs[c],l);if(c==o.exprs.length-1)return u;a(u,l=n())}else if(o.type=="star"){let c=n();return r(l,c),a(i(o.expr,c),c),[r(c)]}else if(o.type=="plus"){let c=n();return a(i(o.expr,l),c),a(i(o.expr,c),c),[r(c)]}else{if(o.type=="opt")return[r(l)].concat(i(o.expr,l));if(o.type=="range"){let c=l;for(let u=0;u<o.min;u++){let f=n();a(i(o.expr,c),f),c=f}if(o.max==-1)a(i(o.expr,c),c);else for(let u=o.min;u<o.max;u++){let f=n();r(c,f),a(i(o.expr,c),f),c=f}return[r(c)]}else{if(o.type=="name")return[r(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function uee(e,t){return t-e}function IB(e,t){let n=[];return r(t),n.sort(uee);function r(a){let i=e[a];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(a);for(let o=0;o<i.length;o++){let{term:l,to:c}=i[o];!l&&n.indexOf(c)==-1&&r(c)}}}function oTe(e){let t=Object.create(null);return n(IB(e,0));function n(r){let a=[];r.forEach(o=>{e[o].forEach(({term:l,to:c})=>{if(!l)return;let u;for(let f=0;f<a.length;f++)a[f][0]==l&&(u=a[f][1]);IB(e,c).forEach(f=>{u||a.push([l,u=[]]),u.indexOf(f)==-1&&u.push(f)})})});let i=t[r.join(",")]=new gu(r.indexOf(e.length-1)>-1);for(let o=0;o<a.length;o++){let l=a[o][1].sort(uee);i.next.push({type:a[o][0],next:t[l.join(",")]||n(l)})}return i}}function lTe(e,t){for(let n=0,r=[e];n<r.length;n++){let a=r[n],i=!a.validEnd,o=[];for(let l=0;l<a.next.length;l++){let{type:c,next:u}=a.next[l];o.push(c.name),i&&!(c.isText||c.hasRequiredAttrs())&&(i=!1),r.indexOf(u)==-1&&r.push(u)}i&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function fee(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function hee(e,t){let n=Object.create(null);for(let r in e){let a=t&&t[r];if(a===void 0){let i=e[r];if(i.hasDefault)a=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=a}return n}function mee(e,t,n,r){for(let a in t)if(!(a in e))throw new RangeError(`Unsupported attribute ${a} for ${n} of type ${a}`);for(let a in e){let i=e[a];i.validate&&i.validate(t[a])}}function pee(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new dTe(e,r,t[r]);return n}let LB=class xee{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=pee(t,r.attrs),this.defaultAttrs=fee(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==gu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:hee(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new $c(this,this.computeAttrs(t),Ee.from(n),Cn.setFrom(r))}createChecked(t=null,n,r){return n=Ee.from(n),this.checkContent(n),new $c(this,this.computeAttrs(t),n,Cn.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=Ee.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let a=this.contentMatch.matchFragment(n),i=a&&a.fillBefore(Ee.empty,!0);return i?new $c(this,t,n.append(i),Cn.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){mee(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Cn.none:t}static compile(t,n){let r=Object.create(null);t.forEach((i,o)=>r[i]=new xee(i,n,o));let a=n.spec.topNode||"doc";if(!r[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function cTe(e,t,n){let r=n.split("|");return a=>{let i=a===null?"null":typeof a;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${i}`)}}class dTe{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?cTe(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class AN{constructor(t,n,r,a){this.name=t,this.rank=n,this.schema=r,this.spec=a,this.attrs=pee(t,a.attrs),this.excluded=null;let i=fee(this.attrs);this.instance=i?new Cn(this,i):null}create(t=null){return!t&&this.instance?this.instance:new Cn(this,hee(this.attrs,t))}static compile(t,n){let r=Object.create(null),a=0;return t.forEach((i,o)=>r[i]=new AN(i,a++,n,o)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){mee(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class gee{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let a in t)n[a]=t[a];n.nodes=ms.from(t.nodes),n.marks=ms.from(t.marks||{}),this.nodes=LB.compile(this.spec.nodes,this),this.marks=AN.compile(this.spec.marks,this);let r=Object.create(null);for(let a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");let i=this.nodes[a],o=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=r[o]||(r[o]=gu.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?$B(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let a in this.marks){let i=this.marks[a],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:$B(this,o.split(" "))}this.nodeFromJSON=a=>$c.fromJSON(this,a),this.markFromJSON=a=>Cn.fromJSON(this,a),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,a){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof LB){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,a)}text(t,n){let r=this.nodes.text;return new Q0(r,r.defaultAttrs,t,Cn.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function $B(e,t){let n=[];for(let r=0;r<t.length;r++){let a=t[r],i=e.marks[a],o=i;if(i)n.push(i);else for(let l in e.marks){let c=e.marks[l];(a=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(a)>-1)&&n.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function uTe(e){return e.tag!=null}function fTe(e){return e.style!=null}class Fc{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(a=>{if(uTe(a))this.tags.push(a);else if(fTe(a)){let i=/[^=]*/.exec(a.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(a)}}),this.normalizeLists=!this.tags.some(a=>{if(!/^(ul|ol)\b/.test(a.tag)||!a.node)return!1;let i=t.nodes[a.node];return i.contentMatch.matchType(i)})}parse(t,n={}){let r=new BB(this,n,!1);return r.addAll(t,Cn.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new BB(this,n,!0);return r.addAll(t,Cn.none,n.from,n.to),ze.maxOpen(r.finish())}matchTag(t,n,r){for(let a=r?this.tags.indexOf(r)+1:0;a<this.tags.length;a++){let i=this.tags[a];if(pTe(t,i.tag)&&(i.namespace===void 0||t.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(t);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(t,n,r,a){for(let i=a?this.styles.indexOf(a)+1:0;i<this.styles.length;i++){let o=this.styles[i],l=o.style;if(!(l.indexOf(t)!=0||o.context&&!r.matchesContext(o.context)||l.length>t.length&&(l.charCodeAt(t.length)!=61||l.slice(t.length+1)!=n))){if(o.getAttrs){let c=o.getAttrs(n);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(t){let n=[];function r(a){let i=a.priority==null?50:a.priority,o=0;for(;o<n.length;o++){let l=n[o];if((l.priority==null?50:l.priority)<i)break}n.splice(o,0,a)}for(let a in t.marks){let i=t.marks[a].spec.parseDOM;i&&i.forEach(o=>{r(o=zB(o)),o.mark||o.ignore||o.clearMark||(o.mark=a)})}for(let a in t.nodes){let i=t.nodes[a].spec.parseDOM;i&&i.forEach(o=>{r(o=zB(o)),o.node||o.ignore||o.mark||(o.node=a)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Fc(t,Fc.schemaRules(t)))}}const yee={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},hTe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},vee={ol:!0,ul:!0},ng=1,LP=2,Nx=4;function FB(e,t,n){return t!=null?(t?ng:0)|(t==="full"?LP:0):e&&e.whitespace=="pre"?ng|LP:n&~Nx}class hb{constructor(t,n,r,a,i,o){this.type=t,this.attrs=n,this.marks=r,this.solid=a,this.options=o,this.content=[],this.activeMarks=Cn.none,this.match=i||(o&Nx?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Ee.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,a;return(a=r.findWrapping(t.type))?(this.match=r,a):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&ng)){let r=this.content[this.content.length-1],a;if(r&&r.isText&&(a=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==a[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-a[0].length))}}let n=Ee.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(Ee.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!yee.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class BB{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let a=n.topNode,i,o=FB(null,n.preserveWhitespace,0)|(r?Nx:0);a?i=new hb(a.type,a.attrs,Cn.none,!0,n.topMatch||a.type.contentMatch,o):r?i=new hb(null,null,Cn.none,!0,null,o):i=new hb(t.schema.topNodeType,null,Cn.none,!0,null,o),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,a=this.top,i=a.options&LP?"full":this.localPreserveWS||(a.options&ng)>0,{schema:o}=this.parser;if(i==="full"||a.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(i)if(i==="full")r=r.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(o.linebreakReplacement.create())){let l=r.split(/\r?\n|\r/);for(let c=0;c<l.length;c++)c&&this.insertNode(o.linebreakReplacement.create(),n,!0),l[c]&&this.insertNode(o.text(l[c]),n,!/\S/.test(l[c]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=a.content[a.content.length-1],c=t.previousSibling;(!l||c&&c.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(o.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let a=this.localPreserveWS,i=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let o=t.nodeName.toLowerCase(),l;vee.hasOwnProperty(o)&&this.parser.normalizeLists&&mTe(t);let c=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(l=this.parser.matchTag(t,this,r));e:if(c?c.ignore:hTe.hasOwnProperty(o))this.findInside(t),this.ignoreFallback(t,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(t=c.skip);let u,f=this.needsBlock;if(yee.hasOwnProperty(o))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),u=!0,i.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let m=c&&c.skip?n:this.readStyles(t,n);m&&this.addAll(t,m),u&&this.sync(i),this.needsBlock=f}else{let u=this.readStyles(t,n);u&&this.addElementByRule(t,c,u,c.consuming===!1?l:void 0)}this.localPreserveWS=a}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let a=0;a<this.parser.matchedStyles.length;a++){let i=this.parser.matchedStyles[a],o=r.getPropertyValue(i);if(o)for(let l=void 0;;){let c=this.parser.matchStyle(i,o,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(u=>!c.clearMark(u)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return n}addElementByRule(t,n,r,a){let i,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let c=this.enter(o,n.attrs||null,r,n.preserveWhitespace);c&&(i=!0,r=c)}else{let c=this.parser.schema.marks[n.mark];r=r.concat(c.create(n.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(t);else if(a)this.addElement(t,r,a);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=t;typeof n.contentElement=="string"?c=t.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(t):n.contentElement&&(c=n.contentElement),this.findAround(t,c,!0),this.addAll(c,r),this.findAround(t,c,!1)}i&&this.sync(l)&&this.open--}addAll(t,n,r,a){let i=r||0;for(let o=r?t.childNodes[r]:t.firstChild,l=a==null?null:t.childNodes[a];o!=l;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o,n);this.findAtPoint(t,i)}findPlace(t,n,r){let a,i;for(let o=this.open,l=0;o>=0;o--){let c=this.nodes[o],u=c.findWrapping(t);if(u&&(!a||a.length>u.length+l)&&(a=u,i=c,!u.length))break;if(c.solid){if(r)break;l+=2}}if(!a)return null;this.sync(i);for(let o=0;o<a.length;o++)n=this.enterInner(a[o],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let a=this.findPlace(t,n,r);if(a){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(t.type));let o=Cn.none;for(let l of a.concat(t.marks))(i.type?i.type.allowsMarkType(l.type):qB(l.type,t.type))&&(o=l.addToSet(o));return i.content.push(t.mark(o)),!0}return!1}enter(t,n,r,a){let i=this.findPlace(t.create(n),r,!1);return i&&(i=this.enterInner(t,n,r,!0,a)),i}enterInner(t,n,r,a=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(t);let l=FB(t,i,o.options);o.options&Nx&&o.content.length==0&&(l|=Nx);let c=Cn.none;return r=r.filter(u=>(o.type?o.type.allowsMarkType(u.type):qB(u.type,t))?(c=u.addToSet(c),!1):!0),this.nodes.push(new hb(t,n,c,a,null,l)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=ng)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let a=r.length-1;a>=0;a--)t+=r[a].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&t.nodeType==1&&t.contains(this.find[a].node)&&n.compareDocumentPosition(this.find[a].node)&(r?2:4)&&(this.find[a].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,a=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(a?0:1),o=(l,c)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;c>=i;c--)if(o(l-1,c))return!0;return!1}else{let f=c>0||c==0&&a?this.nodes[c].type:r&&c>=i?r.node(c-i).type:null;if(!f||f.name!=u&&!f.isInGroup(u))return!1;c--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function mTe(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&vee.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function pTe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function zB(e){let t={};for(let n in e)t[n]=e[n];return t}function qB(e,t){let n=t.schema.nodes;for(let r in n){let a=n[r];if(!a.allowsMarkType(e))continue;let i=[],o=l=>{i.push(l);for(let c=0;c<l.edgeCount;c++){let{type:u,next:f}=l.edge(c);if(u==t||i.indexOf(f)<0&&o(f))return!0}};if(o(a.contentMatch))return!0}}class Iu{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=$C(n).createDocumentFragment());let a=r,i=[];return t.forEach(o=>{if(i.length||o.marks.length){let l=0,c=0;for(;l<i.length&&c<o.marks.length;){let u=o.marks[c];if(!this.marks[u.type.name]){c++;continue}if(!u.eq(i[l][0])||u.type.spec.spanning===!1)break;l++,c++}for(;l<i.length;)a=i.pop()[1];for(;c<o.marks.length;){let u=o.marks[c++],f=this.serializeMark(u,o.isInline,n);f&&(i.push([u,a]),a.appendChild(f.dom),a=f.contentDOM||f.dom)}}a.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:a}=i0($C(n),this.nodes[t.type.name](t),null,t.attrs);if(a){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,a)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let a=t.marks.length-1;a>=0;a--){let i=this.serializeMark(t.marks[a],t.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(t,n,r={}){let a=this.marks[t.type.name];return a&&i0($C(r),a(t,n),null,t.attrs)}static renderSpec(t,n,r=null,a){return i0(t,n,r,a)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Iu(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=UB(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return UB(t.marks)}}function UB(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function $C(e){return e.document||window.document}const VB=new WeakMap;function xTe(e){let t=VB.get(e);return t===void 0&&VB.set(e,t=gTe(e)),t}function gTe(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let a=0;a<r.length;a++)n(r[a]);else for(let a in r)n(r[a])}return n(e),t}function i0(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let a=t[0],i;if(typeof a!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=xTe(r))&&i.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=a.indexOf(" ");o>0&&(n=a.slice(0,o),a=a.slice(o+1));let l,c=n?e.createElementNS(n,a):e.createElement(a),u=t[1],f=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){f=2;for(let m in u)if(u[m]!=null){let p=m.indexOf(" ");p>0?c.setAttributeNS(m.slice(0,p),m.slice(p+1),u[m]):m=="style"&&c.style?c.style.cssText=u[m]:c.setAttribute(m,u[m])}}for(let m=f;m<t.length;m++){let p=t[m];if(p===0){if(m<t.length-1||m>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:g,contentDOM:v}=i0(e,p,n,r);if(c.appendChild(g),v){if(l)throw new RangeError("Multiple content holes");l=v}}}return{dom:c,contentDOM:l}}const bee=65535,jee=Math.pow(2,16);function yTe(e,t){return e+t*jee}function HB(e){return e&bee}function vTe(e){return(e-(e&bee))/jee}const wee=1,Nee=2,o0=4,See=8;class $P{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&See)>0}get deletedBefore(){return(this.delInfo&(wee|o0))>0}get deletedAfter(){return(this.delInfo&(Nee|o0))>0}get deletedAcross(){return(this.delInfo&o0)>0}}class Ma{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Ma.empty)return Ma.empty}recover(t){let n=0,r=HB(t);if(!this.inverted)for(let a=0;a<r;a++)n+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[r*3]+n+vTe(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let a=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?a:0);if(c>t)break;let u=this.ranges[l+i],f=this.ranges[l+o],m=c+u;if(t<=m){let p=u?t==c?-1:t==m?1:n:n,g=c+a+(p<0?0:f);if(r)return g;let v=t==(n<0?c:m)?null:yTe(l/3,t-c),y=t==c?Nee:t==m?wee:o0;return(n<0?t!=c:t!=m)&&(y|=See),new $P(g,y,v)}a+=f-u}return r?t+a:new $P(t+a,0,null)}touches(t,n){let r=0,a=HB(n),i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>t)break;let u=this.ranges[l+i],f=c+u;if(t<=f&&l==a*3)return!0;r+=this.ranges[l+o]-u}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let a=0,i=0;a<this.ranges.length;a+=3){let o=this.ranges[a],l=o-(this.inverted?i:0),c=o+(this.inverted?0:i),u=this.ranges[a+n],f=this.ranges[a+r];t(l,l+u,c,c+f),i+=f-u}}invert(){return new Ma(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Ma.empty:new Ma(t<0?[0,-t,0]:[0,0,t])}}Ma.empty=new Ma([]);class rg{constructor(t,n,r=0,a=t?t.length:0){this.mirror=n,this.from=r,this.to=a,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new rg(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let a=t.getMirror(n);this.appendMap(t._maps[n],a!=null&&a<n?r+a:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let a=t.getMirror(n);this.appendMap(t._maps[n].invert(),a!=null&&a>n?r-a-1:void 0)}}invert(){let t=new rg;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let a=0;for(let i=this.from;i<this.to;i++){let o=this._maps[i],l=o.mapResult(t,n);if(l.recover!=null){let c=this.getMirror(i);if(c!=null&&c>i&&c<this.to){i=c,t=this._maps[c].recover(l.recover);continue}}a|=l.delInfo,t=l.pos}return r?t:new $P(t,a,null)}}const FC=Object.create(null);let Ms=class{getMap(){return Ma.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=FC[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in FC)throw new RangeError("Duplicate use of step JSON ID "+t);return FC[t]=n,n.prototype.jsonID=t,n}};class Er{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Er(t,null)}static fail(t){return new Er(null,t)}static fromReplace(t,n,r,a){try{return Er.ok(t.replace(n,r,a))}catch(i){if(i instanceof G0)return Er.fail(i.message);throw i}}}function IR(e,t,n){let r=[];for(let a=0;a<e.childCount;a++){let i=e.child(a);i.content.size&&(i=i.copy(IR(i.content,t,i))),i.isInline&&(i=t(i,n,a)),r.push(i)}return Ee.fromArray(r)}class Rc extends Ms{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),a=r.node(r.sharedDepth(this.to)),i=new ze(IR(n.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),a),n.openStart,n.openEnd);return Er.fromReplace(t,this.from,this.to,i)}invert(){return new Ki(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Rc(n.pos,r.pos,this.mark)}merge(t){return t instanceof Rc&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Rc(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Rc(n.from,n.to,t.markFromJSON(n.mark))}}Ms.jsonID("addMark",Rc);class Ki extends Ms{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new ze(IR(n.content,a=>a.mark(this.mark.removeFromSet(a.marks)),t),n.openStart,n.openEnd);return Er.fromReplace(t,this.from,this.to,r)}invert(){return new Rc(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ki(n.pos,r.pos,this.mark)}merge(t){return t instanceof Ki&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ki(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ki(n.from,n.to,t.markFromJSON(n.mark))}}Ms.jsonID("removeMark",Ki);class Dc extends Ms{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Er.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Er.fromReplace(t,this.pos,this.pos+1,new ze(Ee.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let a=0;a<n.marks.length;a++)if(!n.marks[a].isInSet(r))return new Dc(this.pos,n.marks[a]);return new Dc(this.pos,this.mark)}}return new yu(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Dc(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Dc(n.pos,t.markFromJSON(n.mark))}}Ms.jsonID("addNodeMark",Dc);class yu extends Ms{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Er.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Er.fromReplace(t,this.pos,this.pos+1,new ze(Ee.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Dc(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new yu(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new yu(n.pos,t.markFromJSON(n.mark))}}Ms.jsonID("removeNodeMark",yu);class Yr extends Ms{constructor(t,n,r,a=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=a}apply(t){return this.structure&&FP(t,this.from,this.to)?Er.fail("Structure replace would overwrite content"):Er.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Ma([this.from,this.to-this.from,this.slice.size])}invert(t){return new Yr(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Yr(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof Yr)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?ze.empty:new ze(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Yr(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?ze.empty:new ze(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Yr(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Yr(n.from,n.to,ze.fromJSON(t,n.slice),!!n.structure)}}Ms.jsonID("replace",Yr);class Zr extends Ms{constructor(t,n,r,a,i,o,l=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=a,this.slice=i,this.insert=o,this.structure=l}apply(t){if(this.structure&&(FP(t,this.from,this.gapFrom)||FP(t,this.gapTo,this.to)))return Er.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Er.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Er.fromReplace(t,this.from,this.to,r):Er.fail("Content does not fit in gap")}getMap(){return new Ma([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Zr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),a=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||a<n.pos||i>r.pos?null:new Zr(n.pos,r.pos,a,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Zr(n.from,n.to,n.gapFrom,n.gapTo,ze.fromJSON(t,n.slice),n.insert,!!n.structure)}}Ms.jsonID("replaceAround",Zr);function FP(e,t,n){let r=e.resolve(t),a=n-t,i=r.depth;for(;a>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,a--;if(a>0){let o=r.node(i).maybeChild(r.indexAfter(i));for(;a>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,a--}}return!1}function bTe(e,t,n,r){let a=[],i=[],o,l;e.doc.nodesBetween(t,n,(c,u,f)=>{if(!c.isInline)return;let m=c.marks;if(!r.isInSet(m)&&f.type.allowsMarkType(r.type)){let p=Math.max(u,t),g=Math.min(u+c.nodeSize,n),v=r.addToSet(m);for(let y=0;y<m.length;y++)m[y].isInSet(v)||(o&&o.to==p&&o.mark.eq(m[y])?o.to=g:a.push(o=new Ki(p,g,m[y])));l&&l.to==p?l.to=g:i.push(l=new Rc(p,g,r))}}),a.forEach(c=>e.step(c)),i.forEach(c=>e.step(c))}function jTe(e,t,n,r){let a=[],i=0;e.doc.nodesBetween(t,n,(o,l)=>{if(!o.isInline)return;i++;let c=null;if(r instanceof AN){let u=o.marks,f;for(;f=r.isInSet(u);)(c||(c=[])).push(f),u=f.removeFromSet(u)}else r?r.isInSet(o.marks)&&(c=[r]):c=o.marks;if(c&&c.length){let u=Math.min(l+o.nodeSize,n);for(let f=0;f<c.length;f++){let m=c[f],p;for(let g=0;g<a.length;g++){let v=a[g];v.step==i-1&&m.eq(a[g].style)&&(p=v)}p?(p.to=u,p.step=i):a.push({style:m,from:Math.max(l,t),to:u,step:i})}}}),a.forEach(o=>e.step(new Ki(o.from,o.to,o.style)))}function LR(e,t,n,r=n.contentMatch,a=!0){let i=e.doc.nodeAt(t),o=[],l=t+1;for(let c=0;c<i.childCount;c++){let u=i.child(c),f=l+u.nodeSize,m=r.matchType(u.type);if(!m)o.push(new Yr(l,f,ze.empty));else{r=m;for(let p=0;p<u.marks.length;p++)n.allowsMarkType(u.marks[p].type)||e.step(new Ki(l,f,u.marks[p]));if(a&&u.isText&&n.whitespace!="pre"){let p,g=/\r?\n|\r/g,v;for(;p=g.exec(u.text);)v||(v=new ze(Ee.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),o.push(new Yr(l+p.index,l+p.index+p[0].length,v))}}l=f}if(!r.validEnd){let c=r.fillBefore(Ee.empty,!0);e.replace(l,l,new ze(c,0,0))}for(let c=o.length-1;c>=0;c--)e.step(o[c])}function wTe(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function ym(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth,a=0,i=0;;--r){let o=e.$from.node(r),l=e.$from.index(r)+a,c=e.$to.indexAfter(r)-i;if(r<e.depth&&o.canReplace(l,c,n))return r;if(r==0||o.type.spec.isolating||!wTe(o,l,c))break;l&&(a=1),c<o.childCount&&(i=1)}return null}function NTe(e,t,n){let{$from:r,$to:a,depth:i}=t,o=r.before(i+1),l=a.after(i+1),c=o,u=l,f=Ee.empty,m=0;for(let v=i,y=!1;v>n;v--)y||r.index(v)>0?(y=!0,f=Ee.from(r.node(v).copy(f)),m++):c--;let p=Ee.empty,g=0;for(let v=i,y=!1;v>n;v--)y||a.after(v+1)<a.end(v)?(y=!0,p=Ee.from(a.node(v).copy(p)),g++):u++;e.step(new Zr(c,u,o,l,new ze(f.append(p),m,g),f.size-m,!0))}function $R(e,t,n=null,r=e){let a=STe(e,t),i=a&&CTe(r,t);return i?a.map(KB).concat({type:t,attrs:n}).concat(i.map(KB)):null}function KB(e){return{type:e,attrs:null}}function STe(e,t){let{parent:n,startIndex:r,endIndex:a}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let o=i.length?i[0]:t;return n.canReplaceWith(r,a,o)?i:null}function CTe(e,t){let{parent:n,startIndex:r,endIndex:a}=e,i=n.child(r),o=t.contentMatch.findWrapping(i.type);if(!o)return null;let c=(o.length?o[o.length-1]:t).contentMatch;for(let u=r;c&&u<a;u++)c=c.matchType(n.child(u).type);return!c||!c.validEnd?null:o}function kTe(e,t,n){let r=Ee.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let l=n[o].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Ee.from(n[o].type.create(n[o].attrs,r))}let a=t.start,i=t.end;e.step(new Zr(a,i,a,i,new ze(r,0,0),n.length,!0))}function TTe(e,t,n,r,a){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,(o,l)=>{let c=typeof a=="function"?a(o):a;if(o.isTextblock&&!o.hasMarkup(r,c)&&ATe(e.doc,e.mapping.slice(i).map(l),r)){let u=null;if(r.schema.linebreakReplacement){let g=r.whitespace=="pre",v=!!r.contentMatch.matchType(r.schema.linebreakReplacement);g&&!v?u=!1:!g&&v&&(u=!0)}u===!1&&kee(e,o,l,i),LR(e,e.mapping.slice(i).map(l,1),r,void 0,u===null);let f=e.mapping.slice(i),m=f.map(l,1),p=f.map(l+o.nodeSize,1);return e.step(new Zr(m,p,m+1,p-1,new ze(Ee.from(r.create(c,null,o.marks)),0,0),1,!0)),u===!0&&Cee(e,o,l,i),!1}})}function Cee(e,t,n,r){t.forEach((a,i)=>{if(a.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(a.text);){let c=e.mapping.slice(r).map(n+1+i+o.index);e.replaceWith(c,c+1,t.type.schema.linebreakReplacement.create())}}})}function kee(e,t,n,r){t.forEach((a,i)=>{if(a.type==a.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+i);e.replaceWith(o,o+1,t.type.schema.text(`
`))}})}function ATe(e,t,n){let r=e.resolve(t),a=r.index();return r.parent.canReplaceWith(a,a+1,n)}function ETe(e,t,n,r,a){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let o=n.create(r,null,a||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,o);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Zr(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new ze(Ee.from(o),0,0),1,!0))}function Pl(e,t,n=1,r){let a=e.resolve(t),i=a.depth-n,o=r&&r[r.length-1]||a.parent;if(i<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!o.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let u=a.depth-1,f=n-2;u>i;u--,f--){let m=a.node(u),p=a.index(u);if(m.type.spec.isolating)return!1;let g=m.content.cutByIndex(p,m.childCount),v=r&&r[f+1];v&&(g=g.replaceChild(0,v.type.create(v.attrs)));let y=r&&r[f]||m;if(!m.canReplace(p+1,m.childCount)||!y.type.validContent(g))return!1}let l=a.indexAfter(i),c=r&&r[0];return a.node(i).canReplaceWith(l,l,c?c.type:a.node(i+1).type)}function OTe(e,t,n=1,r){let a=e.doc.resolve(t),i=Ee.empty,o=Ee.empty;for(let l=a.depth,c=a.depth-n,u=n-1;l>c;l--,u--){i=Ee.from(a.node(l).copy(i));let f=r&&r[u];o=Ee.from(f?f.type.create(f.attrs,o):a.node(l).copy(o))}e.step(new Yr(t,t,new ze(i.append(o),n,n),!0))}function rd(e,t){let n=e.resolve(t),r=n.index();return Tee(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function PTe(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let a=0;a<t.childCount;a++){let i=t.child(a),o=i.type==r?e.type.schema.nodes.text:i.type;if(n=n.matchType(o),!n||!e.type.allowsMarks(i.marks))return!1}return n.validEnd}function Tee(e,t){return!!(e&&t&&!e.isLeaf&&PTe(e,t))}function EN(e,t,n=-1){let r=e.resolve(t);for(let a=r.depth;;a--){let i,o,l=r.index(a);if(a==r.depth?(i=r.nodeBefore,o=r.nodeAfter):n>0?(i=r.node(a+1),l++,o=r.node(a).maybeChild(l)):(i=r.node(a).maybeChild(l-1),o=r.node(a+1)),i&&!i.isTextblock&&Tee(i,o)&&r.node(a).canReplace(l,l+1))return t;if(a==0)break;t=n<0?r.before(a):r.after(a)}}function MTe(e,t,n){let r=null,{linebreakReplacement:a}=e.doc.type.schema,i=e.doc.resolve(t-n),o=i.node().type;if(a&&o.inlineContent){let f=o.whitespace=="pre",m=!!o.contentMatch.matchType(a);f&&!m?r=!1:!f&&m&&(r=!0)}let l=e.steps.length;if(r===!1){let f=e.doc.resolve(t+n);kee(e,f.node(),f.before(),l)}o.inlineContent&&LR(e,t+n-1,o,i.node().contentMatchAt(i.index()),r==null);let c=e.mapping.slice(l),u=c.map(t-n);if(e.step(new Yr(u,c.map(t+n,-1),ze.empty,!0)),r===!0){let f=e.doc.resolve(u);Cee(e,f.node(),f.before(),e.steps.length)}return e}function _Te(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let a=r.depth-1;a>=0;a--){let i=r.index(a);if(r.node(a).canReplaceWith(i,i,n))return r.before(a+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let a=r.depth-1;a>=0;a--){let i=r.indexAfter(a);if(r.node(a).canReplaceWith(i,i,n))return r.after(a+1);if(i<r.node(a).childCount)return null}return null}function Aee(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let a=n.content;for(let i=0;i<n.openStart;i++)a=a.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let o=r.depth;o>=0;o--){let l=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,c=r.index(o)+(l>0?1:0),u=r.node(o),f=!1;if(i==1)f=u.canReplace(c,c,a);else{let m=u.contentMatchAt(c).findWrapping(a.firstChild.type);f=m&&u.canReplaceWith(c,c,m[0])}if(f)return l==0?r.pos:l<0?r.before(o+1):r.after(o+1)}return null}function ON(e,t,n=t,r=ze.empty){if(t==n&&!r.size)return null;let a=e.resolve(t),i=e.resolve(n);return Eee(a,i,r)?new Yr(t,n,r):new RTe(a,i,r).fit()}function Eee(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class RTe{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Ee.empty;for(let a=0;a<=t.depth;a++){let i=t.node(a);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(a))})}for(let a=t.depth;a>0;a--)this.placed=Ee.from(t.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,a=this.close(t<0?this.$to:r.doc.resolve(t));if(!a)return null;let i=this.placed,o=r.depth,l=a.depth;for(;o&&l&&i.childCount==1;)i=i.firstChild.content,o--,l--;let c=new ze(i,o,l);return t>-1?new Zr(r.pos,t,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new Yr(r.pos,a.pos,c):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,a=this.unplaced.openEnd;r<t;r++){let i=n.firstChild;if(n.childCount>1&&(a=0),i.type.spec.isolating&&a<=r){t=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let a,i=null;r?(i=BC(this.unplaced.content,r-1).firstChild,a=i.content):a=this.unplaced.content;let o=a.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:u}=this.frontier[l],f,m=null;if(n==1&&(o?u.matchType(o.type)||(m=u.fillBefore(Ee.from(o),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:l,parent:i,inject:m};if(n==2&&o&&(f=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:l,parent:i,wrap:f};if(i&&u.matchType(i.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,a=BC(t,n);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new ze(t,n+1,Math.max(r,a.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,a=BC(t,n);if(a.childCount<=1&&n>0){let i=t.size-n<=n+a.size;this.unplaced=new ze(rx(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new ze(rx(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:a,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let y=0;y<i.length;y++)this.openFrontierNode(i[y]);let o=this.unplaced,l=r?r.content:o.content,c=o.openStart-t,u=0,f=[],{match:m,type:p}=this.frontier[n];if(a){for(let y=0;y<a.childCount;y++)f.push(a.child(y));m=m.matchFragment(a)}let g=l.size+t-(o.content.size-o.openEnd);for(;u<l.childCount;){let y=l.child(u),w=m.matchType(y.type);if(!w)break;u++,(u>1||c==0||y.content.size)&&(m=w,f.push(Oee(y.mark(p.allowedMarks(y.marks)),u==1?c:0,u==l.childCount?g:-1)))}let v=u==l.childCount;v||(g=-1),this.placed=sx(this.placed,n,Ee.from(f)),this.frontier[n].match=m,v&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,w=l;y<g;y++){let N=w.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),w=N.content}this.unplaced=v?t==0?ze.empty:new ze(rx(o.content,t-1,1),t-1,g<0?o.openEnd:t-1):new ze(rx(o.content,t,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!zC(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,a=this.$to.after(r);for(;r>1&&a==this.$to.end(--r);)++a;return a}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:a}=this.frontier[n],i=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),o=zC(t,n,a,r,i);if(o){for(let l=n-1;l>=0;l--){let{match:c,type:u}=this.frontier[l],f=zC(t,l,u,c,!0);if(!f||f.childCount)continue e}return{depth:n,fit:o,move:i?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=sx(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let a=t.node(r),i=a.type.contentMatch.fillBefore(a.content,!0,t.index(r));this.openFrontierNode(a.type,a.attrs,i)}return t}openFrontierNode(t,n=null,r){let a=this.frontier[this.depth];a.match=a.match.matchType(t),this.placed=sx(this.placed,this.depth,Ee.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Ee.empty,!0);n.childCount&&(this.placed=sx(this.placed,this.frontier.length,n))}}function rx(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(rx(e.firstChild.content,t-1,n)))}function sx(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(sx(e.lastChild.content,t-1,n)))}function BC(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function Oee(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,Oee(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Ee.empty,!0)))),e.copy(r)}function zC(e,t,n,r,a){let i=e.node(t),o=a?e.indexAfter(t):e.index(t);if(o==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,o);return l&&!DTe(n,i.content,o)?l:null}function DTe(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function ITe(e){return e.spec.defining||e.spec.definingForContent}function LTe(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let a=e.doc.resolve(t),i=e.doc.resolve(n);if(Eee(a,i,r))return e.step(new Yr(t,n,r));let o=Mee(a,i);o[o.length-1]==0&&o.pop();let l=-(a.depth+1);o.unshift(l);for(let p=a.depth,g=a.pos-1;p>0;p--,g--){let v=a.node(p).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;o.indexOf(p)>-1?l=p:a.before(p)==g&&o.splice(1,0,-p)}let c=o.indexOf(l),u=[],f=r.openStart;for(let p=r.content,g=0;;g++){let v=p.firstChild;if(u.push(v),g==r.openStart)break;p=v.content}for(let p=f-1;p>=0;p--){let g=u[p],v=ITe(g.type);if(v&&!g.sameMarkup(a.node(Math.abs(l)-1)))f=p;else if(v||!g.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let g=(p+f+1)%(r.openStart+1),v=u[g];if(v)for(let y=0;y<o.length;y++){let w=o[(y+c)%o.length],N=!0;w<0&&(N=!1,w=-w);let A=a.node(w-1),T=a.index(w-1);if(A.canReplaceWith(T,T,v.type,v.marks))return e.replace(a.before(w),N?i.after(w):n,new ze(Pee(r.content,0,r.openStart,g),g,r.openEnd))}}let m=e.steps.length;for(let p=o.length-1;p>=0&&(e.replace(t,n,r),!(e.steps.length>m));p--){let g=o[p];g<0||(t=a.before(g),n=i.after(g))}}function Pee(e,t,n,r,a){if(t<n){let i=e.firstChild;e=e.replaceChild(0,i.copy(Pee(i.content,t+1,n,r,i)))}if(t>r){let i=a.contentMatchAt(0),o=i.fillBefore(e).append(e);e=o.append(i.matchFragment(o).fillBefore(Ee.empty,!0))}return e}function $Te(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let a=_Te(e.doc,t,r.type);a!=null&&(t=n=a)}e.replaceRange(t,n,new ze(Ee.from(r),0,0))}function FTe(e,t,n){let r=e.doc.resolve(t),a=e.doc.resolve(n),i=Mee(r,a);for(let o=0;o<i.length;o++){let l=i[o],c=o==i.length-1;if(c&&l==0||r.node(l).type.contentMatch.validEnd)return e.delete(r.start(l),a.end(l));if(l>0&&(c||r.node(l-1).canReplace(r.index(l-1),a.indexAfter(l-1))))return e.delete(r.before(l),a.after(l))}for(let o=1;o<=r.depth&&o<=a.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&a.end(o)-n!=a.depth-o&&r.start(o-1)==a.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),a.index(o-1)))return e.delete(r.before(o),n);e.delete(t,n)}function Mee(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let a=r;a>=0;a--){let i=e.start(a);if(i<e.pos-(e.depth-a)||t.end(a)>t.pos+(t.depth-a)||e.node(a).type.spec.isolating||t.node(a).type.spec.isolating)break;(i==t.start(a)||a==e.depth&&a==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&a&&t.start(a-1)==i-1)&&n.push(a)}return n}class ih extends Ms{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return Er.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let a=n.type.create(r,null,n.marks);return Er.fromReplace(t,this.pos,this.pos+1,new ze(Ee.from(a),0,n.isLeaf?0:1))}getMap(){return Ma.empty}invert(t){return new ih(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new ih(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ih(n.pos,n.attr,n.value)}}Ms.jsonID("attr",ih);class sg extends Ms{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let a in t.attrs)n[a]=t.attrs[a];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return Er.ok(r)}getMap(){return Ma.empty}invert(t){return new sg(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new sg(n.attr,n.value)}}Ms.jsonID("docAttr",sg);let Nh=class extends Error{};Nh=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Nh.prototype=Object.create(Error.prototype);Nh.prototype.constructor=Nh;Nh.prototype.name="TransformError";class _ee{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new rg}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Nh(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}changedRange(){let t=1e9,n=-1e9;for(let r=0;r<this.mapping.maps.length;r++){let a=this.mapping.maps[r];r&&(t=a.map(t,1),n=a.map(n,-1)),a.forEach((i,o,l,c)=>{t=Math.min(t,l),n=Math.max(n,c)})}return t==1e9?null:{from:t,to:n}}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=ze.empty){let a=ON(this.doc,t,n,r);return a&&this.step(a),this}replaceWith(t,n,r){return this.replace(t,n,new ze(Ee.from(r),0,0))}delete(t,n){return this.replace(t,n,ze.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return LTe(this,t,n,r),this}replaceRangeWith(t,n,r){return $Te(this,t,n,r),this}deleteRange(t,n){return FTe(this,t,n),this}lift(t,n){return NTe(this,t,n),this}join(t,n=1){return MTe(this,t,n),this}wrap(t,n){return kTe(this,t,n),this}setBlockType(t,n=t,r,a=null){return TTe(this,t,n,r,a),this}setNodeMarkup(t,n,r=null,a){return ETe(this,t,n,r,a),this}setNodeAttribute(t,n,r){return this.step(new ih(t,n,r)),this}setDocAttribute(t,n){return this.step(new sg(t,n)),this}addNodeMark(t,n){return this.step(new Dc(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof Cn)n.isInSet(r.marks)&&this.step(new yu(t,n));else{let a=r.marks,i,o=[];for(;i=n.isInSet(a);)o.push(new yu(t,i)),a=i.removeFromSet(a);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(t,n=1,r){return OTe(this,t,n,r),this}addMark(t,n,r){return bTe(this,t,n,r),this}removeMark(t,n,r){return jTe(this,t,n,r),this}clearIncompatible(t,n,r){return LR(this,t,n,r),this}}const qC=Object.create(null);class pt{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new Ree(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=ze.empty){let r=n.content.lastChild,a=null;for(let l=0;l<n.openEnd;l++)a=r,r=r.lastChild;let i=t.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:c,$to:u}=o[l],f=t.mapping.slice(i);t.replaceRange(f.map(c.pos),f.map(u.pos),l?ze.empty:n),l==0&&YB(t,i,(r?r.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,a=this.ranges;for(let i=0;i<a.length;i++){let{$from:o,$to:l}=a[i],c=t.mapping.slice(r),u=c.map(o.pos),f=c.map(l.pos);i?t.deleteRange(u,f):(t.replaceRangeWith(u,f,n),YB(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let a=t.parent.inlineContent?new yt(t):$f(t.node(0),t.parent,t.pos,t.index(),n,r);if(a)return a;for(let i=t.depth-1;i>=0;i--){let o=n<0?$f(t.node(0),t.node(i),t.before(i+1),t.index(i),n,r):$f(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,n,r);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Fa(t.node(0))}static atStart(t){return $f(t,t,0,0,1)||new Fa(t)}static atEnd(t){return $f(t,t,t.content.size,t.childCount,-1)||new Fa(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=qC[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in qC)throw new RangeError("Duplicate use of selection JSON ID "+t);return qC[t]=n,n.prototype.jsonID=t,n}getBookmark(){return yt.between(this.$anchor,this.$head).getBookmark()}}pt.prototype.visible=!0;class Ree{constructor(t,n){this.$from=t,this.$to=n}}let WB=!1;function GB(e){!WB&&!e.parent.inlineContent&&(WB=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class yt extends pt{constructor(t,n=t){GB(t),GB(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return pt.near(r);let a=t.resolve(n.map(this.anchor));return new yt(a.parent.inlineContent?a:r,r)}replace(t,n=ze.empty){if(super.replace(t,n),n==ze.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof yt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new PN(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new yt(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let a=t.resolve(n);return new this(a,r==n?a:t.resolve(r))}static between(t,n,r){let a=t.pos-n.pos;if((!r||a)&&(r=a>=0?1:-1),!n.parent.inlineContent){let i=pt.findFrom(n,r,!0)||pt.findFrom(n,-r,!0);if(i)n=i.$head;else return pt.near(n,r)}return t.parent.inlineContent||(a==0?t=n:(t=(pt.findFrom(t,-r,!0)||pt.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=a<0&&(t=n))),new yt(t,n)}}pt.jsonID("text",yt);class PN{constructor(t,n){this.anchor=t,this.head=n}map(t){return new PN(t.map(this.anchor),t.map(this.head))}resolve(t){return yt.between(t.resolve(this.anchor),t.resolve(this.head))}}class tt extends pt{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:a}=n.mapResult(this.anchor),i=t.resolve(a);return r?pt.near(i):new tt(i)}content(){return new ze(Ee.from(this.node),0,0)}eq(t){return t instanceof tt&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new FR(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new tt(t.resolve(n.anchor))}static create(t,n){return new tt(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}tt.prototype.visible=!1;pt.jsonID("node",tt);class FR{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new PN(r,r):new FR(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&tt.isSelectable(r)?new tt(n):pt.near(n)}}class Fa extends pt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=ze.empty){if(n==ze.empty){t.delete(0,t.doc.content.size);let r=pt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Fa(t)}map(t){return new Fa(t)}eq(t){return t instanceof Fa}getBookmark(){return BTe}}pt.jsonID("all",Fa);const BTe={map(){return this},resolve(e){return new Fa(e)}};function $f(e,t,n,r,a,i=!1){if(t.inlineContent)return yt.create(e,n);for(let o=r-(a>0?0:1);a>0?o<t.childCount:o>=0;o+=a){let l=t.child(o);if(l.isAtom){if(!i&&tt.isSelectable(l))return tt.create(e,n-(a<0?l.nodeSize:0))}else{let c=$f(e,l,n+a,a<0?l.childCount:0,a,i);if(c)return c}n+=l.nodeSize*a}return null}function YB(e,t,n){let r=e.steps.length-1;if(r<t)return;let a=e.steps[r];if(!(a instanceof Yr||a instanceof Zr))return;let i=e.mapping.maps[r],o;i.forEach((l,c,u,f)=>{o==null&&(o=f)}),e.setSelection(pt.near(e.doc.resolve(o),n))}const XB=1,mb=2,QB=4;class zTe extends _ee{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|XB)&~mb,this.storedMarks=null,this}get selectionSet(){return(this.updated&XB)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=mb,this}ensureMarks(t){return Cn.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&mb)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~mb,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Cn.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let a=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(a.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),!t)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let o=this.doc.resolve(n);i=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,a.text(t,i)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection(pt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=QB,this}get scrolledIntoView(){return(this.updated&QB)>0}}function JB(e,t){return!t||!e?e:e.bind(t)}class ax{constructor(t,n,r){this.name=t,this.init=JB(n.init,r),this.apply=JB(n.apply,r)}}const qTe=[new ax("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new ax("selection",{init(e,t){return e.selection||pt.atStart(t.doc)},apply(e){return e.selection}}),new ax("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new ax("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class UC{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=qTe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ax(r.key,r.spec.state,r))})}}class Wf{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let a=this.config.plugins[r];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),a=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let c=a?a[o].n:0,u=a?a[o].state:this,f=c<n.length&&l.spec.appendTransaction.call(l,c?n.slice(c):n,u,r);if(f&&r.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",t),!a){a=[];for(let m=0;m<this.config.plugins.length;m++)a.push(m<o?{state:r,n:n.length}:{state:this,n:0})}n.push(f),r=r.applyInner(f),i=!0}a&&(a[o]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Wf(this.config),r=this.config.fields;for(let a=0;a<r.length;a++){let i=r[a];n[i.name]=i.apply(t,this[i.name],this,n)}return n}get tr(){return new zTe(this)}static create(t){let n=new UC(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Wf(n);for(let a=0;a<n.fields.length;a++)r[n.fields[a].name]=n.fields[a].init(t,r);return r}reconfigure(t){let n=new UC(this.schema,t.plugins),r=n.fields,a=new Wf(n);for(let i=0;i<r.length;i++){let o=r[i].name;a[o]=this.hasOwnProperty(o)?this[o]:r[i].init(t,a)}return a}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let a=t[r],i=a.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(a,this[a.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let a=new UC(t.schema,t.plugins),i=new Wf(a);return a.fields.forEach(o=>{if(o.name=="doc")i.doc=$c.fromJSON(t.schema,n.doc);else if(o.name=="selection")i.selection=pt.fromJSON(i.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let l in r){let c=r[l],u=c.spec.state;if(c.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[o.name]=u.fromJSON.call(c,t,n[l],i);return}}i[o.name]=o.init(t,i)}}),i}}function Dee(e,t,n){for(let r in e){let a=e[r];a instanceof Function?a=a.bind(t):r=="handleDOMEvents"&&(a=Dee(a,t,{})),n[r]=a}return n}class Bn{constructor(t){this.spec=t,this.props={},t.props&&Dee(t.props,this,this.props),this.key=t.key?t.key.key:Iee("plugin")}getState(t){return t[this.key]}}const VC=Object.create(null);function Iee(e){return e in VC?e+"$"+ ++VC[e]:(VC[e]=0,e+"$")}class Qn{constructor(t="key"){this.key=Iee(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const BR=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function Lee(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const $ee=(e,t,n)=>{let r=Lee(e,n);if(!r)return!1;let a=zR(r);if(!a){let o=r.blockRange(),l=o&&ym(o);return l==null?!1:(t&&t(e.tr.lift(o,l).scrollIntoView()),!0)}let i=a.nodeBefore;if(Wee(e,a,t,-1))return!0;if(r.parent.content.size==0&&(Sh(i,"end")||tt.isSelectable(i)))for(let o=r.depth;;o--){let l=ON(e.doc,r.before(o),r.after(o),ze.empty);if(l&&l.slice.size<l.to-l.from){if(t){let c=e.tr.step(l);c.setSelection(Sh(i,"end")?pt.findFrom(c.doc.resolve(c.mapping.map(a.pos,-1)),-1):tt.create(c.doc,a.pos-i.nodeSize)),t(c.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return i.isAtom&&a.depth==r.depth-1?(t&&t(e.tr.delete(a.pos-i.nodeSize,a.pos).scrollIntoView()),!0):!1},UTe=(e,t,n)=>{let r=Lee(e,n);if(!r)return!1;let a=zR(r);return a?Fee(e,a,t):!1},VTe=(e,t,n)=>{let r=zee(e,n);if(!r)return!1;let a=qR(r);return a?Fee(e,a,t):!1};function Fee(e,t,n){let r=t.nodeBefore,a=r,i=t.pos-1;for(;!a.isTextblock;i--){if(a.type.spec.isolating)return!1;let f=a.lastChild;if(!f)return!1;a=f}let o=t.nodeAfter,l=o,c=t.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let f=l.firstChild;if(!f)return!1;l=f}let u=ON(e.doc,i,c,ze.empty);if(!u||u.from!=i||u instanceof Yr&&u.slice.size>=c-i)return!1;if(n){let f=e.tr.step(u);f.setSelection(yt.create(f.doc,i)),n(f.scrollIntoView())}return!0}function Sh(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Bee=(e,t,n)=>{let{$head:r,empty:a}=e.selection,i=r;if(!a)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=zR(r)}let o=i&&i.nodeBefore;return!o||!tt.isSelectable(o)?!1:(t&&t(e.tr.setSelection(tt.create(e.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function zR(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function zee(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const qee=(e,t,n)=>{let r=zee(e,n);if(!r)return!1;let a=qR(r);if(!a)return!1;let i=a.nodeAfter;if(Wee(e,a,t,1))return!0;if(r.parent.content.size==0&&(Sh(i,"start")||tt.isSelectable(i))){let o=ON(e.doc,r.before(),r.after(),ze.empty);if(o&&o.slice.size<o.to-o.from){if(t){let l=e.tr.step(o);l.setSelection(Sh(i,"start")?pt.findFrom(l.doc.resolve(l.mapping.map(a.pos)),1):tt.create(l.doc,l.mapping.map(a.pos))),t(l.scrollIntoView())}return!0}}return i.isAtom&&a.depth==r.depth-1?(t&&t(e.tr.delete(a.pos,a.pos+i.nodeSize).scrollIntoView()),!0):!1},Uee=(e,t,n)=>{let{$head:r,empty:a}=e.selection,i=r;if(!a)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=qR(r)}let o=i&&i.nodeAfter;return!o||!tt.isSelectable(o)?!1:(t&&t(e.tr.setSelection(tt.create(e.doc,i.pos)).scrollIntoView()),!0)};function qR(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const HTe=(e,t)=>{let n=e.selection,r=n instanceof tt,a;if(r){if(n.node.isTextblock||!rd(e.doc,n.from))return!1;a=n.from}else if(a=EN(e.doc,n.from,-1),a==null)return!1;if(t){let i=e.tr.join(a);r&&i.setSelection(tt.create(i.doc,a-e.doc.resolve(a).nodeBefore.nodeSize)),t(i.scrollIntoView())}return!0},KTe=(e,t)=>{let n=e.selection,r;if(n instanceof tt){if(n.node.isTextblock||!rd(e.doc,n.to))return!1;r=n.to}else if(r=EN(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},WTe=(e,t)=>{let{$from:n,$to:r}=e.selection,a=n.blockRange(r),i=a&&ym(a);return i==null?!1:(t&&t(e.tr.lift(a,i).scrollIntoView()),!0)},Vee=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function UR(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const GTe=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let a=n.node(-1),i=n.indexAfter(-1),o=UR(a.contentMatchAt(i));if(!o||!a.canReplaceWith(i,i,o))return!1;if(t){let l=n.after(),c=e.tr.replaceWith(l,l,o.createAndFill());c.setSelection(pt.near(c.doc.resolve(l),1)),t(c.scrollIntoView())}return!0},Hee=(e,t)=>{let n=e.selection,{$from:r,$to:a}=n;if(n instanceof Fa||r.parent.inlineContent||a.parent.inlineContent)return!1;let i=UR(a.parent.contentMatchAt(a.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let o=(!r.parentOffset&&a.index()<a.parent.childCount?r:a).pos,l=e.tr.insert(o,i.createAndFill());l.setSelection(yt.create(l.doc,o+1)),t(l.scrollIntoView())}return!0},Kee=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Pl(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),a=r&&ym(r);return a==null?!1:(t&&t(e.tr.lift(r,a).scrollIntoView()),!0)};function YTe(e){return(t,n)=>{let{$from:r,$to:a}=t.selection;if(t.selection instanceof tt&&t.selection.node.isBlock)return!r.parentOffset||!Pl(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],o,l,c=!1,u=!1;for(let g=r.depth;;g--)if(r.node(g).isBlock){c=r.end(g)==r.pos+(r.depth-g),u=r.start(g)==r.pos-(r.depth-g),l=UR(r.node(g-1).contentMatchAt(r.indexAfter(g-1))),i.unshift(c&&l?{type:l}:null),o=g;break}else{if(g==1)return!1;i.unshift(null)}let f=t.tr;(t.selection instanceof yt||t.selection instanceof Fa)&&f.deleteSelection();let m=f.mapping.map(r.pos),p=Pl(f.doc,m,i.length,i);if(p||(i[0]=l?{type:l}:null,p=Pl(f.doc,m,i.length,i)),!p)return!1;if(f.split(m,i.length,i),!c&&u&&r.node(o).type!=l){let g=f.mapping.map(r.before(o)),v=f.doc.resolve(g);l&&r.node(o-1).canReplaceWith(v.index(),v.index()+1,l)&&f.setNodeMarkup(f.mapping.map(r.before(o)),l)}return n&&n(f.scrollIntoView()),!0}}const XTe=YTe(),QTe=(e,t)=>{let{$from:n,to:r}=e.selection,a,i=n.sharedDepth(r);return i==0?!1:(a=n.before(i),t&&t(e.tr.setSelection(tt.create(e.doc,a))),!0)};function JTe(e,t,n){let r=t.nodeBefore,a=t.nodeAfter,i=t.index();return!r||!a||!r.type.compatibleContent(a.type)?!1:!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(i,i+1)||!(a.isTextblock||rd(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function Wee(e,t,n,r){let a=t.nodeBefore,i=t.nodeAfter,o,l,c=a.type.spec.isolating||i.type.spec.isolating;if(!c&&JTe(e,t,n))return!0;let u=!c&&t.parent.canReplace(t.index(),t.index()+1);if(u&&(o=(l=a.contentMatchAt(a.childCount)).findWrapping(i.type))&&l.matchType(o[0]||i.type).validEnd){if(n){let g=t.pos+i.nodeSize,v=Ee.empty;for(let N=o.length-1;N>=0;N--)v=Ee.from(o[N].create(null,v));v=Ee.from(a.copy(v));let y=e.tr.step(new Zr(t.pos-1,g,t.pos,g,new ze(v,1,0),o.length,!0)),w=y.doc.resolve(g+2*o.length);w.nodeAfter&&w.nodeAfter.type==a.type&&rd(y.doc,w.pos)&&y.join(w.pos),n(y.scrollIntoView())}return!0}let f=i.type.spec.isolating||r>0&&c?null:pt.findFrom(t,1),m=f&&f.$from.blockRange(f.$to),p=m&&ym(m);if(p!=null&&p>=t.depth)return n&&n(e.tr.lift(m,p).scrollIntoView()),!0;if(u&&Sh(i,"start",!0)&&Sh(a,"end")){let g=a,v=[];for(;v.push(g),!g.isTextblock;)g=g.lastChild;let y=i,w=1;for(;!y.isTextblock;y=y.firstChild)w++;if(g.canReplace(g.childCount,g.childCount,y.content)){if(n){let N=Ee.empty;for(let T=v.length-1;T>=0;T--)N=Ee.from(v[T].copy(N));let A=e.tr.step(new Zr(t.pos-v.length,t.pos+i.nodeSize,t.pos+w,t.pos+i.nodeSize-w,new ze(N,v.length,0),0,!0));n(A.scrollIntoView())}return!0}}return!1}function Gee(e){return function(t,n){let r=t.selection,a=e<0?r.$from:r.$to,i=a.depth;for(;a.node(i).isInline;){if(!i)return!1;i--}return a.node(i).isTextblock?(n&&n(t.tr.setSelection(yt.create(t.doc,e<0?a.start(i):a.end(i)))),!0):!1}}const ZTe=Gee(-1),eAe=Gee(1);function tAe(e,t=null){return function(n,r){let{$from:a,$to:i}=n.selection,o=a.blockRange(i),l=o&&$R(o,e,t);return l?(r&&r(n.tr.wrap(o,l).scrollIntoView()),!0):!1}}function ZB(e,t=null){return function(n,r){let a=!1;for(let i=0;i<n.selection.ranges.length&&!a;i++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(o,l,(c,u)=>{if(a)return!1;if(!(!c.isTextblock||c.hasMarkup(e,t)))if(c.type==e)a=!0;else{let f=n.doc.resolve(u),m=f.index();a=f.parent.canReplaceWith(m,m+1,e)}})}if(!a)return!1;if(r){let i=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[o];i.setBlockType(l,c,e,t)}r(i.scrollIntoView())}return!0}}function VR(...e){return function(t,n,r){for(let a=0;a<e.length;a++)if(e[a](t,n,r))return!0;return!1}}VR(BR,$ee,Bee);VR(BR,qee,Uee);VR(Vee,Hee,Kee,XTe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function nAe(e,t=null){return function(n,r){let{$from:a,$to:i}=n.selection,o=a.blockRange(i);if(!o)return!1;let l=r?n.tr:null;return rAe(l,o,e,t)?(r&&r(l.scrollIntoView()),!0):!1}}function rAe(e,t,n,r=null){let a=!1,i=t,o=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let c=o.resolve(t.start-2);i=new X0(c,c,t.depth),t.endIndex<t.parent.childCount&&(t=new X0(t.$from,o.resolve(t.$to.end(t.depth)),t.depth)),a=!0}let l=$R(i,n,r,t);return l?(e&&sAe(e,t,l,a,n),!0):!1}function sAe(e,t,n,r,a){let i=Ee.empty;for(let f=n.length-1;f>=0;f--)i=Ee.from(n[f].type.create(n[f].attrs,i));e.step(new Zr(t.start-(r?2:0),t.end,t.start,t.end,new ze(i,0,0),n.length,!0));let o=0;for(let f=0;f<n.length;f++)n[f].type==a&&(o=f+1);let l=n.length-o,c=t.start+n.length-(r?2:0),u=t.parent;for(let f=t.startIndex,m=t.endIndex,p=!0;f<m;f++,p=!1)!p&&Pl(e.doc,c,l)&&(e.split(c,l),c+=2*l),c+=u.child(f).nodeSize;return e}function aAe(e){return function(t,n){let{$from:r,$to:a}=t.selection,i=r.blockRange(a,o=>o.childCount>0&&o.firstChild.type==e);return i?n?r.node(i.depth-1).type==e?iAe(t,n,e,i):oAe(t,n,i):!0:!1}}function iAe(e,t,n,r){let a=e.tr,i=r.end,o=r.$to.end(r.depth);i<o&&(a.step(new Zr(i-1,o,i,o,new ze(Ee.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new X0(a.doc.resolve(r.$from.pos),a.doc.resolve(o),r.depth));const l=ym(r);if(l==null)return!1;a.lift(r,l);let c=a.doc.resolve(a.mapping.map(i,-1)-1);return rd(a.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&a.join(c.pos),t(a.scrollIntoView()),!0}function oAe(e,t,n){let r=e.tr,a=n.parent;for(let g=n.end,v=n.endIndex-1,y=n.startIndex;v>y;v--)g-=a.child(v).nodeSize,r.delete(g-1,g+1);let i=r.doc.resolve(n.start),o=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,c=n.endIndex==a.childCount,u=i.node(-1),f=i.index(-1);if(!u.canReplace(f+(l?0:1),f+1,o.content.append(c?Ee.empty:Ee.from(a))))return!1;let m=i.pos,p=m+o.nodeSize;return r.step(new Zr(m-(l?1:0),p+(c?1:0),m+1,p-1,new ze((l?Ee.empty:Ee.from(a.copy(Ee.empty))).append(c?Ee.empty:Ee.from(a.copy(Ee.empty))),l?0:1,c?0:1),l?0:1)),t(r.scrollIntoView()),!0}function lAe(e){return function(t,n){let{$from:r,$to:a}=t.selection,i=r.blockRange(a,u=>u.childCount>0&&u.firstChild.type==e);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let l=i.parent,c=l.child(o-1);if(c.type!=e)return!1;if(n){let u=c.lastChild&&c.lastChild.type==l.type,f=Ee.from(u?e.create():null),m=new ze(Ee.from(e.create(null,Ee.from(l.type.create(null,f)))),u?3:1,0),p=i.start,g=i.end;n(t.tr.step(new Zr(p-(u?3:1),g,p,g,m,1,!0)).scrollIntoView())}return!0}}const xs=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Ch=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let BP=null;const bl=function(e,t,n){let r=BP||(BP=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},cAe=function(){BP=null},vu=function(e,t,n,r){return n&&(ez(e,t,n,r,-1)||ez(e,t,n,r,1))},dAe=/^(img|br|input|textarea|hr)$/i;function ez(e,t,n,r,a){for(var i;;){if(e==n&&t==r)return!0;if(t==(a<0?0:hi(e))){let o=e.parentNode;if(!o||o.nodeType!=1||py(e)||dAe.test(e.nodeName)||e.contentEditable=="false")return!1;t=xs(e)+(a<0?0:1),e=o}else if(e.nodeType==1){let o=e.childNodes[t+(a<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((i=o.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)t+=a;else return!1;else e=o,t=a<0?hi(e):0}else return!1}}function hi(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function uAe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=hi(e)}else if(e.parentNode&&!py(e))t=xs(e),e=e.parentNode;else return null}}function fAe(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!py(e))t=xs(e)+1,e=e.parentNode;else return null}}function hAe(e,t,n){for(let r=t==0,a=t==hi(e);r||a;){if(e==n)return!0;let i=xs(e);if(e=e.parentNode,!e)return!1;r=r&&i==0,a=a&&i==hi(e)}}function py(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const MN=function(e){return e.focusNode&&vu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Bd(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function mAe(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function pAe(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(hi(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(hi(r.startContainer),r.startOffset)}}}const $o=typeof navigator<"u"?navigator:null,tz=typeof document<"u"?document:null,sd=$o&&$o.userAgent||"",zP=/Edge\/(\d+)/.exec(sd),Yee=/MSIE \d/.exec(sd),qP=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(sd),ma=!!(Yee||qP||zP),Bc=Yee?document.documentMode:qP?+qP[1]:zP?+zP[1]:0,bi=!ma&&/gecko\/(\d+)/i.test(sd);bi&&+(/Firefox\/(\d+)/.exec(sd)||[0,0])[1];const UP=!ma&&/Chrome\/(\d+)/.exec(sd),Jr=!!UP,Xee=UP?+UP[1]:0,ys=!ma&&!!$o&&/Apple Computer/.test($o.vendor),kh=ys&&(/Mobile\/\w+/.test(sd)||!!$o&&$o.maxTouchPoints>2),ui=kh||($o?/Mac/.test($o.platform):!1),Qee=$o?/Win/.test($o.platform):!1,Cl=/Android \d/.test(sd),xy=!!tz&&"webkitFontSmoothing"in tz.documentElement.style,xAe=xy?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function gAe(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function ml(e,t){return typeof e=="number"?e:e[t]}function yAe(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function nz(e,t,n){let r=e.someProp("scrollThreshold")||0,a=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let o=n||e.dom;o;){if(o.nodeType!=1){o=Ch(o);continue}let l=o,c=l==i.body,u=c?gAe(i):yAe(l),f=0,m=0;if(t.top<u.top+ml(r,"top")?m=-(u.top-t.top+ml(a,"top")):t.bottom>u.bottom-ml(r,"bottom")&&(m=t.bottom-t.top>u.bottom-u.top?t.top+ml(a,"top")-u.top:t.bottom-u.bottom+ml(a,"bottom")),t.left<u.left+ml(r,"left")?f=-(u.left-t.left+ml(a,"left")):t.right>u.right-ml(r,"right")&&(f=t.right-u.right+ml(a,"right")),f||m)if(c)i.defaultView.scrollBy(f,m);else{let g=l.scrollLeft,v=l.scrollTop;m&&(l.scrollTop+=m),f&&(l.scrollLeft+=f);let y=l.scrollLeft-g,w=l.scrollTop-v;t={left:t.left-y,top:t.top-w,right:t.right-y,bottom:t.bottom-w}}let p=c?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(p))break;o=p=="absolute"?o.offsetParent:Ch(o)}}function vAe(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,a;for(let i=(t.left+t.right)/2,o=n+1;o<Math.min(innerHeight,t.bottom);o+=5){let l=e.root.elementFromPoint(i,o);if(!l||l==e.dom||!e.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=n-20){r=l,a=c.top;break}}return{refDOM:r,refTop:a,stack:Jee(e.dom)}}function Jee(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Ch(r));return t}function bAe({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;Zee(n,r==0?0:r-t)}function Zee(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:a,left:i}=e[n];r.scrollTop!=a+t&&(r.scrollTop=a+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Pf=null;function jAe(e){if(e.setActive)return e.setActive();if(Pf)return e.focus(Pf);let t=Jee(e);e.focus(Pf==null?{get preventScroll(){return Pf={preventScroll:!0},!0}}:void 0),Pf||(Pf=!1,Zee(t,0))}function ete(e,t){let n,r=2e8,a,i=0,o=t.top,l=t.top,c,u;for(let f=e.firstChild,m=0;f;f=f.nextSibling,m++){let p;if(f.nodeType==1)p=f.getClientRects();else if(f.nodeType==3)p=bl(f).getClientRects();else continue;for(let g=0;g<p.length;g++){let v=p[g];if(v.top<=o&&v.bottom>=l){o=Math.max(v.bottom,o),l=Math.min(v.top,l);let y=v.left>t.left?v.left-t.left:v.right<t.left?t.left-v.right:0;if(y<r){n=f,r=y,a=y&&n.nodeType==3?{left:v.right<t.left?v.right:v.left,top:t.top}:t,f.nodeType==1&&y&&(i=m+(t.left>=(v.left+v.right)/2?1:0));continue}}else v.top>t.top&&!c&&v.left<=t.left&&v.right>=t.left&&(c=f,u={left:Math.max(v.left,Math.min(v.right,t.left)),top:v.top});!n&&(t.left>=v.right&&t.top>=v.top||t.left>=v.left&&t.top>=v.bottom)&&(i=m+1)}}return!n&&c&&(n=c,a=u,r=0),n&&n.nodeType==3?wAe(n,a):!n||r&&n.nodeType==1?{node:e,offset:i}:ete(n,a)}function wAe(e,t){let n=e.nodeValue.length,r=document.createRange(),a;for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let o=kc(r,1);if(o.top!=o.bottom&&HR(t,o)){a={node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)};break}}return r.detach(),a||{node:e,offset:0}}function HR(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function NAe(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function SAe(e,t,n){let{node:r,offset:a}=ete(t,n),i=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();i=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return e.docView.posFromDOM(r,a,i)}function CAe(e,t,n,r){let a=-1;for(let i=t,o=!1;i!=e.dom;){let l=e.docView.nearestDesc(i,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!o&&c.left>r.left||c.top>r.top?a=l.posBefore:(!o&&c.right<r.left||c.bottom<r.top)&&(a=l.posAfter),o=!0),!l.contentDOM&&a<0&&!l.node.isText))return(l.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return a>-1?a:e.docView.posFromDOM(t,n,-1)}function tte(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let a=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=a;;){let o=e.childNodes[i];if(o.nodeType==1){let l=o.getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(HR(t,u))return tte(o,t,u)}}if((i=(i+1)%r)==a)break}return e}function kAe(e,t){let n=e.dom.ownerDocument,r,a=0,i=pAe(n,t.left,t.top);i&&({node:r,offset:a}=i);let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),l;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=e.dom.getBoundingClientRect();if(!HR(t,u)||(o=tte(e.dom,t,u),!o))return null}if(ys)for(let u=o;r&&u;u=Ch(u))u.draggable&&(r=void 0);if(o=NAe(o,t),r){if(bi&&r.nodeType==1&&(a=Math.min(a,r.childNodes.length),a<r.childNodes.length)){let f=r.childNodes[a],m;f.nodeName=="IMG"&&(m=f.getBoundingClientRect()).right<=t.left&&m.bottom>t.top&&a++}let u;xy&&a&&r.nodeType==1&&(u=r.childNodes[a-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=t.top&&a--,r==e.dom&&a==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?l=e.state.doc.content.size:(a==0||r.nodeType!=1||r.childNodes[a-1].nodeName!="BR")&&(l=CAe(e,r,a,t))}l==null&&(l=SAe(e,o,t));let c=e.docView.nearestDesc(o,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function rz(e){return e.top<e.bottom||e.left<e.right}function kc(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(rz(r))return r}return Array.prototype.find.call(n,rz)||e.getBoundingClientRect()}const TAe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function nte(e,t,n){let{node:r,offset:a,atom:i}=e.docView.domFromPos(t,n<0?-1:1),o=xy||bi;if(r.nodeType==3)if(o&&(TAe.test(r.nodeValue)||(n<0?!a:a==r.nodeValue.length))){let c=kc(bl(r,a,a),n);if(bi&&a&&/\s/.test(r.nodeValue[a-1])&&a<r.nodeValue.length){let u=kc(bl(r,a-1,a-1),-1);if(u.top==c.top){let f=kc(bl(r,a,a+1),-1);if(f.top!=c.top)return Mp(f,f.left<u.left)}}return c}else{let c=a,u=a,f=n<0?1:-1;return n<0&&!a?(u++,f=-1):n>=0&&a==r.nodeValue.length?(c--,f=1):n<0?c--:u++,Mp(kc(bl(r,c,u),f),f<0)}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(i==null&&a&&(n<0||a==hi(r))){let c=r.childNodes[a-1];if(c.nodeType==1)return HC(c.getBoundingClientRect(),!1)}if(i==null&&a<hi(r)){let c=r.childNodes[a];if(c.nodeType==1)return HC(c.getBoundingClientRect(),!0)}return HC(r.getBoundingClientRect(),n>=0)}if(i==null&&a&&(n<0||a==hi(r))){let c=r.childNodes[a-1],u=c.nodeType==3?bl(c,hi(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(u)return Mp(kc(u,1),!1)}if(i==null&&a<hi(r)){let c=r.childNodes[a];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let u=c?c.nodeType==3?bl(c,0,o?0:1):c.nodeType==1?c:null:null;if(u)return Mp(kc(u,-1),!0)}return Mp(kc(r.nodeType==3?bl(r):r,-n),n>=0)}function Mp(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function HC(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function rte(e,t,n){let r=e.state,a=e.root.activeElement;r!=t&&e.updateState(t),a!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),a!=e.dom&&a&&a.focus()}}function AAe(e,t,n){let r=t.selection,a=n=="up"?r.$from:r.$to;return rte(e,t,()=>{let{node:i}=e.docView.domFromPos(a.pos,n=="up"?-1:1);for(;;){let l=e.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let o=nte(e,a.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=bl(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<c.length;u++){let f=c[u];if(f.bottom>f.top+1&&(n=="up"?o.top-f.top>(f.bottom-o.top)*2:f.bottom-o.bottom>(o.bottom-f.top)*2))return!1}}return!0})}const EAe=/[\u0590-\u08ac]/;function OAe(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let a=r.parentOffset,i=!a,o=a==r.parent.content.size,l=e.domSelection();return l?!EAe.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:o:rte(e,t,()=>{let{focusNode:c,focusOffset:u,anchorNode:f,anchorOffset:m}=e.domSelectionRange(),p=l.caretBidiLevel;l.modify("move",n,"character");let g=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:v,focusOffset:y}=e.domSelectionRange(),w=v&&!g.contains(v.nodeType==1?v:v.parentNode)||c==v&&u==y;try{l.collapse(f,m),c&&(c!=f||u!=m)&&l.extend&&l.extend(c,u)}catch{}return p!=null&&(l.caretBidiLevel=p),w}):r.pos==r.start()||r.pos==r.end()}let sz=null,az=null,iz=!1;function PAe(e,t,n){return sz==t&&az==n?iz:(sz=t,az=n,iz=n=="up"||n=="down"?AAe(e,t,n):OAe(e,t,n))}const ji=0,oz=1,Vd=2,Fo=3;class gy{constructor(t,n,r,a){this.parent=t,this.children=n,this.dom=r,this.contentDOM=a,this.dirty=ji,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let a=this.children[n];if(a==t)return r;r+=a.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let i,o;if(t==this.contentDOM)i=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(t==this.contentDOM)i=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let a;if(t==this.dom&&this.contentDOM)a=n>xs(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=t;;i=i.parentNode){if(i==this.dom){a=!1;break}if(i.previousSibling)break}if(a==null&&n==t.childNodes.length)for(let i=t;;i=i.parentNode){if(i==this.dom){a=!0;break}if(i.nextSibling)break}}return a??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,a=t;a;a=a.parentNode){let i=this.getDesc(a),o;if(i&&(!n||i.node))if(r&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(t.nodeType==1?t:t.parentNode):o==t))r=!1;else return i}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let a=t;a;a=a.parentNode){let i=this.getDesc(a);if(i)return i.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let a=this.children[n],i=r+a.size;if(r==t&&i!=r){for(;!a.border&&a.children.length;)for(let o=0;o<a.children.length;o++){let l=a.children[o];if(l.size){a=l;break}}return a}if(t<i)return a.descAt(t-r-a.border);r=i}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,a=0;for(let i=0;r<this.children.length;r++){let o=this.children[r],l=i+o.size;if(l>t||o instanceof ate){a=t-i;break}i=l}if(a)return this.children[r].domFromPos(a-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof ste&&i.side>=0;r--);if(n<=0){let i,o=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,o=!1);return i&&n&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?xs(i.dom)+1:0}}else{let i,o=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?xs(i.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let a=-1,i=-1;for(let o=r,l=0;;l++){let c=this.children[l],u=o+c.size;if(a==-1&&t<=u){let f=o+c.border;if(t>=f&&n<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(t,n,f);t=o;for(let m=l;m>0;m--){let p=this.children[m-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){a=xs(p.dom)+1;break}t-=p.size}a==-1&&(a=0)}if(a>-1&&(u>n||l==this.children.length-1)){n=u;for(let f=l+1;f<this.children.length;f++){let m=this.children[f];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){i=xs(m.dom);break}n+=m.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:t,to:n,fromOffset:a,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,a=!1){let i=Math.min(t,n),o=Math.max(t,n);for(let g=0,v=0;g<this.children.length;g++){let y=this.children[g],w=v+y.size;if(i>v&&o<w)return y.setSelection(t-v-y.border,n-v-y.border,r,a);v=w}let l=this.domFromPos(t,t?-1:1),c=n==t?l:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),f=r.domSelectionRange(),m=!1;if((bi||ys)&&t==n){let{node:g,offset:v}=l;if(g.nodeType==3){if(m=!!(v&&g.nodeValue[v-1]==`
`),m&&v==g.nodeValue.length)for(let y=g,w;y;y=y.parentNode){if(w=y.nextSibling){w.nodeName=="BR"&&(l=c={node:w.parentNode,offset:xs(w)+1});break}let N=y.pmViewDesc;if(N&&N.node&&N.node.isBlock)break}}else{let y=g.childNodes[v-1];m=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(bi&&f.focusNode&&f.focusNode!=c.node&&f.focusNode.nodeType==1){let g=f.focusNode.childNodes[f.focusOffset];g&&g.contentEditable=="false"&&(a=!0)}if(!(a||m&&ys)&&vu(l.node,l.offset,f.anchorNode,f.anchorOffset)&&vu(c.node,c.offset,f.focusNode,f.focusOffset))return;let p=!1;if((u.extend||t==n)&&!(m&&bi)){u.collapse(l.node,l.offset);try{t!=n&&u.extend(c.node,c.offset),p=!0}catch{}}if(!p){if(t>n){let v=l;l=c,c=v}let g=document.createRange();g.setEnd(c.node,c.offset),g.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(g)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,a=0;a<this.children.length;a++){let i=this.children[a],o=r+i.size;if(r==o?t<=o&&n>=r:t<o&&n>r){let l=r+i.border,c=o-i.border;if(t>=l&&n<=c){this.dirty=t==r||n==o?Vd:oz,t==l&&n==c&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Fo:i.markDirty(t-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Vd:Fo}r=o}this.dirty=Vd}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Vd:oz;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class ste extends gy{constructor(t,n,r,a){let i,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!i)return a;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=n,this.widget=n,i=this}matchesWidget(t){return this.dirty==ji&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class MAe extends gy{constructor(t,n,r,a){super(t,[],n,null),this.textDOM=r,this.text=a}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class bu extends gy{constructor(t,n,r,a,i){super(t,[],r,a),this.mark=n,this.spec=i}static create(t,n,r,a){let i=a.nodeViews[n.type.name],o=i&&i(n,a,r);return(!o||!o.dom)&&(o=Iu.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new bu(t,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Fo||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Fo&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=ji){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ji}}slice(t,n,r){let a=bu.create(this.parent,this.mark,!0,r),i=this.children,o=this.size;n<o&&(i=HP(i,n,o,r)),t>0&&(i=HP(i,0,t,r));for(let l=0;l<i.length;l++)i[l].parent=a;return a.children=i,a}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class zc extends gy{constructor(t,n,r,a,i,o,l,c,u){super(t,[],i,o),this.node=n,this.outerDeco=r,this.innerDeco=a,this.nodeDOM=l}static create(t,n,r,a,i,o){let l=i.nodeViews[n.type.name],c,u=l&&l(n,i,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},r,a),f=u&&u.dom,m=u&&u.contentDOM;if(n.isText){if(!f)f=document.createTextNode(n.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:m}=Iu.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),n.type.spec.draggable&&(f.draggable=!0));let p=f;return f=lte(f,r,n),u?c=new _Ae(t,n,r,a,f,m||null,p,u,i,o+1):n.isText?new _N(t,n,r,a,f,p,i):new zc(t,n,r,a,f,m||null,p,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Ee.empty)}return t}matchesNode(t,n,r){return this.dirty==ji&&t.eq(this.node)&&J0(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,a=n,i=t.composing?this.localCompositionInfo(t,n):null,o=i&&i.pos>-1?i:null,l=i&&i.pos<0,c=new DAe(this,o&&o.node,t);$Ae(this.node,this.innerDeco,(u,f,m)=>{u.spec.marks?c.syncToMarks(u.spec.marks,r,t,f):u.type.side>=0&&!m&&c.syncToMarks(f==this.node.childCount?Cn.none:this.node.child(f).marks,r,t,f),c.placeWidget(u,t,a)},(u,f,m,p)=>{c.syncToMarks(u.marks,r,t,p);let g;c.findNodeMatch(u,f,m,p)||l&&t.state.selection.from>a&&t.state.selection.to<a+u.nodeSize&&(g=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(u,f,m,g,t)||c.updateNextNode(u,f,m,t,p,a)||c.addNode(u,f,m,t,a),a+=u.nodeSize}),c.syncToMarks([],r,t,0),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Vd)&&(o&&this.protectLocalComposition(t,o),ite(this.contentDOM,this.children,t),kh&&FAe(this.dom))}localCompositionInfo(t,n){let{from:r,to:a}=t.state.selection;if(!(t.state.selection instanceof yt)||r<n||a>n+this.node.content.size)return null;let i=t.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,l=BAe(this.node.content,o,r-n,a-n);return l<0?null:{node:i,pos:l,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:a}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new MAe(this,i,n,a);t.input.compositionNodes.push(o),this.children=HP(this.children,r,r+a.length,t,o)}update(t,n,r,a){return this.dirty==Fo||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,a),!0)}updateInner(t,n,r,a){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=ji}updateOuterDeco(t){if(J0(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=ote(this.dom,this.nodeDOM,VP(this.outerDeco,this.node,n),VP(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function lz(e,t,n,r,a){lte(r,t,e);let i=new zc(void 0,e,t,n,r,r,r,a,0);return i.contentDOM&&i.updateChildren(a,0),i}class _N extends zc{constructor(t,n,r,a,i,o,l){super(t,n,r,a,i,null,o,l,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,a){return this.dirty==Fo||this.dirty!=ji&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=ji||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=t,this.dirty=ji,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let a=this.node.cut(t,n),i=document.createTextNode(a.text);return new _N(this.parent,a,this.outerDeco,this.innerDeco,i,i,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Fo)}get domAtom(){return!1}isText(t){return this.node.text==t}}class ate extends gy{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==ji&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class _Ae extends zc{constructor(t,n,r,a,i,o,l,c,u,f){super(t,n,r,a,i,o,l,u,f),this.spec=c}update(t,n,r,a){if(this.dirty==Fo)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let i=this.spec.update(t,n,r);return i&&this.updateInner(t,n,r,a),i}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,a)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,a){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,a)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function ite(e,t,n){let r=e.firstChild,a=!1;for(let i=0;i<t.length;i++){let o=t[i],l=o.dom;if(l.parentNode==e){for(;l!=r;)r=cz(r),a=!0;r=r.nextSibling}else a=!0,e.insertBefore(l,r);if(o instanceof bu){let c=r?r.previousSibling:e.lastChild;ite(o.contentDOM,o.children,n),r=c?c.nextSibling:e.firstChild}}for(;r;)r=cz(r),a=!0;a&&n.trackWrites==e&&(n.trackWrites=null)}const Sx=function(e){e&&(this.nodeName=e)};Sx.prototype=Object.create(null);const Hd=[new Sx];function VP(e,t,n){if(e.length==0)return Hd;let r=n?Hd[0]:new Sx,a=[r];for(let i=0;i<e.length;i++){let o=e[i].type.attrs;if(o){o.nodeName&&a.push(r=new Sx(o.nodeName));for(let l in o){let c=o[l];c!=null&&(n&&a.length==1&&a.push(r=new Sx(t.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+c:l=="style"?r.style=(r.style?r.style+";":"")+c:l!="nodeName"&&(r[l]=c))}}}return a}function ote(e,t,n,r){if(n==Hd&&r==Hd)return t;let a=t;for(let i=0;i<r.length;i++){let o=r[i],l=n[i];if(i){let c;l&&l.nodeName==o.nodeName&&a!=e&&(c=a.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(a),l=Hd[0]),a=c}RAe(a,l||Hd[0],o)}return a}function RAe(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],a=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)a.indexOf(r[i])==-1&&e.classList.remove(r[i]);for(let i=0;i<a.length;i++)r.indexOf(a[i])==-1&&e.classList.add(a[i]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,a;for(;a=r.exec(t.style);)e.style.removeProperty(a[1])}n.style&&(e.style.cssText+=n.style)}}function lte(e,t,n){return ote(e,e,Hd,VP(t,n,e.nodeType!=1))}function J0(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function cz(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class DAe{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=IAe(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r,a){let i=0,o=this.stack.length>>1,l=Math.min(o,t.length);for(;i<l&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=ji,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let c=-1,u=this.top.children.length;a<this.preMatch.index&&(u=Math.min(this.index+3,u));for(let f=this.index;f<u;f++){let m=this.top.children[f];if(m.matchesMark(t[o])&&!this.isLocked(m.dom)){c=f;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let f=bu.create(this.top,t[o],n,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,r,a){let i=-1,o;if(a>=this.preMatch.index&&(o=this.preMatch.matches[a-this.preMatch.index]).parent==this.top&&o.matchesNode(t,n,r))i=this.top.children.indexOf(o,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let u=this.top.children[l];if(u.matchesNode(t,n,r)&&!this.preMatch.matched.has(u)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(t,n,r,a,i){let o=this.top.children[a];return o.dirty==Fo&&o.dom==o.contentDOM&&(o.dirty=Vd),o.update(t,n,r,i)?(this.destroyBetween(this.index,a),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==r)return a}return-1}t=n}}updateNextNode(t,n,r,a,i,o){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof zc){let u=this.preMatch.matched.get(c);if(u!=null&&u!=i)return!1;let f=c.dom,m,p=this.isLocked(f)&&!(t.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==t.text&&c.dirty!=Fo&&J0(n,c.outerDeco));if(!p&&c.update(t,n,r,a))return this.destroyBetween(this.index,l),c.dom!=f&&(this.changed=!0),this.index++,!0;if(!p&&(m=this.recreateWrapper(c,t,n,r,a,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Vd,m.updateChildren(a,o+1),m.dirty=ji),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,a,i,o){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!J0(r,t.outerDeco)||!a.eq(t.innerDeco))return null;let l=zc.create(this.top,n,r,a,i,o);if(l.contentDOM){l.children=t.children,t.children=[];for(let c of l.children)c.parent=l}return t.destroy(),l}addNode(t,n,r,a,i){let o=zc.create(this.top,t,n,r,a,i);o.contentDOM&&o.updateChildren(a,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,n,r){let a=this.index<this.top.children.length?this.top.children[this.index]:null;if(a&&a.matchesWidget(t)&&(t==a.widget||!a.widget.type.toDOM.parentNode))this.index++;else{let i=new ste(this.top,t,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof bu;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof _N)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((ys||Jr)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let a=new ate(this.top,[],r,null);n!=this.top?n.children.push(a):n.children.splice(this.index++,0,a),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function IAe(e,t){let n=t,r=n.children.length,a=e.childCount,i=new Map,o=[];e:for(;a>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof bu)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=l.node;if(c){if(c!=e.child(a-1))break;--a,i.set(l,a),o.push(l)}}return{index:a,matched:i,matches:o.reverse()}}function LAe(e,t){return e.type.side-t.type.side}function $Ae(e,t,n,r){let a=t.locals(e),i=0;if(a.length==0){for(let u=0;u<e.childCount;u++){let f=e.child(u);r(f,a,t.forChild(i,f),u),i+=f.nodeSize}return}let o=0,l=[],c=null;for(let u=0;;){let f,m;for(;o<a.length&&a[o].to==i;){let w=a[o++];w.widget&&(f?(m||(m=[f])).push(w):f=w)}if(f)if(m){m.sort(LAe);for(let w=0;w<m.length;w++)n(m[w],u,!!c)}else n(f,u,!!c);let p,g;if(c)g=-1,p=c,c=null;else if(u<e.childCount)g=u,p=e.child(u++);else break;for(let w=0;w<l.length;w++)l[w].to<=i&&l.splice(w--,1);for(;o<a.length&&a[o].from<=i&&a[o].to>i;)l.push(a[o++]);let v=i+p.nodeSize;if(p.isText){let w=v;o<a.length&&a[o].from<w&&(w=a[o].from);for(let N=0;N<l.length;N++)l[N].to<w&&(w=l[N].to);w<v&&(c=p.cut(w-i),p=p.cut(0,w-i),v=w,g=-1)}else for(;o<a.length&&a[o].to<v;)o++;let y=p.isInline&&!p.isLeaf?l.filter(w=>!w.inline):l.slice();r(p,y,t.forChild(i,p),g),i=v}}function FAe(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function BAe(e,t,n,r){for(let a=0,i=0;a<e.childCount&&i<=r;){let o=e.child(a++),l=i;if(i+=o.nodeSize,!o.isText)continue;let c=o.text;for(;a<e.childCount;){let u=e.child(a++);if(i+=u.nodeSize,!u.isText)break;c+=u.text}if(i>=n){if(i>=r&&c.slice(r-t.length-l,r-l)==t)return r-t.length;let u=l<r?c.lastIndexOf(t,r-l-1):-1;if(u>=0&&u+t.length+l>=n)return l+u;if(n==r&&c.length>=r+t.length-l&&c.slice(r-l,r-l+t.length)==t)return r}}return-1}function HP(e,t,n,r,a){let i=[];for(let o=0,l=0;o<e.length;o++){let c=e[o],u=l,f=l+=c.size;u>=n||f<=t?i.push(c):(u<t&&i.push(c.slice(0,t-u,r)),a&&(i.push(a),a=void 0),f>n&&i.push(c.slice(n-u,c.size,r)))}return i}function KR(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let a=e.docView.nearestDesc(n.focusNode),i=a&&a.size==0,o=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let l=r.resolve(o),c,u;if(MN(n)){for(c=o;a&&!a.node;)a=a.parent;let m=a.node;if(a&&m.isAtom&&tt.isSelectable(m)&&a.parent&&!(m.isInline&&hAe(n.focusNode,n.focusOffset,a.dom))){let p=a.posBefore;u=new tt(o==p?l:r.resolve(p))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=o,p=o;for(let g=0;g<n.rangeCount;g++){let v=n.getRangeAt(g);m=Math.min(m,e.docView.posFromDOM(v.startContainer,v.startOffset,1)),p=Math.max(p,e.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(m<0)return null;[c,o]=p==e.state.selection.anchor?[p,m]:[m,p],l=r.resolve(o)}else c=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let f=r.resolve(c);if(!u){let m=t=="pointer"||e.state.selection.head<l.pos&&!i?1:-1;u=WR(e,f,l,m)}return u}function cte(e){return e.editable?e.hasFocus():ute(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Ml(e,t=!1){let n=e.state.selection;if(dte(e,n),!!cte(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Jr){let r=e.domSelectionRange(),a=e.domObserver.currentSelection;if(r.anchorNode&&a.anchorNode&&vu(r.anchorNode,r.anchorOffset,a.anchorNode,a.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)qAe(e);else{let{anchor:r,head:a}=n,i,o;dz&&!(n instanceof yt)&&(n.$from.parent.inlineContent||(i=uz(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=uz(e,n.to))),e.docView.setSelection(r,a,e,t),dz&&(i&&fz(i),o&&fz(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&zAe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const dz=ys||Jr&&Xee<63;function uz(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),a=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(ys&&a&&a.contentEditable=="false")return KC(a);if((!a||a.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(a)return KC(a);if(i)return KC(i)}}function KC(e){return e.contentEditable="true",ys&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function fz(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function zAe(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,a=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=a)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!cte(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function qAe(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,xs(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&ma&&Bc<=11&&(n.disabled=!0,n.disabled=!1)}function dte(e,t){if(t instanceof tt){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(hz(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else hz(e)}function hz(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function WR(e,t,n,r){return e.someProp("createSelectionBetween",a=>a(e,t,n))||yt.between(t,n,r)}function mz(e){return e.editable&&!e.hasFocus()?!1:ute(e)}function ute(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function UAe(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return vu(t.node,t.offset,n.anchorNode,n.anchorOffset)}function KP(e,t){let{$anchor:n,$head:r}=e.selection,a=t>0?n.max(r):n.min(r),i=a.parent.inlineContent?a.depth?e.doc.resolve(t>0?a.after():a.before()):null:a;return i&&pt.findFrom(i,t)}function Tc(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function pz(e,t,n){let r=e.state.selection;if(r instanceof yt)if(n.indexOf("s")>-1){let{$head:a}=r,i=a.textOffset?null:t<0?a.nodeBefore:a.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=e.state.doc.resolve(a.pos+i.nodeSize*(t<0?-1:1));return Tc(e,new yt(r.$anchor,o))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let a=KP(e.state,t);return a&&a instanceof tt?Tc(e,a):!1}else if(!(ui&&n.indexOf("m")>-1)){let a=r.$head,i=a.textOffset?null:t<0?a.nodeBefore:a.nodeAfter,o;if(!i||i.isText)return!1;let l=t<0?a.pos-i.nodeSize:a.pos;return i.isAtom||(o=e.docView.descAt(l))&&!o.contentDOM?tt.isSelectable(i)?Tc(e,new tt(t<0?e.state.doc.resolve(a.pos-i.nodeSize):a)):xy?Tc(e,new yt(e.state.doc.resolve(t<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof tt&&r.node.isInline)return Tc(e,new yt(t>0?r.$to:r.$from));{let a=KP(e.state,t);return a?Tc(e,a):!1}}}function Z0(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Cx(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Mf(e,t){return t<0?VAe(e):HAe(e)}function VAe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let a,i,o=!1;for(bi&&n.nodeType==1&&r<Z0(n)&&Cx(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(Cx(l,-1))a=n,i=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(fte(n))break;{let l=n.previousSibling;for(;l&&Cx(l,-1);)a=n.parentNode,i=xs(l),l=l.previousSibling;if(l)n=l,r=Z0(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}o?WP(e,n,r):a&&WP(e,a,i)}function HAe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let a=Z0(n),i,o;for(;;)if(r<a){if(n.nodeType!=1)break;let l=n.childNodes[r];if(Cx(l,1))i=n,o=++r;else break}else{if(fte(n))break;{let l=n.nextSibling;for(;l&&Cx(l,1);)i=l.parentNode,o=xs(l)+1,l=l.nextSibling;if(l)n=l,r=0,a=Z0(n);else{if(n=n.parentNode,n==e.dom)break;r=a=0}}}i&&WP(e,i,o)}function fte(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function KAe(e,t){for(;e&&t==e.childNodes.length&&!py(e);)t=xs(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function WAe(e,t){for(;e&&!t&&!py(e);)t=xs(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function WP(e,t,n){if(t.nodeType!=3){let i,o;(o=KAe(t,n))?(t=o,n=0):(i=WAe(t,n))&&(t=i,n=i.nodeValue.length)}let r=e.domSelection();if(!r)return;if(MN(r)){let i=document.createRange();i.setEnd(t,n),i.setStart(t,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:a}=e;setTimeout(()=>{e.state==a&&Ml(e)},50)}function xz(e,t){let n=e.state.doc.resolve(t);if(!(Jr||Qee)&&n.parent.inlineContent){let a=e.coordsAtPos(t);if(t>n.start()){let i=e.coordsAtPos(t-1),o=(i.top+i.bottom)/2;if(o>a.top&&o<a.bottom&&Math.abs(i.left-a.left)>1)return i.left<a.left?"ltr":"rtl"}if(t<n.end()){let i=e.coordsAtPos(t+1),o=(i.top+i.bottom)/2;if(o>a.top&&o<a.bottom&&Math.abs(i.left-a.left)>1)return i.left>a.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function gz(e,t,n){let r=e.state.selection;if(r instanceof yt&&!r.empty||n.indexOf("s")>-1||ui&&n.indexOf("m")>-1)return!1;let{$from:a,$to:i}=r;if(!a.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let o=KP(e.state,t);if(o&&o instanceof tt)return Tc(e,o)}if(!a.parent.inlineContent){let o=t<0?a:i,l=r instanceof Fa?pt.near(o,t):pt.findFrom(o,t);return l?Tc(e,l):!1}return!1}function yz(e,t){if(!(e.state.selection instanceof yt))return!0;let{$head:n,$anchor:r,empty:a}=e.state.selection;if(!n.sameParent(r))return!0;if(!a)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let o=e.state.tr;return t<0?o.delete(n.pos-i.nodeSize,n.pos):o.delete(n.pos,n.pos+i.nodeSize),e.dispatch(o),!0}return!1}function vz(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function GAe(e){if(!ys||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;vz(e,r,"true"),setTimeout(()=>vz(e,r,"false"),20)}return!1}function YAe(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function XAe(e,t){let n=t.keyCode,r=YAe(t);if(n==8||ui&&n==72&&r=="c")return yz(e,-1)||Mf(e,-1);if(n==46&&!t.shiftKey||ui&&n==68&&r=="c")return yz(e,1)||Mf(e,1);if(n==13||n==27)return!0;if(n==37||ui&&n==66&&r=="c"){let a=n==37?xz(e,e.state.selection.from)=="ltr"?-1:1:-1;return pz(e,a,r)||Mf(e,a)}else if(n==39||ui&&n==70&&r=="c"){let a=n==39?xz(e,e.state.selection.from)=="ltr"?1:-1:1;return pz(e,a,r)||Mf(e,a)}else{if(n==38||ui&&n==80&&r=="c")return gz(e,-1,r)||Mf(e,-1);if(n==40||ui&&n==78&&r=="c")return GAe(e)||gz(e,1,r)||Mf(e,1);if(r==(ui?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function GR(e,t){e.someProp("transformCopied",g=>{t=g(t,e)});let n=[],{content:r,openStart:a,openEnd:i}=t;for(;a>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){a--,i--;let g=r.firstChild;n.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),r=g.content}let o=e.someProp("clipboardSerializer")||Iu.fromSchema(e.state.schema),l=yte(),c=l.createElement("div");c.appendChild(o.serializeFragment(r,{document:l}));let u=c.firstChild,f,m=0;for(;u&&u.nodeType==1&&(f=gte[u.nodeName.toLowerCase()]);){for(let g=f.length-1;g>=0;g--){let v=l.createElement(f[g]);for(;c.firstChild;)v.appendChild(c.firstChild);c.appendChild(v),m++}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${a} ${i}${m?` -${m}`:""} ${JSON.stringify(n)}`);let p=e.someProp("clipboardTextSerializer",g=>g(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:c,text:p,slice:t}}function hte(e,t,n,r,a){let i=a.parent.type.spec.code,o,l;if(!n&&!t)return null;let c=!!t&&(r||i||!n);if(c){if(e.someProp("transformPastedText",p=>{t=p(t,i||r,e)}),i)return l=new ze(Ee.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",p=>{l=p(l,e,!0)}),l;let m=e.someProp("clipboardTextParser",p=>p(t,a,r,e));if(m)l=m;else{let p=a.marks(),{schema:g}=e.state,v=Iu.fromSchema(g);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(y=>{let w=o.appendChild(document.createElement("p"));y&&w.appendChild(v.serializeNode(g.text(y,p)))})}}else e.someProp("transformPastedHTML",m=>{n=m(n,e)}),o=eEe(n),xy&&tEe(o);let u=o&&o.querySelector("[data-pm-slice]"),f=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let m=+f[3];m>0;m--){let p=o.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;o=p}if(l||(l=(e.someProp("clipboardParser")||e.someProp("domParser")||Fc.fromSchema(e.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||f),context:a,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!QAe.test(p.parentNode.nodeName)?{ignore:!0}:null}})),f)l=nEe(bz(l,+f[1],+f[2]),f[4]);else if(l=ze.maxOpen(JAe(l.content,a),!0),l.openStart||l.openEnd){let m=0,p=0;for(let g=l.content.firstChild;m<l.openStart&&!g.type.spec.isolating;m++,g=g.firstChild);for(let g=l.content.lastChild;p<l.openEnd&&!g.type.spec.isolating;p++,g=g.lastChild);l=bz(l,m,p)}return e.someProp("transformPasted",m=>{l=m(l,e,c)}),l}const QAe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function JAe(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let a=t.node(n).contentMatchAt(t.index(n)),i,o=[];if(e.forEach(l=>{if(!o)return;let c=a.findWrapping(l.type),u;if(!c)return o=null;if(u=o.length&&i.length&&pte(c,i,l,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=xte(o[o.length-1],i.length));let f=mte(l,c);o.push(f),a=a.matchType(f.type),i=c}}),o)return Ee.from(o)}return e}function mte(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,Ee.from(e));return e}function pte(e,t,n,r,a){if(a<e.length&&a<t.length&&e[a]==t[a]){let i=pte(e,t,n,r.lastChild,a+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(a==e.length-1?n.type:e[a+1]))return r.copy(r.content.append(Ee.from(mte(n,e,a+1))))}}function xte(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,xte(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Ee.empty,!0);return e.copy(n.append(r))}function GP(e,t,n,r,a,i){let o=t<0?e.firstChild:e.lastChild,l=o.content;return e.childCount>1&&(i=0),a<r-1&&(l=GP(l,t,n,r,a+1,i)),a>=n&&(l=t<0?o.contentMatchAt(0).fillBefore(l,i<=a).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(Ee.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(l))}function bz(e,t,n){return t<e.openStart&&(e=new ze(GP(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new ze(GP(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const gte={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let jz=null;function yte(){return jz||(jz=document.implementation.createHTMLDocument("title"))}let WC=null;function ZAe(e){let t=window.trustedTypes;return t?(WC||(WC=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),WC.createHTML(e)):e}function eEe(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=yte().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),a;if((a=r&&gte[r[1].toLowerCase()])&&(e=a.map(i=>"<"+i+">").join("")+e+a.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=ZAe(e),a)for(let i=0;i<a.length;i++)n=n.querySelector(a[i])||n;return n}function tEe(e){let t=e.querySelectorAll(Jr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function nEe(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:a,openStart:i,openEnd:o}=e;for(let l=r.length-2;l>=0;l-=2){let c=n.nodes[r[l]];if(!c||c.hasRequiredAttrs())break;a=Ee.from(c.create(r[l+1],a)),i++,o++}return new ze(a,i,o)}const Ws={},Gs={},rEe={touchstart:!0,touchmove:!0};class sEe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function aEe(e){for(let t in Ws){let n=Ws[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{oEe(e,r)&&!YR(e,r)&&(e.editable||!(r.type in Gs))&&n(e,r)},rEe[t]?{passive:!0}:void 0)}ys&&e.dom.addEventListener("input",()=>null),YP(e)}function Ic(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function iEe(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function YP(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>YR(e,r))})}function YR(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function oEe(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function lEe(e,t){!YR(e,t)&&Ws[t.type]&&(e.editable||!(t.type in Gs))&&Ws[t.type](e,t)}Gs.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!bte(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Cl&&Jr&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),kh&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",a=>a(e,Bd(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||XAe(e,n)?n.preventDefault():Ic(e,"key")};Gs.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Gs.keypress=(e,t)=>{let n=t;if(bte(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||ui&&n.metaKey)return;if(e.someProp("handleKeyPress",a=>a(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof yt)||!r.$from.sameParent(r.$to)){let a=String.fromCharCode(n.charCode),i=()=>e.state.tr.insertText(a).scrollIntoView();!/[\r\n]/.test(a)&&!e.someProp("handleTextInput",o=>o(e,r.$from.pos,r.$to.pos,a,i))&&e.dispatch(i()),n.preventDefault()}};function RN(e){return{left:e.clientX,top:e.clientY}}function cEe(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function XR(e,t,n,r,a){if(r==-1)return!1;let i=e.state.doc.resolve(r);for(let o=i.depth+1;o>0;o--)if(e.someProp(t,l=>o>i.depth?l(e,n,i.nodeAfter,i.before(o),a,!0):l(e,n,i.node(o),i.before(o),a,!1)))return!0;return!1}function oh(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function dEe(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&tt.isSelectable(r)?(oh(e,new tt(n)),!0):!1}function uEe(e,t){if(t==-1)return!1;let n=e.state.selection,r,a;n instanceof tt&&(r=n.node);let i=e.state.doc.resolve(t);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o);if(tt.isSelectable(l)){r&&n.$from.depth>0&&o>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?a=i.before(n.$from.depth):a=i.before(o);break}}return a!=null?(oh(e,tt.create(e.state.doc,a)),!0):!1}function fEe(e,t,n,r,a){return XR(e,"handleClickOn",t,n,r)||e.someProp("handleClick",i=>i(e,t,r))||(a?uEe(e,n):dEe(e,n))}function hEe(e,t,n,r){return XR(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",a=>a(e,t,r))}function mEe(e,t,n,r){return XR(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",a=>a(e,t,r))||pEe(e,n,r)}function pEe(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(oh(e,yt.create(r,0,r.content.size)),!0):!1;let a=r.resolve(t);for(let i=a.depth+1;i>0;i--){let o=i>a.depth?a.nodeAfter:a.node(i),l=a.before(i);if(o.inlineContent)oh(e,yt.create(r,l+1,l+1+o.content.size));else if(tt.isSelectable(o))oh(e,tt.create(r,l));else continue;return!0}}function QR(e){return ej(e)}const vte=ui?"metaKey":"ctrlKey";Ws.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=QR(e),a=Date.now(),i="singleClick";a-e.input.lastClick.time<500&&cEe(n,e.input.lastClick)&&!n[vte]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?i="doubleClick":e.input.lastClick.type=="doubleClick"&&(i="tripleClick")),e.input.lastClick={time:a,x:n.clientX,y:n.clientY,type:i,button:n.button};let o=e.posAtCoords(RN(n));o&&(i=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new xEe(e,o,n,!!r)):(i=="doubleClick"?hEe:mEe)(e,o.pos,o.inside,n)?n.preventDefault():Ic(e,"pointer"))};class xEe{constructor(t,n,r,a){this.view=t,this.pos=n,this.event=r,this.flushed=a,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[vte],this.allowDefault=r.shiftKey;let i,o;if(n.inside>-1)i=t.state.doc.nodeAt(n.inside),o=n.inside;else{let f=t.state.doc.resolve(n.pos);i=f.parent,o=f.depth?f.before():0}const l=a?null:r.target,c=l?t.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:u}=t.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||u instanceof tt&&u.from<=o&&u.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&bi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ic(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ml(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(RN(t))),this.updateAllowDefault(t),this.allowDefault||!n?Ic(this.view,"pointer"):fEe(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||ys&&this.mightDrag&&!this.mightDrag.node.isAtom||Jr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(oh(this.view,pt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Ic(this.view,"pointer")}move(t){this.updateAllowDefault(t),Ic(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Ws.touchstart=e=>{e.input.lastTouch=Date.now(),QR(e),Ic(e,"pointer")};Ws.touchmove=e=>{e.input.lastTouch=Date.now(),Ic(e,"pointer")};Ws.contextmenu=e=>QR(e);function bte(e,t){return e.composing?!0:ys&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const gEe=Cl?5e3:-1;Gs.compositionstart=Gs.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof yt&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||Jr&&Qee&&yEe(e)))e.markCursor=e.state.storedMarks||n.marks(),ej(e,!0),e.markCursor=null;else if(ej(e,!t.selection.empty),bi&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let a=r.focusNode,i=r.focusOffset;a&&a.nodeType==1&&i!=0;){let o=i<0?a.lastChild:a.childNodes[i-1];if(!o)break;if(o.nodeType==3){let l=e.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else a=o,i=-1}}e.input.composing=!0}jte(e,gEe)};function yEe(e){let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(!t||t.nodeType!=1||n>=t.childNodes.length)return!1;let r=t.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}Gs.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.badSafariComposition?e.domObserver.forceFlush():e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,jte(e,20))};function jte(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>ej(e),t))}function wte(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=bEe());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function vEe(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=uAe(t.focusNode,t.focusOffset),r=fAe(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let a=r.pmViewDesc,i=e.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!a||!a.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function bEe(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function ej(e,t=!1){if(!(Cl&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),wte(e),t||e.docView&&e.docView.dirty){let n=KR(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function jEe(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),a=document.createRange();a.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(a),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const ag=ma&&Bc<15||kh&&xAe<604;Ws.copy=Gs.cut=(e,t)=>{let n=t,r=e.state.selection,a=n.type=="cut";if(r.empty)return;let i=ag?null:n.clipboardData,o=r.content(),{dom:l,text:c}=GR(e,o);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",c)):jEe(e,l),a&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function wEe(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function NEe(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let a=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?ig(e,r.value,null,a,t):ig(e,r.textContent,r.innerHTML,a,t)},50)}function ig(e,t,n,r,a){let i=hte(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",c=>c(e,a,i||ze.empty)))return!0;if(!i)return!1;let o=wEe(i),l=o?e.state.tr.replaceSelectionWith(o,r):e.state.tr.replaceSelection(i);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Nte(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Gs.paste=(e,t)=>{let n=t;if(e.composing&&!Cl)return;let r=ag?null:n.clipboardData,a=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&ig(e,Nte(r),r.getData("text/html"),a,n)?n.preventDefault():NEe(e,n)};class Ste{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const SEe=ui?"altKey":"ctrlKey";function Cte(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[SEe]}Ws.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let a=e.state.selection,i=a.empty?null:e.posAtCoords(RN(n)),o;if(!(i&&i.pos>=a.from&&i.pos<=(a instanceof tt?a.to-1:a.to))){if(r&&r.mightDrag)o=tt.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=e.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=e.docView&&(o=tt.create(e.state.doc,m.posBefore))}}let l=(o||e.state.selection).content(),{dom:c,text:u,slice:f}=GR(e,l);(!n.dataTransfer.files.length||!Jr||Xee>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(ag?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",ag||n.dataTransfer.setData("text/plain",u),e.dragging=new Ste(f,Cte(e,n),o)};Ws.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Gs.dragover=Gs.dragenter=(e,t)=>t.preventDefault();Gs.drop=(e,t)=>{try{CEe(e,t,e.dragging)}finally{e.dragging=null}};function CEe(e,t,n){if(!t.dataTransfer)return;let r=e.posAtCoords(RN(t));if(!r)return;let a=e.state.doc.resolve(r.pos),i=n&&n.slice;i?e.someProp("transformPasted",g=>{i=g(i,e,!1)}):i=hte(e,Nte(t.dataTransfer),ag?null:t.dataTransfer.getData("text/html"),!1,a);let o=!!(n&&Cte(e,t));if(e.someProp("handleDrop",g=>g(e,t,i||ze.empty,o))){t.preventDefault();return}if(!i)return;t.preventDefault();let l=i?Aee(e.state.doc,a.pos,i):a.pos;l==null&&(l=a.pos);let c=e.state.tr;if(o){let{node:g}=n;g?g.replace(c):c.deleteSelection()}let u=c.mapping.map(l),f=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,m=c.doc;if(f?c.replaceRangeWith(u,u,i.content.firstChild):c.replaceRange(u,u,i),c.doc.eq(m))return;let p=c.doc.resolve(u);if(f&&tt.isSelectable(i.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(i.content.firstChild))c.setSelection(new tt(p));else{let g=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((v,y,w,N)=>g=N),c.setSelection(WR(e,p,c.doc.resolve(g)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))}Ws.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Ml(e)},20))};Ws.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Ws.beforeinput=(e,t)=>{if(Jr&&Cl&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",i=>i(e,Bd(8,"Backspace")))))return;let{$cursor:a}=e.state.selection;a&&a.pos>0&&e.dispatch(e.state.tr.delete(a.pos-1,a.pos).scrollIntoView())},50)}};for(let e in Gs)Ws[e]=Gs[e];function og(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class tj{constructor(t,n){this.toDOM=t,this.spec=n||tu,this.side=this.spec.side||0}map(t,n,r,a){let{pos:i,deleted:o}=t.mapResult(n.from+a,this.side<0?-1:1);return o?null:new Bs(i-r,i-r,this)}valid(){return!0}eq(t){return this==t||t instanceof tj&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&og(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class qc{constructor(t,n){this.attrs=t,this.spec=n||tu}map(t,n,r,a){let i=t.map(n.from+a,this.spec.inclusiveStart?-1:1)-r,o=t.map(n.to+a,this.spec.inclusiveEnd?1:-1)-r;return i>=o?null:new Bs(i,o,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof qc&&og(this.attrs,t.attrs)&&og(this.spec,t.spec)}static is(t){return t.type instanceof qc}destroy(){}}class JR{constructor(t,n){this.attrs=t,this.spec=n||tu}map(t,n,r,a){let i=t.mapResult(n.from+a,1);if(i.deleted)return null;let o=t.mapResult(n.to+a,-1);return o.deleted||o.pos<=i.pos?null:new Bs(i.pos-r,o.pos-r,this)}valid(t,n){let{index:r,offset:a}=t.content.findIndex(n.from),i;return a==n.from&&!(i=t.child(r)).isText&&a+i.nodeSize==n.to}eq(t){return this==t||t instanceof JR&&og(this.attrs,t.attrs)&&og(this.spec,t.spec)}destroy(){}}class Bs{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Bs(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Bs(t,t,new tj(n,r))}static inline(t,n,r,a){return new Bs(t,n,new qc(r,a))}static node(t,n,r,a){return new Bs(t,n,new JR(r,a))}get spec(){return this.type.spec}get inline(){return this.type instanceof qc}get widget(){return this.type instanceof tj}}const Ff=[],tu={};class tr{constructor(t,n){this.local=t.length?t:Ff,this.children=n.length?n:Ff}static create(t,n){return n.length?nj(n,t,0,tu):js}find(t,n,r){let a=[];return this.findInner(t??0,n??1e9,a,0,r),a}findInner(t,n,r,a,i){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=n&&l.to>=t&&(!i||i(l.spec))&&r.push(l.copy(l.from+a,l.to+a))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>t){let l=this.children[o]+1;this.children[o+2].findInner(t-l,n-l,r,a+l,i)}}map(t,n,r){return this==js||t.maps.length==0?this:this.mapInner(t,n,0,0,r||tu)}mapInner(t,n,r,a,i){let o;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(t,r,a);c&&c.type.valid(n,c)?(o||(o=[])).push(c):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?kEe(this.children,o||[],t,n,r,a,i):o?new tr(o.sort(nu),Ff):js}add(t,n){return n.length?this==js?tr.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let a,i=0;t.forEach((l,c)=>{let u=c+r,f;if(f=Tte(n,l,u)){for(a||(a=this.children.slice());i<a.length&&a[i]<c;)i+=3;a[i]==c?a[i+2]=a[i+2].addInner(l,f,u+1):a.splice(i,0,c,c+l.nodeSize,nj(f,l,u+1,tu)),i+=3}});let o=kte(i?Ate(n):n,-r);for(let l=0;l<o.length;l++)o[l].type.valid(t,o[l])||o.splice(l--,1);return new tr(o.length?this.local.concat(o).sort(nu):this.local,a||this.children)}remove(t){return t.length==0||this==js?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,a=this.local;for(let i=0;i<r.length;i+=3){let o,l=r[i]+n,c=r[i+1]+n;for(let f=0,m;f<t.length;f++)(m=t[f])&&m.from>l&&m.to<c&&(t[f]=null,(o||(o=[])).push(m));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[i+2].removeInner(o,l+1);u!=js?r[i+2]=u:(r.splice(i,3),i-=3)}if(a.length){for(let i=0,o;i<t.length;i++)if(o=t[i])for(let l=0;l<a.length;l++)a[l].eq(o,n)&&(a==this.local&&(a=this.local.slice()),a.splice(l--,1))}return r==this.children&&a==this.local?this:a.length||r.length?new tr(a,r):js}forChild(t,n){if(this==js)return this;if(n.isLeaf)return tr.empty;let r,a;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=t){this.children[l]==t&&(r=this.children[l+2]);break}let i=t+1,o=i+n.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<o&&c.to>i&&c.type instanceof qc){let u=Math.max(i,c.from)-i,f=Math.min(o,c.to)-i;u<f&&(a||(a=[])).push(c.copy(u,f))}}if(a){let l=new tr(a.sort(nu),Ff);return r?new Pc([l,r]):l}return r||js}eq(t){if(this==t)return!0;if(!(t instanceof tr)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return ZR(this.localsInner(t))}localsInner(t){if(this==js)return Ff;if(t.inlineContent||!this.local.some(qc.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof qc||n.push(this.local[r]);return n}forEachSet(t){t(this)}}tr.empty=new tr([],[]);tr.removeOverlap=ZR;const js=tr.empty;class Pc{constructor(t){this.members=t}map(t,n){const r=this.members.map(a=>a.map(t,n,tu));return Pc.from(r)}forChild(t,n){if(n.isLeaf)return tr.empty;let r=[];for(let a=0;a<this.members.length;a++){let i=this.members[a].forChild(t,n);i!=js&&(i instanceof Pc?r=r.concat(i.members):r.push(i))}return Pc.from(r)}eq(t){if(!(t instanceof Pc)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let a=0;a<this.members.length;a++){let i=this.members[a].localsInner(t);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let o=0;o<i.length;o++)n.push(i[o])}}return n?ZR(r?n:n.sort(nu)):Ff}static from(t){switch(t.length){case 0:return js;case 1:return t[0];default:return new Pc(t.every(n=>n instanceof tr)?t:t.reduce((n,r)=>n.concat(r instanceof tr?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function kEe(e,t,n,r,a,i,o){let l=e.slice();for(let u=0,f=i;u<n.maps.length;u++){let m=0;n.maps[u].forEach((p,g,v,y)=>{let w=y-v-(g-p);for(let N=0;N<l.length;N+=3){let A=l[N+1];if(A<0||p>A+f-m)continue;let T=l[N]+f-m;g>=T?l[N+1]=p<=T?-2:-1:p>=f&&w&&(l[N]+=w,l[N+1]+=w)}m+=w}),f=n.maps[u].map(f,-1)}let c=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){c=!0,l[u+1]=-1;continue}let f=n.map(e[u]+i),m=f-a;if(m<0||m>=r.content.size){c=!0;continue}let p=n.map(e[u+1]+i,-1),g=p-a,{index:v,offset:y}=r.content.findIndex(m),w=r.maybeChild(v);if(w&&y==m&&y+w.nodeSize==g){let N=l[u+2].mapInner(n,w,f+1,e[u]+i+1,o);N!=js?(l[u]=m,l[u+1]=g,l[u+2]=N):(l[u+1]=-2,c=!0)}else c=!0}if(c){let u=TEe(l,e,t,n,a,i,o),f=nj(u,r,0,o);t=f.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,p=0;m<f.children.length;m+=3){let g=f.children[m];for(;p<l.length&&l[p]<g;)p+=3;l.splice(p,0,f.children[m],f.children[m+1],f.children[m+2])}}return new tr(t.sort(nu),l)}function kte(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let a=e[r];n.push(new Bs(a.from+t,a.to+t,a.type))}return n}function TEe(e,t,n,r,a,i,o){function l(c,u){for(let f=0;f<c.local.length;f++){let m=c.local[f].map(r,a,u);m?n.push(m):o.onRemove&&o.onRemove(c.local[f].spec)}for(let f=0;f<c.children.length;f+=3)l(c.children[f+2],c.children[f]+u+1)}for(let c=0;c<e.length;c+=3)e[c+1]==-1&&l(e[c+2],t[c]+i+1);return n}function Tte(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,a=null;for(let i=0,o;i<e.length;i++)(o=e[i])&&o.from>n&&o.to<r&&((a||(a=[])).push(o),e[i]=null);return a}function Ate(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function nj(e,t,n,r){let a=[],i=!1;t.forEach((l,c)=>{let u=Tte(e,l,c+n);if(u){i=!0;let f=nj(u,l,n+c+1,r);f!=js&&a.push(c,c+l.nodeSize,f)}});let o=kte(i?Ate(e):e,-n).sort(nu);for(let l=0;l<o.length;l++)o[l].type.valid(t,o[l])||(r.onRemove&&r.onRemove(o[l].spec),o.splice(l--,1));return o.length||a.length?new tr(o,a):js}function nu(e,t){return e.from-t.from||e.to-t.to}function ZR(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let a=n+1;a<t.length;a++){let i=t[a];if(i.from==r.from){i.to!=r.to&&(t==e&&(t=e.slice()),t[a]=i.copy(i.from,r.to),wz(t,a+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),wz(t,a,r.copy(i.from,r.to)));break}}}return t}function wz(e,t,n){for(;t<e.length&&nu(n,e[t])>0;)t++;e.splice(t,0,n)}function GC(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=js&&t.push(r)}),e.cursorWrapper&&t.push(tr.create(e.state.doc,[e.cursorWrapper.deco])),Pc.from(t)}const AEe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},EEe=ma&&Bc<=11;class OEe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class PEe{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new OEe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let a=0;a<r.length;a++)this.queue.push(r[a]);ma&&Bc<=11&&r.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():ys&&t.composing&&r.some(a=>a.type=="childList"&&a.target.nodeName=="TR")?(t.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),EEe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,AEe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(mz(this.view)){if(this.suppressingSelectionUpdates)return Ml(this.view);if(ma&&Bc<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&vu(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let i=t.focusNode;i;i=Ch(i))n.add(i);for(let i=t.anchorNode;i;i=Ch(i))if(n.has(i)){r=i;break}let a=r&&this.view.docView.nearestDesc(r);if(a&&a.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),a=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&mz(t)&&!this.ignoreSelectionChange(r),i=-1,o=-1,l=!1,c=[];if(t.editable)for(let f=0;f<n.length;f++){let m=this.registerMutation(n[f],c);m&&(i=i<0?m.from:Math.min(m.from,i),o=o<0?m.to:Math.max(m.to,o),m.typeOver&&(l=!0))}if(bi&&c.length){let f=c.filter(m=>m.nodeName=="BR");if(f.length==2){let[m,p]=f;m.parentNode&&m.parentNode.parentNode==p.parentNode?p.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let p of f){let g=p.parentNode;g&&g.nodeName=="LI"&&(!m||REe(t,m)!=g)&&p.remove()}}}else if((Jr||ys)&&c.some(f=>f.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let f of c)if(f.nodeName=="BR"&&f.parentNode){let m=f.nextSibling;m&&m.nodeType==1&&m.contentEditable=="false"&&f.parentNode.removeChild(f)}}let u=null;i<0&&a&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&MN(r)&&(u=KR(t))&&u.eq(pt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Ml(t),this.currentSelection.set(r),t.scrollToSelection()):(i>-1||a)&&(i>-1&&(t.docView.markDirty(i,o),MEe(t)),t.input.badSafariComposition&&(t.input.badSafariComposition=!1,DEe(t,c)),this.handleDOMChange(i,o,l,c),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Ml(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let f=0;f<t.addedNodes.length;f++){let m=t.addedNodes[f];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let a=t.previousSibling,i=t.nextSibling;if(ma&&Bc<=11&&t.addedNodes.length)for(let f=0;f<t.addedNodes.length;f++){let{previousSibling:m,nextSibling:p}=t.addedNodes[f];(!m||Array.prototype.indexOf.call(t.addedNodes,m)<0)&&(a=m),(!p||Array.prototype.indexOf.call(t.addedNodes,p)<0)&&(i=p)}let o=a&&a.parentNode==t.target?xs(a)+1:0,l=r.localPosFromDOM(t.target,o,-1),c=i&&i.parentNode==t.target?xs(i):t.target.childNodes.length,u=r.localPosFromDOM(t.target,c,1);return{from:l,to:u}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let Nz=new WeakMap,Sz=!1;function MEe(e){if(!Nz.has(e)&&(Nz.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=bi,Sz)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Sz=!0}}function Cz(e,t){let n=t.startContainer,r=t.startOffset,a=t.endContainer,i=t.endOffset,o=e.domAtPos(e.state.selection.anchor);return vu(o.node,o.offset,a,i)&&([n,r,a,i]=[a,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:a,focusOffset:i}}function _Ee(e,t){if(t.getComposedRanges){let a=t.getComposedRanges(e.root)[0];if(a)return Cz(e,a)}let n;function r(a){a.preventDefault(),a.stopImmediatePropagation(),n=a.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?Cz(e,n):null}function REe(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function DEe(e,t){var n;let{focusNode:r,focusOffset:a}=e.domSelectionRange();for(let i of t)if(((n=i.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let o=i.nextSibling;for(;o&&o.nodeName!="TD"&&o.nodeName!="TH";)o=o.nextSibling;if(o){let l=o;for(;;){let c=l.firstChild;if(!c||c.nodeType!=1||c.contentEditable=="false"||/^(BR|IMG)$/.test(c.nodeName))break;l=c}l.insertBefore(i,l.firstChild),r==i&&e.domSelection().collapse(i,a)}else i.parentNode.removeChild(i)}}function IEe(e,t,n){let{node:r,fromOffset:a,toOffset:i,from:o,to:l}=e.docView.parseRange(t,n),c=e.domSelectionRange(),u,f=c.anchorNode;if(f&&e.dom.contains(f.nodeType==1?f:f.parentNode)&&(u=[{node:f,offset:c.anchorOffset}],MN(c)||u.push({node:c.focusNode,offset:c.focusOffset})),Jr&&e.input.lastKeyCode===8)for(let w=i;w>a;w--){let N=r.childNodes[w-1],A=N.pmViewDesc;if(N.nodeName=="BR"&&!A){i=w;break}if(!A||A.size)break}let m=e.state.doc,p=e.someProp("domParser")||Fc.fromSchema(e.state.schema),g=m.resolve(o),v=null,y=p.parse(r,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:a,to:i,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:LEe,context:g});if(u&&u[0].pos!=null){let w=u[0].pos,N=u[1]&&u[1].pos;N==null&&(N=w),v={anchor:w+o,head:N+o}}return{doc:y,sel:v,from:o,to:l}}function LEe(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(ys&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||ys&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const $Ee=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function FEe(e,t,n,r,a){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let O=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,_=KR(e,O);if(_&&!e.state.selection.eq(_)){if(Jr&&Cl&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",$=>$(e,Bd(13,"Enter"))))return;let M=e.state.tr.setSelection(_);O=="pointer"?M.setMeta("pointer",!0):O=="key"&&M.scrollIntoView(),i&&M.setMeta("composition",i),e.dispatch(M)}return}let o=e.state.doc.resolve(t),l=o.sharedDepth(n);t=o.before(l+1),n=e.state.doc.resolve(n).after(l+1);let c=e.state.selection,u=IEe(e,t,n),f=e.state.doc,m=f.slice(u.from,u.to),p,g;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(p=e.state.selection.to,g="end"):(p=e.state.selection.from,g="start"),e.input.lastKeyCode=null;let v=qEe(m.content,u.doc.content,u.from,p,g);if(v&&e.input.domChangeCount++,(kh&&e.input.lastIOSEnter>Date.now()-225||Cl)&&a.some(O=>O.nodeType==1&&!$Ee.test(O.nodeName))&&(!v||v.endA>=v.endB)&&e.someProp("handleKeyDown",O=>O(e,Bd(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!v)if(r&&c instanceof yt&&!c.empty&&c.$head.sameParent(c.$anchor)&&!e.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))v={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let O=kz(e,e.state.doc,u.sel);if(O&&!O.eq(e.state.selection)){let _=e.state.tr.setSelection(O);i&&_.setMeta("composition",i),e.dispatch(_)}}return}e.state.selection.from<e.state.selection.to&&v.start==v.endB&&e.state.selection instanceof yt&&(v.start>e.state.selection.from&&v.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?v.start=e.state.selection.from:v.endA<e.state.selection.to&&v.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(v.endB+=e.state.selection.to-v.endA,v.endA=e.state.selection.to)),ma&&Bc<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>u.from&&u.doc.textBetween(v.start-u.from-1,v.start-u.from+1)==" "&&(v.start--,v.endA--,v.endB--);let y=u.doc.resolveNoCache(v.start-u.from),w=u.doc.resolveNoCache(v.endB-u.from),N=f.resolve(v.start),A=y.sameParent(w)&&y.parent.inlineContent&&N.end()>=v.endA;if((kh&&e.input.lastIOSEnter>Date.now()-225&&(!A||a.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!A&&y.pos<u.doc.content.size&&(!y.sameParent(w)||!y.parent.inlineContent)&&y.pos<w.pos&&!/\S/.test(u.doc.textBetween(y.pos,w.pos,"","")))&&e.someProp("handleKeyDown",O=>O(e,Bd(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>v.start&&zEe(f,v.start,v.endA,y,w)&&e.someProp("handleKeyDown",O=>O(e,Bd(8,"Backspace")))){Cl&&Jr&&e.domObserver.suppressSelectionUpdates();return}Jr&&v.endB==v.start&&(e.input.lastChromeDelete=Date.now()),Cl&&!A&&y.start()!=w.start()&&w.parentOffset==0&&y.depth==w.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==v.endA&&(v.endB-=2,w=u.doc.resolveNoCache(v.endB-u.from),setTimeout(()=>{e.someProp("handleKeyDown",function(O){return O(e,Bd(13,"Enter"))})},20));let T=v.start,C=v.endA,S=O=>{let _=O||e.state.tr.replace(T,C,u.doc.slice(v.start-u.from,v.endB-u.from));if(u.sel){let M=kz(e,_.doc,u.sel);M&&!(Jr&&e.composing&&M.empty&&(v.start!=v.endB||e.input.lastChromeDelete<Date.now()-100)&&(M.head==T||M.head==_.mapping.map(C)-1)||ma&&M.empty&&M.head==T)&&_.setSelection(M)}return i&&_.setMeta("composition",i),_.scrollIntoView()},E;if(A)if(y.pos==w.pos){ma&&Bc<=11&&y.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ml(e),20));let O=S(e.state.tr.delete(T,C)),_=f.resolve(v.start).marksAcross(f.resolve(v.endA));_&&O.ensureMarks(_),e.dispatch(O)}else if(v.endA==v.endB&&(E=BEe(y.parent.content.cut(y.parentOffset,w.parentOffset),N.parent.content.cut(N.parentOffset,v.endA-N.start())))){let O=S(e.state.tr);E.type=="add"?O.addMark(T,C,E.mark):O.removeMark(T,C,E.mark),e.dispatch(O)}else if(y.parent.child(y.index()).isText&&y.index()==w.index()-(w.textOffset?0:1)){let O=y.parent.textBetween(y.parentOffset,w.parentOffset),_=()=>S(e.state.tr.insertText(O,T,C));e.someProp("handleTextInput",M=>M(e,T,C,O,_))||e.dispatch(_())}else e.dispatch(S());else e.dispatch(S())}function kz(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:WR(e,t.resolve(n.anchor),t.resolve(n.head))}function BEe(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,a=n,i=r,o,l,c;for(let f=0;f<r.length;f++)a=r[f].removeFromSet(a);for(let f=0;f<n.length;f++)i=n[f].removeFromSet(i);if(a.length==1&&i.length==0)l=a[0],o="add",c=f=>f.mark(l.addToSet(f.marks));else if(a.length==0&&i.length==1)l=i[0],o="remove",c=f=>f.mark(l.removeFromSet(f.marks));else return null;let u=[];for(let f=0;f<t.childCount;f++)u.push(c(t.child(f)));if(Ee.from(u).eq(e))return{mark:l,type:o}}function zEe(e,t,n,r,a){if(n-t<=a.pos-r.pos||YC(r,!0,!1)<a.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==t+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=e.resolve(YC(i,!0,!0));return!o.parent.isTextblock||o.pos>n||YC(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function YC(e,t,n){let r=e.depth,a=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,a++,t=!1;if(n){let i=e.node(r).maybeChild(e.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,a++}return a}function qEe(e,t,n,r,a){let i=e.findDiffStart(t,n);if(i==null)return null;let{a:o,b:l}=e.findDiffEnd(t,n+e.size,n+t.size);if(a=="end"){let c=Math.max(0,i-Math.min(o,l));r-=o+c-i}if(o<i&&e.size<t.size){let c=r<=i&&r>=o?i-r:0;i-=c,i&&i<t.size&&Tz(t.textBetween(i-1,i+1))&&(i+=c?1:-1),l=i+(l-o),o=i}else if(l<i){let c=r<=i&&r>=l?i-r:0;i-=c,i&&i<e.size&&Tz(e.textBetween(i-1,i+1))&&(i+=c?1:-1),o=i+(o-l),l=i}return{start:i,endA:o,endB:l}}function Tz(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class Ete{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new sEe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Mz),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Oz(this),Ez(this),this.nodeViews=Pz(this),this.docView=lz(this.state.doc,Az(this),GC(this),this.dom,this),this.domObserver=new PEe(this,(r,a,i,o)=>FEe(this,r,a,i,o)),this.domObserver.start(),aEe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&YP(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(Mz),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let a=this.state,i=!1,o=!1;t.storedMarks&&this.composing&&(wte(this),o=!0),this.state=t;let l=a.plugins!=t.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let g=Pz(this);VEe(g,this.nodeViews)&&(this.nodeViews=g,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&YP(this),this.editable=Oz(this),Ez(this);let c=GC(this),u=Az(this),f=a.plugins!=t.plugins&&!a.doc.eq(t.doc)?"reset":t.scrollToSelection>a.scrollToSelection?"to selection":"preserve",m=i||!this.docView.matchesNode(t.doc,u,c);(m||!t.selection.eq(a.selection))&&(o=!0);let p=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&vAe(this);if(o){this.domObserver.stop();let g=m&&(ma||Jr)&&!this.composing&&!a.selection.empty&&!t.selection.empty&&UEe(a.selection,t.selection);if(m){let v=Jr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=vEe(this)),(i||!this.docView.update(t.doc,u,c,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=lz(t.doc,u,c,this.dom,this)),v&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&UAe(this))?Ml(this,g):(dte(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(a),!((r=this.dragging)===null||r===void 0)&&r.node&&!a.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,a),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():p&&bAe(p)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof tt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&nz(this,n.getBoundingClientRect(),t)}else nz(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,a=-1;if(this.state.doc.nodeAt(r.from)==r.node)a=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(a=i)}this.dragging=new Ste(t.slice,t.move,a<0?void 0:tt.create(this.state.doc,a))}someProp(t,n){let r=this._props&&this._props[t],a;if(r!=null&&(a=n?n(r):r))return a;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[t];if(l!=null&&(a=n?n(l):l))return a}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let l=i[o].props[t];if(l!=null&&(a=n?n(l):l))return a}}hasFocus(){if(ma){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&jAe(this.dom),Ml(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return kAe(this,t)}coordsAtPos(t,n=1){return nte(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let a=this.docView.posFromDOM(t,n,r);if(a==null)throw new RangeError("DOM position not inside the editor");return a}endOfTextblock(t,n){return PAe(this,n||this.state,t)}pasteHTML(t,n){return ig(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return ig(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return GR(this,t)}destroy(){this.docView&&(iEe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],GC(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,cAe())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return lEe(this,t)}domSelectionRange(){let t=this.domSelection();return t?ys&&this.root.nodeType===11&&mAe(this.dom.ownerDocument)==this.dom&&_Ee(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Ete.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function Az(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[Bs.node(0,e.state.doc.content.size,t)]}function Ez(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Bs.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Oz(e){return!e.someProp("editable",t=>t(e.state)===!1)}function UEe(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function Pz(e){let t=Object.create(null);function n(r){for(let a in r)Object.prototype.hasOwnProperty.call(t,a)||(t[a]=r[a])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function VEe(e,t){let n=0,r=0;for(let a in e){if(e[a]!=t[a])return!0;n++}for(let a in t)r++;return n!=r}function Mz(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Yc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},rj={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},HEe=typeof navigator<"u"&&/Mac/.test(navigator.platform),KEe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var gs=0;gs<10;gs++)Yc[48+gs]=Yc[96+gs]=String(gs);for(var gs=1;gs<=24;gs++)Yc[gs+111]="F"+gs;for(var gs=65;gs<=90;gs++)Yc[gs]=String.fromCharCode(gs+32),rj[gs]=String.fromCharCode(gs);for(var XC in Yc)rj.hasOwnProperty(XC)||(rj[XC]=Yc[XC]);function WEe(e){var t=HEe&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||KEe&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?rj:Yc)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const GEe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),YEe=typeof navigator<"u"&&/Win/.test(navigator.platform);function XEe(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,a,i,o;for(let l=0;l<t.length-1;l++){let c=t[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))a=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))GEe?o=!0:a=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),a&&(n="Ctrl-"+n),o&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function QEe(e){let t=Object.create(null);for(let n in e)t[XEe(n)]=e[n];return t}function QC(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function JEe(e){return new Bn({props:{handleKeyDown:e5(e)}})}function e5(e){let t=QEe(e);return function(n,r){let a=WEe(r),i,o=t[QC(a,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(a.length==1&&a!=" "){if(r.shiftKey){let l=t[QC(a,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(YEe&&r.ctrlKey&&r.altKey)&&(i=Yc[r.keyCode])&&i!=a){let l=t[QC(i,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}var ZEe=Object.defineProperty,t5=(e,t)=>{for(var n in t)ZEe(e,n,{get:t[n],enumerable:!0})};function DN(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:a}=n,{storedMarks:i}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return r},get doc(){return a},get tr(){return r=n.selection,a=n.doc,i=n.storedMarks,n}}}var IN=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:a}=n,i=this.buildProps(a);return Object.fromEntries(Object.entries(e).map(([o,l])=>[o,(...u)=>{const f=l(...u)(i);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(a),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:a}=this,{view:i}=r,o=[],l=!!e,c=e||a.tr,u=()=>(!l&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(c),o.every(m=>m===!0)),f={...Object.fromEntries(Object.entries(n).map(([m,p])=>[m,(...v)=>{const y=this.buildProps(c,t),w=p(...v)(y);return o.push(w),f}])),run:u};return f}createCan(e){const{rawCommands:t,state:n}=this,r=!1,a=e||n.tr,i=this.buildProps(a,r);return{...Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...u)=>c(...u)({...i,dispatch:void 0})])),chain:()=>this.createChain(a,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:a}=this,{view:i}=r,o={tr:e,editor:r,view:i,state:DN({state:a,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)(o)]))}};return o}},Ote={};t5(Ote,{blur:()=>eOe,clearContent:()=>tOe,clearNodes:()=>nOe,command:()=>rOe,createParagraphNear:()=>sOe,cut:()=>aOe,deleteCurrentNode:()=>iOe,deleteNode:()=>oOe,deleteRange:()=>lOe,deleteSelection:()=>cOe,enter:()=>dOe,exitCode:()=>uOe,extendMarkRange:()=>fOe,first:()=>hOe,focus:()=>pOe,forEach:()=>xOe,insertContent:()=>gOe,insertContentAt:()=>bOe,joinBackward:()=>NOe,joinDown:()=>wOe,joinForward:()=>SOe,joinItemBackward:()=>COe,joinItemForward:()=>kOe,joinTextblockBackward:()=>TOe,joinTextblockForward:()=>AOe,joinUp:()=>jOe,keyboardShortcut:()=>OOe,lift:()=>POe,liftEmptyBlock:()=>MOe,liftListItem:()=>_Oe,newlineInCode:()=>ROe,resetAttributes:()=>DOe,scrollIntoView:()=>IOe,selectAll:()=>LOe,selectNodeBackward:()=>$Oe,selectNodeForward:()=>FOe,selectParentNode:()=>BOe,selectTextblockEnd:()=>zOe,selectTextblockStart:()=>qOe,setContent:()=>UOe,setMark:()=>lPe,setMeta:()=>cPe,setNode:()=>dPe,setNodeSelection:()=>uPe,setTextDirection:()=>fPe,setTextSelection:()=>hPe,sinkListItem:()=>mPe,splitBlock:()=>pPe,splitListItem:()=>xPe,toggleList:()=>gPe,toggleMark:()=>yPe,toggleNode:()=>vPe,toggleWrap:()=>bPe,undoInputRule:()=>jPe,unsetAllMarks:()=>wPe,unsetMark:()=>NPe,unsetTextDirection:()=>SPe,updateAttributes:()=>CPe,wrapIn:()=>kPe,wrapInList:()=>TPe});var eOe=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),tOe=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),nOe=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:a}=r;return n&&a.forEach(({$from:i,$to:o})=>{e.doc.nodesBetween(i.pos,o.pos,(l,c)=>{if(l.type.isText)return;const{doc:u,mapping:f}=t,m=u.resolve(f.map(c)),p=u.resolve(f.map(c+l.nodeSize)),g=m.blockRange(p);if(!g)return;const v=ym(g);if(l.type.isTextblock){const{defaultType:y}=m.parent.contentMatchAt(m.index());t.setNodeMarkup(g.start,y)}(v||v===0)&&t.lift(g,v)})}),!0},rOe=e=>t=>e(t),sOe=()=>({state:e,dispatch:t})=>Hee(e,t),aOe=(e,t)=>({editor:n,tr:r})=>{const{state:a}=n,i=a.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const o=r.mapping.map(t);return r.insert(o,i.content),r.setSelection(new yt(r.doc.resolve(Math.max(o-1,0)))),!0},iOe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const a=e.selection.$anchor;for(let i=a.depth;i>0;i-=1)if(a.node(i).type===r.type){if(t){const l=a.before(i),c=a.after(i);e.delete(l,c).scrollIntoView()}return!0}return!1};function Mr(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var oOe=e=>({tr:t,state:n,dispatch:r})=>{const a=Mr(e,n.schema),i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===a){if(r){const c=i.before(o),u=i.after(o);t.delete(c,u).scrollIntoView()}return!0}return!1},lOe=e=>({tr:t,dispatch:n})=>{const{from:r,to:a}=e;return n&&t.delete(r,a),!0},cOe=()=>({state:e,dispatch:t})=>BR(e,t),dOe=()=>({commands:e})=>e.keyboardShortcut("Enter"),uOe=()=>({state:e,dispatch:t})=>GTe(e,t);function n5(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function sj(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(a=>n.strict?t[a]===e[a]:n5(t[a])?t[a].test(e[a]):t[a]===e[a]):!0}function Pte(e,t,n={}){return e.find(r=>r.type===t&&sj(Object.fromEntries(Object.keys(n).map(a=>[a,r.attrs[a]])),n))}function _z(e,t,n={}){return!!Pte(e,t,n)}function r5(e,t,n){var r;if(!e||!t)return;let a=e.parent.childAfter(e.parentOffset);if((!a.node||!a.node.marks.some(f=>f.type===t))&&(a=e.parent.childBefore(e.parentOffset)),!a.node||!a.node.marks.some(f=>f.type===t)||(n=n||((r=a.node.marks[0])==null?void 0:r.attrs),!Pte([...a.node.marks],t,n)))return;let o=a.index,l=e.start()+a.offset,c=o+1,u=l+a.node.nodeSize;for(;o>0&&_z([...e.parent.child(o-1).marks],t,n);)o-=1,l-=e.parent.child(o).nodeSize;for(;c<e.parent.childCount&&_z([...e.parent.child(c).marks],t,n);)u+=e.parent.child(c).nodeSize,c+=1;return{from:l,to:u}}function Kl(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var fOe=(e,t={})=>({tr:n,state:r,dispatch:a})=>{const i=Kl(e,r.schema),{doc:o,selection:l}=n,{$from:c,from:u,to:f}=l;if(a){const m=r5(c,i,t);if(m&&m.from<=u&&m.to>=f){const p=yt.create(o,m.from,m.to);n.setSelection(p)}}return!0},hOe=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function s5(e){return e instanceof yt}function kl(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function Mte(e,t=null){if(!t)return null;const n=pt.atStart(e),r=pt.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const a=n.from,i=r.to;return t==="all"?yt.create(e,kl(0,a,i),kl(e.content.size,a,i)):yt.create(e,kl(t,a,i),kl(t,a,i))}function Rz(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function aj(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function mOe(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var pOe=(e=null,t={})=>({editor:n,view:r,tr:a,dispatch:i})=>{t={scrollIntoView:!0,...t};const o=()=>{(aj()||Rz())&&r.dom.focus(),mOe()&&!aj()&&!Rz()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};try{if(r.hasFocus()&&e===null||e===!1)return!0}catch{return!1}if(i&&e===null&&!s5(n.state.selection))return o(),!0;const l=Mte(a.doc,e)||n.state.selection,c=n.state.selection.eq(l);return i&&(c||a.setSelection(l),c&&a.storedMarks&&a.setStoredMarks(a.storedMarks),o()),!0},xOe=(e,t)=>n=>e.every((r,a)=>t(r,{...n,index:a})),gOe=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),_te=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&_te(r)}return e};function pb(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return _te(n)}function lg(e,t,n){if(e instanceof $c||e instanceof Ee)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,a=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return Ee.fromArray(e.map(l=>t.nodeFromJSON(l)));const o=t.nodeFromJSON(e);return n.errorOnInvalidContent&&o.check(),o}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",i),lg("",t,n)}if(a){if(n.errorOnInvalidContent){let o=!1,l="";const c=new gee({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(o=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?Fc.fromSchema(c).parseSlice(pb(e),n.parseOptions):Fc.fromSchema(c).parse(pb(e),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=Fc.fromSchema(t);return n.slice?i.parseSlice(pb(e),n.parseOptions).content:i.parse(pb(e),n.parseOptions)}return lg("",t,n)}function yOe(e,t,n){const r=e.steps.length-1;if(r<t)return;const a=e.steps[r];if(!(a instanceof Yr||a instanceof Zr))return;const i=e.mapping.maps[r];let o=0;i.forEach((l,c,u,f)=>{o===0&&(o=f)}),e.setSelection(pt.near(e.doc.resolve(o),n))}var vOe=e=>!("type"in e),bOe=(e,t,n)=>({tr:r,dispatch:a,editor:i})=>{var o;if(a){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const c=w=>{i.emit("contentError",{editor:i,error:w,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{lg(t,i.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(w){c(w)}try{l=lg(t,i.schema,{parseOptions:u,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:i.options.enableContentCheck})}catch(w){return c(w),!1}let{from:f,to:m}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},p=!0,g=!0;if((vOe(l)?l:[l]).forEach(w=>{w.check(),p=p?w.isText&&w.marks.length===0:!1,g=g?w.isBlock:!1}),f===m&&g){const{parent:w}=r.doc.resolve(f);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(f-=1,m+=1)}let y;if(p){if(Array.isArray(t))y=t.map(w=>w.text||"").join("");else if(t instanceof Ee){let w="";t.forEach(N=>{N.text&&(w+=N.text)}),y=w}else typeof t=="object"&&t&&t.text?y=t.text:y=t;r.insertText(y,f,m)}else{y=l;const w=r.doc.resolve(f),N=w.node(),A=w.parentOffset===0,T=N.isText||N.isTextblock,C=N.content.size>0;A&&T&&C&&(f=Math.max(0,f-1)),r.replaceWith(f,m,y)}n.updateSelection&&yOe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:f,text:y}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:f,text:y})}return!0},jOe=()=>({state:e,dispatch:t})=>HTe(e,t),wOe=()=>({state:e,dispatch:t})=>KTe(e,t),NOe=()=>({state:e,dispatch:t})=>$ee(e,t),SOe=()=>({state:e,dispatch:t})=>qee(e,t),COe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=EN(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},kOe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=EN(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},TOe=()=>({state:e,dispatch:t})=>UTe(e,t),AOe=()=>({state:e,dispatch:t})=>VTe(e,t);function Rte(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function EOe(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,a,i,o;for(let l=0;l<t.length-1;l+=1){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))a=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))aj()||Rte()?o=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(n=`Alt-${n}`),a&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var OOe=e=>({editor:t,view:n,tr:r,dispatch:a})=>{const i=EOe(e).split(/-(?!$)/),o=i.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=t.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return c?.steps.forEach(u=>{const f=u.map(r.mapping);f&&a&&r.maybeStep(f)}),!0};function Xc(e,t,n={}){const{from:r,to:a,empty:i}=e.selection,o=t?Mr(t,e.schema):null,l=[];e.doc.nodesBetween(r,a,(m,p)=>{if(m.isText)return;const g=Math.max(r,p),v=Math.min(a,p+m.nodeSize);l.push({node:m,from:g,to:v})});const c=a-r,u=l.filter(m=>o?o.name===m.node.type.name:!0).filter(m=>sj(m.node.attrs,n,{strict:!1}));return i?!!u.length:u.reduce((m,p)=>m+p.to-p.from,0)>=c}var POe=(e,t={})=>({state:n,dispatch:r})=>{const a=Mr(e,n.schema);return Xc(n,a,t)?WTe(n,r):!1},MOe=()=>({state:e,dispatch:t})=>Kee(e,t),_Oe=e=>({state:t,dispatch:n})=>{const r=Mr(e,t.schema);return aAe(r)(t,n)},ROe=()=>({state:e,dispatch:t})=>Vee(e,t);function LN(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function Dz(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,a)=>(n.includes(a)||(r[a]=e[a]),r),{})}var DOe=(e,t)=>({tr:n,state:r,dispatch:a})=>{let i=null,o=null;const l=LN(typeof e=="string"?e:e.name,r.schema);if(!l)return!1;l==="node"&&(i=Mr(e,r.schema)),l==="mark"&&(o=Kl(e,r.schema));let c=!1;return n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(f,m)=>{i&&i===f.type&&(c=!0,a&&n.setNodeMarkup(m,void 0,Dz(f.attrs,t))),o&&f.marks.length&&f.marks.forEach(p=>{o===p.type&&(c=!0,a&&n.addMark(m,m+f.nodeSize,o.create(Dz(p.attrs,t))))})})}),c},IOe=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),LOe=()=>({tr:e,dispatch:t})=>{if(t){const n=new Fa(e.doc);e.setSelection(n)}return!0},$Oe=()=>({state:e,dispatch:t})=>Bee(e,t),FOe=()=>({state:e,dispatch:t})=>Uee(e,t),BOe=()=>({state:e,dispatch:t})=>QTe(e,t),zOe=()=>({state:e,dispatch:t})=>eAe(e,t),qOe=()=>({state:e,dispatch:t})=>ZTe(e,t);function XP(e,t,n={},r={}){return lg(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var UOe=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:a,tr:i,dispatch:o,commands:l})=>{const{doc:c}=i;if(r.preserveWhitespace!=="full"){const u=XP(e,a.schema,r,{errorOnInvalidContent:t??a.options.enableContentCheck});return o&&i.replaceWith(0,c.content.size,u).setMeta("preventUpdate",!n),!0}return o&&i.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:c.content.size},e,{parseOptions:r,errorOnInvalidContent:t??a.options.enableContentCheck})};function Dte(e,t){const n=Kl(t,e.schema),{from:r,to:a,empty:i}=e.selection,o=[];i?(e.storedMarks&&o.push(...e.storedMarks),o.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,a,c=>{o.push(...c.marks)});const l=o.find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function Ite(e,t){const n=new _ee(e);return t.forEach(r=>{r.steps.forEach(a=>{n.step(a)})}),n}function VOe(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function HOe(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(a,i)=>{n(a)&&r.push({node:a,pos:i})}),r}function KOe(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function $N(e){return t=>KOe(t.$from,e)}function Qe(e,t,n){return e.config[t]===void 0&&e.parent?Qe(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Qe(e.parent,t,n):null}):e.config[t]}function a5(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=Qe(t,"addExtensions",n);return r?[t,...a5(r())]:t}).flat(10)}function i5(e,t){const n=Iu.fromSchema(t).serializeFragment(e),a=document.implementation.createHTMLDocument().createElement("div");return a.appendChild(n),a.innerHTML}function Lte(e){return typeof e=="function"}function hn(e,t=void 0,...n){return Lte(e)?t?e.bind(t)(...n):e(...n):e}function WOe(e={}){return Object.keys(e).length===0&&e.constructor===Object}function Th(e){const t=e.filter(a=>a.type==="extension"),n=e.filter(a=>a.type==="node"),r=e.filter(a=>a.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function $te(e){const t=[],{nodeExtensions:n,markExtensions:r}=Th(e),a=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:a},c=Qe(o,"addGlobalAttributes",l);if(!c)return;c().forEach(f=>{f.types.forEach(m=>{Object.entries(f.attributes).forEach(([p,g])=>{t.push({type:m,name:p,attribute:{...i,...g}})})})})}),a.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},c=Qe(o,"addAttributes",l);if(!c)return;const u=c();Object.entries(u).forEach(([f,m])=>{const p={...i,...m};typeof p?.default=="function"&&(p.default=p.default()),p?.isRequired&&p?.default===void 0&&delete p.default,t.push({type:o.name,name:f,attribute:p})})}),t}function br(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([a,i])=>{if(!r[a]){r[a]=i;return}if(a==="class"){const l=i?String(i).split(" "):[],c=r[a]?r[a].split(" "):[],u=l.filter(f=>!c.includes(f));r[a]=[...c,...u].join(" ")}else if(a==="style"){const l=i?i.split(";").map(f=>f.trim()).filter(Boolean):[],c=r[a]?r[a].split(";").map(f=>f.trim()).filter(Boolean):[],u=new Map;c.forEach(f=>{const[m,p]=f.split(":").map(g=>g.trim());u.set(m,p)}),l.forEach(f=>{const[m,p]=f.split(":").map(g=>g.trim());u.set(m,p)}),r[a]=Array.from(u.entries()).map(([f,m])=>`${f}: ${m}`).join("; ")}else r[a]=i}),r},{})}function cg(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>br(n,r),{})}function GOe(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function Iz(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const a=t.reduce((i,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(n):GOe(n.getAttribute(o.name));return l==null?i:{...i,[o.name]:l}},{});return{...r,...a}}}}function Lz(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&WOe(n)?!1:n!=null))}function $z(e){var t,n;const r={};return!((t=e?.attribute)!=null&&t.isRequired)&&"default"in(e?.attribute||{})&&(r.default=e.attribute.default),((n=e?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=e.attribute.validate),[e.name,r]}function YOe(e,t){var n;const r=$te(e),{nodeExtensions:a,markExtensions:i}=Th(e),o=(n=a.find(u=>Qe(u,"topNode")))==null?void 0:n.name,l=Object.fromEntries(a.map(u=>{const f=r.filter(N=>N.type===u.name),m={name:u.name,options:u.options,storage:u.storage,editor:t},p=e.reduce((N,A)=>{const T=Qe(A,"extendNodeSchema",m);return{...N,...T?T(u):{}}},{}),g=Lz({...p,content:hn(Qe(u,"content",m)),marks:hn(Qe(u,"marks",m)),group:hn(Qe(u,"group",m)),inline:hn(Qe(u,"inline",m)),atom:hn(Qe(u,"atom",m)),selectable:hn(Qe(u,"selectable",m)),draggable:hn(Qe(u,"draggable",m)),code:hn(Qe(u,"code",m)),whitespace:hn(Qe(u,"whitespace",m)),linebreakReplacement:hn(Qe(u,"linebreakReplacement",m)),defining:hn(Qe(u,"defining",m)),isolating:hn(Qe(u,"isolating",m)),attrs:Object.fromEntries(f.map($z))}),v=hn(Qe(u,"parseHTML",m));v&&(g.parseDOM=v.map(N=>Iz(N,f)));const y=Qe(u,"renderHTML",m);y&&(g.toDOM=N=>y({node:N,HTMLAttributes:cg(N,f)}));const w=Qe(u,"renderText",m);return w&&(g.toText=w),[u.name,g]})),c=Object.fromEntries(i.map(u=>{const f=r.filter(w=>w.type===u.name),m={name:u.name,options:u.options,storage:u.storage,editor:t},p=e.reduce((w,N)=>{const A=Qe(N,"extendMarkSchema",m);return{...w,...A?A(u):{}}},{}),g=Lz({...p,inclusive:hn(Qe(u,"inclusive",m)),excludes:hn(Qe(u,"excludes",m)),group:hn(Qe(u,"group",m)),spanning:hn(Qe(u,"spanning",m)),code:hn(Qe(u,"code",m)),attrs:Object.fromEntries(f.map($z))}),v=hn(Qe(u,"parseHTML",m));v&&(g.parseDOM=v.map(w=>Iz(w,f)));const y=Qe(u,"renderHTML",m);return y&&(g.toDOM=w=>y({mark:w,HTMLAttributes:cg(w,f)})),[u.name,g]}));return new gee({topNode:o,nodes:l,marks:c})}function XOe(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function ij(e){return e.sort((n,r)=>{const a=Qe(n,"priority")||100,i=Qe(r,"priority")||100;return a>i?-1:a<i?1:0})}function Fte(e){const t=ij(a5(e)),n=XOe(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function Bte(e,t,n){const{from:r,to:a}=t,{blockSeparator:i=`

`,textSerializers:o={}}=n||{};let l="";return e.nodesBetween(r,a,(c,u,f,m)=>{var p;c.isBlock&&u>r&&(l+=i);const g=o?.[c.type.name];if(g)return f&&(l+=g({node:c,pos:u,parent:f,index:m,range:t})),!1;c.isText&&(l+=(p=c?.text)==null?void 0:p.slice(Math.max(r,u)-u,a-u))}),l}function zte(e,t){const n={from:0,to:e.content.size};return Bte(e,n,t)}function o5(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function QOe(e,t){const n=Mr(t,e.schema),{from:r,to:a}=e.selection,i=[];e.doc.nodesBetween(r,a,l=>{i.push(l)});const o=i.reverse().find(l=>l.type.name===n.name);return o?{...o.attrs}:{}}function qte(e,t){const n=LN(typeof t=="string"?t:t.name,e.schema);return n==="node"?QOe(e,t):n==="mark"?Dte(e,t):{}}function JOe(e,t=JSON.stringify){const n={};return e.filter(r=>{const a=t(r);return Object.prototype.hasOwnProperty.call(n,a)?!1:n[a]=!0})}function ZOe(e){const t=JOe(e);return t.length===1?t:t.filter((n,r)=>!t.filter((i,o)=>o!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function Ute(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((a,i)=>{const o=[];if(a.ranges.length)a.forEach((l,c)=>{o.push({from:l,to:c})});else{const{from:l,to:c}=n[i];if(l===void 0||c===void 0)return;o.push({from:l,to:c})}o.forEach(({from:l,to:c})=>{const u=t.slice(i).map(l,-1),f=t.slice(i).map(c),m=t.invert().map(u,-1),p=t.invert().map(f);r.push({oldRange:{from:m,to:p},newRange:{from:u,to:f}})})}),ZOe(r)}function l5(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(a=>{const i=n.resolve(e),o=r5(i,a.type);o&&r.push({mark:a,...o})}):n.nodesBetween(e,t,(a,i)=>{!a||a?.nodeSize===void 0||r.push(...a.marks.map(o=>({from:i,to:i+a.nodeSize,mark:o})))}),r}var ePe=(e,t,n,r=20)=>{const a=e.doc.resolve(n);let i=r,o=null;for(;i>0&&o===null;){const l=a.node(i);l?.type.name===t?o=l:i-=1}return[o,i]};function xb(e,t){return t.nodes[e]||t.marks[e]||null}function l0(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const a=e.find(i=>i.type===t&&i.name===r);return a?a.attribute.keepOnSplit:!1}))}var tPe=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(a,i,o,l)=>{var c,u;const f=((u=(c=a.type.spec).toText)==null?void 0:u.call(c,{node:a,pos:i,parent:o,index:l}))||a.textContent||"%leaf%";n+=a.isAtom&&!a.isText?f:f.slice(0,Math.max(0,r-i))}),n};function QP(e,t,n={}){const{empty:r,ranges:a}=e.selection,i=t?Kl(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(m=>i?i.name===m.type.name:!0).find(m=>sj(m.attrs,n,{strict:!1}));let o=0;const l=[];if(a.forEach(({$from:m,$to:p})=>{const g=m.pos,v=p.pos;e.doc.nodesBetween(g,v,(y,w)=>{if(!y.isText&&!y.marks.length)return;const N=Math.max(g,w),A=Math.min(v,w+y.nodeSize),T=A-N;o+=T,l.push(...y.marks.map(C=>({mark:C,from:N,to:A})))})}),o===0)return!1;const c=l.filter(m=>i?i.name===m.mark.type.name:!0).filter(m=>sj(m.mark.attrs,n,{strict:!1})).reduce((m,p)=>m+p.to-p.from,0),u=l.filter(m=>i?m.mark.type!==i&&m.mark.type.excludes(i):!0).reduce((m,p)=>m+p.to-p.from,0);return(c>0?c+u:c)>=o}function nPe(e,t,n={}){if(!t)return Xc(e,null,n)||QP(e,null,n);const r=LN(t,e.schema);return r==="node"?Xc(e,t,n):r==="mark"?QP(e,t,n):!1}var rPe=(e,t)=>{const{$from:n,$to:r,$anchor:a}=e.selection;if(t){const i=$N(l=>l.type.name===t)(e.selection);if(!i)return!1;const o=e.doc.resolve(i.pos+1);return a.pos+1===o.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},sPe=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function Fz(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function Bz(e,t){const{nodeExtensions:n}=Th(t),r=n.find(o=>o.name===e);if(!r)return!1;const a={name:r.name,options:r.options,storage:r.storage},i=hn(Qe(r,"group",a));return typeof i!="string"?!1:i.split(" ").includes("list")}function FN(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let a=!0;return e.content.forEach(i=>{a!==!1&&(FN(i,{ignoreWhitespace:n,checkChildren:t})||(a=!1))}),a}return!1}function Vte(e){return e instanceof tt}var Hte=class Kte{constructor(t){this.position=t}static fromJSON(t){return new Kte(t.position)}toJSON(){return{position:this.position}}};function aPe(e,t){const n=t.mapping.mapResult(e.position);return{position:new Hte(n.pos),mapResult:n}}function iPe(e){return new Hte(e)}function Wte(e,t,n){const a=e.state.doc.content.size,i=kl(t,0,a),o=kl(n,0,a),l=e.coordsAtPos(i),c=e.coordsAtPos(o,-1),u=Math.min(l.top,c.top),f=Math.max(l.bottom,c.bottom),m=Math.min(l.left,c.left),p=Math.max(l.right,c.right),g=p-m,v=f-u,N={top:u,bottom:f,left:m,right:p,width:g,height:v,x:m,y:u};return{...N,toJSON:()=>N}}function oPe(e,t,n){var r;const{selection:a}=t;let i=null;if(s5(a)&&(i=a.$cursor),i){const l=(r=e.storedMarks)!=null?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(u=>u.type.excludes(n)))}const{ranges:o}=a;return o.some(({$from:l,$to:c})=>{let u=l.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(l.pos,c.pos,(f,m,p)=>{if(u)return!1;if(f.isInline){const g=!p||p.type.allowsMarkType(n),v=!!n.isInSet(f.marks)||!f.marks.some(y=>y.type.excludes(n));u=g&&v}return!u}),u})}var lPe=(e,t={})=>({tr:n,state:r,dispatch:a})=>{const{selection:i}=n,{empty:o,ranges:l}=i,c=Kl(e,r.schema);if(a)if(o){const u=Dte(r,c);n.addStoredMark(c.create({...u,...t}))}else l.forEach(u=>{const f=u.$from.pos,m=u.$to.pos;r.doc.nodesBetween(f,m,(p,g)=>{const v=Math.max(g,f),y=Math.min(g+p.nodeSize,m);p.marks.find(N=>N.type===c)?p.marks.forEach(N=>{c===N.type&&n.addMark(v,y,c.create({...N.attrs,...t}))}):n.addMark(v,y,c.create(t))})});return oPe(r,n,c)},cPe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),dPe=(e,t={})=>({state:n,dispatch:r,chain:a})=>{const i=Mr(e,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),i.isTextblock?a().command(({commands:l})=>ZB(i,{...o,...t})(n)?!0:l.clearNodes()).command(({state:l})=>ZB(i,{...o,...t})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},uPe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,a=kl(e,0,r.content.size),i=tt.create(r,a);t.setSelection(i)}return!0},fPe=(e,t)=>({tr:n,state:r,dispatch:a})=>{const{selection:i}=r;let o,l;return typeof t=="number"?(o=t,l=t):t&&"from"in t&&"to"in t?(o=t.from,l=t.to):(o=i.from,l=i.to),a&&n.doc.nodesBetween(o,l,(c,u)=>{c.isText||n.setNodeMarkup(u,void 0,{...c.attrs,dir:e})}),!0},hPe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:a,to:i}=typeof e=="number"?{from:e,to:e}:e,o=yt.atStart(r).from,l=yt.atEnd(r).to,c=kl(a,o,l),u=kl(i,o,l),f=yt.create(r,c,u);t.setSelection(f)}return!0},mPe=e=>({state:t,dispatch:n})=>{const r=Mr(e,t.schema);return lAe(r)(t,n)};function zz(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(a=>t?.includes(a.type.name));e.tr.ensureMarks(r)}}var pPe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:a})=>{const{selection:i,doc:o}=t,{$from:l,$to:c}=i,u=a.extensionManager.attributes,f=l0(u,l.node().type.name,l.node().attrs);if(i instanceof tt&&i.node.isBlock)return!l.parentOffset||!Pl(o,l.pos)?!1:(r&&(e&&zz(n,a.extensionManager.splittableMarks),t.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const m=c.parentOffset===c.parent.content.size,p=l.depth===0?void 0:VOe(l.node(-1).contentMatchAt(l.indexAfter(-1)));let g=m&&p?[{type:p,attrs:f}]:void 0,v=Pl(t.doc,t.mapping.map(l.pos),1,g);if(!g&&!v&&Pl(t.doc,t.mapping.map(l.pos),1,p?[{type:p}]:void 0)&&(v=!0,g=p?[{type:p,attrs:f}]:void 0),r){if(v&&(i instanceof yt&&t.deleteSelection(),t.split(t.mapping.map(l.pos),1,g),p&&!m&&!l.parentOffset&&l.parent.type!==p)){const y=t.mapping.map(l.before()),w=t.doc.resolve(y);l.node(-1).canReplaceWith(w.index(),w.index()+1,p)&&t.setNodeMarkup(t.mapping.map(l.before()),p)}e&&zz(n,a.extensionManager.splittableMarks),t.scrollIntoView()}return v},xPe=(e,t={})=>({tr:n,state:r,dispatch:a,editor:i})=>{var o;const l=Mr(e,r.schema),{$from:c,$to:u}=r.selection,f=r.selection.node;if(f&&f.isBlock||c.depth<2||!c.sameParent(u))return!1;const m=c.node(-1);if(m.type!==l)return!1;const p=i.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(a){let N=Ee.empty;const A=c.index(-1)?1:c.index(-2)?2:3;for(let _=c.depth-A;_>=c.depth-3;_-=1)N=Ee.from(c.node(_).copy(N));const T=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,C={...l0(p,c.node().type.name,c.node().attrs),...t},S=((o=l.contentMatch.defaultType)==null?void 0:o.createAndFill(C))||void 0;N=N.append(Ee.from(l.createAndFill(null,S)||void 0));const E=c.before(c.depth-(A-1));n.replace(E,c.after(-T),new ze(N,4-A,0));let O=-1;n.doc.nodesBetween(E,n.doc.content.size,(_,M)=>{if(O>-1)return!1;_.isTextblock&&_.content.size===0&&(O=M+1)}),O>-1&&n.setSelection(yt.near(n.doc.resolve(O))),n.scrollIntoView()}return!0}const g=u.pos===c.end()?m.contentMatchAt(0).defaultType:null,v={...l0(p,m.type.name,m.attrs),...t},y={...l0(p,c.node().type.name,c.node().attrs),...t};n.delete(c.pos,u.pos);const w=g?[{type:l,attrs:v},{type:g,attrs:y}]:[{type:l,attrs:v}];if(!Pl(n.doc,c.pos,2))return!1;if(a){const{selection:N,storedMarks:A}=r,{splittableMarks:T}=i.extensionManager,C=A||N.$to.parentOffset&&N.$from.marks();if(n.split(c.pos,2,w).scrollIntoView(),!C||!a)return!0;const S=C.filter(E=>T.includes(E.type.name));n.ensureMarks(S)}return!0},JC=(e,t)=>{const n=$N(o=>o.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const a=e.doc.nodeAt(r);return n.node.type===a?.type&&rd(e.doc,n.pos)&&e.join(n.pos),!0},ZC=(e,t)=>{const n=$N(o=>o.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const a=e.doc.nodeAt(r);return n.node.type===a?.type&&rd(e.doc,r)&&e.join(r),!0},gPe=(e,t,n,r={})=>({editor:a,tr:i,state:o,dispatch:l,chain:c,commands:u,can:f})=>{const{extensions:m,splittableMarks:p}=a.extensionManager,g=Mr(e,o.schema),v=Mr(t,o.schema),{selection:y,storedMarks:w}=o,{$from:N,$to:A}=y,T=N.blockRange(A),C=w||y.$to.parentOffset&&y.$from.marks();if(!T)return!1;const S=$N(E=>Bz(E.type.name,m))(y);if(T.depth>=1&&S&&T.depth-S.depth<=1){if(S.node.type===g)return u.liftListItem(v);if(Bz(S.node.type.name,m)&&g.validContent(S.node.content)&&l)return c().command(()=>(i.setNodeMarkup(S.pos,g),!0)).command(()=>JC(i,g)).command(()=>ZC(i,g)).run()}return!n||!C||!l?c().command(()=>f().wrapInList(g,r)?!0:u.clearNodes()).wrapInList(g,r).command(()=>JC(i,g)).command(()=>ZC(i,g)).run():c().command(()=>{const E=f().wrapInList(g,r),O=C.filter(_=>p.includes(_.type.name));return i.ensureMarks(O),E?!0:u.clearNodes()}).wrapInList(g,r).command(()=>JC(i,g)).command(()=>ZC(i,g)).run()},yPe=(e,t={},n={})=>({state:r,commands:a})=>{const{extendEmptyMarkRange:i=!1}=n,o=Kl(e,r.schema);return QP(r,o,t)?a.unsetMark(o,{extendEmptyMarkRange:i}):a.setMark(o,t)},vPe=(e,t,n={})=>({state:r,commands:a})=>{const i=Mr(e,r.schema),o=Mr(t,r.schema),l=Xc(r,i,n);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),l?a.setNode(o,c):a.setNode(i,{...c,...n})},bPe=(e,t={})=>({state:n,commands:r})=>{const a=Mr(e,n.schema);return Xc(n,a,t)?r.lift(a):r.wrapIn(a,t)},jPe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const a=n[r];let i;if(a.spec.isInputRules&&(i=a.getState(e))){if(t){const o=e.tr,l=i.transform;for(let c=l.steps.length-1;c>=0;c-=1)o.step(l.steps[c].invert(l.docs[c]));if(i.text){const c=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,e.schema.text(i.text,c))}else o.delete(i.from,i.to)}return!0}}return!1},wPe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:a}=n;return r||t&&a.forEach(i=>{e.removeMark(i.$from.pos,i.$to.pos)}),!0},NPe=(e,t={})=>({tr:n,state:r,dispatch:a})=>{var i;const{extendEmptyMarkRange:o=!1}=t,{selection:l}=n,c=Kl(e,r.schema),{$from:u,empty:f,ranges:m}=l;if(!a)return!0;if(f&&o){let{from:p,to:g}=l;const v=(i=u.marks().find(w=>w.type===c))==null?void 0:i.attrs,y=r5(u,c,v);y&&(p=y.from,g=y.to),n.removeMark(p,g,c)}else m.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,c)});return n.removeStoredMark(c),!0},SPe=e=>({tr:t,state:n,dispatch:r})=>{const{selection:a}=n;let i,o;return typeof e=="number"?(i=e,o=e):e&&"from"in e&&"to"in e?(i=e.from,o=e.to):(i=a.from,o=a.to),r&&t.doc.nodesBetween(i,o,(l,c)=>{if(l.isText)return;const u={...l.attrs};delete u.dir,t.setNodeMarkup(c,void 0,u)}),!0},CPe=(e,t={})=>({tr:n,state:r,dispatch:a})=>{let i=null,o=null;const l=LN(typeof e=="string"?e:e.name,r.schema);if(!l)return!1;l==="node"&&(i=Mr(e,r.schema)),l==="mark"&&(o=Kl(e,r.schema));let c=!1;return n.selection.ranges.forEach(u=>{const f=u.$from.pos,m=u.$to.pos;let p,g,v,y;n.selection.empty?r.doc.nodesBetween(f,m,(w,N)=>{i&&i===w.type&&(c=!0,v=Math.max(N,f),y=Math.min(N+w.nodeSize,m),p=N,g=w)}):r.doc.nodesBetween(f,m,(w,N)=>{N<f&&i&&i===w.type&&(c=!0,v=Math.max(N,f),y=Math.min(N+w.nodeSize,m),p=N,g=w),N>=f&&N<=m&&(i&&i===w.type&&(c=!0,a&&n.setNodeMarkup(N,void 0,{...w.attrs,...t})),o&&w.marks.length&&w.marks.forEach(A=>{if(o===A.type&&(c=!0,a)){const T=Math.max(N,f),C=Math.min(N+w.nodeSize,m);n.addMark(T,C,o.create({...A.attrs,...t}))}}))}),g&&(p!==void 0&&a&&n.setNodeMarkup(p,void 0,{...g.attrs,...t}),o&&g.marks.length&&g.marks.forEach(w=>{o===w.type&&a&&n.addMark(v,y,o.create({...w.attrs,...t}))}))}),c},kPe=(e,t={})=>({state:n,dispatch:r})=>{const a=Mr(e,n.schema);return tAe(a,t)(n,r)},TPe=(e,t={})=>({state:n,dispatch:r})=>{const a=Mr(e,n.schema);return nAe(a,t)(n,r)},APe=class{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(a=>a.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(a=>a!==n):delete this.callbacks[t]),this}once(t,n){const r=(...a)=>{this.off(t,r),n.apply(this,a)};return this.on(t,r)}removeAllListeners(){this.callbacks={}}},BN=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},EPe=(e,t)=>{if(n5(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function gb(e){var t;const{editor:n,from:r,to:a,text:i,rules:o,plugin:l}=e,{view:c}=n;if(c.composing)return!1;const u=c.state.doc.resolve(r);if(u.parent.type.spec.code||(t=u.nodeBefore||u.nodeAfter)!=null&&t.marks.find(p=>p.type.spec.code))return!1;let f=!1;const m=tPe(u)+i;return o.forEach(p=>{if(f)return;const g=EPe(m,p.find);if(!g)return;const v=c.state.tr,y=DN({state:c.state,transaction:v}),w={from:r-(g[0].length-i.length),to:a},{commands:N,chain:A,can:T}=new IN({editor:n,state:y});p.handler({state:y,range:w,match:g,commands:N,chain:A,can:T})===null||!v.steps.length||(p.undoable&&v.setMeta(l,{transform:v,from:r,to:a,text:i}),c.dispatch(v),f=!0)}),f}function OPe(e){const{editor:t,rules:n}=e,r=new Bn({state:{init(){return null},apply(a,i,o){const l=a.getMeta(r);if(l)return l;const c=a.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:f}=c;typeof f=="string"?f=f:f=i5(Ee.from(f),o.schema);const{from:m}=c,p=m+f.length;gb({editor:t,from:m,to:p,text:f,rules:n,plugin:r})}),a.selectionSet||a.docChanged?null:i}},props:{handleTextInput(a,i,o,l){return gb({editor:t,from:i,to:o,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:a=>(setTimeout(()=>{const{$cursor:i}=a.state.selection;i&&gb({editor:t,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(a,i){if(i.key!=="Enter")return!1;const{$cursor:o}=a.state.selection;return o?gb({editor:t,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function PPe(e){return Object.prototype.toString.call(e).slice(8,-1)}function yb(e){return PPe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Gte(e,t){const n={...e};return yb(e)&&yb(t)&&Object.keys(t).forEach(r=>{yb(t[r])&&yb(e[r])?n[r]=Gte(e[r],t[r]):n[r]=t[r]}),n}var c5=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...hn(Qe(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...hn(Qe(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Gte(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},ad=class Yte extends c5{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new Yte(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,a=t.state.selection.$from;if(a.pos===a.end()){const o=a.marks();if(!!!o.find(u=>u?.type.name===n.name))return!1;const c=o.find(u=>u?.type.name===n.name);return c&&r.removeStoredMark(c),r.insertText(" ",a.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function MPe(e){return typeof e=="number"}var _Pe=class{constructor(e){this.find=e.find,this.handler=e.handler}},RPe=(e,t,n)=>{if(n5(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(a=>{const i=[a.text];return i.index=a.index,i.input=e,i.data=a.data,a.replaceWith&&(a.text.includes(a.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(a.replaceWith)),i}):[]};function DPe(e){const{editor:t,state:n,from:r,to:a,rule:i,pasteEvent:o,dropEvent:l}=e,{commands:c,chain:u,can:f}=new IN({editor:t,state:n}),m=[];return n.doc.nodesBetween(r,a,(g,v)=>{var y,w,N,A,T;if((w=(y=g.type)==null?void 0:y.spec)!=null&&w.code||!(g.isText||g.isTextblock||g.isInline))return;const C=(T=(A=(N=g.content)==null?void 0:N.size)!=null?A:g.nodeSize)!=null?T:0,S=Math.max(r,v),E=Math.min(a,v+C);if(S>=E)return;const O=g.isText?g.text||"":g.textBetween(S-v,E-v,void 0,"");RPe(O,i.find,o).forEach(M=>{if(M.index===void 0)return;const $=S+M.index+1,z=$+M[0].length,V={from:n.tr.mapping.map($),to:n.tr.mapping.map(z)},I=i.handler({state:n,range:V,match:M,commands:c,chain:u,can:f,pasteEvent:o,dropEvent:l});m.push(I)})}),m.every(g=>g!==null)}var vb=null,IPe=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function LPe(e){const{editor:t,rules:n}=e;let r=null,a=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:f,from:m,to:p,rule:g,pasteEvt:v})=>{const y=f.tr,w=DN({state:f,transaction:y});if(!(!DPe({editor:t,state:w,from:Math.max(m-1,0),to:p.b-1,rule:g,pasteEvent:v,dropEvent:l})||!y.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,y}};return n.map(f=>new Bn({view(m){const p=v=>{var y;r=(y=m.dom.parentElement)!=null&&y.contains(v.target)?m.dom.parentElement:null,r&&(vb=t)},g=()=>{vb&&(vb=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",g),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",g)}}},props:{handleDOMEvents:{drop:(m,p)=>{if(i=r===m.dom.parentElement,l=p,!i){const g=vb;g?.isEditable&&setTimeout(()=>{const v=g.state.selection;v&&g.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(m,p)=>{var g;const v=(g=p.clipboardData)==null?void 0:g.getData("text/html");return o=p,a=!!v?.includes("data-pm-slice"),!1}}},appendTransaction:(m,p,g)=>{const v=m[0],y=v.getMeta("uiEvent")==="paste"&&!a,w=v.getMeta("uiEvent")==="drop"&&!i,N=v.getMeta("applyPasteRules"),A=!!N;if(!y&&!w&&!A)return;if(A){let{text:S}=N;typeof S=="string"?S=S:S=i5(Ee.from(S),g.schema);const{from:E}=N,O=E+S.length,_=IPe(S);return c({rule:f,state:g,from:E,to:{b:O},pasteEvt:_})}const T=p.doc.content.findDiffStart(g.doc.content),C=p.doc.content.findDiffEnd(g.doc.content);if(!(!MPe(T)||!C||T===C.b))return c({rule:f,state:g,from:T,to:C,pasteEvt:o})}}))}var zN=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=Fte(e),this.schema=YOe(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:xb(t.name,this.schema)},r=Qe(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this;return ij([...this.extensions].reverse()).flatMap(r=>{const a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:xb(r.name,this.schema)},i=[],o=Qe(r,"addKeyboardShortcuts",a);let l={};if(r.type==="mark"&&Qe(r,"exitable",a)&&(l.ArrowRight=()=>ad.handleExit({editor:e,mark:r})),o){const p=Object.fromEntries(Object.entries(o()).map(([g,v])=>[g,()=>v({editor:e})]));l={...l,...p}}const c=JEe(l);i.push(c);const u=Qe(r,"addInputRules",a);if(Fz(r,e.options.enableInputRules)&&u){const p=u();if(p&&p.length){const g=OPe({editor:e,rules:p}),v=Array.isArray(g)?g:[g];i.push(...v)}}const f=Qe(r,"addPasteRules",a);if(Fz(r,e.options.enablePasteRules)&&f){const p=f();if(p&&p.length){const g=LPe({editor:e,rules:p});i.push(...g)}}const m=Qe(r,"addProseMirrorPlugins",a);if(m){const p=m();i.push(...p)}return i})}get attributes(){return $te(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Th(this.extensions);return Object.fromEntries(t.filter(n=>!!Qe(n,"addNodeView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),a={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Mr(n.name,this.schema)},i=Qe(n,"addNodeView",a);if(!i)return[];const o=i();if(!o)return[];const l=(c,u,f,m,p)=>{const g=cg(c,r);return o({node:c,view:u,getPos:f,decorations:m,innerDecorations:p,editor:e,extension:n,HTMLAttributes:g})};return[n.name,l]}))}dispatchTransaction(e){const{editor:t}=this;return ij([...this.extensions].reverse()).reduceRight((r,a)=>{const i={name:a.name,options:a.options,storage:this.editor.extensionStorage[a.name],editor:t,type:xb(a.name,this.schema)},o=Qe(a,"dispatchTransaction",i);return o?l=>{o.call(i,{transaction:l,next:r})}:r},e)}get markViews(){const{editor:e}=this,{markExtensions:t}=Th(this.extensions);return Object.fromEntries(t.filter(n=>!!Qe(n,"addMarkView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),a={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Kl(n.name,this.schema)},i=Qe(n,"addMarkView",a);if(!i)return[];const o=(l,c,u)=>{const f=cg(l,r);return i()({mark:l,view:c,inline:u,editor:e,extension:n,HTMLAttributes:f,updateAttributes:m=>{QPe(l,e,m)}})};return[n.name,o]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:xb(t.name,this.schema)};t.type==="mark"&&((n=hn(Qe(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const a=Qe(t,"onBeforeCreate",r),i=Qe(t,"onCreate",r),o=Qe(t,"onUpdate",r),l=Qe(t,"onSelectionUpdate",r),c=Qe(t,"onTransaction",r),u=Qe(t,"onFocus",r),f=Qe(t,"onBlur",r),m=Qe(t,"onDestroy",r);a&&this.editor.on("beforeCreate",a),i&&this.editor.on("create",i),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),u&&this.editor.on("focus",u),f&&this.editor.on("blur",f),m&&this.editor.on("destroy",m)})}};zN.resolve=Fte;zN.sort=ij;zN.flatten=a5;var $Pe={};t5($Pe,{ClipboardTextSerializer:()=>Qte,Commands:()=>Jte,Delete:()=>Zte,Drop:()=>ene,Editable:()=>tne,FocusEvents:()=>rne,Keymap:()=>sne,Paste:()=>ane,Tabindex:()=>ine,TextDirection:()=>one,focusEventsPluginKey:()=>nne});var ln=class Xte extends c5{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new Xte(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},Qte=ln.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Bn({key:new Qn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:a}=t,{ranges:i}=a,o=Math.min(...i.map(f=>f.$from.pos)),l=Math.max(...i.map(f=>f.$to.pos)),c=o5(n);return Bte(r,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),Jte=ln.create({name:"commands",addCommands(){return{...Ote}}}),Zte=ln.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,a;const i=()=>{var o,l,c,u;if((u=(c=(l=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,e))!=null?u:e.getMeta("y-sync$"))return;const f=Ite(e.before,[e,...t]);Ute(f).forEach(g=>{f.mapping.mapResult(g.oldRange.from).deletedAfter&&f.mapping.mapResult(g.oldRange.to).deletedBefore&&f.before.nodesBetween(g.oldRange.from,g.oldRange.to,(v,y)=>{const w=y+v.nodeSize-2,N=g.oldRange.from<=y&&w<=g.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:y,to:w,newFrom:f.mapping.map(y),newTo:f.mapping.map(w),deletedRange:g.oldRange,newRange:g.newRange,partial:!N,editor:this.editor,transaction:e,combinedTransform:f})})});const p=f.mapping;f.steps.forEach((g,v)=>{var y,w;if(g instanceof Ki){const N=p.slice(v).map(g.from,-1),A=p.slice(v).map(g.to),T=p.invert().map(N,-1),C=p.invert().map(A),S=(y=f.doc.nodeAt(N-1))==null?void 0:y.marks.some(O=>O.eq(g.mark)),E=(w=f.doc.nodeAt(A))==null?void 0:w.marks.some(O=>O.eq(g.mark));this.editor.emit("delete",{type:"mark",mark:g.mark,from:g.from,to:g.to,deletedRange:{from:T,to:C},newRange:{from:N,to:A},partial:!!(E||S),editor:this.editor,transaction:e,combinedTransform:f})}})};(a=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||a?setTimeout(i,0):i()}}),ene=ln.create({name:"drop",addProseMirrorPlugins(){return[new Bn({key:new Qn("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),tne=ln.create({name:"editable",addProseMirrorPlugins(){return[new Bn({key:new Qn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),nne=new Qn("focusEvents"),rne=ln.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Bn({key:nne,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),sne=ln.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:c,doc:u}=l,{empty:f,$anchor:m}=c,{pos:p,parent:g}=m,v=m.parent.isTextblock&&p>0?l.doc.resolve(p-1):m,y=v.parent.type.spec.isolating,w=m.pos-m.parentOffset,N=y&&v.parent.childCount===1?w===m.pos:pt.atStart(u).from===p;return!f||!g.type.isTextblock||g.textContent.length||!N||N&&m.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},a={...r},i={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return aj()||Rte()?i:a},addProseMirrorPlugins(){return[new Bn({key:new Qn("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(y=>y.getMeta("composition")))return;const r=e.some(y=>y.docChanged)&&!t.doc.eq(n.doc),a=e.some(y=>y.getMeta("preventClearDocument"));if(!r||a)return;const{empty:i,from:o,to:l}=t.selection,c=pt.atStart(t.doc).from,u=pt.atEnd(t.doc).to;if(i||!(o===c&&l===u)||!FN(n.doc))return;const p=n.tr,g=DN({state:n,transaction:p}),{commands:v}=new IN({editor:this.editor,state:g});if(v.clearNodes(),!!p.steps.length)return p}})]}}),ane=ln.create({name:"paste",addProseMirrorPlugins(){return[new Bn({key:new Qn("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),ine=ln.create({name:"tabindex",addProseMirrorPlugins(){return[new Bn({key:new Qn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),one=ln.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=Th(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Bn({key:new Qn("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),FPe=class ix{constructor(t,n,r=!1,a=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=a}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new ix(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new ix(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new ix(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const a=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,o=n.isInline,l=this.pos+r+(i?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(l);if(!a&&!o&&c.depth<=this.depth)return;const u=new ix(c,this.editor,a,a||o?n:null);a&&(u.actualDepth=this.depth+1),t.push(u)}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,a=this.parent;for(;a&&!r;){if(a.node.type.name===t)if(Object.keys(n).length>0){const i=a.node.attrs,o=Object.keys(n);for(let l=0;l<o.length;l+=1){const c=o[l];if(i[c]!==n[c])break}}else r=a;a=a.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let a=[];if(!this.children||this.children.length===0)return a;const i=Object.keys(n);return this.children.forEach(o=>{r&&a.length>0||(o.node.type.name===t&&i.every(c=>n[c]===o.node.attrs[c])&&a.push(o),!(r&&a.length>0)&&(a=a.concat(o.querySelectorAll(t,n,r))))}),a}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},BPe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function zPe(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const a=document.createElement("style");return t&&a.setAttribute("nonce",t),a.setAttribute("data-tiptap-style",""),a.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(a),a}var qPe=class extends APe{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:aPe,createMappablePosition:iPe},this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:a,moved:i})=>this.options.onDrop(r,a,i)),this.on("paste",({event:r,slice:a})=>this.options.onPaste(r,a)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=Mte(t,this.options.autofocus);this.editorState=Wf.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=zPe(BPe,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=Lte(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(a=>{const i=typeof a=="string"?`${a}$`:a.key;n=n.filter(o=>!o.key.startsWith(i))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[tne,Qte.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),Jte,rne,sne,ine,ene,ane,Zte,one.configure({direction:this.options.textDirection})].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a?.type));this.extensionManager=new zN(r,this)}createCommandManager(){this.commandManager=new IN({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=XP(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=XP(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){const{editorProps:t,enableExtensionDispatchTransaction:n}=this.options,r=t.dispatchTransaction||this.dispatchTransaction.bind(this),a=n?this.extensionManager.dispatchTransaction(r):r;this.editorView=new Ete(e,{...t,attributes:{role:"textbox",...t?.attributes},dispatchTransaction:a,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.prependClass(),this.injectCSS();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(u=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(u)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),a=n.includes(e),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!a)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=n.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),l=o?.getMeta("focus"),c=o?.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:o}),c&&this.emit("blur",{editor:this,event:c.event,transaction:o}),!(e.getMeta("preventUpdate")||!n.some(u=>u.docChanged)||i.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return qte(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return nPe(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return i5(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return zte(this.state.doc,{blockSeparator:t,textSerializers:{...o5(this.schema),...n}})}get isEmpty(){return FN(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new FPe(t,this)}get $doc(){return this.$pos(0)}};function Ah(e){return new BN({find:e.find,handler:({state:t,range:n,match:r})=>{const a=hn(e.getAttributes,void 0,r);if(a===!1||a===null)return null;const{tr:i}=t,o=r[r.length-1],l=r[0];if(o){const c=l.search(/\S/),u=n.from+l.indexOf(o),f=u+o.length;if(l5(n.from,n.to,t.doc).filter(g=>g.mark.type.excluded.find(y=>y===e.type&&y!==g.mark.type)).filter(g=>g.to>u).length)return null;f<n.to&&i.delete(f,n.to),u>n.from&&i.delete(n.from+c,u);const p=n.from+c+o.length;i.addMark(n.from+c,p,e.type.create(a||{})),i.removeStoredMark(e.type)}},undoable:e.undoable})}function UPe(e){return new BN({find:e.find,handler:({state:t,range:n,match:r})=>{const a=hn(e.getAttributes,void 0,r)||{},{tr:i}=t,o=n.from;let l=n.to;const c=e.type.create(a);if(r[1]){const u=r[0].lastIndexOf(r[1]);let f=o+u;f>l?f=l:l=f+r[1].length;const m=r[0][r[0].length-1];i.insertText(m,o+r[0].length-1),i.replaceWith(f,l,c)}else if(r[0]){const u=e.type.isInline?o:o-1;i.insert(u,e.type.create(a)).delete(i.mapping.map(o),i.mapping.map(l))}i.scrollIntoView()},undoable:e.undoable})}function JP(e){return new BN({find:e.find,handler:({state:t,range:n,match:r})=>{const a=t.doc.resolve(n.from),i=hn(e.getAttributes,void 0,r)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,i)},undoable:e.undoable})}function Eh(e){return new BN({find:e.find,handler:({state:t,range:n,match:r,chain:a})=>{const i=hn(e.getAttributes,void 0,r)||{},o=t.tr.delete(n.from,n.to),c=o.doc.resolve(n.from).blockRange(),u=c&&$R(c,e.type,i);if(!u)return null;if(o.wrap(c,u),e.keepMarks&&e.editor){const{selection:m,storedMarks:p}=t,{splittableMarks:g}=e.editor.extensionManager,v=p||m.$to.parentOffset&&m.$from.marks();if(v){const y=v.filter(w=>g.includes(w.type.name));o.ensureMarks(y)}}if(e.keepAttributes){const m=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";a().updateAttributes(m,i).run()}const f=o.doc.resolve(n.from-1).nodeBefore;f&&f.type===e.type&&rd(o.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,f))&&o.join(n.from-1)},undoable:e.undoable})}function VPe(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof tt){const i=r.index();return r.parent.canReplaceWith(i,i+1,t)}let a=r.depth;for(;a>=0;){const i=r.index(a);if(r.node(a).contentMatchAt(i).matchType(t))return!0;a-=1}return!1}var HPe={};t5(HPe,{createAtomBlockMarkdownSpec:()=>KPe,createBlockMarkdownSpec:()=>WPe,createInlineMarkdownSpec:()=>XPe,parseAttributes:()=>d5,parseIndentedBlocks:()=>ZP,renderNestedMarkdownContent:()=>f5,serializeAttributes:()=>u5});function d5(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,u=>(n.push(u),`__QUOTED_${n.length-1}__`)),a=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(a){const u=a.map(f=>f.trim().slice(1));t.class=u.join(" ")}const i=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(t.id=i[1]);const o=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(o)).forEach(([,u,f])=>{var m;const p=parseInt(((m=f.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),g=n[p];g&&(t[u]=g.slice(1,-1))});const c=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(f=>{f.match(/^[a-zA-Z][\w-]*$/)&&(t[f]=!0)}),t}function u5(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function KPe(e){const{nodeName:t,name:n,parseAttributes:r=d5,serializeAttributes:a=u5,defaultAttributes:i={},requiredAttributes:o=[],allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const m={};return l.forEach(p=>{p in f&&(m[p]=f[p])}),m};return{parseMarkdown:(f,m)=>{const p={...i,...f.attributes};return m.createNode(t,p,[])},markdownTokenizer:{name:t,level:"block",start(f){var m;const p=new RegExp(`^:::${c}(?:\\s|$)`,"m"),g=(m=f.match(p))==null?void 0:m.index;return g!==void 0?g:-1},tokenize(f,m,p){const g=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),v=f.match(g);if(!v)return;const y=v[1]||"",w=r(y);if(!o.find(A=>!(A in w)))return{type:t,raw:v[0],attributes:w}}},renderMarkdown:f=>{const m=u(f.attrs||{}),p=a(m),g=p?` {${p}}`:"";return`:::${c}${g} :::`}}}function WPe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:a=d5,serializeAttributes:i=u5,defaultAttributes:o={},content:l="block",allowedAttributes:c}=e,u=n||t,f=m=>{if(!c)return m;const p={};return c.forEach(g=>{g in m&&(p[g]=m[g])}),p};return{parseMarkdown:(m,p)=>{let g;if(r){const y=r(m);g=typeof y=="string"?[{type:"text",text:y}]:y}else l==="block"?g=p.parseChildren(m.tokens||[]):g=p.parseInline(m.tokens||[]);const v={...o,...m.attributes};return p.createNode(t,v,g)},markdownTokenizer:{name:t,level:"block",start(m){var p;const g=new RegExp(`^:::${u}`,"m"),v=(p=m.match(g))==null?void 0:p.index;return v!==void 0?v:-1},tokenize(m,p,g){var v;const y=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),w=m.match(y);if(!w)return;const[N,A=""]=w,T=a(A);let C=1;const S=N.length;let E="";const O=/^:::([\w-]*)(\s.*)?/gm,_=m.slice(S);for(O.lastIndex=0;;){const M=O.exec(_);if(M===null)break;const $=M.index,z=M[1];if(!((v=M[2])!=null&&v.endsWith(":::"))){if(z)C+=1;else if(C-=1,C===0){const V=_.slice(0,$);E=V.trim();const I=m.slice(0,S+$+M[0].length);let F=[];if(E)if(l==="block")for(F=g.blockTokens(V),F.forEach(K=>{K.text&&(!K.tokens||K.tokens.length===0)&&(K.tokens=g.inlineTokens(K.text))});F.length>0;){const K=F[F.length-1];if(K.type==="paragraph"&&(!K.text||K.text.trim()===""))F.pop();else break}else F=g.inlineTokens(E);return{type:t,raw:I,attributes:T,content:E,tokens:F}}}}}},renderMarkdown:(m,p)=>{const g=f(m.attrs||{}),v=i(g),y=v?` {${v}}`:"",w=p.renderChildren(m.content||[],`

`);return`:::${u}${y}

${w}

:::`}}}function GPe(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,a,i,o]=r;t[a]=i||o,r=n.exec(e)}return t}function YPe(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function XPe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:a=GPe,serializeAttributes:i=YPe,defaultAttributes:o={},selfClosing:l=!1,allowedAttributes:c}=e,u=n||t,f=p=>{if(!c)return p;const g={};return c.forEach(v=>{const y=typeof v=="string"?v:v.name,w=typeof v=="string"?void 0:v.skipIfDefault;if(y in p){const N=p[y];if(w!==void 0&&N===w)return;g[y]=N}}),g},m=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(p,g)=>{const v={...o,...p.attributes};if(l)return g.createNode(t,v);const y=r?r(p):p.content||"";return y?g.createNode(t,v,[g.createTextNode(y)]):g.createNode(t,v,[])},markdownTokenizer:{name:t,level:"inline",start(p){const g=l?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),v=p.match(g),y=v?.index;return y!==void 0?y:-1},tokenize(p,g,v){const y=l?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),w=p.match(y);if(!w)return;let N="",A="";if(l){const[,C]=w;A=C}else{const[,C,S]=w;A=C,N=S||""}const T=a(A.trim());return{type:t,raw:w[0],content:N.trim(),attributes:T}}},renderMarkdown:p=>{let g="";r?g=r(p):p.content&&p.content.length>0&&(g=p.content.filter(N=>N.type==="text").map(N=>N.text).join(""));const v=f(p.attrs||{}),y=i(v),w=y?` ${y}`:"";return l?`[${u}${w}]`:`[${u}${w}]${g}[/${u}]`}}}function ZP(e,t,n){var r,a,i,o;const l=e.split(`
`),c=[];let u="",f=0;const m=t.baseIndentSize||2;for(;f<l.length;){const p=l[f],g=p.match(t.itemPattern);if(!g){if(c.length>0)break;if(p.trim()===""){f+=1,u=`${u}${p}
`;continue}else return}const v=t.extractItemData(g),{indentLevel:y,mainContent:w}=v;u=`${u}${p}
`;const N=[w];for(f+=1;f<l.length;){const S=l[f];if(S.trim()===""){const O=l.slice(f+1).findIndex($=>$.trim()!=="");if(O===-1)break;if((((a=(r=l[f+1+O].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:a.length)||0)>y){N.push(S),u=`${u}${S}
`,f+=1;continue}else break}if((((o=(i=S.match(/^(\s*)/))==null?void 0:i[1])==null?void 0:o.length)||0)>y)N.push(S),u=`${u}${S}
`,f+=1;else break}let A;const T=N.slice(1);if(T.length>0){const S=T.map(E=>E.slice(y+m)).join(`
`);S.trim()&&(t.customNestedParser?A=t.customNestedParser(S):A=n.blockTokens(S))}const C=t.createToken(v,A);c.push(C)}if(c.length!==0)return{items:c,raw:u}}function f5(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const a=typeof n=="function"?n(r):n,[i,...o]=e.content,l=t.renderChildren([i]),c=[`${a}${l}`];return o&&o.length>0&&o.forEach(u=>{const f=t.renderChildren([u]);if(f){const m=f.split(`
`).map(p=>p?t.indent(p):"").join(`
`);c.push(m)}}),c.join(`
`)}function QPe(e,t,n={}){const{state:r}=t,{doc:a,tr:i}=r,o=e;a.descendants((l,c)=>{const u=i.mapping.map(c),f=i.mapping.map(c)+l.nodeSize;let m=null;if(l.marks.forEach(g=>{if(g!==o)return!1;m=g}),!m)return;let p=!1;if(Object.keys(n).forEach(g=>{n[g]!==m.attrs[g]&&(p=!0)}),p){const g=e.type.create({...e.attrs,...n});i.removeMark(u,f,e.type),i.addMark(u,f,g)}}),i.docChanged&&t.view.dispatch(i)}var Ua=class lne extends c5{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new lne(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function ju(e){return new _Pe({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:a})=>{const i=hn(e.getAttributes,void 0,r,a);if(i===!1||i===null)return null;const{tr:o}=t,l=r[r.length-1],c=r[0];let u=n.to;if(l){const f=c.search(/\S/),m=n.from+c.indexOf(l),p=m+l.length;if(l5(n.from,n.to,t.doc).filter(v=>v.mark.type.excluded.find(w=>w===e.type&&w!==v.mark.type)).filter(v=>v.to>m).length)return null;p<n.to&&o.delete(p,n.to),m>n.from&&o.delete(n.from+f,m),u=n.from+f+l.length,o.addMark(n.from+f,u,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}const{getOwnPropertyNames:JPe,getOwnPropertySymbols:ZPe}=Object,{hasOwnProperty:e4e}=Object.prototype;function ek(e,t){return function(r,a,i){return e(r,a,i)&&t(r,a,i)}}function bb(e){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,a);const{cache:i}=a,o=i.get(n),l=i.get(r);if(o&&l)return o===r&&l===n;i.set(n,r),i.set(r,n);const c=e(n,r,a);return i.delete(n),i.delete(r),c}}function t4e(e){return e?.[Symbol.toStringTag]}function qz(e){return JPe(e).concat(ZPe(e))}const n4e=Object.hasOwn||((e,t)=>e4e.call(e,t));function Lu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const r4e="__v",s4e="__o",a4e="_owner",{getOwnPropertyDescriptor:Uz,keys:Vz}=Object;function i4e(e,t){return e.byteLength===t.byteLength&&oj(new Uint8Array(e),new Uint8Array(t))}function o4e(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function l4e(e,t){return e.byteLength===t.byteLength&&oj(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function c4e(e,t){return Lu(e.getTime(),t.getTime())}function d4e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function u4e(e,t){return e===t}function Hz(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const a=new Array(r),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let f=!1,m=0;for(;(l=u.next())&&!l.done;){if(a[m]){m++;continue}const p=o.value,g=l.value;if(n.equals(p[0],g[0],c,m,e,t,n)&&n.equals(p[1],g[1],p[0],g[0],e,t,n)){f=a[m]=!0;break}m++}if(!f)return!1;c++}return!0}const f4e=Lu;function h4e(e,t,n){const r=Vz(e);let a=r.length;if(Vz(t).length!==a)return!1;for(;a-- >0;)if(!cne(e,t,n,r[a]))return!1;return!0}function _p(e,t,n){const r=qz(e);let a=r.length;if(qz(t).length!==a)return!1;let i,o,l;for(;a-- >0;)if(i=r[a],!cne(e,t,n,i)||(o=Uz(e,i),l=Uz(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function m4e(e,t){return Lu(e.valueOf(),t.valueOf())}function p4e(e,t){return e.source===t.source&&e.flags===t.flags}function Kz(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const a=new Array(r),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,f=0;for(;(l=c.next())&&!l.done;){if(!a[f]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function oj(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function x4e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function cne(e,t,n,r){return(r===a4e||r===s4e||r===r4e)&&(e.$$typeof||t.$$typeof)?!0:n4e(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const g4e="[object ArrayBuffer]",y4e="[object Arguments]",v4e="[object Boolean]",b4e="[object DataView]",j4e="[object Date]",w4e="[object Error]",N4e="[object Map]",S4e="[object Number]",C4e="[object Object]",k4e="[object RegExp]",T4e="[object Set]",A4e="[object String]",E4e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},O4e="[object URL]",P4e=Object.prototype.toString;function M4e({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:f,areSetsEqual:m,areTypedArraysEqual:p,areUrlsEqual:g,unknownTagComparators:v}){return function(w,N,A){if(w===N)return!0;if(w==null||N==null)return!1;const T=typeof w;if(T!==typeof N)return!1;if(T!=="object")return T==="number"?l(w,N,A):T==="function"?i(w,N,A):!1;const C=w.constructor;if(C!==N.constructor)return!1;if(C===Object)return c(w,N,A);if(Array.isArray(w))return t(w,N,A);if(C===Date)return r(w,N,A);if(C===RegExp)return f(w,N,A);if(C===Map)return o(w,N,A);if(C===Set)return m(w,N,A);const S=P4e.call(w);if(S===j4e)return r(w,N,A);if(S===k4e)return f(w,N,A);if(S===N4e)return o(w,N,A);if(S===T4e)return m(w,N,A);if(S===C4e)return typeof w.then!="function"&&typeof N.then!="function"&&c(w,N,A);if(S===O4e)return g(w,N,A);if(S===w4e)return a(w,N,A);if(S===y4e)return c(w,N,A);if(E4e[S])return p(w,N,A);if(S===g4e)return e(w,N,A);if(S===b4e)return n(w,N,A);if(S===v4e||S===S4e||S===A4e)return u(w,N,A);if(v){let E=v[S];if(!E){const O=t4e(w);O&&(E=v[O])}if(E)return E(w,N,A)}return!1}}function _4e({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:i4e,areArraysEqual:n?_p:o4e,areDataViewsEqual:l4e,areDatesEqual:c4e,areErrorsEqual:d4e,areFunctionsEqual:u4e,areMapsEqual:n?ek(Hz,_p):Hz,areNumbersEqual:f4e,areObjectsEqual:n?_p:h4e,arePrimitiveWrappersEqual:m4e,areRegExpsEqual:p4e,areSetsEqual:n?ek(Kz,_p):Kz,areTypedArraysEqual:n?ek(oj,_p):oj,areUrlsEqual:x4e,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const a=bb(r.areArraysEqual),i=bb(r.areMapsEqual),o=bb(r.areObjectsEqual),l=bb(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return r}function R4e(e){return function(t,n,r,a,i,o,l){return e(t,n,l)}}function D4e({circular:e,comparator:t,createState:n,equals:r,strict:a}){if(n)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:f}=n();return t(l,c,{cache:u,equals:r,meta:f,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:a})};const i={cache:void 0,equals:r,meta:void 0,strict:a};return function(l,c){return t(l,c,i)}}const dne=id();id({strict:!0});id({circular:!0});id({circular:!0,strict:!0});id({createInternalComparator:()=>Lu});id({strict:!0,createInternalComparator:()=>Lu});id({circular:!0,createInternalComparator:()=>Lu});id({circular:!0,createInternalComparator:()=>Lu,strict:!0});function id(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:a=!1}=e,i=_4e(e),o=M4e(i),l=n?n(o):R4e(o);return D4e({circular:t,comparator:o,createState:r,equals:l,strict:a})}var tk={exports:{}},nk={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wz;function I4e(){if(Wz)return nk;Wz=1;var e=Wg(),t=FK();function n(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,c=e.useDebugValue;return nk.useSyncExternalStoreWithSelector=function(u,f,m,p,g){var v=i(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=l(function(){function N(E){if(!A){if(A=!0,T=E,E=p(E),g!==void 0&&y.hasValue){var O=y.value;if(g(O,E))return C=O}return C=E}if(O=C,r(T,E))return O;var _=p(E);return g!==void 0&&g(O,_)?(T=E,O):(T=E,C=_)}var A=!1,T,C,S=m===void 0?null:m;return[function(){return N(f())},S===null?void 0:function(){return N(S())}]},[f,m,p,g]);var w=a(u,v[0],v[1]);return o(function(){y.hasValue=!0,y.value=w},[w]),c(w),w},nk}var Gz;function L4e(){return Gz||(Gz=1,tk.exports=I4e()),tk.exports}var $4e=L4e();let e4,t4;if(typeof WeakMap<"u"){let e=new WeakMap;e4=t=>e.get(t),t4=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;e4=r=>{for(let a=0;a<e.length;a+=2)if(e[a]==r)return e[a+1]},t4=(r,a)=>(n==10&&(n=0),e[n++]=r,e[n++]=a)}var Nl=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,a=t/this.width|0;let i=r+1,o=a+1;for(let l=1;i<this.width&&this.map[t+l]==n;l++)i++;for(let l=1;o<this.height&&this.map[t+this.width*l]==n;l++)o++;return{left:r,top:a,right:i,bottom:o}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:a,top:i,bottom:o}=this.findCell(e);return t=="horiz"?(n<0?r==0:a==this.width)?null:this.map[i*this.width+(n<0?r-1:a)]:(n<0?i==0:o==this.height)?null:this.map[r+this.width*(n<0?i-1:o)]}rectBetween(e,t){const{left:n,right:r,top:a,bottom:i}=this.findCell(e),{left:o,right:l,top:c,bottom:u}=this.findCell(t);return{left:Math.min(n,o),top:Math.min(a,c),right:Math.max(r,l),bottom:Math.max(i,u)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let a=e.left;a<e.right;a++){const i=r*this.width+a,o=this.map[i];n[o]||(n[o]=!0,!(a==e.left&&a&&this.map[i-1]==o||r==e.top&&r&&this.map[i-this.width]==o)&&t.push(o))}return t}positionAt(e,t,n){for(let r=0,a=0;;r++){const i=a+n.child(r).nodeSize;if(r==e){let o=t+e*this.width;const l=(e+1)*this.width;for(;o<l&&this.map[o]<a;)o++;return o==l?i-1:this.map[o]}a=i}}static get(e){return e4(e)||t4(e,F4e(e))}};function F4e(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=B4e(e),n=e.childCount,r=[];let a=0,i=null;const o=[];for(let u=0,f=t*n;u<f;u++)r[u]=0;for(let u=0,f=0;u<n;u++){const m=e.child(u);f++;for(let v=0;;v++){for(;a<r.length&&r[a]!=0;)a++;if(v==m.childCount)break;const y=m.child(v),{colspan:w,rowspan:N,colwidth:A}=y.attrs;for(let T=0;T<N;T++){if(T+u>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:f,n:N-T});break}const C=a+T*t;for(let S=0;S<w;S++){r[C+S]==0?r[C+S]=f:(i||(i=[])).push({type:"collision",row:u,pos:f,n:w-S});const E=A&&A[S];if(E){const O=(C+S)%t*2,_=o[O];_==null||_!=E&&o[O+1]==1?(o[O]=E,o[O+1]=1):_==E&&o[O+1]++}}}a+=w,f+=y.nodeSize}const p=(u+1)*t;let g=0;for(;a<p;)r[a++]==0&&g++;g&&(i||(i=[])).push({type:"missing",row:u,n:g}),f++}(t===0||n===0)&&(i||(i=[])).push({type:"zero_sized"});const l=new Nl(t,n,r,i);let c=!1;for(let u=0;!c&&u<o.length;u+=2)o[u]!=null&&o[u+1]<n&&(c=!0);return c&&z4e(l,o,e),l}function B4e(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const a=e.child(r);let i=0;if(n)for(let o=0;o<r;o++){const l=e.child(o);for(let c=0;c<l.childCount;c++){const u=l.child(c);o+u.attrs.rowspan>r&&(i+=u.attrs.colspan)}}for(let o=0;o<a.childCount;o++){const l=a.child(o);i+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}t==-1?t=i:t!=i&&(t=Math.max(t,i))}return t}function z4e(e,t,n){e.problems||(e.problems=[]);const r={};for(let a=0;a<e.map.length;a++){const i=e.map[a];if(r[i])continue;r[i]=!0;const o=n.nodeAt(i);if(!o)throw new RangeError(`No cell with offset ${i} found`);let l=null;const c=o.attrs;for(let u=0;u<c.colspan;u++){const f=t[(a+u)%e.width*2];f!=null&&(!c.colwidth||c.colwidth[u]!=f)&&((l||(l=q4e(c)))[u]=f)}l&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}function q4e(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function h5(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],a=r.spec.tableRole;a&&(t[a]=r)}}return t}new Qn("selectingCells");function U4e(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function une(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function V4e(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=U4e(t.$head)||H4e(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function H4e(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function Yz(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function fne(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function hne(e,t,n){const r=e.node(-1),a=Nl.get(r),i=e.start(-1),o=a.nextCell(e.pos-i,t,n);return o==null?null:e.node(0).resolve(i+o)}function Xz(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(a=>a>0)||(r.colwidth=null)),r}var Oo=class yl extends pt{constructor(t,n=t){const r=t.node(-1),a=Nl.get(r),i=t.start(-1),o=a.rectBetween(t.pos-i,n.pos-i),l=t.node(0),c=a.cellsInRect(o).filter(f=>f!=n.pos-i);c.unshift(n.pos-i);const u=c.map(f=>{const m=r.nodeAt(f);if(!m)throw new RangeError(`No cell with offset ${f} found`);const p=i+f+1;return new Ree(l.resolve(p),l.resolve(p+m.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),a=t.resolve(n.map(this.$headCell.pos));if(Yz(r)&&Yz(a)&&fne(r,a)){const i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?yl.rowSelection(r,a):i&&this.isColSelection()?yl.colSelection(r,a):new yl(r,a)}return yt.between(r,a)}content(){const t=this.$anchorCell.node(-1),n=Nl.get(t),r=this.$anchorCell.start(-1),a=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),i={},o=[];for(let c=a.top;c<a.bottom;c++){const u=[];for(let f=c*n.width+a.left,m=a.left;m<a.right;m++,f++){const p=n.map[f];if(i[p])continue;i[p]=!0;const g=n.findCell(p);let v=t.nodeAt(p);if(!v)throw new RangeError(`No cell with offset ${p} found`);const y=a.left-g.left,w=g.right-a.right;if(y>0||w>0){let N=v.attrs;if(y>0&&(N=Xz(N,0,y)),w>0&&(N=Xz(N,N.colspan-w,w)),g.left<a.left){if(v=v.type.createAndFill(N),!v)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(N)}`)}else v=v.type.create(N,v.content)}if(g.top<a.top||g.bottom>a.bottom){const N={...v.attrs,rowspan:Math.min(g.bottom,a.bottom)-Math.max(g.top,a.top)};g.top<a.top?v=v.type.createAndFill(N):v=v.type.create(N,v.content)}u.push(v)}o.push(t.child(c).copy(Ee.from(u)))}const l=this.isColSelection()&&this.isRowSelection()?t:o;return new ze(Ee.from(l),1,1)}replace(t,n=ze.empty){const r=t.steps.length,a=this.ranges;for(let o=0;o<a.length;o++){const{$from:l,$to:c}=a[o],u=t.mapping.slice(r);t.replace(u.map(l.pos),u.map(c.pos),o?ze.empty:n)}const i=pt.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);i&&t.setSelection(i)}replaceWith(t,n){this.replace(t,new ze(Ee.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=Nl.get(n),a=this.$anchorCell.start(-1),i=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-a,this.$headCell.pos-a));for(let o=0;o<i.length;o++)t(n.nodeAt(i[o]),a+i[o])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,a=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,a)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),a=Nl.get(r),i=t.start(-1),o=a.findCell(t.pos-i),l=a.findCell(n.pos-i),c=t.node(0);return o.top<=l.top?(o.top>0&&(t=c.resolve(i+a.map[o.left])),l.bottom<a.height&&(n=c.resolve(i+a.map[a.width*(a.height-1)+l.right-1]))):(l.top>0&&(n=c.resolve(i+a.map[l.left])),o.bottom<a.height&&(t=c.resolve(i+a.map[a.width*(a.height-1)+o.right-1]))),new yl(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=Nl.get(t),r=this.$anchorCell.start(-1),a=n.colCount(this.$anchorCell.pos-r),i=n.colCount(this.$headCell.pos-r);if(Math.min(a,i)>0)return!1;const o=a+this.$anchorCell.nodeAfter.attrs.colspan,l=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,l)==n.width}eq(t){return t instanceof yl&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),a=Nl.get(r),i=t.start(-1),o=a.findCell(t.pos-i),l=a.findCell(n.pos-i),c=t.node(0);return o.left<=l.left?(o.left>0&&(t=c.resolve(i+a.map[o.top*a.width])),l.right<a.width&&(n=c.resolve(i+a.map[a.width*(l.top+1)-1]))):(l.left>0&&(n=c.resolve(i+a.map[l.top*a.width])),o.right<a.width&&(t=c.resolve(i+a.map[a.width*(o.top+1)-1]))),new yl(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new yl(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new yl(t.resolve(n),t.resolve(r))}getBookmark(){return new K4e(this.$anchorCell.pos,this.$headCell.pos)}};Oo.prototype.visible=!1;pt.jsonID("cell",Oo);var K4e=class mne{constructor(t,n){this.anchor=t,this.head=n}map(t){return new mne(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&fne(n,r)?new Oo(n,r):pt.near(r,1)}};new Qn("fix-tables");function pne(e){const t=e.selection,n=V4e(e),r=n.node(-1),a=n.start(-1),i=Nl.get(r);return{...t instanceof Oo?i.rectBetween(t.$anchorCell.pos-a,t.$headCell.pos-a):i.findCell(n.pos-a),tableStart:a,map:i,table:r}}function W4e(e){return function(t,n){if(!une(t))return!1;if(n){const r=h5(t.schema),a=pne(t),i=t.tr,o=a.map.cellsInRect(e=="column"?{left:a.left,top:0,right:a.right,bottom:a.map.height}:e=="row"?{left:0,top:a.top,right:a.map.width,bottom:a.bottom}:a),l=o.map(c=>a.table.nodeAt(c));for(let c=0;c<o.length;c++)l[c].type==r.header_cell&&i.setNodeMarkup(a.tableStart+o[c],r.cell,l[c].attrs);if(i.steps.length===0)for(let c=0;c<o.length;c++)i.setNodeMarkup(a.tableStart+o[c],r.header_cell,l[c].attrs);n(i)}return!0}}function Qz(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let a=0;a<r.length;a++){const i=t.table.nodeAt(r[a]);if(i&&i.type!==n.header_cell)return!1}return!0}function m5(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?W4e(e):function(n,r){if(!une(n))return!1;if(r){const a=h5(n.schema),i=pne(n),o=n.tr,l=Qz("row",i,a),c=Qz("column",i,a),u=(e==="column"?l:e==="row"&&c)?1:0,f=e=="column"?{left:0,top:u,right:1,bottom:i.map.height}:e=="row"?{left:u,top:0,right:i.map.width,bottom:1}:i,m=e=="column"?c?a.cell:a.header_cell:e=="row"?l?a.cell:a.header_cell:a.cell;i.map.cellsInRect(f).forEach(p=>{const g=p+i.tableStart,v=o.doc.nodeAt(g);v&&o.setNodeMarkup(g,m,v.attrs)}),r(o)}return!0}}m5("row",{useDeprecatedLogic:!0});m5("column",{useDeprecatedLogic:!0});m5("cell",{useDeprecatedLogic:!0});function jb(e,t){const n=e.selection;if(!(n instanceof Oo))return!1;if(t){const r=e.tr,a=h5(e.schema).cell.createAndFill().content;n.forEachCell((i,o)=>{i.content.eq(a)||r.replace(r.mapping.map(o+1),r.mapping.map(o+i.nodeSize-1),new ze(a,0,0))}),r.docChanged&&t(r)}return!0}e5({ArrowLeft:wb("horiz",-1),ArrowRight:wb("horiz",1),ArrowUp:wb("vert",-1),ArrowDown:wb("vert",1),"Shift-ArrowLeft":Nb("horiz",-1),"Shift-ArrowRight":Nb("horiz",1),"Shift-ArrowUp":Nb("vert",-1),"Shift-ArrowDown":Nb("vert",1),Backspace:jb,"Mod-Backspace":jb,Delete:jb,"Mod-Delete":jb});function c0(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function wb(e,t){return(n,r,a)=>{if(!a)return!1;const i=n.selection;if(i instanceof Oo)return c0(n,r,pt.near(i.$headCell,t));if(e!="horiz"&&!i.empty)return!1;const o=xne(a,e,t);if(o==null)return!1;if(e=="horiz")return c0(n,r,pt.near(n.doc.resolve(i.head+t),t));{const l=n.doc.resolve(o),c=hne(l,e,t);let u;return c?u=pt.near(c,1):t<0?u=pt.near(n.doc.resolve(l.before(-1)),-1):u=pt.near(n.doc.resolve(l.after(-1)),1),c0(n,r,u)}}}function Nb(e,t){return(n,r,a)=>{if(!a)return!1;const i=n.selection;let o;if(i instanceof Oo)o=i;else{const c=xne(a,e,t);if(c==null)return!1;o=new Oo(n.doc.resolve(c))}const l=hne(o.$headCell,e,t);return l?c0(n,r,new Oo(o.$anchorCell,l)):!1}}function xne(e,t,n){if(!(e.state.selection instanceof yt))return null;const{$head:r}=e.state.selection;for(let a=r.depth-1;a>=0;a--){const i=r.node(a);if((n<0?r.index(a):r.indexAfter(a))!=(n<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const o=r.before(a),l=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(l)?o:null}}return null}new Qn("tableColumnResizing");function G4e(e,t){const n=Math.min(e.top,t.top),r=Math.max(e.bottom,t.bottom),a=Math.min(e.left,t.left),o=Math.max(e.right,t.right)-a,l=r-n,c=a,u=n;return new DOMRect(c,u,o,l)}var Y4e=class{constructor({editor:e,element:t,view:n,updateDelay:r=250,resizeDelay:a=60,shouldShow:i,appendTo:o,getReferencedVirtualElement:l,options:c}){this.preventHide=!1,this.isVisible=!1,this.scrollTarget=window,this.floatingUIOptions={strategy:"absolute",placement:"top",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1,onShow:void 0,onHide:void 0,onUpdate:void 0,onDestroy:void 0},this.shouldShow=({view:f,state:m,from:p,to:g})=>{const{doc:v,selection:y}=m,{empty:w}=y,N=!v.textBetween(p,g).length&&s5(m.selection),A=this.element.contains(document.activeElement);return!(!(f.hasFocus()||A)||w||N||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:f})=>{var m;if(this.editor.isDestroyed){this.destroy();return}if(this.preventHide){this.preventHide=!1;return}f?.relatedTarget&&((m=this.element.parentNode)!=null&&m.contains(f.relatedTarget))||f?.relatedTarget!==this.editor.view.dom&&this.hide()},this.handleDebouncedUpdate=(f,m)=>{const p=!m?.selection.eq(f.state.selection),g=!m?.doc.eq(f.state.doc);!p&&!g||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(f,p,g,m)},this.updateDelay))},this.updateHandler=(f,m,p,g)=>{const{composing:v}=f;if(v||!m&&!p)return;if(!this.getShouldShow(g)){this.hide();return}this.updatePosition(),this.show()},this.transactionHandler=({transaction:f})=>{const m=f.getMeta("bubbleMenu");m==="updatePosition"?this.updatePosition():m&&typeof m=="object"&&m.type==="updateOptions"&&this.updateOptions(m.options)};var u;this.editor=e,this.element=t,this.view=n,this.updateDelay=r,this.resizeDelay=a,this.appendTo=o,this.scrollTarget=(u=c?.scrollTarget)!=null?u:window,this.getReferencedVirtualElement=l,this.floatingUIOptions={...this.floatingUIOptions,...c},this.element.tabIndex=0,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.editor.on("transaction",this.transactionHandler),window.addEventListener("resize",this.resizeHandler),this.scrollTarget.addEventListener("scroll",this.resizeHandler),this.update(n,n.state),this.getShouldShow()&&(this.show(),this.updatePosition())}get middlewares(){const e=[];return this.floatingUIOptions.flip&&e.push(g_(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&e.push(x_(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&e.push(p_(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&e.push(C0(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&e.push(y_(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&e.push(AG(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&e.push(v_(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&e.push(EG(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),e}get virtualElement(){var e,t,n;const{selection:r}=this.editor.state,a=(e=this.getReferencedVirtualElement)==null?void 0:e.call(this);if(a)return a;if(!((n=(t=this.view)==null?void 0:t.dom)!=null&&n.parentNode))return;const i=Wte(this.view,r.from,r.to);let o={getBoundingClientRect:()=>i,getClientRects:()=>[i]};if(r instanceof tt){let l=this.view.nodeDOM(r.from);const c=l.dataset.nodeViewWrapper?l:l.querySelector("[data-node-view-wrapper]");c&&(l=c),l&&(o={getBoundingClientRect:()=>l.getBoundingClientRect(),getClientRects:()=>[l.getBoundingClientRect()]})}if(r instanceof Oo){const{$anchorCell:l,$headCell:c}=r,u=l?l.pos:c.pos,f=c?c.pos:l.pos,m=this.view.nodeDOM(u),p=this.view.nodeDOM(f);if(!m||!p)return;const g=m===p?m.getBoundingClientRect():G4e(m.getBoundingClientRect(),p.getBoundingClientRect());o={getBoundingClientRect:()=>g,getClientRects:()=>[g]}}return o}updatePosition(){const e=this.virtualElement;e&&b_(e,this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:t,y:n,strategy:r,middlewareData:a})=>{var i,o;if((i=a.hide)!=null&&i.referenceHidden||(o=a.hide)!=null&&o.escaped){this.element.style.visibility="hidden";return}this.element.style.visibility="visible",this.element.style.width="max-content",this.element.style.position=r,this.element.style.left=`${t}px`,this.element.style.top=`${n}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(e,t){const{state:n}=e,r=n.selection.from!==n.selection.to;if(this.updateDelay>0&&r){this.handleDebouncedUpdate(e,t);return}const a=!t?.selection.eq(e.state.selection),i=!t?.doc.eq(e.state.doc);this.updateHandler(e,a,i,t)}getShouldShow(e){var t;const{state:n}=this.view,{selection:r}=n,{ranges:a}=r,i=Math.min(...a.map(c=>c.$from.pos)),o=Math.max(...a.map(c=>c.$to.pos));return((t=this.shouldShow)==null?void 0:t.call(this,{editor:this.editor,element:this.element,view:this.view,state:n,oldState:e,from:i,to:o}))||!1}show(){var e;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const t=typeof this.appendTo=="function"?this.appendTo():this.appendTo;(e=t??this.view.dom.parentElement)==null||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}updateOptions(e){var t;if(e.updateDelay!==void 0&&(this.updateDelay=e.updateDelay),e.resizeDelay!==void 0&&(this.resizeDelay=e.resizeDelay),e.appendTo!==void 0&&(this.appendTo=e.appendTo),e.getReferencedVirtualElement!==void 0&&(this.getReferencedVirtualElement=e.getReferencedVirtualElement),e.shouldShow!==void 0&&e.shouldShow&&(this.shouldShow=e.shouldShow),e.options!==void 0){const n=(t=e.options.scrollTarget)!=null?t:window;n!==this.scrollTarget&&(this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.scrollTarget=n,this.scrollTarget.addEventListener("scroll",this.resizeHandler)),this.floatingUIOptions={...this.floatingUIOptions,...e.options}}}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),window.removeEventListener("resize",this.resizeHandler),this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.editor.off("transaction",this.transactionHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},gne=e=>new Bn({key:typeof e.pluginKey=="string"?new Qn(e.pluginKey):e.pluginKey,view:t=>new Y4e({view:t,...e})});ln.create({name:"bubbleMenu",addOptions(){return{element:null,pluginKey:"bubbleMenu",updateDelay:void 0,appendTo:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[gne({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,options:this.options.options,appendTo:this.options.appendTo,getReferencedVirtualElement:this.options.getReferencedVirtualElement,shouldShow:this.options.shouldShow})]:[]}});var X4e=class{constructor({editor:e,element:t,view:n,updateDelay:r=250,resizeDelay:a=60,options:i,appendTo:o,shouldShow:l}){this.preventHide=!1,this.isVisible=!1,this.scrollTarget=window,this.shouldShow=({view:u,state:f})=>{const{selection:m}=f,{$anchor:p,empty:g}=m,v=p.depth===1,y=p.parent.isTextblock&&!p.parent.type.spec.code&&!p.parent.textContent&&p.parent.childCount===0&&!this.getTextContent(p.parent);return!(!u.hasFocus()||!g||!v||!y||!this.editor.isEditable)},this.floatingUIOptions={strategy:"absolute",placement:"right",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1},this.updateHandler=(u,f,m,p)=>{const{composing:g}=u;if(g||!f&&!m)return;if(!this.getShouldShow(p)){this.hide();return}this.updatePosition(),this.show()},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:u})=>{var f;if(this.preventHide){this.preventHide=!1;return}u?.relatedTarget&&((f=this.element.parentNode)!=null&&f.contains(u.relatedTarget))||u?.relatedTarget!==this.editor.view.dom&&this.hide()},this.transactionHandler=({transaction:u})=>{const f=u.getMeta("floatingMenu");f==="updatePosition"?this.updatePosition():f&&typeof f=="object"&&f.type==="updateOptions"&&this.updateOptions(f.options)},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)};var c;this.editor=e,this.element=t,this.view=n,this.updateDelay=r,this.resizeDelay=a,this.appendTo=o,this.scrollTarget=(c=i?.scrollTarget)!=null?c:window,this.floatingUIOptions={...this.floatingUIOptions,...i},this.element.tabIndex=0,l&&(this.shouldShow=l),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.editor.on("transaction",this.transactionHandler),window.addEventListener("resize",this.resizeHandler),this.scrollTarget.addEventListener("scroll",this.resizeHandler),this.update(n,n.state),this.getShouldShow()&&(this.show(),this.updatePosition())}getTextContent(e){return zte(e,{textSerializers:o5(this.editor.schema)})}get middlewares(){const e=[];return this.floatingUIOptions.flip&&e.push(g_(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&e.push(x_(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&e.push(p_(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&e.push(C0(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&e.push(y_(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&e.push(AG(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&e.push(v_(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&e.push(EG(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),e}getShouldShow(e){var t;const{state:n}=this.view,{selection:r}=n,{ranges:a}=r,i=Math.min(...a.map(c=>c.$from.pos)),o=Math.max(...a.map(c=>c.$to.pos));return(t=this.shouldShow)==null?void 0:t.call(this,{editor:this.editor,view:this.view,state:n,oldState:e,from:i,to:o})}updateOptions(e){var t;if(e.updateDelay!==void 0&&(this.updateDelay=e.updateDelay),e.resizeDelay!==void 0&&(this.resizeDelay=e.resizeDelay),e.appendTo!==void 0&&(this.appendTo=e.appendTo),e.shouldShow!==void 0&&e.shouldShow&&(this.shouldShow=e.shouldShow),e.options!==void 0){const n=(t=e.options.scrollTarget)!=null?t:window;n!==this.scrollTarget&&(this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.scrollTarget=n,this.scrollTarget.addEventListener("scroll",this.resizeHandler)),this.floatingUIOptions={...this.floatingUIOptions,...e.options}}}updatePosition(){const{selection:e}=this.editor.state,t=Wte(this.view,e.from,e.to);b_({getBoundingClientRect:()=>t,getClientRects:()=>[t]},this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:r,y:a,strategy:i,middlewareData:o})=>{var l,c;if((l=o.hide)!=null&&l.referenceHidden||(c=o.hide)!=null&&c.escaped){this.element.style.visibility="hidden";return}this.element.style.visibility="visible",this.element.style.width="max-content",this.element.style.position=i,this.element.style.left=`${r}px`,this.element.style.top=`${a}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(e,t){const n=!t?.selection.eq(e.state.selection),r=!t?.doc.eq(e.state.doc);this.updateHandler(e,n,r,t)}show(){var e;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const t=typeof this.appendTo=="function"?this.appendTo():this.appendTo;(e=t??this.view.dom.parentElement)==null||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),window.removeEventListener("resize",this.resizeHandler),this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.editor.off("transaction",this.transactionHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},yne=e=>new Bn({key:typeof e.pluginKey=="string"?new Qn(e.pluginKey):e.pluginKey,view:t=>new X4e({view:t,...e})});ln.create({name:"floatingMenu",addOptions(){return{element:null,options:{},pluginKey:"floatingMenu",updateDelay:void 0,resizeDelay:void 0,appendTo:void 0,shouldShow:null}},addCommands(){return{updateFloatingMenuPosition:()=>({tr:e,dispatch:t})=>(t&&e.setMeta("floatingMenu","updatePosition"),!0)}},addProseMirrorPlugins(){return this.options.element?[yne({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,resizeDelay:this.options.resizeDelay,options:this.options.options,appendTo:this.options.appendTo,shouldShow:this.options.shouldShow})]:[]}});var Q4e=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},J4e=({contentComponent:e})=>{const t=Bw.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return s.jsx(s.Fragment,{children:Object.values(t)})};function Z4e(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:KM.createPortal(r.reactElement,r.element,n)},e.forEach(a=>a())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(a=>a())}}}var eMe=class extends Z.Component{constructor(e){var t;super(e),this.editorContentRef=Z.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var e;const t=this.props.editor;if(t&&!t.isDestroyed&&((e=t.view.dom)!=null&&e.parentNode)){if(t.contentComponent)return;const n=this.editorContentRef.current;n.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:n}),t.contentComponent=Z4e(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.parentNode))return;const n=document.createElement("div");n.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:n})}catch{}}}render(){const{editor:e,innerRef:t,...n}=this.props;return s.jsxs(s.Fragment,{children:[s.jsx("div",{ref:Q4e(t,this.editorContentRef),...n}),e?.contentComponent&&s.jsx(J4e,{contentComponent:e.contentComponent})]})}},tMe=j.forwardRef((e,t)=>{const n=Z.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return Z.createElement(eMe,{key:n,innerRef:t,...e})}),vne=Z.memo(tMe),nMe=typeof window<"u"?j.useLayoutEffect:j.useEffect,rMe=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}};function sMe(e){var t;const[n]=j.useState(()=>new rMe(e.editor)),r=$4e.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:dne);return nMe(()=>n.watch(e.editor),[e.editor,n]),j.useDebugValue(r),r}var aMe=!1,n4=typeof window>"u",iMe=n4||!!(typeof window<"u"&&window.next),oMe=class bne{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?n4||iMe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...r)=>{var a,i;return(i=(a=this.options.current).onBeforeCreate)==null?void 0:i.call(a,...r)},onBlur:(...r)=>{var a,i;return(i=(a=this.options.current).onBlur)==null?void 0:i.call(a,...r)},onCreate:(...r)=>{var a,i;return(i=(a=this.options.current).onCreate)==null?void 0:i.call(a,...r)},onDestroy:(...r)=>{var a,i;return(i=(a=this.options.current).onDestroy)==null?void 0:i.call(a,...r)},onFocus:(...r)=>{var a,i;return(i=(a=this.options.current).onFocus)==null?void 0:i.call(a,...r)},onSelectionUpdate:(...r)=>{var a,i;return(i=(a=this.options.current).onSelectionUpdate)==null?void 0:i.call(a,...r)},onTransaction:(...r)=>{var a,i;return(i=(a=this.options.current).onTransaction)==null?void 0:i.call(a,...r)},onUpdate:(...r)=>{var a,i;return(i=(a=this.options.current).onUpdate)==null?void 0:i.call(a,...r)},onContentError:(...r)=>{var a,i;return(i=(a=this.options.current).onContentError)==null?void 0:i.call(a,...r)},onDrop:(...r)=>{var a,i;return(i=(a=this.options.current).onDrop)==null?void 0:i.call(a,...r)},onPaste:(...r)=>{var a,i;return(i=(a=this.options.current).onPaste)==null?void 0:i.call(a,...r)},onDelete:(...r)=>{var a,i;return(i=(a=this.options.current).onDelete)==null?void 0:i.call(a,...r)}};return new qPe(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((a,i)=>{var o;return a===((o=n.extensions)==null?void 0:o[i])}):t[r]===n[r])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?bne.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((r,a)=>r===t[a]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function lMe(e={},t=[]){const n=j.useRef(e);n.current=e;const[r]=j.useState(()=>new oMe(n)),a=Bw.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return j.useDebugValue(a),j.useEffect(r.onRender(t)),sMe({editor:a,selector:({transactionNumber:i})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&i===0?0:i+1}),a}var p5=j.createContext({editor:null});p5.Consumer;var jne=()=>j.useContext(p5),cMe=j.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),dMe=()=>j.useContext(cMe);Z.forwardRef((e,t)=>{const{onDragStart:n}=dMe(),r=e.as||"div";return s.jsx(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});Z.createContext({markViewContentRef:()=>{}});var uMe=Z.forwardRef(({pluginKey:e="bubbleMenu",editor:t,updateDelay:n,resizeDelay:r,appendTo:a,shouldShow:i=null,getReferencedVirtualElement:o,options:l,children:c,...u},f)=>{const m=j.useRef(document.createElement("div"));typeof f=="function"?f(m.current):f&&(f.current=m.current);const{editor:p}=jne(),g=t||p,v={updateDelay:n,resizeDelay:r,appendTo:a,pluginKey:e,shouldShow:i,getReferencedVirtualElement:o,options:l},y=j.useRef(v);y.current=v;const[w,N]=j.useState(!1),A=j.useRef(!0);return j.useEffect(()=>{if(g?.isDestroyed)return;if(!g){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const T=m.current;T.style.visibility="hidden",T.style.position="absolute";const C=gne({...y.current,editor:g,element:T});g.registerPlugin(C);const S=y.current.pluginKey;return A.current=!0,N(!0),()=>{N(!1),g.unregisterPlugin(S),window.requestAnimationFrame(()=>{T.parentNode&&T.parentNode.removeChild(T)})}},[g]),j.useEffect(()=>{if(!(!w||!g||g.isDestroyed)){if(A.current){A.current=!1;return}g.view.dispatch(g.state.tr.setMeta("bubbleMenu",{type:"updateOptions",options:y.current}))}},[w,g,n,r,i,l,a,o]),Ul.createPortal(s.jsx("div",{...u,children:c}),m.current)}),fMe=Z.forwardRef(({pluginKey:e="floatingMenu",editor:t,updateDelay:n,resizeDelay:r,appendTo:a,shouldShow:i=null,options:o,children:l,...c},u)=>{const f=j.useRef(document.createElement("div"));typeof u=="function"?u(f.current):u&&(u.current=f.current);const{editor:m}=jne(),p=t||m,g={updateDelay:n,resizeDelay:r,appendTo:a,pluginKey:e,shouldShow:i,options:o},v=j.useRef(g);v.current=g;const[y,w]=j.useState(!1),N=j.useRef(!0);return j.useEffect(()=>{if(p?.isDestroyed)return;if(!p){console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");return}const A=f.current;A.style.visibility="hidden",A.style.position="absolute";const T=yne({...v.current,editor:p,element:A});p.registerPlugin(T);const C=v.current.pluginKey;return N.current=!0,w(!0),()=>{w(!1),p.unregisterPlugin(C),window.requestAnimationFrame(()=>{A.parentNode&&A.parentNode.removeChild(A)})}},[p]),j.useEffect(()=>{if(!(!y||!p||p.isDestroyed)){if(N.current){N.current=!1;return}p.view.dispatch(p.state.tr.setMeta("floatingMenu",{type:"updateOptions",options:v.current}))}},[y,p,n,r,i,o,a]),Ul.createPortal(s.jsx("div",{...c,children:l}),f.current)}),x5=j.createContext({editor:null,isReady:!1});x5.displayName="TiptapContext";var qN=()=>j.useContext(x5);function wne({instance:e,children:t}){var n;const[r,a]=j.useState((n=e?.isInitialized)!=null?n:!1);j.useEffect(()=>{if(!e){a(!1);return}if(e.isInitialized){a(!0);return}const l=()=>{a(!0)};return e.on("create",l),()=>{e.off("create",l)}},[e]);const i=j.useMemo(()=>({editor:e,isReady:r}),[e,r]),o=j.useMemo(()=>({editor:e}),[e]);return s.jsx(p5.Provider,{value:o,children:s.jsx(x5.Provider,{value:i,children:t})})}wne.displayName="Tiptap";function Nne({...e}){const{editor:t}=qN();return s.jsx(vne,{editor:t,...e})}Nne.displayName="Tiptap.Content";function Sne({children:e}){const{isReady:t}=qN();return t?null:e}Sne.displayName="Tiptap.Loading";function Cne({children:e,...t}){const{editor:n}=qN();return n?s.jsx(uMe,{editor:n,...t,children:e}):null}Cne.displayName="Tiptap.BubbleMenu";function kne({children:e,...t}){const{editor:n}=qN();return n?s.jsx(fMe,{...t,editor:n,children:e}):null}kne.displayName="Tiptap.FloatingMenu";Object.assign(wne,{Content:Nne,Loading:Sne,BubbleMenu:Cne,FloatingMenu:kne});var lj=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...r}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},hMe=/^\s*>\s$/,mMe=Ua.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return lj("blockquote",{...br(this.options.HTMLAttributes,e),children:lj("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=">",r=[];return e.content.forEach(a=>{const l=t.renderChildren([a]).split(`
`).map(c=>c.trim()===""?n:`${n} ${c}`);r.push(l.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Eh({find:hMe,type:this.type})]}}),pMe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,xMe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,gMe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,yMe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,vMe=ad.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return lj("strong",{...br(this.options.HTMLAttributes,e),children:lj("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ah({find:pMe,type:this.type}),Ah({find:gMe,type:this.type})]},addPasteRules(){return[ju({find:xMe,type:this.type}),ju({find:yMe,type:this.type})]}}),bMe=/(^|[^`])`([^`]+)`(?!`)$/,jMe=/(^|[^`])`([^`]+)`(?!`)/g,wMe=ad.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",br(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ah({find:bMe,type:this.type})]},addPasteRules(){return[ju({find:jMe,type:this.type})]}}),rk=4,NMe=/^```([a-z]+)?[\s\n]$/,SMe=/^~~~([a-z]+)?[\s\n]$/,CMe=Ua.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:rk,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;const i=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",br(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return((n=e.raw)==null?void 0:n.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let r="";const a=((n=e.attrs)==null?void 0:n.language)||"";return e.content?r=[`\`\`\`${a}`,t.renderChildren(e.content),"```"].join(`
`):r=`\`\`\`${a}

\`\`\``,r},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:rk,{state:r}=e,{selection:a}=r,{$from:i,empty:o}=a;if(i.parent.type!==this.type)return!1;const l=" ".repeat(n);return o?e.commands.insertContent(l):e.commands.command(({tr:c})=>{const{from:u,to:f}=a,g=r.doc.textBetween(u,f,`
`,`
`).split(`
`).map(v=>l+v).join(`
`);return c.replaceWith(u,f,r.schema.text(g)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:rk,{state:r}=e,{selection:a}=r,{$from:i,empty:o}=a;return i.parent.type!==this.type?!1:o?e.commands.command(({tr:l})=>{var c;const{pos:u}=i,f=i.start(),m=i.end(),g=r.doc.textBetween(f,m,`
`,`
`).split(`
`);let v=0,y=0;const w=u-f;for(let E=0;E<g.length;E+=1){if(y+g[E].length>=w){v=E;break}y+=g[E].length+1}const A=((c=g[v].match(/^ */))==null?void 0:c[0])||"",T=Math.min(A.length,n);if(T===0)return!0;let C=f;for(let E=0;E<v;E+=1)C+=g[E].length+1;return l.delete(C,C+T),u-C<=T&&l.setSelection(yt.create(l.doc,C)),!0}):e.commands.command(({tr:l})=>{const{from:c,to:u}=a,p=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(g=>{var v;const y=((v=g.match(/^ */))==null?void 0:v[0])||"",w=Math.min(y.length,n);return g.slice(w)}).join(`
`);return l.replaceWith(c,u,r.schema.text(p)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:a}=n;if(!a||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!i||!o?!1:e.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:a,empty:i}=n;if(!i||a.parent.type!==this.type||!(a.parentOffset===a.parent.nodeSize-2))return!1;const l=a.after();return l===void 0?!1:r.nodeAt(l)?e.commands.command(({tr:u})=>(u.setSelection(pt.near(r.resolve(l))),!0)):e.commands.exitCode()}}},addInputRules(){return[JP({find:NMe,type:this.type,getAttributes:e=>({language:e[1]})}),JP({find:SMe,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Bn({key:new Qn("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),a=r?JSON.parse(r):void 0,i=a?.mode;if(!n||!i)return!1;const{tr:o,schema:l}=e.state,c=l.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},c)),o.selection.$from.parent.type!==this.type&&o.setSelection(yt.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),e.dispatch(o),!0}}})]}}),kMe=Ua.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),TMe=Ua.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",br(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:a,storedMarks:i}=n;if(a.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=r.extensionManager,c=i||a.$to.parentOffset&&a.$from.marks();return t().insertContent({type:this.name}).command(({tr:u,dispatch:f})=>{if(f&&c&&o){const m=c.filter(p=>l.includes(p.type.name));u.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),AMe=Ua.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,br(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const r=(n=e.attrs)!=null&&n.level?parseInt(e.attrs.level,10):1,a="#".repeat(r);return e.content?`${a} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>JP({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),EMe=Ua.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",br(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!VPe(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,a=e();return Vte(n)?a.insertContentAt(r.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({state:i,tr:o,dispatch:l})=>{if(l){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(yt.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(tt.create(o.doc,c.pos)):o.setSelection(yt.create(o.doc,c.pos));else{const f=i.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,m=f?.create();m&&(o.insert(u,m),o.setSelection(yt.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[UPe({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),OMe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,PMe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,MMe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,_Me=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,RMe=ad.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",br(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ah({find:OMe,type:this.type}),Ah({find:MMe,type:this.type})]},addPasteRules(){return[ju({find:PMe,type:this.type}),ju({find:_Me,type:this.type})]}});const DMe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",IMe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",r4="numeric",s4="ascii",a4="alpha",kx="asciinumeric",ox="alphanumeric",i4="domain",Tne="emoji",LMe="scheme",$Me="slashscheme",sk="whitespace";function FMe(e,t){return e in t||(t[e]=[]),t[e]}function Kd(e,t,n){t[r4]&&(t[kx]=!0,t[ox]=!0),t[s4]&&(t[kx]=!0,t[a4]=!0),t[kx]&&(t[ox]=!0),t[a4]&&(t[ox]=!0),t[ox]&&(t[i4]=!0),t[Tne]&&(t[i4]=!0);for(const r in t){const a=FMe(r,n);a.indexOf(e)<0&&a.push(e)}}function BMe(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function la(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}la.groups={};la.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const a=t.jr[r][0],i=t.jr[r][1];if(i&&a.test(e))return i}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let a=0;a<e.length;a++)this.tt(e[a],t,n,r)},tr(e,t,n,r){r=r||la.groups;let a;return t&&t.j?a=t:(a=new la(t),n&&r&&Kd(t,n,r)),this.jr.push([e,a]),a},ts(e,t,n,r){let a=this;const i=e.length;if(!i)return a;for(let o=0;o<i-1;o++)a=a.tt(e[o]);return a.tt(e[i-1],t,n,r)},tt(e,t,n,r){r=r||la.groups;const a=this;if(t&&t.j)return a.j[e]=t,t;const i=t;let o,l=a.go(e);if(l?(o=new la,Object.assign(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new la,i){if(r)if(o.t&&typeof o.t=="string"){const c=Object.assign(BMe(o.t,r),n);Kd(i,c,r)}else n&&Kd(i,n,r);o.t=i}return a.j[e]=o,o}};const At=(e,t,n,r,a)=>e.ta(t,n,r,a),ir=(e,t,n,r,a)=>e.tr(t,n,r,a),Jz=(e,t,n,r,a)=>e.ts(t,n,r,a),Me=(e,t,n,r,a)=>e.tt(t,n,r,a),vl="WORD",o4="UWORD",Ane="ASCIINUMERICAL",Ene="ALPHANUMERICAL",dg="LOCALHOST",l4="TLD",c4="UTLD",d0="SCHEME",Bf="SLASH_SCHEME",g5="NUM",d4="WS",y5="NL",Tx="OPENBRACE",Ax="CLOSEBRACE",cj="OPENBRACKET",dj="CLOSEBRACKET",uj="OPENPAREN",fj="CLOSEPAREN",hj="OPENANGLEBRACKET",mj="CLOSEANGLEBRACKET",pj="FULLWIDTHLEFTPAREN",xj="FULLWIDTHRIGHTPAREN",gj="LEFTCORNERBRACKET",yj="RIGHTCORNERBRACKET",vj="LEFTWHITECORNERBRACKET",bj="RIGHTWHITECORNERBRACKET",jj="FULLWIDTHLESSTHAN",wj="FULLWIDTHGREATERTHAN",Nj="AMPERSAND",Sj="APOSTROPHE",Cj="ASTERISK",Ac="AT",kj="BACKSLASH",Tj="BACKTICK",Aj="CARET",Mc="COLON",v5="COMMA",Ej="DOLLAR",yo="DOT",Oj="EQUALS",b5="EXCLAMATION",li="HYPHEN",Ex="PERCENT",Pj="PIPE",Mj="PLUS",_j="POUND",Ox="QUERY",j5="QUOTE",One="FULLWIDTHMIDDLEDOT",w5="SEMI",vo="SLASH",Px="TILDE",Rj="UNDERSCORE",Pne="EMOJI",Dj="SYM";var Mne=Object.freeze({__proto__:null,ALPHANUMERICAL:Ene,AMPERSAND:Nj,APOSTROPHE:Sj,ASCIINUMERICAL:Ane,ASTERISK:Cj,AT:Ac,BACKSLASH:kj,BACKTICK:Tj,CARET:Aj,CLOSEANGLEBRACKET:mj,CLOSEBRACE:Ax,CLOSEBRACKET:dj,CLOSEPAREN:fj,COLON:Mc,COMMA:v5,DOLLAR:Ej,DOT:yo,EMOJI:Pne,EQUALS:Oj,EXCLAMATION:b5,FULLWIDTHGREATERTHAN:wj,FULLWIDTHLEFTPAREN:pj,FULLWIDTHLESSTHAN:jj,FULLWIDTHMIDDLEDOT:One,FULLWIDTHRIGHTPAREN:xj,HYPHEN:li,LEFTCORNERBRACKET:gj,LEFTWHITECORNERBRACKET:vj,LOCALHOST:dg,NL:y5,NUM:g5,OPENANGLEBRACKET:hj,OPENBRACE:Tx,OPENBRACKET:cj,OPENPAREN:uj,PERCENT:Ex,PIPE:Pj,PLUS:Mj,POUND:_j,QUERY:Ox,QUOTE:j5,RIGHTCORNERBRACKET:yj,RIGHTWHITECORNERBRACKET:bj,SCHEME:d0,SEMI:w5,SLASH:vo,SLASH_SCHEME:Bf,SYM:Dj,TILDE:Px,TLD:l4,UNDERSCORE:Rj,UTLD:c4,UWORD:o4,WORD:vl,WS:d4});const pl=/[a-z]/,Rp=new RegExp("\\p{L}","u"),ak=new RegExp("\\p{Emoji}","u"),xl=/\d/,ik=/\s/,Zz="\r",ok=`
`,zMe="",qMe="",lk="";let Sb=null,Cb=null;function UMe(e=[]){const t={};la.groups=t;const n=new la;Sb==null&&(Sb=eq(DMe)),Cb==null&&(Cb=eq(IMe)),Me(n,"'",Sj),Me(n,"{",Tx),Me(n,"}",Ax),Me(n,"[",cj),Me(n,"]",dj),Me(n,"(",uj),Me(n,")",fj),Me(n,"<",hj),Me(n,">",mj),Me(n,"",pj),Me(n,"",xj),Me(n,"",gj),Me(n,"",yj),Me(n,"",vj),Me(n,"",bj),Me(n,"",jj),Me(n,"",wj),Me(n,"&",Nj),Me(n,"*",Cj),Me(n,"@",Ac),Me(n,"`",Tj),Me(n,"^",Aj),Me(n,":",Mc),Me(n,",",v5),Me(n,"$",Ej),Me(n,".",yo),Me(n,"=",Oj),Me(n,"!",b5),Me(n,"-",li),Me(n,"%",Ex),Me(n,"|",Pj),Me(n,"+",Mj),Me(n,"#",_j),Me(n,"?",Ox),Me(n,'"',j5),Me(n,"/",vo),Me(n,";",w5),Me(n,"~",Px),Me(n,"_",Rj),Me(n,"\\",kj),Me(n,"",One);const r=ir(n,xl,g5,{[r4]:!0});ir(r,xl,r);const a=ir(r,pl,Ane,{[kx]:!0}),i=ir(r,Rp,Ene,{[ox]:!0}),o=ir(n,pl,vl,{[s4]:!0});ir(o,xl,a),ir(o,pl,o),ir(a,xl,a),ir(a,pl,a);const l=ir(n,Rp,o4,{[a4]:!0});ir(l,pl),ir(l,xl,i),ir(l,Rp,l),ir(i,xl,i),ir(i,pl),ir(i,Rp,i);const c=Me(n,ok,y5,{[sk]:!0}),u=Me(n,Zz,d4,{[sk]:!0}),f=ir(n,ik,d4,{[sk]:!0});Me(n,lk,f),Me(u,ok,c),Me(u,lk,f),ir(u,ik,f),Me(f,Zz),Me(f,ok),ir(f,ik,f),Me(f,lk,f);const m=ir(n,ak,Pne,{[Tne]:!0});Me(m,"#"),ir(m,ak,m),Me(m,zMe,m);const p=Me(m,qMe);Me(p,"#"),ir(p,ak,m);const g=[[pl,o],[xl,a]],v=[[pl,null],[Rp,l],[xl,i]];for(let y=0;y<Sb.length;y++)wc(n,Sb[y],l4,vl,g);for(let y=0;y<Cb.length;y++)wc(n,Cb[y],c4,o4,v);Kd(l4,{tld:!0,ascii:!0},t),Kd(c4,{utld:!0,alpha:!0},t),wc(n,"file",d0,vl,g),wc(n,"mailto",d0,vl,g),wc(n,"http",Bf,vl,g),wc(n,"https",Bf,vl,g),wc(n,"ftp",Bf,vl,g),wc(n,"ftps",Bf,vl,g),Kd(d0,{scheme:!0,ascii:!0},t),Kd(Bf,{slashscheme:!0,ascii:!0},t),e=e.sort((y,w)=>y[0]>w[0]?1:-1);for(let y=0;y<e.length;y++){const w=e[y][0],A=e[y][1]?{[LMe]:!0}:{[$Me]:!0};w.indexOf("-")>=0?A[i4]=!0:pl.test(w)?xl.test(w)?A[kx]=!0:A[s4]=!0:A[r4]=!0,Jz(n,w,w,A)}return Jz(n,"localhost",dg,{ascii:!0}),n.jd=new la(Dj),{start:n,tokens:Object.assign({groups:t},Mne)}}function _ne(e,t){const n=VMe(t.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,a=[];let i=0,o=0;for(;o<r;){let l=e,c=null,u=0,f=null,m=-1,p=-1;for(;o<r&&(c=l.go(n[o]));)l=c,l.accepts()?(m=0,p=0,f=l):m>=0&&(m+=n[o].length,p++),u+=n[o].length,i+=n[o].length,o++;i-=m,o-=p,u-=m,a.push({t:f.t,v:t.slice(i-u,i),s:i-u,e:i})}return a}function VMe(e){const t=[],n=e.length;let r=0;for(;r<n;){let a=e.charCodeAt(r),i,o=a<55296||a>56319||r+1===n||(i=e.charCodeAt(r+1))<56320||i>57343?e[r]:e.slice(r,r+2);t.push(o),r+=o.length}return t}function wc(e,t,n,r,a){let i;const o=t.length;for(let l=0;l<o-1;l++){const c=t[l];e.j[c]?i=e.j[c]:(i=new la(r),i.jr=a.slice(),e.j[c]=i),e=i}return i=new la(n),i.jr=a.slice(),e.j[t[o-1]]=i,i}function eq(e){const t=[],n=[];let r=0,a="0123456789";for(;r<e.length;){let i=0;for(;a.indexOf(e[r+i])>=0;)i++;if(i>0){t.push(n.join(""));for(let o=parseInt(e.substring(r,r+i),10);o>0;o--)n.pop();r+=i}else n.push(e[r]),r++}return t}const ug={defaultProtocol:"http",events:null,format:tq,formatHref:tq,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function N5(e,t=null){let n=Object.assign({},ug);e&&(n=Object.assign(n,e instanceof N5?e.o:e));const r=n.ignoreTags,a=[];for(let i=0;i<r.length;i++)a.push(r[i].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=a}N5.prototype={o:ug,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let a=this.o[e];return a&&(typeof a=="object"?(a=n.t in a?a[n.t]:ug[e],typeof a=="function"&&r&&(a=a(t,n))):typeof a=="function"&&r&&(a=a(t,n.t,n)),a)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function tq(e){return e}function Rne(e,t){this.t="token",this.v=e,this.tk=t}Rne.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=ug.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),a=e.get("tagName",n,t),i=this.toFormattedString(e),o={},l=e.get("className",n,t),c=e.get("target",n,t),u=e.get("rel",n,t),f=e.getObj("attributes",n,t),m=e.getObj("events",n,t);return o.href=r,l&&(o.class=l),c&&(o.target=c),u&&(o.rel=u),f&&Object.assign(o,f),{tagName:a,attributes:o,content:i,eventListeners:m}}};function UN(e,t){class n extends Rne{constructor(a,i){super(a,i),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const nq=UN("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),rq=UN("text"),HMe=UN("nl"),kb=UN("url",{isLink:!0,toHref(e=ug.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==dg&&e[1].t===Mc}}),ri=e=>new la(e);function KMe({groups:e}){const t=e.domain.concat([Nj,Cj,Ac,kj,Tj,Aj,Ej,Oj,li,g5,Ex,Pj,Mj,_j,vo,Dj,Px,Rj]),n=[Sj,Mc,v5,yo,b5,Ex,Ox,j5,w5,hj,mj,Tx,Ax,dj,cj,uj,fj,pj,xj,gj,yj,vj,bj,jj,wj],r=[Nj,Sj,Cj,kj,Tj,Aj,Ej,Oj,li,Tx,Ax,Ex,Pj,Mj,_j,Ox,vo,Dj,Px,Rj],a=ri(),i=Me(a,Px);At(i,r,i),At(i,e.domain,i);const o=ri(),l=ri(),c=ri();At(a,e.domain,o),At(a,e.scheme,l),At(a,e.slashscheme,c),At(o,r,i),At(o,e.domain,o);const u=Me(o,Ac);Me(i,Ac,u),Me(l,Ac,u),Me(c,Ac,u);const f=Me(i,yo);At(f,r,i),At(f,e.domain,i);const m=ri();At(u,e.domain,m),At(m,e.domain,m);const p=Me(m,yo);At(p,e.domain,m);const g=ri(nq);At(p,e.tld,g),At(p,e.utld,g),Me(u,dg,g);const v=Me(m,li);Me(v,li,v),At(v,e.domain,m),At(g,e.domain,m),Me(g,yo,p),Me(g,li,v);const y=Me(g,Mc);At(y,e.numeric,nq);const w=Me(o,li),N=Me(o,yo);Me(w,li,w),At(w,e.domain,o),At(N,r,i),At(N,e.domain,o);const A=ri(kb);At(N,e.tld,A),At(N,e.utld,A),At(A,e.domain,o),At(A,r,i),Me(A,yo,N),Me(A,li,w),Me(A,Ac,u);const T=Me(A,Mc),C=ri(kb);At(T,e.numeric,C);const S=ri(kb),E=ri();At(S,t,S),At(S,n,E),At(E,t,S),At(E,n,E),Me(A,vo,S),Me(C,vo,S);const O=Me(l,Mc),_=Me(c,Mc),M=Me(_,vo),$=Me(M,vo);At(l,e.domain,o),Me(l,yo,N),Me(l,li,w),At(c,e.domain,o),Me(c,yo,N),Me(c,li,w),At(O,e.domain,S),Me(O,vo,S),Me(O,Ox,S),At($,e.domain,S),At($,t,S),Me($,vo,S);const z=[[Tx,Ax],[cj,dj],[uj,fj],[hj,mj],[pj,xj],[gj,yj],[vj,bj],[jj,wj]];for(let V=0;V<z.length;V++){const[I,F]=z[V],K=Me(S,I);Me(E,I,K),Me(K,F,S);const R=ri(kb);At(K,t,R);const B=ri();At(K,n),At(R,t,R),At(R,n,B),At(B,t,R),At(B,n,B),Me(R,F,S),Me(B,F,S)}return Me(a,dg,A),Me(a,y5,HMe),{start:a,tokens:Mne}}function WMe(e,t,n){let r=n.length,a=0,i=[],o=[];for(;a<r;){let l=e,c=null,u=null,f=0,m=null,p=-1;for(;a<r&&!(c=l.go(n[a].t));)o.push(n[a++]);for(;a<r&&(u=c||l.go(n[a].t));)c=null,l=u,l.accepts()?(p=0,m=l):p>=0&&p++,a++,f++;if(p<0)a-=f,a<r&&(o.push(n[a]),a++);else{o.length>0&&(i.push(ck(rq,t,o)),o=[]),a-=p,f-=p;const g=m.t,v=n.slice(a-f,a);i.push(ck(g,t,v))}}return o.length>0&&i.push(ck(rq,t,o)),i}function ck(e,t,n){const r=n[0].s,a=n[n.length-1].e,i=t.slice(r,a);return new e(i,n)}const GMe=typeof console<"u"&&console&&console.warn||(()=>{}),YMe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ln={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function XMe(){return la.groups={},Ln.scanner=null,Ln.parser=null,Ln.tokenQueue=[],Ln.pluginQueue=[],Ln.customSchemes=[],Ln.initialized=!1,Ln}function sq(e,t=!1){if(Ln.initialized&&GMe(`linkifyjs: already initialized - will not register custom scheme "${e}" ${YMe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ln.customSchemes.push([e,t])}function QMe(){Ln.scanner=UMe(Ln.customSchemes);for(let e=0;e<Ln.tokenQueue.length;e++)Ln.tokenQueue[e][1]({scanner:Ln.scanner});Ln.parser=KMe(Ln.scanner.tokens);for(let e=0;e<Ln.pluginQueue.length;e++)Ln.pluginQueue[e][1]({scanner:Ln.scanner,parser:Ln.parser});return Ln.initialized=!0,Ln}function S5(e){return Ln.initialized||QMe(),WMe(Ln.parser.start,e,_ne(Ln.scanner.start,e))}S5.scan=_ne;function Dne(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new N5(n),a=S5(e),i=[];for(let o=0;o<a.length;o++){const l=a[o];l.isLink&&(!t||l.t===t)&&r.check(l)&&i.push(l.toFormattedObject(r))}return i}var C5="[\0- -\u2029]",JMe=new RegExp(C5),ZMe=new RegExp(`${C5}$`),e_e=new RegExp(C5,"g");function t_e(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function n_e(e){return new Bn({key:new Qn("autolink"),appendTransaction:(t,n,r)=>{const a=t.some(u=>u.docChanged)&&!n.doc.eq(r.doc),i=t.some(u=>u.getMeta("preventAutolink"));if(!a||i)return;const{tr:o}=r,l=Ite(n.doc,[...t]);if(Ute(l).forEach(({newRange:u})=>{const f=HOe(r.doc,u,g=>g.isTextblock);let m,p;if(f.length>1)m=f[0],p=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(f.length){const g=r.doc.textBetween(u.from,u.to," "," ");if(!ZMe.test(g))return;m=f[0],p=r.doc.textBetween(m.pos,u.to,void 0," ")}if(m&&p){const g=p.split(JMe).filter(Boolean);if(g.length<=0)return!1;const v=g[g.length-1],y=m.pos+p.lastIndexOf(v);if(!v)return!1;const w=S5(v).map(N=>N.toObject(e.defaultProtocol));if(!t_e(w))return!1;w.filter(N=>N.isLink).map(N=>({...N,from:y+N.start+1,to:y+N.end+1})).filter(N=>r.schema.marks.code?!r.doc.rangeHasMark(N.from,N.to,r.schema.marks.code):!0).filter(N=>e.validate(N.value)).filter(N=>e.shouldAutoLink(N.value)).forEach(N=>{l5(N.from,N.to,r.doc).some(A=>A.mark.type===e.type)||o.addMark(N.from,N.to,e.type.create({href:N.href}))})}}),!!o.steps.length)return o}})}function r_e(e){return new Bn({key:new Qn("handleClickLink"),props:{handleClick:(t,n,r)=>{var a,i;if(r.button!==0||!t.editable)return!1;let o=null;if(r.target instanceof HTMLAnchorElement)o=r.target;else{const c=r.target;if(!c)return!1;const u=e.editor.view.dom;o=c.closest("a"),o&&!u.contains(o)&&(o=null)}if(!o)return!1;let l=!1;if(e.enableClickSelection&&(l=e.editor.commands.extendMarkRange(e.type.name)),e.openOnClick){const c=qte(t.state,e.type.name),u=(a=o.href)!=null?a:c.href,f=(i=o.target)!=null?i:c.target;u&&(window.open(u,f),l=!0)}return l}}})}function s_e(e){return new Bn({key:new Qn("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:a}=e,{state:i}=t,{selection:o}=i,{empty:l}=o;if(l)return!1;let c="";r.content.forEach(f=>{c+=f.textContent});const u=Dne(c,{defaultProtocol:e.defaultProtocol}).find(f=>f.isLink&&f.value===c);return!c||!u||a!==void 0&&!a(u.value)?!1:e.editor.commands.setMark(e.type,{href:u.href})}}})}function Od(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const a=typeof r=="string"?r:r.scheme;a&&n.push(a)}),!e||e.replace(e_e,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var a_e=ad.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){sq(e);return}sq(e.scheme,e.optionalSlashes)})},onDestroy(){XMe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Od(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>{const t=/^[a-z][a-z0-9+.-]*:\/\//i.test(e),n=/^[a-z][a-z0-9+.-]*:/i.test(e);if(t||n&&!e.includes("@"))return!0;const a=(e.includes("@")?e.split("@").pop():e).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(a)||!/\./.test(a))}}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!Od(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Od(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",br(this.options.HTMLAttributes,e),0]:["a",br(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const r=((n=e.attrs)==null?void 0:n.href)||"";return`[${t.renderChildren(e)}](${r})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Od(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Od(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ju({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,a=Dne(e).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:o=>!!Od(o,n),protocols:n,defaultProtocol:r}));a.length&&a.forEach(i=>{this.options.shouldAutoLink(i.value)&&t.push({text:i.value,data:{href:i.href},index:i.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(n_e({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:a=>!!Od(a,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),e.push(r_e({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(s_e({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),i_e=Object.defineProperty,o_e=(e,t)=>{for(var n in t)i_e(e,n,{get:t[n],enumerable:!0})},l_e="listItem",aq="textStyle",iq=/^\s*([-+*])\s$/,Ine=Ua.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",br(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(l_e,this.editor.getAttributes(aq)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Eh({find:iq,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Eh({find:iq,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(aq),editor:this.editor})),[e]}}),Lne=Ua.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",br(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let n=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(a=>a.type==="paragraph"))n=t.parseChildren(e.tokens);else{const a=e.tokens[0];if(a&&a.type==="text"&&a.tokens&&a.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(a.tokens)}],e.tokens.length>1){const o=e.tokens.slice(1),l=t.parseChildren(o);n.push(...l)}}else n=t.parseChildren(e.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>f5(e,t,r=>{var a,i;return r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${(((i=(a=r.meta)==null?void 0:a.parentAttrs)==null?void 0:i.start)||1)+r.index}. `:"- "},n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),c_e={};o_e(c_e,{findListItemPos:()=>yy,getNextListDepth:()=>k5,handleBackspace:()=>u4,handleDelete:()=>f4,hasListBefore:()=>$ne,hasListItemAfter:()=>d_e,hasListItemBefore:()=>Fne,listItemHasSubList:()=>Bne,nextListIsDeeper:()=>zne,nextListIsHigher:()=>qne});var yy=(e,t)=>{const{$from:n}=t.selection,r=Mr(e,t.schema);let a=null,i=n.depth,o=n.pos,l=null;for(;i>0&&l===null;)a=n.node(i),a.type===r?l=i:(i-=1,o-=1);return l===null?null:{$pos:t.doc.resolve(o),depth:l}},k5=(e,t)=>{const n=yy(e,t);if(!n)return!1;const[,r]=ePe(t,e,n.$pos.pos+4);return r},$ne=(e,t,n)=>{const{$anchor:r}=e.selection,a=Math.max(0,r.pos-2),i=e.doc.resolve(a).node();return!(!i||!n.includes(i.type.name))},Fne=(e,t)=>{var n;const{$anchor:r}=t.selection,a=t.doc.resolve(r.pos-2);return!(a.index()===0||((n=a.nodeBefore)==null?void 0:n.type.name)!==e)},Bne=(e,t,n)=>{if(!n)return!1;const r=Mr(e,t.schema);let a=!1;return n.descendants(i=>{i.type===r&&(a=!0)}),a},u4=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!Xc(e.state,t)&&$ne(e.state,t,n)){const{$anchor:l}=e.state.selection,c=e.state.doc.resolve(l.before()-1),u=[];c.node().descendants((p,g)=>{p.type.name===t&&u.push({node:p,pos:g})});const f=u.at(-1);if(!f)return!1;const m=e.state.doc.resolve(c.start()+f.pos+1);return e.chain().cut({from:l.start()-1,to:l.end()+1},m.end()).joinForward().run()}if(!Xc(e.state,t)||!sPe(e.state))return!1;const r=yy(t,e.state);if(!r)return!1;const i=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),o=Bne(t,e.state,i);return Fne(t,e.state)&&!o?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},zne=(e,t)=>{const n=k5(e,t),r=yy(e,t);return!r||!n?!1:n>r.depth},qne=(e,t)=>{const n=k5(e,t),r=yy(e,t);return!r||!n?!1:n<r.depth},f4=(e,t)=>{if(!Xc(e.state,t)||!rPe(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:a}=n;return!n.empty&&r.sameParent(a)?!1:zne(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():qne(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},d_e=(e,t)=>{var n;const{$anchor:r}=t.selection,a=t.doc.resolve(r.pos-r.parentOffset-2);return!(a.index()===a.parent.childCount-1||((n=a.nodeAfter)==null?void 0:n.type.name)!==e)},Une=ln.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&f4(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&f4(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&u4(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&u4(e,n,r)&&(t=!0)}),t}}}}),oq=/^(\s*)(\d+)\.\s+(.*)$/,u_e=/^\s/;function f_e(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n],i=a.match(oq);if(!i)break;const[,o,l,c]=i,u=o.length;let f=c,m=n+1;const p=[a];for(;m<e.length;){const g=e[m];if(g.match(oq))break;if(g.trim()==="")p.push(g),f+=`
`,m+=1;else if(g.match(u_e))p.push(g),f+=`
${g.slice(u+2)}`,m+=1;else break}t.push({indent:u,number:parseInt(l,10),content:f.trim(),raw:p.join(`
`)}),r=m,n=m}return[t,r]}function Vne(e,t,n){var r;const a=[];let i=0;for(;i<e.length;){const o=e[i];if(o.indent===t){const l=o.content.split(`
`),c=((r=l[0])==null?void 0:r.trim())||"",u=[];c&&u.push({type:"paragraph",raw:c,tokens:n.inlineTokens(c)});const f=l.slice(1).join(`
`).trim();if(f){const g=n.blockTokens(f);u.push(...g)}let m=i+1;const p=[];for(;m<e.length&&e[m].indent>t;)p.push(e[m]),m+=1;if(p.length>0){const g=Math.min(...p.map(y=>y.indent)),v=Vne(p,g,n);u.push({type:"list",ordered:!0,start:p[0].number,items:v,raw:p.map(y=>y.raw).join(`
`)})}a.push({type:"list_item",raw:o.raw,tokens:u}),i=m}else i+=1}return a}function h_e(e,t){return e.map(n=>{if(n.type!=="list_item")return t.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(a=>{if(a.type==="paragraph"||a.type==="list"||a.type==="blockquote"||a.type==="code")r.push(...t.parseChildren([a]));else if(a.type==="text"&&a.tokens){const i=t.parseChildren([a]);r.push({type:"paragraph",content:i})}else{const i=t.parseChildren([a]);i.length>0&&r.push(...i)}}),{type:"listItem",content:r}})}var m_e="listItem",lq="textStyle",cq=/^(\d+)\.\s$/,Hne=Ua.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",br(this.options.HTMLAttributes,n),0]:["ol",br(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const n=e.start||1,r=e.items?h_e(e.items,t):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=t?.index;return n!==void 0?n:-1},tokenize:(e,t,n)=>{var r;const a=e.split(`
`),[i,o]=f_e(a);if(i.length===0)return;const l=Vne(i,0,n);return l.length===0?void 0:{type:"list",ordered:!0,start:((r=i[0])==null?void 0:r.number)||1,items:l,raw:a.slice(0,o).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(m_e,this.editor.getAttributes(lq)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Eh({find:cq,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Eh({find:cq,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(lq)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),p_e=/^\s*(\[([( |x])?\])\s$/,x_e=Ua.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",br(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const r=t.parseChildren(e.nestedTokens);n.push(...r)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;const a=`- [${(n=e.attrs)!=null&&n.checked?"x":" "}] `;return f5(e,t,a)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const a=document.createElement("li"),i=document.createElement("label"),o=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),u=m=>{var p,g;l.ariaLabel=((g=(p=this.options.a11y)==null?void 0:p.checkboxLabel)==null?void 0:g.call(p,m,l.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};u(e),i.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",m=>m.preventDefault()),l.addEventListener("change",m=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:p}=m.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const v=n();if(typeof v!="number")return!1;const y=g.doc.nodeAt(v);return g.setNodeMarkup(v,void 0,{...y?.attrs,checked:p}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,p)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,p])=>{a.setAttribute(m,p)}),a.dataset.checked=e.attrs.checked,l.checked=e.attrs.checked,i.append(l,o),a.append(i,c),Object.entries(t).forEach(([m,p])=>{a.setAttribute(m,p)});let f=new Set(Object.keys(t));return{dom:a,contentDOM:c,update:m=>{if(m.type!==this.type)return!1;a.dataset.checked=m.attrs.checked,l.checked=m.attrs.checked,u(m);const p=r.extensionManager.attributes,g=cg(m,p),v=new Set(Object.keys(g)),y=this.options.HTMLAttributes;return f.forEach(w=>{v.has(w)||(w in y?a.setAttribute(w,y[w]):a.removeAttribute(w))}),Object.entries(g).forEach(([w,N])=>{N==null?w in y?a.setAttribute(w,y[w]):a.removeAttribute(w):a.setAttribute(w,N)}),f=v,!0}}}},addInputRules(){return[Eh({find:p_e,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),g_e=Ua.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",br(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return n!==void 0?n:-1},tokenize(e,t,n){const r=i=>{const o=ZP(i,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:r},n);return o?[{type:"taskList",raw:o.raw,items:o.items}]:n.blockTokens(i)},a=ZP(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:i=>({indentLevel:i[1].length,mainContent:i[4],checked:i[3].toLowerCase()==="x"}),createToken:(i,o)=>({type:"taskItem",raw:"",mainContent:i.mainContent,indentLevel:i.indentLevel,checked:i.checked,text:i.mainContent,tokens:n.inlineTokens(i.mainContent),nestedTokens:o}),customNestedParser:r},n);if(a)return{type:"taskList",raw:a.raw,items:a.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});ln.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(Ine.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(Lne.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(Une.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(Hne.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(x_e.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(g_e.configure(this.options.taskList)),e}});var dq="&nbsp;",y_e="",v_e=Ua.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",br(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];if(n.length===1&&n[0].type==="image")return t.parseChildren([n[0]]);const r=t.parseInline(n);return r.length===1&&r[0].type==="text"&&(r[0].text===dq||r[0].text===y_e)?t.createNode("paragraph",void 0,[]):t.createNode("paragraph",void 0,r)},renderMarkdown:(e,t)=>{if(!e)return"";const n=Array.isArray(e.content)?e.content:[];return n.length===0?dq:t.renderChildren(n)},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),b_e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,j_e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,w_e=ad.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",br(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ah({find:b_e,type:this.type})]},addPasteRules(){return[ju({find:j_e,type:this.type})]}}),N_e=Ua.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),Kne=ad.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",br(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const a=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!a)return;const i=a[2].trim();return{type:"underline",raw:a[0],text:i,tokens:n.inlineTokens(i)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),S_e=Kne;function C_e(e={}){return new Bn({view(t){return new k_e(t,e)}})}class k_e{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(a=>{let i=o=>{this[a](o)};return t.dom.addEventListener(a,i),{name:a,handler:i}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,a=this.editorView.dom,i=a.getBoundingClientRect(),o=i.width/a.offsetWidth,l=i.height/a.offsetHeight;if(n){let m=t.nodeBefore,p=t.nodeAfter;if(m||p){let g=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(g){let v=g.getBoundingClientRect(),y=m?v.bottom:v.top;m&&p&&(y=(y+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let w=this.width/2*l;r={left:v.left,right:v.right,top:y-w,bottom:y+w}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*o;r={left:m.left-p,right:m.left+p,top:m.top,bottom:m.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,f;if(!c||c==document.body&&getComputedStyle(c).position=="static")u=-pageXOffset,f=-pageYOffset;else{let m=c.getBoundingClientRect(),p=m.width/c.offsetWidth,g=m.height/c.offsetHeight;u=m.left-c.scrollLeft*p,f=m.top-c.scrollTop*g}this.element.style.left=(r.left-u)/o+"px",this.element.style.top=(r.top-f)/l+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),a=r&&r.type.spec.disableDropCursor,i=typeof a=="function"?a(this.editorView,n,t):a;if(n&&!i){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=Aee(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class cr extends pt{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return cr.valid(r)?new cr(r):pt.near(r)}content(){return ze.empty}eq(t){return t instanceof cr&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new cr(t.resolve(n.pos))}getBookmark(){return new T5(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!T_e(t)||!A_e(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let a=n.contentMatchAt(t.index()).defaultType;return a&&a.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&cr.valid(t))return t;let a=t.pos,i=null;for(let o=t.depth;;o--){let l=t.node(o);if(n>0?t.indexAfter(o)<l.childCount:t.index(o)>0){i=l.child(n>0?t.indexAfter(o):t.index(o)-1);break}else if(o==0)return null;a+=n;let c=t.doc.resolve(a);if(cr.valid(c))return c}for(;;){let o=n>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!tt.isSelectable(i)){t=t.doc.resolve(a+i.nodeSize*n),r=!1;continue e}break}i=o,a+=n;let l=t.doc.resolve(a);if(cr.valid(l))return l}return null}}}cr.prototype.visible=!1;cr.findFrom=cr.findGapCursorFrom;pt.jsonID("gapcursor",cr);class T5{constructor(t){this.pos=t}map(t){return new T5(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return cr.valid(n)?new cr(n):pt.near(n)}}function Wne(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function T_e(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let a=r.child(n-1);;a=a.lastChild){if(a.childCount==0&&!a.inlineContent||Wne(a.type))return!0;if(a.inlineContent)return!1}}return!0}function A_e(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let a=r.child(n);;a=a.firstChild){if(a.childCount==0&&!a.inlineContent||Wne(a.type))return!0;if(a.inlineContent)return!1}}return!0}function E_e(){return new Bn({props:{decorations:__e,createSelectionBetween(e,t,n){return t.pos==n.pos&&cr.valid(n)?new cr(n):null},handleClick:P_e,handleKeyDown:O_e,handleDOMEvents:{beforeinput:M_e}}})}const O_e=e5({ArrowLeft:Tb("horiz",-1),ArrowRight:Tb("horiz",1),ArrowUp:Tb("vert",-1),ArrowDown:Tb("vert",1)});function Tb(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,a,i){let o=r.selection,l=t>0?o.$to:o.$from,c=o.empty;if(o instanceof yt){if(!i.endOfTextblock(n)||l.depth==0)return!1;c=!1,l=r.doc.resolve(t>0?l.after():l.before())}let u=cr.findGapCursorFrom(l,t,c);return u?(a&&a(r.tr.setSelection(new cr(u))),!0):!1}}function P_e(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!cr.valid(r))return!1;let a=e.posAtCoords({left:n.clientX,top:n.clientY});return a&&a.inside>-1&&tt.isSelectable(e.state.doc.nodeAt(a.inside))?!1:(e.dispatch(e.state.tr.setSelection(new cr(r))),!0)}function M_e(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof cr))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let a=Ee.empty;for(let o=r.length-1;o>=0;o--)a=Ee.from(r[o].createAndFill(null,a));let i=e.state.tr.replace(n.pos,n.pos,new ze(a,0,0));return i.setSelection(yt.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function __e(e){if(!(e.selection instanceof cr))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",tr.create(e.doc,[Bs.widget(e.selection.head,t,{key:"gapcursor"})])}var Ij=200,es=function(){};es.prototype.append=function(t){return t.length?(t=es.from(t),!this.length&&t||t.length<Ij&&this.leafAppend(t)||this.length<Ij&&t.leafPrepend(this)||this.appendInner(t)):this};es.prototype.prepend=function(t){return t.length?es.from(t).append(this):this};es.prototype.appendInner=function(t){return new R_e(this,t)};es.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?es.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};es.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};es.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};es.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var a=[];return this.forEach(function(i,o){return a.push(t(i,o))},n,r),a};es.from=function(t){return t instanceof es?t:t&&t.length?new Gne(t):es.empty};var Gne=(function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(a,i){return a==0&&i==this.length?this:new t(this.values.slice(a,i))},t.prototype.getInner=function(a){return this.values[a]},t.prototype.forEachInner=function(a,i,o,l){for(var c=i;c<o;c++)if(a(this.values[c],l+c)===!1)return!1},t.prototype.forEachInvertedInner=function(a,i,o,l){for(var c=i-1;c>=o;c--)if(a(this.values[c],l+c)===!1)return!1},t.prototype.leafAppend=function(a){if(this.length+a.length<=Ij)return new t(this.values.concat(a.flatten()))},t.prototype.leafPrepend=function(a){if(this.length+a.length<=Ij)return new t(a.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(es);es.empty=new Gne([]);var R_e=(function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,a,i,o){var l=this.left.length;if(a<l&&this.left.forEachInner(r,a,Math.min(i,l),o)===!1||i>l&&this.right.forEachInner(r,Math.max(a-l,0),Math.min(this.length,i)-l,o+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,a,i,o){var l=this.left.length;if(a>l&&this.right.forEachInvertedInner(r,a-l,Math.max(i,l)-l,o+l)===!1||i<l&&this.left.forEachInvertedInner(r,Math.min(a,l),i,o)===!1)return!1},t.prototype.sliceInner=function(r,a){if(r==0&&a==this.length)return this;var i=this.left.length;return a<=i?this.left.slice(r,a):r>=i?this.right.slice(r-i,a-i):this.left.slice(r,i).append(this.right.slice(0,a-i))},t.prototype.leafAppend=function(r){var a=this.right.leafAppend(r);if(a)return new t(this.left,a)},t.prototype.leafPrepend=function(r){var a=this.left.leafPrepend(r);if(a)return new t(a,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})(es);const D_e=500;class zi{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let a,i;n&&(a=this.remapping(r,this.items.length),i=a.maps.length);let o=t.tr,l,c,u=[],f=[];return this.items.forEach((m,p)=>{if(!m.step){a||(a=this.remapping(r,p+1),i=a.maps.length),i--,f.push(m);return}if(a){f.push(new bo(m.map));let g=m.step.map(a.slice(i)),v;g&&o.maybeStep(g).doc&&(v=o.mapping.maps[o.mapping.maps.length-1],u.push(new bo(v,void 0,void 0,u.length+f.length))),i--,v&&a.appendMap(v,i)}else o.maybeStep(m.step);if(m.selection)return l=a?m.selection.map(a.slice(i)):m.selection,c=new zi(this.items.slice(0,r).append(f.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:l}}addTransform(t,n,r,a){let i=[],o=this.eventCount,l=this.items,c=!a&&l.length?l.get(l.length-1):null;for(let f=0;f<t.steps.length;f++){let m=t.steps[f].invert(t.docs[f]),p=new bo(t.mapping.maps[f],m,n),g;(g=c&&c.merge(p))&&(p=g,f?i.pop():l=l.slice(0,l.length-1)),i.push(p),n&&(o++,n=void 0),a||(c=p)}let u=o-r.depth;return u>L_e&&(l=I_e(l,u),o-=u),new zi(l.append(i),o)}remapping(t,n){let r=new rg;return this.items.forEach((a,i)=>{let o=a.mirrorOffset!=null&&i-a.mirrorOffset>=t?r.maps.length-a.mirrorOffset:void 0;r.appendMap(a.map,o)},t,n),r}addMaps(t){return this.eventCount==0?this:new zi(this.items.append(t.map(n=>new bo(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],a=Math.max(0,this.items.length-n),i=t.mapping,o=t.steps.length,l=this.eventCount;this.items.forEach(p=>{p.selection&&l--},a);let c=n;this.items.forEach(p=>{let g=i.getMirror(--c);if(g==null)return;o=Math.min(o,g);let v=i.maps[g];if(p.step){let y=t.steps[g].invert(t.docs[g]),w=p.selection&&p.selection.map(i.slice(c+1,g));w&&l++,r.push(new bo(v,y,w))}else r.push(new bo(v))},a);let u=[];for(let p=n;p<o;p++)u.push(new bo(i.maps[p]));let f=this.items.slice(0,a).append(u).append(r),m=new zi(f,l);return m.emptyItemCount()>D_e&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,a=[],i=0;return this.items.forEach((o,l)=>{if(l>=t)a.push(o),o.selection&&i++;else if(o.step){let c=o.step.map(n.slice(r)),u=c&&c.getMap();if(r--,u&&n.appendMap(u,r),c){let f=o.selection&&o.selection.map(n.slice(r));f&&i++;let m=new bo(u.invert(),c,f),p,g=a.length-1;(p=a.length&&a[g].merge(m))?a[g]=p:a.push(m)}}else o.map&&r--},this.items.length,0),new zi(es.from(a.reverse()),i)}}zi.empty=new zi(es.empty,0);function I_e(e,t){let n;return e.forEach((r,a)=>{if(r.selection&&t--==0)return n=a,!1}),e.slice(n)}class bo{constructor(t,n,r,a){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=a}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new bo(n.getMap().invert(),n,this.selection)}}}class Ec{constructor(t,n,r,a,i){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=a,this.prevComposition=i}}const L_e=20;function $_e(e,t,n,r){let a=n.getMeta(ru),i;if(a)return a.historyState;n.getMeta(z_e)&&(e=new Ec(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(o&&o.getMeta(ru))return o.getMeta(ru).redo?new Ec(e.done.addTransform(n,void 0,r,u0(t)),e.undone,uq(n.mapping.maps),e.prevTime,e.prevComposition):new Ec(e.done,e.undone.addTransform(n,void 0,r,u0(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),c=e.prevTime==0||!o&&e.prevComposition!=l&&(e.prevTime<(n.time||0)-r.newGroupDelay||!F_e(n,e.prevRanges)),u=o?dk(e.prevRanges,n.mapping):uq(n.mapping.maps);return new Ec(e.done.addTransform(n,c?t.selection.getBookmark():void 0,r,u0(t)),zi.empty,u,n.time,l??e.prevComposition)}else return(i=n.getMeta("rebased"))?new Ec(e.done.rebased(n,i),e.undone.rebased(n,i),dk(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Ec(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),dk(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function F_e(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,a)=>{for(let i=0;i<t.length;i+=2)r<=t[i+1]&&a>=t[i]&&(n=!0)}),n}function uq(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,a,i,o)=>t.push(i,o));return t}function dk(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let a=t.map(e[r],1),i=t.map(e[r+1],-1);a<=i&&n.push(a,i)}return n}function B_e(e,t,n){let r=u0(t),a=ru.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,r);if(!i)return null;let o=i.selection.resolve(i.transform.doc),l=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),a,r),c=new Ec(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(o).setMeta(ru,{redo:n,historyState:c})}let uk=!1,fq=null;function u0(e){let t=e.plugins;if(fq!=t){uk=!1,fq=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){uk=!0;break}}return uk}const ru=new Qn("history"),z_e=new Qn("closeHistory");function q_e(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Bn({key:ru,state:{init(){return new Ec(zi.empty,zi.empty,null,0,-1)},apply(t,n,r){return $_e(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,a=r=="historyUndo"?Xne:r=="historyRedo"?Qne:null;return!a||!t.editable?!1:(n.preventDefault(),a(t.state,t.dispatch))}}}})}function Yne(e,t){return(n,r)=>{let a=ru.getState(n);if(!a||(e?a.undone:a.done).eventCount==0)return!1;if(r){let i=B_e(a,n,e);i&&r(t?i.scrollIntoView():i)}return!0}}const Xne=Yne(!1,!0),Qne=Yne(!0,!0);ln.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=e?.node||this.editor.state.doc;if((e?.mode||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=e?.node||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new Bn({key:new Qn("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const a=this.options.limit;if(a==null||a===0){e=!0;return}const i=this.storage.characters({node:r.doc});if(i>a){const o=i-a,l=0,c=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${a} characters. Content was automatically trimmed.`);const u=r.tr.deleteRange(l,c);return e=!0,u}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const a=this.storage.characters({node:n.doc}),i=this.storage.characters({node:t.doc});if(i<=r||a>r&&i>r&&i<=a)return!0;if(a>r&&i>r&&i>a||!t.getMeta("paste"))return!1;const l=t.selection.$head.pos,c=i-r,u=l-c,f=l;return t.deleteRange(u,f),!(this.storage.characters({node:t.doc})>r)}})]}});var U_e=ln.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[C_e(this.options)]}});ln.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Bn({key:new Qn("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:a}=t,i=[];if(!n||!r)return tr.create(e,[]);let o=0;this.options.mode==="deepest"&&e.descendants((c,u)=>{if(c.isText)return;if(!(a>=u&&a<=u+c.nodeSize-1))return!1;o+=1});let l=0;return e.descendants((c,u)=>{if(c.isText||!(a>=u&&a<=u+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&o-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";i.push(Bs.node(u,u+c.nodeSize,{class:this.options.className}))}),tr.create(e,i)}}})]}});var V_e=ln.create({name:"gapCursor",addProseMirrorPlugins(){return[E_e()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=hn(Qe(e,"allowGapCursor",n)))!=null?t:null}}}),hq="placeholder";function H_e(e){return e.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").replace(/^[0-9-]+/,"").replace(/^-+/,"").toLowerCase()}ln.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",dataAttribute:hq,placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){const e=this.options.dataAttribute?`data-${H_e(this.options.dataAttribute)}`:`data-${hq}`;return[new Bn({key:new Qn("placeholder"),props:{decorations:({doc:t,selection:n})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:a}=n,i=[];if(!r)return null;const o=this.editor.isEmpty;return t.descendants((l,c)=>{const u=a>=c&&a<=c+l.nodeSize,f=!l.isLeaf&&FN(l);if((u||!this.options.showOnlyCurrent)&&f){const m=[this.options.emptyNodeClass];o&&m.push(this.options.emptyEditorClass);const p=Bs.node(c,c+l.nodeSize,{class:m.join(" "),[e]:typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:c,hasAnchor:u}):this.options.placeholder});i.push(p)}return this.options.includeChildren}),tr.create(t,i)}}})]}});ln.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new Bn({key:new Qn("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||Vte(n.selection)||e.view.dragging?null:tr.create(n.doc,[Bs.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function mq({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||t?.type===e}var K_e=ln.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new Qn(this.name),n=this.options.node||((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,a])=>a).filter(a=>(this.options.notAfter||[]).concat(n).includes(a.name));return[new Bn({key:t,appendTransaction:(a,i,o)=>{const{doc:l,tr:c,schema:u}=o,f=t.getState(o),m=l.content.size,p=u.nodes[n];if(f)return c.insert(m,p.create())},state:{init:(a,i)=>{const o=i.tr.doc.lastChild;return!mq({node:o,types:r})},apply:(a,i)=>{if(!a.docChanged||a.getMeta("__uniqueIDTransaction"))return i;const o=a.doc.lastChild;return!mq({node:o,types:r})}}})]}}),W_e=ln.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>Xne(e,t),redo:()=>({state:e,dispatch:t})=>Qne(e,t)}},addProseMirrorPlugins(){return[q_e(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),G_e=ln.create({name:"starterKit",addExtensions(){var e,t,n,r;const a=[];return this.options.bold!==!1&&a.push(vMe.configure(this.options.bold)),this.options.blockquote!==!1&&a.push(mMe.configure(this.options.blockquote)),this.options.bulletList!==!1&&a.push(Ine.configure(this.options.bulletList)),this.options.code!==!1&&a.push(wMe.configure(this.options.code)),this.options.codeBlock!==!1&&a.push(CMe.configure(this.options.codeBlock)),this.options.document!==!1&&a.push(kMe.configure(this.options.document)),this.options.dropcursor!==!1&&a.push(U_e.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&a.push(V_e.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&a.push(TMe.configure(this.options.hardBreak)),this.options.heading!==!1&&a.push(AMe.configure(this.options.heading)),this.options.undoRedo!==!1&&a.push(W_e.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&a.push(EMe.configure(this.options.horizontalRule)),this.options.italic!==!1&&a.push(RMe.configure(this.options.italic)),this.options.listItem!==!1&&a.push(Lne.configure(this.options.listItem)),this.options.listKeymap!==!1&&a.push(Une.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&a.push(a_e.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&a.push(Hne.configure(this.options.orderedList)),this.options.paragraph!==!1&&a.push(v_e.configure(this.options.paragraph)),this.options.strike!==!1&&a.push(w_e.configure(this.options.strike)),this.options.text!==!1&&a.push(N_e.configure(this.options.text)),this.options.underline!==!1&&a.push(Kne.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&a.push(K_e.configure((r=this.options)==null?void 0:r.trailingNode)),a}}),Y_e=G_e,X_e=ln.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).some(n=>n):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).some(t=>t),toggleTextAlign:e=>({editor:t,commands:n})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Q_e=X_e,J_e=20,Jne=(e,t=0)=>{const n=[];return!e.children.length||t>J_e||Array.from(e.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...Jne(r,t+1))}),n},Z_e=e=>{if(!e.children.length)return;const t=Jne(e);t&&t.forEach(n=>{var r,a;const i=n.getAttribute("style"),o=(a=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:a.getAttribute("style");n.setAttribute("style",`${o};${i}`)})},Zne=ad.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Z_e(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",br(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleTextStyle:e=>({commands:t})=>t.toggleMark(this.name,e),removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(a=>a.type===this.type).some(a=>Object.values(a.attrs).some(i=>!!i))||e.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),eRe=ln.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const r=n.split(";").map(a=>a.trim()).filter(Boolean);for(let a=r.length-1;a>=0;a-=1){const i=r[a].split(":");if(i.length>=2){const o=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(o==="background-color")return l.replace(/['"]+/g,"")}}}return(t=e.style.backgroundColor)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),ere=ln.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const r=n.split(";").map(a=>a.trim()).filter(Boolean);for(let a=r.length-1;a>=0;a-=1){const i=r[a].split(":");if(i.length>=2){const o=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(o==="color")return l.replace(/['"]+/g,"")}}}return(t=e.style.color)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),tRe=ln.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),nRe=ln.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),rRe=ln.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:e=>({chain:t})=>t().setMark("textStyle",{lineHeight:e}).run(),unsetLineHeight:()=>({chain:e})=>e().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});ln.create({name:"textStyleKit",addExtensions(){const e=[];return this.options.backgroundColor!==!1&&e.push(eRe.configure(this.options.backgroundColor)),this.options.color!==!1&&e.push(ere.configure(this.options.color)),this.options.fontFamily!==!1&&e.push(tRe.configure(this.options.fontFamily)),this.options.fontSize!==!1&&e.push(nRe.configure(this.options.fontSize)),this.options.lineHeight!==!1&&e.push(rRe.configure(this.options.lineHeight)),this.options.textStyle!==!1&&e.push(Zne.configure(this.options.textStyle)),e}});var sRe=ere;function Mx(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function aRe(e){const t=iRe(e),n=j.forwardRef((r,a)=>{const{children:i,...o}=r,l=j.Children.toArray(i),c=l.find(lRe);if(c){const u=c.props.children,f=l.map(m=>m===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function iRe(e){const t=j.forwardRef((n,r)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=dRe(a),l=cRe(i,a.props);return a.type!==j.Fragment&&(l.ref=r?io(r,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oRe=Symbol("radix.slottable");function lRe(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oRe}function cRe(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function dRe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var uRe=pa[" useInsertionEffect ".trim().toString()]||Zt;function fRe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=hRe({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=mRe(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function hRe({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return uRe(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function mRe(e){return typeof e=="function"}var VN="Popover",[tre]=ss(VN,[Qc]),vy=Qc(),[pRe,od]=tre(VN),nre=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=vy(t),c=j.useRef(null),[u,f]=j.useState(!1),[m,p]=fRe({prop:r,defaultProp:a??!1,onChange:i,caller:VN});return s.jsx(Qg,{...l,children:s.jsx(pRe,{scope:t,contentId:Ts(),triggerRef:c,open:m,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(g=>!g),[p]),hasCustomAnchor:u,onCustomAnchorAdd:j.useCallback(()=>f(!0),[]),onCustomAnchorRemove:j.useCallback(()=>f(!1),[]),modal:o,children:n})})};nre.displayName=VN;var rre="PopoverAnchor",xRe=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=od(rre,n),i=vy(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return j.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Jg,{...i,...r,ref:t})});xRe.displayName=rre;var sre="PopoverTrigger",are=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=od(sre,n),i=vy(n),o=it(t,a.triggerRef),l=s.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":dre(a.open),...r,ref:o,onClick:Mx(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Jg,{asChild:!0,...i,children:l})});are.displayName=sre;var A5="PopoverPortal",[gRe,yRe]=tre(A5,{forceMount:void 0}),ire=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,i=od(A5,t);return s.jsx(gRe,{scope:t,forceMount:n,children:s.jsx(Vr,{present:n||i.open,children:s.jsx(fm,{asChild:!0,container:a,children:r})})})};ire.displayName=A5;var Oh="PopoverContent",ore=j.forwardRef((e,t)=>{const n=yRe(Oh,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,i=od(Oh,e.__scopePopover);return s.jsx(Vr,{present:r||i.open,children:i.modal?s.jsx(bRe,{...a,ref:t}):s.jsx(jRe,{...a,ref:t})})});ore.displayName=Oh;var vRe=aRe("PopoverContent.RemoveScroll"),bRe=j.forwardRef((e,t)=>{const n=od(Oh,e.__scopePopover),r=j.useRef(null),a=it(t,r),i=j.useRef(!1);return j.useEffect(()=>{const o=r.current;if(o)return sN(o)},[]),s.jsx(ry,{as:vRe,allowPinchZoom:!0,children:s.jsx(lre,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Mx(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Mx(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Mx(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),jRe=j.forwardRef((e,t)=>{const n=od(Oh,e.__scopePopover),r=j.useRef(!1),a=j.useRef(!1);return s.jsx(lre,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;n.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),lre=j.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...m}=e,p=od(Oh,n),g=vy(n);return nN(),s.jsx(ty,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(dm,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:s.jsx(Xw,{"data-state":dre(p.open),role:"dialog",id:p.contentId,...g,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),cre="PopoverClose",wRe=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=od(cre,n);return s.jsx(Je.button,{type:"button",...r,ref:t,onClick:Mx(e.onClick,()=>a.onOpenChange(!1))})});wRe.displayName=cre;var NRe="PopoverArrow",SRe=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=vy(n);return s.jsx(Qw,{...a,...r,ref:t})});SRe.displayName=NRe;function dre(e){return e?"open":"closed"}var CRe=nre,kRe=are,TRe=ire,ure=ore;const ARe=CRe,ERe=kRe,fre=j.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>s.jsx(TRe,{children:s.jsx(ure,{ref:a,align:t,sideOffset:n,className:Re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...r})}));fre.displayName=ure.displayName;const ORe=["#000000","#374151","#6B7280","#9CA3AF","#EF4444","#F97316","#EAB308","#22C55E","#3B82F6","#8B5CF6","#EC4899","#06B6D4"];function PRe({value:e,onChange:t,placeholder:n,className:r}){const a=lMe({extensions:[Y_e.configure({heading:{levels:[1,2,3]}}),S_e,Q_e.configure({types:["heading","paragraph"]}),Zne,sRe],content:e,onUpdate:({editor:o})=>{t(o.getHTML())},editorProps:{attributes:{class:"prose prose-sm max-w-none min-h-[100px] p-3 focus:outline-none"}}});if(j.useEffect(()=>{a&&e!==a.getHTML()&&a.commands.setContent(e)},[e,a]),!a)return null;const i=({onClick:o,isActive:l,children:c,title:u})=>s.jsx(U,{type:"button",variant:"ghost",size:"sm",onClick:o,title:u,className:Re("h-8 w-8 p-0",l&&"bg-muted text-foreground"),children:c});return s.jsxs("div",{className:Re("border border-border rounded-md bg-background resize overflow-auto min-h-[120px]",r),children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-0.5 p-1 border-b border-border bg-muted/30",children:[s.jsx(i,{onClick:()=>a.chain().focus().toggleBold().run(),isActive:a.isActive("bold"),title:"",children:s.jsx(Ofe,{className:"h-4 w-4"})}),s.jsx(i,{onClick:()=>a.chain().focus().toggleItalic().run(),isActive:a.isActive("italic"),title:"",children:s.jsx(Lhe,{className:"h-4 w-4"})}),s.jsx(i,{onClick:()=>a.chain().focus().toggleUnderline().run(),isActive:a.isActive("underline"),title:"",children:s.jsx(ppe,{className:"h-4 w-4"})}),s.jsx(i,{onClick:()=>a.chain().focus().toggleStrike().run(),isActive:a.isActive("strike"),title:"",children:s.jsx(Kme,{className:"h-4 w-4"})}),s.jsx("div",{className:"w-px h-6 bg-border mx-1"}),s.jsx(i,{onClick:()=>a.chain().focus().toggleHeading({level:1}).run(),isActive:a.isActive("heading",{level:1}),title:" 1",children:s.jsx(The,{className:"h-4 w-4"})}),s.jsx(i,{onClick:()=>a.chain().focus().toggleHeading({level:2}).run(),isActive:a.isActive("heading",{level:2}),title:" 2",children:s.jsx(Ehe,{className:"h-4 w-4"})}),s.jsx(i,{onClick:()=>a.chain().focus().toggleHeading({level:3}).run(),isActive:a.isActive("heading",{level:3}),title:" 3",children:s.jsx(Phe,{className:"h-4 w-4"})}),s.jsx("div",{className:"w-px h-6 bg-border mx-1"}),s.jsx(i,{onClick:()=>a.chain().focus().toggleBulletList().run(),isActive:a.isActive("bulletList"),title:" ",children:s.jsx(Whe,{className:"h-4 w-4"})}),s.jsx(i,{onClick:()=>a.chain().focus().toggleOrderedList().run(),isActive:a.isActive("orderedList"),title:" ",children:s.jsx(Hhe,{className:"h-4 w-4"})}),s.jsx("div",{className:"w-px h-6 bg-border mx-1"}),s.jsx(i,{onClick:()=>a.chain().focus().setTextAlign("left").run(),isActive:a.isActive({textAlign:"left"}),title:"  ",children:s.jsx(ipe,{className:"h-4 w-4"})}),s.jsx(i,{onClick:()=>a.chain().focus().setTextAlign("center").run(),isActive:a.isActive({textAlign:"center"}),title:" ",children:s.jsx(npe,{className:"h-4 w-4"})}),s.jsx(i,{onClick:()=>a.chain().focus().setTextAlign("right").run(),isActive:a.isActive({textAlign:"right"}),title:"  ",children:s.jsx(spe,{className:"h-4 w-4"})}),s.jsx("div",{className:"w-px h-6 bg-border mx-1"}),s.jsxs(ARe,{children:[s.jsx(ERe,{asChild:!0,children:s.jsx(U,{type:"button",variant:"ghost",size:"sm",title:" ",className:"h-8 w-8 p-0",children:s.jsx(n_,{className:"h-4 w-4"})})}),s.jsx(fre,{className:"w-auto p-2",children:s.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[ORe.map(o=>s.jsx("button",{type:"button",onClick:()=>a.chain().focus().setColor(o).run(),className:"w-6 h-6 rounded border border-border hover:scale-110 transition-transform",style:{backgroundColor:o},title:o},o)),s.jsx("button",{type:"button",onClick:()=>a.chain().focus().unsetColor().run(),className:"w-6 h-6 rounded border border-border hover:scale-110 transition-transform text-xs",title:" ",children:""})]})})]})]}),s.jsx(vne,{editor:a,className:"text-foreground [&_.ProseMirror]:min-h-[100px] [&_.ProseMirror]:p-3 [&_.ProseMirror]:focus:outline-none [&_.ProseMirror_p]:my-1 [&_.ProseMirror_h1]:text-2xl [&_.ProseMirror_h1]:font-bold [&_.ProseMirror_h1]:my-2 [&_.ProseMirror_h2]:text-xl [&_.ProseMirror_h2]:font-bold [&_.ProseMirror_h2]:my-2 [&_.ProseMirror_h3]:text-lg [&_.ProseMirror_h3]:font-bold [&_.ProseMirror_h3]:my-1 [&_.ProseMirror_ul]:list-disc [&_.ProseMirror_ul]:pl-5 [&_.ProseMirror_ol]:list-decimal [&_.ProseMirror_ol]:pl-5"})]})}function hre(e={}){const[t,n]=j.useState(!1),[r,a]=j.useState(null),[i,o]=j.useState(0),l=j.useCallback(async m=>{const p=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:m.name,size:m.size,contentType:m.type||"application/octet-stream"})});if(!p.ok){const g=await p.json().catch(()=>({}));throw new Error(g.error||"Failed to get upload URL")}return p.json()},[]),c=j.useCallback(async(m,p)=>{if(!(await fetch(p,{method:"PUT",body:m,headers:{"Content-Type":m.type||"application/octet-stream"}})).ok)throw new Error("Failed to upload file to storage")},[]),u=j.useCallback(async m=>{n(!0),a(null),o(0);try{o(10);const p=await l(m);return o(30),await c(m,p.uploadURL),o(100),e.onSuccess?.(p),p}catch(p){const g=p instanceof Error?p:new Error("Upload failed");return a(g),e.onError?.(g),null}finally{n(!1)}},[l,c,e]),f=j.useCallback(async m=>{const p=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:m.name,size:m.size,contentType:m.type||"application/octet-stream"})});if(!p.ok)throw new Error("Failed to get upload URL");return{method:"PUT",url:(await p.json()).uploadURL,headers:{"Content-Type":m.type||"application/octet-stream"}}},[]);return{uploadFile:u,getUploadParameters:f,isUploading:t,error:r,progress:i}}function Ph(e){return e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("data:")||e.startsWith("blob:")?e:`${window.location.origin}${e.startsWith("/")?"":"/"}${e}`:null}const MRe=["Facebook","Google","TikTok","UAC","PPC","Push","Native","Email","SEO","Telegram","Instagram","YouTube","Snapchat","X (Twitter)","Pinterest","LinkedIn","Reddit","PopUnder","ClickUnder","InApp","SMS","Viber","WhatsApp","ASO"],_Re=["PWA","WebView","iOS App","Android App","APK","Desktop"],RRe=["CPA","CPL","CPI","RevShare","CPC","CPM"],DRe=["Gambling","Betting","Crypto","Nutra","Dating","Finance","Sweepstakes","Gaming","Utilities","eCommerce"],IRe={Facebook:"bg-blue-600",Google:"bg-red-500",TikTok:"bg-pink-500",UAC:"bg-green-600",PPC:"bg-orange-500",Push:"bg-yellow-600",Native:"bg-teal-500",Email:"bg-indigo-500",SEO:"bg-lime-600",Telegram:"bg-sky-500",Instagram:"bg-fuchsia-500",YouTube:"bg-red-600",Snapchat:"bg-yellow-400","X (Twitter)":"bg-slate-600",Pinterest:"bg-red-400",LinkedIn:"bg-blue-700",Reddit:"bg-orange-600",PopUnder:"bg-purple-600",ClickUnder:"bg-violet-500",InApp:"bg-cyan-500",SMS:"bg-emerald-500",Viber:"bg-purple-500",WhatsApp:"bg-green-500",ASO:"bg-amber-500"},LRe={PWA:"bg-blue-500",WebView:"bg-orange-500","iOS App":"bg-slate-500","Android App":"bg-green-600",APK:"bg-lime-600",Desktop:"bg-indigo-500"},pq=["click_id","clickid","aff_click_id","aff_clickid","subid","sub_id","externalid","external_id","tid","transaction_id","cid"];function mre(e){if(!e)return"";let t=e;return t=t.replace(/([?&])[^=&#]+=\{click_id\}(?=&|#|$)/gi,(n,r)=>r==="?"?"?":""),t=t.replace(/([?&])[^=&#]+=%7Bclick_id%7D(?=&|#|$)/gi,(n,r)=>r==="?"?"?":""),t=t.replace(/([?&])([^=&#]+)=\{([^}]+)\}(?=&|#|$)/gi,(n,r,a,i)=>{const o=a.toLowerCase();return pq.includes(o)&&o===i.toLowerCase()?r==="?"?"?":"":n}),t=t.replace(/([?&])([^=&#]+)=%7B([^%]+)%7D(?=&|#|$)/gi,(n,r,a,i)=>{const o=a.toLowerCase();return pq.includes(o)&&o===i.toLowerCase()?r==="?"?"?":"":n}),t=t.replace(/\?&/,"?").replace(/&&/g,"&").replace(/\?(?=#|$)/,""),t}function $Re(e,t){if(!e)return"";const n=mre(e);if(!n)return"";const r=n.indexOf("#"),a=r===-1?n:n.substring(0,r),i=r===-1?"":n.substring(r),o=a.includes("?")?"&":"?";return`${a}${o}${t}={click_id}${i}`}function FRe(e,t){return mre(e)}function BRe({role:e}){const{t}=as(),n=rt(),[r,a]=hr(),[i,o]=j.useState(!1),[l,c]=j.useState(""),[u,f]=j.useState(!1),p=new URLSearchParams(window.location.search).get("edit"),g=!!p,{data:v,isLoading:y}=Ne({queryKey:["/api/offers",p],queryFn:async()=>{const B=await fetch(`/api/offers/${p}`,{credentials:"include"});if(!B.ok)throw new Error("Failed to fetch offer");return B.json()},enabled:g}),{uploadFile:w,isUploading:N,progress:A}=hre({onSuccess:B=>{S(L=>({...L,logoUrl:Ph(B.objectPath)||""}))}}),T=async B=>{const L=B.target.files?.[0];L&&await w(L)},[C,S]=j.useState({name:"",description:"",logoUrl:"",payoutModel:"CPA",category:"Gambling",trafficSources:[],appTypes:[],creativeLinks:[""],geo:[],revSharePercent:"",holdPeriodDays:"0",isTop:!1,isExclusive:!1,isPrivate:!1,dailyCap:"",monthlyCap:"",totalCap:"",capReachedAction:"block",capRedirectUrl:""}),[E,O]=j.useState([{geo:"",landingName:"",landingUrl:"",partnerPayout:"",internalCost:"",currency:"USD",clickIdParam:"click_id"}]);j.useEffect(()=>{f(!1)},[p]),j.useEffect(()=>{v&&!u&&g&&(S({name:v.name||"",description:v.description||"",logoUrl:v.logoUrl||"",payoutModel:v.payoutModel||"CPA",category:v.category||"Gambling",trafficSources:v.trafficSources||[],appTypes:v.appTypes||[],creativeLinks:v.creativeLinks?.length?v.creativeLinks:[""],geo:v.geo||[],revSharePercent:v.revSharePercent?.toString()||"",holdPeriodDays:v.holdPeriodDays?.toString()||"0",isTop:v.isTop||!1,isExclusive:v.isExclusive||!1,isPrivate:v.isPrivate||!1,dailyCap:v.dailyCap?.toString()||"",monthlyCap:v.monthlyCap?.toString()||"",totalCap:v.totalCap?.toString()||"",capReachedAction:v.capReachedAction||"block",capRedirectUrl:v.capRedirectUrl||""}),v.landings&&v.landings.length>0&&O(v.landings.map(B=>({id:B.id,geo:B.geo||"",landingName:B.landingName||"",landingUrl:B.landingUrl||"",partnerPayout:B.partnerPayout||"",internalCost:B.internalCost||"",currency:B.currency||"USD",clickIdParam:B.clickIdParam||"click_id"}))),f(!0))},[v,u,g]);const _=(B,L)=>{S(q=>({...q,[B]:q[B].includes(L)?q[B].filter(se=>se!==L):[...q[B],L]}))},M=()=>{O([...E,{geo:"",landingName:"",landingUrl:"",partnerPayout:"",internalCost:"",currency:"USD",clickIdParam:"click_id"}])},$=B=>{E.length>1&&O(E.filter((L,q)=>q!==B))},z=(B,L,q)=>{const se=[...E];se[B][L]=q,O(se)},V=()=>{S(B=>({...B,creativeLinks:[...B.creativeLinks,""]}))},I=B=>{C.creativeLinks.length>1&&S(L=>({...L,creativeLinks:L.creativeLinks.filter((q,se)=>se!==B)}))},F=(B,L)=>{const q=[...C.creativeLinks];q[B]=L,S(se=>({...se,creativeLinks:q}))},K=()=>{const B=C.name&&C.name.trim().length>0,L=E.filter(q=>{const se=q.geo&&q.geo.trim(),H=q.landingUrl&&q.landingUrl.trim();return se&&H});return B&&L.length>0},R=async()=>{o(!0),c("");try{const B=E.map(H=>H.geo).filter(H=>H),L=g?`/api/offers/${p}`:"/api/offers",se=await fetch(L,{method:g?"PUT":"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...C,geo:B,creativeLinks:C.creativeLinks.filter(H=>H),landings:E.filter(H=>H.geo&&H.landingUrl).map(H=>({...H,partnerPayout:H.partnerPayout||"0"}))})});if(se.ok)await n.invalidateQueries({queryKey:["/api/offers"]}),a(`/dashboard/${e}/offers`);else{const H=await se.json();c(H.message||(g?"   ":"   "))}}catch{c(g?"   ":"   ")}finally{o(!1)}};return g&&y?s.jsxs("div",{className:"flex items-center justify-center min-h-[400px]",children:[s.jsx(we,{className:"w-8 h-8 animate-spin text-blue-500"}),s.jsx("span",{className:"ml-3 text-muted-foreground",children:"  ..."})]}):s.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 pb-10",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx(Mt,{href:`/dashboard/${e}/offers`,children:s.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground","data-testid":"button-back",children:s.jsx(As,{className:"w-4 h-4"})})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-mono text-foreground",children:g?" ":" "}),s.jsx("p",{className:"text-muted-foreground text-sm font-mono",children:g?"  ":"   "})]})]}),l&&s.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded p-4 text-red-400 text-sm",children:l}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(U,{className:"flex-1 bg-muted hover:bg-white/10 text-muted-foreground font-mono",disabled:i,children:""}),s.jsxs(U,{className:"flex-1 bg-blue-600 hover:bg-blue-500 text-foreground font-mono disabled:opacity-50",onClick:R,disabled:i||!K(),"data-testid":"button-publish-offer",children:[s.jsx(Es,{className:"w-4 h-4 mr-2"}),i?"...":g?"":""]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6 space-y-4",children:[s.jsxs("h3",{className:"text-sm font-bold text-foreground uppercase font-mono mb-4 border-b border-border pb-2 flex items-center gap-2",children:[s.jsx(gi,{className:"w-4 h-4"}),"  "]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase",children:"  *"}),s.jsx(le,{"data-testid":"input-offer-name",className:"bg-background border-border text-foreground font-mono focus:border-blue-500",placeholder:": Casino Royale - Tier1 GEO",value:C.name,onChange:B=>S(L=>({...L,name:B.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase",children:"  *"}),s.jsx(PRe,{value:C.description,onChange:B=>S(L=>({...L,description:B})),placeholder:"  , , ..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase",children:""}),s.jsxs("div",{className:"flex items-center gap-4",children:[C.logoUrl?s.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center overflow-hidden border border-border",children:s.jsx("img",{src:C.logoUrl,alt:"Logo",className:"w-full h-full object-contain"})}):s.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center border border-border",children:s.jsx(UW,{className:"w-6 h-6 text-muted-foreground"})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:T,className:"hidden",id:"logo-upload",disabled:N,"data-testid":"input-logo-file"}),s.jsx("label",{htmlFor:"logo-upload",children:s.jsx(U,{type:"button",variant:"outline",className:"border-border text-muted-foreground cursor-pointer hover:bg-muted",disabled:N,asChild:!0,children:s.jsxs("span",{children:[s.jsx(du,{className:"w-4 h-4 mr-2"}),N?` ${A}%`:"  "]})})}),s.jsx(le,{"data-testid":"input-logo-url",className:"bg-background border-border text-foreground font-mono focus:border-blue-500 text-xs h-8",placeholder:"  URL",value:C.logoUrl,onChange:B=>S(L=>({...L,logoUrl:B.target.value}))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{className:"text-muted-foreground text-xs font-mono uppercase flex items-center gap-2",children:[s.jsx(xh,{className:"w-3 h-3"})," "]}),s.jsx("select",{"data-testid":"select-category",className:"w-full h-9 rounded-md bg-background border border-border text-foreground px-3 text-sm font-mono focus:border-blue-500 focus:outline-none",value:C.category,onChange:B=>S(L=>({...L,category:B.target.value})),children:DRe.map(B=>s.jsx("option",{children:B},B))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{className:"text-muted-foreground text-xs font-mono uppercase flex items-center gap-2",children:[s.jsx(Sn,{className:"w-3 h-3"}),"  "]}),s.jsx("select",{"data-testid":"select-payout-model",className:"w-full h-9 rounded-md bg-background border border-border text-foreground px-3 text-sm font-mono focus:border-blue-500 focus:outline-none",value:C.payoutModel,onChange:B=>S(L=>({...L,payoutModel:B.target.value})),children:RRe.map(B=>s.jsx("option",{children:B},B))})]})]}),(C.payoutModel==="RevShare"||C.payoutModel==="Hybrid")&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{className:"text-muted-foreground text-xs font-mono uppercase flex items-center gap-2",children:[s.jsx(Sn,{className:"w-3 h-3"})," RevShare %"]}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{"data-testid":"input-rev-share-percent",className:"bg-background border-border text-foreground font-mono focus:border-blue-500",placeholder:"10.5",type:"number",step:"0.01",value:C.revSharePercent,onChange:B=>S(L=>({...L,revSharePercent:B.target.value}))}),s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground text-sm",children:"%"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase flex items-center gap-2",children:"  ()"}),s.jsxs("div",{className:"flex gap-2",children:[[0,7,14,30].map(B=>s.jsx(U,{type:"button",variant:C.holdPeriodDays===String(B)?"default":"outline",size:"sm",className:C.holdPeriodDays===String(B)?"bg-blue-600 text-foreground":"bg-muted border-border text-muted-foreground hover:bg-white/10",onClick:()=>S(L=>({...L,holdPeriodDays:String(B)})),"data-testid":`button-hold-${B}`,children:B===0?" ":`${B} `},B)),s.jsx(le,{"data-testid":"input-hold-period",type:"number",min:"0",className:"w-20 bg-background border-border text-foreground font-mono text-center",placeholder:".",value:[0,7,14,30].includes(Number(C.holdPeriodDays))?"":C.holdPeriodDays,onChange:B=>S(L=>({...L,holdPeriodDays:B.target.value||"0"}))})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"        "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase flex items-center gap-2",children:" "}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:C.isTop,onChange:B=>S(L=>({...L,isTop:B.target.checked})),className:"w-4 h-4 rounded border-border","data-testid":"checkbox-is-top"}),s.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-bold bg-yellow-500/20 text-yellow-400",children:"TOP"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:C.isExclusive,onChange:B=>S(L=>({...L,isExclusive:B.target.checked})),className:"w-4 h-4 rounded border-border","data-testid":"checkbox-is-exclusive"}),s.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-bold bg-purple-500/20 text-purple-400",children:"EXCLUSIVE"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:C.isPrivate,onChange:B=>S(L=>({...L,isPrivate:B.target.checked})),className:"w-4 h-4 rounded border-border","data-testid":"checkbox-is-private"}),s.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-bold bg-red-500/20 text-red-400",children:"PRIVATE"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"      "})]})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6 space-y-4",children:[s.jsx("h3",{className:"text-sm font-bold text-foreground uppercase font-mono mb-4 border-b border-border pb-2 flex items-center gap-2",children:" (Caps)"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase",children:" "}),s.jsx(le,{"data-testid":"input-daily-cap",type:"number",min:"0",className:"bg-background border-border text-foreground font-mono focus:border-blue-500",placeholder:" ",value:C.dailyCap,onChange:B=>S(L=>({...L,dailyCap:B.target.value}))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase",children:" "}),s.jsx(le,{"data-testid":"input-monthly-cap",type:"number",min:"0",className:"bg-background border-border text-foreground font-mono focus:border-blue-500",placeholder:" ",value:C.monthlyCap,onChange:B=>S(L=>({...L,monthlyCap:B.target.value}))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase",children:" "}),s.jsx(le,{"data-testid":"input-total-cap",type:"number",min:"0",className:"bg-background border-border text-foreground font-mono focus:border-blue-500",placeholder:" ",value:C.totalCap,onChange:B=>S(L=>({...L,totalCap:B.target.value}))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase",children:"   "}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"capAction",checked:C.capReachedAction==="block",onChange:()=>S(B=>({...B,capReachedAction:"block"})),className:"w-4 h-4","data-testid":"radio-cap-block"}),s.jsx("span",{className:"text-sm text-foreground",children:" "})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"capAction",checked:C.capReachedAction==="redirect",onChange:()=>S(B=>({...B,capReachedAction:"redirect"})),className:"w-4 h-4","data-testid":"radio-cap-redirect"}),s.jsx("span",{className:"text-sm text-foreground",children:"  fallback URL"})]})]})]}),C.capReachedAction==="redirect"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground text-xs font-mono uppercase",children:"Fallback URL"}),s.jsx(le,{"data-testid":"input-cap-redirect-url",className:"bg-background border-border text-foreground font-mono focus:border-blue-500",placeholder:"https://fallback-offer.com",value:C.capRedirectUrl,onChange:B=>S(L=>({...L,capRedirectUrl:B.target.value}))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"     "})]})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between border-b border-border pb-2 mb-4",children:[s.jsxs("h3",{className:"text-sm font-bold text-foreground uppercase font-mono flex items-center gap-2",children:[s.jsx(jn,{className:"w-4 h-4"}),"   "]}),s.jsxs(U,{type:"button",size:"sm",onClick:M,className:"bg-blue-600 hover:bg-blue-500 text-foreground font-mono text-xs","data-testid":"button-add-landing",children:[s.jsx(fr,{className:"w-3 h-3 mr-1"})," "]})]}),s.jsx("div",{className:"space-y-4",children:E.map((B,L)=>s.jsxs("div",{className:"bg-muted rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:[" #",L+1]}),E.length>1&&s.jsx(U,{type:"button",size:"icon",variant:"ghost",onClick:()=>$(L),className:"h-6 w-6 text-red-400 hover:text-red-300","data-testid":`button-remove-landing-${L}`,children:s.jsx(Os,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(te,{className:"text-muted-foreground text-[10px] font-mono uppercase",children:" ( ) *"}),s.jsx(Hke,{value:B.geo,onChange:q=>z(L,"geo",q),testId:`input-landing-geo-${L}`})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(te,{className:"text-muted-foreground text-[10px] font-mono uppercase",children:" "}),s.jsx(le,{"data-testid":`input-landing-name-${L}`,className:"bg-card border-border text-foreground font-mono h-8 text-sm",placeholder:"Landing v1",value:B.landingName,onChange:q=>z(L,"landingName",q.target.value)})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(te,{className:"text-muted-foreground text-[10px] font-mono uppercase",children:"URL  *"}),s.jsx(le,{"data-testid":`input-landing-url-${L}`,className:"bg-card border-border text-foreground font-mono h-8 text-sm",placeholder:"https://landing.com/click?o=123",value:$Re(B.landingUrl,B.clickIdParam||"click_id"),onChange:q=>{B.clickIdParam;const se=FRe(q.target.value);z(L,"landingUrl",se)}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(te,{className:"text-muted-foreground text-[10px] font-mono uppercase",children:" click_id"}),s.jsx(le,{"data-testid":`input-landing-clickIdParam-${L}`,className:"bg-card border-border text-foreground font-mono h-8 text-sm",placeholder:"click_id",value:B.clickIdParam,onChange:q=>z(L,"clickIdParam",q.target.value)}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"  click_id   .     : click_id (click_id, aff_click_id, subid, clickid, cid, s2sclick_id,  ..)"})]}),B.landingUrl&&s.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 space-y-2 border border-border",children:[s.jsxs(te,{className:"text-muted-foreground text-[10px] font-mono uppercase flex items-center gap-1",children:[s.jsx(Yn,{className:"w-3 h-3"})," Postback URL     "]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[10px] text-muted-foreground w-16 shrink-0",children:"Lead:"}),s.jsx("code",{className:"flex-1 text-[11px] bg-background p-1.5 rounded border border-border font-mono text-foreground truncate",children:`${window.location.origin}/api/postback?click_id={${B.clickIdParam||"click_id"}}&status=lead`}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0","data-testid":`button-copy-postback-lead-${L}`,onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/api/postback?click_id={${B.clickIdParam||"click_id"}}&status=lead`)},children:s.jsx(Yn,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[10px] text-muted-foreground w-16 shrink-0",children:"Sale/FTD:"}),s.jsx("code",{className:"flex-1 text-[11px] bg-background p-1.5 rounded border border-border font-mono text-foreground truncate",children:`${window.location.origin}/api/postback?click_id={${B.clickIdParam||"click_id"}}&status=sale&payout={payout}`}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0","data-testid":`button-copy-postback-sale-${L}`,onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/api/postback?click_id={${B.clickIdParam||"click_id"}}&status=sale&payout={payout}`)},children:s.jsx(Yn,{className:"w-3 h-3"})})]})]})]}),s.jsxs("div",{className:`grid gap-3 ${C.payoutModel==="RevShare"?"grid-cols-1":"grid-cols-3"}`,children:[C.payoutModel!=="RevShare"&&s.jsxs("div",{className:"space-y-1",children:[s.jsx(te,{className:"text-muted-foreground text-[10px] font-mono uppercase",children:"  *"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-muted-foreground text-xs",children:Hs(B.currency)}),s.jsx(le,{"data-testid":`input-landing-partner-payout-${L}`,className:"bg-card border-border text-foreground font-mono h-8 text-sm pl-5",placeholder:"0.00",value:B.partnerPayout,onChange:q=>z(L,"partnerPayout",q.target.value)})]})]}),C.payoutModel!=="RevShare"&&s.jsxs("div",{className:"space-y-1",children:[s.jsx(te,{className:"text-muted-foreground text-[10px] font-mono uppercase",children:"  "}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-muted-foreground text-xs",children:Hs(B.currency)}),s.jsx(le,{"data-testid":`input-landing-internal-cost-${L}`,className:"bg-card border-border text-foreground font-mono h-8 text-sm pl-5",placeholder:"0.00",value:B.internalCost,onChange:q=>z(L,"internalCost",q.target.value)})]})]}),C.payoutModel==="RevShare"&&s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded p-3",children:s.jsxs("p",{className:"text-xs text-blue-400",children:["RevShare   :   ",C.revSharePercent||"?","%"]})}),C.payoutModel==="Hybrid"&&s.jsxs("div",{className:"space-y-1",children:[s.jsx(te,{className:"text-muted-foreground text-[10px] font-mono uppercase",children:"  "}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-muted-foreground text-xs",children:Hs(B.currency)}),s.jsx(le,{"data-testid":`input-landing-internal-cost-${L}`,className:"bg-card border-border text-foreground font-mono h-8 text-sm pl-5",placeholder:"0.00",value:B.internalCost,onChange:q=>z(L,"internalCost",q.target.value)})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(te,{className:"text-muted-foreground text-[10px] font-mono uppercase",children:""}),s.jsxs("select",{"data-testid":`select-landing-currency-${L}`,className:"w-full h-8 rounded-md bg-card border border-border text-foreground px-2 text-sm font-mono",value:B.currency,onChange:q=>z(L,"currency",q.target.value),children:[s.jsx("option",{children:"USD"}),s.jsx("option",{children:"EUR"}),s.jsx("option",{children:"RUB"})]})]})]})]},L))})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6 space-y-4",children:[s.jsxs("h3",{className:"text-sm font-bold text-foreground uppercase font-mono mb-4 border-b border-border pb-2 flex items-center gap-2",children:[s.jsx(e_,{className:"w-4 h-4"}),"  "]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:MRe.map(B=>s.jsx("button",{type:"button","data-testid":`toggle-traffic-${B}`,onClick:()=>_("trafficSources",B),className:`px-3 py-1.5 rounded text-xs font-mono transition-all ${C.trafficSources.includes(B)?`${IRe[B]||"bg-blue-600"} text-white`:"bg-muted text-muted-foreground hover:bg-white/10"}`,children:B},B))})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6 space-y-4",children:[s.jsxs("h3",{className:"text-sm font-bold text-foreground uppercase font-mono mb-4 border-b border-border pb-2 flex items-center gap-2",children:[s.jsx(b0,{className:"w-4 h-4"}),"  "]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:_Re.map(B=>s.jsx("button",{type:"button","data-testid":`toggle-app-${B}`,onClick:()=>_("appTypes",B),className:`px-3 py-1.5 rounded text-xs font-mono transition-all ${C.appTypes.includes(B)?`${LRe[B]||"bg-emerald-600"} text-white`:"bg-muted text-muted-foreground hover:bg-white/10"}`,children:B},B))})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6 space-y-4",children:[s.jsxs("h3",{className:"text-sm font-bold text-foreground uppercase font-mono mb-2 flex items-center gap-2",children:[s.jsx(Yg,{className:"w-4 h-4"})," "]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"  Google/Yandex   "}),C.creativeLinks.map((B,L)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{"data-testid":`input-creative-link-${L}`,className:"bg-background border-border text-foreground font-mono text-sm flex-1",placeholder:"https://drive.google.com/...",value:B,onChange:q=>F(L,q.target.value)}),C.creativeLinks.length>1&&s.jsx(U,{type:"button",size:"icon",variant:"ghost",onClick:()=>I(L),className:"h-9 w-9 text-red-400","data-testid":`button-remove-creative-${L}`,children:s.jsx(Os,{className:"w-4 h-4"})})]},L)),s.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:V,className:"w-full border-border text-muted-foreground","data-testid":"button-add-creative",children:[s.jsx(fr,{className:"w-3 h-3 mr-2"}),"  "]})]})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(U,{className:"flex-1 bg-muted hover:bg-white/10 text-muted-foreground font-mono",disabled:i,children:""}),s.jsxs(U,{className:"flex-1 bg-blue-600 hover:bg-blue-500 text-foreground font-mono disabled:opacity-50",onClick:R,disabled:i||!K(),"data-testid":"button-publish-offer",children:[s.jsx(Es,{className:"w-4 h-4 mr-2"}),i?"...":g?"":""]})]})]})]})}/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:pre,setPrototypeOf:xq,isFrozen:zRe,getPrototypeOf:qRe,getOwnPropertyDescriptor:URe}=Object;let{freeze:Ys,seal:wi,create:h4}=Object,{apply:m4,construct:p4}=typeof Reflect<"u"&&Reflect;Ys||(Ys=function(t){return t});wi||(wi=function(t){return t});m4||(m4=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];return t.apply(n,a)});p4||(p4=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return new t(...r)});const Ab=Xs(Array.prototype.forEach),VRe=Xs(Array.prototype.lastIndexOf),gq=Xs(Array.prototype.pop),Dp=Xs(Array.prototype.push),HRe=Xs(Array.prototype.splice),f0=Xs(String.prototype.toLowerCase),fk=Xs(String.prototype.toString),hk=Xs(String.prototype.match),Ip=Xs(String.prototype.replace),KRe=Xs(String.prototype.indexOf),WRe=Xs(String.prototype.trim),Li=Xs(Object.prototype.hasOwnProperty),Ls=Xs(RegExp.prototype.test),Lp=GRe(TypeError);function Xs(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return m4(e,t,r)}}function GRe(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p4(e,n)}}function _t(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f0;xq&&xq(e,null);let r=t.length;for(;r--;){let a=t[r];if(typeof a=="string"){const i=n(a);i!==a&&(zRe(t)||(t[r]=i),a=i)}e[a]=!0}return e}function YRe(e){for(let t=0;t<e.length;t++)Li(e,t)||(e[t]=null);return e}function go(e){const t=h4(null);for(const[n,r]of pre(e))Li(e,n)&&(Array.isArray(r)?t[n]=YRe(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=go(r):t[n]=r);return t}function $p(e,t){for(;e!==null;){const r=URe(e,t);if(r){if(r.get)return Xs(r.get);if(typeof r.value=="function")return Xs(r.value)}e=qRe(e)}function n(){return null}return n}const yq=Ys(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),mk=Ys(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),pk=Ys(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),XRe=Ys(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xk=Ys(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),QRe=Ys(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),vq=Ys(["#text"]),bq=Ys(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),gk=Ys(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),jq=Ys(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Eb=Ys(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),JRe=wi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ZRe=wi(/<%[\w\W]*|[\w\W]*%>/gm),e5e=wi(/\$\{[\w\W]*/gm),t5e=wi(/^data-[\-\w.\u00B7-\uFFFF]+$/),n5e=wi(/^aria-[\-\w]+$/),xre=wi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),r5e=wi(/^(?:\w+script|data):/i),s5e=wi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),gre=wi(/^html$/i),a5e=wi(/^[a-z][.\w]*(-[.\w]+)+$/i);var wq=Object.freeze({__proto__:null,ARIA_ATTR:n5e,ATTR_WHITESPACE:s5e,CUSTOM_ELEMENT:a5e,DATA_ATTR:t5e,DOCTYPE_NAME:gre,ERB_EXPR:ZRe,IS_ALLOWED_URI:xre,IS_SCRIPT_OR_DATA:r5e,MUSTACHE_EXPR:JRe,TMPLIT_EXPR:e5e});const Fp={element:1,text:3,progressingInstruction:7,comment:8,document:9},i5e=function(){return typeof window>"u"?null:window},o5e=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";n&&n.hasAttribute(a)&&(r=n.getAttribute(a));const i="dompurify"+(r?"#"+r:"");try{return t.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},Nq=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function yre(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i5e();const t=Ge=>yre(Ge);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==Fp.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,a=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:u,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:m,DOMParser:p,trustedTypes:g}=e,v=c.prototype,y=$p(v,"cloneNode"),w=$p(v,"remove"),N=$p(v,"nextSibling"),A=$p(v,"childNodes"),T=$p(v,"parentNode");if(typeof o=="function"){const Ge=n.createElement("template");Ge.content&&Ge.content.ownerDocument&&(n=Ge.content.ownerDocument)}let C,S="";const{implementation:E,createNodeIterator:O,createDocumentFragment:_,getElementsByTagName:M}=n,{importNode:$}=r;let z=Nq();t.isSupported=typeof pre=="function"&&typeof T=="function"&&E&&E.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:V,ERB_EXPR:I,TMPLIT_EXPR:F,DATA_ATTR:K,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:q}=wq;let{IS_ALLOWED_URI:se}=wq,H=null;const Y=_t({},[...yq,...mk,...pk,...xk,...vq]);let G=null;const X=_t({},[...bq,...gk,...jq,...Eb]);let ae=Object.seal(h4(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),de=null,he=null;const Fe=Object.seal(h4(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ge=!0,Ae=!0,_e=!1,ee=!0,Le=!1,Ce=!0,De=!1,We=!1,nt=!1,Et=!1,St=!1,Gt=!1,Jn=!0,cn=!1;const _r="user-content-";let Vt=!0,_n=!1,zn={},Rn=null;const _s=_t({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ai=null;const Ei=_t({},["audio","video","img","source","image","track"]);let Js=null;const ga=_t({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),rr="http://www.w3.org/1998/Math/MathML",Tn="http://www.w3.org/2000/svg",qn="http://www.w3.org/1999/xhtml";let Q=qn,xt=!1,dn=null;const jr=_t({},[rr,Tn,qn],fk);let vs=_t({},["mi","mo","mn","ms","mtext"]),Un=_t({},["annotation-xml"]);const Zs=_t({},["title","style","font","a","script"]);let Rs=null;const Uu=["application/xhtml+xml","text/html"],ud="text/html";let mr=null,Wo=null;const Pm=n.createElement("form"),Ql=function(ie){return ie instanceof RegExp||ie instanceof Function},Mm=function(){let ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Wo&&Wo===ie)){if((!ie||typeof ie!="object")&&(ie={}),ie=go(ie),Rs=Uu.indexOf(ie.PARSER_MEDIA_TYPE)===-1?ud:ie.PARSER_MEDIA_TYPE,mr=Rs==="application/xhtml+xml"?fk:f0,H=Li(ie,"ALLOWED_TAGS")?_t({},ie.ALLOWED_TAGS,mr):Y,G=Li(ie,"ALLOWED_ATTR")?_t({},ie.ALLOWED_ATTR,mr):X,dn=Li(ie,"ALLOWED_NAMESPACES")?_t({},ie.ALLOWED_NAMESPACES,fk):jr,Js=Li(ie,"ADD_URI_SAFE_ATTR")?_t(go(ga),ie.ADD_URI_SAFE_ATTR,mr):ga,Ai=Li(ie,"ADD_DATA_URI_TAGS")?_t(go(Ei),ie.ADD_DATA_URI_TAGS,mr):Ei,Rn=Li(ie,"FORBID_CONTENTS")?_t({},ie.FORBID_CONTENTS,mr):_s,de=Li(ie,"FORBID_TAGS")?_t({},ie.FORBID_TAGS,mr):go({}),he=Li(ie,"FORBID_ATTR")?_t({},ie.FORBID_ATTR,mr):go({}),zn=Li(ie,"USE_PROFILES")?ie.USE_PROFILES:!1,ge=ie.ALLOW_ARIA_ATTR!==!1,Ae=ie.ALLOW_DATA_ATTR!==!1,_e=ie.ALLOW_UNKNOWN_PROTOCOLS||!1,ee=ie.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Le=ie.SAFE_FOR_TEMPLATES||!1,Ce=ie.SAFE_FOR_XML!==!1,De=ie.WHOLE_DOCUMENT||!1,Et=ie.RETURN_DOM||!1,St=ie.RETURN_DOM_FRAGMENT||!1,Gt=ie.RETURN_TRUSTED_TYPE||!1,nt=ie.FORCE_BODY||!1,Jn=ie.SANITIZE_DOM!==!1,cn=ie.SANITIZE_NAMED_PROPS||!1,Vt=ie.KEEP_CONTENT!==!1,_n=ie.IN_PLACE||!1,se=ie.ALLOWED_URI_REGEXP||xre,Q=ie.NAMESPACE||qn,vs=ie.MATHML_TEXT_INTEGRATION_POINTS||vs,Un=ie.HTML_INTEGRATION_POINTS||Un,ae=ie.CUSTOM_ELEMENT_HANDLING||{},ie.CUSTOM_ELEMENT_HANDLING&&Ql(ie.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=ie.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ie.CUSTOM_ELEMENT_HANDLING&&Ql(ie.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=ie.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ie.CUSTOM_ELEMENT_HANDLING&&typeof ie.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=ie.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Le&&(Ae=!1),St&&(Et=!0),zn&&(H=_t({},vq),G=[],zn.html===!0&&(_t(H,yq),_t(G,bq)),zn.svg===!0&&(_t(H,mk),_t(G,gk),_t(G,Eb)),zn.svgFilters===!0&&(_t(H,pk),_t(G,gk),_t(G,Eb)),zn.mathMl===!0&&(_t(H,xk),_t(G,jq),_t(G,Eb))),ie.ADD_TAGS&&(typeof ie.ADD_TAGS=="function"?Fe.tagCheck=ie.ADD_TAGS:(H===Y&&(H=go(H)),_t(H,ie.ADD_TAGS,mr))),ie.ADD_ATTR&&(typeof ie.ADD_ATTR=="function"?Fe.attributeCheck=ie.ADD_ATTR:(G===X&&(G=go(G)),_t(G,ie.ADD_ATTR,mr))),ie.ADD_URI_SAFE_ATTR&&_t(Js,ie.ADD_URI_SAFE_ATTR,mr),ie.FORBID_CONTENTS&&(Rn===_s&&(Rn=go(Rn)),_t(Rn,ie.FORBID_CONTENTS,mr)),ie.ADD_FORBID_CONTENTS&&(Rn===_s&&(Rn=go(Rn)),_t(Rn,ie.ADD_FORBID_CONTENTS,mr)),Vt&&(H["#text"]=!0),De&&_t(H,["html","head","body"]),H.table&&(_t(H,["tbody"]),delete de.tbody),ie.TRUSTED_TYPES_POLICY){if(typeof ie.TRUSTED_TYPES_POLICY.createHTML!="function")throw Lp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ie.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Lp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=ie.TRUSTED_TYPES_POLICY,S=C.createHTML("")}else C===void 0&&(C=o5e(g,a)),C!==null&&typeof S=="string"&&(S=C.createHTML(""));Ys&&Ys(ie),Wo=ie}},_m=_t({},[...mk,...pk,...XRe]),Rm=_t({},[...xk,...QRe]),My=function(ie){let Oe=T(ie);(!Oe||!Oe.tagName)&&(Oe={namespaceURI:Q,tagName:"template"});const qe=f0(ie.tagName),nn=f0(Oe.tagName);return dn[ie.namespaceURI]?ie.namespaceURI===Tn?Oe.namespaceURI===qn?qe==="svg":Oe.namespaceURI===rr?qe==="svg"&&(nn==="annotation-xml"||vs[nn]):!!_m[qe]:ie.namespaceURI===rr?Oe.namespaceURI===qn?qe==="math":Oe.namespaceURI===Tn?qe==="math"&&Un[nn]:!!Rm[qe]:ie.namespaceURI===qn?Oe.namespaceURI===Tn&&!Un[nn]||Oe.namespaceURI===rr&&!vs[nn]?!1:!Rm[qe]&&(Zs[qe]||!_m[qe]):!!(Rs==="application/xhtml+xml"&&dn[ie.namespaceURI]):!1},ea=function(ie){Dp(t.removed,{element:ie});try{T(ie).removeChild(ie)}catch{w(ie)}},Oi=function(ie,Oe){try{Dp(t.removed,{attribute:Oe.getAttributeNode(ie),from:Oe})}catch{Dp(t.removed,{attribute:null,from:Oe})}if(Oe.removeAttribute(ie),ie==="is")if(Et||St)try{ea(Oe)}catch{}else try{Oe.setAttribute(ie,"")}catch{}},Dm=function(ie){let Oe=null,qe=null;if(nt)ie="<remove></remove>"+ie;else{const Ot=hk(ie,/^[\r\n\t ]+/);qe=Ot&&Ot[0]}Rs==="application/xhtml+xml"&&Q===qn&&(ie='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ie+"</body></html>");const nn=C?C.createHTML(ie):ie;if(Q===qn)try{Oe=new p().parseFromString(nn,Rs)}catch{}if(!Oe||!Oe.documentElement){Oe=E.createDocument(Q,"template",null);try{Oe.documentElement.innerHTML=xt?S:nn}catch{}}const Zn=Oe.body||Oe.documentElement;return ie&&qe&&Zn.insertBefore(n.createTextNode(qe),Zn.childNodes[0]||null),Q===qn?M.call(Oe,De?"html":"body")[0]:De?Oe.documentElement:Zn},Im=function(ie){return O.call(ie.ownerDocument||ie,ie,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Va=function(ie){return ie instanceof m&&(typeof ie.nodeName!="string"||typeof ie.textContent!="string"||typeof ie.removeChild!="function"||!(ie.attributes instanceof f)||typeof ie.removeAttribute!="function"||typeof ie.setAttribute!="function"||typeof ie.namespaceURI!="string"||typeof ie.insertBefore!="function"||typeof ie.hasChildNodes!="function")},wr=function(ie){return typeof l=="function"&&ie instanceof l};function Vn(Ge,ie,Oe){Ab(Ge,qe=>{qe.call(t,ie,Oe,Wo)})}const Go=function(ie){let Oe=null;if(Vn(z.beforeSanitizeElements,ie,null),Va(ie))return ea(ie),!0;const qe=mr(ie.nodeName);if(Vn(z.uponSanitizeElement,ie,{tagName:qe,allowedTags:H}),Ce&&ie.hasChildNodes()&&!wr(ie.firstElementChild)&&Ls(/<[/\w!]/g,ie.innerHTML)&&Ls(/<[/\w!]/g,ie.textContent)||ie.nodeType===Fp.progressingInstruction||Ce&&ie.nodeType===Fp.comment&&Ls(/<[/\w]/g,ie.data))return ea(ie),!0;if(!(Fe.tagCheck instanceof Function&&Fe.tagCheck(qe))&&(!H[qe]||de[qe])){if(!de[qe]&&_y(qe)&&(ae.tagNameCheck instanceof RegExp&&Ls(ae.tagNameCheck,qe)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(qe)))return!1;if(Vt&&!Rn[qe]){const nn=T(ie)||ie.parentNode,Zn=A(ie)||ie.childNodes;if(Zn&&nn){const Ot=Zn.length;for(let ls=Ot-1;ls>=0;--ls){const Ha=y(Zn[ls],!0);Ha.__removalCount=(ie.__removalCount||0)+1,nn.insertBefore(Ha,N(ie))}}}return ea(ie),!0}return ie instanceof c&&!My(ie)||(qe==="noscript"||qe==="noembed"||qe==="noframes")&&Ls(/<\/no(script|embed|frames)/i,ie.innerHTML)?(ea(ie),!0):(Le&&ie.nodeType===Fp.text&&(Oe=ie.textContent,Ab([V,I,F],nn=>{Oe=Ip(Oe,nn," ")}),ie.textContent!==Oe&&(Dp(t.removed,{element:ie.cloneNode()}),ie.textContent=Oe)),Vn(z.afterSanitizeElements,ie,null),!1)},Vu=function(ie,Oe,qe){if(Jn&&(Oe==="id"||Oe==="name")&&(qe in n||qe in Pm))return!1;if(!(Ae&&!he[Oe]&&Ls(K,Oe))){if(!(ge&&Ls(R,Oe))){if(!(Fe.attributeCheck instanceof Function&&Fe.attributeCheck(Oe,ie))){if(!G[Oe]||he[Oe]){if(!(_y(ie)&&(ae.tagNameCheck instanceof RegExp&&Ls(ae.tagNameCheck,ie)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(ie))&&(ae.attributeNameCheck instanceof RegExp&&Ls(ae.attributeNameCheck,Oe)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(Oe,ie))||Oe==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&Ls(ae.tagNameCheck,qe)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(qe))))return!1}else if(!Js[Oe]){if(!Ls(se,Ip(qe,L,""))){if(!((Oe==="src"||Oe==="xlink:href"||Oe==="href")&&ie!=="script"&&KRe(qe,"data:")===0&&Ai[ie])){if(!(_e&&!Ls(B,Ip(qe,L,"")))){if(qe)return!1}}}}}}}return!0},_y=function(ie){return ie!=="annotation-xml"&&hk(ie,q)},Ry=function(ie){Vn(z.beforeSanitizeAttributes,ie,null);const{attributes:Oe}=ie;if(!Oe||Va(ie))return;const qe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:G,forceKeepAttr:void 0};let nn=Oe.length;for(;nn--;){const Zn=Oe[nn],{name:Ot,namespaceURI:ls,value:Ha}=Zn,ta=mr(Ot),fo=Ha;let Rr=Ot==="value"?fo:WRe(fo);if(qe.attrName=ta,qe.attrValue=Rr,qe.keepAttr=!0,qe.forceKeepAttr=void 0,Vn(z.uponSanitizeAttribute,ie,qe),Rr=qe.attrValue,cn&&(ta==="id"||ta==="name")&&(Oi(Ot,ie),Rr=_r+Rr),Ce&&Ls(/((--!?|])>)|<\/(style|title|textarea)/i,Rr)){Oi(Ot,ie);continue}if(ta==="attributename"&&hk(Rr,"href")){Oi(Ot,ie);continue}if(qe.forceKeepAttr)continue;if(!qe.keepAttr){Oi(Ot,ie);continue}if(!ee&&Ls(/\/>/i,Rr)){Oi(Ot,ie);continue}Le&&Ab([V,I,F],$m=>{Rr=Ip(Rr,$m," ")});const Lm=mr(ie.nodeName);if(!Vu(Lm,ta,Rr)){Oi(Ot,ie);continue}if(C&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!ls)switch(g.getAttributeType(Lm,ta)){case"TrustedHTML":{Rr=C.createHTML(Rr);break}case"TrustedScriptURL":{Rr=C.createScriptURL(Rr);break}}if(Rr!==fo)try{ls?ie.setAttributeNS(ls,Ot,Rr):ie.setAttribute(Ot,Rr),Va(ie)?ea(ie):gq(t.removed)}catch{Oi(Ot,ie)}}Vn(z.afterSanitizeAttributes,ie,null)},Dy=function Ge(ie){let Oe=null;const qe=Im(ie);for(Vn(z.beforeSanitizeShadowDOM,ie,null);Oe=qe.nextNode();)Vn(z.uponSanitizeShadowNode,Oe,null),Go(Oe),Ry(Oe),Oe.content instanceof i&&Ge(Oe.content);Vn(z.afterSanitizeShadowDOM,ie,null)};return t.sanitize=function(Ge){let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oe=null,qe=null,nn=null,Zn=null;if(xt=!Ge,xt&&(Ge="<!-->"),typeof Ge!="string"&&!wr(Ge))if(typeof Ge.toString=="function"){if(Ge=Ge.toString(),typeof Ge!="string")throw Lp("dirty is not a string, aborting")}else throw Lp("toString is not a function");if(!t.isSupported)return Ge;if(We||Mm(ie),t.removed=[],typeof Ge=="string"&&(_n=!1),_n){if(Ge.nodeName){const Ha=mr(Ge.nodeName);if(!H[Ha]||de[Ha])throw Lp("root node is forbidden and cannot be sanitized in-place")}}else if(Ge instanceof l)Oe=Dm("<!---->"),qe=Oe.ownerDocument.importNode(Ge,!0),qe.nodeType===Fp.element&&qe.nodeName==="BODY"||qe.nodeName==="HTML"?Oe=qe:Oe.appendChild(qe);else{if(!Et&&!Le&&!De&&Ge.indexOf("<")===-1)return C&&Gt?C.createHTML(Ge):Ge;if(Oe=Dm(Ge),!Oe)return Et?null:Gt?S:""}Oe&&nt&&ea(Oe.firstChild);const Ot=Im(_n?Ge:Oe);for(;nn=Ot.nextNode();)Go(nn),Ry(nn),nn.content instanceof i&&Dy(nn.content);if(_n)return Ge;if(Et){if(St)for(Zn=_.call(Oe.ownerDocument);Oe.firstChild;)Zn.appendChild(Oe.firstChild);else Zn=Oe;return(G.shadowroot||G.shadowrootmode)&&(Zn=$.call(r,Zn,!0)),Zn}let ls=De?Oe.outerHTML:Oe.innerHTML;return De&&H["!doctype"]&&Oe.ownerDocument&&Oe.ownerDocument.doctype&&Oe.ownerDocument.doctype.name&&Ls(gre,Oe.ownerDocument.doctype.name)&&(ls="<!DOCTYPE "+Oe.ownerDocument.doctype.name+`>
`+ls),Le&&Ab([V,I,F],Ha=>{ls=Ip(ls,Ha," ")}),C&&Gt?C.createHTML(ls):ls},t.setConfig=function(){let Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Mm(Ge),We=!0},t.clearConfig=function(){Wo=null,We=!1},t.isValidAttribute=function(Ge,ie,Oe){Wo||Mm({});const qe=mr(Ge),nn=mr(ie);return Vu(qe,nn,Oe)},t.addHook=function(Ge,ie){typeof ie=="function"&&Dp(z[Ge],ie)},t.removeHook=function(Ge,ie){if(ie!==void 0){const Oe=VRe(z[Ge],ie);return Oe===-1?void 0:HRe(z[Ge],Oe,1)[0]}return gq(z[Ge])},t.removeHooks=function(Ge){z[Ge]=[]},t.removeAllHooks=function(){z=Nq()},t}var l5e=yre();function Sq(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}var c5e=pa[" useInsertionEffect ".trim().toString()]||Zt;function d5e({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=u5e({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=f5e(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function u5e({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return c5e(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function f5e(e){return typeof e=="function"}var HN="Checkbox",[h5e]=ss(HN),[m5e,E5]=h5e(HN);function p5e(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:f="on",internal_do_not_use_render:m}=e,[p,g]=d5e({prop:n,defaultProp:a??!1,onChange:c,caller:HN}),[v,y]=j.useState(null),[w,N]=j.useState(null),A=j.useRef(!1),T=v?!!o||!!v.closest("form"):!0,C={checked:p,disabled:i,setChecked:g,control:v,setControl:y,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:A,required:u,defaultChecked:Uc(a)?!1:a,isFormControl:T,bubbleInput:w,setBubbleInput:N};return s.jsx(m5e,{scope:t,...C,children:x5e(m)?m(C):r})}var vre="CheckboxTrigger",bre=j.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:p,isFormControl:g,bubbleInput:v}=E5(vre,e),y=it(a,f),w=j.useRef(c);return j.useEffect(()=>{const N=i?.form;if(N){const A=()=>m(w.current);return N.addEventListener("reset",A),()=>N.removeEventListener("reset",A)}},[i,m]),s.jsx(Je.button,{type:"button",role:"checkbox","aria-checked":Uc(c)?"mixed":c,"aria-required":u,"data-state":Cre(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:y,onKeyDown:Sq(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Sq(n,N=>{m(A=>Uc(A)?!0:!A),v&&g&&(p.current=N.isPropagationStopped(),p.current||N.stopPropagation())})})});bre.displayName=vre;var O5=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:f,...m}=e;return s.jsx(p5e,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:r,form:f,value:c,internal_do_not_use_render:({isFormControl:p})=>s.jsxs(s.Fragment,{children:[s.jsx(bre,{...m,ref:t,__scopeCheckbox:n}),p&&s.jsx(Sre,{__scopeCheckbox:n})]})})});O5.displayName=HN;var jre="CheckboxIndicator",wre=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=E5(jre,n);return s.jsx(Vr,{present:r||Uc(i.checked)||i.checked===!0,children:s.jsx(Je.span,{"data-state":Cre(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});wre.displayName=jre;var Nre="CheckboxBubbleInput",Sre=j.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:f,form:m,bubbleInput:p,setBubbleInput:g}=E5(Nre,e),v=it(n,g),y=L_(i),w=j_(r);j.useEffect(()=>{const A=p;if(!A)return;const T=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(T,"checked").set,E=!a.current;if(y!==i&&S){const O=new Event("click",{bubbles:E});A.indeterminate=Uc(i),S.call(A,Uc(i)?!1:i),A.dispatchEvent(O)}},[p,y,i,a]);const N=j.useRef(Uc(i)?!1:i);return s.jsx(Je.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:l,disabled:c,name:u,value:f,form:m,...t,tabIndex:-1,ref:v,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Sre.displayName=Nre;function x5e(e){return typeof e=="function"}function Uc(e){return e==="indeterminate"}function Cre(e){return Uc(e)?"indeterminate":e?"checked":"unchecked"}const $l=j.forwardRef(({className:e,...t},n)=>s.jsx(O5,{ref:n,className:Re("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(wre,{className:Re("grid place-content-center text-current"),children:s.jsx(bt,{className:"h-4 w-4"})})}));$l.displayName=O5.displayName;const P5=pJ,M5=wR,_5=SR;function kre(e){const r=({UK:"GB",EN:"GB"}[e.toUpperCase()]||e.toUpperCase()).split("").map(a=>127397+a.charCodeAt(0));return String.fromCodePoint(...r)}const g5e={Facebook:"bg-blue-600",Google:"bg-red-500",TikTok:"bg-pink-500",UAC:"bg-green-600",PPC:"bg-orange-500",Push:"bg-yellow-600",Native:"bg-teal-500",Email:"bg-indigo-500",SEO:"bg-lime-600",Telegram:"bg-sky-500",Instagram:"bg-fuchsia-500",YouTube:"bg-red-600",Snapchat:"bg-yellow-400","X (Twitter)":"bg-slate-600",Pinterest:"bg-red-400",LinkedIn:"bg-blue-700",Reddit:"bg-orange-600",PopUnder:"bg-purple-600",ClickUnder:"bg-violet-500",InApp:"bg-cyan-500",SMS:"bg-emerald-500",Viber:"bg-purple-500",WhatsApp:"bg-green-500",ASO:"bg-amber-500"},y5e={PWA:"bg-blue-500",WebView:"bg-orange-500","iOS App":"bg-slate-500","Android App":"bg-green-600",APK:"bg-lime-600",Desktop:"bg-indigo-500"};function v5e({landings:e,copiedUrl:t,copyToClipboard:n,buildUrlWithSubs:r}){const a=j.useMemo(()=>{const f={};return e.forEach(m=>{f[m.geo]||(f[m.geo]=[]),f[m.geo].push(m)}),Object.entries(f).sort((m,p)=>p[1].length-m[1].length)},[e]),[i,o]=j.useState(new Set);j.useEffect(()=>{o(new Set(a.map(([f])=>f)))},[e]);const l=f=>{o(m=>{const p=new Set(m);return p.has(f)?p.delete(f):p.add(f),p})},c=f=>{const m=f.map(y=>parseFloat(y.partnerPayout)),p=Math.min(...m),g=Math.max(...m),v=Hs(f[0]?.currency||"USD");return p===g?`${v}${p}`:`${v}${p} - ${v}${g}`},u=a.length;return s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6",children:[s.jsxs("h3",{className:"text-sm font-bold uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[s.jsx(jn,{className:"w-4 h-4"})," /  (",e.length,"   ",u," GEO)"]}),s.jsx("div",{className:"space-y-2",children:a.map(([f,m])=>s.jsxs(P5,{open:i.has(f),onOpenChange:()=>l(f),children:[s.jsx(M5,{asChild:!0,children:s.jsxs("div",{className:"w-full bg-muted hover:bg-white/10 rounded-xl p-4 flex items-center justify-between border border-white/5 hover:border-border transition-all cursor-pointer","data-testid":`geo-group-${f}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-4xl",children:kre(f)}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-foreground",children:[f," ",s.jsxs("span",{className:"text-muted-foreground font-normal",children:["(",m.length," ",m.length===1?"":"",")"]})]}),s.jsx("div",{className:"text-xs text-emerald-400 font-medium",children:c(m)})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:i.has(f)?s.jsx(fa,{className:"w-5 h-5 text-muted-foreground"}):s.jsx(Hc,{className:"w-5 h-5 text-muted-foreground"})})]})}),s.jsx(_5,{children:s.jsx("div",{className:"ml-4 mt-2 space-y-2 border-l-2 border-blue-500/20 pl-4",children:m.map((p,g)=>s.jsxs("div",{className:"bg-white/[0.03] rounded-lg p-3 flex items-center justify-between hover:bg-muted transition-colors","data-testid":`landing-row-${f}-${g}`,children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"text-sm font-medium text-foreground truncate flex items-center gap-2",children:[p.landingName||`Landing ${g+1}`,p.isApproved===!1&&s.jsxs(ye,{variant:"outline",className:"text-xs text-orange-400 border-orange-400/50",children:[s.jsx(ns,{className:"w-3 h-3 mr-1"}),""]})]}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:p.isApproved===!1?"     ":p.trackingUrl||p.landingUrl})]}),s.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:`text-sm font-bold ${p.isApproved===!1?"text-muted-foreground":"text-emerald-400"}`,children:[Hs(p.currency||"USD"),p.partnerPayout]})}),p.isApproved!==!1&&s.jsx(U,{size:"sm",variant:"ghost",className:"text-muted-foreground hover:text-foreground h-8 w-8 p-0",onClick:v=>{v.stopPropagation();const y=p.trackingUrl||p.landingUrl;n(r(y),p.id)},"data-testid":`button-copy-landing-${f}-${g}`,children:t===p.id?s.jsx(Gn,{className:"w-4 h-4 text-emerald-400"}):s.jsx(Yn,{className:"w-4 h-4"})})]})]},p.id))})})]},f))})]})})}function b5e({offerId:e,accessStatus:t,onSuccess:n}){const r=rt(),[a,i]=j.useState(""),o=ve({mutationFn:async()=>{const l=await fetch(`/api/offers/${e}/request-access`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:a||void 0})});if(!l.ok){const c=await l.json();throw new Error(c.message||"Failed to request access")}return l.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/offers",e]}),n()}});return t==="pending"?s.jsx(J,{className:"bg-yellow-500/10 border-yellow-500/30",children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-full flex items-center justify-center",children:s.jsx(Yt,{className:"w-5 h-5 text-yellow-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-yellow-400",children:"  "}),s.jsx("p",{className:"text-xs text-yellow-400/70",children:"  "})]})]})})}):t==="rejected"?s.jsx(J,{className:"bg-red-500/10 border-red-500/30",children:s.jsxs(ne,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-500/20 rounded-full flex items-center justify-center",children:s.jsx(Kn,{className:"w-5 h-5 text-red-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-red-400",children:" "}),s.jsx("p",{className:"text-xs text-red-400/70",children:"    "})]})]}),s.jsxs(U,{className:"w-full bg-red-600 hover:bg-red-500 text-foreground mt-3",onClick:()=>o.mutate(),disabled:o.isPending,"data-testid":"button-request-access-again",children:[s.jsx(dr,{className:"w-4 h-4 mr-2"})," "]})]})}):t==="revoked"?s.jsx(J,{className:"bg-orange-500/10 border-orange-500/30",children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-500/20 rounded-full flex items-center justify-center",children:s.jsx(Kn,{className:"w-5 h-5 text-orange-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-orange-400",children:" "}),s.jsx("p",{className:"text-xs text-orange-400/70",children:"     "})]})]})})}):s.jsx(J,{className:"bg-blue-500/10 border-blue-500/30",children:s.jsxs(ne,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-full flex items-center justify-center",children:s.jsx(ns,{className:"w-5 h-5 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-blue-400",children:" "}),s.jsx("p",{className:"text-xs text-blue-400/70",children:"   "})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx(te,{className:"text-xs text-muted-foreground mb-1",children:" ()"}),s.jsx(le,{placeholder:"     ...",value:a,onChange:l=>i(l.target.value),className:"bg-muted border-border text-foreground text-sm","data-testid":"input-access-message"})]}),s.jsx(U,{className:"w-full bg-blue-600 hover:bg-blue-500 text-foreground font-bold",onClick:()=>o.mutate(),disabled:o.isPending,"data-testid":"button-request-access",children:o.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(dr,{className:"w-4 h-4 mr-2"})," "]})})]})})}function j5e({offerId:e,landings:t,requestedLandings:n,onSuccess:r}){const a=rt(),{toast:i}=Dt(),[o,l]=j.useState(!1),[c,u]=j.useState([]),f=t.filter(y=>y.isApproved===!1),m=n&&n.length>0,p=ve({mutationFn:async()=>{const y=await fetch(`/api/offers/${e}/request-landings`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({landingIds:c})});if(!y.ok){const w=await y.json();throw new Error(w.message||"Failed to request landings")}return y.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/offers",e]}),l(!1),u([]),r(),i({title:" ",description:"   "})},onError:y=>{i({title:"",description:y.message||"   ",variant:"destructive"})}});if(f.length===0)return null;if(m)return s.jsx(J,{className:"bg-yellow-500/10 border-yellow-500/30 mt-4",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-yellow-500/20 rounded-full flex items-center justify-center",children:s.jsx(Yt,{className:"w-4 h-4 text-yellow-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-400",children:"  "}),s.jsxs("p",{className:"text-xs text-yellow-400/70",children:["    ",n.length," ",n.length===1?"":(n.length<5,"")]})]})]})})});const g=y=>{u(w=>w.includes(y)?w.filter(N=>N!==y):[...w,y])},v=()=>{u(f.map(y=>y.id))};return s.jsx(J,{className:"bg-orange-500/10 border-orange-500/30 mt-4",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-500/20 rounded-full flex items-center justify-center",children:s.jsx(ns,{className:"w-4 h-4 text-orange-400"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-orange-400",children:[f.length," ",f.length===1?"":f.length<5?"":""," "]}),s.jsx("p",{className:"text-xs text-orange-400/70",children:"   "})]})]}),s.jsxs(Wt,{open:o,onOpenChange:l,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{size:"sm",className:"bg-orange-600 hover:bg-orange-500 text-white","data-testid":"button-request-landings",children:[s.jsx(fr,{className:"w-4 h-4 mr-1"}),""]})}),s.jsxs(zt,{className:"max-w-md",children:[s.jsx(qt,{children:s.jsx(Ut,{children:"   "})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"   "}),s.jsx(U,{variant:"ghost",size:"sm",onClick:v,className:"text-xs",children:" "})]}),s.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:f.map(y=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted hover:bg-muted/80 cursor-pointer",onClick:()=>g(y.id),children:[s.jsx($l,{checked:c.includes(y.id),onCheckedChange:()=>g(y.id),"data-testid":`checkbox-landing-${y.id}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:y.landingName||"Landing"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[kre(y.geo)," ",y.geo,"  ",Hs(y.currency),y.partnerPayout]})]})]},y.id))}),s.jsx(U,{className:"w-full",onClick:()=>p.mutate(),disabled:c.length===0||p.isPending,"data-testid":"button-submit-request-landings",children:p.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),"  (",c.length,")"]})})]})]})]})]})})})}const w5e={nutra:"bg-green-500/20 text-green-400",gambling:"bg-red-500/20 text-red-400",betting:"bg-orange-500/20 text-orange-400",crypto:"bg-yellow-500/20 text-yellow-400",dating:"bg-pink-500/20 text-pink-400",finance:"bg-blue-500/20 text-blue-400",ecommerce:"bg-purple-500/20 text-purple-400",gaming:"bg-indigo-500/20 text-indigo-400",utilities:"bg-cyan-500/20 text-cyan-400",sweepstakes:"bg-amber-500/20 text-amber-400"};function Cq(e){if(e.landings&&e.landings.length>0){const t=e.landings.map(a=>parseFloat(a.partnerPayout)).filter(a=>!isNaN(a));if(t.length===0)return e.partnerPayout||"";const n=Math.min(...t),r=Math.max(...t);return n===r?n.toString():`${n} - ${r}`}return e.partnerPayout?e.partnerPayout:""}function kq(e){if(e.landings&&e.landings.length>0){const t=e.landings.map(a=>a.internalCost?parseFloat(a.internalCost):NaN).filter(a=>!isNaN(a));if(t.length===0)return e.internalCost||null;const n=Math.min(...t),r=Math.max(...t);return n===r?n.toString():`${n} - ${r}`}return e.internalCost?e.internalCost:null}function N5e({offerId:e,role:t}){const{t:n}=as(),[r,a]=j.useState(null),[i,o]=j.useState(!1),[l,c]=j.useState(!1),[u,f]=j.useState({}),[m,p]=j.useState(0);rt(),j.useEffect(()=>{p(0),f({})},[e]);const g=(O,_)=>{f(M=>{if(_===""){const $={...M};return delete $[O],$}return{...M,[O]:_}})},v=O=>{if(Object.keys(u).length===0)return O;try{const _=new URL(O,window.location.origin);for(let M=1;M<=10;M++){const $=`sub${M}`;u[$]&&_.searchParams.set($,u[$])}return _.toString()}catch{const _=O.includes("?")?"&":"?",M=Object.entries(u).filter(([,$])=>$).sort(([$],[z])=>parseInt($.replace("sub",""))-parseInt(z.replace("sub",""))).map(([$,z])=>`${$}=${encodeURIComponent(z)}`).join("&");return M?`${O}${_}${M}`:O}},{data:y,isLoading:w,error:N}=Ne({queryKey:["/api/offers",e],queryFn:async()=>{const O=await fetch(`/api/offers/${e}`,{credentials:"include"});if(!O.ok)throw new Error("Failed to fetch offer");return O.json()}}),A=(O,_)=>{navigator.clipboard.writeText(O),a(_),setTimeout(()=>a(null),2e3)};if(w)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-emerald-500 border-t-transparent rounded-full"})});if(N||!y)return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-red-400 mb-4",children:"Failed to load offer"}),s.jsx(Mt,{href:`/dashboard/${t}/offers`,children:s.jsxs(U,{variant:"outline",className:"border-border",children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),"Back to Offers"]})})]});const T=w5e[y.category.toLowerCase()]||"bg-slate-500/20 text-muted-foreground",C=t==="publisher",S=y.hasAccess===!0,E=!C||S;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Mt,{href:`/dashboard/${t}/${t==="publisher"?"links":"offers"}`,children:s.jsxs(U,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground","data-testid":"button-back",children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),""]})}),C&&S&&s.jsxs(ye,{className:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",children:[s.jsx(Gn,{className:"w-3 h-3 mr-1"})," "]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(J,{className:"bg-card border-border overflow-hidden",children:[s.jsx("div",{className:`h-2 ${y.status==="active"?"bg-gradient-to-r from-emerald-500 to-emerald-400":"bg-gradient-to-r from-yellow-500 to-yellow-400"}`}),s.jsxs(ne,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:`w-20 h-20 rounded-xl ${T.split(" ")[0]} flex items-center justify-center flex-shrink-0 border border-border overflow-hidden`,children:y.logoUrl?s.jsx("img",{src:y.logoUrl,alt:y.name,className:"w-full h-full object-cover"}):s.jsx(xh,{className:"w-10 h-10 text-white/60"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground","data-testid":"text-offer-name",children:y.name}),s.jsx(ye,{className:`${y.status==="active"?"bg-emerald-500/20 text-emerald-400":"bg-yellow-500/20 text-yellow-400"}`,children:y.status==="active"?"":""}),E&&y.creativeLinks&&y.creativeLinks.length>0&&(y.creativeLinks.length===1?s.jsxs("a",{href:y.creativeLinks[0],target:"_blank",rel:"noopener noreferrer",className:"ml-auto inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white text-sm font-medium shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 transition-all","data-testid":"button-creatives",children:[s.jsx(hF,{className:"w-4 h-4"}),"",s.jsx(ph,{className:"w-3 h-3"})]}):s.jsxs(Ru,{children:[s.jsx(Du,{asChild:!0,children:s.jsxs("button",{className:"ml-auto inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white text-sm font-medium shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 transition-all","data-testid":"button-creatives",children:[s.jsx(hF,{className:"w-4 h-4"})," (",y.creativeLinks.length,")",s.jsx(fa,{className:"w-3 h-3"})]})}),s.jsx(Zc,{align:"end",className:"w-56",children:y.creativeLinks.map((O,_)=>s.jsx($a,{asChild:!0,children:s.jsxs("a",{href:O,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 cursor-pointer","data-testid":`link-creative-${_}`,children:[s.jsx(ph,{className:"w-4 h-4"})," ",_+1]})},_))})]}))]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground flex-wrap",children:[s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold uppercase ${T}`,children:y.category}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(jn,{className:"w-3 h-3"}),y.geo.slice(0,5).join(", "),y.geo.length>5?` +${y.geo.length-5}`:""]}),s.jsxs("span",{className:"text-muted-foreground",children:["ID: ",y.id.slice(0,8)]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xs font-bold uppercase text-muted-foreground mb-2",children:""}),y.description?s.jsxs("div",{children:[s.jsx("div",{className:`text-muted-foreground text-sm leading-relaxed prose prose-sm max-w-none prose-headings:text-foreground prose-p:text-muted-foreground prose-strong:text-foreground prose-ul:text-muted-foreground prose-ol:text-muted-foreground [&_h1]:text-xl [&_h1]:font-bold [&_h2]:text-lg [&_h2]:font-bold [&_h3]:text-base [&_h3]:font-bold [&_ul]:list-disc [&_ul]:pl-5 [&_ol]:list-decimal [&_ol]:pl-5 ${l?"":"line-clamp-4"}`,"data-testid":"text-offer-description",dangerouslySetInnerHTML:{__html:l5e.sanitize(y.description)}}),y.description.length>200&&s.jsx("button",{onClick:()=>c(!l),className:"inline-flex items-center gap-1.5 mt-3 px-3 py-1.5 rounded-lg bg-blue-500/10 hover:bg-blue-500/20 text-blue-400 hover:text-blue-300 text-xs font-medium transition-all border border-blue-500/20","data-testid":"button-toggle-description",children:l?s.jsxs(s.Fragment,{children:[s.jsx(fa,{className:"w-3.5 h-3.5 rotate-180"}),""]}):s.jsxs(s.Fragment,{children:[s.jsx(fa,{className:"w-3.5 h-3.5"}),""]})})]}):s.jsx("p",{className:"text-muted-foreground text-sm","data-testid":"text-offer-description",children:"  "})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-emerald-500/5 rounded-xl p-4 border border-emerald-500/20",children:[s.jsx("div",{className:"text-[10px] uppercase text-emerald-400/70 mb-1 font-medium",children:""}),s.jsx("div",{className:"text-xl font-bold text-emerald-400","data-testid":"text-offer-payout",children:Cq(y)?`${Hs(Ol(y))}${Cq(y)}`:"N/A"})]}),s.jsxs("div",{className:"bg-muted rounded-xl p-4 border border-border",children:[s.jsx("div",{className:"text-[10px] uppercase text-muted-foreground mb-1 font-medium",children:""}),s.jsx("div",{className:"text-xl font-bold text-foreground","data-testid":"text-payout-model",children:y.payoutModel})]}),t==="advertiser"&&s.jsxs("div",{className:"bg-gradient-to-br from-red-500/10 to-red-500/5 rounded-xl p-4 border border-red-500/20",children:[s.jsx("div",{className:"text-[10px] uppercase text-red-400/70 mb-1 font-medium",children:"Internal Cost"}),s.jsx("div",{className:"text-xl font-bold text-red-400","data-testid":"text-internal-cost",children:kq(y)?`${Hs(Ol(y))}${kq(y)}`:"N/A"})]}),s.jsxs("div",{className:"bg-muted rounded-xl p-4 border border-border",children:[s.jsx("div",{className:"text-[10px] uppercase text-muted-foreground mb-1 font-medium",children:""}),s.jsx("div",{className:"text-xl font-bold text-foreground",children:Ol(y)})]}),s.jsxs("div",{className:`rounded-xl p-4 border ${y.holdPeriodDays&&y.holdPeriodDays>0?"bg-gradient-to-br from-yellow-500/10 to-yellow-500/5 border-yellow-500/20":"bg-muted border-border"}`,children:[s.jsxs("div",{className:`text-[10px] uppercase mb-1 font-medium ${y.holdPeriodDays&&y.holdPeriodDays>0?"text-yellow-400/70":"text-muted-foreground"}`,children:[s.jsx(Yt,{className:"w-3 h-3 inline mr-1"}),""]}),s.jsx("div",{className:`text-xl font-bold ${y.holdPeriodDays&&y.holdPeriodDays>0?"text-yellow-400":"text-foreground"}`,"data-testid":"text-hold-period",children:y.holdPeriodDays&&y.holdPeriodDays>0?`${y.holdPeriodDays} .`:""})]})]})]})]}),C&&S&&y.landings&&y.landings.length>0&&s.jsx(j5e,{offerId:y.id,landings:y.landings,requestedLandings:y.requestedLandings,onSuccess:()=>{}}),E&&y.landings&&y.landings.length>0&&s.jsx(v5e,{landings:y.landings,copiedUrl:r,copyToClipboard:A,buildUrlWithSubs:v}),!E&&s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-slate-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ns,{className:"w-8 h-8 text-muted-foreground"})}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:" "}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"   ,     "})]})}),(y.kpi||y.rules||y.conditions)&&s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6 space-y-6",children:[y.kpi&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-bold uppercase text-muted-foreground mb-2 flex items-center gap-2",children:[s.jsx(gi,{className:"w-4 h-4"}),"KPI"]}),s.jsx("p",{className:"text-muted-foreground text-sm whitespace-pre-wrap bg-muted rounded-lg p-4",children:y.kpi})]}),y.rules&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-bold uppercase text-muted-foreground mb-2 flex items-center gap-2",children:[s.jsx(gi,{className:"w-4 h-4"}),""]}),s.jsx("p",{className:"text-muted-foreground text-sm whitespace-pre-wrap bg-muted rounded-lg p-4",children:y.rules})]}),y.conditions&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-bold uppercase text-muted-foreground mb-2 flex items-center gap-2",children:[s.jsx(gi,{className:"w-4 h-4"}),""]}),s.jsx("p",{className:"text-muted-foreground text-sm whitespace-pre-wrap bg-muted rounded-lg p-4",children:y.conditions})]})]})})]}),s.jsxs("div",{className:"space-y-6",children:[C&&!S&&!i&&s.jsx(b5e,{offerId:y.id,accessStatus:y.accessStatus,onSuccess:()=>o(!0)}),C&&i&&s.jsx(J,{className:"bg-emerald-500/10 border-emerald-500/30",children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-emerald-500/20 rounded-full flex items-center justify-center",children:s.jsx(Gn,{className:"w-5 h-5 text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-emerald-400",children:" !"}),s.jsx("p",{className:"text-xs text-emerald-400/70",children:"  "})]})]})})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6",children:[s.jsxs("h3",{className:"text-sm font-bold uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[s.jsx(Ime,{className:"w-4 h-4"})," "]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:y.trafficSources.length>0?y.trafficSources.map((O,_)=>s.jsx(ye,{className:`${g5e[O]||"bg-blue-600"} text-white text-xs border-0`,children:O},_)):s.jsx("span",{className:"text-muted-foreground text-sm",children:"  "})})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6",children:[s.jsxs("h3",{className:"text-sm font-bold uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[s.jsx(b0,{className:"w-4 h-4"})," "]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:y.appTypes.length>0?y.appTypes.map((O,_)=>s.jsx(ye,{className:`${y5e[O]||"bg-emerald-600"} text-white text-xs border-0`,children:O},_)):s.jsx("span",{className:"text-muted-foreground text-sm",children:"  "})})]})}),E&&s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-6",children:[s.jsxs("h3",{className:"text-sm font-bold uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[s.jsx(ZM,{className:"w-4 h-4"}),"Sub-"]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"       "}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:[1,2,3,4,5,6,7,8,9,10].map(O=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs(te,{className:"text-[10px] text-muted-foreground w-7 flex-shrink-0",children:["sub",O]}),s.jsx(le,{placeholder:`sub${O}`,value:u[`sub${O}`]||"",onChange:_=>g(`sub${O}`,_.target.value),className:"bg-muted border-border text-foreground text-xs h-7 px-2","data-testid":`input-sub${O}`})]},O))}),y.landings&&y.landings.length>0&&(()=>{const O=y.landings[m]||y.landings[0];return s.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-br from-blue-500/10 to-blue-500/5 rounded-lg border border-blue-500/20",children:[y.landings.length>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx(te,{className:"text-[10px] text-muted-foreground mb-1 block",children:" "}),s.jsx("select",{value:m,onChange:_=>p(parseInt(_.target.value)),className:"w-full bg-muted border border-border rounded-md text-xs h-8 px-2 text-foreground","data-testid":"select-landing",children:y.landings.map((_,M)=>s.jsxs("option",{value:M,children:[_.geo,"  ",_.landingName||`Landing ${M+1}`,_.isApproved===!1?" ()":""]},_.id))})]}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-[10px] text-blue-400 uppercase font-bold",children:["  ",O.landingName||O.geo]}),s.jsx("p",{className:"text-[9px] text-muted-foreground mt-0.5",children:O.isApproved===!1?"    ":"   sub-"})]}),O.isApproved!==!1&&s.jsx(U,{size:"sm",variant:"ghost",className:"h-7 px-2 text-blue-400 hover:text-blue-300 hover:bg-blue-500/20",onClick:()=>A(v(O.trackingUrl||O.landingUrl),"preview"),"data-testid":"button-copy-preview",children:r==="preview"?s.jsx(Gn,{className:"w-3.5 h-3.5"}):s.jsx(Yn,{className:"w-3.5 h-3.5"})})]}),O.isApproved===!1?s.jsx("p",{className:"text-[11px] text-orange-400 font-medium",children:"     "}):s.jsx("p",{className:"text-[11px] text-foreground font-mono break-all leading-relaxed",children:v(O.trackingUrl||O.landingUrl)})]})})()]})})]})]})]})}var yk,Tq;function xa(){if(Tq)return yk;Tq=1;var e=Array.isArray;return yk=e,yk}var vk,Aq;function Tre(){if(Aq)return vk;Aq=1;var e=typeof Gv=="object"&&Gv&&Gv.Object===Object&&Gv;return vk=e,vk}var bk,Eq;function Vo(){if(Eq)return bk;Eq=1;var e=Tre(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return bk=n,bk}var jk,Oq;function by(){if(Oq)return jk;Oq=1;var e=Vo(),t=e.Symbol;return jk=t,jk}var wk,Pq;function S5e(){if(Pq)return wk;Pq=1;var e=by(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,a=e?e.toStringTag:void 0;function i(o){var l=n.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var f=r.call(o);return u&&(l?o[a]=c:delete o[a]),f}return wk=i,wk}var Nk,Mq;function C5e(){if(Mq)return Nk;Mq=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Nk=n,Nk}var Sk,_q;function Wl(){if(_q)return Sk;_q=1;var e=by(),t=S5e(),n=C5e(),r="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?a:r:i&&i in Object(l)?t(l):n(l)}return Sk=o,Sk}var Ck,Rq;function Gl(){if(Rq)return Ck;Rq=1;function e(t){return t!=null&&typeof t=="object"}return Ck=e,Ck}var kk,Dq;function vm(){if(Dq)return kk;Dq=1;var e=Wl(),t=Gl(),n="[object Symbol]";function r(a){return typeof a=="symbol"||t(a)&&e(a)==n}return kk=r,kk}var Tk,Iq;function R5(){if(Iq)return Tk;Iq=1;var e=xa(),t=vm(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:r.test(i)||!n.test(i)||o!=null&&i in Object(o)}return Tk=a,Tk}var Ak,Lq;function ld(){if(Lq)return Ak;Lq=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Ak=e,Ak}var Ek,$q;function D5(){if($q)return Ek;$q=1;var e=Wl(),t=ld(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==r||c==a||c==n||c==i}return Ek=o,Ek}var Ok,Fq;function k5e(){if(Fq)return Ok;Fq=1;var e=Vo(),t=e["__core-js_shared__"];return Ok=t,Ok}var Pk,Bq;function T5e(){if(Bq)return Pk;Bq=1;var e=k5e(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return Pk=n,Pk}var Mk,zq;function Are(){if(zq)return Mk;zq=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Mk=n,Mk}var _k,qq;function A5e(){if(qq)return _k;qq=1;var e=D5(),t=T5e(),n=ld(),r=Are(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,f=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(p){if(!n(p)||t(p))return!1;var g=e(p)?f:i;return g.test(r(p))}return _k=m,_k}var Rk,Uq;function E5e(){if(Uq)return Rk;Uq=1;function e(t,n){return t?.[n]}return Rk=e,Rk}var Dk,Vq;function $u(){if(Vq)return Dk;Vq=1;var e=A5e(),t=E5e();function n(r,a){var i=t(r,a);return e(i)?i:void 0}return Dk=n,Dk}var Ik,Hq;function KN(){if(Hq)return Ik;Hq=1;var e=$u(),t=e(Object,"create");return Ik=t,Ik}var Lk,Kq;function O5e(){if(Kq)return Lk;Kq=1;var e=KN();function t(){this.__data__=e?e(null):{},this.size=0}return Lk=t,Lk}var $k,Wq;function P5e(){if(Wq)return $k;Wq=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return $k=e,$k}var Fk,Gq;function M5e(){if(Gq)return Fk;Gq=1;var e=KN(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return r.call(o,i)?o[i]:void 0}return Fk=a,Fk}var Bk,Yq;function _5e(){if(Yq)return Bk;Yq=1;var e=KN(),t=Object.prototype,n=t.hasOwnProperty;function r(a){var i=this.__data__;return e?i[a]!==void 0:n.call(i,a)}return Bk=r,Bk}var zk,Xq;function R5e(){if(Xq)return zk;Xq=1;var e=KN(),t="__lodash_hash_undefined__";function n(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=e&&a===void 0?t:a,this}return zk=n,zk}var qk,Qq;function D5e(){if(Qq)return qk;Qq=1;var e=O5e(),t=P5e(),n=M5e(),r=_5e(),a=R5e();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,qk=i,qk}var Uk,Jq;function I5e(){if(Jq)return Uk;Jq=1;function e(){this.__data__=[],this.size=0}return Uk=e,Uk}var Vk,Zq;function I5(){if(Zq)return Vk;Zq=1;function e(t,n){return t===n||t!==t&&n!==n}return Vk=e,Vk}var Hk,eU;function WN(){if(eU)return Hk;eU=1;var e=I5();function t(n,r){for(var a=n.length;a--;)if(e(n[a][0],r))return a;return-1}return Hk=t,Hk}var Kk,tU;function L5e(){if(tU)return Kk;tU=1;var e=WN(),t=Array.prototype,n=t.splice;function r(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():n.call(i,o,1),--this.size,!0}return Kk=r,Kk}var Wk,nU;function $5e(){if(nU)return Wk;nU=1;var e=WN();function t(n){var r=this.__data__,a=e(r,n);return a<0?void 0:r[a][1]}return Wk=t,Wk}var Gk,rU;function F5e(){if(rU)return Gk;rU=1;var e=WN();function t(n){return e(this.__data__,n)>-1}return Gk=t,Gk}var Yk,sU;function B5e(){if(sU)return Yk;sU=1;var e=WN();function t(n,r){var a=this.__data__,i=e(a,n);return i<0?(++this.size,a.push([n,r])):a[i][1]=r,this}return Yk=t,Yk}var Xk,aU;function GN(){if(aU)return Xk;aU=1;var e=I5e(),t=L5e(),n=$5e(),r=F5e(),a=B5e();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,Xk=i,Xk}var Qk,iU;function L5(){if(iU)return Qk;iU=1;var e=$u(),t=Vo(),n=e(t,"Map");return Qk=n,Qk}var Jk,oU;function z5e(){if(oU)return Jk;oU=1;var e=D5e(),t=GN(),n=L5();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Jk=r,Jk}var Zk,lU;function q5e(){if(lU)return Zk;lU=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Zk=e,Zk}var eT,cU;function YN(){if(cU)return eT;cU=1;var e=q5e();function t(n,r){var a=n.__data__;return e(r)?a[typeof r=="string"?"string":"hash"]:a.map}return eT=t,eT}var tT,dU;function U5e(){if(dU)return tT;dU=1;var e=YN();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return tT=t,tT}var nT,uU;function V5e(){if(uU)return nT;uU=1;var e=YN();function t(n){return e(this,n).get(n)}return nT=t,nT}var rT,fU;function H5e(){if(fU)return rT;fU=1;var e=YN();function t(n){return e(this,n).has(n)}return rT=t,rT}var sT,hU;function K5e(){if(hU)return sT;hU=1;var e=YN();function t(n,r){var a=e(this,n),i=a.size;return a.set(n,r),this.size+=a.size==i?0:1,this}return sT=t,sT}var aT,mU;function $5(){if(mU)return aT;mU=1;var e=z5e(),t=U5e(),n=V5e(),r=H5e(),a=K5e();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,aT=i,aT}var iT,pU;function Ere(){if(pU)return iT;pU=1;var e=$5(),t="Expected a function";function n(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var u=r.apply(this,o);return i.cache=c.set(l,u)||c,u};return i.cache=new(n.Cache||e),i}return n.Cache=e,iT=n,iT}var oT,xU;function W5e(){if(xU)return oT;xU=1;var e=Ere(),t=500;function n(r){var a=e(r,function(o){return i.size===t&&i.clear(),o}),i=a.cache;return a}return oT=n,oT}var lT,gU;function G5e(){if(gU)return lT;gU=1;var e=W5e(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(o,l,c,u){i.push(c?u.replace(n,"$1"):l||o)}),i});return lT=r,lT}var cT,yU;function F5(){if(yU)return cT;yU=1;function e(t,n){for(var r=-1,a=t==null?0:t.length,i=Array(a);++r<a;)i[r]=n(t[r],r,t);return i}return cT=e,cT}var dT,vU;function Y5e(){if(vU)return dT;vU=1;var e=by(),t=F5(),n=xa(),r=vm(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return t(l,o)+"";if(r(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return dT=o,dT}var uT,bU;function Ore(){if(bU)return uT;bU=1;var e=Y5e();function t(n){return n==null?"":e(n)}return uT=t,uT}var fT,jU;function Pre(){if(jU)return fT;jU=1;var e=xa(),t=R5(),n=G5e(),r=Ore();function a(i,o){return e(i)?i:t(i,o)?[i]:n(r(i))}return fT=a,fT}var hT,wU;function XN(){if(wU)return hT;wU=1;var e=vm();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return hT=t,hT}var mT,NU;function B5(){if(NU)return mT;NU=1;var e=Pre(),t=XN();function n(r,a){a=e(a,r);for(var i=0,o=a.length;r!=null&&i<o;)r=r[t(a[i++])];return i&&i==o?r:void 0}return mT=n,mT}var pT,SU;function Mre(){if(SU)return pT;SU=1;var e=B5();function t(n,r,a){var i=n==null?void 0:e(n,r);return i===void 0?a:i}return pT=t,pT}var X5e=Mre();const Ba=on(X5e);var xT,CU;function Q5e(){if(CU)return xT;CU=1;function e(t){return t==null}return xT=e,xT}var J5e=Q5e();const Nt=on(J5e);var gT,kU;function Z5e(){if(kU)return gT;kU=1;var e=Wl(),t=xa(),n=Gl(),r="[object String]";function a(i){return typeof i=="string"||!t(i)&&n(i)&&e(i)==r}return gT=a,gT}var e3e=Z5e();const wu=on(e3e);var t3e=D5();const vt=on(t3e);var n3e=ld();const bm=on(n3e);var yT={exports:{}},rn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TU;function r3e(){if(TU)return rn;TU=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function y(w){if(typeof w=="object"&&w!==null){var N=w.$$typeof;switch(N){case e:switch(w=w.type,w){case n:case a:case r:case u:case f:return w;default:switch(w=w&&w.$$typeof,w){case l:case o:case c:case p:case m:case i:return w;default:return N}}case t:return N}}}return rn.ContextConsumer=o,rn.ContextProvider=i,rn.Element=e,rn.ForwardRef=c,rn.Fragment=n,rn.Lazy=p,rn.Memo=m,rn.Portal=t,rn.Profiler=a,rn.StrictMode=r,rn.Suspense=u,rn.SuspenseList=f,rn.isAsyncMode=function(){return!1},rn.isConcurrentMode=function(){return!1},rn.isContextConsumer=function(w){return y(w)===o},rn.isContextProvider=function(w){return y(w)===i},rn.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},rn.isForwardRef=function(w){return y(w)===c},rn.isFragment=function(w){return y(w)===n},rn.isLazy=function(w){return y(w)===p},rn.isMemo=function(w){return y(w)===m},rn.isPortal=function(w){return y(w)===t},rn.isProfiler=function(w){return y(w)===a},rn.isStrictMode=function(w){return y(w)===r},rn.isSuspense=function(w){return y(w)===u},rn.isSuspenseList=function(w){return y(w)===f},rn.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===a||w===r||w===u||w===f||w===g||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===m||w.$$typeof===i||w.$$typeof===o||w.$$typeof===c||w.$$typeof===v||w.getModuleId!==void 0)},rn.typeOf=y,rn}var AU;function s3e(){return AU||(AU=1,yT.exports=r3e()),yT.exports}var a3e=s3e(),vT,EU;function _re(){if(EU)return vT;EU=1;var e=Wl(),t=Gl(),n="[object Number]";function r(a){return typeof a=="number"||t(a)&&e(a)==n}return vT=r,vT}var bT,OU;function i3e(){if(OU)return bT;OU=1;var e=_re();function t(n){return e(n)&&n!=+n}return bT=t,bT}var o3e=i3e();const jy=on(o3e);var l3e=_re();const c3e=on(l3e);var zs=function(t){return t===0?0:t>0?1:-1},Wd=function(t){return wu(t)&&t.indexOf("%")===t.length-1},$e=function(t){return c3e(t)&&!jy(t)},d3e=function(t){return Nt(t)},Ur=function(t){return $e(t)||wu(t)},u3e=0,jm=function(t){var n=++u3e;return"".concat(t||"").concat(n)},qs=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$e(t)&&!wu(t))return r;var i;if(Wd(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return jy(i)&&(i=r),a&&i>n&&(i=n),i},_c=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},f3e=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},a=0;a<n;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},Oa=function(t,n){return $e(t)&&$e(n)?function(r){return t+r*(n-t)}:function(){return n}};function Lj(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Ba(r,t))===n})}var h3e=function(t,n){return $e(t)&&$e(n)?t-n:wu(t)&&wu(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function lh(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function x4(e){"@babel/helpers - typeof";return x4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x4(e)}var m3e=["viewBox","children"],p3e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PU=["points","pathLength"],jT={svg:m3e,polygon:PU,polyline:PU},z5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$j=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(j.isValidElement(t)&&(r=t.props),!bm(r))return null;var a={};return Object.keys(r).forEach(function(i){z5.includes(i)&&(a[i]=n||function(o){return r[i](r,o)})}),a},x3e=function(t,n,r){return function(a){return t(n,r,a),null}},Nu=function(t,n,r){if(!bm(t)||x4(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];z5.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=x3e(o,n,r))}),a},g3e=["children"],y3e=["children"];function MU(e,t){if(e==null)return{};var n=v3e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function v3e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function g4(e){"@babel/helpers - typeof";return g4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g4(e)}var _U={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},_l=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},RU=null,wT=null,q5=function e(t){if(t===RU&&Array.isArray(wT))return wT;var n=[];return j.Children.forEach(t,function(r){Nt(r)||(a3e.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),wT=n,RU=t,n};function za(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(a){return _l(a)}):r=[_l(t)],q5(e).forEach(function(a){var i=Ba(a,"type.displayName")||Ba(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function Ta(e,t){var n=za(e,t);return n&&n[0]}var DU=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,a=n.height;return!(!$e(r)||r<=0||!$e(a)||a<=0)},b3e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],j3e=function(t){return t&&t.type&&wu(t.type)&&b3e.indexOf(t.type)>=0},w3e=function(t){return t&&g4(t)==="object"&&"clipDot"in t},N3e=function(t,n,r,a){var i,o=(i=jT?.[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!vt(t)&&(a&&o.includes(n)||p3e.includes(n))||r&&z5.includes(n)},at=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(j.isValidElement(t)&&(a=t.props),!bm(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;N3e((l=a)===null||l===void 0?void 0:l[o],o,n,r)&&(i[o]=a[o])}),i},y4=function e(t,n){if(t===n)return!0;var r=j.Children.count(t);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return IU(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=t[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!IU(i,o))return!1}return!0},IU=function(t,n){if(Nt(t)&&Nt(n))return!0;if(!Nt(t)&&!Nt(n)){var r=t.props||{},a=r.children,i=MU(r,g3e),o=n.props||{},l=o.children,c=MU(o,y3e);return a&&l?lh(i,c)&&y4(a,l):!a&&!l?lh(i,c):!1}return!1},LU=function(t,n){var r=[],a={};return q5(t).forEach(function(i,o){if(j3e(i))r.push(i);else if(i){var l=_l(i.type),c=n[l]||{},u=c.handler,f=c.once;if(u&&(!f||!a[l])){var m=u(i,l,o);r.push(m),a[l]=!0}}}),r},S3e=function(t){var n=t&&t.type;return n&&_U[n]?_U[n]:null},C3e=function(t,n){return q5(n).indexOf(t)},k3e=["children","width","height","viewBox","className","style","title","desc"];function v4(){return v4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v4.apply(this,arguments)}function T3e(e,t){if(e==null)return{};var n=A3e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function A3e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function b4(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=T3e(e,k3e),f=a||{width:n,height:r,x:0,y:0},m=Ct("recharts-surface",i);return Z.createElement("svg",v4({},at(u,!0,"svg"),{className:m,width:n,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),Z.createElement("title",null,l),Z.createElement("desc",null,c),t)}var E3e=["children","className"];function j4(){return j4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j4.apply(this,arguments)}function O3e(e,t){if(e==null)return{};var n=P3e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function P3e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Jt=Z.forwardRef(function(e,t){var n=e.children,r=e.className,a=O3e(e,E3e),i=Ct("recharts-layer",r);return Z.createElement("g",j4({className:i},at(a,!0),{ref:t}),n)}),Xi=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]},NT,$U;function M3e(){if($U)return NT;$U=1;function e(t,n,r){var a=-1,i=t.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(i);++a<i;)o[a]=t[a+n];return o}return NT=e,NT}var ST,FU;function _3e(){if(FU)return ST;FU=1;var e=M3e();function t(n,r,a){var i=n.length;return a=a===void 0?i:a,!r&&a>=i?n:e(n,r,a)}return ST=t,ST}var CT,BU;function Rre(){if(BU)return CT;BU=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=t+n+r,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+a+i+"]");function c(u){return l.test(u)}return CT=c,CT}var kT,zU;function R3e(){if(zU)return kT;zU=1;function e(t){return t.split("")}return kT=e,kT}var TT,qU;function D3e(){if(qU)return TT;qU=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=t+n+r,i="\\ufe0e\\ufe0f",o="["+e+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",f="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",v=u+"?",y="["+i+"]?",w="(?:"+g+"(?:"+[f,m,p].join("|")+")"+y+v+")*",N=y+v+w,A="(?:"+[f+l+"?",l,m,p,o].join("|")+")",T=RegExp(c+"(?="+c+")|"+A+N,"g");function C(S){return S.match(T)||[]}return TT=C,TT}var AT,UU;function I3e(){if(UU)return AT;UU=1;var e=R3e(),t=Rre(),n=D3e();function r(a){return t(a)?n(a):e(a)}return AT=r,AT}var ET,VU;function L3e(){if(VU)return ET;VU=1;var e=_3e(),t=Rre(),n=I3e(),r=Ore();function a(i){return function(o){o=r(o);var l=t(o)?n(o):void 0,c=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return c[i]()+u}}return ET=a,ET}var OT,HU;function $3e(){if(HU)return OT;HU=1;var e=L3e(),t=e("toUpperCase");return OT=t,OT}var F3e=$3e();const QN=on(F3e);function En(e){return function(){return e}}const Dre=Math.cos,Fj=Math.sin,co=Math.sqrt,Bj=Math.PI,JN=2*Bj,w4=Math.PI,N4=2*w4,Id=1e-6,B3e=N4-Id;function Ire(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function z3e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Ire;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class q3e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ire:z3e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-t,u=a-n,f=o-t,m=l-n,p=f*f+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Id)if(!(Math.abs(m*c-u*f)>Id)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let g=r-o,v=a-l,y=c*c+u*u,w=g*g+v*v,N=Math.sqrt(y),A=Math.sqrt(p),T=i*Math.tan((w4-Math.acos((y+p-w)/(2*N*A)))/2),C=T/A,S=T/N;Math.abs(C-1)>Id&&this._append`L${t+C*f},${n+C*m}`,this._append`A${i},${i},0,0,${+(m*g>f*v)},${this._x1=t+S*c},${this._y1=n+S*u}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),u=t+l,f=n+c,m=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Id||Math.abs(this._y1-f)>Id)&&this._append`L${u},${f}`,r&&(p<0&&(p=p%N4+N4),p>B3e?this._append`A${r},${r},0,1,${m},${t-l},${n-c}A${r},${r},0,1,${m},${this._x1=u},${this._y1=f}`:p>Id&&this._append`A${r},${r},0,${+(p>=w4)},${m},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function U5(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new q3e(t)}function V5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Lre(e){this._context=e}Lre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ZN(e){return new Lre(e)}function $re(e){return e[0]}function Fre(e){return e[1]}function Bre(e,t){var n=En(!0),r=null,a=ZN,i=null,o=U5(l);e=typeof e=="function"?e:e===void 0?$re:En(e),t=typeof t=="function"?t:t===void 0?Fre:En(t);function l(c){var u,f=(c=V5(c)).length,m,p=!1,g;for(r==null&&(i=a(g=o())),u=0;u<=f;++u)!(u<f&&n(m=c[u],u,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(m,u,c),+t(m,u,c));if(g)return i=null,g+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:En(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:En(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:En(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,r!=null&&(i=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=i=null:i=a(r=c),l):r},l}function Ob(e,t,n){var r=null,a=En(!0),i=null,o=ZN,l=null,c=U5(u);e=typeof e=="function"?e:e===void 0?$re:En(+e),t=typeof t=="function"?t:En(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Fre:En(+n);function u(m){var p,g,v,y=(m=V5(m)).length,w,N=!1,A,T=new Array(y),C=new Array(y);for(i==null&&(l=o(A=c())),p=0;p<=y;++p){if(!(p<y&&a(w=m[p],p,m))===N)if(N=!N)g=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=p-1;v>=g;--v)l.point(T[v],C[v]);l.lineEnd(),l.areaEnd()}N&&(T[p]=+e(w,p,m),C[p]=+t(w,p,m),l.point(r?+r(w,p,m):T[p],n?+n(w,p,m):C[p]))}if(A)return l=null,A+""||null}function f(){return Bre().defined(a).curve(o).context(i)}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:En(+m),r=null,u):e},u.x0=function(m){return arguments.length?(e=typeof m=="function"?m:En(+m),u):e},u.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:En(+m),u):r},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:En(+m),n=null,u):t},u.y0=function(m){return arguments.length?(t=typeof m=="function"?m:En(+m),u):t},u.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:En(+m),u):n},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(n)},u.lineX1=function(){return f().x(r).y(t)},u.defined=function(m){return arguments.length?(a=typeof m=="function"?m:En(!!m),u):a},u.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),u):o},u.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),u):i},u}class zre{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function U3e(e){return new zre(e,!0)}function V3e(e){return new zre(e,!1)}const H5={draw(e,t){const n=co(t/Bj);e.moveTo(n,0),e.arc(0,0,n,0,JN)}},H3e={draw(e,t){const n=co(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},qre=co(1/3),K3e=qre*2,W3e={draw(e,t){const n=co(t/K3e),r=n*qre;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},G3e={draw(e,t){const n=co(t),r=-n/2;e.rect(r,r,n,n)}},Y3e=.8908130915292852,Ure=Fj(Bj/10)/Fj(7*Bj/10),X3e=Fj(JN/10)*Ure,Q3e=-Dre(JN/10)*Ure,J3e={draw(e,t){const n=co(t*Y3e),r=X3e*n,a=Q3e*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=JN*i/5,l=Dre(o),c=Fj(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*a,c*r+l*a)}e.closePath()}},PT=co(3),Z3e={draw(e,t){const n=-co(t/(PT*3));e.moveTo(0,n*2),e.lineTo(-PT*n,-n),e.lineTo(PT*n,-n),e.closePath()}},si=-.5,ai=co(3)/2,S4=1/co(12),eDe=(S4/2+1)*3,tDe={draw(e,t){const n=co(t/eDe),r=n/2,a=n*S4,i=r,o=n*S4+n,l=-i,c=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(si*r-ai*a,ai*r+si*a),e.lineTo(si*i-ai*o,ai*i+si*o),e.lineTo(si*l-ai*c,ai*l+si*c),e.lineTo(si*r+ai*a,si*a-ai*r),e.lineTo(si*i+ai*o,si*o-ai*i),e.lineTo(si*l+ai*c,si*c-ai*l),e.closePath()}};function nDe(e,t){let n=null,r=U5(a);e=typeof e=="function"?e:En(e||H5),t=typeof t=="function"?t:En(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:En(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:En(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function zj(){}function qj(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Vre(e){this._context=e}Vre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qj(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rDe(e){return new Vre(e)}function Hre(e){this._context=e}Hre.prototype={areaStart:zj,areaEnd:zj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:qj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sDe(e){return new Hre(e)}function Kre(e){this._context=e}Kre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:qj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aDe(e){return new Kre(e)}function Wre(e){this._context=e}Wre.prototype={areaStart:zj,areaEnd:zj,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function iDe(e){return new Wre(e)}function KU(e){return e<0?-1:1}function WU(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(KU(i)+KU(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function GU(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function MT(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,a+l*t,i-l,o-l*n,i,o)}function Uj(e){this._context=e}Uj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:MT(this,this._t0,GU(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,MT(this,GU(this,n=WU(this,e,t)),n);break;default:MT(this,this._t0,n=WU(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Gre(e){this._context=new Yre(e)}(Gre.prototype=Object.create(Uj.prototype)).point=function(e,t){Uj.prototype.point.call(this,t,e)};function Yre(e){this._context=e}Yre.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function oDe(e){return new Uj(e)}function lDe(e){return new Gre(e)}function Xre(e){this._context=e}Xre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=YU(e),a=YU(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function YU(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function cDe(e){return new Xre(e)}function e1(e,t){this._context=e,this._t=t}e1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function dDe(e){return new e1(e,.5)}function uDe(e){return new e1(e,0)}function fDe(e){return new e1(e,1)}function Mh(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function C4(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function hDe(e,t){return e[t]}function mDe(e){const t=[];return t.key=e,t}function pDe(){var e=En([]),t=C4,n=Mh,r=hDe;function a(i){var o=Array.from(e.apply(this,arguments),mDe),l,c=o.length,u=-1,f;for(const m of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(m,o[l].key,u,i)]).data=m;for(l=0,f=V5(t(o));l<c;++l)o[f[l]].index=l;return n(o,f),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:En(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:En(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?C4:typeof i=="function"?i:En(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??Mh,a):n},a}function xDe(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}Mh(e,t)}}function gDe(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Mh(e,t)}}function yDe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var l=0,c=0,u=0;l<o;++l){for(var f=e[t[l]],m=f[r][1]||0,p=f[r-1][1]||0,g=(m-p)/2,v=0;v<l;++v){var y=e[t[v]],w=y[r][1]||0,N=y[r-1][1]||0;g+=w-N}c+=m,u+=g*m}a[r-1][1]+=a[r-1][0]=n,c&&(n-=u/c)}a[r-1][1]+=a[r-1][0]=n,Mh(e,t)}}function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}var vDe=["type","size","sizeType"];function k4(){return k4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k4.apply(this,arguments)}function XU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function QU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XU(Object(n),!0).forEach(function(r){bDe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bDe(e,t,n){return t=jDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jDe(e){var t=wDe(e,"string");return fg(t)=="symbol"?t:t+""}function wDe(e,t){if(fg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NDe(e,t){if(e==null)return{};var n=SDe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Qre={symbolCircle:H5,symbolCross:H3e,symbolDiamond:W3e,symbolSquare:G3e,symbolStar:J3e,symbolTriangle:Z3e,symbolWye:tDe},CDe=Math.PI/180,kDe=function(t){var n="symbol".concat(QN(t));return Qre[n]||H5},TDe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*CDe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},ADe=function(t,n){Qre["symbol".concat(QN(t))]=n},K5=function(t){var n=t.type,r=n===void 0?"circle":n,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=NDe(t,vDe),u=QU(QU({},c),{},{type:r,size:i,sizeType:l}),f=function(){var w=kDe(r),N=nDe().type(w).size(TDe(i,l,r));return N()},m=u.className,p=u.cx,g=u.cy,v=at(u,!0);return p===+p&&g===+g&&i===+i?Z.createElement("path",k4({},v,{className:Ct("recharts-symbols",m),transform:"translate(".concat(p,", ").concat(g,")"),d:f()})):null};K5.registerSymbol=ADe;function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}function T4(){return T4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T4.apply(this,arguments)}function JU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function EDe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JU(Object(n),!0).forEach(function(r){hg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ODe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PDe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zre(r.key),r)}}function MDe(e,t,n){return t&&PDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _De(e,t,n){return t=Vj(t),RDe(e,Jre()?Reflect.construct(t,n||[],Vj(e).constructor):t.apply(e,n))}function RDe(e,t){if(t&&(_h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DDe(e)}function DDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jre=function(){return!!e})()}function Vj(e){return Vj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vj(e)}function IDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A4(e,t)}function A4(e,t){return A4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},A4(e,t)}function hg(e,t,n){return t=Zre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zre(e){var t=LDe(e,"string");return _h(t)=="symbol"?t:t+""}function LDe(e,t){if(_h(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ii=32,W5=(function(e){function t(){return ODe(this,t),_De(this,t,arguments)}return IDe(t,e),MDe(t,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=ii/2,o=ii/6,l=ii/3,c=r.inactive?a:r.color;if(r.type==="plainline")return Z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:ii,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return Z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ii,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return Z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ii/8,"h").concat(ii,"v").concat(ii*3/4,"h").concat(-ii,"z"),className:"recharts-legend-icon"});if(Z.isValidElement(r.legendIcon)){var u=EDe({},r);return delete u.legendIcon,Z.cloneElement(r.legendIcon,u)}return Z.createElement(K5,{fill:c,cx:i,cy:i,size:ii,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:ii,height:ii},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(g,v){var y=g.formatter||c,w=Ct(hg(hg({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var N=vt(g.value)?null:g.value;Xi(!vt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=g.inactive?u:g.color;return Z.createElement("li",T4({className:w,style:m,key:"legend-item-".concat(v)},Nu(r.props,g,v)),Z.createElement(b4,{width:o,height:o,viewBox:f,style:p},r.renderIcon(g)),Z.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},y?y(N,g,v):N))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,o=r.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(j.PureComponent);hg(W5,"displayName","Legend");hg(W5,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _T,ZU;function $De(){if(ZU)return _T;ZU=1;var e=GN();function t(){this.__data__=new e,this.size=0}return _T=t,_T}var RT,e8;function FDe(){if(e8)return RT;e8=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return RT=e,RT}var DT,t8;function BDe(){if(t8)return DT;t8=1;function e(t){return this.__data__.get(t)}return DT=e,DT}var IT,n8;function zDe(){if(n8)return IT;n8=1;function e(t){return this.__data__.has(t)}return IT=e,IT}var LT,r8;function qDe(){if(r8)return LT;r8=1;var e=GN(),t=L5(),n=$5(),r=200;function a(i,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<r-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(i,o),this.size=l.size,this}return LT=a,LT}var $T,s8;function ese(){if(s8)return $T;s8=1;var e=GN(),t=$De(),n=FDe(),r=BDe(),a=zDe(),i=qDe();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=a,o.prototype.set=i,$T=o,$T}var FT,a8;function UDe(){if(a8)return FT;a8=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return FT=t,FT}var BT,i8;function VDe(){if(i8)return BT;i8=1;function e(t){return this.__data__.has(t)}return BT=e,BT}var zT,o8;function tse(){if(o8)return zT;o8=1;var e=$5(),t=UDe(),n=VDe();function r(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new e;++i<o;)this.add(a[i])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,zT=r,zT}var qT,l8;function nse(){if(l8)return qT;l8=1;function e(t,n){for(var r=-1,a=t==null?0:t.length;++r<a;)if(n(t[r],r,t))return!0;return!1}return qT=e,qT}var UT,c8;function rse(){if(c8)return UT;c8=1;function e(t,n){return t.has(n)}return UT=e,UT}var VT,d8;function sse(){if(d8)return VT;d8=1;var e=tse(),t=nse(),n=rse(),r=1,a=2;function i(o,l,c,u,f,m){var p=c&r,g=o.length,v=l.length;if(g!=v&&!(p&&v>g))return!1;var y=m.get(o),w=m.get(l);if(y&&w)return y==l&&w==o;var N=-1,A=!0,T=c&a?new e:void 0;for(m.set(o,l),m.set(l,o);++N<g;){var C=o[N],S=l[N];if(u)var E=p?u(S,C,N,l,o,m):u(C,S,N,o,l,m);if(E!==void 0){if(E)continue;A=!1;break}if(T){if(!t(l,function(O,_){if(!n(T,_)&&(C===O||f(C,O,c,u,m)))return T.push(_)})){A=!1;break}}else if(!(C===S||f(C,S,c,u,m))){A=!1;break}}return m.delete(o),m.delete(l),A}return VT=i,VT}var HT,u8;function HDe(){if(u8)return HT;u8=1;var e=Vo(),t=e.Uint8Array;return HT=t,HT}var KT,f8;function KDe(){if(f8)return KT;f8=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(a,i){r[++n]=[i,a]}),r}return KT=e,KT}var WT,h8;function G5(){if(h8)return WT;h8=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(a){r[++n]=a}),r}return WT=e,WT}var GT,m8;function WDe(){if(m8)return GT;m8=1;var e=by(),t=HDe(),n=I5(),r=sse(),a=KDe(),i=G5(),o=1,l=2,c="[object Boolean]",u="[object Date]",f="[object Error]",m="[object Map]",p="[object Number]",g="[object RegExp]",v="[object Set]",y="[object String]",w="[object Symbol]",N="[object ArrayBuffer]",A="[object DataView]",T=e?e.prototype:void 0,C=T?T.valueOf:void 0;function S(E,O,_,M,$,z,V){switch(_){case A:if(E.byteLength!=O.byteLength||E.byteOffset!=O.byteOffset)return!1;E=E.buffer,O=O.buffer;case N:return!(E.byteLength!=O.byteLength||!z(new t(E),new t(O)));case c:case u:case p:return n(+E,+O);case f:return E.name==O.name&&E.message==O.message;case g:case y:return E==O+"";case m:var I=a;case v:var F=M&o;if(I||(I=i),E.size!=O.size&&!F)return!1;var K=V.get(E);if(K)return K==O;M|=l,V.set(E,O);var R=r(I(E),I(O),M,$,z,V);return V.delete(E),R;case w:if(C)return C.call(E)==C.call(O)}return!1}return GT=S,GT}var YT,p8;function ase(){if(p8)return YT;p8=1;function e(t,n){for(var r=-1,a=n.length,i=t.length;++r<a;)t[i+r]=n[r];return t}return YT=e,YT}var XT,x8;function GDe(){if(x8)return XT;x8=1;var e=ase(),t=xa();function n(r,a,i){var o=a(r);return t(r)?o:e(o,i(r))}return XT=n,XT}var QT,g8;function YDe(){if(g8)return QT;g8=1;function e(t,n){for(var r=-1,a=t==null?0:t.length,i=0,o=[];++r<a;){var l=t[r];n(l,r,t)&&(o[i++]=l)}return o}return QT=e,QT}var JT,y8;function XDe(){if(y8)return JT;y8=1;function e(){return[]}return JT=e,JT}var ZT,v8;function QDe(){if(v8)return ZT;v8=1;var e=YDe(),t=XDe(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(l){return r.call(o,l)}))}:t;return ZT=i,ZT}var eA,b8;function JDe(){if(b8)return eA;b8=1;function e(t,n){for(var r=-1,a=Array(t);++r<t;)a[r]=n(r);return a}return eA=e,eA}var tA,j8;function ZDe(){if(j8)return tA;j8=1;var e=Wl(),t=Gl(),n="[object Arguments]";function r(a){return t(a)&&e(a)==n}return tA=r,tA}var nA,w8;function Y5(){if(w8)return nA;w8=1;var e=ZDe(),t=Gl(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&r.call(o,"callee")&&!a.call(o,"callee")};return nA=i,nA}var lx={exports:{}},rA,N8;function eIe(){if(N8)return rA;N8=1;function e(){return!1}return rA=e,rA}lx.exports;var S8;function ise(){return S8||(S8=1,(function(e,t){var n=Vo(),r=eIe(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(lx,lx.exports)),lx.exports}var sA,C8;function X5(){if(C8)return sA;C8=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,a){var i=typeof r;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<a}return sA=n,sA}var aA,k8;function Q5(){if(k8)return aA;k8=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return aA=t,aA}var iA,T8;function tIe(){if(T8)return iA;T8=1;var e=Wl(),t=Q5(),n=Gl(),r="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",f="[object Number]",m="[object Object]",p="[object RegExp]",g="[object Set]",v="[object String]",y="[object WeakMap]",w="[object ArrayBuffer]",N="[object DataView]",A="[object Float32Array]",T="[object Float64Array]",C="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",O="[object Uint8Array]",_="[object Uint8ClampedArray]",M="[object Uint16Array]",$="[object Uint32Array]",z={};z[A]=z[T]=z[C]=z[S]=z[E]=z[O]=z[_]=z[M]=z[$]=!0,z[r]=z[a]=z[w]=z[i]=z[N]=z[o]=z[l]=z[c]=z[u]=z[f]=z[m]=z[p]=z[g]=z[v]=z[y]=!1;function V(I){return n(I)&&t(I.length)&&!!z[e(I)]}return iA=V,iA}var oA,A8;function ose(){if(A8)return oA;A8=1;function e(t){return function(n){return t(n)}}return oA=e,oA}var cx={exports:{}};cx.exports;var E8;function nIe(){return E8||(E8=1,(function(e,t){var n=Tre(),r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(cx,cx.exports)),cx.exports}var lA,O8;function lse(){if(O8)return lA;O8=1;var e=tIe(),t=ose(),n=nIe(),r=n&&n.isTypedArray,a=r?t(r):e;return lA=a,lA}var cA,P8;function rIe(){if(P8)return cA;P8=1;var e=JDe(),t=Y5(),n=xa(),r=ise(),a=X5(),i=lse(),o=Object.prototype,l=o.hasOwnProperty;function c(u,f){var m=n(u),p=!m&&t(u),g=!m&&!p&&r(u),v=!m&&!p&&!g&&i(u),y=m||p||g||v,w=y?e(u.length,String):[],N=w.length;for(var A in u)(f||l.call(u,A))&&!(y&&(A=="length"||g&&(A=="offset"||A=="parent")||v&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||a(A,N)))&&w.push(A);return w}return cA=c,cA}var dA,M8;function sIe(){if(M8)return dA;M8=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||e;return n===a}return dA=t,dA}var uA,_8;function cse(){if(_8)return uA;_8=1;function e(t,n){return function(r){return t(n(r))}}return uA=e,uA}var fA,R8;function aIe(){if(R8)return fA;R8=1;var e=cse(),t=e(Object.keys,Object);return fA=t,fA}var hA,D8;function iIe(){if(D8)return hA;D8=1;var e=sIe(),t=aIe(),n=Object.prototype,r=n.hasOwnProperty;function a(i){if(!e(i))return t(i);var o=[];for(var l in Object(i))r.call(i,l)&&l!="constructor"&&o.push(l);return o}return hA=a,hA}var mA,I8;function wy(){if(I8)return mA;I8=1;var e=D5(),t=Q5();function n(r){return r!=null&&t(r.length)&&!e(r)}return mA=n,mA}var pA,L8;function t1(){if(L8)return pA;L8=1;var e=rIe(),t=iIe(),n=wy();function r(a){return n(a)?e(a):t(a)}return pA=r,pA}var xA,$8;function oIe(){if($8)return xA;$8=1;var e=GDe(),t=QDe(),n=t1();function r(a){return e(a,n,t)}return xA=r,xA}var gA,F8;function lIe(){if(F8)return gA;F8=1;var e=oIe(),t=1,n=Object.prototype,r=n.hasOwnProperty;function a(i,o,l,c,u,f){var m=l&t,p=e(i),g=p.length,v=e(o),y=v.length;if(g!=y&&!m)return!1;for(var w=g;w--;){var N=p[w];if(!(m?N in o:r.call(o,N)))return!1}var A=f.get(i),T=f.get(o);if(A&&T)return A==o&&T==i;var C=!0;f.set(i,o),f.set(o,i);for(var S=m;++w<g;){N=p[w];var E=i[N],O=o[N];if(c)var _=m?c(O,E,N,o,i,f):c(E,O,N,i,o,f);if(!(_===void 0?E===O||u(E,O,l,c,f):_)){C=!1;break}S||(S=N=="constructor")}if(C&&!S){var M=i.constructor,$=o.constructor;M!=$&&"constructor"in i&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof $=="function"&&$ instanceof $)&&(C=!1)}return f.delete(i),f.delete(o),C}return gA=a,gA}var yA,B8;function cIe(){if(B8)return yA;B8=1;var e=$u(),t=Vo(),n=e(t,"DataView");return yA=n,yA}var vA,z8;function dIe(){if(z8)return vA;z8=1;var e=$u(),t=Vo(),n=e(t,"Promise");return vA=n,vA}var bA,q8;function dse(){if(q8)return bA;q8=1;var e=$u(),t=Vo(),n=e(t,"Set");return bA=n,bA}var jA,U8;function uIe(){if(U8)return jA;U8=1;var e=$u(),t=Vo(),n=e(t,"WeakMap");return jA=n,jA}var wA,V8;function fIe(){if(V8)return wA;V8=1;var e=cIe(),t=L5(),n=dIe(),r=dse(),a=uIe(),i=Wl(),o=Are(),l="[object Map]",c="[object Object]",u="[object Promise]",f="[object Set]",m="[object WeakMap]",p="[object DataView]",g=o(e),v=o(t),y=o(n),w=o(r),N=o(a),A=i;return(e&&A(new e(new ArrayBuffer(1)))!=p||t&&A(new t)!=l||n&&A(n.resolve())!=u||r&&A(new r)!=f||a&&A(new a)!=m)&&(A=function(T){var C=i(T),S=C==c?T.constructor:void 0,E=S?o(S):"";if(E)switch(E){case g:return p;case v:return l;case y:return u;case w:return f;case N:return m}return C}),wA=A,wA}var NA,H8;function hIe(){if(H8)return NA;H8=1;var e=ese(),t=sse(),n=WDe(),r=lIe(),a=fIe(),i=xa(),o=ise(),l=lse(),c=1,u="[object Arguments]",f="[object Array]",m="[object Object]",p=Object.prototype,g=p.hasOwnProperty;function v(y,w,N,A,T,C){var S=i(y),E=i(w),O=S?f:a(y),_=E?f:a(w);O=O==u?m:O,_=_==u?m:_;var M=O==m,$=_==m,z=O==_;if(z&&o(y)){if(!o(w))return!1;S=!0,M=!1}if(z&&!M)return C||(C=new e),S||l(y)?t(y,w,N,A,T,C):n(y,w,O,N,A,T,C);if(!(N&c)){var V=M&&g.call(y,"__wrapped__"),I=$&&g.call(w,"__wrapped__");if(V||I){var F=V?y.value():y,K=I?w.value():w;return C||(C=new e),T(F,K,N,A,C)}}return z?(C||(C=new e),r(y,w,N,A,T,C)):!1}return NA=v,NA}var SA,K8;function J5(){if(K8)return SA;K8=1;var e=hIe(),t=Gl();function n(r,a,i,o,l){return r===a?!0:r==null||a==null||!t(r)&&!t(a)?r!==r&&a!==a:e(r,a,i,o,n,l)}return SA=n,SA}var CA,W8;function mIe(){if(W8)return CA;W8=1;var e=ese(),t=J5(),n=1,r=2;function a(i,o,l,c){var u=l.length,f=u,m=!c;if(i==null)return!f;for(i=Object(i);u--;){var p=l[u];if(m&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++u<f;){p=l[u];var g=p[0],v=i[g],y=p[1];if(m&&p[2]){if(v===void 0&&!(g in i))return!1}else{var w=new e;if(c)var N=c(v,y,g,i,o,w);if(!(N===void 0?t(y,v,n|r,c,w):N))return!1}}return!0}return CA=a,CA}var kA,G8;function use(){if(G8)return kA;G8=1;var e=ld();function t(n){return n===n&&!e(n)}return kA=t,kA}var TA,Y8;function pIe(){if(Y8)return TA;Y8=1;var e=use(),t=t1();function n(r){for(var a=t(r),i=a.length;i--;){var o=a[i],l=r[o];a[i]=[o,l,e(l)]}return a}return TA=n,TA}var AA,X8;function fse(){if(X8)return AA;X8=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return AA=e,AA}var EA,Q8;function xIe(){if(Q8)return EA;Q8=1;var e=mIe(),t=pIe(),n=fse();function r(a){var i=t(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(o){return o===a||e(o,a,i)}}return EA=r,EA}var OA,J8;function gIe(){if(J8)return OA;J8=1;function e(t,n){return t!=null&&n in Object(t)}return OA=e,OA}var PA,Z8;function yIe(){if(Z8)return PA;Z8=1;var e=Pre(),t=Y5(),n=xa(),r=X5(),a=Q5(),i=XN();function o(l,c,u){c=e(c,l);for(var f=-1,m=c.length,p=!1;++f<m;){var g=i(c[f]);if(!(p=l!=null&&u(l,g)))break;l=l[g]}return p||++f!=m?p:(m=l==null?0:l.length,!!m&&a(m)&&r(g,m)&&(n(l)||t(l)))}return PA=o,PA}var MA,eV;function vIe(){if(eV)return MA;eV=1;var e=gIe(),t=yIe();function n(r,a){return r!=null&&t(r,a,e)}return MA=n,MA}var _A,tV;function bIe(){if(tV)return _A;tV=1;var e=J5(),t=Mre(),n=vIe(),r=R5(),a=use(),i=fse(),o=XN(),l=1,c=2;function u(f,m){return r(f)&&a(m)?i(o(f),m):function(p){var g=t(p,f);return g===void 0&&g===m?n(p,f):e(m,g,l|c)}}return _A=u,_A}var RA,nV;function wm(){if(nV)return RA;nV=1;function e(t){return t}return RA=e,RA}var DA,rV;function jIe(){if(rV)return DA;rV=1;function e(t){return function(n){return n?.[t]}}return DA=e,DA}var IA,sV;function wIe(){if(sV)return IA;sV=1;var e=B5();function t(n){return function(r){return e(r,n)}}return IA=t,IA}var LA,aV;function NIe(){if(aV)return LA;aV=1;var e=jIe(),t=wIe(),n=R5(),r=XN();function a(i){return n(i)?e(r(i)):t(i)}return LA=a,LA}var $A,iV;function Ho(){if(iV)return $A;iV=1;var e=xIe(),t=bIe(),n=wm(),r=xa(),a=NIe();function i(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):a(o)}return $A=i,$A}var FA,oV;function hse(){if(oV)return FA;oV=1;function e(t,n,r,a){for(var i=t.length,o=r+(a?1:-1);a?o--:++o<i;)if(n(t[o],o,t))return o;return-1}return FA=e,FA}var BA,lV;function SIe(){if(lV)return BA;lV=1;function e(t){return t!==t}return BA=e,BA}var zA,cV;function CIe(){if(cV)return zA;cV=1;function e(t,n,r){for(var a=r-1,i=t.length;++a<i;)if(t[a]===n)return a;return-1}return zA=e,zA}var qA,dV;function kIe(){if(dV)return qA;dV=1;var e=hse(),t=SIe(),n=CIe();function r(a,i,o){return i===i?n(a,i,o):e(a,t,o)}return qA=r,qA}var UA,uV;function TIe(){if(uV)return UA;uV=1;var e=kIe();function t(n,r){var a=n==null?0:n.length;return!!a&&e(n,r,0)>-1}return UA=t,UA}var VA,fV;function AIe(){if(fV)return VA;fV=1;function e(t,n,r){for(var a=-1,i=t==null?0:t.length;++a<i;)if(r(n,t[a]))return!0;return!1}return VA=e,VA}var HA,hV;function EIe(){if(hV)return HA;hV=1;function e(){}return HA=e,HA}var KA,mV;function OIe(){if(mV)return KA;mV=1;var e=dse(),t=EIe(),n=G5(),r=1/0,a=e&&1/n(new e([,-0]))[1]==r?function(i){return new e(i)}:t;return KA=a,KA}var WA,pV;function PIe(){if(pV)return WA;pV=1;var e=tse(),t=TIe(),n=AIe(),r=rse(),a=OIe(),i=G5(),o=200;function l(c,u,f){var m=-1,p=t,g=c.length,v=!0,y=[],w=y;if(f)v=!1,p=n;else if(g>=o){var N=u?null:a(c);if(N)return i(N);v=!1,p=r,w=new e}else w=u?[]:y;e:for(;++m<g;){var A=c[m],T=u?u(A):A;if(A=f||A!==0?A:0,v&&T===T){for(var C=w.length;C--;)if(w[C]===T)continue e;u&&w.push(T),y.push(A)}else p(w,T,f)||(w!==y&&w.push(T),y.push(A))}return y}return WA=l,WA}var GA,xV;function MIe(){if(xV)return GA;xV=1;var e=Ho(),t=PIe();function n(r,a){return r&&r.length?t(r,e(a,2)):[]}return GA=n,GA}var _Ie=MIe();const gV=on(_Ie);function mse(e,t,n){return t===!0?gV(e,n):vt(t)?gV(e,t):e}function Rh(e){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rh(e)}var RIe=["ref"];function yV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yV(Object(n),!0).forEach(function(r){n1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xse(r.key),r)}}function IIe(e,t,n){return t&&vV(e.prototype,t),n&&vV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function LIe(e,t,n){return t=Hj(t),$Ie(e,pse()?Reflect.construct(t,n||[],Hj(e).constructor):t.apply(e,n))}function $Ie(e,t){if(t&&(Rh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FIe(e)}function FIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pse=function(){return!!e})()}function Hj(e){return Hj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hj(e)}function BIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E4(e,t)}function E4(e,t){return E4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},E4(e,t)}function n1(e,t,n){return t=xse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xse(e){var t=zIe(e,"string");return Rh(t)=="symbol"?t:t+""}function zIe(e,t){if(Rh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function qIe(e,t){if(e==null)return{};var n=UIe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function UIe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function VIe(e){return e.value}function HIe(e,t){if(Z.isValidElement(e))return Z.cloneElement(e,t);if(typeof e=="function")return Z.createElement(e,t);t.ref;var n=qIe(t,RIe);return Z.createElement(W5,n)}var bV=1,su=(function(e){function t(){var n;DIe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=LIe(this,t,[].concat(a)),n1(n,"lastBoundingBox",{width:-1,height:-1}),n}return BIe(t,e),IIe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>bV||Math.abs(a.height-this.lastBoundingBox.height)>bV)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?gl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,f=a.chartHeight,m,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var g=this.getBBoxSnapshot();m={left:((u||0)-g.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();p={top:((f||0)-v.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return gl(gl({},m),p)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,m=gl(gl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Z.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(g){r.wrapperNode=g}},HIe(i,gl(gl({},this.props),{},{payload:mse(f,u,VIe)})))}}],[{key:"getWithHeight",value:function(r,a){var i=gl(gl({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&$e(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}])})(j.PureComponent);n1(su,"displayName","Legend");n1(su,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var YA,jV;function KIe(){if(jV)return YA;jV=1;var e=by(),t=Y5(),n=xa(),r=e?e.isConcatSpreadable:void 0;function a(i){return n(i)||t(i)||!!(r&&i&&i[r])}return YA=a,YA}var XA,wV;function gse(){if(wV)return XA;wV=1;var e=ase(),t=KIe();function n(r,a,i,o,l){var c=-1,u=r.length;for(i||(i=t),l||(l=[]);++c<u;){var f=r[c];a>0&&i(f)?a>1?n(f,a-1,i,o,l):e(l,f):o||(l[l.length]=f)}return l}return XA=n,XA}var QA,NV;function WIe(){if(NV)return QA;NV=1;function e(t){return function(n,r,a){for(var i=-1,o=Object(n),l=a(n),c=l.length;c--;){var u=l[t?c:++i];if(r(o[u],u,o)===!1)break}return n}}return QA=e,QA}var JA,SV;function GIe(){if(SV)return JA;SV=1;var e=WIe(),t=e();return JA=t,JA}var ZA,CV;function yse(){if(CV)return ZA;CV=1;var e=GIe(),t=t1();function n(r,a){return r&&e(r,a,t)}return ZA=n,ZA}var eE,kV;function YIe(){if(kV)return eE;kV=1;var e=wy();function t(n,r){return function(a,i){if(a==null)return a;if(!e(a))return n(a,i);for(var o=a.length,l=r?o:-1,c=Object(a);(r?l--:++l<o)&&i(c[l],l,c)!==!1;);return a}}return eE=t,eE}var tE,TV;function Z5(){if(TV)return tE;TV=1;var e=yse(),t=YIe(),n=t(e);return tE=n,tE}var nE,AV;function vse(){if(AV)return nE;AV=1;var e=Z5(),t=wy();function n(r,a){var i=-1,o=t(r)?Array(r.length):[];return e(r,function(l,c,u){o[++i]=a(l,c,u)}),o}return nE=n,nE}var rE,EV;function XIe(){if(EV)return rE;EV=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return rE=e,rE}var sE,OV;function QIe(){if(OV)return sE;OV=1;var e=vm();function t(n,r){if(n!==r){var a=n!==void 0,i=n===null,o=n===n,l=e(n),c=r!==void 0,u=r===null,f=r===r,m=e(r);if(!u&&!m&&!l&&n>r||l&&c&&f&&!u&&!m||i&&c&&f||!a&&f||!o)return 1;if(!i&&!l&&!m&&n<r||m&&a&&o&&!i&&!l||u&&a&&o||!c&&o||!f)return-1}return 0}return sE=t,sE}var aE,PV;function JIe(){if(PV)return aE;PV=1;var e=QIe();function t(n,r,a){for(var i=-1,o=n.criteria,l=r.criteria,c=o.length,u=a.length;++i<c;){var f=e(o[i],l[i]);if(f){if(i>=u)return f;var m=a[i];return f*(m=="desc"?-1:1)}}return n.index-r.index}return aE=t,aE}var iE,MV;function ZIe(){if(MV)return iE;MV=1;var e=F5(),t=B5(),n=Ho(),r=vse(),a=XIe(),i=ose(),o=JIe(),l=wm(),c=xa();function u(f,m,p){m.length?m=e(m,function(y){return c(y)?function(w){return t(w,y.length===1?y[0]:y)}:y}):m=[l];var g=-1;m=e(m,i(n));var v=r(f,function(y,w,N){var A=e(m,function(T){return T(y)});return{criteria:A,index:++g,value:y}});return a(v,function(y,w){return o(y,w,p)})}return iE=u,iE}var oE,_V;function eLe(){if(_V)return oE;_V=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return oE=e,oE}var lE,RV;function tLe(){if(RV)return lE;RV=1;var e=eLe(),t=Math.max;function n(r,a,i){return a=t(a===void 0?r.length-1:a,0),function(){for(var o=arguments,l=-1,c=t(o.length-a,0),u=Array(c);++l<c;)u[l]=o[a+l];l=-1;for(var f=Array(a+1);++l<a;)f[l]=o[l];return f[a]=i(u),e(r,this,f)}}return lE=n,lE}var cE,DV;function nLe(){if(DV)return cE;DV=1;function e(t){return function(){return t}}return cE=e,cE}var dE,IV;function bse(){if(IV)return dE;IV=1;var e=$u(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return dE=t,dE}var uE,LV;function rLe(){if(LV)return uE;LV=1;var e=nLe(),t=bse(),n=wm(),r=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:n;return uE=r,uE}var fE,$V;function sLe(){if($V)return fE;$V=1;var e=800,t=16,n=Date.now;function r(a){var i=0,o=0;return function(){var l=n(),c=t-(l-o);if(o=l,c>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return fE=r,fE}var hE,FV;function aLe(){if(FV)return hE;FV=1;var e=rLe(),t=sLe(),n=t(e);return hE=n,hE}var mE,BV;function iLe(){if(BV)return mE;BV=1;var e=wm(),t=tLe(),n=aLe();function r(a,i){return n(t(a,i,e),a+"")}return mE=r,mE}var pE,zV;function r1(){if(zV)return pE;zV=1;var e=I5(),t=wy(),n=X5(),r=ld();function a(i,o,l){if(!r(l))return!1;var c=typeof o;return(c=="number"?t(l)&&n(o,l.length):c=="string"&&o in l)?e(l[o],i):!1}return pE=a,pE}var xE,qV;function oLe(){if(qV)return xE;qV=1;var e=gse(),t=ZIe(),n=iLe(),r=r1(),a=n(function(i,o){if(i==null)return[];var l=o.length;return l>1&&r(i,o[0],o[1])?o=[]:l>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return xE=a,xE}var lLe=oLe();const e3=on(lLe);function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function O4(){return O4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O4.apply(this,arguments)}function cLe(e,t){return hLe(e)||fLe(e,t)||uLe(e,t)||dLe()}function dLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uLe(e,t){if(e){if(typeof e=="string")return UV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UV(e,t)}}function UV(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fLe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function hLe(e){if(Array.isArray(e))return e}function VV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VV(Object(n),!0).forEach(function(r){mLe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mLe(e,t,n){return t=pLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pLe(e){var t=xLe(e,"string");return mg(t)=="symbol"?t:t+""}function xLe(e,t){if(mg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gLe(e){return Array.isArray(e)&&Ur(e[0])&&Ur(e[1])?e.join(" ~ "):e}var yLe=function(t){var n=t.separator,r=n===void 0?" : ":n,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,m=t.formatter,p=t.itemSorter,g=t.wrapperClassName,v=t.labelClassName,y=t.label,w=t.labelFormatter,N=t.accessibilityLayer,A=N===void 0?!1:N,T=function(){if(f&&f.length){var V={padding:0,margin:0},I=(p?e3(f,p):f).map(function(F,K){if(F.type==="none")return null;var R=gE({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},l),B=F.formatter||m||gLe,L=F.value,q=F.name,se=L,H=q;if(B&&se!=null&&H!=null){var Y=B(L,q,F,K,f);if(Array.isArray(Y)){var G=cLe(Y,2);se=G[0],H=G[1]}else se=Y}return Z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:R},Ur(H)?Z.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Ur(H)?Z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Z.createElement("span",{className:"recharts-tooltip-item-value"},se),Z.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return Z.createElement("ul",{className:"recharts-tooltip-item-list",style:V},I)}return null},C=gE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=gE({margin:0},u),E=!Nt(y),O=E?y:"",_=Ct("recharts-default-tooltip",g),M=Ct("recharts-tooltip-label",v);E&&w&&f!==void 0&&f!==null&&(O=w(y,f));var $=A?{role:"status","aria-live":"assertive"}:{};return Z.createElement("div",O4({className:_,style:C},$),Z.createElement("p",{className:M,style:S},Z.isValidElement(O)?O:"".concat(O)),T())};function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}function Pb(e,t,n){return t=vLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vLe(e){var t=bLe(e,"string");return pg(t)=="symbol"?t:t+""}function bLe(e,t){if(pg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bp="recharts-tooltip-wrapper",jLe={visibility:"hidden"};function wLe(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Ct(Bp,Pb(Pb(Pb(Pb({},"".concat(Bp,"-right"),$e(n)&&t&&$e(t.x)&&n>=t.x),"".concat(Bp,"-left"),$e(n)&&t&&$e(t.x)&&n<t.x),"".concat(Bp,"-bottom"),$e(r)&&t&&$e(t.y)&&r>=t.y),"".concat(Bp,"-top"),$e(r)&&t&&$e(t.y)&&r<t.y))}function HV(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&$e(i[r]))return i[r];var f=n[r]-l-a,m=n[r]+a;if(t[r])return o[r]?f:m;if(o[r]){var p=f,g=c[r];return p<g?Math.max(m,c[r]):Math.max(f,c[r])}var v=m+l,y=c[r]+u;return v>y?Math.max(f,c[r]):Math.max(m,c[r])}function NLe(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function SLe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,m;return o.height>0&&o.width>0&&n?(f=HV({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=HV({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=NLe({translateX:f,translateY:m,useTranslate3d:l})):u=jLe,{cssProperties:u,cssClasses:wLe({translateX:f,translateY:m,coordinate:n})}}function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}function KV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function WV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KV(Object(n),!0).forEach(function(r){M4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kLe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wse(r.key),r)}}function TLe(e,t,n){return t&&kLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ALe(e,t,n){return t=Kj(t),ELe(e,jse()?Reflect.construct(t,n||[],Kj(e).constructor):t.apply(e,n))}function ELe(e,t){if(t&&(Dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OLe(e)}function OLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jse=function(){return!!e})()}function Kj(e){return Kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kj(e)}function PLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P4(e,t)}function P4(e,t){return P4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},P4(e,t)}function M4(e,t,n){return t=wse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wse(e){var t=MLe(e,"string");return Dh(t)=="symbol"?t:t+""}function MLe(e,t){if(Dh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GV=1,_Le=(function(e){function t(){var n;CLe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ALe(this,t,[].concat(a)),M4(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),M4(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return PLe(t,e),TLe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>GV||Math.abs(r.height-this.state.lastBoundingBox.height)>GV)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,f=a.coordinate,m=a.hasPayload,p=a.isAnimationActive,g=a.offset,v=a.position,y=a.reverseDirection,w=a.useTranslate3d,N=a.viewBox,A=a.wrapperStyle,T=SLe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:g,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:N}),C=T.cssClasses,S=T.cssProperties,E=WV(WV({transition:p&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},A);return Z.createElement("div",{tabIndex:-1,className:C,style:E,ref:function(_){r.wrapperNode=_}},u)}}])})(j.PureComponent),RLe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fu={isSsr:RLe()};function Ih(e){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ih(e)}function YV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function XV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YV(Object(n),!0).forEach(function(r){t3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ILe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sse(r.key),r)}}function LLe(e,t,n){return t&&ILe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Le(e,t,n){return t=Wj(t),FLe(e,Nse()?Reflect.construct(t,n||[],Wj(e).constructor):t.apply(e,n))}function FLe(e,t){if(t&&(Ih(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BLe(e)}function BLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nse=function(){return!!e})()}function Wj(e){return Wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wj(e)}function zLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_4(e,t)}function _4(e,t){return _4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},_4(e,t)}function t3(e,t,n){return t=Sse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sse(e){var t=qLe(e,"string");return Ih(t)=="symbol"?t:t+""}function qLe(e,t){if(Ih(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ULe(e){return e.dataKey}function VLe(e,t){return Z.isValidElement(e)?Z.cloneElement(e,t):typeof e=="function"?Z.createElement(e,t):Z.createElement(yLe,t)}var Aa=(function(e){function t(){return DLe(this,t),$Le(this,t,arguments)}return zLe(t,e),LLe(t,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,f=a.coordinate,m=a.filterNull,p=a.isAnimationActive,g=a.offset,v=a.payload,y=a.payloadUniqBy,w=a.position,N=a.reverseDirection,A=a.useTranslate3d,T=a.viewBox,C=a.wrapperStyle,S=v??[];m&&S.length&&(S=mse(v.filter(function(O){return O.value!=null&&(O.hide!==!0||r.props.includeHidden)}),y,ULe));var E=S.length>0;return Z.createElement(_Le,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:i,coordinate:f,hasPayload:E,offset:g,position:w,reverseDirection:N,useTranslate3d:A,viewBox:T,wrapperStyle:C},VLe(u,XV(XV({},this.props),{},{payload:S})))}}])})(j.PureComponent);t3(Aa,"displayName","Tooltip");t3(Aa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var yE,QV;function HLe(){if(QV)return yE;QV=1;var e=Vo(),t=function(){return e.Date.now()};return yE=t,yE}var vE,JV;function KLe(){if(JV)return vE;JV=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return vE=t,vE}var bE,ZV;function WLe(){if(ZV)return bE;ZV=1;var e=KLe(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return bE=n,bE}var jE,eH;function Cse(){if(eH)return jE;eH=1;var e=WLe(),t=ld(),n=vm(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=t(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=e(u);var m=i.test(u);return m||o.test(u)?l(u.slice(2),m?2:8):a.test(u)?r:+u}return jE=c,jE}var wE,tH;function GLe(){if(tH)return wE;tH=1;var e=ld(),t=HLe(),n=Cse(),r="Expected a function",a=Math.max,i=Math.min;function o(l,c,u){var f,m,p,g,v,y,w=0,N=!1,A=!1,T=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,e(u)&&(N=!!u.leading,A="maxWait"in u,p=A?a(n(u.maxWait)||0,c):p,T="trailing"in u?!!u.trailing:T);function C(I){var F=f,K=m;return f=m=void 0,w=I,g=l.apply(K,F),g}function S(I){return w=I,v=setTimeout(_,c),N?C(I):g}function E(I){var F=I-y,K=I-w,R=c-F;return A?i(R,p-K):R}function O(I){var F=I-y,K=I-w;return y===void 0||F>=c||F<0||A&&K>=p}function _(){var I=t();if(O(I))return M(I);v=setTimeout(_,E(I))}function M(I){return v=void 0,T&&f?C(I):(f=m=void 0,g)}function $(){v!==void 0&&clearTimeout(v),w=0,f=y=m=v=void 0}function z(){return v===void 0?g:M(t())}function V(){var I=t(),F=O(I);if(f=arguments,m=this,y=I,F){if(v===void 0)return S(y);if(A)return clearTimeout(v),v=setTimeout(_,c),C(y)}return v===void 0&&(v=setTimeout(_,c)),g}return V.cancel=$,V.flush=z,V}return wE=o,wE}var NE,nH;function YLe(){if(nH)return NE;nH=1;var e=GLe(),t=ld(),n="Expected a function";function r(a,i,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(n);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),e(a,i,{leading:l,maxWait:i,trailing:c})}return NE=r,NE}var XLe=YLe();const kse=on(XLe);function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function rH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rH(Object(n),!0).forEach(function(r){QLe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QLe(e,t,n){return t=JLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JLe(e){var t=ZLe(e,"string");return xg(t)=="symbol"?t:t+""}function ZLe(e,t){if(xg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e$e(e,t){return s$e(e)||r$e(e,t)||n$e(e,t)||t$e()}function t$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n$e(e,t){if(e){if(typeof e=="string")return sH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sH(e,t)}}function sH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r$e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function s$e(e){if(Array.isArray(e))return e}var s1=j.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,m=e.minHeight,p=e.maxHeight,g=e.children,v=e.debounce,y=v===void 0?0:v,w=e.id,N=e.className,A=e.onResize,T=e.style,C=T===void 0?{}:T,S=j.useRef(null),E=j.useRef();E.current=A,j.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var O=j.useState({containerWidth:a.width,containerHeight:a.height}),_=e$e(O,2),M=_[0],$=_[1],z=j.useCallback(function(I,F){$(function(K){var R=Math.round(I),B=Math.round(F);return K.containerWidth===R&&K.containerHeight===B?K:{containerWidth:R,containerHeight:B}})},[]);j.useEffect(function(){var I=function(q){var se,H=q[0].contentRect,Y=H.width,G=H.height;z(Y,G),(se=E.current)===null||se===void 0||se.call(E,Y,G)};y>0&&(I=kse(I,y,{trailing:!0,leading:!1}));var F=new ResizeObserver(I),K=S.current.getBoundingClientRect(),R=K.width,B=K.height;return z(R,B),F.observe(S.current),function(){F.disconnect()}},[z,y]);var V=j.useMemo(function(){var I=M.containerWidth,F=M.containerHeight;if(I<0||F<0)return null;Xi(Wd(o)||Wd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Xi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var K=Wd(o)?I:o,R=Wd(c)?F:c;n&&n>0&&(K?R=K/n:R&&(K=R*n),p&&R>p&&(R=p)),Xi(K>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,R,o,c,f,m,n);var B=!Array.isArray(g)&&_l(g.type).endsWith("Chart");return Z.Children.map(g,function(L){return Z.isValidElement(L)?j.cloneElement(L,Mb({width:K,height:R},B?{style:Mb({height:"100%",width:"100%",maxHeight:R,maxWidth:K},L.props.style)}:{})):L})},[n,g,c,p,m,f,M,o]);return Z.createElement("div",{id:w?"".concat(w):void 0,className:Ct("recharts-responsive-container",N),style:Mb(Mb({},C),{},{width:o,height:c,minWidth:f,minHeight:m,maxHeight:p}),ref:S},V)}),a1=function(t){return null};a1.displayName="Cell";function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}function aH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function R4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aH(Object(n),!0).forEach(function(r){a$e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a$e(e,t,n){return t=i$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i$e(e){var t=o$e(e,"string");return gg(t)=="symbol"?t:t+""}function o$e(e,t){if(gg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _f={widthCache:{},cacheCount:0},l$e=2e3,c$e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iH="recharts_measurement_span";function d$e(e){var t=R4({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var _x=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Fu.isSsr)return{width:0,height:0};var r=d$e(n),a=JSON.stringify({text:t,copyStyle:r});if(_f.widthCache[a])return _f.widthCache[a];try{var i=document.getElementById(iH);i||(i=document.createElement("span"),i.setAttribute("id",iH),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=R4(R4({},c$e),r);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return _f.widthCache[a]=c,++_f.cacheCount>l$e&&(_f.cacheCount=0,_f.widthCache={}),c}catch{return{width:0,height:0}}},u$e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function Gj(e,t){return p$e(e)||m$e(e,t)||h$e(e,t)||f$e()}function f$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h$e(e,t){if(e){if(typeof e=="string")return oH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oH(e,t)}}function oH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m$e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function p$e(e){if(Array.isArray(e))return e}function x$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y$e(r.key),r)}}function g$e(e,t,n){return t&&lH(e.prototype,t),n&&lH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y$e(e){var t=v$e(e,"string");return yg(t)=="symbol"?t:t+""}function v$e(e,t){if(yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,b$e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,j$e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Tse={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},w$e=Object.keys(Tse),Gf="NaN";function N$e(e,t){return e*Tse[t]}var _b=(function(){function e(t,n){x$e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!b$e.test(n)&&(this.num=NaN,this.unit=""),w$e.includes(n)&&(this.num=N$e(t,n),this.unit="px")}return g$e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=j$e.exec(n))!==null&&r!==void 0?r:[],i=Gj(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])})();function Ase(e){if(e.includes(Gf))return Gf;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=cH.exec(t))!==null&&n!==void 0?n:[],a=Gj(r,4),i=a[1],o=a[2],l=a[3],c=_b.parse(i??""),u=_b.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Gf;t=t.replace(cH,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,p=(m=dH.exec(t))!==null&&m!==void 0?m:[],g=Gj(p,4),v=g[1],y=g[2],w=g[3],N=_b.parse(v??""),A=_b.parse(w??""),T=y==="+"?N.add(A):N.subtract(A);if(T.isNaN())return Gf;t=t.replace(dH,T.toString())}return t}var uH=/\(([^()]*)\)/;function S$e(e){for(var t=e;t.includes("(");){var n=uH.exec(t),r=Gj(n,2),a=r[1];t=t.replace(uH,Ase(a))}return t}function C$e(e){var t=e.replace(/\s+/g,"");return t=S$e(t),t=Ase(t),t}function k$e(e){try{return C$e(e)}catch{return Gf}}function SE(e){var t=k$e(e.slice(5,-1));return t===Gf?"":t}var T$e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],A$e=["dx","dy","angle","className","breakAll"];function D4(){return D4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D4.apply(this,arguments)}function fH(e,t){if(e==null)return{};var n=E$e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function E$e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function hH(e,t){return _$e(e)||M$e(e,t)||P$e(e,t)||O$e()}function O$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P$e(e,t){if(e){if(typeof e=="string")return mH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mH(e,t)}}function mH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M$e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _$e(e){if(Array.isArray(e))return e}var Ese=/[ \f\n\r\t\v\u2028\u2029]+/,Ose=function(t){var n=t.children,r=t.breakAll,a=t.style;try{var i=[];Nt(n)||(r?i=n.toString().split(""):i=n.toString().split(Ese));var o=i.map(function(c){return{word:c,width:_x(c,a).width}}),l=r?0:_x("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},R$e=function(t,n,r,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=$e(o),m=l,p=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(R,B){var L=B.word,q=B.width,se=R[R.length-1];if(se&&(a==null||i||se.width+q+r<Number(a)))se.words.push(L),se.width+=q+r;else{var H={words:[L],width:q};R.push(H)}return R},[])},g=p(n),v=function(K){return K.reduce(function(R,B){return R.width>B.width?R:B})};if(!f)return g;for(var y="",w=function(K){var R=m.slice(0,K),B=Ose({breakAll:u,style:c,children:R+y}).wordsWithComputedWidth,L=p(B),q=L.length>o||v(L).width>Number(a);return[q,L]},N=0,A=m.length-1,T=0,C;N<=A&&T<=m.length-1;){var S=Math.floor((N+A)/2),E=S-1,O=w(E),_=hH(O,2),M=_[0],$=_[1],z=w(S),V=hH(z,1),I=V[0];if(!M&&!I&&(N=S+1),M&&I&&(A=S-1),!M&&I){C=$;break}T++}return C||g},pH=function(t){var n=Nt(t)?[]:t.toString().split(Ese);return[{words:n}]},D$e=function(t){var n=t.width,r=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!Fu.isSsr){var c,u,f=Ose({breakAll:o,children:a,style:i});if(f){var m=f.wordsWithComputedWidth,p=f.spaceWidth;c=m,u=p}else return pH(a);return R$e({breakAll:o,children:a,maxLines:l,style:i},c,u,n,r)}return pH(a)},xH="#808080",Su=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,m=f===void 0?!1:f,p=t.textAnchor,g=p===void 0?"start":p,v=t.verticalAnchor,y=v===void 0?"end":v,w=t.fill,N=w===void 0?xH:w,A=fH(t,T$e),T=j.useMemo(function(){return D$e({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:m,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,m,A.style,A.width]),C=A.dx,S=A.dy,E=A.angle,O=A.className,_=A.breakAll,M=fH(A,A$e);if(!Ur(r)||!Ur(i))return null;var $=r+($e(C)?C:0),z=i+($e(S)?S:0),V;switch(y){case"start":V=SE("calc(".concat(u,")"));break;case"middle":V=SE("calc(".concat((T.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:V=SE("calc(".concat(T.length-1," * -").concat(l,")"));break}var I=[];if(m){var F=T[0].width,K=A.width;I.push("scale(".concat(($e(K)?K/F:1)/F,")"))}return E&&I.push("rotate(".concat(E,", ").concat($,", ").concat(z,")")),I.length&&(M.transform=I.join(" ")),Z.createElement("text",D4({},at(M,!0),{x:$,y:z,className:Ct("recharts-text",O),textAnchor:g,fill:N.includes("url")?xH:N}),T.map(function(R,B){var L=R.words.join(_?"":" ");return Z.createElement("tspan",{x:$,dy:B===0?V:l,key:"".concat(L,"-").concat(B)},L)}))};function Vc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function I$e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function n3(e){let t,n,r;e.length!==2?(t=Vc,n=(l,c)=>Vc(e(l),c),r=(l,c)=>e(l)-c):(t=e===Vc||e===I$e?e:L$e,n=e,r=e);function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const m=u+f>>>1;n(l[m],c)<0?u=m+1:f=m}while(u<f)}return u}function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const m=u+f>>>1;n(l[m],c)<=0?u=m+1:f=m}while(u<f)}return u}function o(l,c,u=0,f=l.length){const m=a(l,c,u,f-1);return m>u&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:a,center:o,right:i}}function L$e(){return 0}function Pse(e){return e===null?NaN:+e}function*$$e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const F$e=n3(Vc),Ny=F$e.right;n3(Pse).center;class gH extends Map{constructor(t,n=q$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(yH(this,t))}has(t){return super.has(yH(this,t))}set(t,n){return super.set(B$e(this,t),n)}delete(t){return super.delete(z$e(this,t))}}function yH({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function B$e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function z$e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function q$e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function U$e(e=Vc){if(e===Vc)return Mse;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Mse(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const V$e=Math.sqrt(50),H$e=Math.sqrt(10),K$e=Math.sqrt(2);function Yj(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=V$e?10:i>=H$e?5:i>=K$e?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?Yj(e,t,n*2):[l,c,u]}function I4(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?Yj(t,e,n):Yj(e,t,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function L4(e,t,n){return t=+t,e=+e,n=+n,Yj(e,t,n)[2]}function $4(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?L4(t,e,n):L4(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function vH(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function bH(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function _se(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?Mse:U$e(a);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,f=Math.log(c),m=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*m*(c-m)/c)*(u-c/2<0?-1:1),g=Math.max(n,Math.floor(t-u*m/c+p)),v=Math.min(r,Math.floor(t+(c-u)*m/c+p));_se(e,t,g,v,a)}const i=e[t];let o=n,l=r;for(zp(e,n,t),a(e[r],i)>0&&zp(e,n,r);o<l;){for(zp(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?zp(e,n,l):(++l,zp(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function zp(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function W$e(e,t,n){if(e=Float64Array.from($$e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return bH(e);if(t>=1)return vH(e);var r,a=(r-1)*t,i=Math.floor(a),o=vH(_se(e,i).subarray(0,i+1)),l=bH(e.subarray(i+1));return o+(l-o)*(a-i)}}function G$e(e,t,n=Pse){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Y$e(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Ci(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Yl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const F4=Symbol("implicit");function r3(){var e=new gH,t=[],n=[],r=F4;function a(i){let o=e.get(i);if(o===void 0){if(r!==F4)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new gH;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return r3(t,n).unknown(r)},Ci.apply(a,arguments),a}function vg(){var e=r3().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function m(){var p=t().length,g=a<r,v=g?a:r,y=g?r:a;i=(y-v)/Math.max(1,p-c+u*2),l&&(i=Math.floor(i)),v+=(y-v-i*(p-c))*f,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var w=Y$e(p).map(function(N){return v+i*N});return n(g?w.reverse():w)}return e.domain=function(p){return arguments.length?(t(p),m()):t()},e.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,m()):[r,a]},e.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,m()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),m()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),m()):c},e.paddingOuter=function(p){return arguments.length?(u=+p,m()):u},e.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),m()):f},e.copy=function(){return vg(t(),[r,a]).round(l).paddingInner(c).paddingOuter(u).align(f)},Ci.apply(m(),arguments)}function Rse(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Rse(t())},e}function Rx(){return Rse(vg.apply(null,arguments).paddingInner(1))}function s3(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Dse(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Sy(){}var bg=.7,Xj=1/bg,ch="\\s*([+-]?\\d+)\\s*",jg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Po="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",X$e=/^#([0-9a-f]{3,8})$/,Q$e=new RegExp(`^rgb\\(${ch},${ch},${ch}\\)$`),J$e=new RegExp(`^rgb\\(${Po},${Po},${Po}\\)$`),Z$e=new RegExp(`^rgba\\(${ch},${ch},${ch},${jg}\\)$`),eFe=new RegExp(`^rgba\\(${Po},${Po},${Po},${jg}\\)$`),tFe=new RegExp(`^hsl\\(${jg},${Po},${Po}\\)$`),nFe=new RegExp(`^hsla\\(${jg},${Po},${Po},${jg}\\)$`),jH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};s3(Sy,wg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wH,formatHex:wH,formatHex8:rFe,formatHsl:sFe,formatRgb:NH,toString:NH});function wH(){return this.rgb().formatHex()}function rFe(){return this.rgb().formatHex8()}function sFe(){return Ise(this).formatHsl()}function NH(){return this.rgb().formatRgb()}function wg(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=X$e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?SH(t):n===3?new ua(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Rb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Rb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Q$e.exec(e))?new ua(t[1],t[2],t[3],1):(t=J$e.exec(e))?new ua(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Z$e.exec(e))?Rb(t[1],t[2],t[3],t[4]):(t=eFe.exec(e))?Rb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=tFe.exec(e))?TH(t[1],t[2]/100,t[3]/100,1):(t=nFe.exec(e))?TH(t[1],t[2]/100,t[3]/100,t[4]):jH.hasOwnProperty(e)?SH(jH[e]):e==="transparent"?new ua(NaN,NaN,NaN,0):null}function SH(e){return new ua(e>>16&255,e>>8&255,e&255,1)}function Rb(e,t,n,r){return r<=0&&(e=t=n=NaN),new ua(e,t,n,r)}function aFe(e){return e instanceof Sy||(e=wg(e)),e?(e=e.rgb(),new ua(e.r,e.g,e.b,e.opacity)):new ua}function B4(e,t,n,r){return arguments.length===1?aFe(e):new ua(e,t,n,r??1)}function ua(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}s3(ua,B4,Dse(Sy,{brighter(e){return e=e==null?Xj:Math.pow(Xj,e),new ua(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bg:Math.pow(bg,e),new ua(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ua(au(this.r),au(this.g),au(this.b),Qj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CH,formatHex:CH,formatHex8:iFe,formatRgb:kH,toString:kH}));function CH(){return`#${Gd(this.r)}${Gd(this.g)}${Gd(this.b)}`}function iFe(){return`#${Gd(this.r)}${Gd(this.g)}${Gd(this.b)}${Gd((isNaN(this.opacity)?1:this.opacity)*255)}`}function kH(){const e=Qj(this.opacity);return`${e===1?"rgb(":"rgba("}${au(this.r)}, ${au(this.g)}, ${au(this.b)}${e===1?")":`, ${e})`}`}function Qj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function au(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gd(e){return e=au(e),(e<16?"0":"")+e.toString(16)}function TH(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new qi(e,t,n,r)}function Ise(e){if(e instanceof qi)return new qi(e.h,e.s,e.l,e.opacity);if(e instanceof Sy||(e=wg(e)),!e)return new qi;if(e instanceof qi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new qi(o,l,c,e.opacity)}function oFe(e,t,n,r){return arguments.length===1?Ise(e):new qi(e,t,n,r??1)}function qi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}s3(qi,oFe,Dse(Sy,{brighter(e){return e=e==null?Xj:Math.pow(Xj,e),new qi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bg:Math.pow(bg,e),new qi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new ua(CE(e>=240?e-240:e+120,a,r),CE(e,a,r),CE(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new qi(AH(this.h),Db(this.s),Db(this.l),Qj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qj(this.opacity);return`${e===1?"hsl(":"hsla("}${AH(this.h)}, ${Db(this.s)*100}%, ${Db(this.l)*100}%${e===1?")":`, ${e})`}`}}));function AH(e){return e=(e||0)%360,e<0?e+360:e}function Db(e){return Math.max(0,Math.min(1,e||0))}function CE(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const a3=e=>()=>e;function lFe(e,t){return function(n){return e+n*t}}function cFe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function dFe(e){return(e=+e)==1?Lse:function(t,n){return n-t?cFe(t,n,e):a3(isNaN(t)?n:t)}}function Lse(e,t){var n=t-e;return n?lFe(e,n):a3(isNaN(e)?t:e)}const EH=(function e(t){var n=dFe(t);function r(a,i){var o=n((a=B4(a)).r,(i=B4(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),u=Lse(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=c(f),a.opacity=u(f),a+""}}return r.gamma=e,r})(1);function uFe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function fFe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hFe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Nm(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}function mFe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Jj(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function pFe(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Nm(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var z4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kE=new RegExp(z4.source,"g");function xFe(e){return function(){return e}}function gFe(e){return function(t){return e(t)+""}}function yFe(e,t){var n=z4.lastIndex=kE.lastIndex=0,r,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=z4.exec(e))&&(a=kE.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Jj(r,a)})),n=kE.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?gFe(c[0].x):xFe(t):(t=c.length,function(u){for(var f=0,m;f<t;++f)l[(m=c[f]).i]=m.x(u);return l.join("")})}function Nm(e,t){var n=typeof t,r;return t==null||n==="boolean"?a3(t):(n==="number"?Jj:n==="string"?(r=wg(t))?(t=r,EH):yFe:t instanceof wg?EH:t instanceof Date?mFe:fFe(t)?uFe:Array.isArray(t)?hFe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pFe:Jj)(e,t)}function i3(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function vFe(e,t){t===void 0&&(t=e,e=Nm);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function bFe(e){return function(){return e}}function Zj(e){return+e}var OH=[0,1];function Us(e){return e}function q4(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:bFe(isNaN(t)?NaN:.5)}function jFe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function wFe(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=q4(a,r),i=n(o,i)):(r=q4(r,a),i=n(i,o)),function(l){return i(r(l))}}function NFe(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=q4(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=Ny(e,l,1,r)-1;return i[c](a[c](l))}}function Cy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function i1(){var e=OH,t=OH,n=Nm,r,a,i,o=Us,l,c,u;function f(){var p=Math.min(e.length,t.length);return o!==Us&&(o=jFe(e[0],e[p-1])),l=p>2?NFe:wFe,c=u=null,m}function m(p){return p==null||isNaN(p=+p)?i:(c||(c=l(e.map(r),t,n)))(r(o(p)))}return m.invert=function(p){return o(a((u||(u=l(t,e.map(r),Jj)))(p)))},m.domain=function(p){return arguments.length?(e=Array.from(p,Zj),f()):e.slice()},m.range=function(p){return arguments.length?(t=Array.from(p),f()):t.slice()},m.rangeRound=function(p){return t=Array.from(p),n=i3,f()},m.clamp=function(p){return arguments.length?(o=p?!0:Us,f()):o!==Us},m.interpolate=function(p){return arguments.length?(n=p,f()):n},m.unknown=function(p){return arguments.length?(i=p,m):i},function(p,g){return r=p,a=g,f()}}function o3(){return i1()(Us,Us)}function SFe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ew(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Lh(e){return e=ew(Math.abs(e)),e?e[1]:NaN}function CFe(e,t){return function(n,r){for(var a=n.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function kFe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var TFe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ng(e){if(!(t=TFe.exec(e)))throw new Error("invalid format: "+e);var t;return new l3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ng.prototype=l3.prototype;function l3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}l3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function AFe(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var $se;function EFe(e,t){var n=ew(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-($se=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ew(e,Math.max(0,t+i-1))[0]}function PH(e,t){var n=ew(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const MH={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:SFe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>PH(e*100,t),r:PH,s:EFe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _H(e){return e}var RH=Array.prototype.map,DH=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function OFe(e){var t=e.grouping===void 0||e.thousands===void 0?_H:CFe(RH.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?_H:kFe(RH.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(m){m=Ng(m);var p=m.fill,g=m.align,v=m.sign,y=m.symbol,w=m.zero,N=m.width,A=m.comma,T=m.precision,C=m.trim,S=m.type;S==="n"?(A=!0,S="g"):MH[S]||(T===void 0&&(T=12),C=!0,S="g"),(w||p==="0"&&g==="=")&&(w=!0,p="0",g="=");var E=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",O=y==="$"?r:/[%p]/.test(S)?o:"",_=MH[S],M=/[defgprs%]/.test(S);T=T===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function $(z){var V=E,I=O,F,K,R;if(S==="c")I=_(z)+I,z="";else{z=+z;var B=z<0||1/z<0;if(z=isNaN(z)?c:_(Math.abs(z),T),C&&(z=AFe(z)),B&&+z==0&&v!=="+"&&(B=!1),V=(B?v==="("?v:l:v==="-"||v==="("?"":v)+V,I=(S==="s"?DH[8+$se/3]:"")+I+(B&&v==="("?")":""),M){for(F=-1,K=z.length;++F<K;)if(R=z.charCodeAt(F),48>R||R>57){I=(R===46?a+z.slice(F+1):z.slice(F))+I,z=z.slice(0,F);break}}}A&&!w&&(z=t(z,1/0));var L=V.length+z.length+I.length,q=L<N?new Array(N-L+1).join(p):"";switch(A&&w&&(z=t(q+z,q.length?N-I.length:1/0),q=""),g){case"<":z=V+z+I+q;break;case"=":z=V+q+z+I;break;case"^":z=q.slice(0,L=q.length>>1)+V+z+I+q.slice(L);break;default:z=q+V+z+I;break}return i(z)}return $.toString=function(){return m+""},$}function f(m,p){var g=u((m=Ng(m),m.type="f",m)),v=Math.max(-8,Math.min(8,Math.floor(Lh(p)/3)))*3,y=Math.pow(10,-v),w=DH[8+v/3];return function(N){return g(y*N)+w}}return{format:u,formatPrefix:f}}var Ib,c3,Fse;PFe({thousands:",",grouping:[3],currency:["$",""]});function PFe(e){return Ib=OFe(e),c3=Ib.format,Fse=Ib.formatPrefix,Ib}function MFe(e){return Math.max(0,-Lh(Math.abs(e)))}function _Fe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Lh(t)/3)))*3-Lh(Math.abs(e)))}function RFe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Lh(t)-Lh(e))+1}function Bse(e,t,n,r){var a=$4(e,t,n),i;switch(r=Ng(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=_Fe(a,o))&&(r.precision=i),Fse(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=RFe(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=MFe(a))&&(r.precision=i-(r.type==="%")*2);break}}return c3(r)}function cd(e){var t=e.domain;return e.ticks=function(n){var r=t();return I4(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return Bse(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],l=r[i],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);f-- >0;){if(u=L4(o,l,n),u===c)return r[a]=o,r[i]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function tw(){var e=o3();return e.copy=function(){return Cy(e,tw())},Ci.apply(e,arguments),cd(e)}function zse(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Zj),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return zse(e).unknown(t)},e=arguments.length?Array.from(e,Zj):[0,1],cd(n)}function qse(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function IH(e){return Math.log(e)}function LH(e){return Math.exp(e)}function DFe(e){return-Math.log(-e)}function IFe(e){return-Math.exp(-e)}function LFe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $Fe(e){return e===10?LFe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function FFe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $H(e){return(t,n)=>-e(-t,n)}function d3(e){const t=e(IH,LH),n=t.domain;let r=10,a,i;function o(){return a=FFe(r),i=$Fe(r),n()[0]<0?(a=$H(a),i=$H(i),e(DFe,IFe)):e(IH,LH),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],f=c[c.length-1];const m=f<u;m&&([u,f]=[f,u]);let p=a(u),g=a(f),v,y;const w=l==null?10:+l;let N=[];if(!(r%1)&&g-p<w){if(p=Math.floor(p),g=Math.ceil(g),u>0){for(;p<=g;++p)for(v=1;v<r;++v)if(y=p<0?v/i(-p):v*i(p),!(y<u)){if(y>f)break;N.push(y)}}else for(;p<=g;++p)for(v=r-1;v>=1;--v)if(y=p>0?v/i(-p):v*i(p),!(y<u)){if(y>f)break;N.push(y)}N.length*2<w&&(N=I4(u,f,w))}else N=I4(p,g,Math.min(g-p,w)).map(i);return m?N.reverse():N},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Ng(c)).precision==null&&(c.trim=!0),c=c3(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return f=>{let m=f/i(Math.round(a(f)));return m*r<r-.5&&(m*=r),m<=u?c(f):""}},t.nice=()=>n(qse(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function Use(){const e=d3(i1()).domain([1,10]);return e.copy=()=>Cy(e,Use()).base(e.base()),Ci.apply(e,arguments),e}function FH(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function BH(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function u3(e){var t=1,n=e(FH(t),BH(t));return n.constant=function(r){return arguments.length?e(FH(t=+r),BH(t)):t},cd(n)}function Vse(){var e=u3(i1());return e.copy=function(){return Cy(e,Vse()).constant(e.constant())},Ci.apply(e,arguments)}function zH(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function BFe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zFe(e){return e<0?-e*e:e*e}function f3(e){var t=e(Us,Us),n=1;function r(){return n===1?e(Us,Us):n===.5?e(BFe,zFe):e(zH(n),zH(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},cd(t)}function h3(){var e=f3(i1());return e.copy=function(){return Cy(e,h3()).exponent(e.exponent())},Ci.apply(e,arguments),e}function qFe(){return h3.apply(null,arguments).exponent(.5)}function qH(e){return Math.sign(e)*e*e}function UFe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Hse(){var e=o3(),t=[0,1],n=!1,r;function a(i){var o=UFe(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(qH(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Zj)).map(qH)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Hse(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ci.apply(a,arguments),cd(a)}function Kse(){var e=[],t=[],n=[],r;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=G$e(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:t[Ny(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Vc),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return Kse().domain(e).range(t).unknown(r)},Ci.apply(i,arguments)}function Wse(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Ny(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Wse().domain([e,t]).range(a).unknown(i)},Ci.apply(cd(o),arguments)}function Gse(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[Ny(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Gse().domain(e).range(t).unknown(n)},Ci.apply(a,arguments)}const TE=new Date,AE=new Date;function Hr(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Hr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(TE.setTime(+i),AE.setTime(+o),e(TE),e(AE),Math.floor(n(TE,AE))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const nw=Hr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);nw.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Hr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):nw);nw.range;const Tl=1e3,xi=Tl*60,Al=xi*60,Fl=Al*24,m3=Fl*7,UH=Fl*30,EE=Fl*365,Yd=Hr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Tl)},(e,t)=>(t-e)/Tl,e=>e.getUTCSeconds());Yd.range;const p3=Hr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tl)},(e,t)=>{e.setTime(+e+t*xi)},(e,t)=>(t-e)/xi,e=>e.getMinutes());p3.range;const x3=Hr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xi)},(e,t)=>(t-e)/xi,e=>e.getUTCMinutes());x3.range;const g3=Hr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tl-e.getMinutes()*xi)},(e,t)=>{e.setTime(+e+t*Al)},(e,t)=>(t-e)/Al,e=>e.getHours());g3.range;const y3=Hr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Al)},(e,t)=>(t-e)/Al,e=>e.getUTCHours());y3.range;const ky=Hr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xi)/Fl,e=>e.getDate()-1);ky.range;const o1=Hr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fl,e=>e.getUTCDate()-1);o1.range;const Yse=Hr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fl,e=>Math.floor(e/Fl));Yse.range;function Bu(e){return Hr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*xi)/m3)}const l1=Bu(0),rw=Bu(1),VFe=Bu(2),HFe=Bu(3),$h=Bu(4),KFe=Bu(5),WFe=Bu(6);l1.range;rw.range;VFe.range;HFe.range;$h.range;KFe.range;WFe.range;function zu(e){return Hr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/m3)}const c1=zu(0),sw=zu(1),GFe=zu(2),YFe=zu(3),Fh=zu(4),XFe=zu(5),QFe=zu(6);c1.range;sw.range;GFe.range;YFe.range;Fh.range;XFe.range;QFe.range;const v3=Hr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());v3.range;const b3=Hr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());b3.range;const Bl=Hr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Bl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Bl.range;const zl=Hr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});zl.range;function Xse(e,t,n,r,a,i){const o=[[Yd,1,Tl],[Yd,5,5*Tl],[Yd,15,15*Tl],[Yd,30,30*Tl],[i,1,xi],[i,5,5*xi],[i,15,15*xi],[i,30,30*xi],[a,1,Al],[a,3,3*Al],[a,6,6*Al],[a,12,12*Al],[r,1,Fl],[r,2,2*Fl],[n,1,m3],[t,1,UH],[t,3,3*UH],[e,1,EE]];function l(u,f,m){const p=f<u;p&&([u,f]=[f,u]);const g=m&&typeof m.range=="function"?m:c(u,f,m),v=g?g.range(u,+f+1):[];return p?v.reverse():v}function c(u,f,m){const p=Math.abs(f-u)/m,g=n3(([,,w])=>w).right(o,p);if(g===o.length)return e.every($4(u/EE,f/EE,m));if(g===0)return nw.every(Math.max($4(u,f,m),1));const[v,y]=o[p/o[g-1][2]<o[g][2]/p?g-1:g];return v.every(y)}return[l,c]}const[JFe,ZFe]=Xse(zl,b3,c1,Yse,y3,x3),[e6e,t6e]=Xse(Bl,v3,l1,ky,g3,p3);function OE(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function PE(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function qp(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function n6e(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Up(a),f=Vp(a),m=Up(i),p=Vp(i),g=Up(o),v=Vp(o),y=Up(l),w=Vp(l),N=Up(c),A=Vp(c),T={a:B,A:L,b:q,B:se,c:null,d:YH,e:YH,f:C6e,g:D6e,G:L6e,H:w6e,I:N6e,j:S6e,L:Qse,m:k6e,M:T6e,p:H,q:Y,Q:JH,s:ZH,S:A6e,u:E6e,U:O6e,V:P6e,w:M6e,W:_6e,x:null,X:null,y:R6e,Y:I6e,Z:$6e,"%":QH},C={a:G,A:X,b:ae,B:de,c:null,d:XH,e:XH,f:q6e,g:J6e,G:eBe,H:F6e,I:B6e,j:z6e,L:Zse,m:U6e,M:V6e,p:he,q:Fe,Q:JH,s:ZH,S:H6e,u:K6e,U:W6e,V:G6e,w:Y6e,W:X6e,x:null,X:null,y:Q6e,Y:Z6e,Z:tBe,"%":QH},S={a:$,A:z,b:V,B:I,c:F,d:WH,e:WH,f:y6e,g:KH,G:HH,H:GH,I:GH,j:m6e,L:g6e,m:h6e,M:p6e,p:M,q:f6e,Q:b6e,s:j6e,S:x6e,u:o6e,U:l6e,V:c6e,w:i6e,W:d6e,x:K,X:R,y:KH,Y:HH,Z:u6e,"%":v6e};T.x=E(n,T),T.X=E(r,T),T.c=E(t,T),C.x=E(n,C),C.X=E(r,C),C.c=E(t,C);function E(ge,Ae){return function(_e){var ee=[],Le=-1,Ce=0,De=ge.length,We,nt,Et;for(_e instanceof Date||(_e=new Date(+_e));++Le<De;)ge.charCodeAt(Le)===37&&(ee.push(ge.slice(Ce,Le)),(nt=VH[We=ge.charAt(++Le)])!=null?We=ge.charAt(++Le):nt=We==="e"?" ":"0",(Et=Ae[We])&&(We=Et(_e,nt)),ee.push(We),Ce=Le+1);return ee.push(ge.slice(Ce,Le)),ee.join("")}}function O(ge,Ae){return function(_e){var ee=qp(1900,void 0,1),Le=_(ee,ge,_e+="",0),Ce,De;if(Le!=_e.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(Ae&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(Ce=PE(qp(ee.y,0,1)),De=Ce.getUTCDay(),Ce=De>4||De===0?sw.ceil(Ce):sw(Ce),Ce=o1.offset(Ce,(ee.V-1)*7),ee.y=Ce.getUTCFullYear(),ee.m=Ce.getUTCMonth(),ee.d=Ce.getUTCDate()+(ee.w+6)%7):(Ce=OE(qp(ee.y,0,1)),De=Ce.getDay(),Ce=De>4||De===0?rw.ceil(Ce):rw(Ce),Ce=ky.offset(Ce,(ee.V-1)*7),ee.y=Ce.getFullYear(),ee.m=Ce.getMonth(),ee.d=Ce.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),De="Z"in ee?PE(qp(ee.y,0,1)).getUTCDay():OE(qp(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(De+5)%7:ee.w+ee.U*7-(De+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,PE(ee)):OE(ee)}}function _(ge,Ae,_e,ee){for(var Le=0,Ce=Ae.length,De=_e.length,We,nt;Le<Ce;){if(ee>=De)return-1;if(We=Ae.charCodeAt(Le++),We===37){if(We=Ae.charAt(Le++),nt=S[We in VH?Ae.charAt(Le++):We],!nt||(ee=nt(ge,_e,ee))<0)return-1}else if(We!=_e.charCodeAt(ee++))return-1}return ee}function M(ge,Ae,_e){var ee=u.exec(Ae.slice(_e));return ee?(ge.p=f.get(ee[0].toLowerCase()),_e+ee[0].length):-1}function $(ge,Ae,_e){var ee=g.exec(Ae.slice(_e));return ee?(ge.w=v.get(ee[0].toLowerCase()),_e+ee[0].length):-1}function z(ge,Ae,_e){var ee=m.exec(Ae.slice(_e));return ee?(ge.w=p.get(ee[0].toLowerCase()),_e+ee[0].length):-1}function V(ge,Ae,_e){var ee=N.exec(Ae.slice(_e));return ee?(ge.m=A.get(ee[0].toLowerCase()),_e+ee[0].length):-1}function I(ge,Ae,_e){var ee=y.exec(Ae.slice(_e));return ee?(ge.m=w.get(ee[0].toLowerCase()),_e+ee[0].length):-1}function F(ge,Ae,_e){return _(ge,t,Ae,_e)}function K(ge,Ae,_e){return _(ge,n,Ae,_e)}function R(ge,Ae,_e){return _(ge,r,Ae,_e)}function B(ge){return o[ge.getDay()]}function L(ge){return i[ge.getDay()]}function q(ge){return c[ge.getMonth()]}function se(ge){return l[ge.getMonth()]}function H(ge){return a[+(ge.getHours()>=12)]}function Y(ge){return 1+~~(ge.getMonth()/3)}function G(ge){return o[ge.getUTCDay()]}function X(ge){return i[ge.getUTCDay()]}function ae(ge){return c[ge.getUTCMonth()]}function de(ge){return l[ge.getUTCMonth()]}function he(ge){return a[+(ge.getUTCHours()>=12)]}function Fe(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var Ae=E(ge+="",T);return Ae.toString=function(){return ge},Ae},parse:function(ge){var Ae=O(ge+="",!1);return Ae.toString=function(){return ge},Ae},utcFormat:function(ge){var Ae=E(ge+="",C);return Ae.toString=function(){return ge},Ae},utcParse:function(ge){var Ae=O(ge+="",!0);return Ae.toString=function(){return ge},Ae}}}var VH={"-":"",_:" ",0:"0"},is=/^\s*\d+/,r6e=/^%/,s6e=/[\\^$*+?|[\]().{}]/g;function en(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function a6e(e){return e.replace(s6e,"\\$&")}function Up(e){return new RegExp("^(?:"+e.map(a6e).join("|")+")","i")}function Vp(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function i6e(e,t,n){var r=is.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function o6e(e,t,n){var r=is.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function l6e(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function c6e(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function d6e(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function HH(e,t,n){var r=is.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function KH(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function u6e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function f6e(e,t,n){var r=is.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function h6e(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function WH(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function m6e(e,t,n){var r=is.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function GH(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function p6e(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function x6e(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function g6e(e,t,n){var r=is.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function y6e(e,t,n){var r=is.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function v6e(e,t,n){var r=r6e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function b6e(e,t,n){var r=is.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function j6e(e,t,n){var r=is.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function YH(e,t){return en(e.getDate(),t,2)}function w6e(e,t){return en(e.getHours(),t,2)}function N6e(e,t){return en(e.getHours()%12||12,t,2)}function S6e(e,t){return en(1+ky.count(Bl(e),e),t,3)}function Qse(e,t){return en(e.getMilliseconds(),t,3)}function C6e(e,t){return Qse(e,t)+"000"}function k6e(e,t){return en(e.getMonth()+1,t,2)}function T6e(e,t){return en(e.getMinutes(),t,2)}function A6e(e,t){return en(e.getSeconds(),t,2)}function E6e(e){var t=e.getDay();return t===0?7:t}function O6e(e,t){return en(l1.count(Bl(e)-1,e),t,2)}function Jse(e){var t=e.getDay();return t>=4||t===0?$h(e):$h.ceil(e)}function P6e(e,t){return e=Jse(e),en($h.count(Bl(e),e)+(Bl(e).getDay()===4),t,2)}function M6e(e){return e.getDay()}function _6e(e,t){return en(rw.count(Bl(e)-1,e),t,2)}function R6e(e,t){return en(e.getFullYear()%100,t,2)}function D6e(e,t){return e=Jse(e),en(e.getFullYear()%100,t,2)}function I6e(e,t){return en(e.getFullYear()%1e4,t,4)}function L6e(e,t){var n=e.getDay();return e=n>=4||n===0?$h(e):$h.ceil(e),en(e.getFullYear()%1e4,t,4)}function $6e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+en(t/60|0,"0",2)+en(t%60,"0",2)}function XH(e,t){return en(e.getUTCDate(),t,2)}function F6e(e,t){return en(e.getUTCHours(),t,2)}function B6e(e,t){return en(e.getUTCHours()%12||12,t,2)}function z6e(e,t){return en(1+o1.count(zl(e),e),t,3)}function Zse(e,t){return en(e.getUTCMilliseconds(),t,3)}function q6e(e,t){return Zse(e,t)+"000"}function U6e(e,t){return en(e.getUTCMonth()+1,t,2)}function V6e(e,t){return en(e.getUTCMinutes(),t,2)}function H6e(e,t){return en(e.getUTCSeconds(),t,2)}function K6e(e){var t=e.getUTCDay();return t===0?7:t}function W6e(e,t){return en(c1.count(zl(e)-1,e),t,2)}function eae(e){var t=e.getUTCDay();return t>=4||t===0?Fh(e):Fh.ceil(e)}function G6e(e,t){return e=eae(e),en(Fh.count(zl(e),e)+(zl(e).getUTCDay()===4),t,2)}function Y6e(e){return e.getUTCDay()}function X6e(e,t){return en(sw.count(zl(e)-1,e),t,2)}function Q6e(e,t){return en(e.getUTCFullYear()%100,t,2)}function J6e(e,t){return e=eae(e),en(e.getUTCFullYear()%100,t,2)}function Z6e(e,t){return en(e.getUTCFullYear()%1e4,t,4)}function eBe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Fh(e):Fh.ceil(e),en(e.getUTCFullYear()%1e4,t,4)}function tBe(){return"+0000"}function QH(){return"%"}function JH(e){return+e}function ZH(e){return Math.floor(+e/1e3)}var Rf,tae,nae;nBe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nBe(e){return Rf=n6e(e),tae=Rf.format,Rf.parse,nae=Rf.utcFormat,Rf.utcParse,Rf}function rBe(e){return new Date(e)}function sBe(e){return e instanceof Date?+e:+new Date(+e)}function j3(e,t,n,r,a,i,o,l,c,u){var f=o3(),m=f.invert,p=f.domain,g=u(".%L"),v=u(":%S"),y=u("%I:%M"),w=u("%I %p"),N=u("%a %d"),A=u("%b %d"),T=u("%B"),C=u("%Y");function S(E){return(c(E)<E?g:l(E)<E?v:o(E)<E?y:i(E)<E?w:r(E)<E?a(E)<E?N:A:n(E)<E?T:C)(E)}return f.invert=function(E){return new Date(m(E))},f.domain=function(E){return arguments.length?p(Array.from(E,sBe)):p().map(rBe)},f.ticks=function(E){var O=p();return e(O[0],O[O.length-1],E??10)},f.tickFormat=function(E,O){return O==null?S:u(O)},f.nice=function(E){var O=p();return(!E||typeof E.range!="function")&&(E=t(O[0],O[O.length-1],E??10)),E?p(qse(O,E)):f},f.copy=function(){return Cy(f,j3(e,t,n,r,a,i,o,l,c,u))},f}function aBe(){return Ci.apply(j3(e6e,t6e,Bl,v3,l1,ky,g3,p3,Yd,tae).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function iBe(){return Ci.apply(j3(JFe,ZFe,zl,b3,c1,o1,y3,x3,Yd,nae).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function d1(){var e=0,t=1,n,r,a,i,o=Us,l=!1,c;function u(m){return m==null||isNaN(m=+m)?c:o(a===0?.5:(m=(i(m)-n)*a,l?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([e,t]=m,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(m){return arguments.length?(l=!!m,u):l},u.interpolator=function(m){return arguments.length?(o=m,u):o};function f(m){return function(p){var g,v;return arguments.length?([g,v]=p,o=m(g,v),u):[o(0),o(1)]}}return u.range=f(Nm),u.rangeRound=f(i3),u.unknown=function(m){return arguments.length?(c=m,u):c},function(m){return i=m,n=m(e),r=m(t),a=n===r?0:1/(r-n),u}}function dd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function rae(){var e=cd(d1()(Us));return e.copy=function(){return dd(e,rae())},Yl.apply(e,arguments)}function sae(){var e=d3(d1()).domain([1,10]);return e.copy=function(){return dd(e,sae()).base(e.base())},Yl.apply(e,arguments)}function aae(){var e=u3(d1());return e.copy=function(){return dd(e,aae()).constant(e.constant())},Yl.apply(e,arguments)}function w3(){var e=f3(d1());return e.copy=function(){return dd(e,w3()).exponent(e.exponent())},Yl.apply(e,arguments)}function oBe(){return w3.apply(null,arguments).exponent(.5)}function iae(){var e=[],t=Us;function n(r){if(r!=null&&!isNaN(r=+r))return t((Ny(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Vc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>W$e(e,i/r))},n.copy=function(){return iae(t).domain(e)},Yl.apply(n,arguments)}function u1(){var e=0,t=.5,n=1,r=1,a,i,o,l,c,u=Us,f,m=!1,p;function g(y){return isNaN(y=+y)?p:(y=.5+((y=+f(y))-i)*(r*y<r*i?l:c),u(m?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([e,t,n]=y,a=f(e=+e),i=f(t=+t),o=f(n=+n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,g):[e,t,n]},g.clamp=function(y){return arguments.length?(m=!!y,g):m},g.interpolator=function(y){return arguments.length?(u=y,g):u};function v(y){return function(w){var N,A,T;return arguments.length?([N,A,T]=w,u=vFe(y,[N,A,T]),g):[u(0),u(.5),u(1)]}}return g.range=v(Nm),g.rangeRound=v(i3),g.unknown=function(y){return arguments.length?(p=y,g):p},function(y){return f=y,a=y(e),i=y(t),o=y(n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,g}}function oae(){var e=cd(u1()(Us));return e.copy=function(){return dd(e,oae())},Yl.apply(e,arguments)}function lae(){var e=d3(u1()).domain([.1,1,10]);return e.copy=function(){return dd(e,lae()).base(e.base())},Yl.apply(e,arguments)}function cae(){var e=u3(u1());return e.copy=function(){return dd(e,cae()).constant(e.constant())},Yl.apply(e,arguments)}function N3(){var e=f3(u1());return e.copy=function(){return dd(e,N3()).exponent(e.exponent())},Yl.apply(e,arguments)}function lBe(){return N3.apply(null,arguments).exponent(.5)}const e9=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vg,scaleDiverging:oae,scaleDivergingLog:lae,scaleDivergingPow:N3,scaleDivergingSqrt:lBe,scaleDivergingSymlog:cae,scaleIdentity:zse,scaleImplicit:F4,scaleLinear:tw,scaleLog:Use,scaleOrdinal:r3,scalePoint:Rx,scalePow:h3,scaleQuantile:Kse,scaleQuantize:Wse,scaleRadial:Hse,scaleSequential:rae,scaleSequentialLog:sae,scaleSequentialPow:w3,scaleSequentialQuantile:iae,scaleSequentialSqrt:oBe,scaleSequentialSymlog:aae,scaleSqrt:qFe,scaleSymlog:Vse,scaleThreshold:Gse,scaleTime:aBe,scaleUtc:iBe,tickFormat:Bse},Symbol.toStringTag,{value:"Module"}));var ME,t9;function f1(){if(t9)return ME;t9=1;var e=vm();function t(n,r,a){for(var i=-1,o=n.length;++i<o;){var l=n[i],c=r(l);if(c!=null&&(u===void 0?c===c&&!e(c):a(c,u)))var u=c,f=l}return f}return ME=t,ME}var _E,n9;function dae(){if(n9)return _E;n9=1;function e(t,n){return t>n}return _E=e,_E}var RE,r9;function cBe(){if(r9)return RE;r9=1;var e=f1(),t=dae(),n=wm();function r(a){return a&&a.length?e(a,n,t):void 0}return RE=r,RE}var dBe=cBe();const h1=on(dBe);var DE,s9;function uae(){if(s9)return DE;s9=1;function e(t,n){return t<n}return DE=e,DE}var IE,a9;function uBe(){if(a9)return IE;a9=1;var e=f1(),t=uae(),n=wm();function r(a){return a&&a.length?e(a,n,t):void 0}return IE=r,IE}var fBe=uBe();const m1=on(fBe);var LE,i9;function hBe(){if(i9)return LE;i9=1;var e=F5(),t=Ho(),n=vse(),r=xa();function a(i,o){var l=r(i)?e:n;return l(i,t(o,3))}return LE=a,LE}var $E,o9;function mBe(){if(o9)return $E;o9=1;var e=gse(),t=hBe();function n(r,a){return e(t(r,a),1)}return $E=n,$E}var pBe=mBe();const xBe=on(pBe);var FE,l9;function gBe(){if(l9)return FE;l9=1;var e=J5();function t(n,r){return e(n,r)}return FE=t,FE}var yBe=gBe();const Ty=on(yBe);var Sm=1e9,vBe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},C3,Wn=!0,Ni="[DecimalError] ",iu=Ni+"Invalid argument: ",S3=Ni+"Exponent out of range: ",Cm=Math.floor,Ld=Math.pow,bBe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_a,Gr=1e7,$n=7,fae=9007199254740991,aw=Cm(fae/$n),Ue={};Ue.absoluteValue=Ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ue.comparedTo=Ue.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*$n;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ue.dividedBy=Ue.div=function(e){return Rl(this,new this.constructor(e))};Ue.dividedToIntegerBy=Ue.idiv=function(e){var t=this,n=t.constructor;return kn(Rl(t,new n(e),0,1),n.precision)};Ue.equals=Ue.eq=function(e){return!this.cmp(e)};Ue.exponent=function(){return Pr(this)};Ue.greaterThan=Ue.gt=function(e){return this.cmp(e)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(e){return this.cmp(e)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(e){return this.cmp(e)<0};Ue.lessThanOrEqualTo=Ue.lte=function(e){return this.cmp(e)<1};Ue.logarithm=Ue.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(_a))throw Error(Ni+"NaN");if(n.s<1)throw Error(Ni+(n.s?"NaN":"-Infinity"));return n.eq(_a)?new r(0):(Wn=!1,t=Rl(Sg(n,i),Sg(e,i),i),Wn=!0,kn(t,a))};Ue.minus=Ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pae(t,e):hae(t,(e.s=-e.s,e))};Ue.modulo=Ue.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(Ni+"NaN");return n.s?(Wn=!1,t=Rl(n,e,0,1).times(e),Wn=!0,n.minus(t)):kn(new r(n),a)};Ue.naturalExponential=Ue.exp=function(){return mae(this)};Ue.naturalLogarithm=Ue.ln=function(){return Sg(this)};Ue.negated=Ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ue.plus=Ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?hae(t,e):pae(t,(e.s=-e.s,e))};Ue.precision=Ue.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(iu+e);if(t=Pr(a)+1,r=a.d.length-1,n=r*$n+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ue.squareRoot=Ue.sqrt=function(){var e,t,n,r,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ni+"NaN")}for(e=Pr(l),Wn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=ko(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Cm((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=r,r=i.plus(Rl(l,i,o+2)).times(.5),ko(i.d).slice(0,o)===(t=ko(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(kn(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(t!="9999")break;o+=4}return Wn=!0,kn(r,n)};Ue.times=Ue.mul=function(e){var t,n,r,a,i,o,l,c,u,f=this,m=f.constructor,p=f.d,g=(e=new m(e)).d;if(!f.s||!e.s)return new m(0);for(e.s*=f.s,n=f.e+e.e,c=p.length,u=g.length,c<u&&(i=p,p=g,g=i,o=c,c=u,u=o),i=[],o=c+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+g[r]*p[a-r-1]+t,i[a--]=l%Gr|0,t=l/Gr|0;i[a]=(i[a]+t)%Gr|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,Wn?kn(e,m.precision):e};Ue.toDecimalPlaces=Ue.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Bo(e,0,Sm),t===void 0?t=r.rounding:Bo(t,0,8),kn(n,e+Pr(n)+1,t))};Ue.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Cu(r,!0):(Bo(e,0,Sm),t===void 0?t=a.rounding:Bo(t,0,8),r=kn(new a(r),e+1,t),n=Cu(r,!0,e+1)),n};Ue.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?Cu(a):(Bo(e,0,Sm),t===void 0?t=i.rounding:Bo(t,0,8),r=kn(new i(a),e+Pr(a)+1,t),n=Cu(r.abs(),!1,e+Pr(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Ue.toInteger=Ue.toint=function(){var e=this,t=e.constructor;return kn(new t(e),Pr(e)+1,t.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(e){var t,n,r,a,i,o,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(_a);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ni+"Infinity");return l}if(l.eq(_a))return l;if(r=c.precision,e.eq(_a))return kn(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=f<0?-f:f)<=fae){for(a=new c(_a),t=Math.ceil(r/$n+4),Wn=!1;n%2&&(a=a.times(l),d9(a.d,t)),n=Cm(n/2),n!==0;)l=l.times(l),d9(l.d,t);return Wn=!0,e.s<0?new c(_a).div(a):kn(a,r)}}else if(i<0)throw Error(Ni+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Wn=!1,a=e.times(Sg(l,r+u)),Wn=!0,a=mae(a),a.s=i,a};Ue.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Pr(a),r=Cu(a,n<=i.toExpNeg||n>=i.toExpPos)):(Bo(e,1,Sm),t===void 0?t=i.rounding:Bo(t,0,8),a=kn(new i(a),e,t),n=Pr(a),r=Cu(a,e<=n||n<=i.toExpNeg,e)),r};Ue.toSignificantDigits=Ue.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Bo(e,1,Sm),t===void 0?t=r.rounding:Bo(t,0,8)),kn(new r(n),e,t)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pr(e),n=e.constructor;return Cu(e,t<=n.toExpNeg||t>=n.toExpPos)};function hae(e,t){var n,r,a,i,o,l,c,u,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Wn?kn(t,m):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=o,l=c.length),o=Math.ceil(m/$n),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/Gr|0,c[i]%=Gr;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Wn?kn(t,m):t}function Bo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(iu+e)}function ko(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=$n-r.length,n&&(i+=Oc(n)),i+=r;o=e[t],r=o+"",n=$n-r.length,n&&(i+=Oc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Rl=(function(){function e(r,a){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*a+o,r[l]=i%Gr|0,o=i/Gr|0;return o&&r.unshift(o),r}function t(r,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=a[l]){c=r[l]>a[l]?1:-1;break}return c}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*Gr+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var l,c,u,f,m,p,g,v,y,w,N,A,T,C,S,E,O,_,M=r.constructor,$=r.s==a.s?1:-1,z=r.d,V=a.d;if(!r.s)return new M(r);if(!a.s)throw Error(Ni+"Division by zero");for(c=r.e-a.e,O=V.length,S=z.length,g=new M($),v=g.d=[],u=0;V[u]==(z[u]||0);)++u;if(V[u]>(z[u]||0)&&--c,i==null?A=i=M.precision:o?A=i+(Pr(r)-Pr(a))+1:A=i,A<0)return new M(0);if(A=A/$n+2|0,u=0,O==1)for(f=0,V=V[0],A++;(u<S||f)&&A--;u++)T=f*Gr+(z[u]||0),v[u]=T/V|0,f=T%V|0;else{for(f=Gr/(V[0]+1)|0,f>1&&(V=e(V,f),z=e(z,f),O=V.length,S=z.length),C=O,y=z.slice(0,O),w=y.length;w<O;)y[w++]=0;_=V.slice(),_.unshift(0),E=V[0],V[1]>=Gr/2&&++E;do f=0,l=t(V,y,O,w),l<0?(N=y[0],O!=w&&(N=N*Gr+(y[1]||0)),f=N/E|0,f>1?(f>=Gr&&(f=Gr-1),m=e(V,f),p=m.length,w=y.length,l=t(m,y,p,w),l==1&&(f--,n(m,O<p?_:V,p))):(f==0&&(l=f=1),m=V.slice()),p=m.length,p<w&&m.unshift(0),n(y,m,w),l==-1&&(w=y.length,l=t(V,y,O,w),l<1&&(f++,n(y,O<w?_:V,w))),w=y.length):l===0&&(f++,y=[0]),v[u++]=f,l&&y[0]?y[w++]=z[C]||0:(y=[z[C]],w=1);while((C++<S||y[0]!==void 0)&&A--)}return v[0]||v.shift(),g.e=c,kn(g,o?i+Pr(g)+1:i)}})();function mae(e,t){var n,r,a,i,o,l,c=0,u=0,f=e.constructor,m=f.precision;if(Pr(e)>16)throw Error(S3+Pr(e));if(!e.s)return new f(_a);for(Wn=!1,l=m,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(Ld(2,u))/Math.LN10*2+5|0,l+=r,n=a=i=new f(_a),f.precision=l;;){if(a=kn(a.times(e),l),n=n.times(++c),o=i.plus(Rl(a,n,l)),ko(o.d).slice(0,l)===ko(i.d).slice(0,l)){for(;u--;)i=kn(i.times(i),l);return f.precision=m,t==null?(Wn=!0,kn(i,m)):i}i=o}}function Pr(e){for(var t=e.e*$n,n=e.d[0];n>=10;n/=10)t++;return t}function BE(e,t,n){if(t>e.LN10.sd())throw Wn=!0,n&&(e.precision=n),Error(Ni+"LN10 precision limit exceeded");return kn(new e(e.LN10),t)}function Oc(e){for(var t="";e--;)t+="0";return t}function Sg(e,t){var n,r,a,i,o,l,c,u,f,m=1,p=10,g=e,v=g.d,y=g.constructor,w=y.precision;if(g.s<1)throw Error(Ni+(g.s?"NaN":"-Infinity"));if(g.eq(_a))return new y(0);if(t==null?(Wn=!1,u=w):u=t,g.eq(10))return t==null&&(Wn=!0),BE(y,u);if(u+=p,y.precision=u,n=ko(v),r=n.charAt(0),i=Pr(g),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(e),n=ko(g.d),r=n.charAt(0),m++;i=Pr(g),r>1?(g=new y("0."+n),i++):g=new y(r+"."+n.slice(1))}else return c=BE(y,u+2,w).times(i+""),g=Sg(new y(r+"."+n.slice(1)),u-p).plus(c),y.precision=w,t==null?(Wn=!0,kn(g,w)):g;for(l=o=g=Rl(g.minus(_a),g.plus(_a),u),f=kn(g.times(g),u),a=3;;){if(o=kn(o.times(f),u),c=l.plus(Rl(o,new y(a),u)),ko(c.d).slice(0,u)===ko(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(BE(y,u+2,w).times(i+""))),l=Rl(l,new y(m),u),y.precision=w,t==null?(Wn=!0,kn(l,w)):l;l=c,a+=2}}function c9(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Cm(n/$n),e.d=[],r=(n+1)%$n,n<0&&(r+=$n),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=$n;r<a;)e.d.push(+t.slice(r,r+=$n));t=t.slice(r),r=$n-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),Wn&&(e.e>aw||e.e<-aw))throw Error(S3+n)}else e.s=0,e.e=0,e.d=[0];return e}function kn(e,t,n){var r,a,i,o,l,c,u,f,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=$n,a=t,u=m[f=0];else{if(f=Math.ceil((r+1)/$n),i=m.length,f>=i)return e;for(u=i=m[f],o=1;i>=10;i/=10)o++;r%=$n,a=r-$n+o}if(n!==void 0&&(i=Ld(10,o-a-1),l=u/i%10|0,c=t<0||m[f+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?a>0?u/Ld(10,o-a):0:m[f-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return c?(i=Pr(e),m.length=1,t=t-i-1,m[0]=Ld(10,($n-t%$n)%$n),e.e=Cm(-t/$n)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=f,i=1,f--):(m.length=f+1,i=Ld(10,$n-r),m[f]=a>0?(u/Ld(10,o-a)%Ld(10,a)|0)*i:0),c)for(;;)if(f==0){(m[0]+=i)==Gr&&(m[0]=1,++e.e);break}else{if(m[f]+=i,m[f]!=Gr)break;m[f--]=0,i=1}for(r=m.length;m[--r]===0;)m.pop();if(Wn&&(e.e>aw||e.e<-aw))throw Error(S3+Pr(e));return e}function pae(e,t){var n,r,a,i,o,l,c,u,f,m,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Wn?kn(t,g):t;if(c=e.d,m=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(f=o<0,f?(n=c,o=-o,l=m.length):(n=m,r=u,l=c.length),a=Math.max(Math.ceil(g/$n),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=m.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(c[a]!=m[a]){f=c[a]<m[a];break}o=0}for(f&&(n=c,c=m,m=n,t.s=-t.s),l=c.length,a=m.length-l;a>0;--a)c[l++]=0;for(a=m.length;a>o;){if(c[--a]<m[a]){for(i=a;i&&c[--i]===0;)c[i]=Gr-1;--c[i],c[a]+=Gr}c[a]-=m[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Wn?kn(t,g):t):new p(0)}function Cu(e,t,n){var r,a=Pr(e),i=ko(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Oc(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Oc(-a-1)+i,n&&(r=n-o)>0&&(i+=Oc(r))):a>=o?(i+=Oc(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+Oc(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=Oc(r))),e.s<0?"-"+i:i}function d9(e,t){if(e.length>t)return e.length=t,!0}function xae(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(iu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return c9(o,i.toString())}else if(typeof i!="string")throw Error(iu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,bBe.test(i))c9(o,i);else throw Error(iu+i)}if(a.prototype=Ue,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=xae,a.config=a.set=jBe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function jBe(e){if(!e||typeof e!="object")throw Error(Ni+"Object expected");var t,n,r,a=["precision",1,Sm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Cm(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(iu+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(iu+n+": "+r);return this}var C3=xae(vBe);_a=new C3(1);const bn=C3;function wBe(e){return kBe(e)||CBe(e)||SBe(e)||NBe()}function NBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SBe(e,t){if(e){if(typeof e=="string")return U4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U4(e,t)}}function CBe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function kBe(e){if(Array.isArray(e))return U4(e)}function U4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var TBe=function(t){return t},gae={},yae=function(t){return t===gae},u9=function(t){return function n(){return arguments.length===0||arguments.length===1&&yae(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},ABe=function e(t,n){return t===1?n:u9(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==gae}).length;return o>=t?n.apply(void 0,a):e(t-o,u9(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=a.map(function(m){return yae(m)?c.shift():m});return n.apply(void 0,wBe(f).concat(c))}))})},p1=function(t){return ABe(t.length,t)},V4=function(t,n){for(var r=[],a=t;a<n;++a)r[a-t]=a;return r},EBe=p1(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),OBe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return TBe;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},H4=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},vae=function(t){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,r=t.apply(void 0,i)),r}};function PBe(e){var t;return e===0?t=1:t=Math.floor(new bn(e).abs().log(10).toNumber())+1,t}function MBe(e,t,n){for(var r=new bn(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var _Be=p1(function(e,t,n){var r=+e,a=+t;return r+n*(a-r)}),RBe=p1(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),DBe=p1(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const x1={rangeStep:MBe,getDigitCount:PBe,interpolateNumber:_Be,uninterpolateNumber:RBe,uninterpolateTruncation:DBe};function K4(e){return $Be(e)||LBe(e)||bae(e)||IBe()}function IBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LBe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function $Be(e){if(Array.isArray(e))return W4(e)}function Cg(e,t){return zBe(e)||BBe(e,t)||bae(e,t)||FBe()}function FBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bae(e,t){if(e){if(typeof e=="string")return W4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W4(e,t)}}function W4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BBe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function zBe(e){if(Array.isArray(e))return e}function jae(e){var t=Cg(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function wae(e,t,n){if(e.lte(0))return new bn(0);var r=x1.getDigitCount(e.toNumber()),a=new bn(10).pow(r),i=e.div(a),o=r!==1?.05:.1,l=new bn(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return t?c:new bn(Math.ceil(c))}function qBe(e,t,n){var r=1,a=new bn(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new bn(10).pow(x1.getDigitCount(e)-1),a=new bn(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new bn(Math.floor(e)))}else e===0?a=new bn(Math.floor((t-1)/2)):n||(a=new bn(Math.floor(e)));var o=Math.floor((t-1)/2),l=OBe(EBe(function(c){return a.add(new bn(c-o).mul(r)).toNumber()}),V4);return l(0,t)}function Nae(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new bn(0),tickMin:new bn(0),tickMax:new bn(0)};var i=wae(new bn(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new bn(0):(o=new bn(e).add(t).div(2),o=o.sub(new bn(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new bn(t).sub(o).div(i).toNumber()),u=l+c+1;return u>n?Nae(e,t,n,r,a+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:i,tickMin:o.sub(new bn(l).mul(i)),tickMax:o.add(new bn(c).mul(i))})}function UBe(e){var t=Cg(e,2),n=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=jae([n,r]),c=Cg(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var m=f===1/0?[u].concat(K4(V4(0,a-1).map(function(){return 1/0}))):[].concat(K4(V4(0,a-1).map(function(){return-1/0})),[f]);return n>r?H4(m):m}if(u===f)return qBe(u,a,i);var p=Nae(u,f,o,i),g=p.step,v=p.tickMin,y=p.tickMax,w=x1.rangeStep(v,y.add(new bn(.1).mul(g)),g);return n>r?H4(w):w}function VBe(e,t){var n=Cg(e,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=jae([r,a]),l=Cg(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,a];if(c===u)return[c];var f=Math.max(t,2),m=wae(new bn(u).sub(c).div(f-1),i,0),p=[].concat(K4(x1.rangeStep(new bn(c),new bn(u).sub(new bn(.99).mul(m)),m)),[u]);return r>a?H4(p):p}var HBe=vae(UBe),KBe=vae(VBe),WBe="Invariant failed";function ku(e,t){throw new Error(WBe)}var GBe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iw.apply(this,arguments)}function YBe(e,t){return ZBe(e)||JBe(e,t)||QBe(e,t)||XBe()}function XBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QBe(e,t){if(e){if(typeof e=="string")return f9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f9(e,t)}}function f9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JBe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ZBe(e){if(Array.isArray(e))return e}function eze(e,t){if(e==null)return{};var n=tze(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tze(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function nze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kae(r.key),r)}}function sze(e,t,n){return t&&rze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aze(e,t,n){return t=ow(t),ize(e,Sae()?Reflect.construct(t,n||[],ow(e).constructor):t.apply(e,n))}function ize(e,t){if(t&&(Bh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oze(e)}function oze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sae=function(){return!!e})()}function ow(e){return ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ow(e)}function lze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G4(e,t)}function G4(e,t){return G4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},G4(e,t)}function Cae(e,t,n){return t=kae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kae(e){var t=cze(e,"string");return Bh(t)=="symbol"?t:t+""}function cze(e,t){if(Bh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ay=(function(e){function t(){return nze(this,t),aze(this,t,arguments)}return lze(t,e),sze(t,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,f=r.xAxis,m=r.yAxis,p=eze(r,GBe),g=at(p,!1);this.props.direction==="x"&&f.type!=="number"&&ku();var v=c.map(function(y){var w=u(y,l),N=w.x,A=w.y,T=w.value,C=w.errorVal;if(!C)return null;var S=[],E,O;if(Array.isArray(C)){var _=YBe(C,2);E=_[0],O=_[1]}else E=O=C;if(i==="vertical"){var M=f.scale,$=A+a,z=$+o,V=$-o,I=M(T-E),F=M(T+O);S.push({x1:F,y1:z,x2:F,y2:V}),S.push({x1:I,y1:$,x2:F,y2:$}),S.push({x1:I,y1:z,x2:I,y2:V})}else if(i==="horizontal"){var K=m.scale,R=N+a,B=R-o,L=R+o,q=K(T-E),se=K(T+O);S.push({x1:B,y1:se,x2:L,y2:se}),S.push({x1:R,y1:q,x2:R,y2:se}),S.push({x1:B,y1:q,x2:L,y2:q})}return Z.createElement(Jt,iw({className:"recharts-errorBar",key:"bar-".concat(S.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},g),S.map(function(H){return Z.createElement("line",iw({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return Z.createElement(Jt,{className:"recharts-errorBars"},v)}}])})(Z.Component);Cae(Ay,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Cae(Ay,"displayName","ErrorBar");function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function h9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h9(Object(n),!0).forEach(function(r){dze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dze(e,t,n){return t=uze(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uze(e){var t=fze(e,"string");return kg(t)=="symbol"?t:t+""}function fze(e,t){if(kg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tae=function(t){var n=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Ta(n,su);if(!o)return null;var l=su.defaultProps,c=l!==void 0?Pd(Pd({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(r||[]).reduce(function(f,m){var p=m.item,g=m.props,v=g.sectors||g.data||[];return f.concat(v.map(function(y){return{type:o.props.iconType||p.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(f){var m=f.item,p=m.type.defaultProps,g=p!==void 0?Pd(Pd({},p),m.props):{},v=g.dataKey,y=g.name,w=g.legendType,N=g.hide;return{inactive:N,dataKey:v,type:c.iconType||w||"square",color:k3(m),value:y||v,payload:g}}),Pd(Pd(Pd({},c),su.getWithHeight(o,a)),{},{payload:u,item:o})};function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}function m9(e){return xze(e)||pze(e)||mze(e)||hze()}function hze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mze(e,t){if(e){if(typeof e=="string")return Y4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y4(e,t)}}function pze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xze(e){if(Array.isArray(e))return Y4(e)}function Y4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p9(Object(n),!0).forEach(function(r){dh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dh(e,t,n){return t=gze(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gze(e){var t=yze(e,"string");return Tg(t)=="symbol"?t:t+""}function yze(e,t){if(Tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zr(e,t,n){return Nt(e)||Nt(t)?n:Ur(t)?Ba(e,t,n):vt(t)?t(e):n}function Dx(e,t,n,r){var a=xBe(e,function(l){return zr(l,t)});if(n==="number"){var i=a.filter(function(l){return $e(l)||parseFloat(l)});return i.length?[m1(i),h1(i)]:[1/0,-1/0]}var o=r?a.filter(function(l){return!Nt(l)}):a;return o.map(function(l){return Ur(l)||l instanceof Date?l:""})}var vze=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r?.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var f=u>0?a[u-1].coordinate:a[l-1].coordinate,m=a[u].coordinate,p=u>=l-1?a[0].coordinate:a[u+1].coordinate,g=void 0;if(zs(m-f)!==zs(p-m)){var v=[];if(zs(p-m)===zs(c[1]-c[0])){g=p;var y=m+c[1]-c[0];v[0]=Math.min(y,(y+f)/2),v[1]=Math.max(y,(y+f)/2)}else{g=f;var w=p+c[1]-c[0];v[0]=Math.min(m,(w+m)/2),v[1]=Math.max(m,(w+m)/2)}var N=[Math.min(m,(g+m)/2),Math.max(m,(g+m)/2)];if(t>N[0]&&t<=N[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var A=Math.min(f,p),T=Math.max(f,p);if(t>(A+m)/2&&t<=(T+m)/2){o=a[u].index;break}}}else for(var C=0;C<l;C++)if(C===0&&t<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<l-1&&t>(r[C].coordinate+r[C-1].coordinate)/2&&t<=(r[C].coordinate+r[C+1].coordinate)/2||C===l-1&&t>(r[C].coordinate+r[C-1].coordinate)/2){o=r[C].index;break}return o},k3=function(t){var n,r=t,a=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},bze=function(t){var n=t.barSize,r=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var f=i[l[c]].stackGroups,m=Object.keys(f),p=0,g=m.length;p<g;p++){var v=f[m[p]],y=v.items,w=v.cateAxisId,N=y.filter(function(O){return _l(O.type).indexOf("Bar")>=0});if(N&&N.length){var A=N[0].type.defaultProps,T=A!==void 0?lr(lr({},A),N[0].props):N[0].props,C=T.barSize,S=T[w];o[S]||(o[S]=[]);var E=Nt(C)?n:C;o[S].push({item:N[0],stackList:N.slice(1),barSize:Nt(E)?void 0:qs(E,r,0)})}}return o},jze=function(t){var n=t.barGap,r=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=qs(n,a,0,!0),f,m=[];if(o[0].barSize===+o[0].barSize){var p=!1,g=a/c,v=o.reduce(function(C,S){return C+S.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&g>0&&(p=!0,g*=.9,v=c*g);var y=(a-v)/2>>0,w={offset:y-u,size:0};f=o.reduce(function(C,S){var E={item:S.item,position:{offset:w.offset+w.size+u,size:p?g:S.barSize}},O=[].concat(m9(C),[E]);return w=O[O.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(_){O.push({item:_,position:w})}),O},m)}else{var N=qs(r,a,0,!0);a-2*N-(c-1)*u<=0&&(u=0);var A=(a-2*N-(c-1)*u)/c;A>1&&(A>>=0);var T=l===+l?Math.min(A,l):A;f=o.reduce(function(C,S,E){var O=[].concat(m9(C),[{item:S.item,position:{offset:N+(A+u)*E+(A-T)/2,size:T}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(_){O.push({item:_,position:O[O.length-1].position})}),O},m)}return f},wze=function(t,n,r,a){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=Tae({children:i,legendWidth:c});if(u){var f=a||{},m=f.width,p=f.height,g=u.align,v=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&g!=="center"&&$e(t[g]))return lr(lr({},t),{},dh({},g,t[g]+(m||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&v!=="middle"&&$e(t[v]))return lr(lr({},t),{},dh({},v,t[v]+(p||0)))}return t},Nze=function(t,n,r){return Nt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Aae=function(t,n,r,a,i){var o=n.props.children,l=za(o,Ay).filter(function(u){return Nze(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var m=zr(f,r);if(Nt(m))return u;var p=Array.isArray(m)?[m1(m),h1(m)]:[m,m],g=c.reduce(function(v,y){var w=zr(f,y,0),N=p[0]-Math.abs(Array.isArray(w)?w[0]:w),A=p[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(N,v[0]),Math.max(A,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},Sze=function(t,n,r,a,i){var o=n.map(function(l){return Aae(t,l,r,i,a)}).filter(function(l){return!Nt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Eae=function(t,n,r,a,i){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&Aae(t,c,u,a)||Dx(t,u,r,i)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,m=u.length;f<m;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},Oae=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},Pae=function(t,n,r,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(r),l},El=function(t,n,r){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(n||r)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?zs(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(m){var p=i?i.indexOf(m):m;return{coordinate:a(p)+u,value:m,offset:u}});return f.filter(function(m){return!jy(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,p){return{coordinate:a(m)+u,value:m,index:p,offset:u}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(m){return{coordinate:a(m)+u,value:m,offset:u}}):a.domain().map(function(m,p){return{coordinate:a(m)+u,value:i?i[m]:m,index:p,offset:u}})},zE=new WeakMap,Lb=function(t,n){if(typeof n!="function")return t;zE.has(t)||zE.set(t,new WeakMap);var r=zE.get(t);if(r.has(n))return r.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},Mae=function(t,n,r){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:vg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:tw(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Rx(),realScaleType:"point"}:i==="category"?{scale:vg(),realScaleType:"band"}:{scale:tw(),realScaleType:"linear"};if(wu(a)){var c="scale".concat(QN(a));return{scale:(e9[c]||Rx)(),realScaleType:e9[c]?c:"point"}}return vt(a)?{scale:a}:{scale:Rx(),realScaleType:"point"}},x9=1e-4,_ae=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,a=t.range(),i=Math.min(a[0],a[1])-x9,o=Math.max(a[0],a[1])+x9,l=t(n[0]),c=t(n[r-1]);(l<i||l>o||c<i||c>o)&&t.domain([n[0],n[r-1]])}},Cze=function(t,n){if(!t)return null;for(var r=0,a=t.length;r<a;r++)if(t[r].item===n)return t[r].position;return null},kze=function(t,n){if(!n||n.length!==2||!$e(n[0])||!$e(n[1]))return t;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!$e(t[0])||t[0]<r)&&(i[0]=r),(!$e(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},Tze=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0,l=0;l<n;++l){var c=jy(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=i,t[l][r][1]=i+c,i=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},Aze=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0;o<n;++o){var l=jy(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=i,t[o][r][1]=i+l,i=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},Eze={sign:Tze,expand:xDe,none:Mh,silhouette:gDe,wiggle:yDe,positive:Aze},Oze=function(t,n,r){var a=n.map(function(l){return l.props.dataKey}),i=Eze[r],o=pDe().keys(a).value(function(l,c){return+zr(l,c,0)}).order(C4).offset(i);return o(t)},Pze=function(t,n,r,a,i,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(m,p){var g,v=(g=p.type)!==null&&g!==void 0&&g.defaultProps?lr(lr({},p.type.defaultProps),p.props):p.props,y=v.stackId,w=v.hide;if(w)return m;var N=v[r],A=m[N]||{hasStack:!1,stackGroups:{}};if(Ur(y)){var T=A.stackGroups[y]||{numericAxisId:r,cateAxisId:a,items:[]};T.items.push(p),A.hasStack=!0,A.stackGroups[y]=T}else A.stackGroups[jm("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[p]};return lr(lr({},m),{},dh({},N,A))},c),f={};return Object.keys(u).reduce(function(m,p){var g=u[p];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,w){var N=g.stackGroups[w];return lr(lr({},y),{},dh({},w,{numericAxisId:r,cateAxisId:a,items:N.items,stackedData:Oze(t,N.items,i)}))},v)}return lr(lr({},m),{},dh({},p,g))},f)},Rae=function(t,n){var r=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=HBe(u,i,l);return t.domain([m1(f),h1(f)]),{niceTicks:f}}if(i&&a==="number"){var m=t.domain(),p=KBe(m,i,l);return{niceTicks:p}}return null};function g9(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Nt(a[t.dataKey])){var l=Lj(n,"value",a[t.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=zr(a,Nt(o)?t.dataKey:o);return Nt(c)?null:t.scale(c)}var y9=function(t){var n=t.axis,r=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+a:null;var c=zr(o,n.dataKey,n.domain[l]);return Nt(c)?null:n.scale(c)-i/2+a},Mze=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},_ze=function(t,n){var r,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Ur(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Rze=function(t){return t.reduce(function(n,r){return[m1(r.concat([n[0]]).filter($e)),h1(r.concat([n[1]]).filter($e))]},[1/0,-1/0])},Dae=function(t,n,r){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,f){var m=Rze(f.slice(n,r+1));return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},v9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,b9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,X4=function(t,n,r){if(vt(t))return t(n,r);if(!Array.isArray(t))return n;var a=[];if($e(t[0]))a[0]=r?t[0]:Math.min(t[0],n[0]);else if(v9.test(t[0])){var i=+v9.exec(t[0])[1];a[0]=n[0]-i}else vt(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if($e(t[1]))a[1]=r?t[1]:Math.max(t[1],n[1]);else if(b9.test(t[1])){var o=+b9.exec(t[1])[1];a[1]=n[1]+o}else vt(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},lw=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&n&&n.length>=2){for(var i=e3(n,function(m){return m.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],f=i[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},j9=function(t,n,r){return!t||!t.length||Ty(t,Ba(r,"type.defaultProps.domain"))?n:t},Iae=function(t,n){var r=t.type.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,a=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,f=r.hide;return lr(lr({},at(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:k3(t),value:zr(n,a),type:c,payload:n,chartType:u,hide:f})};function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}function w9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w9(Object(n),!0).forEach(function(r){Lae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lae(e,t,n){return t=Dze(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dze(e){var t=Ize(e,"string");return Ag(t)=="symbol"?t:t+""}function Ize(e,t){if(Ag(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lze(e,t){return zze(e)||Bze(e,t)||Fze(e,t)||$ze()}function $ze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fze(e,t){if(e){if(typeof e=="string")return N9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N9(e,t)}}function N9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bze(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zze(e){if(Array.isArray(e))return e}var cw=Math.PI/180,qze=function(t){return t*180/Math.PI},Mn=function(t,n,r,a){return{x:t+Math.cos(-cw*a)*r,y:n+Math.sin(-cw*a)*r}},$ae=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Uze=function(t,n,r,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,f=qs(t.cx,o,o/2),m=qs(t.cy,l,l/2),p=$ae(o,l,r),g=qs(t.innerRadius,p,0),v=qs(t.outerRadius,p,p*.8),y=Object.keys(n);return y.reduce(function(w,N){var A=n[N],T=A.domain,C=A.reversed,S;if(Nt(A.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[g,v]),C&&(S=[S[1],S[0]]);else{S=A.range;var E=S,O=Lze(E,2);c=O[0],u=O[1]}var _=Mae(A,i),M=_.realScaleType,$=_.scale;$.domain(T).range(S),_ae($);var z=Rae($,jl(jl({},A),{},{realScaleType:M})),V=jl(jl(jl({},A),z),{},{range:S,radius:v,realScaleType:M,scale:$,cx:f,cy:m,innerRadius:g,outerRadius:v,startAngle:c,endAngle:u});return jl(jl({},w),{},Lae({},N,V))},{})},Vze=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-o,2))},Hze=function(t,n){var r=t.x,a=t.y,i=n.cx,o=n.cy,l=Vze({x:r,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:qze(u),angleInRadian:u}},Kze=function(t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:r-o*360}},Wze=function(t,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},S9=function(t,n){var r=t.x,a=t.y,i=Hze({x:r,y:a},n),o=i.radius,l=i.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=Kze(n),m=f.startAngle,p=f.endAngle,g=l,v;if(m<=p){for(;g>p;)g-=360;for(;g<m;)g+=360;v=g>=m&&g<=p}else{for(;g>m;)g-=360;for(;g<p;)g+=360;v=g>=p&&g<=m}return v?jl(jl({},n),{},{radius:o,angle:Wze(g,n)}):null},Fae=function(t){return!j.isValidElement(t)&&!vt(t)&&typeof t!="boolean"?t.className:""};function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}var Gze=["offset"];function Yze(e){return Zze(e)||Jze(e)||Qze(e)||Xze()}function Xze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qze(e,t){if(e){if(typeof e=="string")return Q4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q4(e,t)}}function Jze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zze(e){if(Array.isArray(e))return Q4(e)}function Q4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eqe(e,t){if(e==null)return{};var n=tqe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tqe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function C9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C9(Object(n),!0).forEach(function(r){nqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nqe(e,t,n){return t=rqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rqe(e){var t=sqe(e,"string");return Eg(t)=="symbol"?t:t+""}function sqe(e,t){if(Eg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Og.apply(this,arguments)}var aqe=function(t){var n=t.value,r=t.formatter,a=Nt(t.children)?n:t.children;return vt(r)?r(a):a},iqe=function(t,n){var r=zs(n-t),a=Math.min(Math.abs(n-t),360);return r*a},oqe=function(t,n,r){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,f=c.cy,m=c.innerRadius,p=c.outerRadius,g=c.startAngle,v=c.endAngle,y=c.clockWise,w=(m+p)/2,N=iqe(g,v),A=N>=0?1:-1,T,C;a==="insideStart"?(T=g+A*o,C=y):a==="insideEnd"?(T=v-A*o,C=!y):a==="end"&&(T=v+A*o,C=y),C=N<=0?C:!C;var S=Mn(u,f,w,T),E=Mn(u,f,w,T+(C?1:-1)*359),O="M".concat(S.x,",").concat(S.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(C?0:1,`,
    `).concat(E.x,",").concat(E.y),_=Nt(t.id)?jm("recharts-radial-line-"):t.id;return Z.createElement("text",Og({},r,{dominantBaseline:"central",className:Ct("recharts-radial-bar-label",l)}),Z.createElement("defs",null,Z.createElement("path",{id:_,d:O})),Z.createElement("textPath",{xlinkHref:"#".concat(_)},n))},lqe=function(t){var n=t.viewBox,r=t.offset,a=t.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,f=i.startAngle,m=i.endAngle,p=(f+m)/2;if(a==="outside"){var g=Mn(o,l,u+r,p),v=g.x,y=g.y;return{x:v,y,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var w=(c+u)/2,N=Mn(o,l,w,p),A=N.x,T=N.y;return{x:A,y:T,textAnchor:"middle",verticalAnchor:"middle"}},cqe=function(t){var n=t.viewBox,r=t.parentViewBox,a=t.offset,i=t.position,o=n,l=o.x,c=o.y,u=o.width,f=o.height,m=f>=0?1:-1,p=m*a,g=m>0?"end":"start",v=m>0?"start":"end",y=u>=0?1:-1,w=y*a,N=y>0?"end":"start",A=y>0?"start":"end";if(i==="top"){var T={x:l+u/2,y:c-m*a,textAnchor:"middle",verticalAnchor:g};return $r($r({},T),r?{height:Math.max(c-r.y,0),width:u}:{})}if(i==="bottom"){var C={x:l+u/2,y:c+f+p,textAnchor:"middle",verticalAnchor:v};return $r($r({},C),r?{height:Math.max(r.y+r.height-(c+f),0),width:u}:{})}if(i==="left"){var S={x:l-w,y:c+f/2,textAnchor:N,verticalAnchor:"middle"};return $r($r({},S),r?{width:Math.max(S.x-r.x,0),height:f}:{})}if(i==="right"){var E={x:l+u+w,y:c+f/2,textAnchor:A,verticalAnchor:"middle"};return $r($r({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:f}:{})}var O=r?{width:u,height:f}:{};return i==="insideLeft"?$r({x:l+w,y:c+f/2,textAnchor:A,verticalAnchor:"middle"},O):i==="insideRight"?$r({x:l+u-w,y:c+f/2,textAnchor:N,verticalAnchor:"middle"},O):i==="insideTop"?$r({x:l+u/2,y:c+p,textAnchor:"middle",verticalAnchor:v},O):i==="insideBottom"?$r({x:l+u/2,y:c+f-p,textAnchor:"middle",verticalAnchor:g},O):i==="insideTopLeft"?$r({x:l+w,y:c+p,textAnchor:A,verticalAnchor:v},O):i==="insideTopRight"?$r({x:l+u-w,y:c+p,textAnchor:N,verticalAnchor:v},O):i==="insideBottomLeft"?$r({x:l+w,y:c+f-p,textAnchor:A,verticalAnchor:g},O):i==="insideBottomRight"?$r({x:l+u-w,y:c+f-p,textAnchor:N,verticalAnchor:g},O):bm(i)&&($e(i.x)||Wd(i.x))&&($e(i.y)||Wd(i.y))?$r({x:l+qs(i.x,u),y:c+qs(i.y,f),textAnchor:"end",verticalAnchor:"end"},O):$r({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},O)},dqe=function(t){return"cx"in t&&$e(t.cx)};function Xr(e){var t=e.offset,n=t===void 0?5:t,r=eqe(e,Gze),a=$r({offset:n},r),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,f=a.className,m=f===void 0?"":f,p=a.textBreakAll;if(!i||Nt(l)&&Nt(c)&&!j.isValidElement(u)&&!vt(u))return null;if(j.isValidElement(u))return j.cloneElement(u,a);var g;if(vt(u)){if(g=j.createElement(u,a),j.isValidElement(g))return g}else g=aqe(a);var v=dqe(i),y=at(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return oqe(a,g,y);var w=v?lqe(a):cqe(a);return Z.createElement(Su,Og({className:Ct("recharts-label",m)},y,w,{breakAll:p}),g)}Xr.displayName="Label";var Bae=function(t){var n=t.cx,r=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,m=t.x,p=t.y,g=t.top,v=t.left,y=t.width,w=t.height,N=t.clockWise,A=t.labelViewBox;if(A)return A;if($e(y)&&$e(w)){if($e(m)&&$e(p))return{x:m,y:p,width:y,height:w};if($e(g)&&$e(v))return{x:g,y:v,width:y,height:w}}return $e(m)&&$e(p)?{x:m,y:p,width:0,height:0}:$e(n)&&$e(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:N}:t.viewBox?t.viewBox:{}},uqe=function(t,n){return t?t===!0?Z.createElement(Xr,{key:"label-implicit",viewBox:n}):Ur(t)?Z.createElement(Xr,{key:"label-implicit",viewBox:n,value:t}):j.isValidElement(t)?t.type===Xr?j.cloneElement(t,{key:"label-implicit",viewBox:n}):Z.createElement(Xr,{key:"label-implicit",content:t,viewBox:n}):vt(t)?Z.createElement(Xr,{key:"label-implicit",content:t,viewBox:n}):bm(t)?Z.createElement(Xr,Og({viewBox:n},t,{key:"label-implicit"})):null:null},fqe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,i=Bae(t),o=za(a,Xr).map(function(c,u){return j.cloneElement(c,{viewBox:n||i,key:"label-".concat(u)})});if(!r)return o;var l=uqe(t.label,n||i);return[l].concat(Yze(o))};Xr.parseViewBox=Bae;Xr.renderCallByParent=fqe;var qE,k9;function hqe(){if(k9)return qE;k9=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return qE=e,qE}var mqe=hqe();const pqe=on(mqe);function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}var xqe=["valueAccessor"],gqe=["data","dataKey","clockWise","id","textBreakAll"];function yqe(e){return wqe(e)||jqe(e)||bqe(e)||vqe()}function vqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bqe(e,t){if(e){if(typeof e=="string")return J4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J4(e,t)}}function jqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wqe(e){if(Array.isArray(e))return J4(e)}function J4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dw.apply(this,arguments)}function T9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function A9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T9(Object(n),!0).forEach(function(r){Nqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nqe(e,t,n){return t=Sqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sqe(e){var t=Cqe(e,"string");return Pg(t)=="symbol"?t:t+""}function Cqe(e,t){if(Pg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E9(e,t){if(e==null)return{};var n=kqe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kqe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Tqe=function(t){return Array.isArray(t.value)?pqe(t.value):t.value};function Dl(e){var t=e.valueAccessor,n=t===void 0?Tqe:t,r=E9(e,xqe),a=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=E9(r,gqe);return!a||!a.length?null:Z.createElement(Jt,{className:"recharts-label-list"},a.map(function(f,m){var p=Nt(i)?n(f,m):zr(f&&f.payload,i),g=Nt(l)?{}:{id:"".concat(l,"-").concat(m)};return Z.createElement(Xr,dw({},at(f,!0),u,g,{parentViewBox:f.parentViewBox,value:p,textBreakAll:c,viewBox:Xr.parseViewBox(Nt(o)?f:A9(A9({},f),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}Dl.displayName="LabelList";function Aqe(e,t){return e?e===!0?Z.createElement(Dl,{key:"labelList-implicit",data:t}):Z.isValidElement(e)||vt(e)?Z.createElement(Dl,{key:"labelList-implicit",data:t,content:e}):bm(e)?Z.createElement(Dl,dw({data:t},e,{key:"labelList-implicit"})):null:null}function Eqe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=za(r,Dl).map(function(o,l){return j.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return a;var i=Aqe(e.label,t);return[i].concat(yqe(a))}Dl.renderCallByParent=Eqe;function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}function Z4(){return Z4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z4.apply(this,arguments)}function O9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function P9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O9(Object(n),!0).forEach(function(r){Oqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oqe(e,t,n){return t=Pqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pqe(e){var t=Mqe(e,"string");return Mg(t)=="symbol"?t:t+""}function Mqe(e,t){if(Mg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _qe=function(t,n){var r=zs(n-t),a=Math.min(Math.abs(n-t),359.999);return r*a},$b=function(t){var n=t.cx,r=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+a,m=Math.asin(c/f)/cw,p=u?i:i+o*m,g=Mn(n,r,f,p),v=Mn(n,r,a,p),y=u?i-o*m:i,w=Mn(n,r,f*Math.cos(m*cw),y);return{center:g,circleTangency:v,lineTangency:w,theta:m}},zae=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=_qe(o,l),u=o+c,f=Mn(n,r,i,o),m=Mn(n,r,i,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var g=Mn(n,r,a,o),v=Mn(n,r,a,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},Rqe=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,m=zs(f-u),p=$b({cx:n,cy:r,radius:i,angle:u,sign:m,cornerRadius:o,cornerIsExternal:c}),g=p.circleTangency,v=p.lineTangency,y=p.theta,w=$b({cx:n,cy:r,radius:i,angle:f,sign:-m,cornerRadius:o,cornerIsExternal:c}),N=w.circleTangency,A=w.lineTangency,T=w.theta,C=c?Math.abs(u-f):Math.abs(u-f)-y-T;if(C<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):zae({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:f});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
  `);if(a>0){var E=$b({cx:n,cy:r,radius:a,angle:u,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=E.circleTangency,_=E.lineTangency,M=E.theta,$=$b({cx:n,cy:r,radius:a,angle:f,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),z=$.circleTangency,V=$.lineTangency,I=$.theta,F=c?Math.abs(u-f):Math.abs(u-f)-M-I;if(F<0&&o===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(V.x,",").concat(V.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(F>180),",").concat(+(m>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},Dqe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qae=function(t){var n=P9(P9({},Dqe),t),r=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,m=n.endAngle,p=n.className;if(o<i||f===m)return null;var g=Ct("recharts-sector",p),v=o-i,y=qs(l,v,0,!0),w;return y>0&&Math.abs(f-m)<360?w=Rqe({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(y,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}):w=zae({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:f,endAngle:m}),Z.createElement("path",Z4({},at(n,!0),{className:g,d:w,role:"img"}))};function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}function eM(){return eM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eM.apply(this,arguments)}function M9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M9(Object(n),!0).forEach(function(r){Iqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iqe(e,t,n){return t=Lqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lqe(e){var t=$qe(e,"string");return _g(t)=="symbol"?t:t+""}function $qe(e,t){if(_g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R9={curveBasisClosed:sDe,curveBasisOpen:aDe,curveBasis:rDe,curveBumpX:U3e,curveBumpY:V3e,curveLinearClosed:iDe,curveLinear:ZN,curveMonotoneX:oDe,curveMonotoneY:lDe,curveNatural:cDe,curveStep:dDe,curveStepAfter:fDe,curveStepBefore:uDe},Fb=function(t){return t.x===+t.x&&t.y===+t.y},Hp=function(t){return t.x},Kp=function(t){return t.y},Fqe=function(t,n){if(vt(t))return t;var r="curve".concat(QN(t));return(r==="curveMonotone"||r==="curveBump")&&n?R9["".concat(r).concat(n==="vertical"?"Y":"X")]:R9[r]||ZN},Bqe=function(t){var n=t.type,r=n===void 0?"linear":n,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=Fqe(r,l),m=u?i.filter(function(y){return Fb(y)}):i,p;if(Array.isArray(o)){var g=u?o.filter(function(y){return Fb(y)}):o,v=m.map(function(y,w){return _9(_9({},y),{},{base:g[w]})});return l==="vertical"?p=Ob().y(Kp).x1(Hp).x0(function(y){return y.base.x}):p=Ob().x(Hp).y1(Kp).y0(function(y){return y.base.y}),p.defined(Fb).curve(f),p(v)}return l==="vertical"&&$e(o)?p=Ob().y(Kp).x1(Hp).x0(o):$e(o)?p=Ob().x(Hp).y1(Kp).y0(o):p=Bre().x(Hp).y(Kp),p.defined(Fb).curve(f),p(m)},uw=function(t){var n=t.className,r=t.points,a=t.path,i=t.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?Bqe(t):a;return j.createElement("path",eM({},at(t,!1),$j(t),{className:Ct("recharts-curve",n),d:o,ref:i}))},UE={exports:{}},VE,D9;function zqe(){if(D9)return VE;D9=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return VE=e,VE}var HE,I9;function qqe(){if(I9)return HE;I9=1;var e=zqe();function t(){}function n(){}return n.resetWarningCache=t,HE=function(){function r(o,l,c,u,f,m){if(m!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},HE}var L9;function Uqe(){return L9||(L9=1,UE.exports=qqe()()),UE.exports}var Vqe=Uqe();const sn=on(Vqe);function Hqe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function $9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>t?(e(i),n=-1):Hqe(a)};requestAnimationFrame(r)}function tM(e){"@babel/helpers - typeof";return tM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tM(e)}function Kqe(e){return Xqe(e)||Yqe(e)||Gqe(e)||Wqe()}function Wqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gqe(e,t){if(e){if(typeof e=="string")return F9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F9(e,t)}}function F9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xqe(e){if(Array.isArray(e))return e}function Qqe(){var e={},t=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Kqe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){$9(a.bind(null,u),c);return}a(c),$9(a.bind(null,u));return}tM(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function B9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function z9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B9(Object(n),!0).forEach(function(r){Uae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uae(e,t,n){return t=Jqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jqe(e){var t=Zqe(e,"string");return Rg(t)==="symbol"?t:String(t)}function Zqe(e,t){if(Rg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eUe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},tUe=function(t){return t},nUe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ix=function(t,n){return Object.keys(n).reduce(function(r,a){return z9(z9({},r),{},Uae({},a,t(a,n[a])))},{})},q9=function(t,n,r){return t.map(function(a){return"".concat(nUe(a)," ").concat(n,"ms ").concat(r)}).join(",")};function rUe(e,t){return iUe(e)||aUe(e,t)||Vae(e,t)||sUe()}function sUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aUe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function iUe(e){if(Array.isArray(e))return e}function oUe(e){return dUe(e)||cUe(e)||Vae(e)||lUe()}function lUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vae(e,t){if(e){if(typeof e=="string")return nM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nM(e,t)}}function cUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dUe(e){if(Array.isArray(e))return nM(e)}function nM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fw=1e-4,Hae=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},Kae=function(t,n){return t.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},U9=function(t,n){return function(r){var a=Hae(t,n);return Kae(a,r)}},uUe=function(t,n){return function(r){var a=Hae(t,n),i=[].concat(oUe(a.map(function(o,l){return o*l}).slice(1)),[0]);return Kae(i,r)}},V9=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),f=rUe(u,4);a=f[0],i=f[1],o=f[2],l=f[3]}}}var m=U9(a,o),p=U9(i,l),g=uUe(a,o),v=function(N){return N>1?1:N<0?0:N},y=function(N){for(var A=N>1?1:N,T=A,C=0;C<8;++C){var S=m(T)-A,E=g(T);if(Math.abs(S-A)<fw||E<fw)return p(T);T=v(T-S/E)}return p(T)};return y.isStepper=!1,y},fUe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(f,m,p){var g=-(f-m)*r,v=p*i,y=p+(g-v)*l/1e3,w=p*l/1e3+f;return Math.abs(w-m)<fw&&Math.abs(y)<fw?[m,0]:[w,y]};return c.isStepper=!0,c.dt=l,c},hUe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return V9(a);case"spring":return fUe();default:if(a.split("(")[0]==="cubic-bezier")return V9(a)}return typeof a=="function"?a:null};function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}function H9(e){return xUe(e)||pUe(e)||Wae(e)||mUe()}function mUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xUe(e){if(Array.isArray(e))return sM(e)}function K9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K9(Object(n),!0).forEach(function(r){rM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rM(e,t,n){return t=gUe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gUe(e){var t=yUe(e,"string");return Dg(t)==="symbol"?t:String(t)}function yUe(e,t){if(Dg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Dg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vUe(e,t){return wUe(e)||jUe(e,t)||Wae(e,t)||bUe()}function bUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wae(e,t){if(e){if(typeof e=="string")return sM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sM(e,t)}}function sM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jUe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function wUe(e){if(Array.isArray(e))return e}var hw=function(t,n,r){return t+(n-t)*r},aM=function(t){var n=t.from,r=t.to;return n!==r},NUe=function e(t,n,r){var a=Ix(function(i,o){if(aM(o)){var l=t(o.from,o.to,o.velocity),c=vUe(l,2),u=c[0],f=c[1];return hs(hs({},o),{},{from:u,velocity:f})}return o},n);return r<1?Ix(function(i,o){return aM(o)?hs(hs({},o),{},{velocity:hw(o.velocity,a[i].velocity,r),from:hw(o.from,a[i].from,r)}):o},n):e(t,a,r-1)};const SUe=(function(e,t,n,r,a){var i=eUe(e,t),o=i.reduce(function(w,N){return hs(hs({},w),{},rM({},N,[e[N],t[N]]))},{}),l=i.reduce(function(w,N){return hs(hs({},w),{},rM({},N,{from:e[N],velocity:0,to:t[N]}))},{}),c=-1,u,f,m=function(){return null},p=function(){return Ix(function(N,A){return A.from},l)},g=function(){return!Object.values(l).filter(aM).length},v=function(N){u||(u=N);var A=N-u,T=A/n.dt;l=NUe(n,l,T),a(hs(hs(hs({},e),t),p())),u=N,g()||(c=requestAnimationFrame(m))},y=function(N){f||(f=N);var A=(N-f)/r,T=Ix(function(S,E){return hw.apply(void 0,H9(E).concat([n(A)]))},o);if(a(hs(hs(hs({},e),t),T)),A<1)c=requestAnimationFrame(m);else{var C=Ix(function(S,E){return hw.apply(void 0,H9(E).concat([n(1)]))},o);a(hs(hs(hs({},e),t),C))}};return m=n.isStepper?v:y,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}var CUe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function kUe(e,t){if(e==null)return{};var n=TUe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function TUe(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function KE(e){return PUe(e)||OUe(e)||EUe(e)||AUe()}function AUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EUe(e,t){if(e){if(typeof e=="string")return iM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iM(e,t)}}function OUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PUe(e){if(Array.isArray(e))return iM(e)}function iM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ri(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W9(Object(n),!0).forEach(function(r){dx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dx(e,t,n){return t=Gae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gae(r.key),r)}}function RUe(e,t,n){return t&&_Ue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gae(e){var t=DUe(e,"string");return zh(t)==="symbol"?t:String(t)}function DUe(e,t){if(zh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oM(e,t)}function oM(e,t){return oM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},oM(e,t)}function LUe(e){var t=$Ue();return function(){var r=mw(e),a;if(t){var i=mw(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return lM(this,a)}}function lM(e,t){if(t&&(zh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cM(e)}function cM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $Ue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mw(e)}var zo=(function(e){IUe(n,e);var t=LUe(n);function n(r,a){var i;MUe(this,n),i=t.call(this,r,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,m=o.steps,p=o.children,g=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(cM(i)),i.changeStyle=i.changeStyle.bind(cM(i)),!l||g<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:f}),lM(i);if(m&&m.length)i.state={style:m[0].style};else if(u){if(typeof p=="function")return i.state={style:u},lM(i);i.state={style:c?dx({},c,u):u}}else i.state={style:{}};return i}return RUe(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,f=i.to,m=i.from,p=this.state.style;if(l){if(!o){var g={style:c?dx({},c,f):f};this.state&&p&&(c&&p[c]!==f||!c&&p!==f)&&this.setState(g);return}if(!(dne(a.to,f)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||u?m:a.to;if(this.state&&p){var w={style:c?dx({},c,y):y};(c&&p[c]!==y||!c&&p!==y)&&this.setState(w)}this.runAnimation(Ri(Ri({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,f=a.begin,m=a.onAnimationEnd,p=a.onAnimationStart,g=SUe(o,l,hUe(u),c,this.changeStyle),v=function(){i.stopJSAnimation=g()};this.manager.start([p,f,v,c,m])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],f=u.style,m=u.duration,p=m===void 0?0:m,g=function(y,w,N){if(N===0)return y;var A=w.duration,T=w.easing,C=T===void 0?"ease":T,S=w.style,E=w.properties,O=w.onAnimationEnd,_=N>0?o[N-1]:w,M=E||Object.keys(S);if(typeof C=="function"||C==="spring")return[].concat(KE(y),[i.runJSAnimation.bind(i,{from:_.style,to:S,duration:A,easing:C}),A]);var $=q9(M,A,C),z=Ri(Ri(Ri({},_.style),S),{},{transition:$});return[].concat(KE(y),[z,A,O]).filter(tUe)};return this.manager.start([c].concat(KE(o.reduce(g,[f,Math.max(p,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Qqe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,f=a.onAnimationStart,m=a.onAnimationEnd,p=a.steps,g=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var y=l?dx({},l,c):c,w=q9(Object.keys(y),o,u);v.start([f,i,Ri(Ri({},y),{},{transition:w}),o,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=kUe(a,CUe),u=j.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||u===0||o<=0)return i;var m=function(g){var v=g.props,y=v.style,w=y===void 0?{}:y,N=v.className,A=j.cloneElement(g,Ri(Ri({},c),{},{style:Ri(Ri({},w),f),className:N}));return A};return u===1?m(j.Children.only(i)):Z.createElement("div",null,j.Children.map(i,function(p){return m(p)}))}}]),n})(j.PureComponent);zo.displayName="Animate";zo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};zo.propTypes={from:sn.oneOfType([sn.object,sn.string]),to:sn.oneOfType([sn.object,sn.string]),attributeName:sn.string,duration:sn.number,begin:sn.number,easing:sn.oneOfType([sn.string,sn.func]),steps:sn.arrayOf(sn.shape({duration:sn.number.isRequired,style:sn.object.isRequired,easing:sn.oneOfType([sn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),sn.func]),properties:sn.arrayOf("string"),onAnimationEnd:sn.func})),children:sn.oneOfType([sn.node,sn.func]),isActive:sn.bool,canBegin:sn.bool,onAnimationEnd:sn.func,shouldReAnimate:sn.bool,onAnimationStart:sn.func,onAnimationReStart:sn.func};function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pw.apply(this,arguments)}function FUe(e,t){return UUe(e)||qUe(e,t)||zUe(e,t)||BUe()}function BUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zUe(e,t){if(e){if(typeof e=="string")return G9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G9(e,t)}}function G9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qUe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function UUe(e){if(Array.isArray(e))return e}function Y9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function X9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y9(Object(n),!0).forEach(function(r){VUe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VUe(e,t,n){return t=HUe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HUe(e){var t=KUe(e,"string");return Ig(t)=="symbol"?t:t+""}function KUe(e,t){if(Ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q9=function(t,n,r,a,i){var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),l=a>=0?1:-1,c=r>=0?1:-1,u=a>=0&&r>=0||a<0&&r<0?1:0,f;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,g=4;p<g;p++)m[p]=i[p]>o?o:i[p];f="M".concat(t,",").concat(n+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(t+c*m[0],",").concat(n)),f+="L ".concat(t+r-c*m[1],",").concat(n),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*m[1])),f+="L ".concat(t+r,",").concat(n+a-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(t+r-c*m[2],",").concat(n+a)),f+="L ".concat(t+c*m[3],",").concat(n+a),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+a-l*m[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);f="M ".concat(t,",").concat(n+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(n,`
            L `).concat(t+r-c*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*v,`
            L `).concat(t+r,",").concat(n+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+r-c*v,",").concat(n+a,`
            L `).concat(t+c*v,",").concat(n+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(n+a-l*v," Z")}else f="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return f},WUe=function(t,n){if(!t||!n)return!1;var r=t.x,a=t.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),f=Math.max(i,i+l),m=Math.min(o,o+c),p=Math.max(o,o+c);return r>=u&&r<=f&&a>=m&&a<=p}return!1},GUe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},T3=function(t){var n=X9(X9({},GUe),t),r=j.useRef(),a=j.useState(-1),i=FUe(a,2),o=i[0],l=i[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&l(C)}catch{}},[]);var c=n.x,u=n.y,f=n.width,m=n.height,p=n.radius,g=n.className,v=n.animationEasing,y=n.animationDuration,w=n.animationBegin,N=n.isAnimationActive,A=n.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||m!==+m||f===0||m===0)return null;var T=Ct("recharts-rectangle",g);return A?Z.createElement(zo,{canBegin:o>0,from:{width:f,height:m,x:c,y:u},to:{width:f,height:m,x:c,y:u},duration:y,animationEasing:v,isActive:A},function(C){var S=C.width,E=C.height,O=C.x,_=C.y;return Z.createElement(zo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,isActive:N,easing:v},Z.createElement("path",pw({},at(n,!0),{className:T,d:Q9(O,_,S,E,p),ref:r})))}):Z.createElement("path",pw({},at(n,!0),{className:T,d:Q9(c,u,f,m,p)}))},YUe=["points","className","baseLinePoints","connectNulls"];function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yf.apply(this,arguments)}function XUe(e,t){if(e==null)return{};var n=QUe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QUe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function J9(e){return t8e(e)||e8e(e)||ZUe(e)||JUe()}function JUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZUe(e,t){if(e){if(typeof e=="string")return dM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dM(e,t)}}function e8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function t8e(e){if(Array.isArray(e))return dM(e)}function dM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z9=function(t){return t&&t.x===+t.x&&t.y===+t.y},n8e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){Z9(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),Z9(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Lx=function(t,n){var r=n8e(t);n&&(r=[r.reduce(function(i,o){return[].concat(J9(i),J9(o))},[])]);var a=r.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},r8e=function(t,n,r){var a=Lx(t,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Lx(n.reverse(),r).slice(1))},s8e=function(t){var n=t.points,r=t.className,a=t.baseLinePoints,i=t.connectNulls,o=XUe(t,YUe);if(!n||!n.length)return null;var l=Ct("recharts-polygon",r);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=r8e(n,a,i);return Z.createElement("g",{className:l},Z.createElement("path",Yf({},at(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?Z.createElement("path",Yf({},at(o,!0),{fill:"none",d:Lx(n,i)})):null,c?Z.createElement("path",Yf({},at(o,!0),{fill:"none",d:Lx(a,i)})):null)}var f=Lx(n,i);return Z.createElement("path",Yf({},at(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function uM(){return uM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uM.apply(this,arguments)}var g1=function(t){var n=t.cx,r=t.cy,a=t.r,i=t.className,o=Ct("recharts-dot",i);return n===+n&&r===+r&&a===+a?j.createElement("circle",uM({},at(t,!1),$j(t),{className:o,cx:n,cy:r,r:a})):null};function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}var a8e=["x","y","top","left","width","height","className"];function fM(){return fM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fM.apply(this,arguments)}function e7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function i8e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e7(Object(n),!0).forEach(function(r){o8e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o8e(e,t,n){return t=l8e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l8e(e){var t=c8e(e,"string");return Lg(t)=="symbol"?t:t+""}function c8e(e,t){if(Lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d8e(e,t){if(e==null)return{};var n=u8e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function u8e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var f8e=function(t,n,r,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(r)},h8e=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,m=f===void 0?0:f,p=t.height,g=p===void 0?0:p,v=t.className,y=d8e(t,a8e),w=i8e({x:r,y:i,top:l,left:u,width:m,height:g},y);return!$e(r)||!$e(i)||!$e(m)||!$e(g)||!$e(l)||!$e(u)?null:Z.createElement("path",fM({},at(w,!0),{className:Ct("recharts-cross",v),d:f8e(r,i,m,g,l,u)}))},WE,t7;function m8e(){if(t7)return WE;t7=1;var e=f1(),t=dae(),n=Ho();function r(a,i){return a&&a.length?e(a,n(i,2),t):void 0}return WE=r,WE}var p8e=m8e();const x8e=on(p8e);var GE,n7;function g8e(){if(n7)return GE;n7=1;var e=f1(),t=Ho(),n=uae();function r(a,i){return a&&a.length?e(a,t(i,2),n):void 0}return GE=r,GE}var y8e=g8e();const v8e=on(y8e);var b8e=["cx","cy","angle","ticks","axisLine"],j8e=["ticks","tick","angle","tickFormatter","stroke"];function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$x.apply(this,arguments)}function r7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r7(Object(n),!0).forEach(function(r){y1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s7(e,t){if(e==null)return{};var n=w8e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function w8e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function N8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xae(r.key),r)}}function S8e(e,t,n){return t&&a7(e.prototype,t),n&&a7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C8e(e,t,n){return t=xw(t),k8e(e,Yae()?Reflect.construct(t,n||[],xw(e).constructor):t.apply(e,n))}function k8e(e,t){if(t&&(qh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T8e(e)}function T8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yae=function(){return!!e})()}function xw(e){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xw(e)}function A8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hM(e,t)}function hM(e,t){return hM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},hM(e,t)}function y1(e,t,n){return t=Xae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xae(e){var t=E8e(e,"string");return qh(t)=="symbol"?t:t+""}function E8e(e,t){if(qh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var v1=(function(e){function t(){return N8e(this,t),C8e(this,t,arguments)}return A8e(t,e),S8e(t,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Mn(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=x8e(l,function(f){return f.coordinate||0}),u=v8e(l,function(f){return f.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=s7(r,b8e),f=l.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),m=Mn(a,i,f[0],o),p=Mn(a,i,f[1],o),g=Md(Md(Md({},at(u,!1)),{},{fill:"none"},at(c,!1)),{},{x1:m.x,y1:m.y,x2:p.x,y2:p.y});return Z.createElement("line",$x({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,f=s7(a,j8e),m=this.getTickTextAnchor(),p=at(f,!1),g=at(o,!1),v=i.map(function(y,w){var N=r.getTickValueCoord(y),A=Md(Md(Md(Md({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},p),{},{stroke:"none",fill:u},g),{},{index:w},N),{},{payload:y});return Z.createElement(Jt,$x({className:Ct("recharts-polar-radius-axis-tick",Fae(o)),key:"tick-".concat(y.coordinate)},Nu(r.props,y,w)),t.renderTickItem(o,A,c?c(y.value,w):y.value))});return Z.createElement(Jt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,o=r.tick;return!a||!a.length?null:Z.createElement(Jt,{className:Ct("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Xr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var o;return Z.isValidElement(r)?o=Z.cloneElement(r,a):vt(r)?o=r(a):o=Z.createElement(Su,$x({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(j.PureComponent);y1(v1,"displayName","PolarRadiusAxis");y1(v1,"axisType","radiusAxis");y1(v1,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zd.apply(this,arguments)}function i7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i7(Object(n),!0).forEach(function(r){b1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jae(r.key),r)}}function P8e(e,t,n){return t&&o7(e.prototype,t),n&&o7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function M8e(e,t,n){return t=gw(t),_8e(e,Qae()?Reflect.construct(t,n||[],gw(e).constructor):t.apply(e,n))}function _8e(e,t){if(t&&(Uh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R8e(e)}function R8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qae=function(){return!!e})()}function gw(e){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gw(e)}function D8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mM(e,t)}function mM(e,t){return mM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},mM(e,t)}function b1(e,t,n){return t=Jae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jae(e){var t=I8e(e,"string");return Uh(t)=="symbol"?t:t+""}function I8e(e,t){if(Uh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var L8e=Math.PI/180,l7=1e-5,j1=(function(e){function t(){return O8e(this,t),M8e(this,t,arguments)}return D8e(t,e),P8e(t,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,f=u||8,m=Mn(i,o,l,r.coordinate),p=Mn(i,o,l+(c==="inner"?-1:1)*f,r.coordinate);return{x1:m.x,y1:m.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*L8e),o;return i>l7?o=a==="outer"?"start":"end":i<-l7?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=_d(_d({},at(this.props,!1)),{},{fill:"none"},at(l,!1));if(c==="circle")return Z.createElement(g1,zd({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var f=this.props.ticks,m=f.map(function(p){return Mn(a,i,o,p.coordinate)});return Z.createElement(s8e,zd({className:"recharts-polar-angle-axis-line"},u,{points:m}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,f=at(this.props,!1),m=at(o,!1),p=_d(_d({},f),{},{fill:"none"},at(l,!1)),g=i.map(function(v,y){var w=r.getTickLineCoord(v),N=r.getTickTextAnchor(v),A=_d(_d(_d({textAnchor:N},f),{},{stroke:"none",fill:u},m),{},{index:y,payload:v,x:w.x2,y:w.y2});return Z.createElement(Jt,zd({className:Ct("recharts-polar-angle-axis-tick",Fae(o)),key:"tick-".concat(v.coordinate)},Nu(r.props,v,y)),l&&Z.createElement("line",zd({className:"recharts-polar-angle-axis-tick-line"},p,w)),o&&t.renderTickItem(o,A,c?c(v.value,y):v.value))});return Z.createElement(Jt,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!a||!a.length?null:Z.createElement(Jt,{className:Ct("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var o;return Z.isValidElement(r)?o=Z.cloneElement(r,a):vt(r)?o=r(a):o=Z.createElement(Su,zd({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(j.PureComponent);b1(j1,"displayName","PolarAngleAxis");b1(j1,"axisType","angleAxis");b1(j1,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var YE,c7;function $8e(){if(c7)return YE;c7=1;var e=cse(),t=e(Object.getPrototypeOf,Object);return YE=t,YE}var XE,d7;function F8e(){if(d7)return XE;d7=1;var e=Wl(),t=$8e(),n=Gl(),r="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=o.call(Object);function u(f){if(!n(f)||e(f)!=r)return!1;var m=t(f);if(m===null)return!0;var p=l.call(m,"constructor")&&m.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==c}return XE=u,XE}var B8e=F8e();const z8e=on(B8e);var QE,u7;function q8e(){if(u7)return QE;u7=1;var e=Wl(),t=Gl(),n="[object Boolean]";function r(a){return a===!0||a===!1||t(a)&&e(a)==n}return QE=r,QE}var U8e=q8e();const V8e=on(U8e);function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yw.apply(this,arguments)}function H8e(e,t){return Y8e(e)||G8e(e,t)||W8e(e,t)||K8e()}function K8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W8e(e,t){if(e){if(typeof e=="string")return f7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f7(e,t)}}function f7(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G8e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Y8e(e){if(Array.isArray(e))return e}function h7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function m7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h7(Object(n),!0).forEach(function(r){X8e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X8e(e,t,n){return t=Q8e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q8e(e){var t=J8e(e,"string");return $g(t)=="symbol"?t:t+""}function J8e(e,t){if($g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p7=function(t,n,r,a,i){var o=r-a,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+i),l+="L ".concat(t+r-o/2-a,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},Z8e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eVe=function(t){var n=m7(m7({},Z8e),t),r=j.useRef(),a=j.useState(-1),i=H8e(a,2),o=i[0],l=i[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&l(T)}catch{}},[]);var c=n.x,u=n.y,f=n.upperWidth,m=n.lowerWidth,p=n.height,g=n.className,v=n.animationEasing,y=n.animationDuration,w=n.animationBegin,N=n.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||m!==+m||p!==+p||f===0&&m===0||p===0)return null;var A=Ct("recharts-trapezoid",g);return N?Z.createElement(zo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:f,lowerWidth:m,height:p,x:c,y:u},duration:y,animationEasing:v,isActive:N},function(T){var C=T.upperWidth,S=T.lowerWidth,E=T.height,O=T.x,_=T.y;return Z.createElement(zo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,easing:v},Z.createElement("path",yw({},at(n,!0),{className:A,d:p7(O,_,C,S,E),ref:r})))}):Z.createElement("g",null,Z.createElement("path",yw({},at(n,!0),{className:A,d:p7(c,u,f,m,p)})))},tVe=["option","shapeType","propTransformer","activeClassName","isActive"];function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function nVe(e,t){if(e==null)return{};var n=rVe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rVe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function x7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x7(Object(n),!0).forEach(function(r){sVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sVe(e,t,n){return t=aVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aVe(e){var t=iVe(e,"string");return Fg(t)=="symbol"?t:t+""}function iVe(e,t){if(Fg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oVe(e,t){return vw(vw({},t),e)}function lVe(e,t){return e==="symbols"}function g7(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return Z.createElement(T3,n);case"trapezoid":return Z.createElement(eVe,n);case"sector":return Z.createElement(qae,n);case"symbols":if(lVe(t))return Z.createElement(K5,n);break;default:return null}}function cVe(e){return j.isValidElement(e)?e.props:e}function Zae(e){var t=e.option,n=e.shapeType,r=e.propTransformer,a=r===void 0?oVe:r,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=nVe(e,tVe),u;if(j.isValidElement(t))u=j.cloneElement(t,vw(vw({},c),cVe(t)));else if(vt(t))u=t(c);else if(z8e(t)&&!V8e(t)){var f=a(t,c);u=Z.createElement(g7,{shapeType:n,elementProps:f})}else{var m=c;u=Z.createElement(g7,{shapeType:n,elementProps:m})}return l?Z.createElement(Jt,{className:o},u):u}function w1(e,t){return t!=null&&"trapezoids"in e.props}function N1(e,t){return t!=null&&"sectors"in e.props}function Bg(e,t){return t!=null&&"points"in e.props}function dVe(e,t){var n,r,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return a&&i}function uVe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function fVe(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function hVe(e,t){var n;return w1(e,t)?n=dVe:N1(e,t)?n=uVe:Bg(e,t)&&(n=fVe),n}function mVe(e,t){var n;return w1(e,t)?n="trapezoids":N1(e,t)?n="sectors":Bg(e,t)&&(n="points"),n}function pVe(e,t){if(w1(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(N1(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Bg(e,t)?t.payload:{}}function xVe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=mVe(n,t),i=pVe(n,t),o=r.filter(function(c,u){var f=Ty(i,c),m=n.props[a].filter(function(v){var y=hVe(n,t);return y(v,t)}),p=n.props[a].indexOf(m[m.length-1]),g=u===p;return f&&g}),l=r.indexOf(o[o.length-1]);return l}var h0;function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xf.apply(this,arguments)}function y7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y7(Object(n),!0).forEach(function(r){mi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tie(r.key),r)}}function yVe(e,t,n){return t&&v7(e.prototype,t),n&&v7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vVe(e,t,n){return t=bw(t),bVe(e,eie()?Reflect.construct(t,n||[],bw(e).constructor):t.apply(e,n))}function bVe(e,t){if(t&&(Vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jVe(e)}function jVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eie=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bw(e)}function wVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pM(e,t)}function pM(e,t){return pM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},pM(e,t)}function mi(e,t,n){return t=tie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tie(e){var t=NVe(e,"string");return Vh(t)=="symbol"?t:t+""}function NVe(e,t){if(Vh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xl=(function(e){function t(n){var r;return gVe(this,t),r=vVe(this,t,[n]),mi(r,"pieRef",null),mi(r,"sectorRefs",[]),mi(r,"id",jm("recharts-pie-")),mi(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),vt(a)&&a()}),mi(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),vt(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return wVe(t,e),yVe(t,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,f=at(this.props,!1),m=at(o,!1),p=at(l,!1),g=o&&o.offsetRadius||20,v=r.map(function(y,w){var N=(y.startAngle+y.endAngle)/2,A=Mn(y.cx,y.cy,y.outerRadius+g,N),T=An(An(An(An({},f),y),{},{stroke:"none"},m),{},{index:w,textAnchor:t.getTextAnchor(A.x,y.cx)},A),C=An(An(An(An({},f),y),{},{fill:"none",stroke:y.fill},p),{},{index:w,points:[Mn(y.cx,y.cy,y.outerRadius,N),A]}),S=c;return Nt(c)&&Nt(u)?S="value":Nt(c)&&(S=u),Z.createElement(Jt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(w)},l&&t.renderLabelLineItem(l,C,"line"),t.renderLabelItem(o,T,zr(y,S)))});return Z.createElement(Jt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return r.map(function(u,f){if(u?.startAngle===0&&u?.endAngle===0&&r.length!==1)return null;var m=a.isActiveIndex(f),p=c&&a.hasActiveIndex()?c:null,g=m?o:p,v=An(An({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return Z.createElement(Jt,Xf({ref:function(w){w&&!a.sectorRefs.includes(w)&&a.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Nu(a.props,u,f),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(f)}),Z.createElement(Zae,Xf({option:g,isActive:m,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,m=this.state,p=m.prevSectors,g=m.prevIsAnimationActive;return Z.createElement(zo,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,w=[],N=i&&i[0],A=N.startAngle;return i.forEach(function(T,C){var S=p&&p[C],E=C>0?Ba(T,"paddingAngle",0):0;if(S){var O=Oa(S.endAngle-S.startAngle,T.endAngle-T.startAngle),_=An(An({},T),{},{startAngle:A+E,endAngle:A+O(y)+E});w.push(_),A=_.endAngle}else{var M=T.endAngle,$=T.startAngle,z=Oa(0,M-$),V=z(y),I=An(An({},T),{},{startAngle:A+E,endAngle:A+V+E});w.push(I),A=I.endAngle}}),Z.createElement(Jt,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Ty(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,f=a.cy,m=a.innerRadius,p=a.outerRadius,g=a.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!$e(u)||!$e(f)||!$e(m)||!$e(p))return null;var y=Ct("recharts-pie",l);return Z.createElement(Jt,{tabIndex:this.props.rootTabIndex,className:y,ref:function(N){r.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),Xr.renderCallByParent(this.props,null,!1),(!g||v)&&Dl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,i){if(Z.isValidElement(r))return Z.cloneElement(r,a);if(vt(r))return r(a);var o=Ct("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return Z.createElement(uw,Xf({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,a,i){if(Z.isValidElement(r))return Z.cloneElement(r,a);var o=i;if(vt(r)&&(o=r(a),Z.isValidElement(o)))return o;var l=Ct("recharts-pie-label-text",typeof r!="boolean"&&!vt(r)?r.className:"");return Z.createElement(Su,Xf({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(j.PureComponent);h0=Xl;mi(Xl,"displayName","Pie");mi(Xl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Fu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});mi(Xl,"parseDeltaAngle",function(e,t){var n=zs(t-e),r=Math.min(Math.abs(t-e),360);return n*r});mi(Xl,"getRealPieData",function(e){var t=e.data,n=e.children,r=at(e,!1),a=za(n,a1);return t&&t.length?t.map(function(i,o){return An(An(An({payload:i},r),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return An(An({},r),i.props)}):[]});mi(Xl,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,i=t.height,o=$ae(a,i),l=r+qs(e.cx,a,a/2),c=n+qs(e.cy,i,i/2),u=qs(e.innerRadius,o,0),f=qs(e.outerRadius,o,o*.8),m=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:m}});mi(Xl,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?An(An({},t.type.defaultProps),t.props):t.props,a=h0.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,f=r.nameKey,m=r.valueKey,p=r.tooltipType,g=Math.abs(r.minAngle),v=h0.parseCoordinateOfPie(r,n),y=h0.parseDeltaAngle(o,l),w=Math.abs(y),N=u;Nt(u)&&Nt(m)?(Xi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):Nt(u)&&(Xi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=m);var A=a.filter(function(_){return zr(_,N,0)!==0}).length,T=(w>=360?A:A-1)*c,C=w-A*g-T,S=a.reduce(function(_,M){var $=zr(M,N,0);return _+($e($)?$:0)},0),E;if(S>0){var O;E=a.map(function(_,M){var $=zr(_,N,0),z=zr(_,f,M),V=($e($)?$:0)/S,I;M?I=O.endAngle+zs(y)*c*($!==0?1:0):I=o;var F=I+zs(y)*(($!==0?g:0)+V*C),K=(I+F)/2,R=(v.innerRadius+v.outerRadius)/2,B=[{name:z,value:$,payload:_,dataKey:N,type:p}],L=Mn(v.cx,v.cy,R,K);return O=An(An(An({percent:V,cornerRadius:i,name:z,tooltipPayload:B,midAngle:K,middleRadius:R,tooltipPosition:L},_),v),{},{value:zr(_,N),startAngle:I,endAngle:F,payload:_,paddingAngle:zs(y)*c}),O})}return An(An({},v),{},{sectors:E,data:a})});var JE,b7;function SVe(){if(b7)return JE;b7=1;var e=Math.ceil,t=Math.max;function n(r,a,i,o){for(var l=-1,c=t(e((a-r)/(i||1)),0),u=Array(c);c--;)u[o?c:++l]=r,r+=i;return u}return JE=n,JE}var ZE,j7;function nie(){if(j7)return ZE;j7=1;var e=Cse(),t=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*n}return a===a?a:0}return ZE=r,ZE}var eO,w7;function CVe(){if(w7)return eO;w7=1;var e=SVe(),t=r1(),n=nie();function r(a){return function(i,o,l){return l&&typeof l!="number"&&t(i,o,l)&&(o=l=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),l=l===void 0?i<o?1:-1:n(l),e(i,o,l,a)}}return eO=r,eO}var tO,N7;function kVe(){if(N7)return tO;N7=1;var e=CVe(),t=e();return tO=t,tO}var TVe=kVe();const jw=on(TVe);function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function S7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function C7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S7(Object(n),!0).forEach(function(r){rie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rie(e,t,n){return t=AVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AVe(e){var t=EVe(e,"string");return zg(t)=="symbol"?t:t+""}function EVe(e,t){if(zg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OVe=["Webkit","Moz","O","ms"],PVe=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=OVe.reduce(function(i,o){return C7(C7({},i),{},rie({},o+r,n))},{});return a[t]=n,a};function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ww.apply(this,arguments)}function k7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k7(Object(n),!0).forEach(function(r){ka(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aie(r.key),r)}}function _Ve(e,t,n){return t&&T7(e.prototype,t),n&&T7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function RVe(e,t,n){return t=Nw(t),DVe(e,sie()?Reflect.construct(t,n||[],Nw(e).constructor):t.apply(e,n))}function DVe(e,t){if(t&&(Hh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IVe(e)}function IVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sie=function(){return!!e})()}function Nw(e){return Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nw(e)}function LVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xM(e,t)}function xM(e,t){return xM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},xM(e,t)}function ka(e,t,n){return t=aie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aie(e){var t=$Ve(e,"string");return Hh(t)=="symbol"?t:t+""}function $Ve(e,t){if(Hh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var FVe=function(t){var n=t.data,r=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Rx().domain(jw(0,c)).range([i,i+o-l]),f=u.domain().map(function(m){return u(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(a),scale:u,scaleValues:f}},A7=function(t){return t.changedTouches&&!!t.changedTouches.length},Kh=(function(e){function t(n){var r;return MVe(this,t),r=RVe(this,t,[n]),ka(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),ka(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),ka(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),ka(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ka(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ka(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ka(r,"handleSlideDragStart",function(a){var i=A7(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return LVe(t,e),_Ve(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,m=Math.min(a,i),p=Math.max(a,i),g=t.getIndexInRange(o,m),v=t.getIndexInRange(o,p);return{startIndex:g-g%c,endIndex:v===f?f:v-v%c}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=zr(i[r],l,r);return vt(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,f=c.width,m=c.travellerWidth,p=c.startIndex,g=c.endIndex,v=c.onChange,y=r.pageX-i;y>0?y=Math.min(y,u+f-m-l,u+f-m-o):y<0&&(y=Math.max(y,u-o,u-l));var w=this.getIndex({startX:o+y,endX:l+y});(w.startIndex!==p||w.endIndex!==g)&&v&&v(w),this.setState({startX:o+y,endX:l+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=A7(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],f=this.props,m=f.x,p=f.width,g=f.travellerWidth,v=f.onChange,y=f.gap,w=f.data,N={startX:this.state.startX,endX:this.state.endX},A=r.pageX-i;A>0?A=Math.min(A,m+p-g-u):A<0&&(A=Math.max(A,m-u)),N[o]=u+A;var T=this.getIndex(N),C=T.startIndex,S=T.endIndex,E=function(){var _=w.length-1;return o==="startX"&&(l>c?C%y===0:S%y===0)||l<c&&S===_||o==="endX"&&(l>c?S%y===0:C%y===0)||l>c&&S===_};this.setState(ka(ka({},o,u+A),"brushMoveStartX",r.pageX),function(){v&&E()&&v(T)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[a],m=l.indexOf(f);if(m!==-1){var p=m+r;if(!(p===-1||p>=l.length)){var g=l[p];a==="startX"&&g>=u||a==="endX"&&g<=c||this.setState(ka({},a,g),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return Z.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.data,u=r.children,f=r.padding,m=j.Children.only(u);return m?Z.cloneElement(m,{x:a,y:i,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,m=c.height,p=c.traveller,g=c.ariaLabel,v=c.data,y=c.startIndex,w=c.endIndex,N=Math.max(r,this.props.x),A=nO(nO({},at(this.props,!1)),{},{x:N,y:u,width:f,height:m}),T=g||"Min value: ".concat((i=v[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[w])===null||o===void 0?void 0:o.name);return Z.createElement(Jt,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,A))}},{key:"renderSlide",value:function(r,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,f=Math.min(r,a)+u,m=Math.max(Math.abs(a-r)-u,0);return Z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:m,height:l})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,f=this.state,m=f.startX,p=f.endX,g=5,v={pointerEvents:"none",fill:u};return Z.createElement(Jt,{className:"recharts-brush-texts"},Z.createElement(Su,ww({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,p)-g,y:o+l/2},v),this.getTextOfTick(a)),Z.createElement(Su,ww({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,p)+c+g,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,o=r.children,l=r.x,c=r.y,u=r.width,f=r.height,m=r.alwaysShowText,p=this.state,g=p.startX,v=p.endX,y=p.isTextActive,w=p.isSlideMoving,N=p.isTravellerMoving,A=p.isTravellerFocused;if(!a||!a.length||!$e(l)||!$e(c)||!$e(u)||!$e(f)||u<=0||f<=0)return null;var T=Ct("recharts-brush",i),C=Z.Children.count(o)===1,S=PVe("userSelect","none");return Z.createElement(Jt,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(y||w||N||A||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(i+l/2)-1;return Z.createElement(Z.Fragment,null,Z.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),Z.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),Z.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return Z.isValidElement(r)?i=Z.cloneElement(r,a):vt(r)?i=r(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,f=r.startIndex,m=r.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return nO({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?FVe({data:i,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var p=a.scale.domain().map(function(g){return a.scale(g)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>a?l=c:o=c}return a>=r[l]?l:o}}])})(j.PureComponent);ka(Kh,"displayName","Brush");ka(Kh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var rO,E7;function BVe(){if(E7)return rO;E7=1;var e=Z5();function t(n,r){var a;return e(n,function(i,o,l){return a=r(i,o,l),!a}),!!a}return rO=t,rO}var sO,O7;function zVe(){if(O7)return sO;O7=1;var e=nse(),t=Ho(),n=BVe(),r=xa(),a=r1();function i(o,l,c){var u=r(o)?e:n;return c&&a(o,l,c)&&(l=void 0),u(o,t(l,3))}return sO=i,sO}var qVe=zVe();const UVe=on(qVe);var Mo=function(t,n){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===n},aO,P7;function VVe(){if(P7)return aO;P7=1;var e=bse();function t(n,r,a){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}return aO=t,aO}var iO,M7;function HVe(){if(M7)return iO;M7=1;var e=VVe(),t=yse(),n=Ho();function r(a,i){var o={};return i=n(i,3),t(a,function(l,c,u){e(o,c,i(l,c,u))}),o}return iO=r,iO}var KVe=HVe();const WVe=on(KVe);var oO,_7;function GVe(){if(_7)return oO;_7=1;function e(t,n){for(var r=-1,a=t==null?0:t.length;++r<a;)if(!n(t[r],r,t))return!1;return!0}return oO=e,oO}var lO,R7;function YVe(){if(R7)return lO;R7=1;var e=Z5();function t(n,r){var a=!0;return e(n,function(i,o,l){return a=!!r(i,o,l),a}),a}return lO=t,lO}var cO,D7;function XVe(){if(D7)return cO;D7=1;var e=GVe(),t=YVe(),n=Ho(),r=xa(),a=r1();function i(o,l,c){var u=r(o)?e:t;return c&&a(o,l,c)&&(l=void 0),u(o,n(l,3))}return cO=i,cO}var QVe=XVe();const iie=on(QVe);var JVe=["x","y"];function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}function gM(){return gM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gM.apply(this,arguments)}function I7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Wp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I7(Object(n),!0).forEach(function(r){ZVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZVe(e,t,n){return t=eHe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eHe(e){var t=tHe(e,"string");return qg(t)=="symbol"?t:t+""}function tHe(e,t){if(qg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nHe(e,t){if(e==null)return{};var n=rHe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rHe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function sHe(e,t){var n=e.x,r=e.y,a=nHe(e,JVe),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||a.height),f=parseInt(u,10),m="".concat(t.width||a.width),p=parseInt(m,10);return Wp(Wp(Wp(Wp(Wp({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:p,name:t.name,radius:t.radius})}function L7(e){return Z.createElement(Zae,gM({shapeType:"rectangle",propTransformer:sHe,activeClassName:"recharts-active-bar"},e))}var aHe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof t=="number")return t;var i=$e(r)||d3e(r);return i?t(r,a):(i||ku(),n)}},iHe=["value","background"],oie;function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function oHe(e,t){if(e==null)return{};var n=lHe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lHe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sw.apply(this,arguments)}function $7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$7(Object(n),!0).forEach(function(r){Lc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cie(r.key),r)}}function dHe(e,t,n){return t&&F7(e.prototype,t),n&&F7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uHe(e,t,n){return t=Cw(t),fHe(e,lie()?Reflect.construct(t,n||[],Cw(e).constructor):t.apply(e,n))}function fHe(e,t){if(t&&(Wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hHe(e)}function hHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lie=function(){return!!e})()}function Cw(e){return Cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cw(e)}function mHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yM(e,t)}function yM(e,t){return yM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},yM(e,t)}function Lc(e,t,n){return t=cie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cie(e){var t=pHe(e,"string");return Wh(t)=="symbol"?t:t+""}function pHe(e,t){if(Wh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ey=(function(e){function t(){var n;cHe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=uHe(this,t,[].concat(a)),Lc(n,"state",{isAnimationFinished:!1}),Lc(n,"id",jm("recharts-bar-")),Lc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Lc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return mHe(t,e),dHe(t,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,f=at(this.props,!1);return r&&r.map(function(m,p){var g=p===c,v=g?u:o,y=Tr(Tr(Tr({},f),m),{},{isActive:g,option:v,index:p,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Z.createElement(Jt,Sw({className:"recharts-bar-rectangle"},Nu(a.props,m,p),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(p)}),Z.createElement(L7,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,f=a.animationEasing,m=a.animationId,p=this.state.prevData;return Z.createElement(zo,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,y=i.map(function(w,N){var A=p&&p[N];if(A){var T=Oa(A.x,w.x),C=Oa(A.y,w.y),S=Oa(A.width,w.width),E=Oa(A.height,w.height);return Tr(Tr({},w),{},{x:T(v),y:C(v),width:S(v),height:E(v)})}if(o==="horizontal"){var O=Oa(0,w.height),_=O(v);return Tr(Tr({},w),{},{y:w.y+w.height-_,height:_})}var M=Oa(0,w.width),$=M(v);return Tr(Tr({},w),{},{width:$})});return Z.createElement(Jt,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Ty(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=at(this.props.background,!1);return i.map(function(u,f){u.value;var m=u.background,p=oHe(u,iHe);if(!m)return null;var g=Tr(Tr(Tr(Tr(Tr({},p),{},{fill:"#eee"},m),c),Nu(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return Z.createElement(L7,Sw({key:"background-bar-".concat(f),option:r.props.background,isActive:f===l},g))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,m=za(f,Ay);if(!m)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,g=function(w,N){var A=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:A,errorVal:zr(w,N)}},v={clipPath:r?"url(#clipPath-".concat(a,")"):null};return Z.createElement(Jt,v,m.map(function(y){return Z.cloneElement(y,{key:"error-bar-".concat(a,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:p,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,f=r.top,m=r.width,p=r.height,g=r.isAnimationActive,v=r.background,y=r.id;if(a||!i||!i.length)return null;var w=this.state.isAnimationFinished,N=Ct("recharts-bar",o),A=l&&l.allowDataOverflow,T=c&&c.allowDataOverflow,C=A||T,S=Nt(y)?this.id:y;return Z.createElement(Jt,{className:N},A||T?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(S)},Z.createElement("rect",{x:A?u:u-m/2,y:T?f:f-p/2,width:A?m:m*2,height:T?p:p*2}))):null,Z.createElement(Jt,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,S),(!g||w)&&Dl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])})(j.PureComponent);oie=Ey;Lc(Ey,"displayName","Bar");Lc(Ey,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Lc(Ey,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,m=e.displayedData,p=e.offset,g=Cze(r,n);if(!g)return null;var v=t.layout,y=n.type.defaultProps,w=y!==void 0?Tr(Tr({},y),n.props):n.props,N=w.dataKey,A=w.children,T=w.minPointSize,C=v==="horizontal"?o:i,S=u?C.scale.domain():null,E=Mze({numericAxis:C}),O=za(A,a1),_=m.map(function(M,$){var z,V,I,F,K,R;u?z=kze(u[f+$],S):(z=zr(M,N),Array.isArray(z)||(z=[E,z]));var B=aHe(T,oie.defaultProps.minPointSize)(z[1],$);if(v==="horizontal"){var L,q=[o.scale(z[0]),o.scale(z[1])],se=q[0],H=q[1];V=y9({axis:i,ticks:l,bandSize:a,offset:g.offset,entry:M,index:$}),I=(L=H??se)!==null&&L!==void 0?L:void 0,F=g.size;var Y=se-H;if(K=Number.isNaN(Y)?0:Y,R={x:V,y:o.y,width:F,height:o.height},Math.abs(B)>0&&Math.abs(K)<Math.abs(B)){var G=zs(K||B)*(Math.abs(B)-Math.abs(K));I-=G,K+=G}}else{var X=[i.scale(z[0]),i.scale(z[1])],ae=X[0],de=X[1];if(V=ae,I=y9({axis:o,ticks:c,bandSize:a,offset:g.offset,entry:M,index:$}),F=de-ae,K=g.size,R={x:i.x,y:I,width:i.width,height:K},Math.abs(B)>0&&Math.abs(F)<Math.abs(B)){var he=zs(F||B)*(Math.abs(B)-Math.abs(F));F+=he}}return Tr(Tr(Tr({},M),{},{x:V,y:I,width:F,height:K,value:u?z:z[1],payload:M,background:R},O&&O[$]&&O[$].props),{},{tooltipPayload:[Iae(n,M)],tooltipPosition:{x:V+F/2,y:I+K/2}})});return Tr({data:_,layout:v},p)});function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function xHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,die(r.key),r)}}function gHe(e,t,n){return t&&B7(e.prototype,t),n&&B7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function z7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z7(Object(n),!0).forEach(function(r){S1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S1(e,t,n){return t=die(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function die(e){var t=yHe(e,"string");return Ug(t)=="symbol"?t:t+""}function yHe(e,t){if(Ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vHe=function(t,n,r,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(n),m={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},p=!!Ta(u,Ey);return f.reduce(function(g,v){var y=n[v],w=y.orientation,N=y.domain,A=y.padding,T=A===void 0?{}:A,C=y.mirror,S=y.reversed,E="".concat(w).concat(C?"Mirror":""),O,_,M,$,z;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var V=N[1]-N[0],I=1/0,F=y.categoricalDomain.sort(h3e);if(F.forEach(function(X,ae){ae>0&&(I=Math.min((X||0)-(F[ae-1]||0),I))}),Number.isFinite(I)){var K=I/V,R=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(O=K*R/2),y.padding==="no-gap"){var B=qs(t.barCategoryGap,K*R),L=K*R/2;O=L-B-(L-B)/R*B}}}a==="xAxis"?_=[r.left+(T.left||0)+(O||0),r.left+r.width-(T.right||0)-(O||0)]:a==="yAxis"?_=c==="horizontal"?[r.top+r.height-(T.bottom||0),r.top+(T.top||0)]:[r.top+(T.top||0)+(O||0),r.top+r.height-(T.bottom||0)-(O||0)]:_=y.range,S&&(_=[_[1],_[0]]);var q=Mae(y,i,p),se=q.scale,H=q.realScaleType;se.domain(N).range(_),_ae(se);var Y=Rae(se,$i($i({},y),{},{realScaleType:H}));a==="xAxis"?(z=w==="top"&&!C||w==="bottom"&&C,M=r.left,$=m[E]-z*y.height):a==="yAxis"&&(z=w==="left"&&!C||w==="right"&&C,M=m[E]-z*y.width,$=r.top);var G=$i($i($i({},y),Y),{},{realScaleType:H,x:M,y:$,scale:se,width:a==="xAxis"?r.width:y.width,height:a==="yAxis"?r.height:y.height});return G.bandSize=lw(G,Y),!y.hide&&a==="xAxis"?m[E]+=(z?-1:1)*G.height:y.hide||(m[E]+=(z?-1:1)*G.width),$i($i({},g),{},S1({},v,G))},{})},uie=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(a,o),width:Math.abs(i-r),height:Math.abs(o-a)}},bHe=function(t){var n=t.x1,r=t.y1,a=t.x2,i=t.y2;return uie({x:n,y:r},{x:a,y:i})},fie=(function(){function e(t){xHe(this,e),this.scale=t}return gHe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])})();S1(fie,"EPS",1e-4);var A3=function(t){var n=Object.keys(t).reduce(function(r,a){return $i($i({},r),{},S1({},a,fie.create(t[a])))},{});return $i($i({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return WVe(a,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return iie(a,function(i,o){return n[o].isInRange(i)})}})};function jHe(e){return(e%180+180)%180}var wHe=function(t){var n=t.width,r=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=jHe(a),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},dO,q7;function NHe(){if(q7)return dO;q7=1;var e=Ho(),t=wy(),n=t1();function r(a){return function(i,o,l){var c=Object(i);if(!t(i)){var u=e(o,3);i=n(i),o=function(m){return u(c[m],m,c)}}var f=a(i,o,l);return f>-1?c[u?i[f]:f]:void 0}}return dO=r,dO}var uO,U7;function SHe(){if(U7)return uO;U7=1;var e=nie();function t(n){var r=e(n),a=r%1;return r===r?a?r-a:r:0}return uO=t,uO}var fO,V7;function CHe(){if(V7)return fO;V7=1;var e=hse(),t=Ho(),n=SHe(),r=Math.max;function a(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:n(l);return u<0&&(u=r(c+u,0)),e(i,t(o,3),u)}return fO=a,fO}var hO,H7;function kHe(){if(H7)return hO;H7=1;var e=NHe(),t=CHe(),n=e(t);return hO=n,hO}var THe=kHe();const AHe=on(THe);var EHe=Ere();const OHe=on(EHe);var PHe=OHe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),E3=j.createContext(void 0),O3=j.createContext(void 0),hie=j.createContext(void 0),mie=j.createContext({}),pie=j.createContext(void 0),xie=j.createContext(0),gie=j.createContext(0),K7=function(t){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,f=PHe(i);return Z.createElement(E3.Provider,{value:r},Z.createElement(O3.Provider,{value:a},Z.createElement(mie.Provider,{value:i},Z.createElement(hie.Provider,{value:f},Z.createElement(pie.Provider,{value:o},Z.createElement(xie.Provider,{value:u},Z.createElement(gie.Provider,{value:c},l)))))))},MHe=function(){return j.useContext(pie)},yie=function(t){var n=j.useContext(E3);n==null&&ku();var r=n[t];return r==null&&ku(),r},_He=function(){var t=j.useContext(E3);return _c(t)},RHe=function(){var t=j.useContext(O3),n=AHe(t,function(r){return iie(r.domain,Number.isFinite)});return n||_c(t)},vie=function(t){var n=j.useContext(O3);n==null&&ku();var r=n[t];return r==null&&ku(),r},DHe=function(){var t=j.useContext(hie);return t},IHe=function(){return j.useContext(mie)},P3=function(){return j.useContext(gie)},M3=function(){return j.useContext(xie)};function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function LHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jie(r.key),r)}}function FHe(e,t,n){return t&&$He(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BHe(e,t,n){return t=kw(t),zHe(e,bie()?Reflect.construct(t,n||[],kw(e).constructor):t.apply(e,n))}function zHe(e,t){if(t&&(Gh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qHe(e)}function qHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bie=function(){return!!e})()}function kw(e){return kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kw(e)}function UHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vM(e,t)}function vM(e,t){return vM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},vM(e,t)}function W7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function G7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W7(Object(n),!0).forEach(function(r){_3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _3(e,t,n){return t=jie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jie(e){var t=VHe(e,"string");return Gh(t)=="symbol"?t:t+""}function VHe(e,t){if(Gh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function HHe(e,t){return YHe(e)||GHe(e,t)||WHe(e,t)||KHe()}function KHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WHe(e,t){if(e){if(typeof e=="string")return Y7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y7(e,t)}}function Y7(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GHe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function YHe(e){if(Array.isArray(e))return e}function bM(){return bM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bM.apply(this,arguments)}var XHe=function(t,n){var r;return Z.isValidElement(t)?r=Z.cloneElement(t,n):vt(t)?r=t(n):r=Z.createElement("line",bM({},n,{className:"recharts-reference-line-line"})),r},QHe=function(t,n,r,a,i,o,l,c,u){var f=i.x,m=i.y,p=i.width,g=i.height;if(r){var v=u.y,y=t.y.apply(v,{position:o});if(Mo(u,"discard")&&!t.y.isInRange(y))return null;var w=[{x:f+p,y},{x:f,y}];return c==="left"?w.reverse():w}if(n){var N=u.x,A=t.x.apply(N,{position:o});if(Mo(u,"discard")&&!t.x.isInRange(A))return null;var T=[{x:A,y:m+g},{x:A,y:m}];return l==="top"?T.reverse():T}if(a){var C=u.segment,S=C.map(function(E){return t.apply(E,{position:o})});return Mo(u,"discard")&&UVe(S,function(E){return!t.isInRange(E)})?null:S}return null};function JHe(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=MHe(),f=yie(a),m=vie(i),p=DHe();if(!u||!p)return null;Xi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=A3({x:f.scale,y:m.scale}),v=Ur(t),y=Ur(n),w=r&&r.length===2,N=QHe(g,v,y,w,p,e.position,f.orientation,m.orientation,e);if(!N)return null;var A=HHe(N,2),T=A[0],C=T.x,S=T.y,E=A[1],O=E.x,_=E.y,M=Mo(e,"hidden")?"url(#".concat(u,")"):void 0,$=G7(G7({clipPath:M},at(e,!0)),{},{x1:C,y1:S,x2:O,y2:_});return Z.createElement(Jt,{className:Ct("recharts-reference-line",l)},XHe(o,$),Xr.renderCallByParent(e,bHe({x1:C,y1:S,x2:O,y2:_})))}var R3=(function(e){function t(){return LHe(this,t),BHe(this,t,arguments)}return UHe(t,e),FHe(t,[{key:"render",value:function(){return Z.createElement(JHe,this.props)}}])})(Z.Component);_3(R3,"displayName","ReferenceLine");_3(R3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function jM(){return jM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jM.apply(this,arguments)}function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function X7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Q7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X7(Object(n),!0).forEach(function(r){C1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e9e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nie(r.key),r)}}function t9e(e,t,n){return t&&e9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n9e(e,t,n){return t=Tw(t),r9e(e,wie()?Reflect.construct(t,n||[],Tw(e).constructor):t.apply(e,n))}function r9e(e,t){if(t&&(Yh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s9e(e)}function s9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wie=function(){return!!e})()}function Tw(e){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tw(e)}function a9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wM(e,t)}function wM(e,t){return wM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},wM(e,t)}function C1(e,t,n){return t=Nie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nie(e){var t=i9e(e,"string");return Yh(t)=="symbol"?t:t+""}function i9e(e,t){if(Yh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var o9e=function(t){var n=t.x,r=t.y,a=t.xAxis,i=t.yAxis,o=A3({x:a.scale,y:i.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Mo(t,"discard")&&!o.isInRange(l)?null:l},k1=(function(e){function t(){return ZHe(this,t),n9e(this,t,arguments)}return a9e(t,e),t9e(t,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=Ur(a),f=Ur(i);if(Xi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var m=o9e(this.props);if(!m)return null;var p=m.x,g=m.y,v=this.props,y=v.shape,w=v.className,N=Mo(this.props,"hidden")?"url(#".concat(c,")"):void 0,A=Q7(Q7({clipPath:N},at(this.props,!0)),{},{cx:p,cy:g});return Z.createElement(Jt,{className:Ct("recharts-reference-dot",w)},t.renderDot(y,A),Xr.renderCallByParent(this.props,{x:p-o,y:g-o,width:2*o,height:2*o}))}}])})(Z.Component);C1(k1,"displayName","ReferenceDot");C1(k1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});C1(k1,"renderDot",function(e,t){var n;return Z.isValidElement(e)?n=Z.cloneElement(e,t):vt(e)?n=e(t):n=Z.createElement(g1,jM({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function NM(){return NM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NM.apply(this,arguments)}function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}function J7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Z7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J7(Object(n),!0).forEach(function(r){T1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c9e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cie(r.key),r)}}function d9e(e,t,n){return t&&c9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u9e(e,t,n){return t=Aw(t),f9e(e,Sie()?Reflect.construct(t,n||[],Aw(e).constructor):t.apply(e,n))}function f9e(e,t){if(t&&(Xh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h9e(e)}function h9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sie=function(){return!!e})()}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Aw(e)}function m9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SM(e,t)}function SM(e,t){return SM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},SM(e,t)}function T1(e,t,n){return t=Cie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cie(e){var t=p9e(e,"string");return Xh(t)=="symbol"?t:t+""}function p9e(e,t){if(Xh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var x9e=function(t,n,r,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,f=i.xAxis,m=i.yAxis;if(!f||!m)return null;var p=A3({x:f.scale,y:m.scale}),g={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(c,{position:"start"}):p.y.rangeMin},v={x:n?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Mo(i,"discard")&&(!p.isInRange(g)||!p.isInRange(v))?null:uie(g,v)},A1=(function(e){function t(){return l9e(this,t),u9e(this,t,arguments)}return m9e(t,e),d9e(t,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,f=r.clipPathId;Xi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Ur(a),p=Ur(i),g=Ur(o),v=Ur(l),y=this.props.shape;if(!m&&!p&&!g&&!v&&!y)return null;var w=x9e(m,p,g,v,this.props);if(!w&&!y)return null;var N=Mo(this.props,"hidden")?"url(#".concat(f,")"):void 0;return Z.createElement(Jt,{className:Ct("recharts-reference-area",c)},t.renderRect(y,Z7(Z7({clipPath:N},at(this.props,!0)),w)),Xr.renderCallByParent(this.props,w))}}])})(Z.Component);T1(A1,"displayName","ReferenceArea");T1(A1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});T1(A1,"renderRect",function(e,t){var n;return Z.isValidElement(e)?n=Z.cloneElement(e,t):vt(e)?n=e(t):n=Z.createElement(T3,NM({},t,{className:"recharts-reference-area-rect"})),n});function kie(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function g9e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return wHe(r,n)}function y9e(e,t,n){var r=n==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:r?a:i,end:r?a+o:i+l}:{start:r?a+o:i+l,end:r?a:i}}function Ew(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function v9e(e,t){return kie(e,t+1)}function b9e(e,t,n,r,a){for(var i=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,f=o,m=function(){var v=r?.[c];if(v===void 0)return{v:kie(r,u)};var y=c,w,N=function(){return w===void 0&&(w=n(v,y)),w},A=v.coordinate,T=c===0||Ew(e,A,N,f,l);T||(c=0,f=o,u+=1),T&&(f=A+e*(N()/2+a),c+=u)},p;u<=i.length;)if(p=m(),p)return p.v;return[]}function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function eK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ws(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eK(Object(n),!0).forEach(function(r){j9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j9e(e,t,n){return t=w9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w9e(e){var t=N9e(e,"string");return Vg(t)=="symbol"?t:t+""}function N9e(e,t){if(Vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S9e(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(p){var g=i[p],v,y=function(){return v===void 0&&(v=n(g,p)),v};if(p===o-1){var w=e*(g.coordinate+e*y()/2-c);i[p]=g=ws(ws({},g),{},{tickCoord:w>0?g.coordinate-w*e:g.coordinate})}else i[p]=g=ws(ws({},g),{},{tickCoord:g.coordinate});var N=Ew(e,g.tickCoord,y,l,c);N&&(c=g.tickCoord-e*(y()/2+a),i[p]=ws(ws({},g),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return i}function C9e(e,t,n,r,a,i){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var f=r[l-1],m=n(f,l-1),p=e*(f.coordinate+e*m/2-u);o[l-1]=f=ws(ws({},f),{},{tickCoord:p>0?f.coordinate-p*e:f.coordinate});var g=Ew(e,f.tickCoord,function(){return m},c,u);g&&(u=f.tickCoord-e*(m/2+a),o[l-1]=ws(ws({},f),{},{isShow:!0}))}for(var v=i?l-1:l,y=function(A){var T=o[A],C,S=function(){return C===void 0&&(C=n(T,A)),C};if(A===0){var E=e*(T.coordinate-e*S()/2-c);o[A]=T=ws(ws({},T),{},{tickCoord:E<0?T.coordinate-E*e:T.coordinate})}else o[A]=T=ws(ws({},T),{},{tickCoord:T.coordinate});var O=Ew(e,T.tickCoord,S,c,u);O&&(c=T.tickCoord+e*(S()/2+a),o[A]=ws(ws({},T),{},{isShow:!0}))},w=0;w<v;w++)y(w);return o}function D3(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,m=e.angle;if(!a||!a.length||!r)return[];if($e(c)||Fu.isSsr)return v9e(a,typeof c=="number"&&$e(c)?c:0);var p=[],g=l==="top"||l==="bottom"?"width":"height",v=f&&g==="width"?_x(f,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=function(T,C){var S=vt(u)?u(T.value,C):T.value;return g==="width"?g9e(_x(S,{fontSize:t,letterSpacing:n}),v,m):_x(S,{fontSize:t,letterSpacing:n})[g]},w=a.length>=2?zs(a[1].coordinate-a[0].coordinate):1,N=y9e(i,w,g);return c==="equidistantPreserveStart"?b9e(w,N,y,a,o):(c==="preserveStart"||c==="preserveStartEnd"?p=C9e(w,N,y,a,o,c==="preserveStartEnd"):p=S9e(w,N,y,a,o),p.filter(function(A){return A.isShow}))}var k9e=["viewBox"],T9e=["viewBox"],A9e=["ticks"];function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qf.apply(this,arguments)}function tK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tK(Object(n),!0).forEach(function(r){I3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mO(e,t){if(e==null)return{};var n=E9e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function E9e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function O9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Aie(r.key),r)}}function P9e(e,t,n){return t&&nK(e.prototype,t),n&&nK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function M9e(e,t,n){return t=Ow(t),_9e(e,Tie()?Reflect.construct(t,n||[],Ow(e).constructor):t.apply(e,n))}function _9e(e,t){if(t&&(Qh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R9e(e)}function R9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tie=function(){return!!e})()}function Ow(e){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ow(e)}function D9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CM(e,t)}function CM(e,t){return CM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},CM(e,t)}function I3(e,t,n){return t=Aie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aie(e){var t=I9e(e,"string");return Qh(t)=="symbol"?t:t+""}function I9e(e,t){if(Qh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var km=(function(e){function t(n){var r;return O9e(this,t),r=M9e(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return D9e(t,e),P9e(t,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,o=mO(r,k9e),l=this.props,c=l.viewBox,u=mO(l,T9e);return!lh(i,c)||!lh(o,u)||!lh(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,f=a.tickSize,m=a.mirror,p=a.tickMargin,g,v,y,w,N,A,T=m?-1:1,C=r.tickSize||f,S=$e(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=v=r.coordinate,w=o+ +!m*c,y=w-T*C,A=y-T*p,N=S;break;case"left":y=w=r.coordinate,v=i+ +!m*l,g=v-T*C,N=g-T*p,A=S;break;case"right":y=w=r.coordinate,v=i+ +m*l,g=v+T*C,N=g+T*p,A=S;break;default:g=v=r.coordinate,w=o+ +m*c,y=w+T*C,A=y+T*p,N=S;break}return{line:{x1:g,y1:y,x2:v,y2:w},tick:{x:N,y:A}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,f=r.axisLine,m=Lr(Lr(Lr({},at(this.props,!1)),at(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);m=Lr(Lr({},m),{},{x1:a,y1:i+p*l,x2:a+o,y2:i+p*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);m=Lr(Lr({},m),{},{x1:a+g*o,y1:i,x2:a+g*o,y2:i+l})}return Z.createElement("line",Qf({},m,{className:Ct("recharts-cartesian-axis-line",Ba(f,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,m=l.tickFormatter,p=l.unit,g=D3(Lr(Lr({},this.props),{},{ticks:r}),a,i),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),w=at(this.props,!1),N=at(f,!1),A=Lr(Lr({},w),{},{fill:"none"},at(c,!1)),T=g.map(function(C,S){var E=o.getTickLineCoord(C),O=E.line,_=E.tick,M=Lr(Lr(Lr(Lr({textAnchor:v,verticalAnchor:y},w),{},{stroke:"none",fill:u},N),_),{},{index:S,payload:C,visibleTicksCount:g.length,tickFormatter:m});return Z.createElement(Jt,Qf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Nu(o.props,C,S)),c&&Z.createElement("line",Qf({},A,O,{className:Ct("recharts-cartesian-axis-tick-line",Ba(c,"className"))})),f&&t.renderTickItem(f,M,"".concat(vt(m)?m(C.value,S):C.value).concat(p||"")))});return Z.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var m=this.props,p=m.ticks,g=mO(m,A9e),v=p;return vt(c)&&(v=p&&p.length>0?c(this.props):c(g)),o<=0||l<=0||!v||!v.length?null:Z.createElement(Jt,{className:Ct("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Xr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var o,l=Ct(a.className,"recharts-cartesian-axis-tick-value");return Z.isValidElement(r)?o=Z.cloneElement(r,Lr(Lr({},a),{},{className:l})):vt(r)?o=r(Lr(Lr({},a),{},{className:l})):o=Z.createElement(Su,Qf({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(j.Component);I3(km,"displayName","CartesianAxis");I3(km,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var L9e=["x1","y1","x2","y2","key"],$9e=["offset"];function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}function rK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ss(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rK(Object(n),!0).forEach(function(r){F9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F9e(e,t,n){return t=B9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B9e(e){var t=z9e(e,"string");return Tu(t)=="symbol"?t:t+""}function z9e(e,t){if(Tu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xd.apply(this,arguments)}function sK(e,t){if(e==null)return{};var n=q9e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function q9e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var U9e=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return Z.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Eie(e,t){var n;if(Z.isValidElement(e))n=Z.cloneElement(e,t);else if(vt(e))n=e(t);else{var r=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=sK(t,L9e),u=at(c,!1);u.offset;var f=sK(u,$9e);n=Z.createElement("line",Xd({},f,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function V9e(e){var t=e.x,n=e.width,r=e.horizontal,a=r===void 0?!0:r,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Ss(Ss({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return Eie(a,u)});return Z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function H9e(e){var t=e.y,n=e.height,r=e.vertical,a=r===void 0?!0:r,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Ss(Ss({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return Eie(a,u)});return Z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function K9e(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(p){return Math.round(p+a-a)}).sort(function(p,g){return p-g});a!==f[0]&&f.unshift(0);var m=f.map(function(p,g){var v=!f[g+1],y=v?a+o-p:f[g+1]-p;if(y<=0)return null;var w=g%t.length;return Z.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:y,width:i,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function W9e(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var f=u.map(function(p){return Math.round(p+i-i)}).sort(function(p,g){return p-g});i!==f[0]&&f.unshift(0);var m=f.map(function(p,g){var v=!f[g+1],y=v?i+l-p:f[g+1]-p;if(y<=0)return null;var w=g%r.length;return Z.createElement("rect",{key:"react-".concat(g),x:p,y:o,width:y,height:c,stroke:"none",fill:r[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var G9e=function(t,n){var r=t.xAxis,a=t.width,i=t.height,o=t.offset;return Pae(D3(Ss(Ss(Ss({},km.defaultProps),r),{},{ticks:El(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},Y9e=function(t,n){var r=t.yAxis,a=t.width,i=t.height,o=t.offset;return Pae(D3(Ss(Ss(Ss({},km.defaultProps),r),{},{ticks:El(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},Df={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function E1(e){var t,n,r,a,i,o,l=P3(),c=M3(),u=IHe(),f=Ss(Ss({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Df.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Df.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Df.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Df.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Df.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Df.verticalFill,x:$e(e.x)?e.x:u.left,y:$e(e.y)?e.y:u.top,width:$e(e.width)?e.width:u.width,height:$e(e.height)?e.height:u.height}),m=f.x,p=f.y,g=f.width,v=f.height,y=f.syncWithTicks,w=f.horizontalValues,N=f.verticalValues,A=_He(),T=RHe();if(!$e(g)||g<=0||!$e(v)||v<=0||!$e(m)||m!==+m||!$e(p)||p!==+p)return null;var C=f.verticalCoordinatesGenerator||G9e,S=f.horizontalCoordinatesGenerator||Y9e,E=f.horizontalPoints,O=f.verticalPoints;if((!E||!E.length)&&vt(S)){var _=w&&w.length,M=S({yAxis:T?Ss(Ss({},T),{},{ticks:_?w:T.ticks}):void 0,width:l,height:c,offset:u},_?!0:y);Xi(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Tu(M),"]")),Array.isArray(M)&&(E=M)}if((!O||!O.length)&&vt(C)){var $=N&&N.length,z=C({xAxis:A?Ss(Ss({},A),{},{ticks:$?N:A.ticks}):void 0,width:l,height:c,offset:u},$?!0:y);Xi(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Tu(z),"]")),Array.isArray(z)&&(O=z)}return Z.createElement("g",{className:"recharts-cartesian-grid"},Z.createElement(U9e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),Z.createElement(V9e,Xd({},f,{offset:u,horizontalPoints:E,xAxis:A,yAxis:T})),Z.createElement(H9e,Xd({},f,{offset:u,verticalPoints:O,xAxis:A,yAxis:T})),Z.createElement(K9e,Xd({},f,{horizontalPoints:E})),Z.createElement(W9e,Xd({},f,{verticalPoints:O})))}E1.displayName="CartesianGrid";var X9e=["type","layout","connectNulls","ref"],Q9e=["key"];function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function aK(e,t){if(e==null)return{};var n=J9e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function J9e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fx.apply(this,arguments)}function iK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iK(Object(n),!0).forEach(function(r){Fi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function If(e){return n7e(e)||t7e(e)||e7e(e)||Z9e()}function Z9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e7e(e,t){if(e){if(typeof e=="string")return kM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kM(e,t)}}function t7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function n7e(e){if(Array.isArray(e))return kM(e)}function kM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pie(r.key),r)}}function s7e(e,t,n){return t&&oK(e.prototype,t),n&&oK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a7e(e,t,n){return t=Pw(t),i7e(e,Oie()?Reflect.construct(t,n||[],Pw(e).constructor):t.apply(e,n))}function i7e(e,t){if(t&&(Jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o7e(e)}function o7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oie=function(){return!!e})()}function Pw(e){return Pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pw(e)}function l7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TM(e,t)}function TM(e,t){return TM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},TM(e,t)}function Fi(e,t,n){return t=Pie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pie(e){var t=c7e(e,"string");return Jh(t)=="symbol"?t:t+""}function c7e(e,t){if(Jh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qi=(function(e){function t(){var n;r7e(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=a7e(this,t,[].concat(a)),Fi(n,"state",{isAnimationFinished:!0,totalLength:0}),Fi(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Fi(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(N,A){return N+A});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),m=o%u,p=l-o,g=[],v=0,y=0;v<c.length;y+=c[v],++v)if(y+c[v]>m){g=[].concat(If(c.slice(0,v)),[m-y]);break}var w=g.length%2===0?[0,p]:[p];return[].concat(If(t.repeat(c,f)),If(g),w).map(function(N){return"".concat(N,"px")}).join(", ")}),Fi(n,"id",jm("recharts-line-")),Fi(n,"pathRef",function(o){n.mainCurve=o}),Fi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Fi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return l7e(t,e),s7e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,m=za(f,Ay);if(!m)return null;var p=function(y,w){return{x:y.x,y:y.y,value:y.value,errorVal:zr(y.payload,w)}},g={clipPath:r?"url(#clipPath-".concat(a,")"):null};return Z.createElement(Jt,g,m.map(function(v){return Z.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,m=at(this.props,!1),p=at(c,!0),g=u.map(function(y,w){var N=Ca(Ca(Ca({key:"dot-".concat(w),r:3},m),p),{},{index:w,cx:y.x,cy:y.y,value:y.value,dataKey:f,payload:y.payload,points:u});return t.renderDotItem(c,N)}),v={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Z.createElement(Jt,Fx({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(r,a,i,o){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var m=aK(l,X9e),p=Ca(Ca(Ca({},at(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:f});return Z.createElement(uw,Fx({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,m=o.animationDuration,p=o.animationEasing,g=o.animationId,v=o.animateNewValues,y=o.width,w=o.height,N=this.state,A=N.prevPoints,T=N.totalLength;return Z.createElement(zo,{begin:f,duration:m,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var S=C.t;if(A){var E=A.length/l.length,O=l.map(function(V,I){var F=Math.floor(I*E);if(A[F]){var K=A[F],R=Oa(K.x,V.x),B=Oa(K.y,V.y);return Ca(Ca({},V),{},{x:R(S),y:B(S)})}if(v){var L=Oa(y*2,V.x),q=Oa(w/2,V.y);return Ca(Ca({},V),{},{x:L(S),y:q(S)})}return Ca(Ca({},V),{},{x:V.x,y:V.y})});return i.renderCurveStatically(O,r,a)}var _=Oa(0,T),M=_(S),$;if(c){var z="".concat(c).split(/[,\s]+/gim).map(function(V){return parseFloat(V)});$=i.getStrokeDasharray(M,T,z)}else $=i.generateSimpleStrokeDasharray(T,M);return i.renderCurveStatically(l,r,a,{strokeDasharray:$})})}},{key:"renderCurve",value:function(r,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!u&&f>0||!Ty(u,o))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(o,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,f=a.yAxis,m=a.top,p=a.left,g=a.width,v=a.height,y=a.isAnimationActive,w=a.id;if(i||!l||!l.length)return null;var N=this.state.isAnimationFinished,A=l.length===1,T=Ct("recharts-line",c),C=u&&u.allowDataOverflow,S=f&&f.allowDataOverflow,E=C||S,O=Nt(w)?this.id:w,_=(r=at(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},M=_.r,$=M===void 0?3:M,z=_.strokeWidth,V=z===void 0?2:z,I=w3e(o)?o:{},F=I.clipDot,K=F===void 0?!0:F,R=$*2+V;return Z.createElement(Jt,{className:T},C||S?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(O)},Z.createElement("rect",{x:C?p:p-g/2,y:S?m:m-v/2,width:C?g:g*2,height:S?v:v*2})),!K&&Z.createElement("clipPath",{id:"clipPath-dots-".concat(O)},Z.createElement("rect",{x:p-R/2,y:m-R/2,width:g+R,height:v+R}))):null,!A&&this.renderCurve(E,O),this.renderErrorBar(E,O),(A||o)&&this.renderDots(E,K,O),(!y||N)&&Dl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var i=r.length%2!==0?[].concat(If(r),[0]):r,o=[],l=0;l<a;++l)o=[].concat(If(o),If(i));return o}},{key:"renderDotItem",value:function(r,a){var i;if(Z.isValidElement(r))i=Z.cloneElement(r,a);else if(vt(r))i=r(a);else{var o=a.key,l=aK(a,Q9e),c=Ct("recharts-line-dot",typeof r!="boolean"?r.className:"");i=Z.createElement(g1,Fx({key:o},l,{className:c}))}return i}}])})(j.PureComponent);Fi(Qi,"displayName","Line");Fi(Qi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Fu.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Fi(Qi,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,m=c.map(function(p,g){var v=zr(p,o);return f==="horizontal"?{x:g9({axis:n,ticks:a,bandSize:l,entry:p,index:g}),y:Nt(v)?null:r.scale(v),value:v,payload:p}:{x:Nt(v)?null:n.scale(v),y:g9({axis:r,ticks:i,bandSize:l,entry:p,index:g}),value:v,payload:p}});return Ca({points:m,layout:f},u)});function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function d7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u7e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rie(r.key),r)}}function f7e(e,t,n){return t&&u7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h7e(e,t,n){return t=Mw(t),m7e(e,Mie()?Reflect.construct(t,n||[],Mw(e).constructor):t.apply(e,n))}function m7e(e,t){if(t&&(Zh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p7e(e)}function p7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mie=function(){return!!e})()}function Mw(e){return Mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mw(e)}function x7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AM(e,t)}function AM(e,t){return AM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},AM(e,t)}function _ie(e,t,n){return t=Rie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rie(e){var t=g7e(e,"string");return Zh(t)=="symbol"?t:t+""}function g7e(e,t){if(Zh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function EM(){return EM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EM.apply(this,arguments)}function y7e(e){var t=e.xAxisId,n=P3(),r=M3(),a=yie(t);return a==null?null:j.createElement(km,EM({},a,{className:Ct("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return El(o,!0)}}))}var Tm=(function(e){function t(){return d7e(this,t),h7e(this,t,arguments)}return x7e(t,e),f7e(t,[{key:"render",value:function(){return j.createElement(y7e,this.props)}}])})(j.Component);_ie(Tm,"displayName","XAxis");_ie(Tm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function v7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b7e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lie(r.key),r)}}function j7e(e,t,n){return t&&b7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function w7e(e,t,n){return t=_w(t),N7e(e,Die()?Reflect.construct(t,n||[],_w(e).constructor):t.apply(e,n))}function N7e(e,t){if(t&&(em(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S7e(e)}function S7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Die(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Die=function(){return!!e})()}function _w(e){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_w(e)}function C7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OM(e,t)}function OM(e,t){return OM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},OM(e,t)}function Iie(e,t,n){return t=Lie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lie(e){var t=k7e(e,"string");return em(t)=="symbol"?t:t+""}function k7e(e,t){if(em(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function PM(){return PM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PM.apply(this,arguments)}var T7e=function(t){var n=t.yAxisId,r=P3(),a=M3(),i=vie(n);return i==null?null:j.createElement(km,PM({},i,{className:Ct("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return El(l,!0)}}))},Am=(function(e){function t(){return v7e(this,t),w7e(this,t,arguments)}return C7e(t,e),j7e(t,[{key:"render",value:function(){return j.createElement(T7e,this.props)}}])})(j.Component);Iie(Am,"displayName","YAxis");Iie(Am,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function lK(e){return P7e(e)||O7e(e)||E7e(e)||A7e()}function A7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E7e(e,t){if(e){if(typeof e=="string")return MM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MM(e,t)}}function O7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P7e(e){if(Array.isArray(e))return MM(e)}function MM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _M=function(t,n,r,a,i){var o=za(t,R3),l=za(t,k1),c=[].concat(lK(o),lK(l)),u=za(t,A1),f="".concat(a,"Id"),m=a[0],p=n;if(c.length&&(p=c.reduce(function(y,w){if(w.props[f]===r&&Mo(w.props,"extendDomain")&&$e(w.props[m])){var N=w.props[m];return[Math.min(y[0],N),Math.max(y[1],N)]}return y},p)),u.length){var g="".concat(m,"1"),v="".concat(m,"2");p=u.reduce(function(y,w){if(w.props[f]===r&&Mo(w.props,"extendDomain")&&$e(w.props[g])&&$e(w.props[v])){var N=w.props[g],A=w.props[v];return[Math.min(y[0],N,A),Math.max(y[1],N,A)]}return y},p)}return i&&i.length&&(p=i.reduce(function(y,w){return $e(w)?[Math.min(y[0],w),Math.max(y[1],w)]:y},p)),p},pO={exports:{}},cK;function M7e(){return cK||(cK=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,m,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new a(f,m||c,p),v=n?n+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],g]:c._events[v].push(g):(c._events[v]=g,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,m;if(this._eventsCount===0)return u;for(m in f=this._events)t.call(f,m)&&u.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=n?n+u:u,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,g=m.length,v=new Array(g);p<g;p++)v[p]=m[p].fn;return v},l.prototype.listenerCount=function(u){var f=n?n+u:u,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(u,f,m,p,g,v){var y=n?n+u:u;if(!this._events[y])return!1;var w=this._events[y],N=arguments.length,A,T;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),N){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,m),!0;case 4:return w.fn.call(w.context,f,m,p),!0;case 5:return w.fn.call(w.context,f,m,p,g),!0;case 6:return w.fn.call(w.context,f,m,p,g,v),!0}for(T=1,A=new Array(N-1);T<N;T++)A[T-1]=arguments[T];w.fn.apply(w.context,A)}else{var C=w.length,S;for(T=0;T<C;T++)switch(w[T].once&&this.removeListener(u,w[T].fn,void 0,!0),N){case 1:w[T].fn.call(w[T].context);break;case 2:w[T].fn.call(w[T].context,f);break;case 3:w[T].fn.call(w[T].context,f,m);break;case 4:w[T].fn.call(w[T].context,f,m,p);break;default:if(!A)for(S=1,A=new Array(N-1);S<N;S++)A[S-1]=arguments[S];w[T].fn.apply(w[T].context,A)}}return!0},l.prototype.on=function(u,f,m){return i(this,u,f,m,!1)},l.prototype.once=function(u,f,m){return i(this,u,f,m,!0)},l.prototype.removeListener=function(u,f,m,p){var g=n?n+u:u;if(!this._events[g])return this;if(!f)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===f&&(!p||v.once)&&(!m||v.context===m)&&o(this,g);else{for(var y=0,w=[],N=v.length;y<N;y++)(v[y].fn!==f||p&&!v[y].once||m&&v[y].context!==m)&&w.push(v[y]);w.length?this._events[g]=w.length===1?w[0]:w:o(this,g)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(pO)),pO.exports}var _7e=M7e();const R7e=on(_7e);var xO=new R7e,gO="recharts.syncMouseEvents";function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function D7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I7e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$ie(r.key),r)}}function L7e(e,t,n){return t&&I7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yO(e,t,n){return t=$ie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ie(e){var t=$7e(e,"string");return Hg(t)=="symbol"?t:t+""}function $7e(e,t){if(Hg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var F7e=(function(){function e(){D7e(this,e),yO(this,"activeIndex",0),yO(this,"coordinateList",[]),yO(this,"layout","horizontal")}return L7e(e,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,f=n.offset,m=f===void 0?null:f,p=n.mouseHandlerCallback,g=p===void 0?null:p;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=i+c+u,p=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:m,pageY:p})}}}])})();function B7e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e?.[0],a=e?.[1];if(r&&a&&$e(r)&&$e(a))return!0}return!1}function z7e(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Fie(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle,o=Mn(t,n,r,a),l=Mn(t,n,r,i);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function q7e(e,t,n){var r,a,i,o;if(e==="horizontal")r=t.x,i=r,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,m=t.angle,p=Mn(l,c,u,m),g=Mn(l,c,f,m);r=p.x,a=p.y,i=g.x,o=g.y}else return Fie(t);return[{x:r,y:a},{x:i,y:o}]}function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function dK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dK(Object(n),!0).forEach(function(r){U7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U7e(e,t,n){return t=V7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V7e(e){var t=H7e(e,"string");return Kg(t)=="symbol"?t:t+""}function H7e(e,t){if(Kg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K7e(e){var t,n,r=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,m=e.layout,p=e.chartName,g=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!i||!o||p!=="ScatterChart"&&a!=="axis")return null;var v,y=uw;if(p==="ScatterChart")v=o,y=h8e;else if(p==="BarChart")v=z7e(m,o,c,f),y=T3;else if(m==="radial"){var w=Fie(o),N=w.cx,A=w.cy,T=w.radius,C=w.startAngle,S=w.endAngle;v={cx:N,cy:A,startAngle:C,endAngle:S,innerRadius:T,outerRadius:T},y=qae}else v={points:q7e(m,o,c)},y=uw;var E=Bb(Bb(Bb(Bb({stroke:"#ccc",pointerEvents:"none"},c),v),at(g,!1)),{},{payload:l,payloadIndex:u,className:Ct("recharts-tooltip-cursor",g.className)});return j.isValidElement(g)?j.cloneElement(g,E):j.createElement(y,E)}var W7e=["item"],G7e=["children","className","width","height","style","compact","title","desc"];function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jf.apply(this,arguments)}function uK(e,t){return Q7e(e)||X7e(e,t)||zie(e,t)||Y7e()}function Y7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X7e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Q7e(e){if(Array.isArray(e))return e}function fK(e,t){if(e==null)return{};var n=J7e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function J7e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Z7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eKe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qie(r.key),r)}}function tKe(e,t,n){return t&&eKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nKe(e,t,n){return t=Rw(t),rKe(e,Bie()?Reflect.construct(t,n||[],Rw(e).constructor):t.apply(e,n))}function rKe(e,t){if(t&&(tm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sKe(e)}function sKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bie=function(){return!!e})()}function Rw(e){return Rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rw(e)}function aKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RM(e,t)}function RM(e,t){return RM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},RM(e,t)}function nm(e){return lKe(e)||oKe(e)||zie(e)||iKe()}function iKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zie(e,t){if(e){if(typeof e=="string")return DM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DM(e,t)}}function oKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lKe(e){if(Array.isArray(e))return DM(e)}function DM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hK(Object(n),!0).forEach(function(r){ft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ft(e,t,n){return t=qie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qie(e){var t=cKe(e,"string");return tm(t)=="symbol"?t:t+""}function cKe(e,t){if(tm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dKe={xAxis:["bottom","top"],yAxis:["left","right"]},uKe={width:"100%",height:"100%"},Uie={x:0,y:0};function zb(e){return e}var fKe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},hKe=function(t,n,r,a){var i=n.find(function(f){return f&&f.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return je(je(je({},a),Mn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return je(je(je({},a),Mn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return Uie},O1=function(t,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(nm(l),nm(u)):l},[]);return o.length>0?o:t&&t.length&&$e(a)&&$e(i)?t.slice(a,i+1):[]};function Vie(e){return e==="number"?[0,"auto"]:void 0}var IM=function(t,n,r,a){var i=t.graphicalItems,o=t.tooltipAxis,l=O1(n,t);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,u){var f,m=(f=u.props.data)!==null&&f!==void 0?f:n;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var g=m===void 0?l:m;p=Lj(g,o.dataKey,a)}else p=m&&m[r]||l[r];return p?[].concat(nm(c),[Iae(u,p)]):c},[])},mK=function(t,n,r,a){var i=a||{x:t.chartX,y:t.chartY},o=fKe(i,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=vze(o,l,u,c);if(f>=0&&u){var m=u[f]&&u[f].value,p=IM(t,n,f,m),g=hKe(r,l,f,i);return{activeTooltipIndex:f,activeLabel:m,activePayload:p,activeCoordinate:g}}return null},mKe=function(t,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=t.layout,m=t.children,p=t.stackOffset,g=Oae(f,i);return r.reduce(function(v,y){var w,N=y.type.defaultProps!==void 0?je(je({},y.type.defaultProps),y.props):y.props,A=N.type,T=N.dataKey,C=N.allowDataOverflow,S=N.allowDuplicatedCategory,E=N.scale,O=N.ticks,_=N.includeHidden,M=N[o];if(v[M])return v;var $=O1(t.data,{graphicalItems:a.filter(function(Y){var G,X=o in Y.props?Y.props[o]:(G=Y.type.defaultProps)===null||G===void 0?void 0:G[o];return X===M}),dataStartIndex:c,dataEndIndex:u}),z=$.length,V,I,F;B7e(N.domain,C,A)&&(V=X4(N.domain,null,C),g&&(A==="number"||E!=="auto")&&(F=Dx($,T,"category")));var K=Vie(A);if(!V||V.length===0){var R,B=(R=N.domain)!==null&&R!==void 0?R:K;if(T){if(V=Dx($,T,A),A==="category"&&g){var L=f3e(V);S&&L?(I=V,V=jw(0,z)):S||(V=j9(B,V,y).reduce(function(Y,G){return Y.indexOf(G)>=0?Y:[].concat(nm(Y),[G])},[]))}else if(A==="category")S?V=V.filter(function(Y){return Y!==""&&!Nt(Y)}):V=j9(B,V,y).reduce(function(Y,G){return Y.indexOf(G)>=0||G===""||Nt(G)?Y:[].concat(nm(Y),[G])},[]);else if(A==="number"){var q=Sze($,a.filter(function(Y){var G,X,ae=o in Y.props?Y.props[o]:(G=Y.type.defaultProps)===null||G===void 0?void 0:G[o],de="hide"in Y.props?Y.props.hide:(X=Y.type.defaultProps)===null||X===void 0?void 0:X.hide;return ae===M&&(_||!de)}),T,i,f);q&&(V=q)}g&&(A==="number"||E!=="auto")&&(F=Dx($,T,"category"))}else g?V=jw(0,z):l&&l[M]&&l[M].hasStack&&A==="number"?V=p==="expand"?[0,1]:Dae(l[M].stackGroups,c,u):V=Eae($,a.filter(function(Y){var G=o in Y.props?Y.props[o]:Y.type.defaultProps[o],X="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return G===M&&(_||!X)}),A,f,!0);if(A==="number")V=_M(m,V,M,i,O),B&&(V=X4(B,V,C));else if(A==="category"&&B){var se=B,H=V.every(function(Y){return se.indexOf(Y)>=0});H&&(V=se)}}return je(je({},v),{},ft({},M,je(je({},N),{},{axisType:i,domain:V,categoricalDomain:F,duplicateDomain:I,originalDomain:(w=N.domain)!==null&&w!==void 0?w:K,isCategorical:g,layout:f})))},{})},pKe=function(t,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=t.layout,m=t.children,p=O1(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),g=p.length,v=Oae(f,i),y=-1;return r.reduce(function(w,N){var A=N.type.defaultProps!==void 0?je(je({},N.type.defaultProps),N.props):N.props,T=A[o],C=Vie("number");if(!w[T]){y++;var S;return v?S=jw(0,g):l&&l[T]&&l[T].hasStack?(S=Dae(l[T].stackGroups,c,u),S=_M(m,S,T,i)):(S=X4(C,Eae(p,r.filter(function(E){var O,_,M=o in E.props?E.props[o]:(O=E.type.defaultProps)===null||O===void 0?void 0:O[o],$="hide"in E.props?E.props.hide:(_=E.type.defaultProps)===null||_===void 0?void 0:_.hide;return M===T&&!$}),"number",f),a.defaultProps.allowDataOverflow),S=_M(m,S,T,i)),je(je({},w),{},ft({},T,je(je({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ba(dKe,"".concat(i,".").concat(y%2),null),domain:S,originalDomain:C,isCategorical:v,layout:f})))}return w},{})},xKe=function(t,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=t.children,m="".concat(a,"Id"),p=za(f,i),g={};return p&&p.length?g=mKe(t,{axes:p,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(g=pKe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},gKe=function(t){var n=_c(t),r=El(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:e3(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:lw(n,r)}},pK=function(t){var n=t.children,r=t.defaultShowTooltip,a=Ta(n,Kh),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},yKe=function(t){return!t||!t.length?!1:t.some(function(n){var r=_l(n&&n.type);return r&&r.indexOf("Bar")>=0})},xK=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},vKe=function(t,n){var r=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,f=r.height,m=r.children,p=r.margin||{},g=Ta(m,Kh),v=Ta(m,su),y=Object.keys(c).reduce(function(S,E){var O=c[E],_=O.orientation;return!O.mirror&&!O.hide?je(je({},S),{},ft({},_,S[_]+O.width)):S},{left:p.left||0,right:p.right||0}),w=Object.keys(o).reduce(function(S,E){var O=o[E],_=O.orientation;return!O.mirror&&!O.hide?je(je({},S),{},ft({},_,Ba(S,"".concat(_))+O.height)):S},{top:p.top||0,bottom:p.bottom||0}),N=je(je({},w),y),A=N.bottom;g&&(N.bottom+=g.props.height||Kh.defaultProps.height),v&&n&&(N=wze(N,a,r,n));var T=u-N.left-N.right,C=f-N.top-N.bottom;return je(je({brushBottom:A},N),{},{width:Math.max(T,0),height:Math.max(C,0)})},bKe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Hie=function(t){var n=t.chartName,r=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,m=t.defaultProps,p=function(N,A){var T=A.graphicalItems,C=A.stackGroups,S=A.offset,E=A.updateId,O=A.dataStartIndex,_=A.dataEndIndex,M=N.barSize,$=N.layout,z=N.barGap,V=N.barCategoryGap,I=N.maxBarSize,F=xK($),K=F.numericAxisName,R=F.cateAxisName,B=yKe(T),L=[];return T.forEach(function(q,se){var H=O1(N.data,{graphicalItems:[q],dataStartIndex:O,dataEndIndex:_}),Y=q.type.defaultProps!==void 0?je(je({},q.type.defaultProps),q.props):q.props,G=Y.dataKey,X=Y.maxBarSize,ae=Y["".concat(K,"Id")],de=Y["".concat(R,"Id")],he={},Fe=c.reduce(function(Jn,cn){var _r=A["".concat(cn.axisType,"Map")],Vt=Y["".concat(cn.axisType,"Id")];_r&&_r[Vt]||cn.axisType==="zAxis"||ku();var _n=_r[Vt];return je(je({},Jn),{},ft(ft({},cn.axisType,_n),"".concat(cn.axisType,"Ticks"),El(_n)))},he),ge=Fe[R],Ae=Fe["".concat(R,"Ticks")],_e=C&&C[ae]&&C[ae].hasStack&&_ze(q,C[ae].stackGroups),ee=_l(q.type).indexOf("Bar")>=0,Le=lw(ge,Ae),Ce=[],De=B&&bze({barSize:M,stackGroups:C,totalSize:bKe(Fe,R)});if(ee){var We,nt,Et=Nt(X)?I:X,St=(We=(nt=lw(ge,Ae,!0))!==null&&nt!==void 0?nt:Et)!==null&&We!==void 0?We:0;Ce=jze({barGap:z,barCategoryGap:V,bandSize:St!==Le?St:Le,sizeList:De[de],maxBarSize:Et}),St!==Le&&(Ce=Ce.map(function(Jn){return je(je({},Jn),{},{position:je(je({},Jn.position),{},{offset:Jn.position.offset-St/2})})}))}var Gt=q&&q.type&&q.type.getComposedData;Gt&&L.push({props:je(je({},Gt(je(je({},Fe),{},{displayedData:H,props:N,dataKey:G,item:q,bandSize:Le,barPosition:Ce,offset:S,stackedData:_e,layout:$,dataStartIndex:O,dataEndIndex:_}))),{},ft(ft(ft({key:q.key||"item-".concat(se)},K,Fe[K]),R,Fe[R]),"animationId",E)),childIndex:C3e(q,N.children),item:q})}),L},g=function(N,A){var T=N.props,C=N.dataStartIndex,S=N.dataEndIndex,E=N.updateId;if(!DU({props:T}))return null;var O=T.children,_=T.layout,M=T.stackOffset,$=T.data,z=T.reverseStackOrder,V=xK(_),I=V.numericAxisName,F=V.cateAxisName,K=za(O,r),R=Pze($,K,"".concat(I,"Id"),"".concat(F,"Id"),M,z),B=c.reduce(function(Y,G){var X="".concat(G.axisType,"Map");return je(je({},Y),{},ft({},X,xKe(T,je(je({},G),{},{graphicalItems:K,stackGroups:G.axisType===I&&R,dataStartIndex:C,dataEndIndex:S}))))},{}),L=vKe(je(je({},B),{},{props:T,graphicalItems:K}),A?.legendBBox);Object.keys(B).forEach(function(Y){B[Y]=f(T,B[Y],L,Y.replace("Map",""),n)});var q=B["".concat(F,"Map")],se=gKe(q),H=p(T,je(je({},B),{},{dataStartIndex:C,dataEndIndex:S,updateId:E,graphicalItems:K,stackGroups:R,offset:L}));return je(je({formattedGraphicalItems:H,graphicalItems:K,offset:L,stackGroups:R},se),B)},v=(function(w){function N(A){var T,C,S;return Z7e(this,N),S=nKe(this,N,[A]),ft(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ft(S,"accessibilityManager",new F7e),ft(S,"handleLegendBBoxUpdate",function(E){if(E){var O=S.state,_=O.dataStartIndex,M=O.dataEndIndex,$=O.updateId;S.setState(je({legendBBox:E},g({props:S.props,dataStartIndex:_,dataEndIndex:M,updateId:$},je(je({},S.state),{},{legendBBox:E}))))}}),ft(S,"handleReceiveSyncEvent",function(E,O,_){if(S.props.syncId===E){if(_===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(O)}}),ft(S,"handleBrushChange",function(E){var O=E.startIndex,_=E.endIndex;if(O!==S.state.dataStartIndex||_!==S.state.dataEndIndex){var M=S.state.updateId;S.setState(function(){return je({dataStartIndex:O,dataEndIndex:_},g({props:S.props,dataStartIndex:O,dataEndIndex:_,updateId:M},S.state))}),S.triggerSyncEvent({dataStartIndex:O,dataEndIndex:_})}}),ft(S,"handleMouseEnter",function(E){var O=S.getMouseInfo(E);if(O){var _=je(je({},O),{},{isTooltipActive:!0});S.setState(_),S.triggerSyncEvent(_);var M=S.props.onMouseEnter;vt(M)&&M(_,E)}}),ft(S,"triggeredAfterMouseMove",function(E){var O=S.getMouseInfo(E),_=O?je(je({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(_),S.triggerSyncEvent(_);var M=S.props.onMouseMove;vt(M)&&M(_,E)}),ft(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),ft(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ft(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),ft(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};S.setState(O),S.triggerSyncEvent(O);var _=S.props.onMouseLeave;vt(_)&&_(O,E)}),ft(S,"handleOuterEvent",function(E){var O=S3e(E),_=Ba(S.props,"".concat(O));if(O&&vt(_)){var M,$;/.*touch.*/i.test(O)?$=S.getMouseInfo(E.changedTouches[0]):$=S.getMouseInfo(E),_((M=$)!==null&&M!==void 0?M:{},E)}}),ft(S,"handleClick",function(E){var O=S.getMouseInfo(E);if(O){var _=je(je({},O),{},{isTooltipActive:!0});S.setState(_),S.triggerSyncEvent(_);var M=S.props.onClick;vt(M)&&M(_,E)}}),ft(S,"handleMouseDown",function(E){var O=S.props.onMouseDown;if(vt(O)){var _=S.getMouseInfo(E);O(_,E)}}),ft(S,"handleMouseUp",function(E){var O=S.props.onMouseUp;if(vt(O)){var _=S.getMouseInfo(E);O(_,E)}}),ft(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),ft(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),ft(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),ft(S,"handleDoubleClick",function(E){var O=S.props.onDoubleClick;if(vt(O)){var _=S.getMouseInfo(E);O(_,E)}}),ft(S,"handleContextMenu",function(E){var O=S.props.onContextMenu;if(vt(O)){var _=S.getMouseInfo(E);O(_,E)}}),ft(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&xO.emit(gO,S.props.syncId,E,S.eventEmitterSymbol)}),ft(S,"applySyncEvent",function(E){var O=S.props,_=O.layout,M=O.syncMethod,$=S.state.updateId,z=E.dataStartIndex,V=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(je({dataStartIndex:z,dataEndIndex:V},g({props:S.props,dataStartIndex:z,dataEndIndex:V,updateId:$},S.state)));else if(E.activeTooltipIndex!==void 0){var I=E.chartX,F=E.chartY,K=E.activeTooltipIndex,R=S.state,B=R.offset,L=R.tooltipTicks;if(!B)return;if(typeof M=="function")K=M(L,E);else if(M==="value"){K=-1;for(var q=0;q<L.length;q++)if(L[q].value===E.activeLabel){K=q;break}}var se=je(je({},B),{},{x:B.left,y:B.top}),H=Math.min(I,se.x+se.width),Y=Math.min(F,se.y+se.height),G=L[K]&&L[K].value,X=IM(S.state,S.props.data,K),ae=L[K]?{x:_==="horizontal"?L[K].coordinate:H,y:_==="horizontal"?Y:L[K].coordinate}:Uie;S.setState(je(je({},E),{},{activeLabel:G,activeCoordinate:ae,activePayload:X,activeTooltipIndex:K}))}else S.setState(E)}),ft(S,"renderCursor",function(E){var O,_=S.state,M=_.isTooltipActive,$=_.activeCoordinate,z=_.activePayload,V=_.offset,I=_.activeTooltipIndex,F=_.tooltipAxisBandSize,K=S.getTooltipEventType(),R=(O=E.props.active)!==null&&O!==void 0?O:M,B=S.props.layout,L=E.key||"_recharts-cursor";return Z.createElement(K7e,{key:L,activeCoordinate:$,activePayload:z,activeTooltipIndex:I,chartName:n,element:E,isActive:R,layout:B,offset:V,tooltipAxisBandSize:F,tooltipEventType:K})}),ft(S,"renderPolarAxis",function(E,O,_){var M=Ba(E,"type.axisType"),$=Ba(S.state,"".concat(M,"Map")),z=E.type.defaultProps,V=z!==void 0?je(je({},z),E.props):E.props,I=$&&$[V["".concat(M,"Id")]];return j.cloneElement(E,je(je({},I),{},{className:Ct(M,I.className),key:E.key||"".concat(O,"-").concat(_),ticks:El(I,!0)}))}),ft(S,"renderPolarGrid",function(E){var O=E.props,_=O.radialLines,M=O.polarAngles,$=O.polarRadius,z=S.state,V=z.radiusAxisMap,I=z.angleAxisMap,F=_c(V),K=_c(I),R=K.cx,B=K.cy,L=K.innerRadius,q=K.outerRadius;return j.cloneElement(E,{polarAngles:Array.isArray(M)?M:El(K,!0).map(function(se){return se.coordinate}),polarRadius:Array.isArray($)?$:El(F,!0).map(function(se){return se.coordinate}),cx:R,cy:B,innerRadius:L,outerRadius:q,key:E.key||"polar-grid",radialLines:_})}),ft(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,O=S.props,_=O.children,M=O.width,$=O.height,z=S.props.margin||{},V=M-(z.left||0)-(z.right||0),I=Tae({children:_,formattedGraphicalItems:E,legendWidth:V,legendContent:u});if(!I)return null;var F=I.item,K=fK(I,W7e);return j.cloneElement(F,je(je({},K),{},{chartWidth:M,chartHeight:$,margin:z,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ft(S,"renderTooltip",function(){var E,O=S.props,_=O.children,M=O.accessibilityLayer,$=Ta(_,Aa);if(!$)return null;var z=S.state,V=z.isTooltipActive,I=z.activeCoordinate,F=z.activePayload,K=z.activeLabel,R=z.offset,B=(E=$.props.active)!==null&&E!==void 0?E:V;return j.cloneElement($,{viewBox:je(je({},R),{},{x:R.left,y:R.top}),active:B,label:K,payload:B?F:[],coordinate:I,accessibilityLayer:M})}),ft(S,"renderBrush",function(E){var O=S.props,_=O.margin,M=O.data,$=S.state,z=$.offset,V=$.dataStartIndex,I=$.dataEndIndex,F=$.updateId;return j.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Lb(S.handleBrushChange,E.props.onChange),data:M,x:$e(E.props.x)?E.props.x:z.left,y:$e(E.props.y)?E.props.y:z.top+z.height+z.brushBottom-(_.bottom||0),width:$e(E.props.width)?E.props.width:z.width,startIndex:V,endIndex:I,updateId:"brush-".concat(F)})}),ft(S,"renderReferenceElement",function(E,O,_){if(!E)return null;var M=S,$=M.clipPathId,z=S.state,V=z.xAxisMap,I=z.yAxisMap,F=z.offset,K=E.type.defaultProps||{},R=E.props,B=R.xAxisId,L=B===void 0?K.xAxisId:B,q=R.yAxisId,se=q===void 0?K.yAxisId:q;return j.cloneElement(E,{key:E.key||"".concat(O,"-").concat(_),xAxis:V[L],yAxis:I[se],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:$})}),ft(S,"renderActivePoints",function(E){var O=E.item,_=E.activePoint,M=E.basePoint,$=E.childIndex,z=E.isRange,V=[],I=O.props.key,F=O.item.type.defaultProps!==void 0?je(je({},O.item.type.defaultProps),O.item.props):O.item.props,K=F.activeDot,R=F.dataKey,B=je(je({index:$,dataKey:R,cx:_.x,cy:_.y,r:4,fill:k3(O.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},at(K,!1)),$j(K));return V.push(N.renderActiveDot(K,B,"".concat(I,"-activePoint-").concat($))),M?V.push(N.renderActiveDot(K,je(je({},B),{},{cx:M.x,cy:M.y}),"".concat(I,"-basePoint-").concat($))):z&&V.push(null),V}),ft(S,"renderGraphicChild",function(E,O,_){var M=S.filterFormatItem(E,O,_);if(!M)return null;var $=S.getTooltipEventType(),z=S.state,V=z.isTooltipActive,I=z.tooltipAxis,F=z.activeTooltipIndex,K=z.activeLabel,R=S.props.children,B=Ta(R,Aa),L=M.props,q=L.points,se=L.isRange,H=L.baseLine,Y=M.item.type.defaultProps!==void 0?je(je({},M.item.type.defaultProps),M.item.props):M.item.props,G=Y.activeDot,X=Y.hide,ae=Y.activeBar,de=Y.activeShape,he=!!(!X&&V&&B&&(G||ae||de)),Fe={};$!=="axis"&&B&&B.props.trigger==="click"?Fe={onClick:Lb(S.handleItemMouseEnter,E.props.onClick)}:$!=="axis"&&(Fe={onMouseLeave:Lb(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Lb(S.handleItemMouseEnter,E.props.onMouseEnter)});var ge=j.cloneElement(E,je(je({},M.props),Fe));function Ae(cn){return typeof I.dataKey=="function"?I.dataKey(cn.payload):null}if(he)if(F>=0){var _e,ee;if(I.dataKey&&!I.allowDuplicatedCategory){var Le=typeof I.dataKey=="function"?Ae:"payload.".concat(I.dataKey.toString());_e=Lj(q,Le,K),ee=se&&H&&Lj(H,Le,K)}else _e=q?.[F],ee=se&&H&&H[F];if(de||ae){var Ce=E.props.activeIndex!==void 0?E.props.activeIndex:F;return[j.cloneElement(E,je(je(je({},M.props),Fe),{},{activeIndex:Ce})),null,null]}if(!Nt(_e))return[ge].concat(nm(S.renderActivePoints({item:M,activePoint:_e,basePoint:ee,childIndex:F,isRange:se})))}else{var De,We=(De=S.getItemByXY(S.state.activeCoordinate))!==null&&De!==void 0?De:{graphicalItem:ge},nt=We.graphicalItem,Et=nt.item,St=Et===void 0?E:Et,Gt=nt.childIndex,Jn=je(je(je({},M.props),Fe),{},{activeIndex:Gt});return[j.cloneElement(St,Jn),null,null]}return se?[ge,null,null]:[ge,null]}),ft(S,"renderCustomized",function(E,O,_){return j.cloneElement(E,je(je({key:"recharts-customized-".concat(_)},S.props),S.state))}),ft(S,"renderMap",{CartesianGrid:{handler:zb,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:zb},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:zb},YAxis:{handler:zb},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((T=A.id)!==null&&T!==void 0?T:jm("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=kse(S.triggeredAfterMouseMove,(C=A.throttleDelay)!==null&&C!==void 0?C:1e3/60),S.state={},S}return aKe(N,w),tKe(N,[{key:"componentDidMount",value:function(){var T,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,C=T.children,S=T.data,E=T.height,O=T.layout,_=Ta(C,Aa);if(_){var M=_.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,z=IM(this.state,S,M,$),V=this.state.tooltipTicks[M].coordinate,I=(this.state.offset.top+E)/2,F=O==="horizontal",K=F?{x:V,y:I}:{y:V,x:I},R=this.state.formattedGraphicalItems.find(function(L){var q=L.item;return q.type.name==="Scatter"});R&&(K=je(je({},K),R.props.points[M].tooltipPosition),z=R.props.points[M].tooltipPayload);var B={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:$,activePayload:z,activeCoordinate:K};this.setState(B),this.renderCursor(_),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(T){y4([Ta(T.children,Aa)],[Ta(this.props.children,Aa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=Ta(this.props.children,Aa);if(T&&typeof T.props.shared=="boolean"){var C=T.props.shared?"axis":"item";return l.indexOf(C)>=0?C:i}return i}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var C=this.container,S=C.getBoundingClientRect(),E=u$e(S),O={chartX:Math.round(T.pageX-E.left),chartY:Math.round(T.pageY-E.top)},_=S.width/C.offsetWidth||1,M=this.inRange(O.chartX,O.chartY,_);if(!M)return null;var $=this.state,z=$.xAxisMap,V=$.yAxisMap,I=this.getTooltipEventType(),F=mK(this.state,this.props.data,this.props.layout,M);if(I!=="axis"&&z&&V){var K=_c(z).scale,R=_c(V).scale,B=K&&K.invert?K.invert(O.chartX):null,L=R&&R.invert?R.invert(O.chartY):null;return je(je({},O),{},{xValue:B,yValue:L},F)}return F?je(je({},O),F):null}},{key:"inRange",value:function(T,C){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,O=T/S,_=C/S;if(E==="horizontal"||E==="vertical"){var M=this.state.offset,$=O>=M.left&&O<=M.left+M.width&&_>=M.top&&_<=M.top+M.height;return $?{x:O,y:_}:null}var z=this.state,V=z.angleAxisMap,I=z.radiusAxisMap;if(V&&I){var F=_c(V);return S9({x:O,y:_},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,C=this.getTooltipEventType(),S=Ta(T,Aa),E={};S&&C==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=$j(this.props,this.handleOuterEvent);return je(je({},O),E)}},{key:"addListener",value:function(){xO.on(gO,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){xO.removeListener(gO,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,C,S){for(var E=this.state.formattedGraphicalItems,O=0,_=E.length;O<_;O++){var M=E[O];if(M.item===T||M.props.key===T.key||C===_l(M.item.type)&&S===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,C=this.state.offset,S=C.left,E=C.top,O=C.height,_=C.width;return Z.createElement("defs",null,Z.createElement("clipPath",{id:T},Z.createElement("rect",{x:S,y:E,height:O,width:_})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(C,S){var E=uK(S,2),O=E[0],_=E[1];return je(je({},C),{},ft({},O,_.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(C,S){var E=uK(S,2),O=E[0],_=E[1];return je(je({},C),{},ft({},O,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[T])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(T){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[T])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(T){var C=this.state,S=C.formattedGraphicalItems,E=C.activeItem;if(S&&S.length)for(var O=0,_=S.length;O<_;O++){var M=S[O],$=M.props,z=M.item,V=z.type.defaultProps!==void 0?je(je({},z.type.defaultProps),z.props):z.props,I=_l(z.type);if(I==="Bar"){var F=($.data||[]).find(function(L){return WUe(T,L)});if(F)return{graphicalItem:M,payload:F}}else if(I==="RadialBar"){var K=($.data||[]).find(function(L){return S9(T,L)});if(K)return{graphicalItem:M,payload:K}}else if(w1(M,E)||N1(M,E)||Bg(M,E)){var R=xVe({graphicalItem:M,activeTooltipItem:E,itemData:V.data}),B=V.activeIndex===void 0?R:V.activeIndex;return{graphicalItem:je(je({},M),{},{childIndex:B}),payload:Bg(M,E)?V.data[R]:M.props.data[R]}}}return null}},{key:"render",value:function(){var T=this;if(!DU(this))return null;var C=this.props,S=C.children,E=C.className,O=C.width,_=C.height,M=C.style,$=C.compact,z=C.title,V=C.desc,I=fK(C,G7e),F=at(I,!1);if($)return Z.createElement(K7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement(b4,Jf({},F,{width:O,height:_,title:z,desc:V}),this.renderClipPath(),LU(S,this.renderMap)));if(this.props.accessibilityLayer){var K,R;F.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,F.role=(R=this.props.role)!==null&&R!==void 0?R:"application",F.onKeyDown=function(L){T.accessibilityManager.keyboardEvent(L)},F.onFocus=function(){T.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return Z.createElement(K7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement("div",Jf({className:Ct("recharts-wrapper",E),style:je({position:"relative",cursor:"default",width:O,height:_},M)},B,{ref:function(q){T.container=q}}),Z.createElement(b4,Jf({},F,{width:O,height:_,title:z,desc:V,style:uKe}),this.renderClipPath(),LU(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(j.Component);ft(v,"displayName",n),ft(v,"defaultProps",je({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),ft(v,"getDerivedStateFromProps",function(w,N){var A=w.dataKey,T=w.data,C=w.children,S=w.width,E=w.height,O=w.layout,_=w.stackOffset,M=w.margin,$=N.dataStartIndex,z=N.dataEndIndex;if(N.updateId===void 0){var V=pK(w);return je(je(je({},V),{},{updateId:0},g(je(je({props:w},V),{},{updateId:0}),N)),{},{prevDataKey:A,prevData:T,prevWidth:S,prevHeight:E,prevLayout:O,prevStackOffset:_,prevMargin:M,prevChildren:C})}if(A!==N.prevDataKey||T!==N.prevData||S!==N.prevWidth||E!==N.prevHeight||O!==N.prevLayout||_!==N.prevStackOffset||!lh(M,N.prevMargin)){var I=pK(w),F={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},K=je(je({},mK(N,T,O)),{},{updateId:N.updateId+1}),R=je(je(je({},I),F),K);return je(je(je({},R),g(je({props:w},R),N)),{},{prevDataKey:A,prevData:T,prevWidth:S,prevHeight:E,prevLayout:O,prevStackOffset:_,prevMargin:M,prevChildren:C})}if(!y4(C,N.prevChildren)){var B,L,q,se,H=Ta(C,Kh),Y=H&&(B=(L=H.props)===null||L===void 0?void 0:L.startIndex)!==null&&B!==void 0?B:$,G=H&&(q=(se=H.props)===null||se===void 0?void 0:se.endIndex)!==null&&q!==void 0?q:z,X=Y!==$||G!==z,ae=!Nt(T),de=ae&&!X?N.updateId:N.updateId+1;return je(je({updateId:de},g(je(je({props:w},N),{},{updateId:de,dataStartIndex:Y,dataEndIndex:G}),N)),{},{prevChildren:C,dataStartIndex:Y,dataEndIndex:G})}return null}),ft(v,"renderActiveDot",function(w,N,A){var T;return j.isValidElement(w)?T=j.cloneElement(w,N):vt(w)?T=w(N):T=Z.createElement(g1,N),Z.createElement(Jt,{className:"recharts-active-dot",key:A},T)});var y=j.forwardRef(function(N,A){return Z.createElement(v,Jf({},N,{ref:A}))});return y.displayName=v.displayName,y},L3=Hie({chartName:"LineChart",GraphicalChild:Qi,axisComponents:[{axisType:"xAxis",AxisComp:Tm},{axisType:"yAxis",AxisComp:Am}],formatAxisMap:vHe}),jKe=Hie({chartName:"PieChart",GraphicalChild:Xl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:j1},{axisType:"radiusAxis",AxisComp:v1}],formatAxisMap:Uze,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function wKe(){const{t:e}=as(),[,t]=hr(),[n,r]=j.useState(null),[a,i]=j.useState([]),[o,l]=j.useState([]),[c,u]=j.useState(!0),[f,m]=j.useState(""),[p,g]=j.useState(""),[v,y]=j.useState(""),[w,N]=j.useState("all"),[A,T]=j.useState("all"),[C,S]=j.useState(!1),E=async()=>{u(!0),m("");try{const V=new URLSearchParams;p&&V.append("dateFrom",p),v&&V.append("dateTo",v),w&&w!=="all"&&V.append("offerIds",w),A&&A!=="all"&&V.append("publisherIds",A);const[I,F,K]=await Promise.all([fetch(`/api/advertiser/stats?${V}`,{credentials:"include"}),fetch("/api/advertiser/publishers",{credentials:"include"}),fetch("/api/offers",{credentials:"include"})]);if(I.status===401||F.status===401||K.status===401){t("/login");return}if(!I.ok)throw new Error("Failed to fetch stats");if(!F.ok)throw new Error("Failed to fetch publishers");if(!K.ok)throw new Error("Failed to fetch offers");const R=await I.json(),B=await F.json(),L=await K.json();r(R),i(B),l(L)}catch(V){m(V.message)}finally{u(!1)}};j.useEffect(()=>{E()},[]);const O=()=>{E()},_=()=>{g(""),y(""),N("all"),T("all"),setTimeout(()=>E(),0)},[M,$]=j.useState(""),z=async V=>{$("");try{const I=new URLSearchParams;I.append("type",V),p&&I.append("dateFrom",p),v&&I.append("dateTo",v),w&&w!=="all"&&I.append("offerIds",w),A&&A!=="all"&&I.append("publisherIds",A);const F=await fetch(`/api/advertiser/export/csv?${I}`,{credentials:"include"});if(!F.ok)throw new Error("Failed to export CSV");const K=await F.blob(),R=window.URL.createObjectURL(K),B=document.createElement("a");B.href=R,B.download=`${V}.csv`,B.click(),window.URL.revokeObjectURL(R)}catch(I){$(I.message||"Export failed")}};return c?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-emerald-500"})}):f?s.jsxs("div",{className:"text-center p-8",children:[s.jsx("p",{className:"text-red-500 mb-4",children:f}),s.jsxs(U,{onClick:E,variant:"outline","data-testid":"button-retry",children:[s.jsx(Br,{className:"w-4 h-4 mr-2"}),e("common.retry")]})]}):n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:e("dashboard.overview")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(U,{"data-testid":"button-toggle-filters",variant:"outline",size:"sm",onClick:()=>S(!C),className:"border-border bg-transparent hover:bg-muted",children:[s.jsx(Gg,{className:"w-4 h-4 mr-2"}),e("dashboard.filters")]}),s.jsx(U,{"data-testid":"button-refresh",variant:"outline",size:"sm",onClick:E,className:"border-border bg-transparent hover:bg-muted",children:s.jsx(Br,{className:"w-4 h-4"})})]})]}),C&&s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:e("dashboard.dateFrom")}),s.jsx(le,{"data-testid":"input-date-from",type:"date",value:p,onChange:V=>g(V.target.value),className:"bg-input border-border text-foreground h-9"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:e("dashboard.dateTo")}),s.jsx(le,{"data-testid":"input-date-to",type:"date",value:v,onChange:V=>y(V.target.value),className:"bg-input border-border text-foreground h-9"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:e("dashboard.table.offer")}),s.jsxs(ht,{value:w,onValueChange:N,children:[s.jsx(dt,{"data-testid":"select-offer",className:"bg-input border-border text-foreground h-9",children:s.jsx(mt,{placeholder:e("dashboard.offers.all")})}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"all",children:e("dashboard.offers.all")}),o.map(V=>s.jsx(ke,{value:V.id,children:V.name},V.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:e("dashboard.table.publisher")}),s.jsxs(ht,{value:A,onValueChange:T,children:[s.jsx(dt,{"data-testid":"select-publisher",className:"bg-input border-border text-foreground h-9",children:s.jsx(mt,{placeholder:e("dashboard.publishers.all")})}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"all",children:e("dashboard.publishers.all")}),a.map(V=>s.jsx(ke,{value:V.id,children:V.shortId?`${V.shortId} - ${V.username||V.email}`:"-"},V.id))]})]})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx(U,{"data-testid":"button-apply-filters",onClick:O,className:"bg-emerald-600 hover:bg-emerald-700 h-9",children:"Apply"}),s.jsx(U,{"data-testid":"button-reset-filters",variant:"outline",onClick:_,className:"border-border h-9",children:s.jsx(Xn,{className:"w-4 h-4"})})]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3",children:[s.jsx(J,{className:"bg-blue-500/5 border-blue-500/30 hover:border-blue-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(v0,{className:"w-3 h-3 text-blue-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-blue-400",children:e("stats.clicks")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-blue-400",children:n.totalClicks.toLocaleString()})]})}),s.jsx(J,{className:"bg-purple-500/5 border-purple-500/30 hover:border-purple-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(pn,{className:"w-3 h-3 text-purple-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-purple-400",children:e("stats.leads")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-purple-400",children:n.totalLeads.toLocaleString()})]})}),s.jsx(J,{className:"bg-orange-500/5 border-orange-500/30 hover:border-orange-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Sn,{className:"w-3 h-3 text-orange-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-orange-400",children:e("stats.sales")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-orange-400",children:n.totalSales.toLocaleString()})]})}),s.jsx(J,{className:"bg-red-500/5 border-red-500/30 hover:border-red-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Sn,{className:"w-3 h-3 text-red-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-red-400",children:e("stats.advertiserCost")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-red-400",children:Xe(n.advertiserCost)})]})}),s.jsx(J,{className:"bg-green-500/5 border-green-500/30 hover:border-green-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Sn,{className:"w-3 h-3 text-green-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-green-400",children:e("stats.publisherPayout")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-green-400",children:Xe(n.publisherPayout)})]})}),s.jsx(J,{className:`${n.margin>=0?"bg-emerald-500/5 border-emerald-500/30 hover:border-emerald-500/50":"bg-red-500/5 border-red-500/30 hover:border-red-500/50"} transition-colors`,children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(qr,{className:`w-3 h-3 ${n.margin>=0?"text-emerald-400":"text-red-400"}`}),s.jsx("span",{className:`text-[10px] uppercase font-medium ${n.margin>=0?"text-emerald-400":"text-red-400"}`,children:e("stats.margin")})]}),s.jsx("div",{className:`text-lg font-bold font-mono ${n.margin>=0?"text-emerald-400":"text-red-400"}`,children:Xe(n.margin)})]})}),s.jsx(J,{className:`${n.roi>=0?"bg-cyan-500/5 border-cyan-500/30 hover:border-cyan-500/50":"bg-red-500/5 border-red-500/30 hover:border-red-500/50"} transition-colors`,children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(qr,{className:`w-3 h-3 ${n.roi>=0?"text-cyan-400":"text-red-400"}`}),s.jsx("span",{className:`text-[10px] uppercase font-medium ${n.roi>=0?"text-cyan-400":"text-red-400"}`,children:e("stats.roi")})]}),s.jsxs("div",{className:`text-lg font-bold font-mono ${n.roi>=0?"text-cyan-400":"text-red-400"}`,children:[n.roi.toFixed(1),"%"]})]})}),s.jsx(J,{className:"bg-yellow-500/5 border-yellow-500/30 hover:border-yellow-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(qr,{className:"w-3 h-3 text-yellow-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-yellow-400",children:e("stats.cr")})]}),s.jsxs("div",{className:"text-lg font-bold font-mono text-yellow-400",children:[n.cr.toFixed(2),"%"]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(J,{className:"lg:col-span-2 bg-card border-border",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("h3",{className:"text-sm font-bold uppercase text-muted-foreground",children:e("dashboard.dailyStats")})}),s.jsx("div",{className:"h-[250px]",children:n.byDate.length>0?s.jsx(s1,{width:"100%",height:"100%",children:s.jsxs(L3,{data:n.byDate,children:[s.jsx(E1,{strokeDasharray:"3 3",stroke:"#333"}),s.jsx(Tm,{dataKey:"date",stroke:"#666",fontSize:10}),s.jsx(Am,{stroke:"#666",fontSize:10}),s.jsx(Aa,{contentStyle:{backgroundColor:"#111",border:"1px solid #333",borderRadius:"4px"},labelStyle:{color:"#fff"}}),s.jsx(Qi,{type:"monotone",dataKey:"clicks",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:"Clicks"}),s.jsx(Qi,{type:"monotone",dataKey:"conversions",stroke:"#10b981",strokeWidth:2,dot:!1,name:"Conversions"})]})}):s.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:"No data for selected period"})})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-bold uppercase text-muted-foreground mb-4",children:e("dashboard.topGeos")}),s.jsxs("div",{className:"space-y-3",children:[n.byGeo.slice(0,6).map((V,I)=>{const F=Math.max(...n.byGeo.map(R=>R.clicks))||1,K=V.clicks/F*100;return s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"font-mono text-muted-foreground w-8",children:V.geo})}),s.jsxs("div",{className:"flex items-center gap-3 flex-1 ml-4",children:[s.jsx("div",{className:"flex-1 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${K}%`}})}),s.jsx("span",{className:"font-mono text-xs w-12 text-right text-muted-foreground",children:V.clicks.toLocaleString()})]})]},I)}),n.byGeo.length===0&&s.jsx("div",{className:"text-muted-foreground text-sm",children:"No GEO data"})]})]})})]}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-0",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-border flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-bold text-foreground",children:e("dashboard.statsByOffer")}),s.jsxs(U,{"data-testid":"button-export-stats",variant:"ghost",size:"sm",onClick:()=>z("stats"),className:"text-muted-foreground hover:text-foreground",children:[s.jsx(Wi,{className:"w-4 h-4 mr-1"}),"CSV"]})]}),s.jsx("div",{className:"overflow-x-auto max-h-[340px] overflow-y-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono table-fixed",children:[s.jsx("thead",{className:"sticky top-0 z-10 bg-card",children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium w-[30%]",children:e("dashboard.table.offer")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[10%]",children:e("dashboard.table.clicks")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[10%]",children:e("dashboard.table.leads")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[10%]",children:e("dashboard.table.sales")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[10%]",children:e("dashboard.table.cost")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[10%]",children:e("dashboard.table.payout")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[10%]",children:e("dashboard.table.margin")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[10%]",children:e("dashboard.table.cr")})]})}),s.jsxs("tbody",{className:"divide-y divide-white/5",children:[n.byOffer.map(V=>s.jsxs("tr",{className:"hover:bg-muted transition-colors","data-testid":`row-offer-${V.offerId}`,children:[s.jsx("td",{className:"px-4 py-3 font-medium text-foreground truncate",children:V.offerName}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:V.clicks.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:V.leads.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:V.sales.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-red-400",children:Xe(V.advertiserCost)}),s.jsx("td",{className:"px-4 py-3 text-right text-yellow-400",children:Xe(V.publisherPayout)}),s.jsx("td",{className:`px-4 py-3 text-right ${V.margin>=0?"text-emerald-400":"text-red-400"}`,children:Xe(V.margin)}),s.jsxs("td",{className:"px-4 py-3 text-right text-cyan-400",children:[V.cr.toFixed(2),"%"]})]},V.offerId)),n.byOffer.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-muted-foreground",children:"No offers data"})})]})]})})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-0",children:[s.jsx("div",{className:"px-4 py-3 border-b border-border flex items-center justify-between",children:s.jsx("h3",{className:"text-sm font-bold text-foreground",children:e("dashboard.statsByPublisher")})}),s.jsx("div",{className:"overflow-x-auto max-h-[340px] overflow-y-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono table-fixed",children:[s.jsx("thead",{className:"sticky top-0 z-10 bg-card",children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium w-[34%]",children:e("dashboard.table.publisher")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[13%]",children:e("dashboard.table.clicks")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[13%]",children:e("dashboard.table.conversions")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[13%]",children:e("dashboard.table.cost")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[13%]",children:e("dashboard.table.payout")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[14%]",children:e("dashboard.table.cr")})]})}),s.jsxs("tbody",{className:"divide-y divide-white/5",children:[n.byPublisher.map(V=>s.jsxs("tr",{className:"hover:bg-muted transition-colors","data-testid":`row-publisher-${V.publisherId}`,children:[s.jsx("td",{className:"px-4 py-3 font-medium text-foreground truncate",children:V.publisherShortId?`${V.publisherShortId}${V.publisherFullName?` - ${V.publisherFullName}`:""}`:"-"}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:V.clicks.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:V.conversions.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-red-400",children:Xe(V.advertiserCost)}),s.jsx("td",{className:"px-4 py-3 text-right text-yellow-400",children:Xe(V.publisherPayout)}),s.jsxs("td",{className:"px-4 py-3 text-right text-cyan-400",children:[V.cr.toFixed(2),"%"]})]},V.publisherId)),n.byPublisher.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-muted-foreground",children:"No publisher data"})})]})]})})]})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{"data-testid":"button-export-conversions",variant:"outline",size:"sm",onClick:()=>z("conversions"),className:"border-border bg-transparent hover:bg-muted",children:[s.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Export Conversions"]}),s.jsxs(U,{"data-testid":"button-export-clicks",variant:"outline",size:"sm",onClick:()=>z("clicks"),className:"border-border bg-transparent hover:bg-muted",children:[s.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Export Clicks"]})]}),M&&s.jsx("div",{className:"text-red-500 text-xs font-mono",children:M})]})]}):null}function NKe(){const{t:e}=as(),[,t]=hr(),[n,r]=j.useState(null),[a,i]=j.useState([]),[o,l]=j.useState(!0),[c,u]=j.useState(""),[f,m]=j.useState(""),[p,g]=j.useState(""),[v,y]=j.useState("all"),[w,N]=j.useState(!1),{selectedAdvertiserId:A}=Vl(),T=async()=>{l(!0),u("");try{const M=new URLSearchParams;f&&M.append("dateFrom",f),p&&M.append("dateTo",p),v&&v!=="all"&&M.append("offerIds",v),A&&M.append("advertiserId",A);const[$,z]=await Promise.all([fetch(`/api/publisher/stats?${M}`,{credentials:"include"}),fetch(`/api/publisher/offers-list${A?`?advertiserId=${A}`:""}`,{credentials:"include"})]);if($.status===401||z.status===401){t("/login");return}if(!$.ok)throw new Error("Failed to fetch stats");if(!z.ok)throw new Error("Failed to fetch offers");const V=await $.json(),I=await z.json();r(V),i(I)}catch(M){u(M.message)}finally{l(!1)}};j.useEffect(()=>{T()},[A]);const C=()=>{T()},S=()=>{m(""),g(""),y("all"),setTimeout(()=>T(),0)},[E,O]=j.useState(""),_=async M=>{O("");try{const $=new URLSearchParams;$.append("type",M),f&&$.append("dateFrom",f),p&&$.append("dateTo",p),v&&v!=="all"&&$.append("offerIds",v),A&&$.append("advertiserId",A);const z=await fetch(`/api/publisher/export/csv?${$}`,{credentials:"include"});if(!z.ok)throw new Error("Failed to export CSV");const V=await z.blob(),I=window.URL.createObjectURL(V),F=document.createElement("a");F.href=I,F.download=`publisher_${M}.csv`,F.click(),window.URL.revokeObjectURL(I)}catch($){O($.message||"Export failed")}};return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-emerald-500"})}):c?s.jsxs("div",{className:"text-center p-8",children:[s.jsx("p",{className:"text-red-500 mb-4",children:c}),s.jsxs(U,{onClick:T,variant:"outline","data-testid":"button-retry",children:[s.jsx(Br,{className:"w-4 h-4 mr-2"}),e("common.retry")]})]}):n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsx("h2",{className:"text-xl font-bold text-foreground",children:e("dashboard.overview")})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(U,{"data-testid":"button-toggle-filters",variant:"outline",size:"sm",onClick:()=>N(!w),className:"border-border bg-transparent hover:bg-muted",children:[s.jsx(Gg,{className:"w-4 h-4 mr-2"}),e("dashboard.filters")]}),s.jsx(U,{"data-testid":"button-refresh",variant:"outline",size:"sm",onClick:T,className:"border-border bg-transparent hover:bg-muted",children:s.jsx(Br,{className:"w-4 h-4"})})]})]}),w&&s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:e("dashboard.dateFrom")}),s.jsx(le,{"data-testid":"input-date-from",type:"date",value:f,onChange:M=>m(M.target.value),className:"bg-input border-border text-foreground h-9"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:e("dashboard.dateTo")}),s.jsx(le,{"data-testid":"input-date-to",type:"date",value:p,onChange:M=>g(M.target.value),className:"bg-input border-border text-foreground h-9"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:e("dashboard.table.offer")}),s.jsxs(ht,{value:v,onValueChange:y,children:[s.jsx(dt,{"data-testid":"select-offer",className:"bg-input border-border text-foreground h-9",children:s.jsx(mt,{placeholder:e("dashboard.offers.all")})}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"all",children:e("dashboard.offers.all")}),a.map(M=>s.jsx(ke,{value:M.id,children:M.name},M.id))]})]})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx(U,{"data-testid":"button-apply-filters",onClick:C,className:"bg-emerald-600 hover:bg-emerald-700 h-9",children:e("publisherDashboard.apply")}),s.jsx(U,{"data-testid":"button-reset-filters",variant:"outline",onClick:S,className:"border-border h-9",children:s.jsx(Xn,{className:"w-4 h-4"})})]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3",children:[s.jsx(J,{className:"bg-blue-500/5 border-blue-500/30 hover:border-blue-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(v0,{className:"w-3 h-3 text-blue-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-blue-400",children:e("stats.clicks")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-blue-400",children:n.totalClicks.toLocaleString()})]})}),s.jsx(J,{className:"bg-purple-500/5 border-purple-500/30 hover:border-purple-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(pn,{className:"w-3 h-3 text-purple-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-purple-400",children:e("stats.leads")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-purple-400",children:n.totalLeads.toLocaleString()})]})}),s.jsx(J,{className:"bg-orange-500/5 border-orange-500/30 hover:border-orange-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Sn,{className:"w-3 h-3 text-orange-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-orange-400",children:e("stats.sales")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-orange-400",children:n.totalSales.toLocaleString()})]})}),s.jsx(J,{className:"bg-emerald-500/5 border-emerald-500/30 hover:border-emerald-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Sn,{className:"w-3 h-3 text-emerald-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-emerald-400",children:e("publisherDashboard.totalPayout")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-emerald-400",children:Xe(n.totalPayout)})]})}),s.jsx(J,{className:"bg-yellow-500/5 border-yellow-500/30 hover:border-yellow-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Yt,{className:"w-3 h-3 text-yellow-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-yellow-400",children:e("publisherDashboard.hold")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-yellow-400",children:Xe(n.holdPayout)})]})}),s.jsx(J,{className:"bg-cyan-500/5 border-cyan-500/30 hover:border-cyan-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(qr,{className:"w-3 h-3 text-cyan-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-cyan-400",children:e("stats.cr")})]}),s.jsxs("div",{className:"text-lg font-bold font-mono text-cyan-400",children:[n.cr.toFixed(2),"%"]})]})}),s.jsx(J,{className:"bg-pink-500/5 border-pink-500/30 hover:border-pink-500/50 transition-colors",children:s.jsxs(ne,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(qr,{className:"w-3 h-3 text-pink-400"}),s.jsx("span",{className:"text-[10px] uppercase font-medium text-pink-400",children:e("publisherDashboard.epc")})]}),s.jsx("div",{className:"text-lg font-bold font-mono text-pink-400",children:Xe(n.epc)})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(J,{className:"lg:col-span-2 bg-card border-border",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("h3",{className:"text-sm font-bold uppercase text-muted-foreground",children:e("dashboard.dailyStats")})}),s.jsx("div",{className:"h-[250px]",children:n.byDate.length>0?s.jsx(s1,{width:"100%",height:"100%",children:s.jsxs(L3,{data:n.byDate,children:[s.jsx(E1,{strokeDasharray:"3 3",stroke:"#333"}),s.jsx(Tm,{dataKey:"date",stroke:"#666",fontSize:10}),s.jsx(Am,{stroke:"#666",fontSize:10}),s.jsx(Aa,{contentStyle:{backgroundColor:"#111",border:"1px solid #333",borderRadius:"4px"},labelStyle:{color:"#fff"}}),s.jsx(Qi,{type:"monotone",dataKey:"clicks",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:e("stats.clicks")}),s.jsx(Qi,{type:"monotone",dataKey:"conversions",stroke:"#10b981",strokeWidth:2,dot:!1,name:e("stats.conversions")})]})}):s.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:e("publisherDashboard.noData")})})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-bold uppercase text-muted-foreground mb-4",children:e("dashboard.topGeos")}),s.jsxs("div",{className:"space-y-3",children:[n.byGeo.slice(0,6).map((M,$)=>{const z=Math.max(...n.byGeo.map(I=>I.clicks))||1,V=M.clicks/z*100;return s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"font-mono text-muted-foreground w-8",children:M.geo})}),s.jsxs("div",{className:"flex items-center gap-3 flex-1 ml-4",children:[s.jsx("div",{className:"flex-1 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${V}%`}})}),s.jsx("span",{className:"font-mono text-xs w-12 text-right text-muted-foreground",children:M.clicks.toLocaleString()})]})]},$)}),n.byGeo.length===0&&s.jsx("div",{className:"text-muted-foreground text-sm",children:e("publisherDashboard.noGeoData")})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:n.byStatus.map((M,$)=>s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs text-muted-foreground uppercase mb-1",children:[M.status==="approved"&&e("publisherDashboard.statusApproved"),M.status==="hold"&&e("publisherDashboard.statusHold"),M.status==="rejected"&&e("publisherDashboard.statusRejected"),M.status==="pending"&&e("publisherDashboard.statusPending"),!["approved","hold","rejected","pending"].includes(M.status)&&M.status]}),s.jsx("div",{className:"text-2xl font-bold font-mono text-foreground",children:M.count}),s.jsx("div",{className:"text-sm font-mono text-emerald-500",children:Xe(M.payout)})]}),s.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${M.status==="approved"?"bg-emerald-500/20":M.status==="hold"?"bg-yellow-500/20":M.status==="rejected"?"bg-red-500/20":"bg-blue-500/20"}`,children:[M.status==="approved"&&s.jsx(Gn,{className:"w-5 h-5 text-emerald-500"}),M.status==="hold"&&s.jsx(Yt,{className:"w-5 h-5 text-yellow-500"}),M.status==="rejected"&&s.jsx(Xn,{className:"w-5 h-5 text-red-500"}),M.status==="pending"&&s.jsx(Yt,{className:"w-5 h-5 text-blue-500"})]})]})})},$))}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-0",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-border flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-bold text-foreground",children:e("dashboard.statsByOffer")}),s.jsxs(U,{"data-testid":"button-export-stats",variant:"ghost",size:"sm",onClick:()=>_("stats"),className:"text-muted-foreground hover:text-foreground",children:[s.jsx(Wi,{className:"w-4 h-4 mr-1"}),"CSV"]})]}),s.jsx("div",{className:"overflow-x-auto max-h-[340px] overflow-y-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono table-fixed",children:[s.jsx("thead",{className:"sticky top-0 z-10 bg-card",children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium w-[34%]",children:e("dashboard.table.offer")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[13%]",children:e("dashboard.table.clicks")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[13%]",children:e("dashboard.table.leads")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[13%]",children:e("dashboard.table.sales")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[13%]",children:e("dashboard.table.payout")}),s.jsx("th",{className:"px-4 py-3 font-medium text-right w-[14%]",children:e("dashboard.table.cr")})]})}),s.jsxs("tbody",{className:"divide-y divide-white/5",children:[n.byOffer.map(M=>s.jsxs("tr",{className:"hover:bg-muted transition-colors","data-testid":`row-offer-${M.offerId}`,children:[s.jsx("td",{className:"px-4 py-3 font-medium text-foreground truncate",children:M.offerName}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:M.clicks.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:M.leads.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:M.sales.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400",children:Xe(M.payout)}),s.jsxs("td",{className:"px-4 py-3 text-right text-cyan-400",children:[M.cr.toFixed(2),"%"]})]},M.offerId)),n.byOffer.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-muted-foreground",children:e("publisherDashboard.noOffersData")})})]})]})})]})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{"data-testid":"button-export-conversions",variant:"outline",size:"sm",onClick:()=>_("conversions"),className:"border-border bg-transparent hover:bg-muted",children:[s.jsx(Wi,{className:"w-4 h-4 mr-2"}),e("publisherDashboard.exportConversions")]}),s.jsxs(U,{"data-testid":"button-export-clicks",variant:"outline",size:"sm",onClick:()=>_("clicks"),className:"border-border bg-transparent hover:bg-muted",children:[s.jsx(Wi,{className:"w-4 h-4 mr-2"}),e("publisherDashboard.exportClicks")]})]}),E&&s.jsx("div",{className:"text-red-500 text-xs font-mono",children:E})]})]}):null}const vO=["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6"];function wl(e,t=0){const n=Number(e);return isNaN(n)?t:n}function qb(e){return`$${wl(e).toFixed(2)}`}function Gp(e){return wl(e).toLocaleString()}function SKe(){const{t:e}=as(),[,t]=hr(),[n,r]=j.useState(null),[a,i]=j.useState(null),[o,l]=j.useState(!0),[c,u]=j.useState(""),f=async()=>{l(!0),u("");try{const[p,g]=await Promise.all([fetch("/api/admin/platform-stats",{credentials:"include"}),fetch("/api/admin/stats",{credentials:"include"})]);if(p.status===401||g.status===401){t("/login");return}if(!p.ok)throw new Error("Failed to fetch platform stats");if(!g.ok)throw new Error("Failed to fetch admin stats");const v=await p.json(),y=await g.json();r(v),i(y)}catch(p){u(p.message)}finally{l(!1)}};if(j.useEffect(()=>{f()},[]),o)return s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-muted-foreground"})});if(c)return s.jsxs("div",{className:"text-center py-20",children:[s.jsx("p",{className:"text-red-500 mb-4",children:c}),s.jsxs(U,{onClick:f,variant:"outline",children:[s.jsx(Br,{className:"w-4 h-4 mr-2"}),""]})]});const m=[{name:"",value:wl(a?.totalAdvertisers)},{name:"",value:wl(a?.totalPublishers)}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:" "}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"  "})]}),s.jsxs(U,{onClick:f,variant:"outline",size:"sm","data-testid":"button-refresh",children:[s.jsx(Br,{className:"w-4 h-4 mr-2"}),""]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(J,{className:"bg-emerald-500/5 border-emerald-500/30 hover:border-emerald-500/50 transition-colors",children:s.jsxs(ne,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-emerald-400 uppercase tracking-wider",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-emerald-400","data-testid":"text-total-revenue",children:qb(n?.totalRevenue)})]}),s.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center",children:s.jsx(Sn,{className:"w-5 h-5 text-emerald-500"})})]}),s.jsxs("div",{className:"mt-2 flex items-center text-xs",children:[s.jsx(LW,{className:"w-3 h-3 text-emerald-500 mr-1"}),s.jsxs("span",{className:wl(n?.platformMargin)>=0?"text-emerald-500":"text-red-500",children:[": ",qb(n?.platformMargin)]})]})]})}),s.jsx(J,{className:"bg-blue-500/5 border-blue-500/30 hover:border-blue-500/50 transition-colors",children:s.jsxs(ne,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-blue-400 uppercase tracking-wider",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-blue-400","data-testid":"text-total-payouts",children:qb(n?.totalPayouts)})]}),s.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:s.jsx(qr,{className:"w-5 h-5 text-blue-500"})})]}),s.jsx("div",{className:"mt-2 flex items-center text-xs",children:s.jsxs("span",{className:"text-yellow-500",children:[": ",qb(n?.pendingPayouts)]})})]})}),s.jsx(J,{className:"bg-purple-500/5 border-purple-500/30 hover:border-purple-500/50 transition-colors",children:s.jsxs(ne,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-purple-400 uppercase tracking-wider",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-purple-400","data-testid":"text-total-conversions",children:Gp(n?.totalConversions)})]}),s.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:s.jsx(Il,{className:"w-5 h-5 text-purple-500"})})]}),s.jsx("div",{className:"mt-2 flex items-center text-xs",children:s.jsxs("span",{className:wl(n?.avgROI)>=0?"text-emerald-500":"text-red-500",children:["ROI: ",wl(n?.avgROI).toFixed(1),"%"]})})]})}),s.jsx(J,{className:"bg-cyan-500/5 border-cyan-500/30 hover:border-cyan-500/50 transition-colors",children:s.jsxs(ne,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-cyan-400 uppercase tracking-wider",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-cyan-400","data-testid":"text-total-users",children:Gp(a?.totalUsers)})]}),s.jsx("div",{className:"w-10 h-10 rounded-lg bg-cyan-500/20 flex items-center justify-center",children:s.jsx(pn,{className:"w-5 h-5 text-cyan-500"})})]}),s.jsx("div",{className:"mt-2 flex items-center text-xs text-cyan-400/70",children:s.jsxs("span",{children:[wl(n?.activeAdvertisers)," . / ",wl(n?.activePublishers)," ."]})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(J,{className:"bg-card border-border md:col-span-2",children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"text-sm text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[s.jsx(Ro,{className:"w-4 h-4"})," "]})}),s.jsx(ne,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Mt,{href:"/dashboard/admin/users",children:s.jsxs(U,{variant:"outline",className:"w-full h-20 flex-col gap-2 bg-emerald-500/10 border-emerald-500/30 hover:bg-emerald-500/20 hover:border-emerald-500/50","data-testid":"link-users",children:[s.jsx(pn,{className:"w-6 h-6 text-emerald-400"}),s.jsx("span",{className:"text-xs text-emerald-300",children:""})]})}),s.jsx(Mt,{href:"/dashboard/admin/finance",children:s.jsxs(U,{variant:"outline",className:"w-full h-20 flex-col gap-2 bg-yellow-500/10 border-yellow-500/30 hover:bg-yellow-500/20 hover:border-yellow-500/50","data-testid":"link-finance",children:[s.jsx(Sn,{className:"w-6 h-6 text-yellow-400"}),s.jsx("span",{className:"text-xs text-yellow-300",children:""})]})}),s.jsx(Mt,{href:"/dashboard/admin/antifraud",children:s.jsxs(U,{variant:"outline",className:"w-full h-20 flex-col gap-2 bg-red-500/10 border-red-500/30 hover:bg-red-500/20 hover:border-red-500/50","data-testid":"link-antifraud",children:[s.jsx(Il,{className:"w-6 h-6 text-red-400"}),s.jsx("span",{className:"text-xs text-red-300",children:""})]})}),s.jsx(Mt,{href:"/dashboard/admin/reports",children:s.jsxs(U,{variant:"outline",className:"w-full h-20 flex-col gap-2 bg-purple-500/10 border-purple-500/30 hover:bg-purple-500/20 hover:border-purple-500/50","data-testid":"link-reports",children:[s.jsx(v0,{className:"w-6 h-6 text-purple-400"}),s.jsx("span",{className:"text-xs text-purple-300",children:""})]})})]})})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"text-sm text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[s.jsx(pn,{className:"w-4 h-4"}),""]})}),s.jsxs(ne,{children:[s.jsx("div",{className:"h-[150px]",children:s.jsx(s1,{width:"100%",height:"100%",children:s.jsxs(jKe,{children:[s.jsx(Xl,{data:m,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:5,dataKey:"value",children:m.map((p,g)=>s.jsx(a1,{fill:vO[g%vO.length]},`cell-${g}`))}),s.jsx(Aa,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid rgba(255,255,255,0.1)"},labelStyle:{color:"#fff"}})]})})}),s.jsx("div",{className:"flex justify-center gap-4 mt-2",children:m.map((p,g)=>s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:vO[g]}}),s.jsxs("span",{className:"text-muted-foreground",children:[p.name,": ",p.value]})]},g))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"text-sm text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[s.jsx(er,{className:"w-4 h-4"})," "]})}),s.jsx(ne,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ro,{className:"w-5 h-5 text-orange-400"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:" "})]}),s.jsx("span",{className:"font-mono font-bold text-foreground","data-testid":"text-total-offers",children:Gp(a?.totalOffers)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(v0,{className:"w-5 h-5 text-blue-400"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:" "})]}),s.jsx("span",{className:"font-mono font-bold text-foreground","data-testid":"text-total-clicks",children:Gp(a?.totalClicks)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Zp,{className:"w-5 h-5 text-emerald-400"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:" "})]}),s.jsx("span",{className:"font-mono font-bold text-foreground","data-testid":"text-admin-total-conversions",children:Gp(a?.totalConversions)})]})]})})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[s.jsxs(Ie,{className:"text-sm text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[s.jsx(pn,{className:"w-4 h-4"})," "]}),s.jsx(Mt,{href:"/dashboard/admin/users",children:s.jsx(U,{variant:"link",size:"sm",className:"text-xs text-blue-400",children:"  "})})]}),s.jsx(ne,{children:s.jsx("div",{className:"space-y-3",children:a?.recentUsers?.slice(0,5).map(p=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-lg","data-testid":`user-row-${p.id}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${p.role==="admin"?"bg-red-500/20 text-red-400":p.role==="advertiser"?"bg-blue-500/20 text-blue-400":"bg-emerald-500/20 text-emerald-400"}`,children:p.username.charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:p.username}),s.jsx("p",{className:"text-xs text-muted-foreground",children:p.role})]})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${p.status==="active"?"bg-emerald-500/20 text-emerald-400":p.status==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:p.status})]},p.id))||s.jsx("p",{className:"text-center text-muted-foreground py-4",children:" "})})})]})]})]})}function CKe(){const e=rt(),[t,n]=j.useState(""),[r,a]=j.useState("all"),[i,o]=j.useState(!1),[l,c]=j.useState(!1),{data:u=[],isLoading:f}=Ne({queryKey:["advertiser-partners",r],queryFn:async()=>{const N=r==="all"?"/api/advertiser/partners":`/api/advertiser/partners?status=${r}`,A=await fetch(N,{credentials:"include"});if(!A.ok)throw new Error("Failed to fetch partners");return A.json()}}),{data:m}=Ne({queryKey:["advertiser-registration-link"],queryFn:async()=>{const N=await fetch("/api/advertiser/registration-link",{credentials:"include"});if(!N.ok)throw new Error("Failed to get link");return N.json()}}),p=ve({mutationFn:async({id:N,status:A})=>(await Be("PUT",`/api/advertiser/partners/${N}/status`,{status:A})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["advertiser-partners"]})}}),g=()=>{m?.registrationLink&&(navigator.clipboard.writeText(m.registrationLink),c(!0),setTimeout(()=>c(!1),2e3))},v=u.filter(N=>N.username.toLowerCase().includes(t.toLowerCase())||N.email.toLowerCase().includes(t.toLowerCase())),y=N=>{const A={pending:{color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",icon:s.jsx(Yt,{className:"w-3 h-3"})},active:{color:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",icon:s.jsx(Kc,{className:"w-3 h-3"})},paused:{color:"bg-blue-500/20 text-blue-400 border-blue-500/30",icon:s.jsx($O,{className:"w-3 h-3"})},blocked:{color:"bg-red-500/20 text-red-400 border-red-500/30",icon:s.jsx(zx,{className:"w-3 h-3"})}},{color:T,icon:C}=A[N]||A.pending;return s.jsxs(ye,{variant:"outline",className:`${T} flex items-center gap-1`,children:[C,N]})},w=u.filter(N=>N.status==="pending").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(pn,{className:"w-6 h-6"}),"",w>0&&s.jsxs(ye,{variant:"destructive",className:"ml-2",children:[w," "]})]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"    "})]}),s.jsxs(Wt,{open:i,onOpenChange:o,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{"data-testid":"button-get-link",className:"bg-emerald-600 hover:bg-emerald-700",children:[s.jsx(Yg,{className:"w-4 h-4 mr-2"})," "]})}),s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsx(Ut,{className:"text-foreground",children:"   "})}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsx("p",{className:"text-muted-foreground text-sm",children:'    .         "pending".'}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{"data-testid":"input-registration-link",value:m?.registrationLink||"",readOnly:!0,className:"bg-input border-border text-foreground font-mono text-sm"}),s.jsx(U,{"data-testid":"button-copy-link",variant:"outline",onClick:g,className:"border-border",children:l?s.jsx(bt,{className:"w-4 h-4 text-emerald-400"}):s.jsx(Yn,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[" : ",s.jsx("code",{className:"text-emerald-400",children:m?.referralCode})]})]})]})]})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{className:"border-b border-border",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{"data-testid":"input-search-partners",placeholder:"    email...",value:t,onChange:N=>n(N.target.value),className:"pl-10 bg-input border-border text-foreground"})]}),s.jsxs(ht,{value:r,onValueChange:a,children:[s.jsxs(dt,{"data-testid":"select-status-filter",className:"w-40 bg-input border-border",children:[s.jsx(Gg,{className:"w-4 h-4 mr-2"}),s.jsx(mt,{placeholder:""})]}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"all",children:""}),s.jsx(ke,{value:"pending",children:""}),s.jsx(ke,{value:"active",children:""}),s.jsx(ke,{value:"paused",children:" "}),s.jsx(ke,{value:"blocked",children:""})]})]})]})}),s.jsx(ne,{className:"p-0",children:f?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):v.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Do,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"  "}),s.jsx("p",{className:"text-sm mt-1",children:"   "})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-muted border-b border-border",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-left text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-left text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-right text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-right text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-right text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-right text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:v.map(N=>s.jsxs("tr",{"data-testid":`row-partner-${N.id}`,className:"hover:bg-muted",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-foreground font-medium",children:N.companyName||N.username}),s.jsxs("div",{className:"text-muted-foreground text-xs",children:["@",N.username]})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(T0,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[N.telegram&&s.jsxs(Gb,{children:[s.jsx(Yb,{asChild:!0,children:s.jsx("a",{href:`https://t.me/${N.telegram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 rounded bg-blue-500/10 hover:bg-blue-500/20 text-blue-400","data-testid":`contact-telegram-${N.id}`,children:s.jsx(dr,{className:"w-3 h-3"})})}),s.jsx(fx,{children:N.telegram})]}),N.email&&s.jsxs(Gb,{children:[s.jsx(Yb,{asChild:!0,children:s.jsx("a",{href:`mailto:${N.email}`,className:"p-1.5 rounded bg-yellow-500/10 hover:bg-yellow-500/20 text-yellow-400","data-testid":`contact-email-${N.id}`,children:s.jsx(Ji,{className:"w-3 h-3"})})}),s.jsx(fx,{children:N.email})]}),N.phone&&s.jsxs(Gb,{children:[s.jsx(Yb,{asChild:!0,children:s.jsx("a",{href:`tel:${N.phone}`,className:"p-1.5 rounded bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-400","data-testid":`contact-phone-${N.id}`,children:s.jsx(om,{className:"w-3 h-3"})})}),s.jsx(fx,{children:N.phone})]}),!N.telegram&&!N.email&&!N.phone&&s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})})}),s.jsx("td",{className:"px-4 py-3",children:y(N.status)}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground font-mono",children:N.clicks.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground font-mono",children:N.conversions.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400 font-mono",children:Xe(N.payout)}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(Mt,{href:`/dashboard/advertiser/partner/${N.publisherId}`,children:s.jsxs(U,{"data-testid":`button-profile-${N.id}`,size:"sm",className:"bg-blue-600 hover:bg-blue-700 h-7 text-xs",children:[s.jsx(ur,{className:"w-3 h-3 mr-1"}),""]})}),N.status==="pending"&&s.jsx(U,{"data-testid":`button-approve-${N.id}`,size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 h-7 text-xs",onClick:()=>p.mutate({id:N.id,status:"active"}),disabled:p.isPending,children:""}),N.status==="active"&&s.jsxs(s.Fragment,{children:[s.jsxs(U,{"data-testid":`button-pause-${N.id}`,size:"sm",variant:"outline",className:"border-border h-7 text-xs",onClick:()=>p.mutate({id:N.id,status:"paused"}),disabled:p.isPending,children:[s.jsx($O,{className:"w-3 h-3 mr-1"}),""]}),s.jsxs(U,{"data-testid":`button-block-${N.id}`,size:"sm",variant:"destructive",className:"h-7 text-xs",onClick:()=>p.mutate({id:N.id,status:"blocked"}),disabled:p.isPending,children:[s.jsx(zx,{className:"w-3 h-3 mr-1"}),""]})]}),N.status==="paused"&&s.jsxs(U,{"data-testid":`button-activate-${N.id}`,size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 h-7 text-xs",onClick:()=>p.mutate({id:N.id,status:"active"}),disabled:p.isPending,children:[s.jsx(Kc,{className:"w-3 h-3 mr-1"}),""]}),N.status==="blocked"&&s.jsx(U,{"data-testid":`button-unblock-${N.id}`,size:"sm",variant:"outline",className:"border-border h-7 text-xs",onClick:()=>p.mutate({id:N.id,status:"active"}),disabled:p.isPending,children:""})]})})]},N.id))})]})})})]})]})}function kKe({publisherId:e}){const t=rt(),{toast:n}=Dt(),[r,a]=j.useState(!1),[i,o]=j.useState("grant"),[l,c]=j.useState(null),[u,f]=j.useState([]),{data:m,isLoading:p}=Ne({queryKey:["/api/advertiser/partners",e],queryFn:async()=>{const I=await fetch(`/api/advertiser/partners/${e}`,{credentials:"include"});if(!I.ok)throw new Error("Failed to fetch partner");return I.json()}}),{data:g=[],isLoading:v}=Ne({queryKey:["/api/advertiser/partners",e,"offers"],queryFn:async()=>{const I=await fetch(`/api/advertiser/partners/${e}/offers`,{credentials:"include"});if(!I.ok)throw new Error("Failed to fetch offers");return I.json()}}),y=ve({mutationFn:async({offerId:I,status:F,approvedLandings:K})=>Be("PUT",`/api/advertiser/partners/${e}/offers/${I}`,{status:F,approvedLandings:K}),onSuccess:(I,F)=>{t.invalidateQueries({queryKey:["/api/advertiser/partners",e,"offers"]}),a(!1),c(null),f([]),n({title:{approved:" ",revoked:" ",rejected:" "}[F.status]||"",description:" "})},onError:I=>{n({title:"",description:I.message||"   ",variant:"destructive"})}}),w=ve({mutationFn:async I=>Be("POST",`/api/advertiser/partners/${e}/offers/${I}/approve-landings`,{}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/advertiser/partners",e,"offers"]}),n({title:" ",description:"   "})},onError:I=>{n({title:"",description:I.message||"   ",variant:"destructive"})}}),N=ve({mutationFn:async I=>Be("POST",`/api/advertiser/partners/${e}/offers/${I}/reject-landings`,{}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/advertiser/partners",e,"offers"]}),n({title:" ",description:"    "})},onError:I=>{n({title:"",description:I.message||"   ",variant:"destructive"})}}),A=I=>{c(I),o("grant"),f(I.landings.map(F=>F.id)),a(!0)},T=I=>{c(I),o("edit");const F=I.approvedLandings;F&&F.length>0?f(F):f(I.landings.map(K=>K.id)),a(!0)},C=()=>{if(l&&(i==="grant"||i==="edit")){const I=u.length===l.landings.length?[]:u;y.mutate({offerId:l.id,status:"approved",approvedLandings:I})}},S=I=>{y.mutate({offerId:I,status:"revoked"})},E=I=>{y.mutate({offerId:I,status:"rejected"})},O=I=>{A(I)},_=I=>{f(F=>F.includes(I)?F.filter(K=>K!==I):[...F,I])},M=()=>{l&&f(l.landings.map(I=>I.id))},$=()=>{f([])},z=I=>{const F={active:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",paused:"bg-orange-500/20 text-orange-400 border-orange-500/30",blocked:"bg-red-500/20 text-red-400 border-red-500/30"};return s.jsx(ye,{className:F[I]||"bg-muted text-muted-foreground",children:I})},V=I=>{const F=I.accessStatus,K={approved:{className:"bg-emerald-500/20 text-emerald-400",label:""},pending:{className:"bg-yellow-500/20 text-yellow-400",label:""},rejected:{className:"bg-red-500/20 text-red-400",label:""},revoked:{className:"bg-red-500/20 text-red-400",label:""},not_requested:{className:"bg-muted text-muted-foreground",label:" "}},R=K[F]||K.not_requested,B=F==="approved"&&I.approvedLandings&&I.approvedLandings.length>0&&I.approvedLandings.length<I.landings.length;return s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(ye,{className:R.className,children:R.label}),B&&s.jsx("span",{className:"text-xs text-yellow-400",children:"()"})]})};return p?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):m?s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Mt,{href:"/dashboard/advertiser/partners",children:s.jsxs(U,{variant:"ghost",size:"sm","data-testid":"button-back",children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),""]})}),s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:" "})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(J,{className:"bg-card border-border lg:col-span-1",children:[s.jsx(Pe,{className:"pb-2",children:s.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[s.jsx(Or,{className:"w-5 h-5"}),""]})}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:m.companyName||m.username}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",m.username]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:":"}),z(m.status)]}),s.jsx("div",{className:"border-t border-border pt-4 space-y-3",children:s.jsxs(T0,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ji,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("a",{href:`mailto:${m.email}`,className:"text-sm text-blue-400 hover:underline",children:m.email})]}),m.telegram&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dr,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("a",{href:`https://t.me/${m.telegram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-400 hover:underline",children:m.telegram})]}),m.phone&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(om,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("a",{href:`tel:${m.phone}`,className:"text-sm text-blue-400 hover:underline",children:m.phone})]})]})}),s.jsx("div",{className:"border-t border-border pt-4",children:s.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[s.jsx(Vw,{className:"w-4 h-4"}),s.jsxs("span",{children:["  ",new Date(m.relationCreatedAt).toLocaleDateString()]})]})})]})]}),s.jsxs(J,{className:"bg-card border-border lg:col-span-2",children:[s.jsx(Pe,{className:"pb-2",children:s.jsx(Ie,{className:"text-lg",children:""})}),s.jsx(ne,{children:s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-400 mb-1",children:[s.jsx(t_,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs uppercase",children:""})]}),s.jsx("p",{className:"text-2xl font-bold text-blue-400",children:m.clicks.toLocaleString()})]}),s.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-purple-400 mb-1",children:[s.jsx(Ro,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs uppercase",children:""})]}),s.jsx("p",{className:"text-2xl font-bold text-purple-400",children:m.conversions.toLocaleString()})]}),s.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/20 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 mb-1",children:[s.jsx(Sn,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs uppercase",children:" (USD)"})]}),s.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:Xe(m.payout)})]})]})})]})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{children:s.jsx(Ie,{className:"text-lg",children:""})}),s.jsx(ne,{children:v?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):g.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:" "}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-muted border-b border-border",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-left text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-right text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-right text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-right text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""}),s.jsx("th",{className:"text-right text-xs font-medium text-muted-foreground uppercase px-4 py-3",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-border",children:g.map(I=>s.jsxs("tr",{"data-testid":`row-offer-${I.id}`,className:"hover:bg-muted/50",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[I.logoUrl?s.jsx("img",{src:I.logoUrl,alt:I.name,className:"w-8 h-8 rounded object-cover"}):s.jsx("div",{className:"w-8 h-8 rounded bg-muted flex items-center justify-center text-xs font-bold text-muted-foreground",children:I.name.charAt(0).toUpperCase()}),s.jsx("span",{className:"text-foreground font-medium",children:I.name})]})}),s.jsx("td",{className:"px-4 py-3",children:V(I)}),s.jsxs("td",{className:"px-4 py-3 text-right",children:[s.jsx("span",{className:"text-emerald-400 font-mono",children:I.payout?` ${Hs(Ol(I))}${I.payout}`:""}),s.jsxs("span",{className:"text-muted-foreground text-xs ml-1",children:["/",I.payoutModel]})]}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground font-mono",children:I.clicks.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground font-mono",children:I.conversions.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[I.accessStatus==="not_requested"&&s.jsxs(U,{"data-testid":`button-grant-${I.id}`,size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 h-7 text-xs",onClick:()=>A(I),disabled:y.isPending,children:[s.jsx(bt,{className:"w-3 h-3 mr-1"})," "]}),I.accessStatus==="approved"&&s.jsxs(s.Fragment,{children:[I.requestedLandings&&I.requestedLandings.length>0&&s.jsx(T0,{children:s.jsxs(Gb,{children:[s.jsx(Yb,{asChild:!0,children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs(U,{"data-testid":`button-approve-landings-${I.id}`,size:"sm",className:"bg-orange-600 hover:bg-orange-700 h-7 text-xs",onClick:()=>w.mutate(I.id),disabled:w.isPending||N.isPending,children:[s.jsx(bt,{className:"w-3 h-3 mr-1"}),"+",I.requestedLandings.length," ."]}),s.jsx(U,{"data-testid":`button-reject-landings-${I.id}`,size:"sm",variant:"outline",className:"border-orange-500 text-orange-400 hover:bg-orange-500/10 h-7 text-xs px-2",onClick:()=>N.mutate(I.id),disabled:w.isPending||N.isPending,children:s.jsx(Xn,{className:"w-3 h-3"})})]})}),s.jsx(fx,{children:s.jsxs("p",{children:["  ",I.requestedLandings.length,"  "]})})]})}),I.landings.length>0&&s.jsxs(U,{"data-testid":`button-edit-${I.id}`,size:"sm",variant:"outline",className:"border-border h-7 text-xs",onClick:()=>T(I),disabled:y.isPending,children:[s.jsx(Gi,{className:"w-3 h-3 mr-1"}),""]}),s.jsxs(U,{"data-testid":`button-revoke-${I.id}`,size:"sm",variant:"destructive",className:"h-7 text-xs",onClick:()=>S(I.id),disabled:y.isPending,children:[s.jsx(Xn,{className:"w-3 h-3 mr-1"}),""]})]}),I.accessStatus==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs(U,{"data-testid":`button-approve-${I.id}`,size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 h-7 text-xs",onClick:()=>A(I),disabled:y.isPending,children:[s.jsx(bt,{className:"w-3 h-3 mr-1"}),""]}),s.jsxs(U,{"data-testid":`button-reject-${I.id}`,size:"sm",variant:"destructive",className:"h-7 text-xs",onClick:()=>E(I.id),disabled:y.isPending,children:[s.jsx(Xn,{className:"w-3 h-3 mr-1"}),""]})]}),(I.accessStatus==="rejected"||I.accessStatus==="revoked")&&s.jsx(U,{"data-testid":`button-restore-${I.id}`,size:"sm",variant:"outline",className:"border-border h-7 text-xs",onClick:()=>O(I),disabled:y.isPending,children:""})]})})]},I.id))})]})})})]}),s.jsx(Wt,{open:r,onOpenChange:a,children:s.jsxs(zt,{className:"sm:max-w-md",children:[s.jsx(qt,{children:s.jsxs(Ut,{children:[i==="grant"&&"   ",i==="edit"&&"   "]})}),l&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[l.logoUrl?s.jsx("img",{src:l.logoUrl,alt:l.name,className:"w-10 h-10 rounded object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded bg-background flex items-center justify-center text-sm font-bold text-muted-foreground",children:l.name.charAt(0).toUpperCase()}),s.jsx("span",{className:"text-foreground font-medium",children:l.name})]}),l.landings.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"   :"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:M,children:""}),s.jsx(U,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:$,children:""})]})]}),s.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 border border-border rounded-lg p-3",children:l.landings.map(I=>s.jsxs("label",{className:"flex items-center gap-3 p-2 rounded hover:bg-muted cursor-pointer",children:[s.jsx($l,{checked:u.includes(I.id),onCheckedChange:()=>_(I.id),"data-testid":`checkbox-landing-${I.id}`}),s.jsx("span",{className:"text-lg",children:xu(I.geo)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:I.name||` ${I.geo}`}),s.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[s.jsx("span",{className:"font-mono bg-muted px-1 rounded mr-2",children:I.geo}),I.url]})]})]},I.id))}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",u.length,"  ",l.landings.length,u.length===l.landings.length&&" ( )"]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"    .    ."})]}),s.jsxs(Ks,{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",onClick:()=>a(!1),disabled:y.isPending,children:""}),s.jsxs(U,{className:"bg-emerald-600 hover:bg-emerald-700",onClick:C,disabled:y.isPending||(l?.landings.length?u.length===0:!1),"data-testid":"button-confirm-access",children:[y.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(bt,{className:"w-4 h-4 mr-2"}),i==="grant"?" ":""]})]})]})})]}):s.jsx("div",{className:"p-6",children:s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"  "}),s.jsx(Mt,{href:"/dashboard/advertiser/partners",children:s.jsxs(U,{variant:"outline",className:"mt-4",children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),"  "]})})]})})})}function bO(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}var TKe=pa[" useInsertionEffect ".trim().toString()]||Zt;function AKe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=EKe({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=j.useCallback(f=>{if(l){const m=OKe(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[c,u]}function EKe({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return TKe(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function OKe(e){return typeof e=="function"}var P1="Tabs",[PKe]=ss(P1,[rN]),Kie=rN(),[MKe,$3]=PKe(P1),Wie=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=hm(l),[m,p]=AKe({prop:r,onChange:a,defaultProp:i??"",caller:P1});return s.jsx(MKe,{scope:n,baseId:Ts(),value:m,onValueChange:p,orientation:o,dir:f,activationMode:c,children:s.jsx(Je.div,{dir:f,"data-orientation":o,...u,ref:t})})});Wie.displayName=P1;var Gie="TabsList",Yie=j.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=$3(Gie,n),o=Kie(n);return s.jsx(gY,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:s.jsx(Je.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});Yie.displayName=Gie;var Xie="TabsTrigger",Qie=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,o=$3(Xie,n),l=Kie(n),c=eoe(o.baseId,r),u=toe(o.baseId,r),f=r===o.value;return s.jsx(yY,{asChild:!0,...l,focusable:!a,active:f,children:s.jsx(Je.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:bO(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:bO(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:bO(e.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!a&&m&&o.onValueChange(r)})})})});Qie.displayName=Xie;var Jie="TabsContent",Zie=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=e,l=$3(Jie,n),c=eoe(l.baseId,r),u=toe(l.baseId,r),f=r===l.value,m=j.useRef(f);return j.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),s.jsx(Vr,{present:a||f,children:({present:p})=>s.jsx(Je.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:p&&i})})});Zie.displayName=Jie;function eoe(e,t){return`${e}-trigger-${t}`}function toe(e,t){return`${e}-content-${t}`}var _Ke=Wie,noe=Yie,roe=Qie,soe=Zie;const uo=_Ke,ki=j.forwardRef(({className:e,...t},n)=>s.jsx(noe,{ref:n,className:Re("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));ki.displayName=noe.displayName;const lt=j.forwardRef(({className:e,...t},n)=>s.jsx(roe,{ref:n,className:Re("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));lt.displayName=roe.displayName;const ct=j.forwardRef(({className:e,...t},n)=>s.jsx(soe,{ref:n,className:Re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ct.displayName=soe.displayName;function RKe(){const e=rt(),[t,n]=j.useState(""),[r,a]=j.useState("all"),[i,o]=j.useState("all"),[l,c]=j.useState("advertisers"),[u,f]=j.useState({open:!1,username:"",password:""}),[m,p]=j.useState(!1),{data:g}=Ne({queryKey:["admin-stats"],queryFn:async()=>{const M=await fetch("/api/admin/stats",{credentials:"include"});if(!M.ok)throw new Error("Failed to fetch stats");return M.json()}}),{data:v=[],isLoading:y}=Ne({queryKey:["admin-users",r,i,t],queryFn:async()=>{const M=new URLSearchParams;r!=="all"&&M.append("role",r),i!=="all"&&M.append("status",i),t&&M.append("search",t);const $=await fetch(`/api/admin/users?${M.toString()}`,{credentials:"include"});if(!$.ok)throw new Error("Failed to fetch users");return $.json()}}),{data:w=[],isLoading:N}=Ne({queryKey:["admin-publishers"],queryFn:async()=>{const M=await fetch("/api/admin/publishers",{credentials:"include"});if(!M.ok)throw new Error("Failed to fetch publishers");return M.json()}}),A=ve({mutationFn:async({id:M,status:$})=>(await Be("PUT",`/api/admin/users/${M}/status`,{status:$})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-users"]}),e.invalidateQueries({queryKey:["admin-publishers"]}),e.invalidateQueries({queryKey:["admin-stats"]})}}),T=ve({mutationFn:async M=>(await Be("POST",`/api/admin/users/${M}/reset-password`,{})).json(),onSuccess:M=>{f({open:!0,username:M.username,password:M.newPassword})}}),C=()=>{navigator.clipboard.writeText(u.password),p(!0),setTimeout(()=>p(!1),2e3)},S=v.filter(M=>M.role==="advertiser"),E=w.filter(M=>M.username.toLowerCase().includes(t.toLowerCase())||M.email.toLowerCase().includes(t.toLowerCase())||M.advertiserName&&M.advertiserName.toLowerCase().includes(t.toLowerCase())),O=M=>{const $={pending:{color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",icon:s.jsx(Yt,{className:"w-3 h-3"})},active:{color:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",icon:s.jsx(Zp,{className:"w-3 h-3"})},blocked:{color:"bg-red-500/20 text-red-400 border-red-500/30",icon:s.jsx(rC,{className:"w-3 h-3"})}},{color:z,icon:V}=$[M]||$.pending;return s.jsxs(ye,{variant:"outline",className:`${z} flex items-center gap-1`,children:[V,M==="pending"?"":M==="active"?"":""]})},_=S.filter(M=>M.status==="pending").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(pn,{className:"w-6 h-6"}),"",_>0&&s.jsxs(ye,{variant:"destructive",className:"ml-2",children:[_," "]})]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"   "})]})}),g&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(er,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-muted-foreground text-sm",children:""})]}),s.jsx("div",{className:"text-2xl font-bold text-foreground mt-1",children:g.totalAdvertisers})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yt,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{className:"text-muted-foreground text-sm",children:""})]}),s.jsx("div",{className:"text-2xl font-bold text-yellow-400 mt-1",children:g.pendingAdvertisers})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-muted-foreground text-sm",children:""})]}),s.jsx("div",{className:"text-2xl font-bold text-foreground mt-1",children:g.totalPublishers})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qr,{className:"w-4 h-4 text-purple-400"}),s.jsx("span",{className:"text-muted-foreground text-sm",children:""})]}),s.jsx("div",{className:"text-2xl font-bold text-foreground mt-1",children:g.totalOffers})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qr,{className:"w-4 h-4 text-cyan-400"}),s.jsx("span",{className:"text-muted-foreground text-sm",children:""})]}),s.jsx("div",{className:"text-2xl font-bold text-foreground mt-1",children:g.totalClicks})]})}),s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qr,{className:"w-4 h-4 text-green-400"}),s.jsx("span",{className:"text-muted-foreground text-sm",children:""})]}),s.jsx("div",{className:"text-2xl font-bold text-foreground mt-1",children:g.totalConversions})]})})]}),s.jsxs(uo,{value:l,onValueChange:c,children:[s.jsxs(ki,{className:"bg-card border border-border gap-2 p-1",children:[s.jsxs(lt,{value:"advertisers",className:"px-4 py-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:[s.jsx(er,{className:"w-4 h-4 mr-2 text-blue-400"}),"",_>0&&s.jsx(ye,{variant:"destructive",className:"ml-2 text-xs",children:_})]}),s.jsxs(lt,{value:"publishers",className:"px-4 py-2 data-[state=active]:bg-emerald-600 data-[state=active]:text-white",children:[s.jsx(Or,{className:"w-4 h-4 mr-2 text-emerald-400"}),""]})]}),s.jsx(ct,{value:"advertisers",className:"mt-4",children:s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{"data-testid":"input-search-advertisers",placeholder:"    email...",value:t,onChange:M=>n(M.target.value),className:"pl-10 bg-muted border-border"})]}),s.jsxs(ht,{value:i,onValueChange:o,children:[s.jsxs(dt,{"data-testid":"select-status-filter",className:"w-48 bg-muted border-border",children:[s.jsx(Gg,{className:"w-4 h-4 mr-2"}),s.jsx(mt,{placeholder:""})]}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"all",children:" "}),s.jsx(ke,{value:"pending",children:""}),s.jsx(ke,{value:"active",children:""}),s.jsx(ke,{value:"blocked",children:""})]})]})]})}),s.jsx(ne,{children:y?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):S.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"  "}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium text-sm",children:""}),s.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium text-sm",children:"Email"}),s.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium text-sm",children:""}),s.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium text-sm",children:""}),s.jsx("th",{className:"text-right py-3 px-4 text-muted-foreground font-medium text-sm",children:""})]})}),s.jsx("tbody",{children:S.map(M=>s.jsxs("tr",{"data-testid":`row-advertiser-${M.id}`,className:"border-b border-white/5 hover:bg-muted",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/20 flex items-center justify-center",children:s.jsx(er,{className:"w-4 h-4 text-blue-400"})}),s.jsx("span",{className:"text-foreground font-medium",children:M.username})]})}),s.jsx("td",{className:"py-3 px-4 text-muted-foreground",children:M.email}),s.jsx("td",{className:"py-3 px-4",children:O(M.status)}),s.jsx("td",{className:"py-3 px-4 text-muted-foreground text-sm",children:new Date(M.createdAt).toLocaleDateString("ru-RU")}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[M.status==="pending"&&s.jsxs(U,{"data-testid":`button-approve-${M.id}`,size:"sm",onClick:()=>A.mutate({id:M.id,status:"active"}),disabled:A.isPending,className:"bg-emerald-600 hover:bg-emerald-700",children:[s.jsx(Zp,{className:"w-4 h-4 mr-1"}),""]}),M.status==="active"&&s.jsxs(U,{"data-testid":`button-block-${M.id}`,size:"sm",variant:"destructive",onClick:()=>A.mutate({id:M.id,status:"blocked"}),disabled:A.isPending,children:[s.jsx(rC,{className:"w-4 h-4 mr-1"}),""]}),M.status==="blocked"&&s.jsxs(U,{"data-testid":`button-unblock-${M.id}`,size:"sm",onClick:()=>A.mutate({id:M.id,status:"active"}),disabled:A.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Zp,{className:"w-4 h-4 mr-1"}),""]}),s.jsxs(U,{"data-testid":`button-reset-password-${M.id}`,size:"sm",variant:"outline",onClick:()=>T.mutate(M.id),disabled:T.isPending,children:[s.jsx(tC,{className:"w-4 h-4 mr-1"})," "]})]})})]},M.id))})]})})})]})}),s.jsx(ct,{value:"publishers",className:"mt-4",children:s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{"data-testid":"input-search-publishers",placeholder:"  , email  ...",value:t,onChange:M=>n(M.target.value),className:"pl-10 bg-muted border-border"})]})}),s.jsx(ne,{children:N?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):E.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"  "}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium text-sm",children:""}),s.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium text-sm",children:"Email"}),s.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium text-sm",children:""}),s.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium text-sm",children:""}),s.jsx("th",{className:"text-left py-3 px-4 text-muted-foreground font-medium text-sm",children:""}),s.jsx("th",{className:"text-right py-3 px-4 text-muted-foreground font-medium text-sm",children:""})]})}),s.jsx("tbody",{children:E.map(M=>s.jsxs("tr",{"data-testid":`row-publisher-${M.id}`,className:"border-b border-white/5 hover:bg-muted",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500/20 flex items-center justify-center",children:s.jsx(Or,{className:"w-4 h-4 text-emerald-400"})}),s.jsx("span",{className:"text-foreground font-medium",children:M.username})]})}),s.jsx("td",{className:"py-3 px-4 text-muted-foreground",children:M.email}),s.jsx("td",{className:"py-3 px-4",children:M.advertiserName?s.jsx(ye,{variant:"outline",className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:M.advertiserName}):s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsx("td",{className:"py-3 px-4",children:O(M.status)}),s.jsx("td",{className:"py-3 px-4 text-muted-foreground text-sm",children:new Date(M.createdAt).toLocaleDateString("ru-RU")}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[M.status==="active"&&s.jsxs(U,{"data-testid":`button-block-pub-${M.id}`,size:"sm",variant:"destructive",onClick:()=>A.mutate({id:M.id,status:"blocked"}),disabled:A.isPending,children:[s.jsx(rC,{className:"w-4 h-4 mr-1"}),""]}),M.status==="blocked"&&s.jsxs(U,{"data-testid":`button-unblock-pub-${M.id}`,size:"sm",onClick:()=>A.mutate({id:M.id,status:"active"}),disabled:A.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Zp,{className:"w-4 h-4 mr-1"}),""]}),s.jsxs(U,{"data-testid":`button-reset-password-pub-${M.id}`,size:"sm",variant:"outline",onClick:()=>T.mutate(M.id),disabled:T.isPending,children:[s.jsx(tC,{className:"w-4 h-4 mr-1"})," "]})]})})]},M.id))})]})})})]})})]}),s.jsx(Wt,{open:u.open,onOpenChange:M=>f({...u,open:M}),children:s.jsxs(zt,{className:"sm:max-w-md",children:[s.jsxs(qt,{children:[s.jsxs(Ut,{className:"flex items-center gap-2",children:[s.jsx(tC,{className:"w-5 h-5 text-emerald-500"})," "]}),s.jsxs(ao,{children:["    ",s.jsx("strong",{children:u.username})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(le,{readOnly:!0,value:u.password,className:"font-mono bg-muted"}),s.jsx(U,{"data-testid":"button-copy-password",variant:"outline",size:"icon",onClick:C,children:m?s.jsx(bt,{className:"w-4 h-4 text-emerald-500"}):s.jsx(Yn,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"     .        ."}),s.jsx(U,{className:"w-full",onClick:()=>f({open:!1,username:"",password:""}),children:""})]})]})})]})}const DKe={"reports-clicks":"","reports-conversions":"","finance-transactions":"","finance-payouts":"","publisher-payouts":" ","postback-logs":""};function qu({dataset:e,getFilters:t,disabled:n,additionalDatasets:r}){const[a,i]=j.useState(null),o=async(m,p)=>{const g=`${m}-${p}`;i(g);try{const v=t?.()||{},y=new URLSearchParams;y.set("format",p),Object.entries(v).forEach(([E,O])=>{O!==void 0&&O!==""&&y.set(E,O)});const w=await fetch(`/api/export/${m}?${y.toString()}`,{credentials:"include"});if(!w.ok){const E=await w.json();throw new Error(E.message||"Export failed")}const N=w.headers.get("Content-Disposition");let A=`${m}_${new Date().toISOString().split("T")[0]}.${p}`;if(N){const E=N.match(/filename="(.+)"/);E&&(A=E[1])}const T=await w.blob(),C=window.URL.createObjectURL(T),S=document.createElement("a");S.href=C,S.download=A,document.body.appendChild(S),S.click(),document.body.removeChild(S),window.URL.revokeObjectURL(C),Rt.success(" ")}catch(v){console.error("Export error:",v),Rt.error(v.message||" ")}finally{i(null)}},l={csv:{label:"CSV",icon:gi},xlsx:{label:"Excel",icon:eC},pdf:{label:"PDF",icon:gi}},c=["csv","xlsx","pdf"],u=r&&r.length>0,f=m=>c.map(p=>{const{label:g,icon:v}=l[p],y=`${m}-${p}`;return s.jsxs($a,{onClick:()=>o(m,p),disabled:a!==null,className:"cursor-pointer","data-testid":`button-export-${m}-${p}`,children:[s.jsx(v,{className:"w-4 h-4 mr-2"}),a===y?"...":g]},p)});return s.jsxs(Ru,{children:[s.jsx(Du,{asChild:!0,children:s.jsxs(U,{variant:"outline",size:"sm",disabled:n||a!==null,className:"border-border bg-transparent text-foreground hover:bg-muted","data-testid":"button-export-menu",children:[a?s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Wi,{className:"w-4 h-4 mr-2"}),""]})}),s.jsx(Zc,{align:"end",className:"bg-card border-border",children:u?s.jsxs(s.Fragment,{children:[s.jsxs(u6,{children:[s.jsxs(tP,{className:"cursor-pointer",children:[s.jsx(eC,{className:"w-4 h-4 mr-2"}),DKe[e]]}),s.jsx(nP,{className:"bg-card border-border",children:f(e)})]}),r.map(m=>s.jsxs(u6,{children:[s.jsxs(tP,{className:"cursor-pointer",children:[s.jsx(eC,{className:"w-4 h-4 mr-2"}),m.label]}),s.jsx(nP,{className:"bg-card border-border",children:f(m.id)})]},m.id))]}):f(e)})]})}const IKe=e=>{const t=e.toUpperCase().split("").map(n=>127397+n.charCodeAt(0));return String.fromCodePoint(...t)};function LKe({role:e}){const{t}=as(),[n,r]=j.useState("clicks"),[a,i]=j.useState({freeSearch:"",dateFrom:"",dateTo:"",offerId:"",publisherId:"",geo:"",device:"",groupBy:"date",dateMode:"click"}),[o,l]=j.useState(1),{selectedAdvertiserId:c}=Vl(),u=new URLSearchParams;a.freeSearch&&u.set("search",a.freeSearch),a.dateFrom&&u.set("dateFrom",a.dateFrom),a.dateTo&&u.set("dateTo",a.dateTo),a.offerId&&u.set("offerId",a.offerId),a.publisherId&&e!=="publisher"&&u.set("publisherId",a.publisherId),a.geo&&u.set("geo",a.geo),a.device&&u.set("device",a.device),u.set("dateMode",a.dateMode),e==="publisher"&&c&&u.set("advertiserId",c),u.set("page",String(o)),u.set("limit","50");const{data:f,isLoading:m,refetch:p}=Ne({queryKey:["/api/reports/clicks",a,o,c],queryFn:async()=>{const M=await fetch(`/api/reports/clicks?${u.toString()}`,{credentials:"include"});if(!M.ok)throw new Error("Failed to fetch clicks");return M.json()},enabled:n==="clicks"}),{data:g,isLoading:v,refetch:y}=Ne({queryKey:["/api/reports/conversions",a,o,c],queryFn:async()=>{const M=await fetch(`/api/reports/conversions?${u.toString()}`,{credentials:"include"});if(!M.ok)throw new Error("Failed to fetch conversions");return M.json()},enabled:n==="conversions"}),w=new URLSearchParams(u);w.set("groupBy",a.groupBy);const{data:N,isLoading:A,refetch:T}=Ne({queryKey:["/api/reports/grouped",a,c],queryFn:async()=>{const M=await fetch(`/api/reports/grouped?${w.toString()}`,{credentials:"include"});if(!M.ok)throw new Error("Failed to fetch grouped data");return M.json()}}),{data:C=[]}=Ne({queryKey:["/api/advertiser/publishers",e],queryFn:async()=>{const $=await fetch(e==="admin"?"/api/admin/publishers":"/api/advertiser/publishers",{credentials:"include"});return $.ok?$.json():[]},enabled:e==="advertiser"||e==="admin"}),S=async()=>{n==="clicks"?await p():n==="conversions"?await y():await T()},_=e==="advertiser"||e==="admin";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-bold text-foreground",children:t("dashboard.menu.reports")||"Reports"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(qu,{dataset:n==="clicks"?"reports-clicks":"reports-conversions",getFilters:()=>({search:a.freeSearch,dateFrom:a.dateFrom,dateTo:a.dateTo,dateMode:a.dateMode,offerId:a.offerId,publisherId:a.publisherId,geo:a.geo,device:a.device,groupBy:a.groupBy,advertiserId:e==="publisher"?c:void 0})}),s.jsxs(U,{variant:"outline",size:"sm",onClick:S,className:"border-border bg-transparent text-foreground hover:bg-muted","data-testid":"button-refresh-reports",children:[s.jsx(Br,{className:"w-4 h-4 mr-2"}),""]})]})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{className:"border-b border-border pb-4",children:s.jsxs(Ie,{className:"text-sm font-mono text-muted-foreground flex items-center gap-2",children:[s.jsx(Gg,{className:"w-4 h-4"}),t("reports.filters")||"Filters"]})}),s.jsxs(ne,{className:"pt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3",children:[s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:t("reports.freeSearch")||"Free Search"}),s.jsx(le,{type:"text","data-testid":"input-free-search",placeholder:t("reports.freeSearchPlaceholder")||"Search...",value:a.freeSearch,onChange:M=>i($=>({...$,freeSearch:M.target.value})),className:"mt-1 bg-input border-border text-foreground font-mono text-sm"})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:t("reports.dateFrom")||"Date From"}),s.jsx(le,{type:"date","data-testid":"input-date-from",value:a.dateFrom,onChange:M=>i($=>({...$,dateFrom:M.target.value})),className:"mt-1 bg-input border-border text-foreground font-mono text-sm"})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:t("reports.dateTo")||"Date To"}),s.jsx(le,{type:"date","data-testid":"input-date-to",value:a.dateTo,onChange:M=>i($=>({...$,dateTo:M.target.value})),className:"mt-1 bg-input border-border text-foreground font-mono text-sm"})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:" "}),s.jsxs(ht,{value:a.dateMode,onValueChange:M=>i($=>({...$,dateMode:M})),children:[s.jsx(dt,{className:"mt-1 bg-input border-border text-foreground","data-testid":"select-date-mode",children:s.jsx(mt,{})}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"click",children:"  "}),s.jsx(ke,{value:"conversion",children:"  "})]})]})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:t("reports.geo")||"GEO"}),s.jsx(K0,{value:a.geo||"all",onValueChange:M=>i($=>({...$,geo:M==="all"?"":M})),placeholder:"  ",searchPlaceholder:" ...",emptyText:"  ",className:"mt-1","data-testid":"select-geo",options:[{value:"all",label:" ",icon:""},...a0.map(M=>({value:M.code,label:M.name,icon:IKe(M.code)}))]})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:t("reports.device")||"Device"}),s.jsxs(ht,{value:a.device||"all",onValueChange:M=>i($=>({...$,device:M==="all"?"":M})),children:[s.jsx(dt,{className:"mt-1 bg-input border-border text-foreground","data-testid":"select-device",children:s.jsx(mt,{placeholder:t("reports.all")||"All"})}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"all",children:"All"}),s.jsx(ke,{value:"mobile",children:"Mobile"}),s.jsx(ke,{value:"desktop",children:"Desktop"}),s.jsx(ke,{value:"tablet",children:"Tablet"})]})]})]}),e!=="publisher"&&s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:""}),s.jsx(K0,{value:a.publisherId||"all",onValueChange:M=>i($=>({...$,publisherId:M==="all"?"":M})),placeholder:" ",searchPlaceholder:" ...",emptyText:" ",className:"mt-1","data-testid":"select-publisher",options:[{value:"all",label:" "},...C.map(M=>({value:M.id,label:M.shortId?`${M.shortId}${M.fullName?` - ${M.fullName}`:""}`:"-"}))]})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:t("reports.groupBy")||"Group By"}),s.jsxs(ht,{value:a.groupBy,onValueChange:M=>i($=>({...$,groupBy:M})),children:[s.jsx(dt,{className:"mt-1 bg-input border-border text-foreground","data-testid":"select-group-by",children:s.jsx(mt,{})}),s.jsxs(ut,{className:"bg-input border-border",children:[s.jsx(ke,{value:"date",children:"Date"}),s.jsx(ke,{value:"geo",children:"GEO"}),s.jsx(ke,{value:"offer",children:"Offer"}),e!=="publisher"&&s.jsx(ke,{value:"publisher",children:"Publisher"}),s.jsx(ke,{value:"device",children:"Device"}),s.jsx(ke,{value:"os",children:"OS"}),s.jsx(ke,{value:"browser",children:"Browser"}),s.jsx(ke,{value:"sub1",children:"Sub1"}),s.jsx(ke,{value:"sub2",children:"Sub2"}),s.jsx(ke,{value:"sub3",children:"Sub3"}),s.jsx(ke,{value:"sub4",children:"Sub4"}),s.jsx(ke,{value:"sub5",children:"Sub5"}),s.jsx(ke,{value:"sub6",children:"Sub6"}),s.jsx(ke,{value:"sub7",children:"Sub7"}),s.jsx(ke,{value:"sub8",children:"Sub8"}),s.jsx(ke,{value:"sub9",children:"Sub9"}),s.jsx(ke,{value:"sub10",children:"Sub10"})]})]})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(U,{variant:"outline",onClick:()=>{i({freeSearch:"",dateFrom:"",dateTo:"",offerId:"",publisherId:"",geo:"",device:"",groupBy:"date",dateMode:"click"}),l(1)},className:"border-orange-500/50 bg-orange-500/10 text-orange-400 hover:bg-orange-500/20 hover:text-orange-300","data-testid":"button-clear-filters",children:t("reports.clearFilters")||"Clear"})})]})]}),s.jsxs(uo,{value:n,onValueChange:r,className:"space-y-4",children:[s.jsxs(ki,{className:"bg-card border border-border gap-2 p-1",children:[s.jsxs(lt,{value:"clicks",className:"px-4 py-2 data-[state=active]:bg-blue-500 data-[state=active]:text-white","data-testid":"tab-clicks",children:[s.jsx(t_,{className:"w-4 h-4 mr-2 text-blue-400"}),t("reports.clicks")||""]}),s.jsxs(lt,{value:"conversions",className:"px-4 py-2 data-[state=active]:bg-emerald-500 data-[state=active]:text-white","data-testid":"tab-conversions",children:[s.jsx(Ro,{className:"w-4 h-4 mr-2 text-emerald-400"}),t("reports.conversions")||""]}),s.jsxs(lt,{value:"grouped",className:"px-4 py-2 data-[state=active]:bg-purple-500 data-[state=active]:text-white","data-testid":"tab-grouped",children:[s.jsx(qr,{className:"w-4 h-4 mr-2 text-purple-400"}),t("reports.grouped")||""]})]}),s.jsxs(ct,{value:"clicks",className:"mt-0 space-y-4",children:[s.jsx(gK,{data:f,loading:m,role:e,t,useClicksSummary:!0}),s.jsx($Ke,{data:f,loading:m,page:o,setPage:l,role:e,groupedData:N,t})]}),s.jsxs(ct,{value:"conversions",className:"mt-0 space-y-4",children:[s.jsx(gK,{data:N,loading:A,role:e,t,useClicksSummary:!0}),s.jsx(FKe,{data:g,loading:v,page:o,setPage:l,role:e,showFinancials:_,t})]}),s.jsx(ct,{value:"grouped",className:"mt-0",children:s.jsx(BKe,{data:N,loading:A,role:e,showFinancials:_,t})})]})]})}function gK({data:e,loading:t,role:n,t:r,useClicksSummary:a=!1}){const i=n==="advertiser";let o,l,c,u,f,m;return a&&e?.summary?(o={clicks:e.summary.clicks||0,uniqueClicks:e.summary.uniqueClicks||0,conversions:e.summary.conversions||0,approvedConversions:e.summary.approvedConversions||0,leads:e.summary.leads||0,sales:e.summary.sales||0,payout:e.summary.payout||0,cost:e.summary.advertiserCost||0},l=e.summary.margin||0,c=e.summary.roi||0,u=e.summary.cr||0,f=e.summary.ar||(o.conversions>0?o.approvedConversions/o.conversions*100:0),m=e.summary.epc||(o.clicks>0?o.payout/o.clicks:0)):(o=(e?.data||e?.rows||[]).reduce((v,y)=>({clicks:v.clicks+(y.clicks||0),uniqueClicks:v.uniqueClicks+(y.uniqueClicks||0),conversions:v.conversions+(y.conversions||0),approvedConversions:v.approvedConversions+(y.approvedConversions||0),leads:v.leads+(y.leads||0),sales:v.sales+(y.sales||0),payout:v.payout+(y.payout||0),cost:v.cost+(y.cost||0),epcEarnings:v.epcEarnings+(y.epc||0)*(y.clicks||0)}),{clicks:0,uniqueClicks:0,conversions:0,approvedConversions:0,leads:0,sales:0,payout:0,cost:0,epcEarnings:0}),l=o.cost-o.payout,c=o.cost>0?l/o.cost*100:0,u=o.clicks>0?o.conversions/o.clicks*100:0,f=o.conversions>0?o.approvedConversions/o.conversions*100:0,m=o.clicks>0?o.epcEarnings/o.clicks:0),t?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-8 gap-3",children:[...Array(8)].map((p,g)=>s.jsx(J,{className:"bg-card border-border animate-pulse",children:s.jsx(ne,{className:"p-3 h-16"})},g))}):s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-8 gap-3",children:[s.jsx(J,{className:"bg-blue-500/5 border-blue-500/30 hover:border-blue-500/50 transition-colors",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-[10px] uppercase text-blue-400 mb-1",children:r("stats.clicks")||"Clicks"}),s.jsx("div",{className:"text-xl font-bold text-blue-400",children:o.clicks.toLocaleString()}),s.jsxs("div",{className:"text-[10px] text-blue-400/70",children:[o.uniqueClicks.toLocaleString()," unique"]}),s.jsxs("div",{className:"text-[12px] text-yellow-400","data-testid":"text-epc",children:["EPC: $",m.toFixed(2)]})]})}),s.jsx(J,{className:"bg-emerald-500/5 border-emerald-500/30 hover:border-emerald-500/50 transition-colors",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-[10px] uppercase text-emerald-400 mb-1",children:r("stats.conversions")||"Conv"}),s.jsx("div",{className:"text-xl font-bold text-emerald-400",children:o.conversions}),s.jsxs("div",{className:"text-[12px] text-yellow-400","data-testid":"text-cr",children:["CR: ",u.toFixed(2),"%"]})]})}),s.jsx(J,{className:"bg-green-500/5 border-green-500/30 hover:border-green-500/50 transition-colors",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-[10px] uppercase text-green-400 mb-1",children:r("stats.publisherPayout")||"Payout"}),s.jsx("div",{className:"text-xl font-bold text-green-400",children:Xe(o.payout)}),s.jsxs("div",{className:"text-[12px] text-yellow-400","data-testid":"text-ar",children:["AR: ",f.toFixed(2),"%"]})]})}),s.jsx(J,{className:"bg-purple-500/5 border-purple-500/30 hover:border-purple-500/50 transition-colors",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-[10px] uppercase text-purple-400 mb-1",children:r("stats.leads")||"Leads"}),s.jsx("div",{className:"text-xl font-bold text-purple-400",children:o.leads}),s.jsxs("div",{className:"text-[12px] text-yellow-400","data-testid":"text-instreg",children:[": ",o.uniqueClicks>0?(o.leads/o.uniqueClicks*100).toFixed(1):0,"%"]})]})}),s.jsx(J,{className:"bg-orange-500/5 border-orange-500/30 hover:border-orange-500/50 transition-colors",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-[10px] uppercase text-orange-400 mb-1",children:r("stats.sales")||"Sales"}),s.jsx("div",{className:"text-xl font-bold text-orange-400",children:o.sales}),s.jsxs("div",{className:"text-[12px] text-yellow-400","data-testid":"text-reg2dep",children:["2: ",o.leads>0?(o.sales/o.leads*100).toFixed(1):0,"%"]})]})}),(i||n==="admin")&&s.jsxs(s.Fragment,{children:[s.jsx(J,{className:"bg-red-500/5 border-red-500/30 hover:border-red-500/50 transition-colors",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-[10px] uppercase text-red-400 mb-1",children:r("stats.advertiserCost")||"Cost"}),s.jsx("div",{className:"text-xl font-bold text-red-400",children:Xe(o.cost)})]})}),s.jsx(J,{className:`${l>=0?"bg-emerald-500/5 border-emerald-500/30 hover:border-emerald-500/50":"bg-red-500/5 border-red-500/30 hover:border-red-500/50"} transition-colors`,children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:`text-[10px] uppercase mb-1 ${l>=0?"text-emerald-400":"text-red-400"}`,children:r("stats.margin")||"Margin"}),s.jsx("div",{className:`text-xl font-bold ${l>=0?"text-emerald-400":"text-red-400"}`,children:Xe(l)})]})}),s.jsx(J,{className:`${c>=0?"bg-cyan-500/5 border-cyan-500/30 hover:border-cyan-500/50":"bg-red-500/5 border-red-500/30 hover:border-red-500/50"} transition-colors`,children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:`text-[10px] uppercase mb-1 ${c>=0?"text-cyan-400":"text-red-400"}`,children:r("stats.roi")||"ROI"}),s.jsxs("div",{className:`text-xl font-bold ${c>=0?"text-cyan-400":"text-red-400"}`,children:[c.toFixed(1),"%"]})]})})]})]})}function $Ke({data:e,loading:t,page:n,setPage:r,role:a,groupedData:i,t:o}){if(t)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-muted-foreground"})});const l=e?.clicks||[],c=e?.total||0,u=Math.ceil(c/50),f=a==="advertiser"||a==="admin",m=e?.summary,p=m?{clicks:m.clicks||0,uniqueClicks:m.uniqueClicks||0,conversions:m.conversions||0,approvedConversions:m.approvedConversions||0,leads:m.leads||0,sales:m.sales||0,payout:m.payout||0,cost:m.advertiserCost||0}:{clicks:0,uniqueClicks:0,conversions:0,approvedConversions:0,leads:0,sales:0,payout:0,cost:0},g=m?.cr||(p.clicks>0?p.conversions/p.clicks*100:0),v=m?.ar||(p.conversions>0?p.approvedConversions/p.conversions*100:0),y=m?.epc||(p.clicks>0?p.payout/p.clicks:0),w=m?.margin||p.cost-p.payout,N=m?.roi||(p.payout>0?(p.cost-p.payout)/p.payout*100:0),A=f?23:20;return s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-0",children:[s.jsx("div",{className:"max-h-[1100px] overflow-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{className:"sticky top-0 z-10 bg-card",children:s.jsxs("tr",{className:"border-b border-border bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.date")||"Date"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.clickId")||"Click ID"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.offer")||"Offer"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.publisher")||"Publisher"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.geo")||"GEO"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"IP"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Device"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"OS"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Browser"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.clicks")||"Clicks"}),s.jsx("th",{className:"px-4 py-3 font-medium text-center",children:o("reports.table.unique")||"Unique"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.leads")||"Leads"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.sales")||"Sales"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.conv")||"Conv"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.payout")||"Payout"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"CR%"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"AR%"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"EPC"}),f&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.cost")||"Cost"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.margin")||"Margin"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"ROI%"})]}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub1"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub2"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub3"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub4"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub5"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub6"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub7"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub8"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub9"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub10"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:l.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:A+5,className:"px-4 py-8 text-center text-muted-foreground",children:o("reports.noData")||"No data found"})}):l.map(T=>s.jsxs("tr",{className:"hover:bg-muted transition-colors",children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:new Date(T.createdAt).toLocaleString()}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("button",{onClick:()=>{T.clickId&&(navigator.clipboard.writeText(T.clickId),Rt.success("Click ID "))},className:"text-emerald-400 hover:text-emerald-300 cursor-pointer flex items-center gap-1 group",title:T.clickId,children:[T.clickId?.slice(0,12),"...",s.jsx(Yn,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),s.jsx("td",{className:"px-4 py-3 text-foreground",children:T.offerName||T.offerId}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.publisherShortId?`${T.publisherShortId}${T.publisherFullName?` - ${T.publisherFullName}`:""}`:"-"}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"px-1.5 py-0.5 rounded bg-blue-500/20 text-blue-400 text-[10px]",children:T.geo||"N/A"})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground text-[10px]",children:T.ip||"-"}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"px-1.5 py-0.5 rounded bg-purple-500/20 text-purple-400 text-[10px]",children:T.device||"-"})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground text-[10px]",children:T.os||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground text-[10px]",children:T.browser||"-"}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:T.clicks||0}),s.jsx("td",{className:"px-4 py-3 text-center",children:T.isUnique?s.jsx("span",{className:"text-emerald-500",children:""}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx("td",{className:"px-4 py-3 text-right text-purple-400",children:T.leads||0}),s.jsx("td",{className:"px-4 py-3 text-right text-orange-400",children:T.sales||0}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400 font-bold",children:T.conversions||0}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400",children:T.payout!==void 0?`$${T.payout.toFixed(2)}`:"-"}),s.jsx("td",{className:"px-4 py-3 text-right text-cyan-400",children:T.cr!==void 0?`${T.cr.toFixed(0)}%`:"-"}),s.jsx("td",{className:"px-4 py-3 text-right text-pink-400",children:T.ar!==void 0?`${T.ar.toFixed(0)}%`:"-"}),s.jsx("td",{className:"px-4 py-3 text-right text-teal-400",children:T.epc!==void 0?`$${T.epc.toFixed(2)}`:"-"}),f&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-4 py-3 text-right text-red-400",children:T.advertiserCost!==void 0?`$${T.advertiserCost.toFixed(2)}`:"-"}),s.jsx("td",{className:`px-4 py-3 text-right ${(T.margin||0)>=0?"text-emerald-400":"text-red-400"}`,children:T.margin!==void 0?`$${T.margin.toFixed(2)}`:"-"}),s.jsx("td",{className:`px-4 py-3 text-right ${(T.roi||0)>=0?"text-emerald-400":"text-red-400"}`,children:T.roi!==void 0?`${T.roi.toFixed(1)}%`:"-"})]}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub1||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub2||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub3||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub4||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub5||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub6||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub7||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub8||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub9||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:T.sub10||"-"})]},T.id))}),s.jsx("tfoot",{className:"sticky bottom-0 bg-card",children:s.jsxs("tr",{className:"border-t border-white/20 bg-white/[0.05] font-semibold",children:[s.jsx("td",{colSpan:9,className:"px-4 py-3 text-muted-foreground uppercase text-[10px]",children:o("reports.total")||"Total"}),s.jsx("td",{className:"px-4 py-3 text-right text-foreground",children:p.clicks.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:p.uniqueClicks.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-purple-400",children:p.leads}),s.jsx("td",{className:"px-4 py-3 text-right text-orange-400",children:p.sales}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400 font-bold",children:p.conversions}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400",children:Xe(p.payout)}),s.jsxs("td",{className:"px-4 py-3 text-right text-cyan-400",children:[g.toFixed(2),"%"]}),s.jsxs("td",{className:"px-4 py-3 text-right text-pink-400",children:[v.toFixed(2),"%"]}),s.jsx("td",{className:"px-4 py-3 text-right text-teal-400",children:Xe(y)}),f&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-4 py-3 text-right text-red-400",children:Xe(p.cost)}),s.jsx("td",{className:`px-4 py-3 text-right ${w>=0?"text-emerald-400":"text-red-400"}`,children:Xe(w)}),s.jsxs("td",{className:`px-4 py-3 text-right ${N>=0?"text-emerald-400":"text-red-400"}`,children:[N.toFixed(1),"%"]})]}),s.jsx("td",{colSpan:10,className:"px-4 py-3"})]})})]})}),u>1&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-border",children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:[o("reports.showing")||"Showing"," ",(n-1)*50+1,"-",Math.min(n*50,c)," ",o("reports.of")||"of"," ",c]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"sm",onClick:()=>r(T=>Math.max(1,T-1)),disabled:n===1,className:"border-border bg-transparent","data-testid":"button-prev-page",children:s.jsx(BW,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm text-muted-foreground px-3 py-1",children:[n," / ",u]}),s.jsx(U,{variant:"outline",size:"sm",onClick:()=>r(T=>Math.min(u,T+1)),disabled:n>=u,className:"border-border bg-transparent","data-testid":"button-next-page",children:s.jsx(Hc,{className:"w-4 h-4"})})]})]})]})})}const yK=[{value:"duplicate",label:""},{value:"motivation",label:" "},{value:"fraud",label:""},{value:"non_target",label:" "},{value:"other",label:""}];function FKe({data:e,loading:t,page:n,setPage:r,role:a,showFinancials:i,t:o}){const l=rt(),[c,u]=j.useState({open:!1,conversionId:null}),[f,m]=j.useState(""),p=ve({mutationFn:async({conversionId:C,reason:S})=>(await Be("PUT",`/api/advertiser/conversions/${C}/status`,{status:"rejected",reason:S})).json(),onSuccess:()=>{Rt.success(" "),l.invalidateQueries({queryKey:["/api/reports/conversions"]}),u({open:!1,conversionId:null}),m("")},onError:C=>{Rt.error(C.message||"   ")}}),g=ve({mutationFn:async({conversionId:C})=>(await Be("PUT",`/api/advertiser/conversions/${C}/status`,{status:"hold"})).json(),onSuccess:()=>{Rt.success("   "),l.invalidateQueries({queryKey:["/api/reports/conversions"]})},onError:C=>{Rt.error(C.message||"    ")}}),v=ve({mutationFn:async({conversionId:C})=>(await Be("PUT",`/api/advertiser/conversions/${C}/status`,{status:"approved"})).json(),onSuccess:()=>{Rt.success(" "),l.invalidateQueries({queryKey:["/api/reports/conversions"]})},onError:C=>{Rt.error(C.message||"   ")}}),y=()=>{!c.conversionId||!f||p.mutate({conversionId:c.conversionId,reason:f})};if(t)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-muted-foreground"})});const w=e?.conversions||[],N=e?.total||0,A=Math.ceil(N/50),T=a==="advertiser"||a==="admin";return s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs(ne,{className:"p-0",children:[s.jsx("div",{className:"max-h-[1100px] overflow-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{className:"sticky top-0 z-10 bg-card",children:s.jsxs("tr",{className:"border-b border-border bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.date")||"Date"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.type")||"Type"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.status")||"Status"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.offer")||"Offer"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.publisher")||"Publisher"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.payout")||"Payout"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.cost")||"Cost"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.margin")||"Margin"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:o("reports.table.roi")||"ROI"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.clickId")||"Click ID"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:o("reports.table.geo")||"GEO"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub1"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub2"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub3"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub4"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub5"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub6"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub7"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub8"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub9"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Sub10"}),T&&s.jsx("th",{className:"px-4 py-3 font-medium",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:w.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:T?22:21,className:"px-4 py-8 text-center text-muted-foreground",children:o("reports.noData")||"No data found"})}):w.map(C=>{const S=parseFloat(C.publisherPayout)||0,E=parseFloat(C.advertiserCost)||0,O=E-S,_=E>0?O/E*100:0;return s.jsxs("tr",{className:"hover:bg-muted transition-colors",children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:new Date(C.createdAt).toLocaleString()}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] uppercase font-bold ${C.conversionType==="sale"?"bg-purple-500/20 text-purple-400":"bg-emerald-500/20 text-emerald-400"}`,children:C.conversionType})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] uppercase font-bold ${C.status==="approved"?"bg-emerald-500/20 text-emerald-400":C.status==="rejected"?"bg-red-500/20 text-red-400":C.status==="hold"?"bg-yellow-500/20 text-yellow-400":"bg-slate-500/20 text-muted-foreground"}`,children:C.status})}),s.jsx("td",{className:"px-4 py-3 text-foreground",children:C.offerName||C.offerId}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.publisherShortId?`${C.publisherShortId}${C.publisherFullName?` - ${C.publisherFullName}`:""}`:"-"}),s.jsxs("td",{className:"px-4 py-3 text-right text-emerald-400 font-bold",children:["$",S.toFixed(2)]}),s.jsxs("td",{className:"px-4 py-3 text-right text-blue-400 font-bold",children:["$",E.toFixed(2)]}),s.jsxs("td",{className:`px-4 py-3 text-right font-bold ${O>=0?"text-emerald-400":"text-red-400"}`,children:["$",O.toFixed(2)]}),s.jsxs("td",{className:`px-4 py-3 text-right font-bold ${_>=0?"text-emerald-400":"text-red-400"}`,children:[_.toFixed(1),"%"]}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("button",{onClick:()=>{C.clickId&&(navigator.clipboard.writeText(C.clickId),Rt.success("Click ID "))},className:"text-muted-foreground hover:text-foreground cursor-pointer flex items-center gap-1 group",title:C.clickId,children:[C.clickId?.slice(0,8),"...",s.jsx(Yn,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"px-1.5 py-0.5 rounded bg-blue-500/20 text-blue-400 text-[10px]",children:C.geo||"N/A"})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub1||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub2||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub3||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub4||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub5||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub6||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub7||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub8||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub9||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:C.sub10||"-"}),T&&s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[(C.status==="hold"||C.status==="rejected")&&s.jsxs(U,{variant:"ghost",size:"sm",className:"h-7 px-2 text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10",onClick:()=>v.mutate({conversionId:C.id}),disabled:v.isPending,"data-testid":`button-approve-conversion-${C.id}`,children:[s.jsx(bt,{className:"w-3.5 h-3.5 mr-1"}),""]}),(C.status==="pending"||C.status==="approved")&&s.jsxs(U,{variant:"ghost",size:"sm",className:"h-7 px-2 text-amber-400 hover:text-amber-300 hover:bg-amber-500/10",onClick:()=>g.mutate({conversionId:C.id}),disabled:g.isPending,"data-testid":`button-hold-conversion-${C.id}`,children:[s.jsx($O,{className:"w-3.5 h-3.5 mr-1"})," "]}),C.status!=="rejected"&&s.jsxs(U,{variant:"ghost",size:"sm",className:"h-7 px-2 text-red-400 hover:text-red-300 hover:bg-red-500/10",onClick:()=>u({open:!0,conversionId:C.id}),"data-testid":`button-reject-conversion-${C.id}`,children:[s.jsx(zx,{className:"w-3.5 h-3.5 mr-1"}),""]}),C.status==="rejected"&&C.rejectionReason&&s.jsx("span",{className:"text-xs text-red-400",children:yK.find(M=>M.value===C.rejectionReason)?.label||C.rejectionReason})]})})]},C.id)})})]})}),A>1&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-border",children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:[o("reports.showing")||"Showing"," ",(n-1)*50+1,"-",Math.min(n*50,N)," ",o("reports.of")||"of"," ",N]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"sm",onClick:()=>r(C=>Math.max(1,C-1)),disabled:n===1,className:"border-border bg-transparent",children:s.jsx(BW,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm text-muted-foreground px-3 py-1",children:[n," / ",A]}),s.jsx(U,{variant:"outline",size:"sm",onClick:()=>r(C=>Math.min(A,C+1)),disabled:n>=A,className:"border-border bg-transparent",children:s.jsx(Hc,{className:"w-4 h-4"})})]})]})]}),s.jsx(Wt,{open:c.open,onOpenChange:C=>{C||(u({open:!1,conversionId:null}),m(""))},children:s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" "}),s.jsxs(ht,{value:f,onValueChange:m,children:[s.jsx(dt,{className:"bg-background border-border",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:yK.map(C=>s.jsx(ke,{value:C.value,children:C.label},C.value))})]})]})}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:()=>u({open:!1,conversionId:null}),className:"border-border",children:""}),s.jsxs(U,{variant:"destructive",onClick:y,disabled:!f||p.isPending,"data-testid":"button-confirm-reject",children:[p.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(zx,{className:"w-4 h-4 mr-2"}),""]})]})]})})]})}function BKe({data:e,loading:t,role:n,showFinancials:r,t:a}){if(t)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-muted-foreground"})});const i=e?.data||[],o=e?.groupBy||"date",l=n==="advertiser"||n==="admin",c=i.reduce((v,y)=>({clicks:v.clicks+(y.clicks||0),uniqueClicks:v.uniqueClicks+(y.uniqueClicks||0),conversions:v.conversions+(y.conversions||0),approvedConversions:v.approvedConversions+(y.approvedConversions||0),leads:v.leads+(y.leads||0),sales:v.sales+(y.sales||0),payout:v.payout+(y.payout||0),cost:v.cost+(y.cost||0),epcEarnings:v.epcEarnings+(y.epc||0)*(y.clicks||0)}),{clicks:0,uniqueClicks:0,conversions:0,approvedConversions:0,leads:0,sales:0,payout:0,cost:0,epcEarnings:0}),u=c.cost-c.payout,f=c.cost>0?u/c.cost*100:0,m=c.clicks>0?c.conversions/c.clicks*100:0,p=c.conversions>0?c.approvedConversions/c.conversions*100:0,g=c.clicks>0?c.epcEarnings/c.clicks:0;return s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"p-0",children:s.jsx("div",{className:"max-h-[1100px] overflow-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{className:"sticky top-0 z-10 bg-card",children:s.jsxs("tr",{className:"border-b border-border bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:o.toUpperCase()}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:a("reports.table.clicks")||"Clicks"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:a("reports.table.unique")||"Unique"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:a("reports.table.leads")||"Leads"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:a("reports.table.sales")||"Sales"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:a("reports.table.conv")||"Conv"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:a("reports.table.payout")||"Payout"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"CR%"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"AR%"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"EPC"}),l&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:a("reports.table.cost")||"Cost"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:a("reports.table.margin")||"Margin"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"ROI%"})]})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:i.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:l?13:10,className:"px-4 py-8 text-center text-muted-foreground",children:a("reports.noData")||"No data found"})}):i.map((v,y)=>{const w=v.cost||0,N=v.payout||0,A=w-N,T=w>0?A/w*100:0,C=v.clicks>0?v.conversions/v.clicks*100:0,S=v.conversions>0?(v.approvedConversions||0)/v.conversions*100:0,E=v.epc||0;return s.jsxs("tr",{className:"hover:bg-muted transition-colors",children:[s.jsx("td",{className:"px-4 py-3 text-foreground font-medium",children:v.groupKey}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:(v.clicks||0).toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:(v.uniqueClicks||0).toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400",children:v.leads||0}),s.jsx("td",{className:"px-4 py-3 text-right text-purple-400",children:v.sales||0}),s.jsx("td",{className:"px-4 py-3 text-right text-foreground font-bold",children:v.conversions||0}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400 font-bold",children:Xe(N)}),s.jsxs("td",{className:"px-4 py-3 text-right text-yellow-400",children:[C.toFixed(2),"%"]}),s.jsxs("td",{className:"px-4 py-3 text-right text-pink-400",children:[S.toFixed(2),"%"]}),s.jsx("td",{className:"px-4 py-3 text-right text-teal-400",children:Xe(E)}),l&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-4 py-3 text-right text-blue-400 font-bold",children:Xe(w)}),s.jsx("td",{className:`px-4 py-3 text-right font-bold ${A>=0?"text-emerald-400":"text-red-400"}`,children:Xe(A)}),s.jsxs("td",{className:`px-4 py-3 text-right font-bold ${T>=0?"text-emerald-400":"text-red-400"}`,children:[T.toFixed(1),"%"]})]})]},y)})}),i.length>0&&s.jsx("tfoot",{className:"sticky bottom-0 bg-card",children:s.jsxs("tr",{className:"border-t-2 border-white/20 bg-white/[0.03] font-bold",children:[s.jsx("td",{className:"px-4 py-3 text-foreground",children:a("reports.total")||"TOTAL"}),s.jsx("td",{className:"px-4 py-3 text-right text-foreground",children:c.clicks.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-muted-foreground",children:c.uniqueClicks.toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400",children:c.leads}),s.jsx("td",{className:"px-4 py-3 text-right text-purple-400",children:c.sales}),s.jsx("td",{className:"px-4 py-3 text-right text-foreground",children:c.conversions}),s.jsx("td",{className:"px-4 py-3 text-right text-emerald-400",children:Xe(c.payout)}),s.jsxs("td",{className:"px-4 py-3 text-right text-yellow-400",children:[m.toFixed(2),"%"]}),s.jsxs("td",{className:"px-4 py-3 text-right text-pink-400",children:[p.toFixed(2),"%"]}),s.jsx("td",{className:"px-4 py-3 text-right text-teal-400",children:Xe(g)}),l&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-4 py-3 text-right text-blue-400",children:Xe(c.cost)}),s.jsx("td",{className:`px-4 py-3 text-right ${u>=0?"text-emerald-400":"text-red-400"}`,children:Xe(u)}),s.jsxs("td",{className:`px-4 py-3 text-right ${f>=0?"text-emerald-400":"text-red-400"}`,children:[f.toFixed(1),"%"]})]})]})})]})})})})}function zKe(){const{t:e}=as(),{toast:t}=Dt(),n=rt(),[r,a]=j.useState(""),[i,o]=j.useState(null),[l,c]=j.useState(!1),[u,f]=j.useState(null),[m,p]=j.useState(""),[g,v]=j.useState(!1),[y,w]=j.useState(null),[N,A]=j.useState([]),[T,C]=j.useState([]),{data:S,isLoading:E,error:O}=Ne({queryKey:["/api/advertiser/access-requests"],queryFn:async()=>{const F=await fetch("/api/advertiser/access-requests",{credentials:"include"});if(!F.ok)throw new Error("Failed to fetch access requests");return F.json()}}),{data:_}=Ne({queryKey:["/api/advertiser/extension-requests"],queryFn:async()=>{const F=await fetch("/api/advertiser/extension-requests",{credentials:"include"});if(!F.ok)throw new Error("Failed to fetch extension requests");return F.json()}}),M=ve({mutationFn:async({offerId:F,publisherId:K,action:R})=>{const B=R==="approve"?`/api/advertiser/partners/${K}/offers/${F}/approve-landings`:`/api/advertiser/partners/${K}/offers/${F}/reject-landings`,L=await fetch(B,{method:"POST",credentials:"include"});if(!L.ok)throw new Error("Failed to process extension request");return L.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/advertiser/extension-requests"]}),n.invalidateQueries({queryKey:["/api/advertiser/access-requests"]}),t({title:"",description:"   "})},onError:()=>{t({title:"",description:"   ",variant:"destructive"})}}),$=ve({mutationFn:async({requestId:F,action:K,reason:R,approvedGeos:B,approvedLandings:L})=>{const q=await fetch(`/api/advertiser/access-requests/${F}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:K,rejectionReason:R,approvedGeos:B,approvedLandings:L}),credentials:"include"});if(!q.ok)throw new Error("Failed to update request");return q.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/advertiser/access-requests"]}),t({title:"Success",description:"Request updated successfully"})},onError:()=>{t({title:"Error",description:"Failed to update request",variant:"destructive"})}}),z=j.useMemo(()=>S?S.filter(F=>{const K=r===""||F.offer.name.toLowerCase().includes(r.toLowerCase())||F.publisher.username.toLowerCase().includes(r.toLowerCase())||F.publisher.email.toLowerCase().includes(r.toLowerCase()),R=!i||F.status===i;return K&&R}):[],[S,r,i]),V=j.useMemo(()=>{const F=S?.filter(R=>R.status==="pending").length||0,K=_?.length||0;return F+K},[S,_]),I=F=>{switch(F){case"pending":return s.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded text-[10px] uppercase font-bold bg-yellow-500/20 text-yellow-500",children:[s.jsx(Yt,{className:"w-3 h-3"}),""]});case"approved":return s.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded text-[10px] uppercase font-bold bg-emerald-500/20 text-emerald-500",children:[s.jsx(Gn,{className:"w-3 h-3"}),""]});case"rejected":return s.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded text-[10px] uppercase font-bold bg-red-500/20 text-red-500",children:[s.jsx(ts,{className:"w-3 h-3"}),""]});case"revoked":return s.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded text-[10px] uppercase font-bold bg-orange-500/20 text-orange-500",children:[s.jsx(ts,{className:"w-3 h-3"}),""]});default:return null}};return E?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-blue-500"})}):O?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-red-400",children:"Failed to load access requests"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-mono text-foreground mb-2","data-testid":"text-requests-title",children:"  "}),s.jsx("p",{className:"text-muted-foreground text-sm font-mono",children:"      "})]}),V>0&&s.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/10 border border-yellow-500/30 px-4 py-2 rounded",children:[s.jsx(Yt,{className:"w-4 h-4 text-yellow-500"}),s.jsxs("span",{className:"text-yellow-500 font-mono font-bold",children:[V," pending"]})]})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs("div",{className:"p-4 border-b border-border flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"    ...",value:r,onChange:F=>a(F.target.value),className:"w-full bg-muted border border-border rounded pl-9 pr-4 py-2 text-sm text-foreground focus:outline-none focus:border-blue-500 font-mono","data-testid":"input-search-requests"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"sm",className:`border-border font-mono ${i?"text-muted-foreground":"text-blue-400 border-blue-500/50 bg-blue-500/10"}`,onClick:()=>o(null),"data-testid":"button-filter-all",children:""}),s.jsx(U,{variant:"outline",size:"sm",className:`border-border font-mono ${i==="pending"?"text-yellow-400 border-yellow-500/50 bg-yellow-500/10":"text-muted-foreground"}`,onClick:()=>o("pending"),"data-testid":"button-filter-pending",children:""}),s.jsx(U,{variant:"outline",size:"sm",className:`border-border font-mono ${i==="approved"?"text-emerald-400 border-emerald-500/50 bg-emerald-500/10":"text-muted-foreground"}`,onClick:()=>o("approved"),"data-testid":"button-filter-approved",children:""}),s.jsx(U,{variant:"outline",size:"sm",className:`border-border font-mono ${i==="rejected"?"text-red-400 border-red-500/50 bg-red-500/10":"text-muted-foreground"}`,onClick:()=>o("rejected"),"data-testid":"button-filter-rejected",children:""})]})]}),z.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Do,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"  "})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:z.map(F=>s.jsxs("tr",{className:"hover:bg-muted transition-colors","data-testid":`row-request-${F.id}`,children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:new Date(F.createdAt).toLocaleDateString()}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:F.publisher.username}),s.jsx("div",{className:"text-muted-foreground text-[10px]",children:F.publisher.email})]})}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsx(Mt,{href:`/dashboard/advertiser/offer/${F.offerId}`,children:s.jsx("span",{className:"font-medium text-foreground hover:text-blue-400 transition-colors cursor-pointer",children:F.offer.name})}),s.jsx("div",{className:"text-muted-foreground text-[10px]",children:F.offer.category})]}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground max-w-[200px] truncate",children:F.message||"-"}),s.jsx("td",{className:"px-4 py-3",children:I(F.status)}),s.jsxs("td",{className:"px-4 py-3 text-right",children:[F.status==="pending"&&s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsxs(U,{size:"sm",className:"h-7 px-3 bg-emerald-600 hover:bg-emerald-500 text-foreground",onClick:()=>{w(F),A([...F.offer.geo]),C(F.offer.landings.map(K=>K.id)),v(!0)},disabled:$.isPending,"data-testid":`button-approve-${F.id}`,children:[s.jsx(bt,{className:"w-3 h-3 mr-1"}),""]}),s.jsxs(U,{size:"sm",variant:"outline",className:"h-7 px-3 border-red-500/50 text-red-400 hover:bg-red-500/10",onClick:()=>{f(F.id),p(""),c(!0)},disabled:$.isPending,"data-testid":`button-reject-${F.id}`,children:[s.jsx(Xn,{className:"w-3 h-3 mr-1"}),""]})]}),F.status==="approved"&&s.jsxs(U,{size:"sm",variant:"outline",className:"h-7 px-3 border-orange-500/50 text-orange-400 hover:bg-orange-500/10",onClick:()=>$.mutate({requestId:F.id,action:"revoke"}),disabled:$.isPending,"data-testid":`button-revoke-${F.id}`,children:[s.jsx(Xn,{className:"w-3 h-3 mr-1"}),""]}),F.status==="revoked"&&s.jsxs(U,{size:"sm",className:"h-7 px-3 bg-emerald-600 hover:bg-emerald-500 text-foreground",onClick:()=>{w(F),A([...F.offer.geo]),v(!0)},disabled:$.isPending,"data-testid":`button-reapprove-${F.id}`,children:[s.jsx(bt,{className:"w-3 h-3 mr-1"}),""]}),F.status==="rejected"&&s.jsx("span",{className:"text-muted-foreground",children:"-"})]})]},F.id))})]})})]}),_&&_.length>0&&s.jsxs(J,{className:"bg-card border-border mt-6",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("h3",{className:"text-lg font-bold font-mono text-foreground flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),"   "]}),s.jsx("p",{className:"text-muted-foreground text-xs font-mono mt-1",children:"   "})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium",children:" "}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:_.map(F=>s.jsxs("tr",{className:"hover:bg-muted transition-colors","data-testid":`row-extension-${F.id}`,children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:new Date(F.createdAt).toLocaleDateString()}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:F.publisher.username}),s.jsx("div",{className:"text-muted-foreground text-[10px]",children:F.publisher.email})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Mt,{href:`/dashboard/advertiser/offer/${F.offerId}`,children:s.jsx("span",{className:"font-medium text-foreground hover:text-blue-400 transition-colors cursor-pointer",children:F.offer.name})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"space-y-1",children:[F.requestedLandings.slice(0,2).map(K=>s.jsxs("div",{className:"text-xs",children:[s.jsx("span",{className:"font-medium text-foreground",children:K.name}),s.jsxs("span",{className:"text-muted-foreground ml-2",children:[K.geo,"  $",K.payout]})]},K.id)),F.requestedLandings.length>2&&s.jsxs("span",{className:"text-muted-foreground text-[10px]",children:["+",F.requestedLandings.length-2," "]})]})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsxs(U,{size:"sm",className:"h-7 px-3 bg-emerald-600 hover:bg-emerald-500 text-foreground",onClick:()=>M.mutate({offerId:F.offerId,publisherId:F.publisherId,action:"approve"}),disabled:M.isPending,"data-testid":`button-approve-extension-${F.id}`,children:[s.jsx(bt,{className:"w-3 h-3 mr-1"}),""]}),s.jsxs(U,{size:"sm",variant:"outline",className:"h-7 px-3 border-red-500/50 text-red-400 hover:bg-red-500/10",onClick:()=>M.mutate({offerId:F.offerId,publisherId:F.publisherId,action:"reject"}),disabled:M.isPending,"data-testid":`button-reject-extension-${F.id}`,children:[s.jsx(Xn,{className:"w-3 h-3 mr-1"}),""]})]})})]},F.id))})]})})]}),s.jsx(Wt,{open:l,onOpenChange:c,children:s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsx(Ut,{className:"text-foreground font-mono",children:" "})}),s.jsxs("div",{className:"py-4",children:[s.jsx("label",{className:"text-sm text-muted-foreground font-mono mb-2 block",children:"  ()"}),s.jsx(vi,{value:m,onChange:F=>p(F.target.value),placeholder:"  ...",className:"bg-muted border-border text-foreground font-mono","data-testid":"input-rejection-reason"})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:()=>c(!1),className:"border-border text-muted-foreground",children:""}),s.jsx(U,{onClick:()=>{u&&($.mutate({requestId:u,action:"reject",reason:m||void 0}),c(!1))},disabled:$.isPending,className:"bg-red-600 hover:bg-red-500 text-foreground","data-testid":"button-confirm-reject",children:$.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin"}):""})]})]})}),s.jsx(Wt,{open:g,onOpenChange:v,children:s.jsxs(zt,{className:"bg-card border-border max-w-2xl",children:[s.jsx(qt,{children:s.jsx(Ut,{className:"text-foreground font-mono",children:" "})}),s.jsxs("div",{className:"py-4 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground font-mono mb-3 block",children:"    "}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(U,{type:"button",size:"sm",variant:"outline",className:"text-xs",onClick:()=>A([...y?.offer.geo||[]]),"data-testid":"button-select-all-geos",children:" "}),s.jsx(U,{type:"button",size:"sm",variant:"outline",className:"text-xs",onClick:()=>A([]),"data-testid":"button-deselect-all-geos",children:" "})]}),s.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-[150px] overflow-y-auto",children:y?.offer.geo.map(F=>s.jsxs("label",{className:`flex items-center gap-2 px-3 py-2 rounded border cursor-pointer transition-colors ${N.includes(F)?"bg-blue-500/20 border-blue-500/50 text-blue-400":"bg-muted border-border text-muted-foreground hover:border-blue-500/30"}`,children:[s.jsx("input",{type:"checkbox",checked:N.includes(F),onChange:K=>{K.target.checked?A([...N,F]):A(N.filter(R=>R!==F))},className:"w-4 h-4 rounded border-border","data-testid":`checkbox-geo-${F}`}),s.jsx("span",{className:"font-mono text-sm",children:F})]},F))}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2 font-mono",children:N.length===y?.offer.geo.length?"   ":N.length===0?"    ( )":`  ${N.length}  ${y?.offer.geo.length} `})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground font-mono mb-3 block",children:"    "}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(U,{type:"button",size:"sm",variant:"outline",className:"text-xs",onClick:()=>C(y?.offer.landings.map(F=>F.id)||[]),"data-testid":"button-select-all-landings",children:" "}),s.jsx(U,{type:"button",size:"sm",variant:"outline",className:"text-xs",onClick:()=>C([]),"data-testid":"button-deselect-all-landings",children:" "})]}),s.jsx("div",{className:"space-y-2 max-h-[150px] overflow-y-auto",children:y?.offer.landings.map(F=>s.jsxs("label",{className:`flex items-center gap-3 px-3 py-2 rounded border cursor-pointer transition-colors ${T.includes(F.id)?"bg-emerald-500/20 border-emerald-500/50 text-emerald-400":"bg-muted border-border text-muted-foreground hover:border-emerald-500/30"}`,children:[s.jsx("input",{type:"checkbox",checked:T.includes(F.id),onChange:K=>{K.target.checked?C([...T,F.id]):C(T.filter(R=>R!==F.id))},className:"w-4 h-4 rounded border-border","data-testid":`checkbox-landing-${F.id}`}),s.jsx("span",{className:"font-mono text-sm flex-1",children:F.name}),s.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:F.geo})]},F.id))}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2 font-mono",children:T.length===y?.offer.landings.length||T.length===0?"   ":`  ${T.length}  ${y?.offer.landings.length} `})]})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:()=>v(!1),className:"border-border text-muted-foreground",children:""}),s.jsx(U,{onClick:()=>{if(y){const F=N.length===y.offer.geo.length||N.length===0?void 0:N,K=T.length===y.offer.landings.length?void 0:T;$.mutate({requestId:y.id,action:"approve",approvedGeos:F,approvedLandings:K}),v(!1)}},disabled:$.isPending,className:"bg-emerald-600 hover:bg-emerald-500 text-foreground","data-testid":"button-confirm-approve",children:$.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin"}):""})]})]})})]})}function ou(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function qKe(e,t){return j.useReducer((n,r)=>t[n][r]??n,e)}var F3="ScrollArea",[aoe]=ss(F3),[UKe,Ti]=aoe(F3),ioe=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=j.useState(null),[u,f]=j.useState(null),[m,p]=j.useState(null),[g,v]=j.useState(null),[y,w]=j.useState(null),[N,A]=j.useState(0),[T,C]=j.useState(0),[S,E]=j.useState(!1),[O,_]=j.useState(!1),M=it(t,z=>c(z)),$=hm(a);return s.jsx(UKe,{scope:n,type:r,dir:$,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:f,content:m,onContentChange:p,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:E,scrollbarY:y,onScrollbarYChange:w,scrollbarYEnabled:O,onScrollbarYEnabledChange:_,onCornerWidthChange:A,onCornerHeightChange:C,children:s.jsx(Je.div,{dir:$,...o,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":T+"px",...e.style}})})});ioe.displayName=F3;var ooe="ScrollAreaViewport",loe=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...i}=e,o=Ti(ooe,n),l=j.useRef(null),c=it(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Je.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});loe.displayName=ooe;var Ko="ScrollAreaScrollbar",B3=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Ti(Ko,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return j.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(VKe,{...r,ref:t,forceMount:n}):a.type==="scroll"?s.jsx(HKe,{...r,ref:t,forceMount:n}):a.type==="auto"?s.jsx(coe,{...r,ref:t,forceMount:n}):a.type==="always"?s.jsx(z3,{...r,ref:t}):null});B3.displayName=Ko;var VKe=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Ti(Ko,e.__scopeScrollArea),[i,o]=j.useState(!1);return j.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Vr,{present:n||i,children:s.jsx(coe,{"data-state":i?"visible":"hidden",...r,ref:t})})}),HKe=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Ti(Ko,e.__scopeScrollArea),i=e.orientation==="horizontal",o=_1(()=>c("SCROLL_END"),100),[l,c]=qKe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),j.useEffect(()=>{const u=a.viewport,f=i?"scrollLeft":"scrollTop";if(u){let m=u[f];const p=()=>{const g=u[f];m!==g&&(c("SCROLL"),o()),m=g};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[a.viewport,i,c,o]),s.jsx(Vr,{present:n||l!=="hidden",children:s.jsx(z3,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ou(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ou(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),coe=j.forwardRef((e,t)=>{const n=Ti(Ko,e.__scopeScrollArea),{forceMount:r,...a}=e,[i,o]=j.useState(!1),l=e.orientation==="horizontal",c=_1(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:f)}},10);return rm(n.viewport,c),rm(n.content,c),s.jsx(Vr,{present:r||i,children:s.jsx(z3,{"data-state":i?"visible":"hidden",...a,ref:t})})}),z3=j.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=Ti(Ko,e.__scopeScrollArea),i=j.useRef(null),o=j.useRef(0),[l,c]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=moe(l.viewport,l.content),f={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function m(p,g){return QKe(p,o.current,l,g)}return n==="horizontal"?s.jsx(KKe,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollLeft,g=vK(p,l,a.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=m(p,a.dir))}}):n==="vertical"?s.jsx(WKe,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollTop,g=vK(p,l);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=m(p))}}):null}),KKe=j.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=Ti(Ko,e.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),u=it(t,c,i.onScrollbarXChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(uoe,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":M1(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(i.viewport){const p=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(p),xoe(p,m)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Iw(o.paddingLeft),paddingEnd:Iw(o.paddingRight)}})}})}),WKe=j.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=Ti(Ko,e.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),u=it(t,c,i.onScrollbarYChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(uoe,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":M1(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(i.viewport){const p=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(p),xoe(p,m)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Iw(o.paddingTop),paddingEnd:Iw(o.paddingBottom)}})}})}),[GKe,doe]=aoe(Ko),uoe=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:m,...p}=e,g=Ti(Ko,n),[v,y]=j.useState(null),w=it(t,M=>y(M)),N=j.useRef(null),A=j.useRef(""),T=g.viewport,C=r.content-r.viewport,S=Pn(f),E=Pn(c),O=_1(m,10);function _(M){if(N.current){const $=M.clientX-N.current.left,z=M.clientY-N.current.top;u({x:$,y:z})}}return j.useEffect(()=>{const M=$=>{const z=$.target;v?.contains(z)&&S($,C)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[T,v,C,S]),j.useEffect(E,[r,E]),rm(v,O),rm(g.content,O),s.jsx(GKe,{scope:n,scrollbar:v,hasThumb:a,onThumbChange:Pn(i),onThumbPointerUp:Pn(o),onThumbPositionChange:E,onThumbPointerDown:Pn(l),children:s.jsx(Je.div,{...p,ref:w,style:{position:"absolute",...p.style},onPointerDown:ou(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),N.current=v.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),_(M))}),onPointerMove:ou(e.onPointerMove,_),onPointerUp:ou(e.onPointerUp,M=>{const $=M.target;$.hasPointerCapture(M.pointerId)&&$.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=A.current,g.viewport&&(g.viewport.style.scrollBehavior=""),N.current=null})})})}),Dw="ScrollAreaThumb",foe=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=doe(Dw,e.__scopeScrollArea);return s.jsx(Vr,{present:n||a.hasThumb,children:s.jsx(YKe,{ref:t,...r})})}),YKe=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,i=Ti(Dw,n),o=doe(Dw,n),{onThumbPositionChange:l}=o,c=it(t,m=>o.onThumbChange(m)),u=j.useRef(void 0),f=_1(()=>{u.current&&(u.current(),u.current=void 0)},100);return j.useEffect(()=>{const m=i.viewport;if(m){const p=()=>{if(f(),!u.current){const g=JKe(m,l);u.current=g,l()}};return l(),m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[i.viewport,f,l]),s.jsx(Je.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ou(e.onPointerDownCapture,m=>{const g=m.target.getBoundingClientRect(),v=m.clientX-g.left,y=m.clientY-g.top;o.onThumbPointerDown({x:v,y})}),onPointerUp:ou(e.onPointerUp,o.onThumbPointerUp)})});foe.displayName=Dw;var q3="ScrollAreaCorner",hoe=j.forwardRef((e,t)=>{const n=Ti(q3,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(XKe,{...e,ref:t}):null});hoe.displayName=q3;var XKe=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=Ti(q3,n),[i,o]=j.useState(0),[l,c]=j.useState(0),u=!!(i&&l);return rm(a.scrollbarX,()=>{const f=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(f),c(f)}),rm(a.scrollbarY,()=>{const f=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(f),o(f)}),u?s.jsx(Je.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Iw(e){return e?parseInt(e,10):0}function moe(e,t){const n=e/t;return isNaN(n)?0:n}function M1(e){const t=moe(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function QKe(e,t,n,r="ltr"){const a=M1(n),i=a/2,o=t||i,l=a-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,m=r==="ltr"?[0,f]:[f*-1,0];return poe([c,u],m)(e)}function vK(e,t,n="ltr"){const r=M1(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=TP(e,c);return poe([0,o],[0,l])(u)}function poe(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function xoe(e,t){return e>0&&e<t}var JKe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,r=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(r)};function _1(e,t){const n=Pn(e),r=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),j.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function rm(e,t){const n=Pn(t);Zt(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var goe=ioe,ZKe=loe,eWe=hoe;const U3=j.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(goe,{ref:r,className:Re("relative overflow-hidden",e),...n,children:[s.jsx(ZKe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(yoe,{}),s.jsx(eWe,{})]}));U3.displayName=goe.displayName;const yoe=j.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx(B3,{ref:r,orientation:t,className:Re("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(foe,{className:"relative flex-1 rounded-full bg-border"})}));yoe.displayName=B3.displayName;const bK=[{value:"crypto_usdt_trc20",label:"USDT TRC20",icon:fi,color:"text-green-500"},{value:"crypto_usdt_erc20",label:"USDT ERC20",icon:fi,color:"text-blue-400"},{value:"crypto_usdt_bep20",label:"USDT BEP20",icon:fi,color:"text-yellow-400"},{value:"crypto_btc",label:"Bitcoin (BTC)",icon:fi,color:"text-orange-500"},{value:"crypto_eth",label:"Ethereum (ETH)",icon:fi,color:"text-purple-400"},{value:"crypto_ltc",label:"Litecoin (LTC)",icon:fi,color:"text-muted-foreground"},{value:"bank_card",label:" ",icon:On,color:"text-blue-500"},{value:"bank_transfer",label:" ",icon:On,color:"text-cyan-500"},{value:"binance",label:"Binance Pay",icon:er,color:"text-yellow-500"},{value:"bybit",label:"Bybit",icon:er,color:"text-purple-500"},{value:"kraken",label:"Kraken",icon:er,color:"text-blue-500"},{value:"coinbase",label:"Coinbase",icon:er,color:"text-blue-400"},{value:"exmo",label:"EXMO",icon:er,color:"text-cyan-500"},{value:"mexc",label:"MEXC",icon:er,color:"text-teal-500"},{value:"okx",label:"OKX",icon:er,color:"text-muted-foreground"},{value:"paypal",label:"PayPal",icon:On,color:"text-blue-600"},{value:"webmoney",label:"WebMoney",icon:On,color:"text-blue-500"},{value:"capitalist",label:"Capitalist",icon:On,color:"text-red-500"},{value:"qiwi",label:"QIWI",icon:On,color:"text-orange-400"},{value:"skrill",label:"Skrill",icon:On,color:"text-purple-600"}],tWe=["USD","EUR","USDT","BTC"];function nWe(){const{t:e}=as(),{toast:t}=Dt(),n=rt(),[r,a]=j.useState(!1),[i,o]=j.useState(null),[l,c]=j.useState(""),[u,f]=j.useState(""),[m,p]=j.useState(""),[g,v]=j.useState([]),[y,w]=j.useState(!1),[N,A]=j.useState(!1),[T,C]=j.useState(""),[S,E]=j.useState(""),[O,_]=j.useState(""),[M,$]=j.useState(""),[z,V]=j.useState({}),[I,F]=j.useState({}),[K,R]=j.useState("day"),[B,L]=j.useState(()=>{const Q=new Date;return Q.setMonth(Q.getMonth()-1),Q.toISOString().split("T")[0]}),[q,se]=j.useState(()=>new Date().toISOString().split("T")[0]),{data:H=[],isLoading:Y}=Ne({queryKey:["/api/advertiser/payment-methods"]}),{data:G=[],isLoading:X}=Ne({queryKey:["/api/advertiser/payout-requests"]}),{data:ae=[],isLoading:de}=Ne({queryKey:["/api/advertiser/publisher-balances"]}),{data:he=[],isLoading:Fe}=Ne({queryKey:["/api/advertiser/payouts"]}),{data:ge={}}=Ne({queryKey:["/api/advertiser/crypto/keys/status"]}),{data:Ae,isLoading:_e,isError:ee,error:Le,refetch:Ce}=Ne({queryKey:[`/api/advertiser/finance/analytics?dateFrom=${B}&dateTo=${q}&interval=${K}`],retry:!1}),De=async Q=>{try{const xt=`/api/advertiser/finance/export?format=${Q}&dateFrom=${B}&dateTo=${q}&interval=${K}`,dn=await fetch(xt,{credentials:"include"});if(!dn.ok){const Rs=await dn.text();throw new Error(Rs||"Export failed")}const jr=await dn.blob(),vs=window.URL.createObjectURL(jr),Un=document.createElement("a");Un.href=vs;const Zs=Q==="xlsx"?"xlsx":Q==="pdf"?"pdf":"csv";Un.download=`finance-analytics-${new Date().toISOString().split("T")[0]}.${Zs}`,document.body.appendChild(Un),Un.click(),document.body.removeChild(Un),window.URL.revokeObjectURL(vs),t({title:" "})}catch(xt){t({title:" ",description:xt.message,variant:"destructive"})}},We=ve({mutationFn:Q=>Be("POST","/api/advertiser/crypto/keys",Q),onSuccess:(Q,xt)=>{n.invalidateQueries({queryKey:["/api/advertiser/crypto/keys/status"]}),F(dn=>({...dn,[xt.exchange]:{apiKey:"",secretKey:"",passphrase:""}})),V(dn=>({...dn,[xt.exchange]:!1})),t({title:"API  "})},onError:Q=>{t({title:"",description:Q.message,variant:"destructive"})}}),nt=ve({mutationFn:Q=>Be("DELETE",`/api/advertiser/crypto/keys/${Q}`),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/advertiser/crypto/keys/status"]}),t({title:"API  "})},onError:Q=>{t({title:"",description:Q.message,variant:"destructive"})}}),Et=ve({mutationFn:Q=>Be("POST","/api/advertiser/payment-methods",Q),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/advertiser/payment-methods"]}),a(!1),t({title:"  "})},onError:Q=>{t({title:"",description:Q.message,variant:"destructive"})}}),St=ve({mutationFn:Q=>Be("DELETE",`/api/advertiser/payment-methods/${Q}`),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/advertiser/payment-methods"]}),t({title:"  "})},onError:Q=>{t({title:"",description:Q.message,variant:"destructive"})}}),Gt=ve({mutationFn:({id:Q,data:xt})=>Be("PUT",`/api/advertiser/payout-requests/${Q}`,xt),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/advertiser/payout-requests"]}),n.invalidateQueries({queryKey:["/api/advertiser/payouts"]}),n.invalidateQueries({queryKey:["/api/advertiser/publisher-balances"]}),o(null),t({title:" "})},onError:Q=>{t({title:"",description:Q.message,variant:"destructive"})}}),Jn=Q=>{Q.preventDefault();const xt=Q.currentTarget,dn=new FormData(xt);Et.mutate({methodType:dn.get("methodType"),methodName:dn.get("methodName"),currency:dn.get("currency"),minPayout:dn.get("minPayout")||"0",maxPayout:dn.get("maxPayout")||null,feePercent:dn.get("feePercent")||"0",feeFixed:dn.get("feeFixed")||"0",instructions:dn.get("instructions")||null})},cn=(Q,xt=!1)=>{Gt.mutate({id:Q.id,data:{status:"approved",approvedAmount:xt?l:Q.requestedAmount}})},_r=Q=>{Gt.mutate({id:Q.id,data:{status:"rejected",rejectionReason:u}})},Vt=Q=>{Gt.mutate({id:Q.id,data:{status:"paid",approvedAmount:Q.approvedAmount||Q.requestedAmount,transactionId:m}})},_n=ve({mutationFn:Q=>Be("POST","/api/advertiser/mass-payout",{requestIds:Q}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/advertiser/payout-requests"]}),n.invalidateQueries({queryKey:["/api/advertiser/payouts"]}),n.invalidateQueries({queryKey:["/api/advertiser/publisher-balances"]}),v([]),w(!1),t({title:"  "})},onError:Q=>{t({title:"",description:Q.message,variant:"destructive"})}}),zn=ve({mutationFn:Q=>Be("POST","/api/advertiser/payouts/bonus",Q),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/advertiser/payouts"]}),n.invalidateQueries({queryKey:["/api/advertiser/publisher-balances"]}),A(!1),C(""),E(""),_(""),$(""),t({title:" "})},onError:Q=>{t({title:"",description:Q.message,variant:"destructive"})}}),Rn=()=>{const Q=H.find(xt=>xt.id===S);Q&&zn.mutate({publisherId:T,paymentMethodId:S,walletAddress:"bonus",amount:O,currency:Q.currency||"USD",note:M||" "})},_s=Q=>{v(xt=>xt.includes(Q)?xt.filter(dn=>dn!==Q):[...xt,Q])},Ai=()=>{v(ga.map(Q=>Q.id))},Ei=()=>{_n.mutate(g)},Js=G.filter(Q=>Q.status==="pending"),ga=G.filter(Q=>Q.status==="approved"),rr=ga.filter(Q=>g.includes(Q.id)).reduce((Q,xt)=>Q+parseFloat(xt.approvedAmount||xt.requestedAmount||0),0),Tn=Js.reduce((Q,xt)=>Q+parseFloat(xt.requestedAmount||0),0),qn=ae.reduce((Q,xt)=>Q+xt.available,0);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:""}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"  "})]}),s.jsx(qu,{dataset:"finance-transactions",additionalDatasets:[{id:"finance-payouts",label:""}]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(J,{className:"bg-card border-border","data-testid":"card-pending-requests",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:s.jsx(Yt,{className:"w-5 h-5 text-yellow-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:" "}),s.jsx("p",{className:"text-xl font-bold text-foreground","data-testid":"text-pending-count",children:Js.length})]})]})})}),s.jsx(J,{className:"bg-card border-border","data-testid":"card-pending-amount",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:s.jsx(Sn,{className:"w-5 h-5 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"  (pending)"}),s.jsx("p",{className:"text-xl font-bold text-foreground","data-testid":"text-pending-amount",children:Xe(Tn)})]})]})})}),s.jsx(J,{className:"bg-card border-border","data-testid":"card-total-owed",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center",children:s.jsx(Kn,{className:"w-5 h-5 text-red-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:" "}),s.jsx("p",{className:"text-xl font-bold text-foreground","data-testid":"text-total-owed",children:Xe(qn)})]})]})})}),s.jsx(J,{className:"bg-card border-border","data-testid":"card-active-partners",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center",children:s.jsx(pn,{className:"w-5 h-5 text-emerald-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:" "}),s.jsx("p",{className:"text-xl font-bold text-foreground","data-testid":"text-active-partners",children:ae.length})]})]})})})]}),s.jsxs(uo,{defaultValue:"analytics",className:"space-y-4",children:[s.jsxs(ki,{className:"bg-card border border-border flex-wrap",children:[s.jsxs(lt,{value:"analytics","data-testid":"tab-analytics",className:"data-[state=active]:bg-green-500 data-[state=active]:text-white",children:[s.jsx(qr,{className:"h-4 w-4 mr-1 text-green-500"}),""]}),s.jsxs(lt,{value:"requests","data-testid":"tab-requests",className:"data-[state=active]:bg-yellow-500 data-[state=active]:text-black",children:[s.jsx(dr,{className:"h-4 w-4 mr-1 text-yellow-500"}),"  ",Js.length>0&&s.jsx(ye,{className:"ml-2 bg-yellow-600 text-black",children:Js.length})]}),s.jsxs(lt,{value:"balances","data-testid":"tab-balances",className:"data-[state=active]:bg-emerald-500 data-[state=active]:text-white",children:[s.jsx(pn,{className:"h-4 w-4 mr-1 text-emerald-500"})," "]}),s.jsxs(lt,{value:"methods","data-testid":"tab-methods",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:[s.jsx(On,{className:"h-4 w-4 mr-1 text-blue-500"})," "]}),s.jsxs(lt,{value:"history","data-testid":"tab-history",className:"data-[state=active]:bg-purple-500 data-[state=active]:text-white",children:[s.jsx(Kb,{className:"h-4 w-4 mr-1 text-purple-500"})," "]}),s.jsxs(lt,{value:"api-keys","data-testid":"tab-api-keys",className:"data-[state=active]:bg-orange-500 data-[state=active]:text-white",children:[s.jsx(Da,{className:"h-4 w-4 mr-1 text-orange-500"}),"API  "]}),s.jsxs(lt,{value:"instructions","data-testid":"tab-instructions",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:[s.jsx(qx,{className:"h-4 w-4 mr-1 text-blue-500"}),""]})]}),s.jsx(ct,{value:"analytics",className:"space-y-4",children:s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(DO,{className:"h-5 w-5 text-green-500"})," "]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vw,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(le,{type:"date",value:B,onChange:Q=>L(Q.target.value),className:"w-36 bg-input border-border","data-testid":"input-date-from"}),s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx(le,{type:"date",value:q,onChange:Q=>se(Q.target.value),className:"w-36 bg-input border-border","data-testid":"input-date-to"})]}),s.jsxs(ht,{value:K,onValueChange:Q=>R(Q),children:[s.jsx(dt,{className:"w-28 bg-input border-border","data-testid":"select-interval",children:s.jsx(mt,{})}),s.jsxs(ut,{children:[s.jsx(ke,{value:"day",children:" "}),s.jsx(ke,{value:"week",children:" "}),s.jsx(ke,{value:"month",children:" "})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>De("csv"),"data-testid":"btn-export-csv",children:[s.jsx(Wi,{className:"h-4 w-4 mr-1"}),"CSV"]}),s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>De("xlsx"),"data-testid":"btn-export-xlsx",children:[s.jsx(Wi,{className:"h-4 w-4 mr-1"}),"Excel"]}),s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>De("pdf"),"data-testid":"btn-export-pdf",children:[s.jsx(Wi,{className:"h-4 w-4 mr-1"}),"PDF"]})]})]})]})}),s.jsx(ne,{children:_e?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):ee?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-destructive mb-2",children:String(Le).includes("401")?" . ,   .":"  "}),s.jsx(U,{variant:"outline",size:"sm",onClick:()=>Ce(),children:""})]}):Ae?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3",children:[s.jsx(J,{className:"bg-emerald-500/10 border-emerald-500/30",children:s.jsxs(ne,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:""}),s.jsx("p",{className:"text-lg font-bold text-emerald-500","data-testid":"stat-revenue",children:Xe(Ae.summary.revenue)})]})}),s.jsx(J,{className:"bg-red-500/10 border-red-500/30",children:s.jsxs(ne,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:""}),s.jsx("p",{className:"text-lg font-bold text-red-500","data-testid":"stat-payouts",children:Xe(Ae.summary.payouts)})]})}),s.jsx(J,{className:`${Ae.summary.profit>=0?"bg-blue-500/10 border-blue-500/30":"bg-orange-500/10 border-orange-500/30"}`,children:s.jsxs(ne,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:""}),s.jsx("p",{className:`text-lg font-bold ${Ae.summary.profit>=0?"text-blue-500":"text-orange-500"}`,"data-testid":"stat-profit",children:Xe(Ae.summary.profit)})]})}),s.jsx(J,{className:`${Ae.summary.roiPercent>=0?"bg-purple-500/10 border-purple-500/30":"bg-orange-500/10 border-orange-500/30"}`,children:s.jsxs(ne,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"ROI"}),s.jsxs("p",{className:`text-lg font-bold ${Ae.summary.roiPercent>=0?"text-purple-500":"text-orange-500"}`,"data-testid":"stat-roi",children:[Ae.summary.roiPercent.toFixed(1),"%"]})]})}),s.jsx(J,{className:"bg-cyan-500/10 border-cyan-500/30",children:s.jsxs(ne,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"FTD"}),s.jsx("p",{className:"text-lg font-bold text-cyan-500","data-testid":"stat-ftd",children:Ae.summary.totalFtd})]})}),s.jsx(J,{className:"bg-yellow-500/10 border-yellow-500/30",children:s.jsxs(ne,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:""}),s.jsx("p",{className:"text-lg font-bold text-yellow-500","data-testid":"stat-repeat",children:Ae.summary.totalRepeatDeposits})]})}),s.jsx(J,{className:"bg-indigo-500/10 border-indigo-500/30",children:s.jsxs(ne,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:". "}),s.jsx("p",{className:"text-lg font-bold text-indigo-500","data-testid":"stat-avg",children:Xe(Ae.summary.avgDepositAmount)})]})})]}),Ae.trend.length>0&&s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{className:"pb-2",children:s.jsx(Ie,{className:"text-sm",children:"   "})}),s.jsx(ne,{children:s.jsx("div",{className:"h-64",children:s.jsx(s1,{width:"100%",height:"100%",children:s.jsxs(L3,{data:Ae.trend,children:[s.jsx(E1,{strokeDasharray:"3 3",stroke:"#333"}),s.jsx(Tm,{dataKey:"periodStart",stroke:"#888",fontSize:11,tickFormatter:Q=>new Date(Q).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit"})}),s.jsx(Am,{stroke:"#888",fontSize:11,tickFormatter:Q=>`$${Q}`}),s.jsx(Aa,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #333"},labelFormatter:Q=>new Date(Q).toLocaleDateString("ru-RU"),formatter:Q=>[`$${Q.toFixed(2)}`,""]}),s.jsx(su,{}),s.jsx(Qi,{type:"monotone",dataKey:"revenue",name:"",stroke:"#10b981",strokeWidth:2,dot:!1}),s.jsx(Qi,{type:"monotone",dataKey:"payouts",name:"",stroke:"#ef4444",strokeWidth:2,dot:!1}),s.jsx(Qi,{type:"monotone",dataKey:"profit",name:"",stroke:"#3b82f6",strokeWidth:2,dot:!1})]})})})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{className:"pb-2",children:s.jsx(Ie,{className:"text-sm flex items-center gap-2",children:" "})}),s.jsx(ne,{className:"max-h-64 overflow-auto",children:Ae.offerBreakdown.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:" "}):s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"text-xs text-muted-foreground",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-1",children:""}),s.jsx("th",{className:"text-right",children:""}),s.jsx("th",{className:"text-right",children:""}),s.jsx("th",{className:"text-right",children:"ROI"}),s.jsx("th",{className:"text-right",children:"FTD"})]})}),s.jsx("tbody",{children:Ae.offerBreakdown.map(Q=>s.jsxs("tr",{className:"border-t border-border",children:[s.jsx("td",{className:"py-1.5 text-foreground",children:Q.offerName}),s.jsx("td",{className:"text-right text-emerald-500",children:Xe(Q.revenue)}),s.jsx("td",{className:"text-right text-red-500",children:Xe(Q.payouts)}),s.jsxs("td",{className:`text-right ${Q.roiPercent>=0?"text-purple-500":"text-orange-500"}`,children:[Q.roiPercent.toFixed(0),"%"]}),s.jsx("td",{className:"text-right text-muted-foreground",children:Q.ftdCount})]},Q.offerId))})]})})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{className:"pb-2",children:s.jsx(Ie,{className:"text-sm flex items-center gap-2",children:" "})}),s.jsx(ne,{className:"max-h-64 overflow-auto",children:Ae.publisherBreakdown.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:" "}):s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"text-xs text-muted-foreground",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-1",children:""}),s.jsx("th",{className:"text-right",children:""}),s.jsx("th",{className:"text-right",children:""}),s.jsx("th",{className:"text-right",children:"ROI"}),s.jsx("th",{className:"text-right",children:"FTD"})]})}),s.jsx("tbody",{children:Ae.publisherBreakdown.map(Q=>s.jsxs("tr",{className:"border-t border-border",children:[s.jsx("td",{className:"py-1.5 text-foreground",children:Q.publisherShortId?`${Q.publisherShortId}${Q.publisherFullName?` - ${Q.publisherFullName}`:""}`:"-"}),s.jsx("td",{className:"text-right text-emerald-500",children:Xe(Q.revenue)}),s.jsx("td",{className:"text-right text-red-500",children:Xe(Q.payouts)}),s.jsxs("td",{className:`text-right ${Q.roiPercent>=0?"text-purple-500":"text-orange-500"}`,children:[Q.roiPercent.toFixed(0),"%"]}),s.jsx("td",{className:"text-right text-muted-foreground",children:Q.ftdCount})]},Q.publisherId))})]})})]})]})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"    "})})]})}),s.jsx(ct,{value:"requests",className:"space-y-4",children:X?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):G.length===0?s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(Qr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"   "})]})}):s.jsxs("div",{className:"space-y-3",children:[ga.length>0&&s.jsx(J,{className:"bg-card border-emerald-500/30",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(xF,{className:"w-5 h-5 text-emerald-500"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-foreground",children:["  : ",s.jsx("span",{className:"font-bold",children:ga.length})]}),g.length>0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",g.length,"   $",rr.toFixed(2)]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"sm",onClick:Ai,"data-testid":"button-select-all",children:" "}),s.jsxs(U,{className:"bg-emerald-600 hover:bg-emerald-700",size:"sm",disabled:g.length===0||_n.isPending,onClick:Ei,"data-testid":"button-mass-payout",children:[_n.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(dr,{className:"w-4 h-4 mr-2"})," "]})]})]})})}),G.map(Q=>s.jsx(J,{className:"bg-card border-border","data-testid":`card-request-${Q.id}`,children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[Q.status==="approved"&&s.jsx($l,{checked:g.includes(Q.id),onCheckedChange:()=>_s(Q.id),"data-testid":`checkbox-request-${Q.id}`}),s.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center font-bold",children:Q.publisherName?.slice(0,2).toUpperCase()||"??"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground","data-testid":`text-publisher-name-${Q.id}`,children:Q.publisherShortId?`${Q.publisherShortId}${Q.publisherFullName?` - ${Q.publisherFullName}`:""}`:"-"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Q.publisherEmail}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[": ",s.jsxs("span",{className:"text-foreground font-mono","data-testid":`text-request-amount-${Q.id}`,children:["$",Q.requestedAmount]})]})]})]}),s.jsxs(ye,{className:Q.status==="pending"?"bg-yellow-500/20 text-yellow-500":Q.status==="approved"?"bg-blue-500/20 text-blue-500":Q.status==="paid"?"bg-emerald-500/20 text-emerald-500":"bg-red-500/20 text-red-500","data-testid":`badge-status-${Q.id}`,children:[Q.status==="pending"&&"",Q.status==="approved"&&"",Q.status==="paid"&&"",Q.status==="rejected"&&""]})]}),s.jsxs("div",{className:"p-3 bg-muted rounded-lg border border-border",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"  :"}),s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsx(ye,{variant:"outline",className:"text-xs",children:Q.methodName||Q.methodType})}),s.jsx("p",{className:"font-mono text-sm text-foreground break-all","data-testid":`text-wallet-address-${Q.id}`,children:Q.walletAddress}),Q.walletAccountName&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[": ",Q.walletAccountName]}),Q.walletAdditionalInfo&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[". : ",Q.walletAdditionalInfo]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[Q.status==="pending"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700",onClick:()=>cn(Q),"data-testid":`button-approve-${Q.id}`,children:[s.jsx(bt,{className:"w-4 h-4 mr-1"}),""]}),s.jsxs(Wt,{children:[s.jsx(ks,{asChild:!0,children:s.jsx(U,{size:"sm",variant:"outline",className:"border-white/20","data-testid":`button-partial-${Q.id}`,children:""})}),s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:"  "}),s.jsx(le,{type:"number",value:l,onChange:xt=>c(xt.target.value),max:Q.requestedAmount,className:"bg-input border-border","data-testid":"input-partial-amount"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[": $",Q.requestedAmount]})]}),s.jsx(U,{onClick:()=>cn(Q,!0),className:"w-full bg-blue-600 hover:bg-blue-700","data-testid":"button-confirm-partial",children:" "})]})]})]}),s.jsxs(Wt,{children:[s.jsx(ks,{asChild:!0,children:s.jsx(U,{size:"sm",variant:"destructive","data-testid":`button-reject-${Q.id}`,children:s.jsx(Xn,{className:"w-4 h-4"})})}),s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:" "}),s.jsx(vi,{value:u,onChange:xt=>f(xt.target.value),className:"bg-input border-border",placeholder:" ...","data-testid":"input-reject-reason"})]}),s.jsx(U,{onClick:()=>_r(Q),variant:"destructive",className:"w-full","data-testid":"button-confirm-reject",children:""})]})]})]})]}),Q.status==="approved"&&s.jsxs(Wt,{children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700","data-testid":`button-pay-${Q.id}`,children:[s.jsx(dr,{className:"w-4 h-4 mr-1"}),""]})}),s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsxs("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-pay-amount",children:["$",Q.approvedAmount||Q.requestedAmount]})]}),s.jsxs("div",{children:[s.jsx(te,{children:"ID  ()"}),s.jsx(le,{value:m,onChange:xt=>p(xt.target.value),className:"bg-input border-border",placeholder:"TX hash   ","data-testid":"input-transaction-id"})]}),s.jsx(U,{onClick:()=>Vt(Q),className:"w-full bg-emerald-600 hover:bg-emerald-700","data-testid":"button-confirm-pay",children:" "})]})]})]})]})]})})},Q.id))]})}),s.jsx(ct,{value:"balances",className:"space-y-4",children:de?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):ae.length===0?s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(pn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"  "})]})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border text-muted-foreground",children:[s.jsx("th",{className:"text-left py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:" "}),s.jsx("th",{className:"text-right py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:""})]})}),s.jsx("tbody",{children:ae.map(Q=>s.jsxs("tr",{className:"border-b border-white/5 hover:bg-muted",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:Q.publisherName}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Q.publisherEmail})]})}),s.jsxs("td",{className:"text-right py-3 px-4 font-mono text-emerald-500",children:["$",Q.available.toFixed(2)]}),s.jsxs("td",{className:"text-right py-3 px-4 font-mono text-yellow-500",children:["$",Q.pending.toFixed(2)]}),s.jsxs("td",{className:"text-right py-3 px-4 font-mono text-muted-foreground",children:["$",Q.hold.toFixed(2)]}),s.jsxs("td",{className:"text-right py-3 px-4 font-mono text-foreground",children:["$",Q.totalPaid.toFixed(2)]}),s.jsx("td",{className:"text-right py-3 px-4",children:s.jsxs(U,{size:"sm",className:"bg-emerald-500 hover:bg-emerald-600 text-foreground font-semibold",onClick:()=>{C(Q.publisherId),A(!0)},"data-testid":`button-bonus-${Q.publisherId}`,children:[s.jsx(Sn,{className:"w-4 h-4 mr-1"}),""]})})]},Q.publisherId))})]})})}),s.jsxs(ct,{value:"methods",className:"space-y-4",children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs(Wt,{open:r,onOpenChange:a,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{className:"bg-emerald-600 hover:bg-emerald-700","data-testid":"button-add-method",children:[s.jsx(fr,{className:"w-4 h-4 mr-2"}),"  "]})}),s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsx(Ut,{children:"  "})}),s.jsxs("form",{onSubmit:Jn,className:"space-y-4","data-testid":"form-create-method",children:[s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsxs(ht,{name:"methodType",required:!0,children:[s.jsx(dt,{className:"bg-input border-border","data-testid":"select-method-type",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:bK.map(Q=>s.jsx(ke,{value:Q.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q.icon,{className:`w-4 h-4 ${Q.color}`}),Q.label]})},Q.value))})]})]}),s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(le,{name:"methodName",required:!0,className:"bg-input border-border",placeholder:": USDT TRC20"})]}),s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsxs(ht,{name:"currency",required:!0,children:[s.jsx(dt,{className:"bg-input border-border",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:tWe.map(Q=>s.jsx(ke,{value:Q,children:Q},Q))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:". "}),s.jsx(le,{name:"minPayout",type:"number",step:"0.01",className:"bg-input border-border",placeholder:"50"})]}),s.jsxs("div",{children:[s.jsx(te,{children:". "}),s.jsx(le,{name:"maxPayout",type:"number",step:"0.01",className:"bg-input border-border",placeholder:"10000"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:" %"}),s.jsx(le,{name:"feePercent",type:"number",step:"0.01",className:"bg-input border-border",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx(te,{children:". "}),s.jsx(le,{name:"feeFixed",type:"number",step:"0.01",className:"bg-input border-border",placeholder:"0"})]})]}),s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(vi,{name:"instructions",className:"bg-input border-border",placeholder:"  ..."})]}),s.jsx(U,{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700",disabled:Et.isPending,children:Et.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin"}):""})]})]})]})}),Y?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):H.length===0?s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(On,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"    "})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:H.map(Q=>{const xt=bK.find(jr=>jr.value===Q.methodType),dn=xt?.icon||Qr;return s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/10 flex items-center justify-center",children:s.jsx(dn,{className:`w-5 h-5 ${xt?.color||"text-muted-foreground"}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:Q.methodName}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Q.currency})]})]}),s.jsx(U,{size:"icon",variant:"ghost",className:"h-8 w-8 text-muted-foreground hover:text-red-500",onClick:()=>St.mutate(Q.id),"data-testid":`button-delete-method-${Q.id}`,children:s.jsx(Os,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:". "}),s.jsx("span",{className:"text-foreground",children:Xe(Q.minPayout,Q.currency)})]}),Q.maxPayout&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:". "}),s.jsx("span",{className:"text-foreground",children:Xe(Q.maxPayout,Q.currency)})]}),(parseFloat(Q.feePercent)>0||parseFloat(Q.feeFixed)>0)&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{className:"text-foreground",children:[Q.feePercent,"% + ",Xe(Q.feeFixed,Q.currency)]})]})]})]})},Q.id)})})]}),s.jsx(ct,{value:"history",className:"space-y-4",children:Fe?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):he.length===0?s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(Sn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"  "})]})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border text-muted-foreground",children:[s.jsx("th",{className:"text-left py-3 px-4",children:""}),s.jsx("th",{className:"text-left py-3 px-4",children:""}),s.jsx("th",{className:"text-left py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:""}),s.jsx("th",{className:"text-left py-3 px-4",children:""})]})}),s.jsx("tbody",{children:he.map(Q=>s.jsxs("tr",{className:"border-b border-white/5 hover:bg-muted",children:[s.jsx("td",{className:"py-3 px-4 text-muted-foreground font-mono text-xs",children:new Date(Q.createdAt).toLocaleDateString()}),s.jsx("td",{className:"py-3 px-4 text-foreground",children:Q.publisherShortId?`${Q.publisherShortId}${Q.publisherFullName?` - ${Q.publisherFullName}`:""}`:"-"}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(ye,{className:Q.payoutType==="bonus"?"bg-purple-500/20 text-purple-500":Q.payoutType==="auto"?"bg-blue-500/20 text-blue-500":"bg-muted text-muted-foreground",children:Q.payoutType})}),s.jsxs("td",{className:"text-right py-3 px-4 font-mono text-foreground",children:["$",Q.amount]}),s.jsxs("td",{className:"text-right py-3 px-4 font-mono text-red-400",children:["-$",Q.feeAmount]}),s.jsxs("td",{className:"text-right py-3 px-4 font-mono text-emerald-500 font-bold",children:["$",Q.netAmount]}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(ye,{className:"bg-emerald-500/20 text-emerald-500",children:Q.status})})]},Q.id))})]})})}),s.jsx(ct,{value:"api-keys",className:"space-y-4",children:s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Fn,{className:"h-5 w-5 text-orange-500"}),"API  "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" API       .      (AES-256-GCM)."})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs(P5,{children:[s.jsxs(M5,{className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[s.jsx(Sl,{className:"w-4 h-4"}),s.jsx("span",{children:"  API ?"}),s.jsx(fa,{className:"w-4 h-4"})]}),s.jsx(_5,{className:"mt-3",children:s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm",children:[s.jsx("p",{className:"font-medium text-foreground",children:"   API :"}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-medium text-yellow-500 min-w-[80px]",children:"Binance:"}),s.jsx("span",{className:"text-muted-foreground",children:"  API Management  Create API"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-medium text-purple-500 min-w-[80px]",children:"Bybit:"}),s.jsx("span",{className:"text-muted-foreground",children:"Account  API  Create New Key"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-medium text-blue-500 min-w-[80px]",children:"Kraken:"}),s.jsx("span",{className:"text-muted-foreground",children:"Settings  API  Generate New Key"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-medium text-blue-400 min-w-[80px]",children:"Coinbase:"}),s.jsx("span",{className:"text-muted-foreground",children:"Settings  API  New API Key"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-medium text-cyan-500 min-w-[80px]",children:"EXMO:"}),s.jsx("span",{className:"text-muted-foreground",children:"  API   "})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-medium text-teal-500 min-w-[80px]",children:"MEXC:"}),s.jsx("span",{className:"text-muted-foreground",children:"  API  Create API"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-medium text-slate-400 min-w-[80px]",children:"OKX:"}),s.jsx("span",{className:"text-muted-foreground",children:"Settings  API  Create V5 API Key ( passphrase!)"})]})]}),s.jsxs("div",{className:"mt-3 p-3 bg-orange-500/10 border border-orange-500/20 rounded-lg",children:[s.jsxs("p",{className:"text-orange-400 font-medium flex items-center gap-2",children:[s.jsx(Ui,{className:"w-4 h-4"}),"   :"]}),s.jsxs("ul",{className:"mt-2 space-y-1 text-muted-foreground list-disc list-inside",children:[s.jsxs("li",{children:["   ",s.jsx("strong",{children:"Withdraw"})," ( )"]}),s.jsx("li",{children:" IP-   whitelist ()"}),s.jsxs("li",{children:[" OKX   ",s.jsx("strong",{children:"passphrase"})]})]})]})]})})]}),[{key:"binance",name:"Binance",color:"yellow",statusKey:"hasBinance"},{key:"bybit",name:"Bybit",color:"purple",statusKey:"hasBybit"},{key:"kraken",name:"Kraken",color:"blue",statusKey:"hasKraken"},{key:"coinbase",name:"Coinbase",color:"blue",statusKey:"hasCoinbase"},{key:"exmo",name:"EXMO",color:"cyan",statusKey:"hasExmo"},{key:"mexc",name:"MEXC",color:"teal",statusKey:"hasMexc"},{key:"okx",name:"OKX",color:"slate",statusKey:"hasOkx",requiresPassphrase:!0}].map(Q=>{const xt=ge[Q.statusKey],dn=z[Q.key],jr=I[Q.key]||{apiKey:"",secretKey:"",passphrase:""},vs=`${Q.color}-500`;return s.jsxs("div",{className:`border border-${vs}/30 rounded-lg p-4 space-y-4`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg bg-${vs}/20 flex items-center justify-center`,children:s.jsx(er,{className:`w-5 h-5 text-${vs}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:Q.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:xt?s.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[s.jsx(bt,{className:"w-3 h-3"}),"  "]}):s.jsx("span",{className:"text-muted-foreground",children:"  "})})]})]}),s.jsxs("div",{className:"flex gap-2",children:[xt&&s.jsx(U,{variant:"destructive",size:"sm",onClick:()=>nt.mutate(Q.key),disabled:nt.isPending,"data-testid":`button-delete-${Q.key}-keys`,children:s.jsx(Os,{className:"w-4 h-4"})}),s.jsx(U,{variant:"outline",size:"sm",onClick:()=>V(Un=>({...Un,[Q.key]:!Un[Q.key]})),"data-testid":`button-toggle-${Q.key}-form`,children:dn?"":xt?"":""})]})]}),dn&&s.jsxs("div",{className:"space-y-3 pt-3 border-t border-border",children:[s.jsxs("div",{children:[s.jsx(te,{className:"text-muted-foreground",children:"API Key"}),s.jsx(le,{type:"text",value:jr.apiKey,onChange:Un=>F(Zs=>({...Zs,[Q.key]:{...jr,apiKey:Un.target.value}})),placeholder:" API Key",className:"bg-input border-border font-mono text-sm","data-testid":`input-${Q.key}-api-key`})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-muted-foreground",children:"Secret Key"}),s.jsx(le,{type:"password",value:jr.secretKey,onChange:Un=>F(Zs=>({...Zs,[Q.key]:{...jr,secretKey:Un.target.value}})),placeholder:" Secret Key",className:"bg-input border-border font-mono text-sm","data-testid":`input-${Q.key}-secret-key`})]}),Q.requiresPassphrase&&s.jsxs("div",{children:[s.jsx(te,{className:"text-muted-foreground",children:"Passphrase (  OKX)"}),s.jsx(le,{type:"password",value:jr.passphrase||"",onChange:Un=>F(Zs=>({...Zs,[Q.key]:{...jr,passphrase:Un.target.value}})),placeholder:" Passphrase",className:"bg-input border-border font-mono text-sm","data-testid":`input-${Q.key}-passphrase`})]}),s.jsxs(U,{className:"w-full",disabled:!jr.apiKey||!jr.secretKey||Q.requiresPassphrase&&!jr.passphrase||We.isPending,onClick:()=>We.mutate({exchange:Q.key,apiKey:jr.apiKey,secretKey:jr.secretKey,passphrase:jr.passphrase}),"data-testid":`button-save-${Q.key}-keys`,children:[We.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(Da,{className:"w-4 h-4 mr-2"})," ",Q.name," "]})]})]},Q.key)}),s.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-amber-500",children:[s.jsx(Kn,{className:"w-4 h-4 inline mr-2"}),",  API        (Withdraw)    .        ."]})})]})]})}),s.jsx(ct,{value:"instructions",className:"space-y-6",children:s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2 text-xl",children:[s.jsx(qx,{className:"h-6 w-6 text-blue-500"}),"    "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"    ,     "})]}),s.jsx(ne,{children:s.jsx(U3,{className:"h-[600px] pr-4",children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-emerald-500 flex items-center gap-2",children:[s.jsx(On,{className:"w-5 h-5"}),"1.   ()"]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-foreground",children:" :"}),"     ,      ."]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-foreground font-medium",children:"   :"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[s.jsxs("li",{children:["   ",s.jsx(ye,{className:"bg-yellow-500/20 text-yellow-500",children:""})]}),s.jsxs("li",{children:["  ",s.jsx(ye,{className:"bg-emerald-500/20 text-emerald-500",children:"+  "})]}),s.jsx("li",{children:"  (USDT TRC20, Bitcoin, Binance Pay, Bank Card)"}),s.jsx("li",{children:" , , / "}),s.jsx("li",{children:"  (% / .)"}),s.jsx("li",{children:"   "})]})]}),s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-blue-400",children:[s.jsx(Sl,{className:"w-4 h-4 inline mr-1"}),"     ,   .         ."]})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-yellow-500 flex items-center gap-2",children:[s.jsx(dr,{className:"w-5 h-5"}),"2.    ()"]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"  :"})}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:" "}),"      "]}),s.jsxs("li",{children:[s.jsx("strong",{children:""}),'       "  "']}),s.jsxs("li",{children:[s.jsx("strong",{children:"/"}),"    :",s.jsxs("ul",{className:"list-disc list-inside ml-4 mt-1",children:[s.jsxs("li",{children:[s.jsx("span",{className:"text-emerald-400",children:""}),"    ( )"]}),s.jsxs("li",{children:[s.jsx("span",{className:"text-red-400",children:""}),"    "]})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:""}),'        ""']})]}),s.jsx("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-emerald-400",children:[s.jsx(bt,{className:"w-4 h-4 inline mr-1"}),"             ."]})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-purple-500 flex items-center gap-2",children:[s.jsx(xF,{className:"w-5 h-5"}),"3.   ()"]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"    :"})}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[s.jsx("li",{children:"     "}),s.jsxs("li",{children:["  ",s.jsx(ye,{className:"bg-purple-500/20 text-purple-500",children:" "})]}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"  "})]}),s.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-amber-400",children:[s.jsx(Kn,{className:"w-4 h-4 inline mr-1"}),"         .       ."]})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-cyan-500 flex items-center gap-2",children:[s.jsx(Sn,{className:"w-5 h-5"}),"4.   ()"]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"   :"})}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[s.jsxs("li",{children:["   ",s.jsx(ye,{className:"bg-emerald-500/20 text-emerald-500",children:" "})]}),s.jsx("li",{children:"  "}),s.jsxs("li",{children:["  ",s.jsx(ye,{className:"bg-yellow-500/20 text-yellow-500",children:"$ "})]}),s.jsx("li",{children:"  "}),s.jsx("li",{children:'    (: "   ")'}),s.jsx("li",{children:" "})]}),s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-blue-400",children:[s.jsx(Sl,{className:"w-4 h-4 inline mr-1"}),'         "bonus".      .']})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-orange-500 flex items-center gap-2",children:[s.jsx(Da,{className:"w-5 h-5"}),"5. API   ()"]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"  :"})}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[s.jsxs("li",{children:["   ",s.jsx(ye,{className:"bg-orange-500/20 text-orange-500",children:"API  "})]}),s.jsx("li",{children:"  (Binance, Bybit, Kraken, Coinbase, EXMO, MEXC, OKX)"}),s.jsxs("li",{children:[" API      ",s.jsx("strong",{children:"  "})]}),s.jsx("li",{children:" API Key  Secret Key ( OKX  Passphrase)"}),s.jsx("li",{children:' ""'})]}),s.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-red-400",children:[s.jsx(Kn,{className:"w-4 h-4 inline mr-1"})," ",s.jsx("strong",{children:":"}),"  API       (Withdraw).      !"]})}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("p",{className:"text-foreground font-medium",children:"  API   :"}),s.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Binance:"}),"   API Management   API    Withdraw"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Bybit:"}),"   API      Withdraw Only"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"OKX:"}),"   API    + Passphrase   Withdraw"]})]})]})]})]}),s.jsx("div",{className:"border-t border-border pt-6 mt-6",children:s.jsxs("h2",{className:"text-xl font-bold text-blue-400 mb-4 flex items-center gap-2",children:[s.jsx(pn,{className:"w-6 h-6"}),"   (Publisher)"]})}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-emerald-500 flex items-center gap-2",children:[s.jsx(Qr,{className:"w-5 h-5"}),"6.   ()"]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"    :"})}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[s.jsxs("li",{children:["   ",s.jsx(ye,{className:"bg-emerald-500/20 text-emerald-500",children:""})]}),s.jsxs("li",{children:[" ",s.jsx(ye,{className:"bg-emerald-500/20 text-emerald-500",children:"+  "})]}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"   ( !)"}),s.jsx("li",{children:"    . "}),s.jsx("li",{children:" "})]}),s.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-amber-400",children:[s.jsx(Kn,{className:"w-4 h-4 inline mr-1"}),"    !        ."]})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-yellow-500 flex items-center gap-2",children:[s.jsx(dr,{className:"w-5 h-5"}),"7.    ()"]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"  :"})}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[s.jsx("li",{children:",      "}),s.jsx("li",{children:",     "}),s.jsxs("li",{children:["  ",s.jsx(ye,{className:"bg-yellow-500/20 text-yellow-500",children:" "})]}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"  (  )"}),s.jsx("li",{children:"  ()"}),s.jsx("li",{children:" "})]}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("p",{className:"text-foreground font-medium",children:" :"}),s.jsxs("ul",{className:"space-y-1 ml-2",children:[s.jsxs("li",{children:[s.jsx(ye,{className:"bg-yellow-500/20 text-yellow-500",children:"pending"}),"   "]}),s.jsxs("li",{children:[s.jsx(ye,{className:"bg-emerald-500/20 text-emerald-500",children:"approved"}),"  "]}),s.jsxs("li",{children:[s.jsx(ye,{className:"bg-blue-500/20 text-blue-500",children:"paid"}),"  "]}),s.jsxs("li",{children:[s.jsx(ye,{className:"bg-red-500/20 text-red-500",children:"rejected"}),"  "]})]})]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-muted-foreground flex items-center gap-2",children:[s.jsx(Yt,{className:"w-5 h-5"}),"8. Hold  ()"]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"  Hold:"})}),s.jsx("p",{children:"Hold    ,          ."}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("p",{className:"text-foreground font-medium",children:"  :"}),s.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[s.jsx("li",{children:"  Hold    (0-30 )"}),s.jsx("li",{children:'      "Hold"'}),s.jsx("li",{children:'  Hold     ""'}),s.jsx("li",{children:"    "})]})]}),s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-blue-400",children:[s.jsx(Sl,{className:"w-4 h-4 inline mr-1"})," Hold    .    ,      Hold ."]})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-red-500 flex items-center gap-2",children:[s.jsx(Kn,{className:"w-5 h-5"}),"9.  "]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4 text-sm text-muted-foreground",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"     ?"}),s.jsx("p",{className:"mt-1",children:": 1)     2)    3)     "})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"  ?"}),s.jsx("p",{className:"mt-1",children:"      1-3  .     ."})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:" ,   ?"}),s.jsx("p",{className:"mt-1",children:"     . ,       Hold."})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"    ?"}),s.jsx("p",{className:"mt-1",children:",         .         ."})]})]})]})]})})})]})})]}),s.jsx(Wt,{open:N,onOpenChange:A,children:s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsxs(Ut,{className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"w-5 h-5 text-yellow-500"})," "]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(le,{value:ae.find(Q=>Q.publisherId===T)?.publisherName||"",disabled:!0,className:"bg-input border-border"})]}),s.jsxs("div",{children:[s.jsx(te,{children:" "}),s.jsxs(ht,{value:S,onValueChange:E,children:[s.jsx(dt,{className:"bg-input border-border","data-testid":"select-bonus-method",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:H.map(Q=>s.jsxs(ke,{value:Q.id,children:[Q.methodName," (",Q.currency,")"]},Q.id))})]})]}),s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(le,{type:"number",step:"0.01",value:O,onChange:Q=>_(Q.target.value),placeholder:"100.00",className:"bg-input border-border","data-testid":"input-bonus-amount"})]}),s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(vi,{value:M,onChange:Q=>$(Q.target.value),placeholder:"  ...",className:"bg-input border-border","data-testid":"input-bonus-note"})]}),s.jsxs(U,{className:"w-full bg-yellow-600 hover:bg-yellow-700",disabled:!S||!O||zn.isPending,onClick:Rn,"data-testid":"button-send-bonus",children:[zn.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(dr,{className:"w-4 h-4 mr-2"})," "]})]})]})})]})}function rWe(){const{data:e,isLoading:t}=Ne({queryKey:["/api/admin/platform-stats"]}),{data:n=[],isLoading:r}=Ne({queryKey:["/api/admin/all-payout-requests"]});if(t)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-emerald-500"})});const a=e||{totalRevenue:0,totalPayouts:0,platformMargin:0,pendingPayouts:0,activeAdvertisers:0,activePublishers:0,avgROI:0},i=n.filter(c=>c.status==="pending"),o=n.filter(c=>c.status==="approved"),l=n.filter(c=>c.status==="paid");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-mono text-foreground mb-2","data-testid":"text-admin-finance-title",children:" "}),s.jsx("p",{className:"text-muted-foreground text-sm font-mono",children:"    "})]}),s.jsx(qu,{dataset:"finance-transactions",additionalDatasets:[{id:"finance-payouts",label:""}]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(J,{className:"bg-gradient-to-br from-emerald-500/20 to-emerald-600/10 border-emerald-500/20",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-emerald-400 text-xs font-mono uppercase",children:" "}),s.jsxs("p",{className:"text-2xl font-bold text-foreground mt-1",children:["$",a.totalRevenue.toLocaleString()]})]}),s.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-500/20 flex items-center justify-center",children:s.jsx(qr,{className:"w-6 h-6 text-emerald-400"})})]})})}),s.jsx(J,{className:"bg-gradient-to-br from-blue-500/20 to-blue-600/10 border-blue-500/20",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-400 text-xs font-mono uppercase",children:" "}),s.jsxs("p",{className:"text-2xl font-bold text-foreground mt-1",children:["$",a.totalPayouts.toLocaleString()]})]}),s.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center",children:s.jsx(pfe,{className:"w-6 h-6 text-blue-400"})})]})})}),s.jsx(J,{className:"bg-gradient-to-br from-yellow-500/20 to-yellow-600/10 border-yellow-500/20",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-400 text-xs font-mono uppercase",children:" "}),s.jsxs("p",{className:"text-2xl font-bold text-foreground mt-1",children:["$",a.platformMargin.toLocaleString()]})]}),s.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-500/20 flex items-center justify-center",children:s.jsx(Qr,{className:"w-6 h-6 text-yellow-400"})})]})})}),s.jsx(J,{className:"bg-gradient-to-br from-purple-500/20 to-purple-600/10 border-purple-500/20",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-400 text-xs font-mono uppercase",children:" "}),s.jsxs("p",{className:"text-2xl font-bold text-foreground mt-1",children:["$",a.pendingPayouts.toLocaleString()]})]}),s.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-500/20 flex items-center justify-center",children:s.jsx(Yt,{className:"w-6 h-6 text-purple-400"})})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pn,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground text-xs",children:" "}),s.jsx("p",{className:"text-xl font-bold text-foreground",children:a.activeAdvertisers})]})]})})}),s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pn,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground text-xs",children:" "}),s.jsx("p",{className:"text-xl font-bold text-foreground",children:a.activePublishers})]})]})})}),s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(LW,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground text-xs",children:" ROI"}),s.jsxs("p",{className:"text-xl font-bold text-foreground",children:[a.avgROI.toFixed(1),"%"]})]})]})})})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"text-foreground flex items-center gap-2",children:[s.jsx(On,{className:"w-5 h-5"}),"   ( )"]})}),s.jsxs(ne,{children:[s.jsxs("div",{className:"flex gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yt,{className:"w-4 h-4 text-yellow-400"}),s.jsxs("span",{className:"text-muted-foreground text-sm",children:[": ",i.length]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gn,{className:"w-4 h-4 text-emerald-400"}),s.jsxs("span",{className:"text-muted-foreground text-sm",children:[": ",o.length]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"w-4 h-4 text-blue-400"}),s.jsxs("span",{className:"text-muted-foreground text-sm",children:[": ",l.length]})]})]}),r?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-emerald-500"})}):n.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Qr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"   "})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-2 px-3 text-muted-foreground font-medium",children:""}),s.jsx("th",{className:"text-left py-2 px-3 text-muted-foreground font-medium",children:""}),s.jsx("th",{className:"text-left py-2 px-3 text-muted-foreground font-medium",children:""}),s.jsx("th",{className:"text-left py-2 px-3 text-muted-foreground font-medium",children:""}),s.jsx("th",{className:"text-left py-2 px-3 text-muted-foreground font-medium",children:""})]})}),s.jsx("tbody",{children:n.slice(0,20).map(c=>s.jsxs("tr",{className:"border-b border-white/5 hover:bg-muted",children:[s.jsx("td",{className:"py-2 px-3 text-muted-foreground font-mono text-xs",children:new Date(c.createdAt).toLocaleDateString("ru-RU")}),s.jsx("td",{className:"py-2 px-3 text-foreground",children:c.publisherName||"N/A"}),s.jsx("td",{className:"py-2 px-3 text-muted-foreground",children:c.advertiserName||"N/A"}),s.jsx("td",{className:"py-2 px-3 text-emerald-400 font-mono",children:Xe(c.requestedAmount)}),s.jsx("td",{className:"py-2 px-3",children:s.jsx(ye,{variant:c.status==="paid"?"default":c.status==="approved"?"secondary":c.status==="rejected"?"destructive":"outline",className:c.status==="paid"?"bg-emerald-500/20 text-emerald-400":c.status==="approved"?"bg-blue-500/20 text-blue-400":c.status==="rejected"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400",children:c.status==="paid"?"":c.status==="approved"?"":c.status==="rejected"?"":""})})]},c.id))})]})})]})]})]})}function wn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ql(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function sWe(e,t){const n=wn(e);return isNaN(t)?ql(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const voe=6048e5,aWe=864e5,Ub=43200,jK=1440;let iWe={};function Oy(){return iWe}function Au(e,t){const n=Oy(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=wn(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Lw(e){return Au(e,{weekStartsOn:1})}function boe(e){const t=wn(e),n=t.getFullYear(),r=ql(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=Lw(r),i=ql(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Lw(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function wK(e){const t=wn(e);return t.setHours(0,0,0,0),t}function $w(e){const t=wn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function oWe(e,t){const n=wK(e),r=wK(t),a=+n-$w(n),i=+r-$w(r);return Math.round((a-i)/aWe)}function lWe(e){const t=boe(e),n=ql(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Lw(n)}function m0(e,t){const n=wn(e),r=wn(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function cWe(e){return ql(e,Date.now())}function dWe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function uWe(e){if(!dWe(e)&&typeof e!="number")return!1;const t=wn(e);return!isNaN(Number(t))}function fWe(e,t){const n=wn(e),r=wn(t),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return a*12+i}function hWe(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function mWe(e,t){return+wn(e)-+wn(t)}function pWe(e){const t=wn(e);return t.setHours(23,59,59,999),t}function xWe(e){const t=wn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function gWe(e){const t=wn(e);return+pWe(t)==+xWe(t)}function yWe(e,t){const n=wn(e),r=wn(t),a=m0(n,r),i=Math.abs(fWe(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*i);let l=m0(n,r)===-a;gWe(wn(e))&&i===1&&m0(e,r)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function vWe(e,t,n){const r=mWe(e,t)/1e3;return hWe(n?.roundingMethod)(r)}function bWe(e){const t=wn(e),n=ql(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const jWe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wWe=(e,t,n)=>{let r;const a=jWe[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function uh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const NWe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},SWe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CWe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kWe={date:uh({formats:NWe,defaultWidth:"full"}),time:uh({formats:SWe,defaultWidth:"full"}),dateTime:uh({formats:CWe,defaultWidth:"full"})},TWe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},AWe=(e,t,n,r)=>TWe[e];function wo(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n?.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n?.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const EWe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},OWe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PWe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},MWe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_We={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},RWe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},DWe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},IWe={ordinalNumber:DWe,era:wo({values:EWe,defaultWidth:"wide"}),quarter:wo({values:OWe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wo({values:PWe,defaultWidth:"wide"}),day:wo({values:MWe,defaultWidth:"wide"}),dayPeriod:wo({values:_We,defaultWidth:"wide",formattingValues:RWe,defaultFormattingWidth:"wide"})};function No(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?$We(l,m=>m.test(o)):LWe(l,m=>m.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}function LWe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function $We(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function joe(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const FWe=/^(\d+)(th|st|nd|rd)?/i,BWe=/\d+/i,zWe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qWe={any:[/^b/i,/^(a|c)/i]},UWe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},VWe={any:[/1/i,/2/i,/3/i,/4/i]},HWe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},KWe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},WWe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},GWe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},YWe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},XWe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},QWe={ordinalNumber:joe({matchPattern:FWe,parsePattern:BWe,valueCallback:e=>parseInt(e,10)}),era:No({matchPatterns:zWe,defaultMatchWidth:"wide",parsePatterns:qWe,defaultParseWidth:"any"}),quarter:No({matchPatterns:UWe,defaultMatchWidth:"wide",parsePatterns:VWe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:No({matchPatterns:HWe,defaultMatchWidth:"wide",parsePatterns:KWe,defaultParseWidth:"any"}),day:No({matchPatterns:WWe,defaultMatchWidth:"wide",parsePatterns:GWe,defaultParseWidth:"any"}),dayPeriod:No({matchPatterns:YWe,defaultMatchWidth:"any",parsePatterns:XWe,defaultParseWidth:"any"})},woe={code:"en-US",formatDistance:wWe,formatLong:kWe,formatRelative:AWe,localize:IWe,match:QWe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function JWe(e){const t=wn(e);return oWe(t,bWe(t))+1}function ZWe(e){const t=wn(e),n=+Lw(t)-+lWe(t);return Math.round(n/voe)+1}function Noe(e,t){const n=wn(e),r=n.getFullYear(),a=Oy(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=ql(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=Au(o,t),c=ql(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Au(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function eGe(e,t){const n=Oy(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=Noe(e,t),i=ql(e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),Au(i,t)}function tGe(e,t){const n=wn(e),r=+Au(n,t)-+eGe(n,t);return Math.round(r/voe)+1}function mn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Nc={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return mn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):mn(n+1,2)},d(e,t){return mn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return mn(e.getHours()%12||12,t.length)},H(e,t){return mn(e.getHours(),t.length)},m(e,t){return mn(e.getMinutes(),t.length)},s(e,t){return mn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return mn(a,t.length)}},Lf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},NK={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Nc.y(e,t)},Y:function(e,t,n,r){const a=Noe(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return mn(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):mn(i,t.length)},R:function(e,t){const n=boe(e);return mn(n,t.length)},u:function(e,t){const n=e.getFullYear();return mn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return mn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return mn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Nc.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return mn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=tGe(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):mn(a,t.length)},I:function(e,t,n){const r=ZWe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):mn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Nc.d(e,t)},D:function(e,t,n){const r=JWe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):mn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return mn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return mn(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return mn(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Lf.noon:r===0?a=Lf.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Lf.evening:r>=12?a=Lf.afternoon:r>=4?a=Lf.morning:a=Lf.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Nc.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Nc.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):mn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):mn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Nc.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Nc.s(e,t)},S:function(e,t){return Nc.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return CK(r);case"XXXX":case"XX":return $d(r);case"XXXXX":case"XXX":default:return $d(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return CK(r);case"xxxx":case"xx":return $d(r);case"xxxxx":case"xxx":default:return $d(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+SK(r,":");case"OOOO":default:return"GMT"+$d(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+SK(r,":");case"zzzz":default:return"GMT"+$d(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return mn(r,t.length)},T:function(e,t,n){const r=e.getTime();return mn(r,t.length)}};function SK(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+mn(i,2)}function CK(e,t){return e%60===0?(e>0?"-":"+")+mn(Math.abs(e)/60,2):$d(e,t)}function $d(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=mn(Math.trunc(r/60),2),i=mn(r%60,2);return n+a+t+i}const kK=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Soe=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},nGe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return kK(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",kK(r,t)).replace("{{time}}",Soe(a,t))},rGe={p:Soe,P:nGe},sGe=/^D+$/,aGe=/^Y+$/,iGe=["D","DD","YY","YYYY"];function oGe(e){return sGe.test(e)}function lGe(e){return aGe.test(e)}function cGe(e,t,n){const r=dGe(e,t,n);if(console.warn(r),iGe.includes(e))throw new RangeError(r)}function dGe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const uGe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fGe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hGe=/^'([^]*?)'?$/,mGe=/''/g,pGe=/[a-zA-Z]/;function Eu(e,t,n){const r=Oy(),a=n?.locale??r.locale??woe,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=wn(e);if(!uWe(l))throw new RangeError("Invalid time value");let c=t.match(fGe).map(f=>{const m=f[0];if(m==="p"||m==="P"){const p=rGe[m];return p(f,a.formatLong)}return f}).join("").match(uGe).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const m=f[0];if(m==="'")return{isToken:!1,value:xGe(f)};if(NK[m])return{isToken:!0,value:f};if(m.match(pGe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:f}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(f=>{if(!f.isToken)return f.value;const m=f.value;(!n?.useAdditionalWeekYearTokens&&lGe(m)||!n?.useAdditionalDayOfYearTokens&&oGe(m))&&cGe(m,t,String(e));const p=NK[m[0]];return p(l,m,a.localize,u)}).join("")}function xGe(e){const t=e.match(hGe);return t?t[1].replace(mGe,"'"):e}function gGe(e,t,n){const r=Oy(),a=n?.locale??r.locale??woe,i=2520,o=m0(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:o});let c,u;o>0?(c=wn(t),u=wn(e)):(c=wn(e),u=wn(t));const f=vWe(u,c),m=($w(u)-$w(c))/1e3,p=Math.round((f-m)/60);let g;if(p<2)return n?.includeSeconds?f<5?a.formatDistance("lessThanXSeconds",5,l):f<10?a.formatDistance("lessThanXSeconds",10,l):f<20?a.formatDistance("lessThanXSeconds",20,l):f<40?a.formatDistance("halfAMinute",0,l):f<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):p===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",p,l);if(p<45)return a.formatDistance("xMinutes",p,l);if(p<90)return a.formatDistance("aboutXHours",1,l);if(p<jK){const v=Math.round(p/60);return a.formatDistance("aboutXHours",v,l)}else{if(p<i)return a.formatDistance("xDays",1,l);if(p<Ub){const v=Math.round(p/jK);return a.formatDistance("xDays",v,l)}else if(p<Ub*2)return g=Math.round(p/Ub),a.formatDistance("aboutXMonths",g,l)}if(g=yWe(u,c),g<12){const v=Math.round(p/Ub);return a.formatDistance("xMonths",v,l)}else{const v=g%12,y=Math.trunc(g/12);return v<3?a.formatDistance("aboutXYears",y,l):v<9?a.formatDistance("overXYears",y,l):a.formatDistance("almostXYears",y+1,l)}}function Py(e,t){return gGe(e,cWe(e),t)}function TK(e,t,n){const r=Au(e,n),a=Au(t,n);return+r==+a}function yGe(e,t){return sWe(e,-t)}function Yp(e,t){if(e.one!==void 0&&t===1)return e.one;const n=t%10,r=t%100;return n===1&&r!==11?e.singularNominative.replace("{{count}}",String(t)):n>=2&&n<=4&&(r<10||r>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function $s(e){return(t,n)=>n?.addSuffix?n.comparison&&n.comparison>0?e.future?Yp(e.future,t):" "+Yp(e.regular,t):e.past?Yp(e.past,t):Yp(e.regular,t)+" ":Yp(e.regular,t)}const vGe={lessThanXSeconds:$s({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xSeconds:$s({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),halfAMinute:(e,t)=>t?.addSuffix?t.comparison&&t.comparison>0?" ":" ":"",lessThanXMinutes:$s({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xMinutes:$s({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),aboutXHours:$s({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xHours:$s({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),xDays:$s({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXWeeks:$s({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xWeeks:$s({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXMonths:$s({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xMonths:$s({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXYears:$s({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xYears:$s({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),overXYears:$s({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),almostXYears:$s({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}})},bGe=(e,t,n)=>vGe[e](t,n),jGe={full:"EEEE, d MMMM y '.'",long:"d MMMM y '.'",medium:"d MMM y '.'",short:"dd.MM.y"},wGe={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},NGe={any:"{{date}}, {{time}}"},SGe={date:uh({formats:jGe,defaultWidth:"full"}),time:uh({formats:wGe,defaultWidth:"full"}),dateTime:uh({formats:NGe,defaultWidth:"any"})},V3=["","","","","","",""];function CGe(e){const t=V3[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}function AK(e){const t=V3[e];return e===2?"' "+t+" ' p":"' "+t+" ' p"}function kGe(e){const t=V3[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}const TGe={lastWeek:(e,t,n)=>{const r=e.getDay();return TK(e,t,n)?AK(r):CGe(r)},yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:(e,t,n)=>{const r=e.getDay();return TK(e,t,n)?AK(r):kGe(r)},other:"P"},AGe=(e,t,n,r)=>{const a=TGe[e];return typeof a=="function"?a(t,n,r):a},EGe={narrow:[" ..",".."],abbreviated:[" . .",". ."],wide:["  "," "]},OGe={narrow:["1","2","3","4"],abbreviated:["1- .","2- .","3- .","4- ."],wide:["1- ","2- ","3- ","4- "]},PGe={narrow:["","","","","","","","","","","",""],abbreviated:[".",".","",".","","","",".",".",".",".","."],wide:["","","","","","","","","","","",""]},MGe={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".","",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},_Ge={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},RGe={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},DGe={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},IGe=(e,t)=>{const n=Number(e),r=t?.unit;let a;return r==="date"?a="-":r==="week"||r==="minute"||r==="second"?a="-":a="-",n+a},LGe={ordinalNumber:IGe,era:wo({values:EGe,defaultWidth:"wide"}),quarter:wo({values:OGe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wo({values:PGe,defaultWidth:"wide",formattingValues:MGe,defaultFormattingWidth:"wide"}),day:wo({values:_Ge,defaultWidth:"wide"}),dayPeriod:wo({values:RGe,defaultWidth:"any",formattingValues:DGe,defaultFormattingWidth:"wide"})},$Ge=/^(\d+)(-?(||||||||||))?/i,FGe=/\d+/i,BGe={narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},zGe={any:[/^/i,/^/i]},qGe={narrow:/^[1234]/i,abbreviated:/^[1234](-?[]??)? .?/i,wide:/^[1234](-?[]??)? /i},UGe={any:[/1/i,/2/i,/3/i,/4/i]},VGe={narrow:/^[]/i,abbreviated:/^(||?||[]|[]?|[]?||?||?|)\.?/i,wide:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[]|[])/i},HGe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},KGe={narrow:/^[]/i,short:/^(|||||||||||)\.?/i,abbreviated:/^(||||||||||||).?/i,wide:/^([]|?|?|[]|?|[]|[])/i},WGe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^[]/i,/^[]/i,/^/i,/^/i,/^/i,/^[]/i,/^[]/i]},GGe={narrow:/^([]|\.?|\.?|[]|||\.?|[])/i,abbreviated:/^([]|\.?|\.?|[]|||\.?|[])/i,wide:/^([]|||[]|||?|[])/i},YGe={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^[]/i,evening:/^/i,night:/^/i}},XGe={ordinalNumber:joe({matchPattern:$Ge,parsePattern:FGe,valueCallback:e=>parseInt(e,10)}),era:No({matchPatterns:BGe,defaultMatchWidth:"wide",parsePatterns:zGe,defaultParseWidth:"any"}),quarter:No({matchPatterns:qGe,defaultMatchWidth:"wide",parsePatterns:UGe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:No({matchPatterns:VGe,defaultMatchWidth:"wide",parsePatterns:HGe,defaultParseWidth:"any"}),day:No({matchPatterns:KGe,defaultMatchWidth:"wide",parsePatterns:WGe,defaultParseWidth:"any"}),dayPeriod:No({matchPatterns:GGe,defaultMatchWidth:"wide",parsePatterns:YGe,defaultParseWidth:"any"})},Si={code:"ru",formatDistance:bGe,formatLong:SGe,formatRelative:AGe,localize:LGe,match:XGe,options:{weekStartsOn:1,firstWeekContainsDate:1}},EK={draft:{label:"",color:"bg-gray-500"},issued:{label:"",color:"bg-blue-500"},paid:{label:"",color:"bg-green-500"},cancelled:{label:"",color:"bg-red-500"}};function QGe(){const{data:e=[],isLoading:t}=Ne({queryKey:["/api/publisher/invoices"],queryFn:async()=>{const r=await fetch("/api/publisher/invoices",{credentials:"include"});if(!r.ok)throw new Error("Failed to fetch invoices");return r.json()}}),n=async(r,a)=>{try{const i=await fetch(`/api/invoices/${r}/pdf`,{credentials:"include"});if(!i.ok)throw new Error("Failed to download invoice");const o=await i.blob(),l=window.URL.createObjectURL(o),c=document.createElement("a");c.href=l,c.download=`${a||r}.pdf`,document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(l),document.body.removeChild(c)}catch(i){console.error("Failed to download invoice:",i)}};return t?s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"py-12 flex justify-center",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[s.jsx(gi,{className:"w-5 h-5 text-blue-400"}),""]})}),s.jsx(ne,{children:e.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(gi,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),s.jsx("p",{children:"    "}),s.jsx("p",{className:"text-sm mt-1",children:"     "})]}):s.jsx("div",{className:"space-y-4",children:e.map(r=>{const a=EK[r.status]||EK.draft;return s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border border-border flex items-center justify-between","data-testid":`invoice-${r.id}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:s.jsx(gi,{className:"w-5 h-5 text-blue-400"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:r.shortId||`INV-${r.id.substring(0,8)}`}),s.jsx(ye,{className:`${a.color} text-white text-xs`,children:a.label})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground mt-1",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Vw,{className:"w-3 h-3"}),Eu(new Date(r.periodStart),"dd.MM.yy",{locale:Si})," - ",Eu(new Date(r.periodEnd),"dd.MM.yy",{locale:Si})]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Sn,{className:"w-3 h-3"}),parseFloat(r.totalAmount).toLocaleString()," ",r.currency]})]})]})]}),s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>n(r.id,r.shortId),className:"gap-2","data-testid":`download-invoice-${r.id}`,children:[s.jsx(Wi,{className:"w-4 h-4"}),"PDF"]})]},r.id)})})})]})}const OK={crypto_usdt_trc20:{icon:fi,color:"text-green-500"},crypto_usdt_erc20:{icon:fi,color:"text-blue-400"},crypto_usdt_bep20:{icon:fi,color:"text-yellow-400"},crypto_btc:{icon:fi,color:"text-orange-500"},crypto_eth:{icon:fi,color:"text-purple-400"},crypto_ltc:{icon:fi,color:"text-muted-foreground"},bank_card:{icon:On,color:"text-blue-500"},bank_transfer:{icon:On,color:"text-cyan-500"},binance:{icon:er,color:"text-yellow-500"},bybit:{icon:er,color:"text-purple-500"},kraken:{icon:er,color:"text-blue-500"},coinbase:{icon:er,color:"text-blue-400"},exmo:{icon:er,color:"text-cyan-500"},mexc:{icon:er,color:"text-teal-500"},okx:{icon:er,color:"text-muted-foreground"},paypal:{icon:On,color:"text-blue-600"},webmoney:{icon:On,color:"text-blue-500"},capitalist:{icon:On,color:"text-red-500"},qiwi:{icon:On,color:"text-orange-400"},skrill:{icon:On,color:"text-purple-600"}};function JGe(){const{t:e}=as(),{toast:t}=Dt(),n=rt(),{selectedAdvertiserId:r,selectedAdvertiser:a}=Vl(),[i,o]=j.useState(!1),[l,c]=j.useState(!1),[u,f]=j.useState(""),[m,p]=j.useState(""),[g,v]=j.useState(""),{data:y}=Ne({queryKey:["/api/publisher/balance",r],enabled:!!r}),{data:w=[]}=Ne({queryKey:["/api/publisher/wallets",r],enabled:!!r}),{data:N=[]}=Ne({queryKey:["/api/publisher/advertiser-payment-methods",r],enabled:!!r}),{data:A=[]}=Ne({queryKey:["/api/publisher/payout-requests",r],enabled:!!r}),{data:T=[]}=Ne({queryKey:["/api/publisher/payouts",r],enabled:!!r}),C=ve({mutationFn:I=>Be("POST","/api/publisher/wallets",I),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/publisher/wallets",r]}),o(!1),t({title:" "})},onError:I=>{t({title:"",description:I.message,variant:"destructive"})}}),S=ve({mutationFn:I=>Be("DELETE",`/api/publisher/wallets/${I}`),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/publisher/wallets",r]}),t({title:" "})},onError:I=>{t({title:"",description:I.message,variant:"destructive"})}}),E=ve({mutationFn:I=>Be("POST","/api/publisher/payout-requests",I),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/publisher/payout-requests",r]}),n.invalidateQueries({queryKey:["/api/publisher/balance",r]}),c(!1),f(""),p(""),v(""),t({title:"   "})},onError:I=>{t({title:"",description:I.message,variant:"destructive"})}}),O=I=>{I.preventDefault();const F=I.currentTarget,K=new FormData(F);C.mutate({advertiserId:r,paymentMethodId:K.get("paymentMethodId"),walletAddress:K.get("walletAddress"),accountName:K.get("accountName")||null,additionalInfo:K.get("additionalInfo")||null})},_=()=>{!g||!u||E.mutate({advertiserId:r,walletId:g,requestedAmount:u,publisherNote:m||null})},M=y?.available||0,$=y?.pending||0,z=y?.hold||0,V=y?.totalPaid||0;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:""}),s.jsxs("p",{className:"text-muted-foreground text-sm",children:["     ",a&&s.jsxs("span",{className:"ml-2 text-blue-400",children:[" ",a.username]})]})]}),s.jsx(qu,{dataset:"publisher-payouts"})]}),r?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(J,{className:"bg-card border-border","data-testid":"card-available-balance",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center",children:s.jsx(Sn,{className:"w-5 h-5 text-emerald-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"  "}),s.jsx("p",{className:"text-xl font-bold text-emerald-500","data-testid":"text-available-balance",children:Xe(M)})]})]})})}),s.jsx(J,{className:"bg-card border-border","data-testid":"card-pending-balance",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:s.jsx(Yt,{className:"w-5 h-5 text-yellow-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:" "}),s.jsx("p",{className:"text-xl font-bold text-yellow-500","data-testid":"text-pending-balance",children:Xe($)})]})]})})}),s.jsx(J,{className:"bg-card border-border","data-testid":"card-hold-balance",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center",children:s.jsx(Kn,{className:"w-5 h-5 text-red-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:" "}),s.jsx("p",{className:"text-xl font-bold text-red-400","data-testid":"text-hold-balance",children:Xe(z)})]})]})})}),s.jsx(J,{className:"bg-card border-border","data-testid":"card-total-paid",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:s.jsx(bt,{className:"w-5 h-5 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:" "}),s.jsx("p",{className:"text-xl font-bold text-foreground","data-testid":"text-total-paid",children:Xe(V)})]})]})})})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(Wt,{open:l,onOpenChange:c,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{className:"bg-emerald-600 hover:bg-emerald-700",disabled:M<=0||w.length===0,"data-testid":"button-request-payout",children:[s.jsx(dr,{className:"w-4 h-4 mr-2"})," "]})}),s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsx(Ut,{children:"  "})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-emerald-500/10 rounded-lg border border-emerald-500/20",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"  "}),s.jsx("p",{className:"text-2xl font-bold text-emerald-500",children:Xe(M)})]}),s.jsxs("div",{children:[s.jsx(te,{children:"  "}),s.jsxs(ht,{value:g,onValueChange:v,children:[s.jsx(dt,{className:"bg-input border-border",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:w.map(I=>{const F=N.find(K=>K.id===I.paymentMethodId);return s.jsx(ke,{value:I.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:F?.methodName||"Wallet"}),s.jsxs("span",{className:"text-muted-foreground text-xs",children:[I.walletAddress.slice(0,10),"..."]})]})},I.id)})})]})]}),s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(le,{type:"number",value:u,onChange:I=>f(I.target.value),max:M,step:"0.01",className:"bg-input border-border",placeholder:"100.00","data-testid":"input-request-amount"}),s.jsx(U,{variant:"link",className:"text-xs text-emerald-500 p-0 h-auto",onClick:()=>f(M.toString()),"data-testid":"button-withdraw-all",children:" "})]}),s.jsxs("div",{children:[s.jsx(te,{children:" ()"}),s.jsx(vi,{value:m,onChange:I=>p(I.target.value),className:"bg-input border-border",placeholder:" ..."})]}),s.jsx(U,{onClick:_,className:"w-full bg-emerald-600 hover:bg-emerald-700",disabled:!g||!u||parseFloat(u)<=0||parseFloat(u)>M||E.isPending,children:E.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin"}):" "})]})]})]}),w.length===0&&s.jsxs("p",{className:"text-sm text-yellow-500 flex items-center gap-2",children:[s.jsx(Kn,{className:"w-4 h-4"}),"     "]})]}),s.jsxs(uo,{defaultValue:"wallets",className:"space-y-4",children:[s.jsxs(ki,{className:"bg-card border border-border gap-2 p-1",children:[s.jsxs(lt,{value:"wallets","data-testid":"tab-wallets",className:"px-4 py-2 data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:[s.jsx(Qr,{className:"w-4 h-4 mr-2 text-blue-400"})," "]}),s.jsxs(lt,{value:"requests","data-testid":"tab-requests",className:"px-4 py-2 data-[state=active]:bg-yellow-500 data-[state=active]:text-black",children:[s.jsx(Yt,{className:"w-4 h-4 mr-2 text-yellow-400"}),"",A.filter(I=>I.status==="pending").length>0&&s.jsx(ye,{className:"ml-2 bg-yellow-600 text-black",children:A.filter(I=>I.status==="pending").length})]}),s.jsxs(lt,{value:"history","data-testid":"tab-history",className:"px-4 py-2 data-[state=active]:bg-purple-500 data-[state=active]:text-white",children:[s.jsx(Kb,{className:"w-4 h-4 mr-2 text-purple-400"}),""]}),s.jsxs(lt,{value:"invoices","data-testid":"tab-invoices",className:"px-4 py-2 data-[state=active]:bg-green-500 data-[state=active]:text-white",children:[s.jsx(gi,{className:"w-4 h-4 mr-2 text-green-400"}),""]}),s.jsxs(lt,{value:"instructions","data-testid":"tab-instructions",className:"px-4 py-2 data-[state=active]:bg-cyan-500 data-[state=active]:text-white",children:[s.jsx(qx,{className:"w-4 h-4 mr-2 text-cyan-400"}),""]})]}),s.jsxs(ct,{value:"wallets",className:"space-y-4",children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs(Wt,{open:i,onOpenChange:o,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{className:"bg-blue-600 hover:bg-blue-700",disabled:N.length===0,"data-testid":"button-add-wallet",children:[s.jsx(fr,{className:"w-4 h-4 mr-2"})," "]})}),s.jsxs(zt,{className:"bg-card border-border",children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("form",{onSubmit:O,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:" "}),s.jsxs(ht,{name:"paymentMethodId",required:!0,children:[s.jsx(dt,{className:"bg-input border-border",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:N.map(I=>{const F=OK[I.methodType]||{icon:Qr,color:"text-muted-foreground"},K=F.icon;return s.jsx(ke,{value:I.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(K,{className:`w-4 h-4 ${F.color}`}),I.methodName," (",I.currency,")"]})},I.id)})})]})]}),s.jsxs("div",{children:[s.jsx(te,{children:"  /  "}),s.jsx(le,{name:"walletAddress",required:!0,className:"bg-input border-border",placeholder:"TRC20 ,    .."})]}),s.jsxs("div",{children:[s.jsx(te,{children:"  ()"}),s.jsx(le,{name:"accountName",className:"bg-input border-border",placeholder:"   / UID"})]}),s.jsxs("div",{children:[s.jsx(te,{children:" "}),s.jsx(vi,{name:"additionalInfo",className:"bg-input border-border",placeholder:",   .."})]}),s.jsx(U,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:C.isPending,children:C.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin"}):""})]})]})]})}),N.length===0?s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(Kn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"    "})]})}):w.length===0?s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(Qr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"    "})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(I=>{const F=N.find(B=>B.id===I.paymentMethodId),K=OK[F?.methodType]||{icon:Qr,color:"text-muted-foreground"},R=K.icon;return s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/10 flex items-center justify-center",children:s.jsx(R,{className:`w-5 h-5 ${K.color}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:F?.methodName}),s.jsx("p",{className:"text-xs text-muted-foreground",children:F?.currency})]})]}),s.jsx(U,{size:"icon",variant:"ghost",className:"h-8 w-8 text-muted-foreground hover:text-red-500",onClick:()=>S.mutate(I.id),"data-testid":`button-delete-wallet-${I.id}`,children:s.jsx(Os,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground text-xs",children:""}),s.jsx("p",{className:"text-foreground font-mono text-xs break-all",children:I.walletAddress})]}),I.accountName&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground text-xs",children:""}),s.jsx("p",{className:"text-foreground",children:I.accountName})]}),F?.minPayout&&s.jsx("div",{className:"pt-2 border-t border-white/5",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:[". : ",s.jsx("span",{className:"text-foreground",children:Xe(F.minPayout,F.currency)})]})})]})]})},I.id)})})]}),s.jsx(ct,{value:"requests",className:"space-y-4",children:A.length===0?s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(Yt,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"   "})]})}):s.jsx("div",{className:"space-y-3",children:A.map(I=>{w.find(K=>K.id===I.walletId);const F=N.find(K=>K.id===I.paymentMethodId);return s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${I.status==="pending"?"bg-yellow-500/20":I.status==="approved"?"bg-blue-500/20":I.status==="paid"?"bg-emerald-500/20":"bg-red-500/20"}`,children:[I.status==="pending"&&s.jsx(Yt,{className:"w-5 h-5 text-yellow-500"}),I.status==="approved"&&s.jsx(bt,{className:"w-5 h-5 text-blue-500"}),I.status==="paid"&&s.jsx(bt,{className:"w-5 h-5 text-emerald-500"}),I.status==="rejected"&&s.jsx(Xn,{className:"w-5 h-5 text-red-500"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-foreground font-mono",children:[Xe(I.requestedAmount,I.currency),I.approvedAmount&&I.approvedAmount!==I.requestedAmount&&s.jsxs("span",{className:"text-muted-foreground text-sm ml-2",children:["(: ",Xe(I.approvedAmount,I.currency),")"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[F?.methodName," "," ",new Date(I.createdAt).toLocaleDateString()]})]})]}),s.jsxs(ye,{className:I.status==="pending"?"bg-yellow-500/20 text-yellow-500":I.status==="approved"?"bg-blue-500/20 text-blue-500":I.status==="paid"?"bg-emerald-500/20 text-emerald-500":"bg-red-500/20 text-red-500",children:[I.status==="pending"&&" ",I.status==="approved"&&"",I.status==="paid"&&"",I.status==="rejected"&&""]})]}),I.rejectionReason&&s.jsx("div",{className:"mt-3 p-3 bg-red-500/10 rounded border border-red-500/20",children:s.jsxs("p",{className:"text-sm text-red-400",children:[s.jsx("strong",{children:" :"})," ",I.rejectionReason]})})]})},I.id)})})}),s.jsx(ct,{value:"history",className:"space-y-4",children:T.length===0?s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(Kb,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"  "})]})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border text-muted-foreground",children:[s.jsx("th",{className:"text-left py-3 px-4",children:""}),s.jsx("th",{className:"text-left py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:""}),s.jsx("th",{className:"text-right py-3 px-4",children:""}),s.jsx("th",{className:"text-left py-3 px-4",children:""})]})}),s.jsx("tbody",{children:T.map(I=>{const F=N.find(K=>K.id===I.paymentMethodId);return s.jsxs("tr",{className:"border-b border-white/5 hover:bg-muted",children:[s.jsx("td",{className:"py-3 px-4 text-muted-foreground font-mono text-xs",children:new Date(I.createdAt).toLocaleDateString()}),s.jsx("td",{className:"py-3 px-4 text-foreground",children:F?.methodName||I.currency}),s.jsx("td",{className:"text-right py-3 px-4 font-mono text-foreground",children:Xe(I.amount,I.currency)}),s.jsxs("td",{className:"text-right py-3 px-4 font-mono text-red-400",children:["-",Xe(I.feeAmount,I.currency)]}),s.jsx("td",{className:"text-right py-3 px-4 font-mono text-emerald-500 font-bold",children:Xe(I.netAmount,I.currency)}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(ye,{className:"bg-emerald-500/20 text-emerald-500",children:I.status})})]},I.id)})})]})})}),s.jsx(ct,{value:"invoices",children:s.jsx(QGe,{})}),s.jsx(ct,{value:"instructions",className:"space-y-6",children:s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2 text-xl",children:[s.jsx(qx,{className:"h-6 w-6 text-cyan-500"}),"  "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"   ,   "})]}),s.jsx(ne,{children:s.jsx(U3,{className:"h-[500px] pr-4",children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-blue-500 flex items-center gap-2",children:[s.jsx(Qr,{className:"w-5 h-5"}),"1.  "]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-foreground",children:"  :"}),"   ,         ."]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-foreground font-medium",children:"  :"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[s.jsxs("li",{children:["  ",s.jsx(ye,{className:"bg-blue-500/20 text-blue-500",children:"+  "})]}),s.jsx("li",{children:"     "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"   ( )"}),s.jsx("li",{children:"    "}),s.jsx("li",{children:" "})]})]}),s.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-amber-400",children:[s.jsx(Kn,{className:"w-4 h-4 inline mr-1"})," ",s.jsx("strong",{children:":"}),"    !      ."]})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-emerald-500 flex items-center gap-2",children:[s.jsx(Sn,{className:"w-5 h-5"}),"2.  "]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:" :"})}),s.jsxs("ul",{className:"space-y-2 ml-2",children:[s.jsxs("li",{children:[s.jsx(ye,{className:"bg-emerald-500/20 text-emerald-500",children:""}),"  ,     "]}),s.jsxs("li",{children:[s.jsx(ye,{className:"bg-yellow-500/20 text-yellow-500",children:" "}),"      ( )"]}),s.jsxs("li",{children:[s.jsx(ye,{className:"bg-muted text-muted-foreground",children:" "}),"      Hold"]})]}),s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-blue-400",children:[s.jsx(Sl,{className:"w-4 h-4 inline mr-1"}),"           Hold ."]})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-yellow-500 flex items-center gap-2",children:[s.jsx(dr,{className:"w-5 h-5"}),"3.   "]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"  :"})}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[s.jsxs("li",{children:[",     ",s.jsx("strong",{children:" "})]}),s.jsx("li",{children:",   "}),s.jsxs("li",{children:[" ",s.jsx(ye,{className:"bg-yellow-500/20 text-yellow-500",children:" "})]}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"  (  )"}),s.jsx("li",{children:"  ()"}),s.jsx("li",{children:" "})]}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("p",{className:"text-foreground font-medium",children:" :"}),s.jsxs("ul",{className:"space-y-1 ml-2",children:[s.jsxs("li",{children:[s.jsx(ye,{className:"bg-yellow-500/20 text-yellow-500",children:"pending"}),"    "]}),s.jsxs("li",{children:[s.jsx(ye,{className:"bg-emerald-500/20 text-emerald-500",children:"approved"}),"  ,  "]}),s.jsxs("li",{children:[s.jsx(ye,{className:"bg-blue-500/20 text-blue-500",children:"paid"}),"  ,   "]}),s.jsxs("li",{children:[s.jsx(ye,{className:"bg-red-500/20 text-red-500",children:"rejected"}),"   ( )"]})]})]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-muted-foreground flex items-center gap-2",children:[s.jsx(Yt,{className:"w-5 h-5"}),"4. Hold "]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"  Hold:"})}),s.jsx("p",{children:"Hold       .        ."}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("p",{className:"text-foreground font-medium",children:"  :"}),s.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[s.jsx("li",{children:"    Hold  (0-30 )"}),s.jsx("li",{children:'     " "'}),s.jsx("li",{children:'  Hold     ""'}),s.jsx("li",{children:"      "})]})]}),s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-blue-400",children:[s.jsx(Sl,{className:"w-4 h-4 inline mr-1"})," Hold     .    ,   ."]})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-purple-500 flex items-center gap-2",children:[s.jsx(Kb,{className:"w-5 h-5"}),"5.  "]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3 text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{className:"text-foreground",children:"   :"})}),s.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[s.jsx("li",{children:" "}),s.jsx("li",{children:" "}),s.jsx("li",{children:"  "}),s.jsx("li",{children:" "}),s.jsx("li",{children:"  (  )"}),s.jsx("li",{children:" "})]}),s.jsx("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded p-3 mt-2",children:s.jsxs("p",{className:"text-emerald-400",children:[s.jsx(bt,{className:"w-4 h-4 inline mr-1"}),"       ."]})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-red-500 flex items-center gap-2",children:[s.jsx(Kn,{className:"w-5 h-5"}),"6.  "]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4 text-sm text-muted-foreground",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"     ?"}),s.jsx("p",{className:"mt-1",children:": 1)     2)    3)    "})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"  ?"}),s.jsx("p",{className:"mt-1",children:" 1-3  .       ."})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"  .  ?"}),s.jsx("p",{className:"mt-1",children:"     .     Hold   ."})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"    ?"}),s.jsx("p",{className:"mt-1",children:"    .   Hold  ."})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-foreground font-medium",children:"    ?"}),s.jsx("p",{className:"mt-1",children:"         ."})]})]})]})]})})})]})})]})]}):s.jsx(J,{className:"bg-card border-border",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(Kn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"  "}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"      "})]})})]})}const ZGe={click:t_,offer:Ro,landing:ZM,geo:jn,cap:Ui,fraud:Fn},Coe={click:" ",offer:" ",landing:" ",geo:" GEO",cap:" ",fraud:" ",redirect:""};function koe({stages:e,className:t}){return s.jsx("div",{className:Re("space-y-4",t),"data-testid":"click-flow-timeline",children:e.map((n,r)=>{const a=ZGe[n.id]||Gn,i=Coe[n.id]||n.name;return s.jsxs("div",{className:"relative flex items-start gap-3","data-testid":`click-flow-stage-${n.id}`,children:[r<e.length-1&&s.jsx("div",{className:Re("absolute left-[15px] top-[32px] w-0.5 h-[calc(100%+8px)]",n.status==="passed"?"bg-green-500/30":n.status==="failed"?"bg-red-500/30":"bg-muted")}),s.jsxs("div",{className:Re("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",n.status==="passed"&&"bg-green-500/10 text-green-500",n.status==="failed"&&"bg-red-500/10 text-red-500",n.status==="pending"&&"bg-muted text-muted-foreground",n.status==="skipped"&&"bg-muted/50 text-muted-foreground/50"),children:[n.status==="passed"&&s.jsx(Gn,{className:"w-4 h-4"}),n.status==="failed"&&s.jsx(ts,{className:"w-4 h-4"}),n.status==="pending"&&s.jsx(Yt,{className:"w-4 h-4"}),n.status==="skipped"&&s.jsx(a,{className:"w-4 h-4 opacity-50"})]}),s.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:Re("text-sm font-medium",n.status==="passed"&&"text-foreground",n.status==="failed"&&"text-red-500",n.status==="pending"&&"text-muted-foreground",n.status==="skipped"&&"text-muted-foreground/50"),"data-testid":`click-flow-stage-label-${n.id}`,children:i}),n.timestamp&&s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(n.timestamp).toLocaleTimeString()})]}),n.details&&s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate","data-testid":`click-flow-stage-details-${n.id}`,children:n.details})]})]},n.id)})})}function Toe(e){const t=e.checkStage||"",n=["click","offer","landing","geo","cap","fraud","redirect"],r=n.indexOf(t),a=(o,l)=>e.status==="processed"?"passed":e.status==="rejected"?l<r?"passed":l===r?"failed":"skipped":o==="click"||e.resolvedOfferId&&o==="offer"||e.resolvedLandingId&&o==="landing"||e.clickId?"passed":"pending",i=o=>{switch(o){case"click":return e.geo?`GEO: ${e.geo}`:void 0;case"offer":return e.resolvedOfferId||void 0;case"landing":return e.resolvedLandingId||void 0;case"fraud":if(e.rejectReason==="fraud_block")return" -";break;case"geo":if(e.rejectReason==="geo_mismatch")return"GEO  ";break;case"cap":if(e.rejectReason==="cap_reached")return" ";break}};return n.map((o,l)=>({id:o,name:Coe[o]||o,status:a(o,l),details:i(o)}))}function eYe(){const e=rt(),[t,n]=j.useState(""),[r,a]=j.useState("GET"),[i,o]=j.useState(""),[l,c]=j.useState("GET"),[u,f]=j.useState(""),[m,p]=j.useState(null),[g,v]=j.useState(!1),[y,w]=j.useState(new Set),[N,A]=j.useState(!1),{data:T,isLoading:C}=Ne({queryKey:["/api/advertiser/postbacks"]});j.useEffect(()=>{T?.globalSettings&&!N&&(n(T.globalSettings.leadPostbackUrl||""),a(T.globalSettings.leadPostbackMethod||"GET"),o(T.globalSettings.salePostbackUrl||""),c(T.globalSettings.salePostbackMethod||"GET"),A(!0))},[T,N]);const{data:S}=Ne({queryKey:["/api/advertiser/offers"]}),E=ve({mutationFn:async L=>{const q=await fetch("/api/advertiser/postbacks/global",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(L)});if(!q.ok)throw new Error("Failed to update");return q.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/advertiser/postbacks"]}),Rt.success(" ")},onError:()=>{Rt.error(" ")}});ve({mutationFn:async({offerId:L,...q})=>{const se=await fetch(`/api/advertiser/postbacks/offer/${L}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(q)});if(!se.ok)throw new Error("Failed to update");return se.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/advertiser/postbacks"]}),Rt.success("  ")}});const O=async()=>{if(u){v(!0),p(null);try{const q=await(await fetch("/api/postback-test",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({url:u,method:"GET"})})).json();p(q)}catch{p({success:!1,error:"Network error"})}finally{v(!1)}}},_=window.location.host,[M,$]=j.useState("outgoing"),[z,V]=j.useState(0),[I,F]=j.useState(new Set),K=L=>{F(q=>{const se=new Set(q);return se.has(L)?se.delete(L):se.add(L),se})},{data:R,isLoading:B}=Ne({queryKey:["/api/advertiser/raw-clicks",z],queryFn:async()=>{const L=await fetch(`/api/advertiser/raw-clicks?limit=50&offset=${z*50}`,{credentials:"include"});if(!L.ok)throw new Error("Failed to fetch");return L.json()},enabled:M==="incoming"});return C?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-blue-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-mono text-foreground mb-2","data-testid":"text-postbacks-title",children:""}),s.jsx("p",{className:"text-muted-foreground text-sm font-mono",children:"    "})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(qu,{dataset:"postback-logs"}),s.jsx(jn,{className:"w-8 h-8 text-blue-400"})]})]}),s.jsxs(uo,{value:M,onValueChange:$,className:"w-full",children:[s.jsxs(ki,{className:"bg-muted mb-4",children:[s.jsxs(lt,{value:"outgoing",className:"data-[state=active]:bg-blue-500/20 data-[state=active]:text-blue-400","data-testid":"tab-outgoing",children:[s.jsx(g0,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(lt,{value:"incoming",className:"data-[state=active]:bg-amber-500/20 data-[state=active]:text-amber-400","data-testid":"tab-incoming",children:[s.jsx(fh,{className:"w-4 h-4 mr-2"})," "]})]}),s.jsxs(ct,{value:"outgoing",className:"space-y-6",children:[s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(fh,{className:"w-5 h-5 text-green-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"  ( )"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  URL      "})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs",children:[s.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded p-3",children:[s.jsx("h4",{className:"font-semibold text-blue-400 mb-2",children:" :"}),s.jsx("code",{className:"text-muted-foreground",children:"click_id, clickid, subid, tid, sub1, cid"}),s.jsx("br",{}),s.jsx("code",{className:"text-muted-foreground",children:"payout, sum, revenue, amount"})]}),s.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded p-3",children:[s.jsx("h4",{className:"font-semibold text-amber-400 mb-2",children:" ( ):"}),s.jsx("code",{className:"text-muted-foreground",children:"status=lead ()"}),s.jsx("br",{}),s.jsx("code",{className:"text-muted-foreground",children:"status=sale (/)"})]})]}),s.jsx("div",{className:"mt-4 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded",children:[s.jsx("h4",{className:"font-semibold text-red-400 mb-2 flex items-center gap-2",children:s.jsx("span",{children:"Keitaro (    )"})}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"   PrimeTrack  :"}),s.jsx("div",{className:"space-y-1 font-mono text-xs",children:s.jsxs("div",{className:"text-muted-foreground break-all",children:["https://",_,"/api/postback?click_id=","{_click_id}","&status=","{status}","&payout=","{payout}"]})}),s.jsxs("p",{className:"text-[10px] text-amber-400 mt-2",children:[s.jsx("code",{className:"bg-muted px-1 rounded",children:"{_click_id}"}),"    ( ).          URL ."]})]}),s.jsxs("div",{className:"p-3 bg-purple-500/10 border border-purple-500/20 rounded",children:[s.jsx("h4",{className:"font-semibold text-purple-400 mb-2 flex items-center gap-2",children:s.jsx("span",{children:"Binom (    )"})}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"    :"}),s.jsx("div",{className:"space-y-1 font-mono text-xs",children:s.jsxs("div",{className:"text-muted-foreground break-all",children:["https://",_,"/api/postback?click_id=","{clickid}","&status=","{status}","&payout=","{payout}"]})}),s.jsxs("p",{className:"text-[10px] text-muted-foreground mt-2",children:[s.jsx("code",{className:"bg-muted px-1 rounded",children:"{clickid}"}),"    Binom  ID "]})]})]})})]}),s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(g0,{className:"w-5 h-5 text-blue-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"  (  )"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"URL       "})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-4",children:[s.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500/20 flex items-center justify-center",children:s.jsx("span",{className:"text-emerald-400 font-bold text-xs",children:"REG"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Lead / "}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"  "})]})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground font-mono mb-2 block",children:"Postback URL"}),s.jsx(le,{placeholder:"https://your-system.com/postback?click_id={click_id}&status=lead",value:t,onChange:L=>n(L.target.value),className:"bg-muted border-border text-foreground font-mono text-sm","data-testid":"input-lead-postback-url"})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground font-mono mb-2 block",children:""}),s.jsxs(ht,{value:r,onValueChange:a,children:[s.jsx(dt,{className:"bg-muted border-border text-foreground","data-testid":"select-lead-method",children:s.jsx(mt,{})}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"GET",children:"GET"}),s.jsx(ke,{value:"POST",children:"POST"})]})]})]})]}),s.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/20 flex items-center justify-center",children:s.jsx("span",{className:"text-blue-400 font-bold text-xs",children:"FTD"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Sale / "}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"  "})]})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground font-mono mb-2 block",children:"Postback URL"}),s.jsx(le,{placeholder:"https://your-system.com/postback?click_id={click_id}&status=sale",value:i,onChange:L=>o(L.target.value),className:"bg-muted border-border text-foreground font-mono text-sm","data-testid":"input-sale-postback-url"})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground font-mono mb-2 block",children:""}),s.jsxs(ht,{value:l,onValueChange:c,children:[s.jsx(dt,{className:"bg-muted border-border text-foreground","data-testid":"select-sale-method",children:s.jsx(mt,{})}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"GET",children:"GET"}),s.jsx(ke,{value:"POST",children:"POST"})]})]})]})]})]}),s.jsxs(U,{onClick:()=>E.mutate({leadPostbackUrl:t||null,leadPostbackMethod:r,salePostbackUrl:i||null,salePostbackMethod:l}),disabled:E.isPending,className:"bg-blue-600 hover:bg-blue-700","data-testid":"button-save-global",children:[E.isPending?s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Es,{className:"w-4 h-4 mr-2"}),""]})]}),s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:" "}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx(le,{placeholder:"https://your-tracker.com/postback?click_id=test123",value:u,onChange:L=>f(L.target.value),className:"bg-muted border-border text-foreground font-mono text-sm flex-1","data-testid":"input-test-url"}),s.jsx(U,{onClick:O,disabled:g||!u,variant:"outline",className:"border-border","data-testid":"button-test-postback",children:g?s.jsx(we,{className:"w-4 h-4 animate-spin"}):s.jsx(Kc,{className:"w-4 h-4"})})]}),m&&s.jsxs("div",{className:`p-3 rounded border ${m.success?"bg-emerald-500/10 border-emerald-500/30":"bg-red-500/10 border-red-500/30"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.success?s.jsx(Gn,{className:"w-4 h-4 text-emerald-400"}):s.jsx(ts,{className:"w-4 h-4 text-red-400"}),s.jsx("span",{className:`text-sm font-semibold ${m.success?"text-emerald-400":"text-red-400"}`,children:m.success?"":""}),m.status&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["HTTP ",m.status]})]}),m.error&&s.jsx("p",{className:"text-xs text-red-400 mt-1",children:m.error})]})]}),T?.logs&&T.logs.length>0&&s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:" "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" 50 "})]}),s.jsx(U,{variant:"ghost",size:"sm",className:"text-muted-foreground",children:s.jsx(Br,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:"URL"}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:T.logs.map(L=>s.jsxs("tr",{className:"hover:bg-muted",children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:new Date(L.createdAt).toLocaleString()}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded ${L.direction==="inbound"?"bg-green-500/20 text-green-400":"bg-blue-500/20 text-blue-400"}`,children:L.direction==="inbound"?" ":" "})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground max-w-xs truncate",children:L.url}),s.jsx("td",{className:"px-4 py-3",children:L.success?s.jsxs("span",{className:"text-emerald-400 flex items-center gap-1",children:[s.jsx(Gn,{className:"w-3 h-3"})," OK"]}):s.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[s.jsx(ts,{className:"w-3 h-3"})," Fail"]})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:L.responseCode||"-"})]},L.id))})]})})]})]}),s.jsx(ct,{value:"incoming",className:"space-y-6",children:s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ur,{className:"w-5 h-5 text-amber-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"  "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" HTTP-    (  )"})]})]}),B?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-blue-500"})}):R?.data&&R.data.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-2 py-3 w-8"}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:"GEO"}),s.jsx("th",{className:"px-4 py-3",children:"IP"}),s.jsx("th",{className:"px-4 py-3",children:"Sub1"}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:R.data.map(L=>s.jsxs(Z.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-muted","data-testid":`row-raw-click-${L.id}`,children:[s.jsx("td",{className:"px-2 py-3",children:s.jsx("button",{onClick:()=>K(L.id),className:"text-muted-foreground hover:text-foreground p-1","data-testid":`button-expand-click-${L.id}`,children:I.has(L.id)?s.jsx(fa,{className:"w-4 h-4"}):s.jsx(Hc,{className:"w-4 h-4"})})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground whitespace-nowrap",children:new Date(L.createdAt).toLocaleString()}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded ${L.status==="processed"?"bg-emerald-500/20 text-emerald-400":L.status==="rejected"?"bg-red-500/20 text-red-400":"bg-amber-500/20 text-amber-400"}`,children:L.status==="processed"?"OK":L.status==="rejected"?"":""})}),s.jsx("td",{className:"px-4 py-3 text-foreground",children:L.offerName||L.rawOfferId||"-"}),s.jsx("td",{className:"px-4 py-3 text-foreground",children:L.publisherShortId&&L.publisherName?`${L.publisherShortId} - ${L.publisherName}`:L.rawPartnerId||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:L.geo||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:L.ip||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground max-w-[100px] truncate",children:L.sub1||"-"}),s.jsx("td",{className:"px-4 py-3",children:L.checkStage?s.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded ${L.checkStage==="redirect"?"bg-emerald-500/20 text-emerald-400":"bg-amber-500/20 text-amber-400"}`,children:L.checkStage}):"-"}),s.jsx("td",{className:"px-4 py-3",children:L.rejectReason?s.jsx("span",{className:"text-red-400 text-[10px]",children:L.rejectReason}):L.clickId?s.jsxs("span",{className:"text-emerald-400 text-[10px]",children:[" ",L.clickId.slice(0,8),"..."]}):"-"})]}),I.has(L.id)&&s.jsx("tr",{className:"bg-muted/30","data-testid":`row-click-flow-${L.id}`,children:s.jsx("td",{colSpan:10,className:"px-6 py-4",children:s.jsxs("div",{className:"max-w-md",children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:" "}),s.jsx(koe,{stages:Toe(L)})]})})})]},L.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-border",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",R.total," "]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"sm",disabled:z===0,onClick:()=>V(L=>L-1),"data-testid":"button-prev-page",children:""}),s.jsx(U,{variant:"outline",size:"sm",disabled:(z+1)*50>=R.total,onClick:()=>V(L=>L+1),"data-testid":"button-next-page",children:""})]})]})]}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ur,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),s.jsx("p",{children:"  "}),s.jsx("p",{className:"text-xs mt-2",children:"     -"})]})]})})]})]})}function tYe(){const e=rt(),[t,n]=j.useState(""),[r,a]=j.useState("GET"),[i,o]=j.useState(""),[l,c]=j.useState("GET"),[u,f]=j.useState(""),[m,p]=j.useState(null),[g,v]=j.useState(!1),[y,w]=j.useState(!1),{data:N,isLoading:A}=Ne({queryKey:["/api/postback-settings"]}),{data:T,isLoading:C,refetch:S}=Ne({queryKey:["/api/publisher/postback-logs"]});j.useEffect(()=>{N&&!y&&(n(N.leadPostbackUrl||""),a(N.leadPostbackMethod||"GET"),o(N.salePostbackUrl||""),c(N.salePostbackMethod||"GET"),w(!0))},[N,y]);const E=ve({mutationFn:async K=>{const R=await fetch("/api/postback-settings",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(K)});if(!R.ok)throw new Error("Failed to update");return R.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/postback-settings"]}),Rt.success(" ")},onError:()=>{Rt.error(" ")}}),O=()=>{E.mutate({leadPostbackUrl:t||null,salePostbackUrl:i||null,leadPostbackMethod:r,salePostbackMethod:l})},_=async()=>{if(u){v(!0),p(null);try{const R=await(await fetch("/api/postback-test",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({url:u,method:"GET"})})).json();p(R)}catch{p({success:!1,error:"Network error"})}finally{v(!1)}}},[M,$]=j.useState("outgoing"),[z,V]=j.useState(0),{data:I,isLoading:F}=Ne({queryKey:["/api/publisher/raw-clicks",z],queryFn:async()=>{const K=await fetch(`/api/publisher/raw-clicks?limit=50&offset=${z*50}`,{credentials:"include"});if(!K.ok)throw new Error("Failed to fetch");return K.json()},enabled:M==="incoming"});return A||C?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-emerald-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-mono text-foreground mb-2","data-testid":"text-postbacks-title",children:""}),s.jsx("p",{className:"text-muted-foreground text-sm font-mono",children:"     "})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(qu,{dataset:"postback-logs"}),s.jsx(jn,{className:"w-8 h-8 text-emerald-400"})]})]}),s.jsxs(uo,{value:M,onValueChange:$,className:"w-full",children:[s.jsxs(ki,{className:"bg-muted mb-4",children:[s.jsxs(lt,{value:"outgoing",className:"data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-400","data-testid":"tab-outgoing",children:[s.jsx(g0,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(lt,{value:"incoming",className:"data-[state=active]:bg-amber-500/20 data-[state=active]:text-amber-400","data-testid":"tab-incoming",children:[s.jsx(fh,{className:"w-4 h-4 mr-2"})," "]})]}),s.jsxs(ct,{value:"outgoing",className:"space-y-6",children:[s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(fh,{className:"w-5 h-5 text-emerald-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"  URL"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"URL       "})]})]}),s.jsxs("div",{className:"bg-emerald-500/10 border-emerald-500/20 p-3 rounded mb-4",children:[s.jsx("h4",{className:"text-xs font-semibold text-foreground mb-2",children:" :"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs text-muted-foreground font-mono",children:[s.jsxs("span",{children:[s.jsx("code",{className:"text-emerald-400",children:"{click_id}"})," - ID "]}),s.jsxs("span",{children:[s.jsx("code",{className:"text-emerald-400",children:"{status}"})," - "]}),s.jsxs("span",{children:[s.jsx("code",{className:"text-emerald-400",children:"{payout}"})," - "]}),s.jsxs("span",{children:[s.jsx("code",{className:"text-emerald-400",children:"{sum}"})," - "]}),s.jsxs("span",{children:[s.jsx("code",{className:"text-emerald-400",children:"{offer_id}"})," - ID "]}),s.jsxs("span",{children:[s.jsx("code",{className:"text-emerald-400",children:"{sub1}"})," - Sub1"]}),s.jsxs("span",{children:[s.jsx("code",{className:"text-emerald-400",children:"{sub2}"})," - Sub2"]}),s.jsxs("span",{children:[s.jsx("code",{className:"text-emerald-400",children:"{geo}"})," - "]})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded",children:[s.jsx("h4",{className:"font-semibold text-blue-400 mb-2 text-sm",children:"  ( 1)"}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"          click_id:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-red-400 font-semibold",children:"Keitaro:"}),s.jsxs("code",{className:"ml-2 text-muted-foreground",children:["subid=","{subid}"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-purple-400 font-semibold",children:"Binom:"}),s.jsxs("code",{className:"ml-2 text-muted-foreground",children:["subid=","{clickid}"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded",children:[s.jsx("h4",{className:"font-semibold text-red-400 mb-1 text-sm",children:"  Keitaro ( 2)"}),s.jsx("p",{className:"text-[10px] text-muted-foreground mb-1",children:"    Lead/Sale:"}),s.jsxs("div",{className:"font-mono text-[11px] text-emerald-400 break-all",children:["http://-keitaro/postback?subid=","{sub1}","&status=","{status}","&payout=","{payout}"]}),s.jsxs("p",{className:"text-[10px] text-amber-400 mt-1",children:["{sub1}","    subid  Keitaro"]})]}),s.jsxs("div",{className:"p-3 bg-purple-500/10 border border-purple-500/20 rounded",children:[s.jsx("h4",{className:"font-semibold text-purple-400 mb-1 text-sm",children:"  Binom ( 2)"}),s.jsx("p",{className:"text-[10px] text-muted-foreground mb-1",children:"    Lead/Sale:"}),s.jsxs("div",{className:"font-mono text-[11px] text-emerald-400 break-all",children:["http://-binom/postback?clickid=","{sub1}","&status=","{status}","&payout=","{payout}"]}),s.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:["{sub1}","    clickid  Binom"]})]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-4",children:[s.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500/20 flex items-center justify-center",children:s.jsx("span",{className:"text-emerald-400 font-bold text-xs",children:"REG"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Lead / "}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"  "})]})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground font-mono mb-2 block",children:"Postback URL"}),s.jsx(le,{placeholder:"https://your-tracker.com/postback?subid={sub1}&status=lead",value:t,onChange:K=>n(K.target.value),className:"bg-muted border-border text-foreground font-mono text-sm","data-testid":"input-lead-postback-url"})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground font-mono mb-2 block",children:""}),s.jsxs(ht,{value:r,onValueChange:a,children:[s.jsx(dt,{className:"bg-muted border-border text-foreground","data-testid":"select-lead-method",children:s.jsx(mt,{})}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"GET",children:"GET"}),s.jsx(ke,{value:"POST",children:"POST"})]})]})]})]}),s.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/20 flex items-center justify-center",children:s.jsx("span",{className:"text-blue-400 font-bold text-xs",children:"FTD"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Sale / "}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"  "})]})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground font-mono mb-2 block",children:"Postback URL"}),s.jsx(le,{placeholder:"https://your-tracker.com/postback?subid={sub1}&status=sale",value:i,onChange:K=>o(K.target.value),className:"bg-muted border-border text-foreground font-mono text-sm","data-testid":"input-sale-postback-url"})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground font-mono mb-2 block",children:""}),s.jsxs(ht,{value:l,onValueChange:c,children:[s.jsx(dt,{className:"bg-muted border-border text-foreground","data-testid":"select-sale-method",children:s.jsx(mt,{})}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"GET",children:"GET"}),s.jsx(ke,{value:"POST",children:"POST"})]})]})]})]})]}),s.jsxs(U,{onClick:O,disabled:E.isPending,className:"bg-emerald-600 hover:bg-emerald-700","data-testid":"button-save",children:[E.isPending?s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Es,{className:"w-4 h-4 mr-2"}),""]})]}),s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:" "}),s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"   URL  "}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx(le,{placeholder:"https://your-tracker.com/postback?click_id=test123",value:u,onChange:K=>f(K.target.value),className:"bg-muted border-border text-foreground font-mono text-sm flex-1","data-testid":"input-test-url"}),s.jsx(U,{onClick:_,disabled:g||!u,variant:"outline",className:"border-border","data-testid":"button-test-postback",children:g?s.jsx(we,{className:"w-4 h-4 animate-spin"}):s.jsx(Kc,{className:"w-4 h-4"})})]}),m&&s.jsxs("div",{className:`p-3 rounded border ${m.success?"bg-emerald-500/10 border-emerald-500/30":"bg-red-500/10 border-red-500/30"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.success?s.jsx(Gn,{className:"w-4 h-4 text-emerald-400"}):s.jsx(ts,{className:"w-4 h-4 text-red-400"}),s.jsx("span",{className:`text-sm font-semibold ${m.success?"text-emerald-400":"text-red-400"}`,children:m.success?"":""}),m.status&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["HTTP ",m.status]})]}),m.error&&s.jsx("p",{className:"text-xs text-red-400 mt-1",children:m.error})]})]}),s.jsx(J,{className:"bg-blue-500/10 border-blue-500/20 p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Kn,{className:"w-5 h-5 text-blue-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-1",children:"  ?"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"    ,       URL    ,   .     URL       ."})]})]})}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:" "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" 50 "})]}),s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>S(),className:"text-muted-foreground",children:s.jsx(Br,{className:"w-4 h-4"})})]}),T&&T.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:"URL"}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:"HTTP "}),s.jsx("th",{className:"px-4 py-3",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:T.map(K=>s.jsxs("tr",{className:"hover:bg-muted",children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground whitespace-nowrap",children:new Date(K.createdAt).toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground max-w-xs truncate",title:K.url,children:K.url}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:K.method}),s.jsx("td",{className:"px-4 py-3",children:K.success?s.jsxs("span",{className:"text-emerald-400 flex items-center gap-1",children:[s.jsx(Gn,{className:"w-3 h-3"})," "]}):s.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[s.jsx(ts,{className:"w-3 h-3"})," "]})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:K.responseCode||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:K.retryCount})]},K.id))})]})}):s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(jn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"   "}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"    "})]})]})]}),s.jsx(ct,{value:"incoming",className:"space-y-6",children:s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ur,{className:"w-5 h-5 text-amber-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"  "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"   - (   )"})]})]}),F?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-emerald-500"})}):I?.data&&I.data.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:"GEO"}),s.jsx("th",{className:"px-4 py-3",children:"IP"}),s.jsx("th",{className:"px-4 py-3",children:"Sub1"}),s.jsx("th",{className:"px-4 py-3",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:I.data.map(K=>s.jsxs("tr",{className:"hover:bg-muted","data-testid":`row-raw-click-${K.id}`,children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground whitespace-nowrap",children:new Date(K.createdAt).toLocaleString()}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded ${K.status==="processed"?"bg-emerald-500/20 text-emerald-400":K.status==="rejected"?"bg-red-500/20 text-red-400":"bg-amber-500/20 text-amber-400"}`,children:K.status==="processed"?"OK":K.status==="rejected"?"":""})}),s.jsx("td",{className:"px-4 py-3 text-foreground",children:K.offerName||K.rawOfferId||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:K.geo||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:K.ip||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground max-w-[100px] truncate",children:K.sub1||"-"}),s.jsx("td",{className:"px-4 py-3",children:K.rejectReason?s.jsx("span",{className:"text-red-400 text-[10px]",children:K.rejectReason}):K.clickId?s.jsxs("span",{className:"text-emerald-400 text-[10px]",children:[" ",K.clickId.slice(0,8),"..."]}):"-"})]},K.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-border",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",I.total," "]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"sm",disabled:z===0,onClick:()=>V(K=>K-1),"data-testid":"button-prev-page",children:""}),s.jsx(U,{variant:"outline",size:"sm",disabled:(z+1)*50>=I.total,onClick:()=>V(K=>K+1),"data-testid":"button-next-page",children:""})]})]})]}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ur,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),s.jsx("p",{children:"  "}),s.jsx("p",{className:"text-xs mt-2",children:"      -"})]})]})})]})]})}function nYe(){const[e,t]=j.useState("all"),[n,r]=j.useState("all"),[a,i]=j.useState(""),[o,l]=j.useState(""),[c,u]=j.useState("GET"),[f,m]=j.useState(null),[p,g]=j.useState(!1),[v,y]=j.useState(new Set),[w,N]=j.useState(0),{data:A,isLoading:T,refetch:C}=Ne({queryKey:["/api/admin/postback-logs"]}),{data:S,isLoading:E}=Ne({queryKey:["/api/advertiser/raw-clicks",w],queryFn:async()=>{const R=await fetch(`/api/advertiser/raw-clicks?limit=50&offset=${w*50}`,{credentials:"include"});if(!R.ok)throw new Error("Failed to fetch raw clicks");return R.json()}}),O=R=>{y(B=>{const L=new Set(B);return L.has(R)?L.delete(R):L.add(R),L})},_=A?.filter(R=>!(e==="success"&&!R.success||e==="failed"&&R.success||n==="inbound"&&R.direction!=="inbound"||n==="outbound"&&R.direction!=="outbound"||a&&!R.url.toLowerCase().includes(a.toLowerCase()))),M=R=>{navigator.clipboard.writeText(R),Rt.success("")},$=async()=>{if(o){g(!0),m(null);try{const B=await(await fetch("/api/postback-test",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({url:o,method:c})})).json();m(B)}catch{m({success:!1,error:"Network error"})}finally{g(!1)}}};if(T)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-red-500"})});const z=A?.filter(R=>R.success).length||0;A?.filter(R=>!R.success).length;const V=A?.filter(R=>R.direction==="inbound").length||0,I=A?.filter(R=>R.direction==="outbound").length||0,K=`https://${window.location.host}/api/postback?click_id={click_id}&status={status}&payout={payout}`;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-mono text-foreground mb-2","data-testid":"text-admin-postbacks-title",children:" "}),s.jsx("p",{className:"text-muted-foreground text-sm font-mono",children:"    "})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(qu,{dataset:"postback-logs",getFilters:()=>({status:e!=="all"?e:void 0,direction:n!=="all"?n:void 0})}),s.jsx(jn,{className:"w-8 h-8 text-red-400"})]})]}),s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(fh,{className:"w-5 h-5 text-green-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"  "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" URL       "})]})]}),s.jsxs("div",{className:"bg-muted rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:" URL"}),s.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>M(K),className:"text-muted-foreground hover:text-foreground","data-testid":"button-copy-postback-url",children:[s.jsx(Yn,{className:"w-4 h-4 mr-1"})," "]})]}),s.jsx("code",{className:"text-sm text-green-400 break-all block font-mono",children:K})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs",children:[s.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded p-3",children:[s.jsx("h4",{className:"font-semibold text-blue-400 mb-2",children:"  click_id:"}),s.jsx("code",{className:"text-muted-foreground",children:"click_id, clickid, subid, subid_1, tid, sub1, cid"})]}),s.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded p-3",children:[s.jsx("h4",{className:"font-semibold text-amber-400 mb-2",children:" :"}),s.jsx("code",{className:"text-muted-foreground",children:"lead, reg  Lead | sale, dep, ftd  Sale | rejected  Rejected"})]})]})]}),s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:" "}),s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"   URL"}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx(le,{placeholder:"https://example.com/postback?click_id=test123",value:o,onChange:R=>l(R.target.value),className:"bg-muted border-border text-foreground font-mono text-sm flex-1","data-testid":"input-test-url"}),s.jsxs(ht,{value:c,onValueChange:u,children:[s.jsx(dt,{className:"w-24 bg-muted border-border text-foreground","data-testid":"select-test-method",children:s.jsx(mt,{})}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"GET",children:"GET"}),s.jsx(ke,{value:"POST",children:"POST"})]})]}),s.jsx(U,{onClick:$,disabled:p||!o,variant:"outline",className:"border-border","data-testid":"button-test-postback",children:p?s.jsx(we,{className:"w-4 h-4 animate-spin"}):s.jsx(Kc,{className:"w-4 h-4"})})]}),f&&s.jsxs("div",{className:`p-3 rounded border ${f.success?"bg-emerald-500/10 border-emerald-500/30":"bg-red-500/10 border-red-500/30"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.success?s.jsx(Gn,{className:"w-4 h-4 text-emerald-400"}):s.jsx(ts,{className:"w-4 h-4 text-red-400"}),s.jsx("span",{className:`text-sm font-semibold ${f.success?"text-emerald-400":"text-red-400"}`,children:f.success?"":""}),f.status&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["HTTP ",f.status]}),f.responseTime&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:[f.responseTime,"ms"]})]}),f.error&&s.jsx("p",{className:"text-xs text-red-400 mt-1",children:f.error})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs(J,{className:"bg-card border-border p-4",children:[s.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:""}),s.jsx("div",{className:"text-2xl font-bold text-foreground font-mono",children:A?.length||0})]}),s.jsxs(J,{className:"bg-emerald-500/10 border-emerald-500/20 p-4",children:[s.jsx("div",{className:"text-xs text-emerald-400 uppercase tracking-wider mb-1",children:""}),s.jsx("div",{className:"text-2xl font-bold text-emerald-400 font-mono",children:z})]}),s.jsxs(J,{className:"bg-green-500/10 border-green-500/20 p-4",children:[s.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-400 uppercase tracking-wider mb-1",children:[s.jsx(fh,{className:"w-3 h-3"})," "]}),s.jsx("div",{className:"text-2xl font-bold text-green-400 font-mono",children:V})]}),s.jsxs(J,{className:"bg-blue-500/10 border-blue-500/20 p-4",children:[s.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-400 uppercase tracking-wider mb-1",children:[s.jsx(g0,{className:"w-3 h-3"})," "]}),s.jsx("div",{className:"text-2xl font-bold text-blue-400 font-mono",children:I})]})]}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs("div",{className:"p-4 border-b border-border flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[s.jsx(Zi,{className:"w-4 h-4 text-muted-foreground"}),s.jsx(le,{placeholder:"  URL...",value:a,onChange:R=>i(R.target.value),className:"bg-muted border-border text-foreground text-sm","data-testid":"input-search-postbacks"})]}),s.jsxs(ht,{value:n,onValueChange:r,children:[s.jsx(dt,{className:"w-40 bg-muted border-border text-foreground","data-testid":"select-direction-filter",children:s.jsx(mt,{placeholder:""})}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"all",children:""}),s.jsx(ke,{value:"inbound",children:""}),s.jsx(ke,{value:"outbound",children:""})]})]}),s.jsxs(ht,{value:e,onValueChange:t,children:[s.jsx(dt,{className:"w-40 bg-muted border-border text-foreground","data-testid":"select-status-filter",children:s.jsx(mt,{placeholder:""})}),s.jsxs(ut,{className:"bg-card border-border",children:[s.jsx(ke,{value:"all",children:""}),s.jsx(ke,{value:"success",children:""}),s.jsx(ke,{value:"failed",children:" "})]})]}),s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>C(),className:"text-muted-foreground",children:s.jsx(Br,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:"URL"}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""})]})}),s.jsxs("tbody",{className:"divide-y divide-white/5",children:[_?.map(R=>s.jsxs("tr",{className:"hover:bg-muted",children:[s.jsx("td",{className:"px-4 py-3 text-muted-foreground whitespace-nowrap",children:new Date(R.createdAt).toLocaleString()}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded ${R.direction==="inbound"?"bg-green-500/20 text-green-400":"bg-blue-500/20 text-blue-400"}`,children:R.direction==="inbound"?" ":" "})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground max-w-xs truncate",title:R.url,children:R.url}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:R.method}),s.jsx("td",{className:"px-4 py-3",children:R.success?s.jsxs("span",{className:"text-emerald-400 flex items-center gap-1",children:[s.jsx(Gn,{className:"w-3 h-3"})," OK"]}):s.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[s.jsx(ts,{className:"w-3 h-3"})," Fail"]})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:R.responseCode||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:R.retryCount})]},R.id)),(!_||_.length===0)&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-muted-foreground",children:"   "})})]})]})})]}),s.jsxs(J,{className:"bg-card border-border p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ur,{className:"w-5 h-5 text-amber-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"  "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" HTTP-    (  )"})]})]}),E?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-blue-500"})}):S?.data&&S.data.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-xs font-mono",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-muted-foreground uppercase tracking-wider",children:[s.jsx("th",{className:"px-2 py-3 w-8"}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:"GEO"}),s.jsx("th",{className:"px-4 py-3",children:"IP"}),s.jsx("th",{className:"px-4 py-3",children:"Sub1"}),s.jsx("th",{className:"px-4 py-3",children:""}),s.jsx("th",{className:"px-4 py-3",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:S.data.map(R=>s.jsxs(Z.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-muted","data-testid":`row-raw-click-${R.id}`,children:[s.jsx("td",{className:"px-2 py-3",children:s.jsx("button",{onClick:()=>O(R.id),className:"text-muted-foreground hover:text-foreground p-1","data-testid":`button-expand-click-${R.id}`,children:v.has(R.id)?s.jsx(fa,{className:"w-4 h-4"}):s.jsx(Hc,{className:"w-4 h-4"})})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground whitespace-nowrap",children:new Date(R.createdAt).toLocaleString()}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded ${R.status==="processed"?"bg-emerald-500/20 text-emerald-400":R.status==="rejected"?"bg-red-500/20 text-red-400":"bg-amber-500/20 text-amber-400"}`,children:R.status==="processed"?"OK":R.status==="rejected"?"":""})}),s.jsx("td",{className:"px-4 py-3 text-foreground",children:R.offerName||R.rawOfferId||"-"}),s.jsx("td",{className:"px-4 py-3 text-foreground",children:R.publisherShortId&&R.publisherName?`${R.publisherShortId} - ${R.publisherName}`:R.rawPartnerId||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:R.geo||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:R.ip||"-"}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground max-w-[100px] truncate",children:R.sub1||"-"}),s.jsx("td",{className:"px-4 py-3",children:R.checkStage?s.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded ${R.checkStage==="redirect"?"bg-emerald-500/20 text-emerald-400":"bg-amber-500/20 text-amber-400"}`,children:R.checkStage}):"-"}),s.jsx("td",{className:"px-4 py-3",children:R.rejectReason?s.jsx("span",{className:"text-red-400 text-[10px]",children:R.rejectReason}):R.clickId?s.jsxs("span",{className:"text-emerald-400 text-[10px]",children:[" ",R.clickId.slice(0,8),"..."]}):"-"})]}),v.has(R.id)&&s.jsx("tr",{className:"bg-muted/30","data-testid":`row-click-flow-${R.id}`,children:s.jsx("td",{colSpan:10,className:"px-6 py-4",children:s.jsxs("div",{className:"max-w-md",children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:" "}),s.jsx(koe,{stages:Toe(R)})]})})})]},R.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-border",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",S.total," "]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"sm",disabled:w===0,onClick:()=>N(R=>R-1),"data-testid":"button-prev-page-raw",children:""}),s.jsx(U,{variant:"outline",size:"sm",disabled:(w+1)*50>=S.total,onClick:()=>N(R=>R+1),"data-testid":"button-next-page-raw",children:""})]})]})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"    "})]})]})}const jO=[{value:"fraud_score",label:"Fraud Score",description:"   fraud score",category:"score"},{value:"proxy_vpn",label:"Proxy/VPN",description:"   VPN ",category:"detection"},{value:"bot",label:"",description:"  ",category:"detection"},{value:"datacenter",label:"Datacenter IP",description:" IP ",category:"detection"},{value:"duplicate_click",label:" ",description:"  ",category:"duplicate"},{value:"duplicate_conversion",label:" ",description:"   (email//transaction)",category:"duplicate"},{value:"geo_mismatch",label:"GEO ",description:"  ",category:"detection"},{value:"device_fingerprint",label:"Fingerprint",description:"  ",category:"detection"},{value:"velocity_ip_minute",label:"Velocity IP/",description:"   IP  ",category:"velocity"},{value:"velocity_ip_hour",label:"Velocity IP/",description:"   IP  ",category:"velocity"},{value:"velocity_ip_day",label:"Velocity IP/",description:"   IP  ",category:"velocity"},{value:"velocity_fingerprint",label:"Velocity Fingerprint",description:"     ",category:"velocity"},{value:"velocity_publisher",label:"Velocity Publisher",description:"    ",category:"velocity"},{value:"cr_anomaly",label:"CR ",description:" CR  ( >50%)",category:"anomaly"},{value:"ar_anomaly",label:"AR ",description:" Approval Rate ",category:"anomaly"}],PK=[{value:"allow",label:"Allow",color:"bg-green-500"},{value:"flag",label:"Flag",color:"bg-yellow-500"},{value:"hold",label:"Hold",color:"bg-orange-500"},{value:"reject",label:"Reject",color:"bg-red-400"},{value:"block",label:"Block",color:"bg-red-600"}];function rYe({role:e}){const t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState(null),[o,l]=j.useState({name:"",description:"",ruleType:"fraud_score",threshold:80,action:"block",priority:100,scope:e==="admin"?"global":"advertiser"}),{data:c}=Ne({queryKey:["/api/antifraud/summary"]}),{data:u=[]}=Ne({queryKey:["/api/antifraud/rules"]}),{data:f=[]}=Ne({queryKey:["/api/antifraud/logs"]}),{data:m=[]}=Ne({queryKey:["/api/antifraud/suspicious-clicks"]}),p=ve({mutationFn:async N=>{const A=await fetch("/api/antifraud/rules",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(N)});if(!A.ok)throw new Error("Failed to create rule");return A.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/antifraud/rules"]}),r(!1),l({name:"",description:"",ruleType:"fraud_score",threshold:80,action:"block",priority:100,scope:e==="admin"?"global":"advertiser"})}}),g=ve({mutationFn:async({id:N,data:A})=>{const T=await fetch(`/api/antifraud/rules/${N}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(A)});if(!T.ok)throw new Error("Failed to update rule");return T.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/antifraud/rules"]}),i(null)}}),v=ve({mutationFn:async N=>{const A=await fetch(`/api/antifraud/rules/${N}`,{method:"DELETE",credentials:"include"});if(!A.ok)throw new Error("Failed to delete rule");return A.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/antifraud/rules"]})}}),y=N=>{const A=PK.find(T=>T.value===N);return s.jsx(ye,{className:A?.color||"bg-gray-500",children:A?.label||N})},w=N=>{switch(N){case"bot":return s.jsx(_fe,{className:"h-4 w-4"});case"proxy_vpn":return s.jsx(jn,{className:"h-4 w-4"});case"fraud_score":return s.jsx(Ui,{className:"h-4 w-4"});case"datacenter":return s.jsx(jn,{className:"h-4 w-4 text-purple-500"});case"duplicate_click":case"duplicate_conversion":return s.jsx(Yn,{className:"h-4 w-4 text-orange-500"});case"geo_mismatch":return s.jsx(jn,{className:"h-4 w-4 text-yellow-500"});case"device_fingerprint":return s.jsx(IO,{className:"h-4 w-4 text-blue-500"});case"velocity_ip_minute":case"velocity_ip_hour":case"velocity_ip_day":case"velocity_fingerprint":case"velocity_publisher":return s.jsx(BO,{className:"h-4 w-4 text-purple-500"});case"cr_anomaly":case"ar_anomaly":return s.jsx(qr,{className:"h-4 w-4 text-red-500"});default:return s.jsx(Fn,{className:"h-4 w-4"})}};return s.jsxs("div",{className:"space-y-6","data-testid":"antifraud-dashboard",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Fn,{className:"h-6 w-6"})," "]}),s.jsx("p",{className:"text-muted-foreground",children:e==="admin"?"    ":"    "})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(J,{children:[s.jsx(Pe,{className:"pb-2",children:s.jsx(Ie,{className:"text-sm font-medium text-muted-foreground",children:" "})}),s.jsx(ne,{children:s.jsx("div",{className:"text-2xl font-bold","data-testid":"total-clicks",children:c?.totalClicks||0})})]}),s.jsxs(J,{children:[s.jsx(Pe,{className:"pb-2",children:s.jsx(Ie,{className:"text-sm font-medium text-muted-foreground",children:""})}),s.jsxs(ne,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600","data-testid":"blocked-clicks",children:c?.blockedClicks||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[c?.blockRate?.toFixed(1)||0,"%  "]})]})]}),s.jsxs(J,{children:[s.jsx(Pe,{className:"pb-2",children:s.jsx(Ie,{className:"text-sm font-medium text-muted-foreground",children:""})}),s.jsx(ne,{children:s.jsx("div",{className:"text-2xl font-bold text-yellow-600","data-testid":"flagged-clicks",children:c?.flaggedClicks||0})})]}),s.jsxs(J,{children:[s.jsx(Pe,{className:"pb-2",children:s.jsx(Ie,{className:"text-sm font-medium text-muted-foreground",children:" "})}),s.jsx(ne,{children:s.jsx("div",{className:"text-2xl font-bold","data-testid":"active-rules",children:u.filter(N=>N.isActive).length})})]})]}),c?.byType&&c.byType.length>0&&s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsx(Ie,{className:"text-lg",children:"  "})}),s.jsx(ne,{children:s.jsx("div",{className:"flex flex-wrap gap-6",children:c.byType.map(N=>s.jsxs("div",{className:"text-center px-4 py-2 rounded-lg bg-muted/50",children:[s.jsx("div",{className:"text-xl font-bold",children:N.count}),s.jsx("div",{className:"text-sm text-muted-foreground",children:N.type})]},N.type))})})]}),s.jsxs(uo,{defaultValue:"rules",children:[s.jsxs(ki,{className:"gap-2 p-1",children:[s.jsxs(lt,{value:"rules","data-testid":"tab-rules",className:"px-4 py-2 data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:[s.jsx(Fn,{className:"h-4 w-4 mr-2 text-blue-500"}),""]}),s.jsxs(lt,{value:"suspicious","data-testid":"tab-suspicious",className:"px-4 py-2 data-[state=active]:bg-red-500 data-[state=active]:text-white",children:[s.jsx(Ui,{className:"h-4 w-4 mr-2 text-red-500"}),""]}),s.jsxs(lt,{value:"logs","data-testid":"tab-logs",className:"px-4 py-2 data-[state=active]:bg-orange-500 data-[state=active]:text-white",children:[s.jsx(Il,{className:"h-4 w-4 mr-2 text-orange-500"}),""]}),s.jsxs(lt,{value:"help","data-testid":"tab-help",className:"px-4 py-2 data-[state=active]:bg-green-500 data-[state=active]:text-white",children:[s.jsx(Sl,{className:"h-4 w-4 mr-2 text-green-500"}),""]})]}),s.jsxs(ct,{value:"rules",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:" "}),s.jsxs(Wt,{open:n,onOpenChange:r,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{"data-testid":"button-add-rule",children:[s.jsx(fr,{className:"h-4 w-4 mr-2"})," "]})}),s.jsxs(zt,{children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(le,{value:o.name,onChange:N=>l({...o,name:N.target.value}),placeholder:" ","data-testid":"input-rule-name"})]}),s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(le,{value:o.description,onChange:N=>l({...o,description:N.target.value}),placeholder:"","data-testid":"input-rule-description"})]}),s.jsxs("div",{children:[s.jsx(te,{children:" "}),s.jsxs(ht,{value:o.ruleType,onValueChange:N=>l({...o,ruleType:N}),children:[s.jsx(dt,{"data-testid":"select-rule-type",children:s.jsx(mt,{})}),s.jsx(ut,{children:jO.map(N=>s.jsx(ke,{value:N.value,children:N.label},N.value))})]})]}),(o.ruleType==="fraud_score"||o.ruleType.startsWith("velocity_"))&&s.jsxs("div",{children:[s.jsx(te,{children:o.ruleType==="fraud_score"?" (fraud score 0-100)":o.ruleType==="velocity_ip_minute"?" /":o.ruleType==="velocity_ip_hour"?" /":o.ruleType==="velocity_ip_day"?" /":o.ruleType==="velocity_fingerprint"?" /":" /"}),s.jsx(le,{type:"number",value:o.threshold,onChange:N=>l({...o,threshold:parseInt(N.target.value)}),placeholder:o.ruleType==="fraud_score"?"80":"10","data-testid":"input-rule-threshold"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.ruleType==="fraud_score"?": 60-80   ":": 10/, 100/, 500/"})]}),s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsxs(ht,{value:o.action,onValueChange:N=>l({...o,action:N}),children:[s.jsx(dt,{"data-testid":"select-rule-action",children:s.jsx(mt,{})}),s.jsx(ut,{children:PK.map(N=>s.jsx(ke,{value:N.value,children:N.label},N.value))})]})]}),s.jsxs("div",{children:[s.jsx(te,{children:" ( = )"}),s.jsx(le,{type:"number",value:o.priority,onChange:N=>l({...o,priority:parseInt(N.target.value)}),"data-testid":"input-rule-priority"})]}),e==="admin"&&s.jsxs("div",{children:[s.jsx(te,{children:" "}),s.jsxs(ht,{value:o.scope,onValueChange:N=>l({...o,scope:N}),children:[s.jsx(dt,{"data-testid":"select-rule-scope",children:s.jsx(mt,{})}),s.jsxs(ut,{children:[s.jsx(ke,{value:"global",children:" ( )"}),s.jsx(ke,{value:"advertiser",children:" "})]})]})]}),s.jsx(U,{onClick:()=>p.mutate(o),disabled:!o.name||p.isPending,className:"w-full","data-testid":"button-save-rule",children:p.isPending?"...":" "})]})]})]})]}),s.jsx("div",{className:"space-y-2",children:u.length===0?s.jsx(J,{children:s.jsx(ne,{className:"py-8 text-center text-muted-foreground",children:"  .   ."})}):u.map(N=>s.jsx(J,{className:N.isActive?"":"opacity-60","data-testid":`rule-${N.id}`,children:s.jsxs(ne,{className:"py-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-2 bg-muted rounded",children:w(N.ruleType)}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium flex items-center gap-2",children:[N.name,N.scope==="global"&&s.jsx(ye,{variant:"outline",className:"text-xs",children:""})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[jO.find(A=>A.value===N.ruleType)?.label,N.threshold&&`  ${N.threshold}`]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[y(N.action),s.jsxs(ye,{variant:"outline",children:[": ",N.priority]}),s.jsx(vr,{checked:N.isActive,onCheckedChange:A=>g.mutate({id:N.id,data:{isActive:A}}),"data-testid":`switch-rule-${N.id}`}),(e==="admin"||N.scope==="advertiser")&&s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>v.mutate(N.id),"data-testid":`button-delete-rule-${N.id}`,children:s.jsx(Os,{className:"h-4 w-4 text-red-500"})})]})]}),N.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:N.description})]})},N.id))})]}),s.jsxs(ct,{value:"suspicious",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Ui,{className:"h-5 w-5 text-red-500"})," "]}),s.jsxs(ye,{variant:"destructive",className:"text-sm",children:[m.length," "]})]}),m.length===0?s.jsx(J,{children:s.jsxs(ne,{className:"py-8 text-center text-muted-foreground",children:[s.jsx(Fn,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),s.jsx("p",{className:"text-lg font-medium",children:"   "}),s.jsx("p",{className:"text-sm",children:"       "})]})}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/50",children:[s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:""}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:"Click ID"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:"IP / ISP"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:"GEO"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:"Score"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:""}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:""})]})}),s.jsx("tbody",{children:m.slice(0,100).map(N=>{const A=N.suspiciousReasons?JSON.parse(N.suspiciousReasons):[],T={high_fraud_score:" score",proxy_detected:"",vpn_detected:"VPN",tor_detected:"Tor",datacenter_ip:"",bot_detected:"",geo_mismatch:"GEO ",duplicate_click:""};return s.jsxs("tr",{className:"border-b hover:bg-muted/30","data-testid":`suspicious-click-${N.id}`,children:[s.jsx("td",{className:"p-3 text-sm",children:new Date(N.createdAt).toLocaleString()}),s.jsxs("td",{className:"p-3 text-sm font-mono text-xs",children:[N.clickId.substring(0,8),"..."]}),s.jsxs("td",{className:"p-3 text-sm",children:[s.jsx("div",{className:"font-mono text-xs",children:N.ip||"-"}),N.isp&&s.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:N.isp})]}),s.jsxs("td",{className:"p-3 text-sm",children:[s.jsx("div",{children:N.geo||"-"}),N.city&&s.jsx("div",{className:"text-xs text-muted-foreground",children:N.city})]}),s.jsx("td",{className:"p-3",children:s.jsx(ye,{variant:"destructive",children:N.fraudScore})}),s.jsx("td",{className:"p-3 text-sm",children:s.jsx("div",{className:"flex gap-1 flex-wrap",children:A.map((C,S)=>s.jsx(ye,{variant:"outline",className:"text-xs bg-red-500/10 text-red-500 border-red-500/20",children:T[C]||C},S))})}),s.jsx("td",{className:"p-3 text-sm",children:s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[N.isProxy&&s.jsx(ye,{variant:"outline",className:"text-xs bg-orange-500/20 text-orange-400 border-orange-500/30",children:"Proxy"}),N.isVpn&&s.jsx(ye,{variant:"outline",className:"text-xs bg-purple-500/20 text-purple-400 border-purple-500/30",children:"VPN"}),N.isTor&&s.jsx(ye,{variant:"outline",className:"text-xs bg-red-500/20 text-red-400 border-red-500/30",children:"TOR"}),N.isBot&&s.jsx(ye,{variant:"outline",className:"text-xs bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:"Bot"}),N.isDatacenter&&s.jsx(ye,{variant:"outline",className:"text-xs bg-blue-500/20 text-blue-400 border-blue-500/30",children:"DC"})]})})]},N.id)})})]})})]}),s.jsxs(ct,{value:"logs",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:" "}),f.length===0?s.jsx(J,{children:s.jsx(ne,{className:"py-8 text-center text-muted-foreground",children:"  "})}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/50",children:[s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:""}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:"IP / ISP"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:"GEO"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:"Score"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:""}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:"Fingerprint"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium",children:""})]})}),s.jsx("tbody",{children:f.slice(0,50).map(N=>s.jsxs("tr",{className:"border-b","data-testid":`log-${N.id}`,children:[s.jsx("td",{className:"p-3 text-sm",children:new Date(N.createdAt).toLocaleString()}),s.jsxs("td",{className:"p-3 text-sm",children:[s.jsx("div",{className:"font-mono text-xs",children:N.ip||"-"}),N.isp&&s.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:N.isp}),N.asn&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["AS",N.asn]})]}),s.jsxs("td",{className:"p-3 text-sm",children:[s.jsx("div",{children:N.country||"-"}),N.region&&s.jsx("div",{className:"text-xs text-muted-foreground",children:N.region})]}),s.jsx("td",{className:"p-3",children:s.jsx(ye,{variant:N.fraudScore>60?"destructive":N.fraudScore>30?"outline":"secondary",children:N.fraudScore})}),s.jsx("td",{className:"p-3 text-sm",children:s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[N.isProxy&&s.jsx(ye,{variant:"outline",className:"text-xs bg-orange-500/20 text-orange-400 border-orange-500/30",children:"Proxy"}),N.isVpn&&s.jsx(ye,{variant:"outline",className:"text-xs bg-purple-500/20 text-purple-400 border-purple-500/30",children:"VPN"}),N.isTor&&s.jsx(ye,{variant:"outline",className:"text-xs bg-red-500/20 text-red-400 border-red-500/30",children:"TOR"}),N.isBot&&s.jsx(ye,{variant:"outline",className:"text-xs bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:"Bot"}),N.isDatacenter&&s.jsx(ye,{variant:"outline",className:"text-xs bg-blue-500/20 text-blue-400 border-blue-500/30",children:"DC"})]})}),s.jsx("td",{className:"p-3 text-sm",children:N.visitorId?s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"font-mono text-xs truncate max-w-[100px]",title:N.visitorId,children:[s.jsx(IO,{className:"h-3 w-3 inline mr-1"}),N.visitorId.substring(0,8),"..."]}),N.fpConfidence!==void 0&&s.jsxs(ye,{variant:"outline",className:`text-xs ${N.fpConfidence>.8?"bg-emerald-500/20 text-emerald-400":N.fpConfidence>.5?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:[(N.fpConfidence*100).toFixed(0),"%"]})]}):s.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),s.jsx("td",{className:"p-3",children:y(N.action)})]},N.id))})]})})]}),s.jsx(ct,{value:"help",className:"space-y-6",children:s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5 text-blue-500"}),"   "]}),s.jsx(et,{children:"         "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:" "}),s.jsxs("div",{className:"grid gap-3",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"p-2 bg-blue-500/20 rounded",children:s.jsx(Il,{className:"h-4 w-4 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"1.  "}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"    : IP, User-Agent, , fingerprint "})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"p-2 bg-orange-500/20 rounded",children:s.jsx(Ui,{className:"h-4 w-4 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"2.   "}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"  /VPN, datacenter IP, , "})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"p-2 bg-purple-500/20 rounded",children:s.jsx(Fn,{className:"h-4 w-4 text-purple-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"3.  Fraud Score"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"     0  100 ( =  )"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"p-2 bg-green-500/20 rounded",children:s.jsx(Gn,{className:"h-4 w-4 text-green-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"4.  "}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"   ,    "})]})]})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:" "}),s.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:jO.map(N=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[s.jsx("div",{className:"p-2 bg-muted rounded",children:w(N.value)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:N.label}),s.jsx("div",{className:"text-xs text-muted-foreground",children:N.description})]})]},N.value))})]}),s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:"  "}),s.jsxs("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:[s.jsxs("div",{className:"p-3 border rounded-lg text-center",children:[s.jsx(Gn,{className:"h-6 w-6 text-green-500 mx-auto mb-2"}),s.jsx("div",{className:"font-medium text-sm",children:"Allow"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:" "})]}),s.jsxs("div",{className:"p-3 border rounded-lg text-center",children:[s.jsx(yhe,{className:"h-6 w-6 text-yellow-500 mx-auto mb-2"}),s.jsx("div",{className:"font-medium text-sm",children:"Flag"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"  "})]}),s.jsxs("div",{className:"p-3 border rounded-lg text-center",children:[s.jsx(Yt,{className:"h-6 w-6 text-orange-500 mx-auto mb-2"}),s.jsx("div",{className:"font-medium text-sm",children:"Hold"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"  "})]}),s.jsxs("div",{className:"p-3 border rounded-lg text-center",children:[s.jsx(ts,{className:"h-6 w-6 text-red-400 mx-auto mb-2"}),s.jsx("div",{className:"font-medium text-sm",children:"Reject"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:" "})]}),s.jsxs("div",{className:"p-3 border rounded-lg text-center",children:[s.jsx(ts,{className:"h-6 w-6 text-red-600 mx-auto mb-2"}),s.jsx("div",{className:"font-medium text-sm",children:"Block"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:" "})]})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:"  "}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-muted-foreground",children:[s.jsxs("li",{children:["   ",s.jsx("span",{className:"font-medium text-foreground",children:""})]}),s.jsxs("li",{children:["  ",s.jsx("span",{className:"font-medium text-foreground",children:" "})]}),s.jsx("li",{children:"    "}),s.jsx("li",{children:"   (, Fraud Score  Proxy/VPN)"}),s.jsx("li",{children:"  Fraud Score     ( 60-80)"}),s.jsx("li",{children:"    (Block, Reject, Hold, Flag  Allow)"}),s.jsx("li",{children:"  (  =  )"}),s.jsxs("li",{children:[" ",s.jsx("span",{className:"font-medium text-foreground",children:" "})]})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:" "}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("div",{className:"font-medium text-blue-400 mb-2",children:""}),s.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Proxy/VPN, "}),s.jsx("li",{children:" Datacenter IP"}),s.jsx("li",{children:" GEO "}),s.jsx("li",{children:" Fingerprint"})]})]}),s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("div",{className:"font-medium text-purple-400 mb-2",children:"Velocity ()"}),s.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("li",{children:" IP/ (10)"}),s.jsx("li",{children:" IP/ (100)"}),s.jsx("li",{children:" IP/ (500)"}),s.jsx("li",{children:" Fingerprint/ (30)"}),s.jsx("li",{children:" Publisher/ (100)"})]})]}),s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("div",{className:"font-medium text-orange-400 mb-2",children:""}),s.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("li",{children:"  "}),s.jsx("li",{children:"  "}),s.jsx("li",{children:"  email/"}),s.jsx("li",{children:"  transaction_id"})]})]}),s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("div",{className:"font-medium text-red-400 mb-2",children:""}),s.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("li",{children:" CR  (>50%)"}),s.jsx("li",{children:" AR  (>30%)"}),s.jsx("li",{children:" - baseline"}),s.jsx("li",{children:"  50+ "})]})]})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:" "}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsx(J,{className:"border-green-500/30 bg-green-500/5",children:s.jsxs(ne,{className:"pt-4",children:[s.jsx("h5",{className:"font-medium text-green-600 mb-2",children:" "}),s.jsxs("ul",{className:"text-xs space-y-1 text-muted-foreground",children:[s.jsx("li",{children:" Fraud Score  80  Block"}),s.jsx("li",{children:" Bot Detection  Reject"}),s.jsx("li",{children:" Velocity IP/  10  Block"}),s.jsx("li",{children:"    Reject"})]})]})}),s.jsx(J,{className:"border-orange-500/30 bg-orange-500/5",children:s.jsxs(ne,{className:"pt-4",children:[s.jsx("h5",{className:"font-medium text-orange-600 mb-2",children:" "}),s.jsxs("ul",{className:"text-xs space-y-1 text-muted-foreground",children:[s.jsx("li",{children:" Fraud Score  60  Block"}),s.jsx("li",{children:" Proxy/VPN  Reject"}),s.jsx("li",{children:" Velocity IP/  50  Flag"}),s.jsx("li",{children:" CR   Hold"}),s.jsx("li",{children:" Datacenter IP  Reject"})]})]})}),s.jsx(J,{className:"border-red-500/30 bg-red-500/5",children:s.jsxs(ne,{className:"pt-4",children:[s.jsx("h5",{className:"font-medium text-red-600 mb-2",children:" "}),s.jsxs("ul",{className:"text-xs space-y-1 text-muted-foreground",children:[s.jsx("li",{children:" Fraud Score  50  Block"}),s.jsx("li",{children:"  velocity  Block"}),s.jsx("li",{children:" Proxy/VPN  Block"}),s.jsx("li",{children:"    Reject"}),s.jsx("li",{children:" GEO mismatch  Reject"})]})]})})]})]}),e==="advertiser"&&s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[s.jsxs("h5",{className:"font-medium text-blue-400 mb-2 flex items-center gap-2",children:[s.jsx(Fn,{className:"h-4 w-4"})," "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"    ,       .    (  )       ."})]})})]})]})})]})]})}var sYe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],aYe=sYe.reduce((e,t)=>{const n=k_(`Primitive.${t}`),r=j.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),iYe="Separator",MK="horizontal",oYe=["horizontal","vertical"],Aoe=j.forwardRef((e,t)=>{const{decorative:n,orientation:r=MK,...a}=e,i=lYe(r)?r:MK,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(aYe.div,{"data-orientation":i,...l,...a,ref:t})});Aoe.displayName=iYe;function lYe(e){return oYe.includes(e)}var Eoe=Aoe;const rs=j.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>s.jsx(Eoe,{ref:a,decorative:n,orientation:t,className:Re("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));rs.displayName=Eoe.displayName;const Ou=j.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:Re("w-full caption-bottom text-sm",e),...t})}));Ou.displayName="Table";const Pu=j.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:Re("[&_tr]:border-b",e),...t}));Pu.displayName="TableHeader";const Mu=j.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:Re("[&_tr:last-child]:border-0",e),...t}));Mu.displayName="TableBody";const cYe=j.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:Re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));cYe.displayName="TableFooter";const Ra=j.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:Re("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ra.displayName="TableRow";const Ht=j.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:Re("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Ht.displayName="TableHead";const Kt=j.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:Re("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Kt.displayName="TableCell";const dYe=j.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:Re("mt-4 text-sm text-muted-foreground",e),...t}));dYe.displayName="TableCaption";const wO=[{id:"click",label:""},{id:"lead",label:""},{id:"sale",label:""},{id:"install",label:""},{id:"rejected",label:""},{id:"hold_released",label:"  "},{id:"payout_approved",label:" "},{id:"payout_paid",label:" "}];function uYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState({}),[o,l]=j.useState(null),[c,u]=j.useState({name:"",url:"",events:["lead","sale"],method:"POST"}),{data:f=[],isLoading:m}=Ne({queryKey:["/api/webhooks"]}),{data:p=[]}=Ne({queryKey:["/api/webhooks",o,"logs"],enabled:!!o,queryFn:async()=>{if(!o)return[];const C=await fetch(`/api/webhooks/${o}/logs`,{credentials:"include"});if(!C.ok)throw new Error("Failed to fetch logs");return C.json()}}),g=ve({mutationFn:async C=>{const S=await fetch("/api/webhooks",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(C)});if(!S.ok)throw new Error("Failed to create webhook");return S.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/webhooks"]}),r(!1),u({name:"",url:"",events:["lead","sale"],method:"POST"}),e({title:"Webhook "})},onError:()=>{e({title:"  webhook",variant:"destructive"})}}),v=ve({mutationFn:async C=>{if(!(await fetch(`/api/webhooks/${C}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete webhook")},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/webhooks"]}),e({title:"Webhook "})}}),y=ve({mutationFn:async({id:C,isActive:S})=>{if(!(await fetch(`/api/webhooks/${C}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({isActive:S})})).ok)throw new Error("Failed to update webhook")},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/webhooks"]})}}),w=ve({mutationFn:async C=>{const S=await fetch(`/api/webhooks/${C}/test`,{method:"POST",credentials:"include"});if(!S.ok)throw new Error("Failed to test webhook");return S.json()},onSuccess:C=>{C.success?e({title:" ",description:`HTTP ${C.statusCode}`}):e({title:"  ",description:C.error||`HTTP ${C.statusCode}`,variant:"destructive"})}}),N=ve({mutationFn:async C=>{const S=await fetch(`/api/webhooks/${C}/regenerate-secret`,{method:"POST",credentials:"include"});if(!S.ok)throw new Error("Failed to regenerate secret");return S.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/webhooks"]}),e({title:" "})}}),A=C=>{navigator.clipboard.writeText(C),e({title:""})},T=C=>{u(S=>({...S,events:S.events.includes(C)?S.events.filter(E=>E!==C):[...S.events,C]}))};return m?s.jsx("div",{className:"p-6 text-muted-foreground",children:"..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-webhooks-title",children:"Webhooks"}),s.jsx("p",{className:"text-muted-foreground",children:"      "})]}),s.jsxs(Wt,{open:n,onOpenChange:r,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{"data-testid":"button-create-webhook",children:[s.jsx(fr,{className:"w-4 h-4 mr-2"})," Webhook"]})}),s.jsxs(zt,{className:"sm:max-w-lg",children:[s.jsxs(qt,{children:[s.jsx(Ut,{children:" Webhook"}),s.jsx(ao,{children:" URL     "})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"name",children:""}),s.jsx(le,{id:"name",value:c.name,onChange:C=>u(S=>({...S,name:C.target.value})),placeholder:" Webhook","data-testid":"input-webhook-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"url",children:"URL"}),s.jsx(le,{id:"url",value:c.url,onChange:C=>u(S=>({...S,url:C.target.value})),placeholder:"https://example.com/webhook","data-testid":"input-webhook-url"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:wO.map(C=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($l,{id:`event-${C.id}`,checked:c.events.includes(C.id),onCheckedChange:()=>T(C.id),"data-testid":`checkbox-event-${C.id}`}),s.jsx("label",{htmlFor:`event-${C.id}`,className:"text-sm",children:C.label})]},C.id))})]})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:()=>r(!1),children:""}),s.jsx(U,{onClick:()=>g.mutate(c),disabled:!c.name||!c.url||c.events.length===0,"data-testid":"button-save-webhook",children:""})]})]})]})]}),f.length===0?s.jsx(J,{children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"    webhooks"}),s.jsxs(U,{variant:"outline",onClick:()=>r(!0),children:[s.jsx(fr,{className:"w-4 h-4 mr-2"}),"  webhook"]})]})}):s.jsx(kP,{type:"single",collapsible:!0,className:"space-y-2",children:f.map(C=>s.jsxs(z0,{value:C.id,className:"border rounded-lg bg-card",children:[s.jsx(q0,{className:"px-4 hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-4 w-full",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vr,{checked:C.isActive,onCheckedChange:S=>y.mutate({id:C.id,isActive:S}),onClick:S=>S.stopPropagation(),"data-testid":`switch-webhook-${C.id}`}),s.jsx("span",{className:"font-medium",children:C.name})]}),s.jsxs("div",{className:"flex gap-1 ml-auto mr-4",children:[C.events.slice(0,3).map(S=>s.jsx(ye,{variant:"secondary",className:"text-xs",children:wO.find(E=>E.id===S)?.label||S},S)),C.events.length>3&&s.jsxs(ye,{variant:"secondary",className:"text-xs",children:["+",C.events.length-3]})]}),C.lastError&&s.jsx(Ui,{className:"w-4 h-4 text-destructive"})]})}),s.jsx(U0,{className:"px-4 pb-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:"URL"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("code",{className:"flex-1 text-sm bg-muted px-2 py-1 rounded truncate",children:C.url}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>A(C.url),children:s.jsx(Yn,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:" "}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("code",{className:"flex-1 text-sm bg-muted px-2 py-1 rounded truncate",children:a[C.id]?C.secret:""}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>i(S=>({...S,[C.id]:!S[C.id]})),children:a[C.id]?s.jsx(ca,{className:"w-4 h-4"}):s.jsx(ur,{className:"w-4 h-4"})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>A(C.secret),children:s.jsx(Yn,{className:"w-4 h-4"})})]})]})]}),C.lastError&&s.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/30 rounded text-sm text-destructive",children:[s.jsx("strong",{children:" :"})," ",C.lastError,s.jsxs("span",{className:"ml-2 text-muted-foreground",children:["( ",C.failedAttempts,")"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>w.mutate(C.id),disabled:w.isPending,"data-testid":`button-test-webhook-${C.id}`,children:[s.jsx(epe,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>N.mutate(C.id),"data-testid":`button-regenerate-${C.id}`,children:[s.jsx(Br,{className:"w-4 h-4 mr-2"})," "]}),s.jsx(U,{variant:"outline",size:"sm",onClick:()=>l(o===C.id?null:C.id),children:""}),s.jsx(U,{variant:"destructive",size:"sm",onClick:()=>v.mutate(C.id),"data-testid":`button-delete-webhook-${C.id}`,children:s.jsx(Os,{className:"w-4 h-4"})})]}),o===C.id&&p.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx(te,{className:"text-xs text-muted-foreground mb-2 block",children:" "}),s.jsxs(Ou,{children:[s.jsx(Pu,{children:s.jsxs(Ra,{children:[s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:"HTTP"}),s.jsx(Ht,{children:""})]})}),s.jsx(Mu,{children:p.slice(0,10).map(S=>s.jsxs(Ra,{children:[s.jsx(Kt,{children:s.jsx(ye,{variant:"outline",children:wO.find(E=>E.id===S.eventType)?.label||S.eventType})}),s.jsx(Kt,{children:S.status==="success"?s.jsx(bt,{className:"w-4 h-4 text-green-500"}):s.jsx(Xn,{className:"w-4 h-4 text-red-500"})}),s.jsx(Kt,{children:S.statusCode||"-"}),s.jsx(Kt,{className:"text-muted-foreground",children:Py(new Date(S.createdAt),{addSuffix:!0,locale:Si})})]},S.id))})]})]})]})})]},C.id))}),s.jsxs(J,{className:"bg-muted/50",children:[s.jsxs(Pe,{children:[s.jsx(Ie,{className:"text-sm",children:" "}),s.jsx(et,{children:"     HMAC-SHA256"})]}),s.jsx(ne,{children:s.jsx("pre",{className:"text-xs bg-background p-4 rounded overflow-x-auto",children:`//    (Node.js)
const crypto = require('crypto');

function verifySignature(payload, signature, secret) {
  const expected = crypto
    .createHmac('sha256', secret)
    .update(payload)
    .digest('hex');
  return signature === expected;
}

//   webhook:
const signature = req.headers['x-webhook-signature'];
const isValid = verifySignature(req.body, signature, YOUR_SECRET);`})})]})]})}function fYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState({domain:""}),{data:c=[],isLoading:u}=Ne({queryKey:["/api/domains"]}),f=ve({mutationFn:async S=>{const E=await fetch("/api/domains",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(S)});if(!E.ok){const O=await E.json();throw new Error(O.message||"Failed to add domain")}return E.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/domains"]}),r(!1),l({domain:""}),e({title:" ",description:" DNS   "})},onError:S=>{e({title:"",description:S.message,variant:"destructive"})}}),m=ve({mutationFn:async S=>{if(!(await fetch(`/api/domains/${S}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete domain")},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/domains"]}),e({title:" "})}}),p=ve({mutationFn:async S=>{const E=await fetch(`/api/domains/${S}/verify`,{method:"POST",credentials:"include"});if(!E.ok){const O=await E.json();throw new Error(O.message||"Verification failed")}return E.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/domains"]}),e({title:" ",description:"SSL   "})},onError:S=>{e({title:"  ",description:S.message,variant:"destructive"})}}),g=ve({mutationFn:async S=>{const E=await fetch(`/api/domains/${S}/set-primary`,{method:"POST",credentials:"include"});if(!E.ok)throw new Error("Failed to set primary");return E.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/domains"]}),e({title:"  "})}}),v=ve({mutationFn:async S=>{const E=await fetch(`/api/domains/${S}/sync`,{method:"POST",credentials:"include"});if(!E.ok){const O=await E.json();throw new Error(O.message||"Sync failed")}return E.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/domains"]}),e({title:" "})},onError:S=>{e({title:" ",description:S.message,variant:"destructive"})}}),y=ve({mutationFn:async S=>{const E=await fetch(`/api/domains/${S}/reprovision`,{method:"POST",credentials:"include"});if(!E.ok){const O=await E.json();throw new Error(O.message||"Reprovision failed")}return E.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/domains"]}),e({title:" ",description:"  SSL"})},onError:S=>{e({title:" ",description:S.message,variant:"destructive"})}}),w=ve({mutationFn:async S=>{const E=await fetch(`/api/domains/${S}/check-ssl`,{method:"POST",credentials:"include"});if(!E.ok){const O=await E.json();throw new Error(O.message||"SSL check failed")}return E.json()},onSuccess:S=>{t.invalidateQueries({queryKey:["/api/domains"]}),S.sslCheck?.success?e({title:"SSL ",description:"   "}):e({title:"SSL  ",description:S.sslCheck?.error||"   "})},onError:S=>{e({title:"  SSL",description:S.message,variant:"destructive"})}}),N=ve({mutationFn:async({id:S,useForTracking:E})=>{const O=await fetch(`/api/domains/${S}/use-for-tracking`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({useForTracking:E})});if(!O.ok)throw new Error("Failed to update");return O.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/domains"]}),e({title:" "})}}),A=S=>{navigator.clipboard.writeText(S),e({title:""})},T=(S,E)=>{switch(S){case"ssl_active":case"active":return s.jsxs(ye,{variant:"default",className:"bg-green-500/20 text-green-400 border-green-500/30",children:[s.jsx(Fn,{className:"w-3 h-3 mr-1"}),"SSL "]});case"ssl_activating":return s.jsxs(ye,{variant:"secondary",className:"bg-blue-500/10 text-blue-400 border-blue-500/30",children:[s.jsx(Yt,{className:"w-3 h-3 mr-1 animate-spin"}),"SSL ..."]});case"verified_no_ssl":case"pending_external":return s.jsxs(ye,{variant:"outline",className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/30",children:[s.jsx(Yt,{className:"w-3 h-3 mr-1"}),"SSL  "]});case"ssl_failed":case"failed":return s.jsxs(ye,{variant:"destructive",children:[s.jsx(Xn,{className:"w-3 h-3 mr-1"}),"SSL "]});default:return s.jsxs(ye,{variant:"outline",children:[s.jsx(Yt,{className:"w-3 h-3 mr-1"}),""]})}},C=S=>S.sslStatus==="ssl_active"||S.sslStatus==="active"?s.jsxs(ye,{variant:"default",className:"bg-green-500/20 text-green-400 border-green-500/30",children:[s.jsx(bt,{className:"w-3 h-3 mr-1"}),"SSL "]}):S.isVerified?s.jsxs(ye,{variant:"secondary",className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/30",children:[s.jsx(Br,{className:"w-3 h-3 mr-1 animate-spin"}),"SSL "]}):S.sslStatus==="ssl_failed"||S.sslStatus==="failed"?s.jsxs(ye,{variant:"destructive",children:[s.jsx(Xn,{className:"w-3 h-3 mr-1"})," SSL"]}):s.jsxs(ye,{variant:"secondary",className:"bg-blue-500/10 text-blue-400 border-blue-500/30",children:[s.jsx(Yt,{className:"w-3 h-3 mr-1"})," DNS"]});return u?s.jsx("div",{className:"p-6 text-muted-foreground",children:"..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-domains-title",children:" "}),s.jsx("p",{className:"text-muted-foreground",children:"    -"})]}),s.jsxs(Wt,{open:n,onOpenChange:r,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{"data-testid":"button-add-domain",children:[s.jsx(fr,{className:"w-4 h-4 mr-2"})," "]})}),s.jsxs(zt,{className:"sm:max-w-lg",children:[s.jsxs(qt,{children:[s.jsx(Ut,{children:" "}),s.jsx(ao,{children:"   -"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"domain",children:""}),s.jsx(le,{id:"domain",value:o.domain,onChange:S=>l(E=>({...E,domain:S.target.value})),placeholder:"tracking.example.com","data-testid":"input-domain"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  , : track.yourdomain.com"})]}),s.jsxs("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg space-y-3",children:[s.jsx("p",{className:"text-sm font-medium text-blue-400",children:"  (self-service)"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.jsx("strong",{children:" 1:"}),"  "]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.jsx("strong",{children:" 2:"}),"  CNAME    (target  )"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.jsx("strong",{children:" 3:"}),'  " DNS"  SSL  ']})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:" DNS   1-5 "})]})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:()=>r(!1),children:""}),s.jsx(U,{onClick:()=>f.mutate(o),disabled:!o.domain||f.isPending,"data-testid":"button-save-domain",children:""})]})]})]})]}),c.length===0?s.jsx(J,{children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(jn,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"     "}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"  ,  -     "}),s.jsxs(U,{variant:"outline",onClick:()=>r(!0),children:[s.jsx(fr,{className:"w-4 h-4 mr-2"}),"  "]})]})}):s.jsx("div",{className:"space-y-4",children:c.map(S=>s.jsxs(J,{className:S.isPrimary?"border-primary":"",children:[s.jsx(Pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[S.isPrimary&&s.jsx(FO,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),s.jsx(Ie,{className:"text-lg font-mono",children:S.domain}),S.isVerified?s.jsxs(ye,{variant:"default",className:"bg-green-500/20 text-green-400",children:[s.jsx(bt,{className:"w-3 h-3 mr-1"}),""]}):s.jsxs(ye,{variant:"secondary",children:[s.jsx(Ui,{className:"w-3 h-3 mr-1"})," "]}),S.isVerified&&T(S.sslStatus,S.sslExpiresAt)]}),s.jsxs("div",{className:"flex gap-2",children:[S.isVerified&&!S.isPrimary&&s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>g.mutate(S.id),"data-testid":`button-set-primary-${S.id}`,children:[s.jsx(FO,{className:"w-4 h-4 mr-2"}),""]}),s.jsx(U,{variant:"destructive",size:"sm",onClick:()=>m.mutate(S.id),"data-testid":`button-delete-domain-${S.id}`,children:s.jsx(Os,{className:"w-4 h-4"})})]})]})}),s.jsxs(ne,{children:[C(S),S.requestStatus==="rejected"&&S.rejectionReason&&s.jsxs("div",{className:"mt-2 p-3 bg-destructive/10 border border-destructive/30 rounded text-sm text-destructive",children:[s.jsx("strong",{children:" :"})," ",S.rejectionReason]}),!S.isVerified&&s.jsxs("div",{className:"space-y-3 mt-4",children:[s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:" CNAME   :"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"text-xs text-muted-foreground",children:S.domain}),s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("code",{className:"flex-1 bg-muted px-2 py-1 rounded font-mono text-xs",children:S.dnsTarget||"(...)"}),S.dnsTarget&&s.jsx(U,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>A(S.dnsTarget),children:s.jsx(Yn,{className:"w-3 h-3"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:'  DNS  1-5    " DNS"'})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{onClick:()=>p.mutate(S.id),disabled:p.isPending,"data-testid":`button-verify-dns-${S.id}`,children:[s.jsx(Br,{className:`w-4 h-4 mr-2 ${p.isPending?"animate-spin":""}`})," DNS"]}),s.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>i(!0),children:[s.jsx(Sl,{className:"w-4 h-4 mr-1"}),""]})]}),S.lastError&&s.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/30 rounded text-sm text-destructive",children:S.lastError})]}),S.isVerified&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[S.useForTracking?s.jsx(ZM,{className:"w-4 h-4 text-green-500"}):s.jsx(Fn,{className:"w-4 h-4 text-blue-500"}),s.jsxs("div",{children:[s.jsx(te,{className:"text-sm font-medium",children:S.useForTracking?" -":"   "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:S.useForTracking?"      ":"     (white-label)"})]})]}),s.jsx(vr,{checked:S.useForTracking??!0,onCheckedChange:E=>N.mutate({id:S.id,useForTracking:E}),"data-testid":`switch-tracking-${S.id}`})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:S.useForTracking?" -":"   "}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("code",{className:"flex-1 text-sm bg-muted px-2 py-1 rounded truncate",children:S.useForTracking?`https://${S.domain}/click/offer-id/landing-id`:`https://${S.domain}/login`}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>A(S.useForTracking?`https://${S.domain}/click/offer-id/landing-id`:`https://${S.domain}/login`),children:s.jsx(Yn,{className:"w-4 h-4"})})]})]}),S.sslExpiresAt&&s.jsxs("div",{children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:"SSL "}),s.jsx("p",{className:"text-sm mt-1",children:Eu(new Date(S.sslExpiresAt),"d MMMM yyyy",{locale:Si})})]})]}),S.sslStatus!=="ssl_active"&&S.sslStatus!=="active"&&s.jsxs("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-400",children:"SSL  "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  1-5 .     ."})]}),s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>w.mutate(S.id),disabled:w.isPending,"data-testid":`button-check-ssl-${S.id}`,children:[s.jsx(Br,{className:`w-4 h-4 mr-2 ${w.isPending?"animate-spin":""}`})," SSL"]})]}),s.jsxs("div",{className:"flex gap-2",children:[S.cloudflareHostnameId&&(S.sslStatus==="ssl_active"||S.sslStatus==="active")&&s.jsxs(U,{variant:"outline",onClick:()=>v.mutate(S.id),disabled:v.isPending,"data-testid":`button-sync-${S.id}`,children:[s.jsx(Br,{className:`w-4 h-4 mr-2 ${v.isPending?"animate-spin":""}`}),""]}),(S.sslStatus==="ssl_failed"||S.sslStatus==="failed")&&s.jsxs(U,{variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-500/10",onClick:()=>y.mutate(S.id),disabled:y.isPending,"data-testid":`button-reprovision-${S.id}`,children:[s.jsx(Br,{className:`w-4 h-4 mr-2 ${y.isPending?"animate-spin":""}`}),""]})]}),S.cloudflareHostnameId&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Cloudflare: ",S.cloudflareStatus||"pending"," | SSL: ",S.cloudflareSslStatus||"pending"]}),S.lastError&&s.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/30 rounded text-sm text-destructive",children:S.lastError})]})]})]},S.id))}),s.jsx(Wt,{open:a,onOpenChange:i,children:s.jsxs(zt,{className:"max-w-lg",children:[s.jsxs(qt,{children:[s.jsx(Ut,{children:"   "}),s.jsx(ao,{children:"Self-service    3 "})]}),s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs font-bold shrink-0",children:"1"}),s.jsx("p",{children:'     " "'})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs font-bold shrink-0",children:"2"}),s.jsxs("div",{children:[s.jsx("p",{children:" CNAME    :"}),s.jsx("div",{className:"mt-2 p-2 bg-muted rounded",children:s.jsx("code",{className:"text-xs",children:"-.com  CNAME target (   )"})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"   1-5 "})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs font-bold shrink-0",children:"3"}),s.jsx("p",{children:' " DNS"     SSL-'})]})]}),s.jsxs("div",{className:"p-3 bg-green-500/10 border border-green-500/20 rounded-lg",children:[s.jsx("p",{className:"font-medium text-green-400 mb-2",children:" "}),s.jsxs("div",{className:"space-y-2 text-muted-foreground text-xs",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-green-400",children:" -"}),"       (: trk.brand.com)"]}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-blue-400",children:"  "}),"          (: partners.brand.com)"]})]})]}),s.jsxs("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[s.jsx("p",{className:"font-medium text-blue-400 mb-2",children:" "}),s.jsx("p",{className:"text-muted-foreground text-xs",children:'      ""     .         white-label.'})]})]}),s.jsx(Ks,{children:s.jsx(U,{onClick:()=>i(!1),children:""})})]})}),s.jsxs(U,{variant:"outline",onClick:()=>i(!0),className:"w-full","data-testid":"button-help",children:[s.jsx(Sl,{className:"w-4 h-4 mr-2"}),"  "]})]})}function Ooe(){const[e,t]=j.useState(""),[n,r]=j.useState(null),{data:a=[],isLoading:i}=Ne({queryKey:["/api/test/e2e/offers"]}),o=ve({mutationFn:async c=>(await Be("POST","/api/test/e2e",{offerId:c})).json(),onSuccess:c=>{r(c)},onError:c=>{r({timestamp:new Date().toISOString(),offerId:e,offerName:"",steps:[],success:!1,summary:`Error: ${c.message}`})}}),l=()=>{e&&(r(null),o.mutate(e))};return s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(a_,{className:"h-5 w-5"}),"E2E "]}),s.jsx(et,{children:"  :      (  )"})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4 items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"   "}),s.jsxs(ht,{value:e,onValueChange:t,children:[s.jsx(dt,{"data-testid":"select-e2e-offer",children:s.jsx(mt,{placeholder:i?"...":" "})}),s.jsx(ut,{children:a.map(c=>s.jsxs(ke,{value:c.id.toString(),children:[c.name," ($",c.payoutAmount,")"]},c.id))})]})]}),s.jsx(U,{onClick:l,disabled:!e||o.isPending,"data-testid":"button-run-e2e-test",children:o.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Kc,{className:"h-4 w-4 mr-2"})," "]})})]}),a.length===0&&!i&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground p-4 border rounded-lg",children:[s.jsx(Kn,{className:"h-4 w-4"}),s.jsx("span",{children:"    .     ."})]}),n&&s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsxs("div",{className:`p-4 rounded-lg ${n.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"} border`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.success?s.jsx(Vs,{className:"h-5 w-5 text-green-600"}):s.jsx(ts,{className:"h-5 w-5 text-red-600"}),s.jsx("span",{className:`font-semibold ${n.success?"text-green-700":"text-red-700"}`,children:n.success?" ":"  "})]}),s.jsx("p",{className:`text-sm ${n.success?"text-green-600":"text-red-600"}`,children:n.summary})]}),s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-muted px-4 py-2 border-b",children:[s.jsx("span",{className:"font-medium",children:" "}),s.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:[n.offerName,"  ",new Date(n.timestamp).toLocaleString()]})]}),s.jsx("div",{className:"divide-y",children:n.steps.map(c=>s.jsxs("div",{className:"px-4 py-3 flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:c.status==="passed"?s.jsx(Vs,{className:"h-4 w-4 text-green-500"}):s.jsx(ts,{className:"h-4 w-4 text-red-500"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ye,{variant:"outline",className:"text-xs",children:[" ",c.step]}),s.jsx("span",{className:"font-medium",children:c.name})]}),c.data&&s.jsx("div",{className:"mt-1 text-xs text-muted-foreground font-mono bg-muted/50 p-2 rounded",children:Object.entries(c.data).map(([u,f])=>s.jsxs("div",{children:[s.jsxs("span",{className:"text-foreground",children:[u,":"]})," ",JSON.stringify(f)]},u))}),c.error&&s.jsx("div",{className:"mt-1 text-xs text-red-600",children:c.error})]})]},c.step))})]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-4 p-3 bg-muted/50 rounded-lg",children:[s.jsx("strong",{children:"  :"}),s.jsxs("ol",{className:"list-decimal list-inside mt-1 space-y-1",children:[s.jsx("li",{children:"     "}),s.jsx("li",{children:"  "}),s.jsx("li",{children:"    ( )"}),s.jsx("li",{children:"  "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"  "})]}),s.jsx("p",{className:"mt-2 text-green-600 font-medium",children:" :    "})]})]})]})}const NO={name:"",brand:"",contact:"",chatLink:"",siteName:"",login:"",password:"",siteUrl:""};function hYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState(null),[o,l]=j.useState(NO),[c,u]=j.useState(!1),{data:f=[],isLoading:m}=Ne({queryKey:["/api/advertiser/sources"]}),p=ve({mutationFn:S=>Be("POST","/api/advertiser/sources",S),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/advertiser/sources"]}),e({title:" "}),N()},onError:()=>{e({title:"",description:"   ",variant:"destructive"})}}),g=ve({mutationFn:({id:S,data:E})=>Be("PUT",`/api/advertiser/sources/${S}`,E),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/advertiser/sources"]}),e({title:" "}),N()},onError:()=>{e({title:"",description:"   ",variant:"destructive"})}}),v=ve({mutationFn:S=>Be("DELETE",`/api/advertiser/sources/${S}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/advertiser/sources"]}),e({title:" "})},onError:()=>{e({title:"",description:"   ",variant:"destructive"})}}),y=()=>{i(null),l(NO),u(!1),r(!0)},w=S=>{i(S),l({name:S.name,brand:S.brand||"",contact:S.contact||"",chatLink:S.chatLink||"",siteName:S.siteName||"",login:S.login||"",password:"",siteUrl:S.siteUrl||""}),u(!1),r(!0)},N=()=>{r(!1),i(null),l(NO)},A=S=>{if(S.preventDefault(),!o.name.trim()){e({title:"",description:" ",variant:"destructive"});return}if(a){const E={...o};E.password||delete E.password,g.mutate({id:a.id,data:E})}else p.mutate(o)},T=S=>{confirm(`  "${S.name}"?`)&&v.mutate(S.id)},C=p.isPending||g.isPending;return s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(er,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"-,   "})]}),s.jsxs(Wt,{open:n,onOpenChange:r,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{onClick:y,"data-testid":"button-add-source",children:[s.jsx(fr,{className:"h-4 w-4 mr-2"}),""]})}),s.jsxs(zt,{className:"max-w-md",children:[s.jsx(qt,{children:s.jsx(Ut,{children:a?" ":" "})}),s.jsxs("form",{onSubmit:A,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(te,{htmlFor:"name",children:" *"}),s.jsx(le,{id:"name",value:o.name,onChange:S=>l({...o,name:S.target.value}),placeholder:"Royal Partners","data-testid":"input-source-name"})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"brand",children:""}),s.jsx(le,{id:"brand",value:o.brand,onChange:S=>l({...o,brand:S.target.value}),placeholder:"888casino","data-testid":"input-source-brand"})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"contact",children:""}),s.jsx(le,{id:"contact",value:o.contact,onChange:S=>l({...o,contact:S.target.value}),placeholder:"manager@example.com","data-testid":"input-source-contact"})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"chatLink",children:"  "}),s.jsx(le,{id:"chatLink",value:o.chatLink,onChange:S=>l({...o,chatLink:S.target.value}),placeholder:"https://t.me/manager","data-testid":"input-source-chat"})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"siteName",children:" "}),s.jsx(le,{id:"siteName",value:o.siteName,onChange:S=>l({...o,siteName:S.target.value}),placeholder:"Royal Partners","data-testid":"input-source-sitename"})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"siteUrl",children:"  "}),s.jsx(le,{id:"siteUrl",value:o.siteUrl,onChange:S=>l({...o,siteUrl:S.target.value}),placeholder:"https://royal.partners","data-testid":"input-source-siteurl"})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"login",children:""}),s.jsx(le,{id:"login",value:o.login,onChange:S=>l({...o,login:S.target.value}),placeholder:"mylogin","data-testid":"input-source-login"})]}),s.jsxs("div",{children:[s.jsxs(te,{htmlFor:"password",children:[" ",a?.hasPassword&&"(   )"]}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"password",type:c?"text":"password",value:o.password,onChange:S=>l({...o,password:S.target.value}),placeholder:"","data-testid":"input-source-password"}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:()=>u(!c),"data-testid":"button-toggle-password",children:c?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(U,{type:"button",variant:"outline",onClick:N,"data-testid":"button-cancel-source",children:""}),s.jsxs(U,{type:"submit",disabled:C,"data-testid":"button-save-source",children:[C&&s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}),a?"":""]})]})]})]})]})]})}),s.jsx(ne,{children:m?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"h-6 w-6 animate-spin"})}):f.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:" .    ."}):s.jsxs(Ou,{children:[s.jsx(Pu,{children:s.jsxs(Ra,{children:[s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{className:"w-[100px]",children:""})]})}),s.jsx(Mu,{children:f.map(S=>s.jsxs(Ra,{"data-testid":`row-source-${S.id}`,children:[s.jsx(Kt,{className:"font-medium",children:S.name}),s.jsx(Kt,{children:S.brand||"-"}),s.jsx(Kt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[S.contact||"-",S.chatLink&&s.jsx("a",{href:S.chatLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700","data-testid":`link-chat-${S.id}`,children:s.jsx(Hw,{className:"h-4 w-4"})})]})}),s.jsx(Kt,{children:S.siteUrl?s.jsxs("a",{href:S.siteUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-blue-500 hover:text-blue-700","data-testid":`link-site-${S.id}`,children:[S.siteName||"",s.jsx(ph,{className:"h-3 w-3"})]}):S.siteName||"-"}),s.jsxs(Kt,{children:[S.login||"-",S.hasPassword&&s.jsx("span",{className:"ml-1 text-green-500",children:""})]}),s.jsx(Kt,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>w(S),"data-testid":`button-edit-source-${S.id}`,children:s.jsx(GW,{className:"h-4 w-4"})}),s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>T(S),className:"text-red-500 hover:text-red-700","data-testid":`button-delete-source-${S.id}`,children:s.jsx(Os,{className:"h-4 w-4"})})]})})]},S.id))})]})})]})}function mYe(){const{t:e}=as();Dt(),rt();const[t,n]=j.useState("profile");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-settings-title",children:""}),s.jsx("p",{className:"text-muted-foreground",children:" ,   "})]}),s.jsxs(uo,{value:t,onValueChange:n,className:"space-y-6",children:[s.jsx("div",{className:"overflow-x-auto -mx-2 px-2 pb-2",children:s.jsxs(ki,{className:"inline-flex w-auto min-w-full md:grid md:w-full md:grid-cols-10 gap-1",children:[s.jsxs(lt,{value:"profile",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-blue-500 data-[state=active]:text-white","data-testid":"tab-profile",children:[s.jsx(Or,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"subscription",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-yellow-500 data-[state=active]:text-white","data-testid":"tab-subscription",children:[s.jsx(On,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"security",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-red-500 data-[state=active]:text-white","data-testid":"tab-security",children:[s.jsx(ns,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"whitelabel",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-purple-500 data-[state=active]:text-white","data-testid":"tab-whitelabel",children:[s.jsx(n_,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"White-label"})]}),s.jsxs(lt,{value:"domains",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-indigo-500 data-[state=active]:text-white","data-testid":"tab-domains",children:[s.jsx(jn,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"notifications",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-amber-500 data-[state=active]:text-white","data-testid":"tab-notifications",children:[s.jsx(_o,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"webhooks",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-teal-500 data-[state=active]:text-white","data-testid":"tab-webhooks",children:[s.jsx(i_,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Webhooks"})]}),s.jsxs(lt,{value:"testing",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-cyan-500 data-[state=active]:text-white","data-testid":"tab-testing",children:[s.jsx(a_,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"migration",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-emerald-500 data-[state=active]:text-white","data-testid":"tab-migration",children:[s.jsx(Ux,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"sources",className:"flex items-center gap-2 whitespace-nowrap data-[state=active]:bg-orange-500 data-[state=active]:text-white","data-testid":"tab-sources",children:[s.jsx(er,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]})]})}),s.jsx(ct,{value:"profile",children:s.jsx(pYe,{})}),s.jsx(ct,{value:"subscription",children:s.jsx(bYe,{})}),s.jsx(ct,{value:"security",children:s.jsx(xYe,{})}),s.jsx(ct,{value:"whitelabel",children:s.jsx(gYe,{})}),s.jsx(ct,{value:"domains",children:s.jsx(fYe,{})}),s.jsx(ct,{value:"notifications",children:s.jsx(yYe,{})}),s.jsx(ct,{value:"webhooks",children:s.jsx(jYe,{})}),s.jsx(ct,{value:"testing",children:s.jsx(Ooe,{})}),s.jsx(ct,{value:"migration",children:s.jsx(vYe,{})}),s.jsx(ct,{value:"sources",children:s.jsx(hYe,{})})]})]})}function pYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState({companyName:"",email:"",phone:"",telegram:"",logoUrl:""}),{data:a,isLoading:i}=Ne({queryKey:["/api/user"]});j.useEffect(()=>{a&&r({companyName:a.companyName||"",email:a.email||"",phone:a.phone||"",telegram:a.telegram||"",logoUrl:a.logoUrl||""})},[a]);const o=ve({mutationFn:l=>Be("PATCH","/api/user/profile",l),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),e({title:" "})},onError:l=>{e({title:"",description:l.message,variant:"destructive"})}});return i?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin"})}):s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"   ,  "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"companyName",children:" "}),s.jsx(le,{id:"companyName","data-testid":"input-company-name",value:n.companyName,onChange:l=>r({...n,companyName:l.target.value}),placeholder:" "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"email",children:"Email"}),s.jsx(le,{id:"email",type:"email","data-testid":"input-email",value:n.email,onChange:l=>r({...n,email:l.target.value}),placeholder:"contact@company.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"phone",children:""}),s.jsx(le,{id:"phone","data-testid":"input-phone",value:n.phone,onChange:l=>r({...n,phone:l.target.value}),placeholder:"+7 999 123-45-67"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"telegram",children:"Telegram"}),s.jsx(le,{id:"telegram","data-testid":"input-telegram",value:n.telegram,onChange:l=>r({...n,telegram:l.target.value}),placeholder:"@username"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"logoUrl",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{id:"logoUrl","data-testid":"input-logo-url",value:n.logoUrl,onChange:l=>r({...n,logoUrl:l.target.value}),placeholder:"https://example.com/logo.png",className:"flex-1"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer","data-testid":"input-logo-file",onChange:async l=>{const c=l.target.files?.[0];if(c)try{const u=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:c.name,size:c.size,contentType:c.type})}),{uploadURL:f,objectPath:m}=await u.json();await fetch(f,{method:"PUT",body:c,headers:{"Content-Type":c.type}});const p=Ph(m);r({...n,logoUrl:p||""})}catch(u){console.error("Upload failed:",u)}}}),s.jsxs(U,{type:"button",variant:"outline",size:"sm",className:"pointer-events-none",children:[s.jsx(du,{className:"w-4 h-4 mr-1"}),""]})]})]}),n.logoUrl&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:n.logoUrl,alt:"Logo preview",className:"h-16 w-16 object-contain border rounded"})})]}),s.jsxs(U,{onClick:()=>o.mutate(n),disabled:o.isPending,"data-testid":"button-save-profile",children:[o.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"}),""]})]})]})}function xYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,u]=j.useState(!1),[f,m]=j.useState(""),[p,g]=j.useState(""),[v,y]=j.useState(""),[w,N]=j.useState(""),{data:A}=Ne({queryKey:["/api/user"]}),T=ve({mutationFn:M=>Be("PATCH","/api/user/password",M),onSuccess:()=>{l({currentPassword:"",newPassword:"",confirmPassword:""}),e({title:" "})},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),C=ve({mutationFn:async()=>(await Be("POST","/api/user/2fa/setup",{})).json(),onSuccess:M=>{m(M.secret),g(M.qrCode),u(!0)},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),S=ve({mutationFn:M=>Be("POST","/api/user/2fa/enable",M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),u(!1),m(""),g(""),y(""),e({title:"2FA ",description:"   "})},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),E=ve({mutationFn:M=>Be("POST","/api/user/2fa/disable",{token:M}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),N(""),u(!1),m(""),g(""),e({title:"2FA "})},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),O=()=>{if(o.newPassword!==o.confirmPassword){e({title:"",description:"  ",variant:"destructive"});return}if(o.newPassword.length<6){e({title:"",description:"     6 ",variant:"destructive"});return}T.mutate({currentPassword:o.currentPassword,newPassword:o.newPassword})},_=()=>{if(v.length!==6){e({title:"",description:" 6- ",variant:"destructive"});return}S.mutate({secret:f,token:v})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(ns,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"     "})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"currentPassword",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"currentPassword",type:n?"text":"password","data-testid":"input-current-password",value:o.currentPassword,onChange:M=>l({...o,currentPassword:M.target.value})}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>r(!n),children:n?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"newPassword",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"newPassword",type:a?"text":"password","data-testid":"input-new-password",value:o.newPassword,onChange:M=>l({...o,newPassword:M.target.value})}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>i(!a),children:a?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"confirmPassword",children:" "}),s.jsx(le,{id:"confirmPassword",type:"password","data-testid":"input-confirm-password",value:o.confirmPassword,onChange:M=>l({...o,confirmPassword:M.target.value})})]}),s.jsxs(U,{onClick:O,disabled:T.isPending,"data-testid":"button-change-password",children:[T.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Da,{className:"h-4 w-4 mr-2"})," "]})]})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5"}),"  (2FA)"]}),s.jsx(et,{children:"      TOTP"})]}),s.jsx(ne,{className:"space-y-4",children:A?.twoFactorEnabled?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-lg flex items-center gap-3",children:[s.jsx(Vs,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"text-sm",children:"2FA .   ."})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(te,{children:"     "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{placeholder:"000000",value:w,onChange:M=>N(M.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"w-32 text-center font-mono text-lg","data-testid":"input-disable-2fa-code"}),s.jsx(U,{variant:"destructive",onClick:()=>E.mutate(w),disabled:E.isPending||w.length!==6,"data-testid":"button-disable-2fa",children:E.isPending?s.jsx(we,{className:"h-4 w-4 animate-spin"}):" 2FA"})]})]})]}):c?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:" QR-   Google Authenticator     "}),p&&s.jsx("img",{src:p,alt:"QR Code",className:"mx-auto border rounded-lg","data-testid":"img-qr-code"}),s.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:"  (  )"}),s.jsx("p",{className:"font-mono text-sm select-all","data-testid":"text-totp-secret",children:f})]})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" 6-   "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{placeholder:"000000",value:v,onChange:M=>y(M.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"w-32 text-center font-mono text-lg","data-testid":"input-verification-code"}),s.jsx(U,{onClick:_,disabled:S.isPending||v.length!==6,"data-testid":"button-verify-2fa",children:S.isPending?s.jsx(we,{className:"h-4 w-4 animate-spin"}):""}),s.jsx(U,{variant:"outline",onClick:()=>u(!1),children:""})]})]})]}):s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"font-medium",children:"2FA  TOTP"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:" Google Authenticator, Authy   "})]}),s.jsxs(U,{onClick:()=>C.mutate(),disabled:C.isPending,"data-testid":"button-setup-2fa",children:[C.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Fn,{className:"h-4 w-4 mr-2"})," 2FA"]})]})})})]})]})}function gYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState({brandName:"",logoUrl:"",faviconUrl:"",hidePlatformBranding:!1}),{data:a,isLoading:i}=Ne({queryKey:["/api/advertiser/settings"]});j.useEffect(()=>{a&&r({brandName:a.brandName||"",logoUrl:a.logoUrl||"",faviconUrl:a.faviconUrl||"",hidePlatformBranding:a.hidePlatformBranding||!1})},[a]);const o=ve({mutationFn:l=>Be("PATCH","/api/advertiser/settings/whitelabel",l),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/advertiser/settings"]}),e({title:"White-label  "})},onError:l=>{e({title:"",description:l.message,variant:"destructive"})}});return i?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{className:"bg-blue-500/10 border-blue-500/30",children:[s.jsx(Pe,{className:"pb-3",children:s.jsxs(Ie,{className:"text-base flex items-center gap-2 text-blue-400",children:[s.jsx(VW,{className:"h-4 w-4"}),"  White-label"]})}),s.jsxs(ne,{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"1.  "}),"        "]}),s.jsxs("p",{children:[s.jsx("strong",{children:"2. "}),"          (  )"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"3.   "}),"         "]}),s.jsx("p",{className:"text-blue-400 pt-2",children:'  white-label      ""'})]})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(n_,{className:"h-5 w-5"}),"White-label "]}),s.jsx(et,{children:"    "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"brandName",children:" "}),s.jsx(le,{id:"brandName","data-testid":"input-brand-name",value:n.brandName,onChange:l=>r({...n,brandName:l.target.value}),placeholder:" "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:",       "})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"wlLogoUrl",children:" "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{id:"wlLogoUrl","data-testid":"input-wl-logo-url",value:n.logoUrl,onChange:l=>r({...n,logoUrl:l.target.value}),placeholder:"https://example.com/logo.png",className:"flex-1"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer","data-testid":"input-wl-logo-file",onChange:async l=>{const c=l.target.files?.[0];if(c)try{const u=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:c.name,size:c.size,contentType:c.type})}),{uploadURL:f,objectPath:m}=await u.json();await fetch(f,{method:"PUT",body:c,headers:{"Content-Type":c.type}});const p=Ph(m);r({...n,logoUrl:p||""})}catch(u){console.error("Upload failed:",u)}}}),s.jsxs(U,{type:"button",variant:"outline",size:"sm",className:"pointer-events-none",children:[s.jsx(du,{className:"w-4 h-4 mr-1"}),""]})]})]}),n.logoUrl&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:n.logoUrl,alt:"Logo preview",className:"h-16 w-16 object-contain border rounded"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"faviconUrl",children:"Favicon ( )"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{id:"faviconUrl","data-testid":"input-favicon-url",value:n.faviconUrl,onChange:l=>r({...n,faviconUrl:l.target.value}),placeholder:"https://example.com/favicon.ico",className:"flex-1"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",accept:"image/*,.ico",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer","data-testid":"input-favicon-file",onChange:async l=>{const c=l.target.files?.[0];if(c)try{const u=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:c.name,size:c.size,contentType:c.type})}),{uploadURL:f,objectPath:m}=await u.json();await fetch(f,{method:"PUT",body:c,headers:{"Content-Type":c.type}});const p=Ph(m);r({...n,faviconUrl:p||""})}catch(u){console.error("Upload failed:",u)}}}),s.jsxs(U,{type:"button",variant:"outline",size:"sm",className:"pointer-events-none",children:[s.jsx(du,{className:"w-4 h-4 mr-1"}),""]})]})]}),n.faviconUrl&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:n.faviconUrl,alt:"Favicon preview",className:"h-8 w-8 object-contain border rounded"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"URL     (16x16  32x32 px)"})]}),s.jsx(rs,{className:"my-4"}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"font-medium",children:"  "}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"     "})]}),s.jsx(vr,{checked:n.hidePlatformBranding,onCheckedChange:l=>r({...n,hidePlatformBranding:l}),"data-testid":"switch-hide-branding"})]}),s.jsx(rs,{className:"my-4"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(IO,{className:"h-5 w-5"}),s.jsx("div",{className:"font-medium",children:"FingerprintJS "})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"     landing page   fingerprint    .    visitor_id  tracking ."}),s.jsxs("div",{className:"relative",children:[s.jsx("pre",{className:"bg-muted p-3 rounded-md font-mono text-xs overflow-x-auto max-h-48 whitespace-pre-wrap",children:`<!-- FingerprintJS Integration -->
<script src="https://cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs@4/dist/fp.min.js"><\/script>
<script>
(function() {
  var fpPromise = FingerprintJS.load();
  
  window.AffiliateTracker = {
    getVisitorId: function() {
      return fpPromise.then(function(fp) {
        return fp.get();
      }).then(function(result) {
        return {
          visitorId: result.visitorId,
          confidence: result.confidence.score
        };
      });
    },
    
    enhanceLinks: function() {
      var domain = '${window.location.host}';
      this.getVisitorId().then(function(data) {
        document.querySelectorAll('a[href*="' + domain + '"]').forEach(function(link) {
          var url = new URL(link.href);
          url.searchParams.set('visitor_id', data.visitorId);
          url.searchParams.set('fp_confidence', data.confidence.toString());
          link.href = url.toString();
        });
      });
    }
  };
  
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', function() {
      window.AffiliateTracker.enhanceLinks();
    });
  } else {
    window.AffiliateTracker.enhanceLinks();
  }
})();
<\/script>`}),s.jsxs(U,{variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>{const l=document.querySelector("pre")?.textContent||"";navigator.clipboard.writeText(l),e({title:"    "})},"data-testid":"button-copy-fingerprint-script",children:[s.jsx(Yn,{className:"h-3 w-3 mr-1"}),""]})]})]}),s.jsxs(U,{onClick:()=>o.mutate(n),disabled:o.isPending,"data-testid":"button-save-whitelabel",children:[o.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"}),""]})]})]})]})}function yYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState({telegramBotToken:"",telegramChatId:"",telegramNotifyLeads:!0,telegramNotifySales:!0,telegramNotifyPayouts:!0,telegramNotifySystem:!0}),[o,l]=j.useState({emailNotifyLeads:!0,emailNotifySales:!0,emailNotifyPayouts:!0,emailNotifySystem:!0,smtpHost:"",smtpPort:587,smtpUser:"",smtpPassword:"",smtpFromEmail:"",smtpFromName:""}),{data:c}=Ne({queryKey:["/api/user"]}),{data:u}=Ne({queryKey:["/api/advertiser/settings"]});j.useEffect(()=>{c&&i({telegramBotToken:"",telegramChatId:c.telegramChatId||"",telegramNotifyLeads:c.telegramNotifyLeads??!0,telegramNotifySales:c.telegramNotifySales??!0,telegramNotifyPayouts:c.telegramNotifyPayouts??!0,telegramNotifySystem:c.telegramNotifySystem??!0})},[c]),j.useEffect(()=>{u&&l({emailNotifyLeads:u.emailNotifyLeads??!0,emailNotifySales:u.emailNotifySales??!0,emailNotifyPayouts:u.emailNotifyPayouts??!0,emailNotifySystem:u.emailNotifySystem??!0,smtpHost:u.smtpHost||"",smtpPort:u.smtpPort||587,smtpUser:u.smtpUser||"",smtpPassword:"",smtpFromEmail:u.smtpFromEmail||"",smtpFromName:u.smtpFromName||""})},[u]);const f=ve({mutationFn:g=>Be("POST","/api/user/notifications/telegram",g),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),e({title:"Telegram  "})},onError:g=>{e({title:"",description:g.message,variant:"destructive"})}}),m=ve({mutationFn:g=>Be("POST","/api/advertiser/settings/email",g),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/advertiser/settings"]}),e({title:"Email  "})},onError:g=>{e({title:"",description:g.message,variant:"destructive"})}}),p=ve({mutationFn:()=>Be("POST","/api/user/notifications/telegram/test"),onSuccess:()=>{e({title:"  "})},onError:g=>{e({title:"",description:g.message,variant:"destructive"})}});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Hw,{className:"h-5 w-5"}),"Telegram "]}),s.jsx(et,{children:"    Telegram"})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:" :"}),s.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 list-decimal list-inside",children:[s.jsxs("li",{children:["    ",s.jsx("a",{href:"https://t.me/primetrack_notify_bot",target:"_blank",rel:"noopener noreferrer",className:"font-medium text-primary hover:underline",children:"@primetrack_notify_bot"}),"  Telegram"]}),s.jsx("li",{children:"  Chat ID  @userinfobot"}),s.jsx("li",{children:" Chat ID "})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["    ",s.jsx("a",{href:"https://t.me/primetrack_notify_bot",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"@primetrack_notify_bot"})," .         ."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{htmlFor:"chatId",children:["Chat ID ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(le,{id:"chatId","data-testid":"input-chat-id",value:a.telegramChatId,onChange:g=>i({...a,telegramChatId:g.target.value}),placeholder:"123456789"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  @userinfobot  Telegram"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"botToken",children:"Bot Token ()"}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"botToken",type:n?"text":"password","data-testid":"input-bot-token",value:a.telegramBotToken,onChange:g=>i({...a,telegramBotToken:g.target.value}),placeholder:"     "}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>r(!n),children:n?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"      "})]})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:" "}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{key:"telegramNotifyLeads",label:" "},{key:"telegramNotifySales",label:""},{key:"telegramNotifyPayouts",label:""},{key:"telegramNotifySystem",label:""}].map(g=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsx("span",{children:g.label}),s.jsx(vr,{checked:a[g.key],onCheckedChange:v=>i({...a,[g.key]:v}),"data-testid":`switch-${g.key}`})]},g.key))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{onClick:()=>f.mutate(a),disabled:f.isPending,"data-testid":"button-save-telegram",children:[f.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs(U,{variant:"outline",onClick:()=>p.mutate(),disabled:p.isPending||!a.telegramChatId,"data-testid":"button-test-telegram",children:[p.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(dr,{className:"h-4 w-4 mr-2"}),""]})]})]})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Ji,{className:"h-5 w-5"}),"Email "]}),s.jsx(et,{children:" SMTP   email "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"smtpHost",children:"SMTP "}),s.jsx(le,{id:"smtpHost","data-testid":"input-smtp-host",value:o.smtpHost,onChange:g=>l({...o,smtpHost:g.target.value}),placeholder:"smtp.gmail.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"smtpPort",children:"SMTP "}),s.jsx(le,{id:"smtpPort",type:"number","data-testid":"input-smtp-port",value:o.smtpPort,onChange:g=>l({...o,smtpPort:parseInt(g.target.value)}),placeholder:"587"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"smtpUser",children:"SMTP "}),s.jsx(le,{id:"smtpUser","data-testid":"input-smtp-user",value:o.smtpUser,onChange:g=>l({...o,smtpUser:g.target.value}),placeholder:"user@gmail.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"smtpPassword",children:"SMTP "}),s.jsx(le,{id:"smtpPassword",type:"password","data-testid":"input-smtp-password",value:o.smtpPassword,onChange:g=>l({...o,smtpPassword:g.target.value}),placeholder:""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"smtpFromEmail",children:"Email "}),s.jsx(le,{id:"smtpFromEmail",type:"email","data-testid":"input-smtp-from-email",value:o.smtpFromEmail,onChange:g=>l({...o,smtpFromEmail:g.target.value}),placeholder:"noreply@company.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"smtpFromName",children:" "}),s.jsx(le,{id:"smtpFromName","data-testid":"input-smtp-from-name",value:o.smtpFromName,onChange:g=>l({...o,smtpFromName:g.target.value}),placeholder:" "})]})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:" "}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{key:"emailNotifyLeads",label:" "},{key:"emailNotifySales",label:""},{key:"emailNotifyPayouts",label:""},{key:"emailNotifySystem",label:""}].map(g=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsx("span",{children:g.label}),s.jsx(vr,{checked:o[g.key],onCheckedChange:v=>l({...o,[g.key]:v}),"data-testid":`switch-${g.key}`})]},g.key))})]}),s.jsxs(U,{onClick:()=>m.mutate(o),disabled:m.isPending,"data-testid":"button-save-email",children:[m.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"}),""]})]})]})]})}function vYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(null),[a,i]=j.useState({apiUrl:"",apiKey:"",apiSecret:"",migrateOffers:!0,migratePublishers:!0,migrateClicks:!1,migrateConversions:!0}),{data:o=[],isLoading:l}=Ne({queryKey:["/api/advertiser/migrations"]}),c=ve({mutationFn:f=>Be("POST","/api/advertiser/migrations",f),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/advertiser/migrations"]}),r(null),i({apiUrl:"",apiKey:"",apiSecret:"",migrateOffers:!0,migratePublishers:!0,migrateClicks:!1,migrateConversions:!0}),e({title:" "})},onError:f=>{e({title:"",description:f.message,variant:"destructive"})}}),u=[{id:"scaleo",name:"Scaleo",logo:"",description:"    "},{id:"affilka",name:"Affilka",logo:"",description:"  iGaming "},{id:"affise",name:"Affise",logo:"",description:"Enterprise    "},{id:"voluum",name:"Voluum",logo:"",description:"   "},{id:"keitaro",name:"Keitaro",logo:"",description:"Self-hosted   TDS"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Ux,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"    "})]}),s.jsx(ne,{className:"space-y-6",children:n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted rounded-lg",children:[s.jsx("span",{className:"text-2xl",children:u.find(f=>f.id===n)?.logo}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:u.find(f=>f.id===n)?.name}),s.jsx(U,{variant:"link",className:"p-0 h-auto",onClick:()=>r(null),children:"  "})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"apiUrl",children:"API URL"}),s.jsx(le,{id:"apiUrl","data-testid":"input-migration-api-url",value:a.apiUrl,onChange:f=>i({...a,apiUrl:f.target.value}),placeholder:"https://your-tracker.com/api"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"apiKey",children:"API Key"}),s.jsx(le,{id:"apiKey",type:"password","data-testid":"input-migration-api-key",value:a.apiKey,onChange:f=>i({...a,apiKey:f.target.value}),placeholder:"your-api-key"})]})]}),(n==="affise"||n==="keitaro")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"apiSecret",children:"API Secret"}),s.jsx(le,{id:"apiSecret",type:"password","data-testid":"input-migration-api-secret",value:a.apiSecret,onChange:f=>i({...a,apiSecret:f.target.value}),placeholder:"your-api-secret"})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:" "}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{key:"migrateOffers",label:"",description:", , GEO, "},{key:"migratePublishers",label:"",description:"    "},{key:"migrateConversions",label:"",description:", , "},{key:"migrateClicks",label:"",description:"  (  )"}].map(f=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[s.jsx(vr,{checked:a[f.key],onCheckedChange:m=>i({...a,[f.key]:m}),"data-testid":`switch-${f.key}`}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:f.label}),s.jsx("div",{className:"text-sm text-muted-foreground",children:f.description})]})]},f.key))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{onClick:()=>c.mutate({...a,sourceTracker:n}),disabled:c.isPending||!a.apiUrl||!a.apiKey,"data-testid":"button-start-migration",children:[c.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Ux,{className:"h-4 w-4 mr-2"})," "]}),s.jsx(U,{variant:"outline",onClick:()=>r(null),children:""})]})]}):s.jsx("div",{className:"grid grid-cols-2 gap-4",children:u.map(f=>s.jsx("div",{className:"p-4 border rounded-lg hover:border-primary cursor-pointer transition-colors",onClick:()=>r(f.id),"data-testid":`button-select-${f.id}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:f.logo}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:f.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f.description})]})]})},f.id))})})]}),o.length>0&&s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsx(Ie,{children:" "})}),s.jsx(ne,{children:s.jsx("div",{className:"space-y-3",children:o.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xl",children:u.find(m=>m.id===f.sourceTracker)?.logo}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:u.find(m=>m.id===f.sourceTracker)?.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(f.createdAt).toLocaleString()})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-right",children:[s.jsxs("div",{children:[f.processedRecords,"/",f.totalRecords," "]}),f.failedRecords>0&&s.jsxs("div",{className:"text-red-500",children:[f.failedRecords," "]})]}),s.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${f.status==="completed"?"bg-green-500/20 text-green-500":f.status==="in_progress"?"bg-blue-500/20 text-blue-500":f.status==="failed"?"bg-red-500/20 text-red-500":"bg-yellow-500/20 text-yellow-500"}`,children:f.status==="completed"?"":f.status==="in_progress"?" ":f.status==="failed"?"":""})]})]},f.id))})})]})]})}function bYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(""),[a,i]=j.useState(null),[o,l]=j.useState("USDT_TRC20"),[c,u]=j.useState("monthly"),{data:f,isLoading:m}=Ne({queryKey:["/api/subscription/current"],queryFn:async()=>{const O=await fetch("/api/subscription/current",{credentials:"include"});if(!O.ok)throw new Error("Failed to fetch subscription");return O.json()}}),{data:p=[]}=Ne({queryKey:["/api/subscription/plans"],queryFn:async()=>{const O=await fetch("/api/subscription/plans",{credentials:"include"});return O.ok?O.json():[]}}),{data:g}=Ne({queryKey:["/api/subscription/wallets"],queryFn:async()=>{const O=await fetch("/api/subscription/wallets",{credentials:"include"});return O.ok?O.json():null}}),{data:v=[]}=Ne({queryKey:["/api/subscription/payments"],queryFn:async()=>{const O=await fetch("/api/subscription/payments",{credentials:"include"});return O.ok?O.json():[]}}),y=ve({mutationFn:async O=>(await Be("POST","/api/subscription/pay",{planId:O.planId,billingCycle:O.billingPeriod,cryptoCurrency:O.currency})).json(),onSuccess:O=>{t.invalidateQueries({queryKey:["/api/subscription/payments"]}),e({title:" ",description:"    "})},onError:O=>{e({title:"",description:O.message,variant:"destructive"})}}),w=ve({mutationFn:async O=>Be("POST","/api/subscription/verify",O),onSuccess:()=>{r(""),t.invalidateQueries({queryKey:["/api/subscription/payments"]}),t.invalidateQueries({queryKey:["/api/subscription/current"]}),e({title:" ",description:"  "})},onError:O=>{e({title:"",description:O.message,variant:"destructive"})}});if(m)return s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin"})});const N=f?.subscription,A=f?.plan,C=(()=>{if(!N)return null;let O=null;if(N.status==="trial"&&N.trialEndsAt?O=new Date(N.trialEndsAt):N.status==="active"&&N.currentPeriodEnd&&(O=new Date(N.currentPeriodEnd)),!O)return null;const _=new Date,M=O.getTime()-_.getTime();if(M<=0)return{days:0,hours:0,expired:!0};const $=Math.floor(M/(1e3*60*60*24)),z=Math.floor(M%(1e3*60*60*24)/(1e3*60*60));return{days:$,hours:z,expired:!1}})(),S=v.find(O=>O.status==="pending"),E=[{id:"USDT_TRC20",name:"USDT (TRC-20)",wallet:g?.usdtTrc20},{id:"USDT_ERC20",name:"USDT (ERC-20)",wallet:g?.usdtErc20},{id:"BTC",name:"Bitcoin",wallet:g?.btc},{id:"ETH",name:"Ethereum",wallet:g?.eth}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(On,{className:"h-5 w-5"})," "]})}),s.jsxs(ne,{className:"space-y-4",children:[N?.status==="trial"&&s.jsxs("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-yellow-500 font-medium mb-2",children:[s.jsx(Yt,{className:"h-5 w-5"})," "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:C&&!C.expired?s.jsxs(s.Fragment,{children:[": ",s.jsxs("span",{className:"font-bold text-foreground",children:[C.days,"  ",C.hours," "]})]}):s.jsx("span",{className:"text-red-500",children:"  "})})]}),N?.status==="active"&&A&&s.jsxs("div",{className:"p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-emerald-500 font-medium mb-2",children:[s.jsx(Vs,{className:"h-5 w-5"})," : ",A.name]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:C&&!C.expired?s.jsxs(s.Fragment,{children:[" : ",s.jsx("span",{className:"font-bold text-foreground",children:new Date(N.currentPeriodEnd).toLocaleDateString()})," (",C.days," )"]}):s.jsx("span",{className:"text-red-500",children:" "})})]}),N?.status==="expired"&&s.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-500 font-medium mb-2",children:[s.jsx(Kn,{className:"h-5 w-5"})," "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"      "})]})]})]}),S&&s.jsxs(J,{className:"border-yellow-500/50",children:[s.jsxs(Pe,{children:[s.jsx(Ie,{className:"text-yellow-500",children:" "}),s.jsxs(et,{children:[" ",S.amount," ",S.currency,"    "]})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsx("div",{className:"p-3 bg-muted rounded-lg font-mono text-sm break-all",children:S.cryptoAddress}),s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(S.cryptoAddress),e({title:" "})},children:[s.jsx(Yn,{className:"h-4 w-4 mr-2"})," "]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"  (TxID)"}),s.jsx(le,{value:n,onChange:O=>r(O.target.value),placeholder:"0x...    ","data-testid":"input-tx-hash"})]}),s.jsxs(U,{onClick:()=>w.mutate({paymentId:S.id,txHash:n}),disabled:!n||w.isPending,"data-testid":"button-submit-tx",children:[w.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(dr,{className:"h-4 w-4 mr-2"})," "]})]})]}),s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ie,{children:" "}),s.jsx(et,{children:"     "})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-muted p-1 rounded-lg",children:[s.jsx(U,{variant:c==="monthly"?"default":"ghost",size:"sm",onClick:()=>u("monthly"),"data-testid":"billing-monthly",children:""}),s.jsxs(U,{variant:c==="yearly"?"default":"ghost",size:"sm",onClick:()=>u("yearly"),className:"relative","data-testid":"billing-yearly",children:["",s.jsx("span",{className:"absolute -top-2 -right-2 bg-emerald-500 text-white text-[10px] px-1.5 py-0.5 rounded-full",children:"-15%"})]})]})]})}),s.jsxs(ne,{children:[s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:p.map(O=>{const _=Number(O.monthlyPrice)||Number(O.price)||0,M=Number(O.yearlyPrice)||_*12*.85,$=c==="yearly"?(M/12).toFixed(2):_.toFixed(2),z=M.toFixed(2),V=(_*12-M).toFixed(2);return s.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all relative ${a===O.id?"border-emerald-500 bg-emerald-500/10":"hover:border-muted-foreground"} ${O.isPopular||O.is_popular?"ring-2 ring-emerald-500":""}`,onClick:()=>i(O.id),"data-testid":`plan-${O.id}`,children:[(O.isPopular||O.is_popular)&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-emerald-500 text-white text-xs px-2 py-0.5 rounded-full",children:""}),s.jsx("div",{className:"font-bold text-lg mb-2",children:O.name}),s.jsxs("div",{className:"text-2xl font-bold text-emerald-500 mb-1",children:["$",$,s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"})]}),c==="yearly"&&s.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["$",z,"   ( $",V,")"]}),c==="monthly"&&s.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:" "}),O.features&&O.features.length>0&&s.jsx("ul",{className:"text-sm text-muted-foreground space-y-1 mt-3",children:O.features.map((I,F)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Vs,{className:"h-3 w-3 text-emerald-500 flex-shrink-0"}),I]},F))})]},O.id)})}),a&&!S&&s.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" "}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:E.filter(O=>O.wallet).map(O=>s.jsx(U,{variant:o===O.id?"default":"outline",size:"sm",onClick:()=>l(O.id),"data-testid":`currency-${O.id}`,children:O.name},O.id))})]}),s.jsxs(U,{onClick:()=>y.mutate({planId:a,currency:o,billingPeriod:c}),disabled:y.isPending,className:"w-full","data-testid":"button-create-payment",children:[y.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(On,{className:"h-4 w-4 mr-2"})," ",c==="yearly"?" ":" "]})]})]})]}),v.length>0&&s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsx(Ie,{children:" "})}),s.jsx(ne,{children:s.jsx("div",{className:"space-y-3",children:v.map(O=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[O.amount," ",O.currency]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(O.createdAt).toLocaleDateString()})]}),s.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${O.status==="completed"?"bg-green-500/20 text-green-500":O.status==="pending"?"bg-yellow-500/20 text-yellow-500":O.status==="verifying"?"bg-blue-500/20 text-blue-500":"bg-red-500/20 text-red-500"}`,children:O.status==="completed"?"":O.status==="pending"?"":O.status==="verifying"?"":""})]},O.id))})})]})]})}function jYe(){return s.jsx(uYe,{})}function wYe(){const{t:e}=as();Dt(),rt();const[t,n]=j.useState("profile");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-settings-title",children:""}),s.jsx("p",{className:"text-muted-foreground",children:" ,   "})]}),s.jsxs(uo,{value:t,onValueChange:n,className:"space-y-6",children:[s.jsxs(ki,{className:"grid w-full grid-cols-2 md:grid-cols-4",children:[s.jsxs(lt,{value:"profile",className:"flex items-center gap-2","data-testid":"tab-profile",children:[s.jsx(Or,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"security",className:"flex items-center gap-2","data-testid":"tab-security",children:[s.jsx(ns,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"notifications",className:"flex items-center gap-2","data-testid":"tab-notifications",children:[s.jsx(_o,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"api",className:"flex items-center gap-2","data-testid":"tab-api",children:[s.jsx(Da,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"API"})]})]}),s.jsx(ct,{value:"profile",children:s.jsx(NYe,{})}),s.jsx(ct,{value:"security",children:s.jsx(SYe,{})}),s.jsx(ct,{value:"notifications",children:s.jsx(CYe,{})}),s.jsx(ct,{value:"api",children:s.jsx(kYe,{})})]})]})}function NYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState({username:"",email:"",phone:"",telegram:"",logoUrl:""}),{data:a,isLoading:i}=Ne({queryKey:["/api/user"]});j.useEffect(()=>{a&&r({username:a.username||"",email:a.email||"",phone:a.phone||"",telegram:a.telegram||"",logoUrl:a.logoUrl||""})},[a]);const o=ve({mutationFn:l=>Be("PATCH","/api/user/profile",l),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),e({title:" "})},onError:l=>{e({title:"",description:l.message,variant:"destructive"})}});return i?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin"})}):s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-5 w-5"}),""]}),s.jsx(et,{children:"  "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"username",children:" "}),s.jsx(le,{id:"username","data-testid":"input-username",value:n.username,disabled:!0,className:"bg-muted"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"   "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"email",children:"Email"}),s.jsx(le,{id:"email",type:"email","data-testid":"input-email",value:n.email,onChange:l=>r({...n,email:l.target.value}),placeholder:"your@email.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"phone",children:""}),s.jsx(le,{id:"phone","data-testid":"input-phone",value:n.phone,onChange:l=>r({...n,phone:l.target.value}),placeholder:"+7 999 123-45-67"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"telegram",children:"Telegram"}),s.jsx(le,{id:"telegram","data-testid":"input-telegram",value:n.telegram,onChange:l=>r({...n,telegram:l.target.value}),placeholder:"@username"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"logoUrl",children:"URL "}),s.jsx(le,{id:"logoUrl","data-testid":"input-logo-url",value:n.logoUrl,onChange:l=>r({...n,logoUrl:l.target.value}),placeholder:"https://example.com/avatar.png"}),n.logoUrl&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:n.logoUrl,alt:"Avatar preview",className:"h-16 w-16 object-cover border rounded-full"})})]}),s.jsxs(U,{onClick:()=>o.mutate(n),disabled:o.isPending,"data-testid":"button-save-profile",children:[o.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"}),""]})]})]})}function SYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,u]=j.useState(!1),[f,m]=j.useState(""),[p,g]=j.useState(""),[v,y]=j.useState(""),[w,N]=j.useState(""),{data:A}=Ne({queryKey:["/api/user"]}),T=ve({mutationFn:M=>Be("PATCH","/api/user/password",M),onSuccess:()=>{l({currentPassword:"",newPassword:"",confirmPassword:""}),e({title:" "})},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),C=ve({mutationFn:async()=>(await Be("POST","/api/user/2fa/setup",{})).json(),onSuccess:M=>{m(M.secret),g(M.qrCode),u(!0)},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),S=ve({mutationFn:M=>Be("POST","/api/user/2fa/enable",M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),u(!1),m(""),g(""),y(""),e({title:"2FA ",description:"   "})},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),E=ve({mutationFn:M=>Be("POST","/api/user/2fa/disable",{token:M}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),N(""),u(!1),m(""),g(""),e({title:"2FA "})},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),O=()=>{if(o.newPassword!==o.confirmPassword){e({title:"",description:"  ",variant:"destructive"});return}if(o.newPassword.length<6){e({title:"",description:"     6 ",variant:"destructive"});return}T.mutate({currentPassword:o.currentPassword,newPassword:o.newPassword})},_=()=>{if(v.length!==6){e({title:"",description:" 6- ",variant:"destructive"});return}S.mutate({secret:f,token:v})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(ns,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"     "})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"currentPassword",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"currentPassword",type:n?"text":"password","data-testid":"input-current-password",value:o.currentPassword,onChange:M=>l({...o,currentPassword:M.target.value})}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>r(!n),children:n?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"newPassword",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"newPassword",type:a?"text":"password","data-testid":"input-new-password",value:o.newPassword,onChange:M=>l({...o,newPassword:M.target.value})}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>i(!a),children:a?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"confirmPassword",children:" "}),s.jsx(le,{id:"confirmPassword",type:"password","data-testid":"input-confirm-password",value:o.confirmPassword,onChange:M=>l({...o,confirmPassword:M.target.value})})]}),s.jsxs(U,{onClick:O,disabled:T.isPending,"data-testid":"button-change-password",children:[T.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Da,{className:"h-4 w-4 mr-2"})," "]})]})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5"}),"  (2FA)"]}),s.jsx(et,{children:"      TOTP"})]}),s.jsx(ne,{className:"space-y-4",children:A?.twoFactorEnabled?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-lg flex items-center gap-3",children:[s.jsx(Vs,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"text-sm",children:"2FA .   ."})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(te,{children:"     "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{placeholder:"000000",value:w,onChange:M=>N(M.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"w-32 text-center font-mono text-lg","data-testid":"input-disable-2fa-code"}),s.jsx(U,{variant:"destructive",onClick:()=>E.mutate(w),disabled:E.isPending||w.length!==6,"data-testid":"button-disable-2fa",children:E.isPending?s.jsx(we,{className:"h-4 w-4 animate-spin"}):" 2FA"})]})]})]}):c?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:" QR-   Google Authenticator     "}),p&&s.jsx("img",{src:p,alt:"QR Code",className:"mx-auto border rounded-lg","data-testid":"img-qr-code"}),s.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:"  (  )"}),s.jsx("p",{className:"font-mono text-sm select-all","data-testid":"text-totp-secret",children:f})]})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" 6-   "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{placeholder:"000000",value:v,onChange:M=>y(M.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"w-32 text-center font-mono text-lg","data-testid":"input-verification-code"}),s.jsx(U,{onClick:_,disabled:S.isPending||v.length!==6,"data-testid":"button-verify-2fa",children:S.isPending?s.jsx(we,{className:"h-4 w-4 animate-spin"}):""}),s.jsx(U,{variant:"outline",onClick:()=>u(!1),children:""})]})]})]}):s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"font-medium",children:"2FA  TOTP"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:" Google Authenticator, Authy   "})]}),s.jsxs(U,{onClick:()=>C.mutate(),disabled:C.isPending,"data-testid":"button-setup-2fa",children:[C.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Fn,{className:"h-4 w-4 mr-2"})," 2FA"]})]})})})]})]})}function CYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState({telegramChatId:"",telegramNotifyLeads:!0,telegramNotifySales:!0,telegramNotifyPayouts:!0,telegramNotifySystem:!0}),[a,i]=j.useState(null),{data:o}=Ne({queryKey:["/api/user"]});j.useEffect(()=>{o&&r({telegramChatId:o.telegramChatId||"",telegramNotifyLeads:o.telegramNotifyLeads??!0,telegramNotifySales:o.telegramNotifySales??!0,telegramNotifyPayouts:o.telegramNotifyPayouts??!0,telegramNotifySystem:o.telegramNotifySystem??!0})},[o]);const l=ve({mutationFn:m=>Be("POST","/api/user/notifications/telegram",m),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),e({title:"  "})},onError:m=>{e({title:"",description:m.message,variant:"destructive"})}}),c=ve({mutationFn:()=>Be("POST","/api/user/notifications/telegram/test"),onSuccess:()=>{e({title:"  "})},onError:m=>{e({title:"",description:m.message,variant:"destructive"})}});ve({mutationFn:()=>Be("POST","/api/user/telegram/link-code"),onSuccess:m=>{i(m.code),e({title:" ",description:"    Telegram"})},onError:m=>{e({title:"",description:m.message,variant:"destructive"})}});const u=ve({mutationFn:()=>Be("POST","/api/user/telegram/unlink"),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),e({title:"Telegram "})},onError:m=>{e({title:"",description:m.message,variant:"destructive"})}}),f=!!o?.telegramChatId;return s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Hw,{className:"h-5 w-5"}),"Telegram "]}),s.jsx(et,{children:"    Telegram"})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:" :"}),s.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 list-decimal list-inside",children:[s.jsxs("li",{children:["    ",s.jsx("a",{href:"https://t.me/primetrack_notify_bot",target:"_blank",rel:"noopener noreferrer",className:"font-medium text-primary hover:underline",children:"@primetrack_notify_bot"}),"  Telegram"]}),s.jsx("li",{children:"  Chat ID  @userinfobot"}),s.jsx("li",{children:" Chat ID   "})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["    ",s.jsx("a",{href:"https://t.me/primetrack_notify_bot",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"@primetrack_notify_bot"})," ."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{htmlFor:"chatId",children:["Chat ID ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{id:"chatId","data-testid":"input-chat-id",value:n.telegramChatId,onChange:m=>r({...n,telegramChatId:m.target.value}),placeholder:"123456789",className:"flex-1"}),f&&s.jsx(U,{variant:"outline",size:"sm",onClick:()=>u.mutate(),disabled:u.isPending,"data-testid":"button-unlink-telegram",children:""})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  @userinfobot  Telegram"})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:" "}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{key:"telegramNotifyLeads",label:" "},{key:"telegramNotifySales",label:""},{key:"telegramNotifyPayouts",label:""},{key:"telegramNotifySystem",label:""}].map(m=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsx("span",{children:m.label}),s.jsx(vr,{checked:n[m.key],onCheckedChange:p=>r({...n,[m.key]:p}),"data-testid":`switch-${m.key}`})]},m.key))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{onClick:()=>l.mutate(n),disabled:l.isPending,"data-testid":"button-save-telegram",children:[l.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs(U,{variant:"outline",onClick:()=>c.mutate(),disabled:c.isPending||!f||!n.telegramChatId,"data-testid":"button-test-telegram",children:[c.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(dr,{className:"h-4 w-4 mr-2"}),""]})]})]})]})}function kYe(){const{toast:e}=Dt(),t=rt(),{data:n}=Ne({queryKey:["/api/user"]}),r=ve({mutationFn:()=>Be("POST","/api/user/api-token/generate"),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),e({title:"API  "})},onError:o=>{e({title:"",description:o.message,variant:"destructive"})}}),a=ve({mutationFn:()=>Be("DELETE","/api/user/api-token"),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),e({title:"API  "})},onError:o=>{e({title:"",description:o.message,variant:"destructive"})}}),i=()=>{n?.apiToken&&(navigator.clipboard.writeText(n.apiToken),e({title:" "}))};return s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Da,{className:"h-5 w-5"}),"API "]}),s.jsx(et,{children:" API     "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg flex items-start gap-3",children:[s.jsx(Kn,{className:"h-5 w-5 text-yellow-500 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium",children:"!"}),s.jsx("p",{className:"text-muted-foreground",children:"API       .          ."})]})]}),n?.apiToken?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" API "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{value:n.apiToken,readOnly:!0,className:"font-mono text-sm","data-testid":"input-api-token"}),s.jsx(U,{variant:"outline",onClick:i,"data-testid":"button-copy-token",children:s.jsx(Yn,{className:"h-4 w-4"})})]}),n.apiTokenCreatedAt&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",new Date(n.apiTokenCreatedAt).toLocaleString()]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{variant:"outline",onClick:()=>r.mutate(),disabled:r.isPending,"data-testid":"button-regenerate-token",children:[r.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Br,{className:"h-4 w-4 mr-2"}),""]}),s.jsx(U,{variant:"destructive",onClick:()=>a.mutate(),disabled:a.isPending,"data-testid":"button-revoke-token",children:" "})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Da,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"    API "}),s.jsxs(U,{onClick:()=>r.mutate(),disabled:r.isPending,"data-testid":"button-generate-token",children:[r.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Da,{className:"h-4 w-4 mr-2"})," "]})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"  API"}),s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:" :"}),s.jsxs("code",{className:"text-xs block bg-background p-2 rounded border",children:['curl -H "Authorization: Bearer YOUR_TOKEN" \\',s.jsx("br",{}),"",window.location.origin,"/api/v1/stats"]})]}),s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:" :"}),s.jsxs("code",{className:"text-xs block bg-background p-2 rounded border",children:['curl -H "Authorization: Bearer YOUR_TOKEN" \\',s.jsx("br",{}),"",window.location.origin,"/api/v1/conversions"]})]})]})]})]})}function TYe(){const{t:e}=as();Dt(),rt();const[t,n]=j.useState("profile");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-settings-title",children:" "}),s.jsx("p",{className:"text-muted-foreground",children:" ,    "})]}),s.jsxs(uo,{value:t,onValueChange:n,className:"space-y-6",children:[s.jsxs(ki,{className:"grid w-full grid-cols-3 md:grid-cols-7",children:[s.jsxs(lt,{value:"profile",className:"flex items-center gap-2","data-testid":"tab-profile",children:[s.jsx(Or,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"security",className:"flex items-center gap-2","data-testid":"tab-security",children:[s.jsx(ns,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"notifications",className:"flex items-center gap-2","data-testid":"tab-notifications",children:[s.jsx(_o,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"platform",className:"flex items-center gap-2","data-testid":"tab-platform",children:[s.jsx(Gi,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"content",className:"flex items-center gap-2","data-testid":"tab-content",children:[s.jsx(Ia,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"testing",className:"flex items-center gap-2","data-testid":"tab-testing",children:[s.jsx(a_,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(lt,{value:"migration",className:"flex items-center gap-2","data-testid":"tab-migration",children:[s.jsx(Ux,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]})]}),s.jsx(ct,{value:"profile",children:s.jsx(AYe,{})}),s.jsx(ct,{value:"security",children:s.jsx(EYe,{})}),s.jsx(ct,{value:"notifications",children:s.jsx(OYe,{})}),s.jsx(ct,{value:"platform",children:s.jsx(PYe,{})}),s.jsx(ct,{value:"content",children:s.jsx(RYe,{})}),s.jsx(ct,{value:"testing",children:s.jsx(Ooe,{})}),s.jsx(ct,{value:"migration",children:s.jsx(_Ye,{})})]})]})}function AYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState({username:"",email:"",phone:"",telegram:""}),{data:a,isLoading:i}=Ne({queryKey:["/api/user"]});j.useEffect(()=>{a&&r({username:a.username||"",email:a.email||"",phone:a.phone||"",telegram:a.telegram||""})},[a]);const o=ve({mutationFn:l=>Be("PATCH","/api/user/profile",l),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),e({title:" "})},onError:l=>{e({title:"",description:l.message,variant:"destructive"})}});return i?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin"})}):s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"  "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"username",children:" "}),s.jsx(le,{id:"username","data-testid":"input-username",value:n.username,disabled:!0,className:"bg-muted"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"email",children:"Email"}),s.jsx(le,{id:"email",type:"email","data-testid":"input-email",value:n.email,onChange:l=>r({...n,email:l.target.value}),placeholder:"admin@platform.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"phone",children:""}),s.jsx(le,{id:"phone","data-testid":"input-phone",value:n.phone,onChange:l=>r({...n,phone:l.target.value}),placeholder:"+7 999 123-45-67"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"telegram",children:"Telegram"}),s.jsx(le,{id:"telegram","data-testid":"input-telegram",value:n.telegram,onChange:l=>r({...n,telegram:l.target.value}),placeholder:"@admin"})]})]}),s.jsxs(U,{onClick:()=>o.mutate(n),disabled:o.isPending,"data-testid":"button-save-profile",children:[o.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"}),""]})]})]})}function EYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,u]=j.useState(!1),[f,m]=j.useState(""),[p,g]=j.useState(""),[v,y]=j.useState(""),[w,N]=j.useState(""),{data:A}=Ne({queryKey:["/api/user"]}),T=ve({mutationFn:M=>Be("PATCH","/api/user/password",M),onSuccess:()=>{l({currentPassword:"",newPassword:"",confirmPassword:""}),e({title:" "})},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),C=ve({mutationFn:async()=>(await Be("POST","/api/user/2fa/setup",{})).json(),onSuccess:M=>{m(M.secret),g(M.qrCode),u(!0)},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),S=ve({mutationFn:M=>Be("POST","/api/user/2fa/enable",M),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),u(!1),m(""),g(""),y(""),e({title:"2FA ",description:"   "})},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),E=ve({mutationFn:M=>Be("POST","/api/user/2fa/disable",{token:M}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),N(""),u(!1),m(""),g(""),e({title:"2FA "})},onError:M=>{e({title:"",description:M.message,variant:"destructive"})}}),O=()=>{if(o.newPassword!==o.confirmPassword){e({title:"",description:"  ",variant:"destructive"});return}if(o.newPassword.length<6){e({title:"",description:"     6 ",variant:"destructive"});return}T.mutate({currentPassword:o.currentPassword,newPassword:o.newPassword})},_=()=>{if(v.length!==6){e({title:"",description:" 6- ",variant:"destructive"});return}S.mutate({secret:f,token:v})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(ns,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"  "})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"currentPassword",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"currentPassword",type:n?"text":"password","data-testid":"input-current-password",value:o.currentPassword,onChange:M=>l({...o,currentPassword:M.target.value})}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>r(!n),children:n?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"newPassword",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"newPassword",type:a?"text":"password","data-testid":"input-new-password",value:o.newPassword,onChange:M=>l({...o,newPassword:M.target.value})}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>i(!a),children:a?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"confirmPassword",children:" "}),s.jsx(le,{id:"confirmPassword",type:"password","data-testid":"input-confirm-password",value:o.confirmPassword,onChange:M=>l({...o,confirmPassword:M.target.value})})]}),s.jsxs(U,{onClick:O,disabled:T.isPending,"data-testid":"button-change-password",children:[T.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Da,{className:"h-4 w-4 mr-2"})," "]})]})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5"}),"  (2FA)"]}),s.jsx(et,{children:"  "})]}),s.jsx(ne,{className:"space-y-4",children:A?.twoFactorEnabled?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-lg flex items-center gap-3",children:[s.jsx(Vs,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"text-sm",children:"2FA .   ."})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(te,{children:"     "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{placeholder:"000000",value:w,onChange:M=>N(M.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"w-32 text-center font-mono text-lg","data-testid":"input-disable-2fa-code"}),s.jsx(U,{variant:"destructive",onClick:()=>E.mutate(w),disabled:E.isPending||w.length!==6,"data-testid":"button-disable-2fa",children:E.isPending?s.jsx(we,{className:"h-4 w-4 animate-spin"}):" 2FA"})]})]})]}):c?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:" QR-   Google Authenticator     "}),p&&s.jsx("img",{src:p,alt:"QR Code",className:"mx-auto border rounded-lg","data-testid":"img-qr-code"}),s.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:[s.jsx(te,{className:"text-xs text-muted-foreground",children:"  (  )"}),s.jsx("p",{className:"font-mono text-sm select-all","data-testid":"text-totp-secret",children:f})]})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" 6-   "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{placeholder:"000000",value:v,onChange:M=>y(M.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"w-32 text-center font-mono text-lg","data-testid":"input-verification-code"}),s.jsx(U,{onClick:_,disabled:S.isPending||v.length!==6,"data-testid":"button-verify-2fa",children:S.isPending?s.jsx(we,{className:"h-4 w-4 animate-spin"}):""}),s.jsx(U,{variant:"outline",onClick:()=>u(!1),children:""})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-3",children:[s.jsx(YW,{className:"h-5 w-5 text-red-500"}),s.jsx("span",{className:"text-sm",children:"  2FA   !"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"font-medium",children:"2FA  TOTP"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:" Google Authenticator, Authy   "})]}),s.jsxs(U,{onClick:()=>C.mutate(),disabled:C.isPending,"data-testid":"button-setup-2fa",children:[C.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Fn,{className:"h-4 w-4 mr-2"})," 2FA"]})]})]})})]})]})}function OYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState({telegramChatId:"",telegramNotifySystem:!0,telegramNotifyPayouts:!0}),{data:o}=Ne({queryKey:["/api/user"]});j.useEffect(()=>{o&&i({telegramChatId:o.telegramChatId||"",telegramNotifySystem:o.telegramNotifySystem??!0,telegramNotifyPayouts:o.telegramNotifyPayouts??!0})},[o]);const l=ve({mutationFn:u=>Be("POST","/api/user/notifications/telegram",u),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),e({title:"  "})},onError:u=>{e({title:"",description:u.message,variant:"destructive"})}}),c=ve({mutationFn:()=>Be("POST","/api/user/notifications/telegram/test"),onSuccess:()=>{e({title:"  "})},onError:u=>{e({title:"",description:u.message,variant:"destructive"})}});return s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Hw,{className:"h-5 w-5"}),"Telegram   "]}),s.jsx(et,{children:"   "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"chatId",children:"Chat ID "}),s.jsx(le,{id:"chatId","data-testid":"input-chat-id",value:a.telegramChatId,onChange:u=>i({...a,telegramChatId:u.target.value}),placeholder:"123456789"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"  Chat ID  @userinfobot  Telegram"})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:" "}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{key:"telegramNotifySystem",label:" ",description:", , "},{key:"telegramNotifyPayouts",label:" ",description:" ,  "}].map(u=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[s.jsx(vr,{checked:a[u.key],onCheckedChange:f=>i({...a,[u.key]:f}),"data-testid":`switch-${u.key}`}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:u.label}),s.jsx("div",{className:"text-sm text-muted-foreground",children:u.description})]})]},u.key))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{onClick:()=>l.mutate(a),disabled:l.isPending,"data-testid":"button-save-telegram",children:[l.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs(U,{variant:"outline",onClick:()=>c.mutate(),disabled:c.isPending||!a.telegramChatId,"data-testid":"button-test-telegram",children:[c.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(dr,{className:"h-4 w-4 mr-2"}),""]})]})]})]})}function PYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[f,m]=j.useState(null),{uploadFile:p,isUploading:g}=hre({onSuccess:C=>{w(S=>({...S,platformLogoUrl:Ph(C.objectPath)||""})),e({title:" "})},onError:C=>{e({title:" ",description:C.message,variant:"destructive"})}}),v=async C=>{const S=C.target.files?.[0];if(S){if(!S.type.startsWith("image/")){e({title:"",description:" ",variant:"destructive"});return}await p(S)}},[y,w]=j.useState({platformName:"",platformDescription:"",platformLogoUrl:"",platformFaviconUrl:"",supportEmail:"",supportPhone:"",supportTelegram:"",copyrightText:"",defaultTelegramBotToken:"",ipinfoToken:"",fingerprintjsApiKey:"",allowPublisherRegistration:!0,allowAdvertiserRegistration:!0,requireAdvertiserApproval:!0,enableProxyDetection:!0,enableVpnDetection:!0,enableFingerprintTracking:!0,maxFraudScore:70,cloudflareZoneId:"",cloudflareApiToken:"",cloudflareCnameTarget:"",cloudflareFallbackOrigin:"",cloudflareWorkerOrigin:"",cloudflareWorkerSecret:""}),{data:N,isLoading:A}=Ne({queryKey:["/api/admin/platform-settings"]});j.useEffect(()=>{N&&w({platformName:N.platformName||"",platformDescription:N.platformDescription||"",platformLogoUrl:N.platformLogoUrl||"",platformFaviconUrl:N.platformFaviconUrl||"",supportEmail:N.supportEmail||"",supportPhone:N.supportPhone||"",supportTelegram:N.supportTelegram||"",copyrightText:N.copyrightText||"",defaultTelegramBotToken:"",ipinfoToken:"",fingerprintjsApiKey:"",cloudflareZoneId:N.cloudflareZoneId||"",cloudflareApiToken:"",cloudflareCnameTarget:N.cloudflareCnameTarget||"",cloudflareFallbackOrigin:N.cloudflareFallbackOrigin||"",cloudflareWorkerOrigin:N.cloudflareWorkerOrigin||"",cloudflareWorkerSecret:N.cloudflareWorkerSecret||"",allowPublisherRegistration:N.allowPublisherRegistration??!0,allowAdvertiserRegistration:N.allowAdvertiserRegistration??!0,requireAdvertiserApproval:N.requireAdvertiserApproval??!0,enableProxyDetection:N.enableProxyDetection??!0,enableVpnDetection:N.enableVpnDetection??!0,enableFingerprintTracking:N.enableFingerprintTracking??!0,maxFraudScore:N.maxFraudScore??70})},[N]);const T=ve({mutationFn:C=>Be("PATCH","/api/admin/platform-settings",C),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/platform-settings"]}),e({title:"  "})},onError:C=>{e({title:"",description:C.message,variant:"destructive"})}});return A?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(jn,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"   "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"platformName",children:" "}),s.jsx(le,{id:"platformName","data-testid":"input-platform-name",value:y.platformName,onChange:C=>w({...y,platformName:C.target.value}),placeholder:" "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"supportEmail",children:"Email "}),s.jsx(le,{id:"supportEmail",type:"email","data-testid":"input-support-email",value:y.supportEmail,onChange:C=>w({...y,supportEmail:C.target.value}),placeholder:"support@example.com"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"supportPhone",children:" "}),s.jsx(le,{id:"supportPhone","data-testid":"input-support-phone",value:y.supportPhone,onChange:C=>w({...y,supportPhone:C.target.value}),placeholder:"+7 999 123-45-67"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"supportTelegram",children:"Telegram "}),s.jsx(le,{id:"supportTelegram","data-testid":"input-support-telegram",value:y.supportTelegram,onChange:C=>w({...y,supportTelegram:C.target.value}),placeholder:"@support"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"platformDescription",children:" "}),s.jsx(le,{id:"platformDescription","data-testid":"input-platform-description",value:y.platformDescription,onChange:C=>w({...y,platformDescription:C.target.value}),placeholder:"SaaS    "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"copyrightText",children:" "}),s.jsx(le,{id:"copyrightText","data-testid":"input-copyright-text",value:y.copyrightText,onChange:C=>w({...y,copyrightText:C.target.value}),placeholder:" 2025 .   ."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(te,{children:" "}),s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:y.platformLogoUrl?s.jsx("img",{src:y.platformLogoUrl,alt:"",className:"w-24 h-24 object-contain border rounded-lg bg-muted p-2","data-testid":"img-platform-logo"}):s.jsx("div",{className:"w-24 h-24 border rounded-lg bg-muted flex items-center justify-center",children:s.jsx(UW,{className:"w-8 h-8 text-muted-foreground"})})}),s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{id:"platformLogoUrl","data-testid":"input-platform-logo",value:y.platformLogoUrl,onChange:C=>w({...y,platformLogoUrl:C.target.value}),placeholder:"https://example.com/logo.png",className:"flex-1"}),s.jsxs("label",{className:"cursor-pointer",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"hidden","data-testid":"input-logo-file"}),s.jsx(U,{type:"button",variant:"outline",disabled:g,asChild:!0,children:s.jsx("span",{children:g?s.jsx(we,{className:"h-4 w-4 animate-spin"}):s.jsx(du,{className:"h-4 w-4"})})})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" URL      (PNG, JPG, SVG)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"platformFaviconUrl",children:"URL "}),s.jsx(le,{id:"platformFaviconUrl","data-testid":"input-platform-favicon",value:y.platformFaviconUrl,onChange:C=>w({...y,platformFaviconUrl:C.target.value}),placeholder:"https://example.com/favicon.ico"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"defaultBotToken",children:"Telegram  "}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"defaultBotToken",type:n?"text":"password","data-testid":"input-default-bot-token",value:y.defaultTelegramBotToken,onChange:C=>w({...y,defaultTelegramBotToken:C.target.value}),placeholder:"    "}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>r(!n),children:n?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"     "})]})]})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(pn,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"   "})]}),s.jsx(ne,{className:"space-y-4",children:[{key:"allowPublisherRegistration",label:"  ",description:"   "},{key:"allowAdvertiserRegistration",label:"  ",description:"     "},{key:"requireAdvertiserApproval",label:"  ",description:"    "}].map(C=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"font-medium",children:C.label}),s.jsx("div",{className:"text-sm text-muted-foreground",children:C.description})]}),s.jsx(vr,{checked:y[C.key],onCheckedChange:S=>w({...y,[C.key]:S}),"data-testid":`switch-${C.key}`})]},C.key))})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(YW,{className:"h-5 w-5"}),"  "]}),s.jsx(et,{children:"      "})]}),s.jsxs(ne,{className:"space-y-4",children:[[{key:"enableProxyDetection",label:" ",description:"   -"},{key:"enableVpnDetection",label:" VPN",description:"   VPN"},{key:"enableFingerprintTracking",label:" ",description:" fingerprint "}].map(C=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"font-medium",children:C.label}),s.jsx("div",{className:"text-sm text-muted-foreground",children:C.description})]}),s.jsx(vr,{checked:y[C.key],onCheckedChange:S=>w({...y,[C.key]:S}),"data-testid":`switch-${C.key}`})]},C.key)),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"maxFraudScore",children:" fraud score"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(le,{id:"maxFraudScore",type:"number",min:0,max:100,"data-testid":"input-max-fraud-score",value:y.maxFraudScore,onChange:C=>w({...y,maxFraudScore:parseInt(C.target.value)||70}),className:"w-24"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"  fraud score      "})]})]}),s.jsx(rs,{className:"my-4"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"ipinfoToken",children:"IPinfo.io API Token"}),s.jsx(et,{className:"text-xs",children:"   , ISP, ASN, /VPN "}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(le,{id:"ipinfoToken",type:a?"text":"password",placeholder:N?.ipinfoToken?"***configured***":"  ipinfo.io",value:y.ipinfoToken,onChange:C=>w({...y,ipinfoToken:C.target.value}),"data-testid":"input-ipinfo-token"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>i(!a),"data-testid":"button-toggle-ipinfo-token",children:a?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})}),N?.ipinfoToken&&s.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[s.jsx(Vs,{className:"h-3 w-3"}),"  "]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"fingerprintjsApiKey",children:"FingerprintJS API Key ()"}),s.jsx(et,{className:"text-xs",children:" Pro  FingerprintJS.    open-source "}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(le,{id:"fingerprintjsApiKey",type:o?"text":"password",placeholder:N?.fingerprintjsApiKey?"***configured***":" API  ()",value:y.fingerprintjsApiKey,onChange:C=>w({...y,fingerprintjsApiKey:C.target.value}),"data-testid":"input-fingerprintjs-key"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>l(!o),"data-testid":"button-toggle-fingerprintjs-key",children:o?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})}),N?.fingerprintjsApiKey&&s.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[s.jsx(Vs,{className:"h-3 w-3"})," API   (Pro )"]})]})]})]})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(jn,{className:"h-5 w-5"}),"Cloudflare SSL for SaaS"]}),s.jsx(et,{children:" SSL     "})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"cloudflareZoneId",children:"Zone ID"}),s.jsx(le,{id:"cloudflareZoneId",placeholder:"  Cloudflare Dashboard  Overview",value:y.cloudflareZoneId,onChange:C=>w({...y,cloudflareZoneId:C.target.value}),"data-testid":"input-cloudflare-zone-id"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"cloudflareApiToken",children:"API Token"}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"cloudflareApiToken",type:c?"text":"password",placeholder:N?.cloudflareApiToken?"***configured***":"  Profile  API Tokens",value:y.cloudflareApiToken,onChange:C=>w({...y,cloudflareApiToken:C.target.value}),"data-testid":"input-cloudflare-api-token"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>u(!c),children:c?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"cloudflareFallbackOrigin",children:"Fallback Origin"}),s.jsx(le,{id:"cloudflareFallbackOrigin",placeholder:"tracking.example.com",value:y.cloudflareFallbackOrigin,onChange:C=>w({...y,cloudflareFallbackOrigin:C.target.value}),"data-testid":"input-cloudflare-fallback-origin"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"    Replit"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"cloudflareCnameTarget",children:"CNAME Target"}),s.jsx(le,{id:"cloudflareCnameTarget",placeholder:"customers.example.com",value:y.cloudflareCnameTarget,onChange:C=>w({...y,cloudflareCnameTarget:C.target.value}),"data-testid":"input-cloudflare-cname-target"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"    CNAME"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"cloudflareWorkerOrigin",children:"Worker Proxy Origin (Replit)"}),s.jsx(le,{id:"cloudflareWorkerOrigin",placeholder:"your-app.replit.app",value:y.cloudflareWorkerOrigin,onChange:C=>w({...y,cloudflareWorkerOrigin:C.target.value}),"data-testid":"input-cloudflare-worker-origin"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Replit origin (: theme-forge--username.replit.app)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"cloudflareWorkerSecret",children:"Worker Secret ()"}),s.jsx(le,{id:"cloudflareWorkerSecret",type:"password",placeholder:N?.cloudflareWorkerSecret?"***configured***":" ",value:y.cloudflareWorkerSecret,onChange:C=>w({...y,cloudflareWorkerSecret:C.target.value}),"data-testid":"input-cloudflare-worker-secret"}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:()=>{const C=crypto.randomUUID();w({...y,cloudflareWorkerSecret:C}),m(C),e({title:" ",description:"    "})},"data-testid":"button-generate-worker-secret",children:[s.jsx(Da,{className:"h-3 w-3 mr-1"}),""]})})]})]}),y.cloudflareWorkerOrigin&&f&&(()=>{const C=y.cloudflareWorkerOrigin.replace(/^https?:\/\//,"").replace(/\/$/,"");return s.jsxs("div",{className:"space-y-3",children:[s.jsx(te,{children:"Cloudflare Worker Script ( )"}),s.jsxs("div",{className:"relative",children:[s.jsx("pre",{className:"p-4 bg-muted rounded-lg text-xs overflow-x-auto",children:`export default {
  async fetch(request) {
    const ORIGIN = "${C}";
    const SECRET = "${f}";
    const url = new URL(request.url);
    const originalHost = url.hostname;
    
    url.hostname = ORIGIN;
    
    const headers = new Headers(request.headers);
    headers.set("Host", ORIGIN);
    headers.set("X-Forwarded-Host", originalHost);
    headers.set("X-Forwarded-Proto", "https");
    headers.set("X-CF-Worker-Auth", SECRET);
    
    const response = await fetch(url.toString(), {
      method: request.method,
      headers: headers,
      body: request.body,
      redirect: "manual",
    });
    
    return new Response(response.body, {
      status: response.status,
      headers: response.headers,
    });
  },
};`}),s.jsxs(U,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>{navigator.clipboard.writeText(`export default {
  async fetch(request) {
    const ORIGIN = "${C}";
    const SECRET = "${f}";
    const url = new URL(request.url);
    const originalHost = url.hostname;
    
    url.hostname = ORIGIN;
    
    const headers = new Headers(request.headers);
    headers.set("Host", ORIGIN);
    headers.set("X-Forwarded-Host", originalHost);
    headers.set("X-Forwarded-Proto", "https");
    headers.set("X-CF-Worker-Auth", SECRET);
    
    const response = await fetch(url.toString(), {
      method: request.method,
      headers: headers,
      body: request.body,
      redirect: "manual",
    });
    
    return new Response(response.body, {
      status: response.status,
      headers: response.headers,
    });
  },
};`),e({title:" "})},"data-testid":"button-copy-worker-script",children:[s.jsx(Yn,{className:"h-4 w-4 mr-1"}),""]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" Worker  Cloudflare Dashboard  Workers & Pages  Create Worker,   "})]})})(),y.cloudflareWorkerOrigin&&!y.cloudflareWorkerSecret&&s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-700 flex items-center gap-2",children:[s.jsx(Kn,{className:"h-4 w-4"})," Worker Secret     X-Forwarded-Host"]})}),y.cloudflareWorkerOrigin&&y.cloudflareWorkerSecret==="***configured***"&&!f&&s.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700 flex items-center gap-2",children:[s.jsx(Da,{className:"h-4 w-4"}),"Worker Secret  .   ,   ."]})}),N?.cloudflareZoneId&&N?.cloudflareApiToken&&s.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-green-700 flex items-center gap-2",children:[s.jsx(Vs,{className:"h-4 w-4"}),"Cloudflare .     ."]})}),(!N?.cloudflareZoneId||!N?.cloudflareApiToken)&&s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-700 flex items-center gap-2",children:[s.jsx(Kn,{className:"h-4 w-4"})," Zone ID  API Token    SSL "]})})]})]}),s.jsx(MYe,{}),s.jsxs(U,{onClick:()=>T.mutate(y),disabled:T.isPending,className:"w-full","data-testid":"button-save-platform",children:[T.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"}),"   "]})]})}function MYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState({btcWallet:"",ethWallet:"",usdtTrc20Wallet:"",usdtErc20Wallet:""}),{data:a,isLoading:i}=Ne({queryKey:["/api/admin/crypto-wallets"],queryFn:async()=>{const l=await fetch("/api/admin/crypto-wallets",{credentials:"include"});return l.ok?l.json():null}});j.useEffect(()=>{a&&r({btcWallet:a.btcWallet||"",ethWallet:a.ethWallet||"",usdtTrc20Wallet:a.usdtTrc20Wallet||"",usdtErc20Wallet:a.usdtErc20Wallet||""})},[a]);const o=ve({mutationFn:l=>Be("PATCH","/api/admin/crypto-wallets",l),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/crypto-wallets"]}),e({title:"- "})},onError:l=>{e({title:"",description:l.message,variant:"destructive"})}});return i?s.jsx(J,{children:s.jsx(ne,{className:"py-8",children:s.jsx("div",{className:"flex justify-center",children:s.jsx(we,{className:"h-6 w-6 animate-spin"})})})}):s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(On,{className:"h-5 w-5"}),"-  "]}),s.jsx(et,{children:"       "})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"btcWallet",children:"Bitcoin (BTC)"}),s.jsx(le,{id:"btcWallet",value:n.btcWallet,onChange:l=>r({...n,btcWallet:l.target.value}),placeholder:"bc1q...","data-testid":"input-btc-wallet"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"ethWallet",children:"Ethereum (ETH)"}),s.jsx(le,{id:"ethWallet",value:n.ethWallet,onChange:l=>r({...n,ethWallet:l.target.value}),placeholder:"0x...","data-testid":"input-eth-wallet"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"usdtTrc20Wallet",children:"USDT (TRC-20)"}),s.jsx(le,{id:"usdtTrc20Wallet",value:n.usdtTrc20Wallet,onChange:l=>r({...n,usdtTrc20Wallet:l.target.value}),placeholder:"T...","data-testid":"input-usdt-trc20-wallet"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"usdtErc20Wallet",children:"USDT (ERC-20)"}),s.jsx(le,{id:"usdtErc20Wallet",value:n.usdtErc20Wallet,onChange:l=>r({...n,usdtErc20Wallet:l.target.value}),placeholder:"0x...","data-testid":"input-usdt-erc20-wallet"})]})]}),s.jsxs(U,{onClick:()=>o.mutate(n),disabled:o.isPending,"data-testid":"button-save-crypto-wallets",children:[o.isPending?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Es,{className:"h-4 w-4 mr-2"})," "]})]})]})}function _Ye(){const{toast:e}=Dt(),[t,n]=j.useState(""),[r,a]=j.useState(""),[i,o]=j.useState(""),[l,c]=j.useState(!1),[u,f]=j.useState(""),[m,p]=j.useState(!0),[g,v]=j.useState(!0),[y,w]=j.useState(null),{data:N}=Ne({queryKey:["/api/admin/migration/trackers"]}),{data:A}=Ne({queryKey:["/api/admin/users"],select:E=>E?.filter(O=>O.role==="advertiser")}),T=ve({mutationFn:E=>Be("POST","/api/admin/migration/import",E),onSuccess:E=>{w(E),E.success?e({title:" ",description:`: ${E.offersImported} , ${E.publishersImported} `}):e({title:"   ",description:`: ${E.errors?.length||0}`,variant:"destructive"})},onError:E=>{e({title:" ",description:E.message,variant:"destructive"})}}),C=()=>{if(!t||!r||!i||!u){e({title:"",description:"   ",variant:"destructive"});return}T.mutate({tracker:t,apiUrl:r,apiKey:i,advertiserId:u,options:{importOffers:m,importPublishers:g}})},S=N?.find(E=>E.id===t);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Ux,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"       "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" "}),s.jsxs(ht,{value:t,onValueChange:n,children:[s.jsx(dt,{"data-testid":"select-tracker",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:N?.map(E=>s.jsx(ke,{value:E.id,children:E.name},E.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"-"}),s.jsxs(ht,{value:u,onValueChange:f,children:[s.jsx(dt,{"data-testid":"select-advertiser",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:A?.map(E=>s.jsxs(ke,{value:E.id,children:[E.username," (",E.email,")"]},E.id))})]})]})]}),S&&s.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:S.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:S.apiKeyHelp})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"apiUrl",children:"API URL"}),s.jsx(le,{id:"apiUrl",placeholder:S?.apiUrlPlaceholder||"https://api.tracker.com",value:r,onChange:E=>a(E.target.value),"data-testid":"input-api-url"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"apiKey",children:"API "}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"apiKey",type:l?"text":"password",value:i,onChange:E=>o(E.target.value),"data-testid":"input-api-key"}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>c(!l),children:l?s.jsx(ca,{className:"h-4 w-4"}):s.jsx(ur,{className:"h-4 w-4"})})]})]}),s.jsx(rs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(te,{className:"text-base",children:" "}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($l,{id:"importOffers",checked:m,onCheckedChange:E=>p(E),"data-testid":"checkbox-import-offers"}),s.jsx("label",{htmlFor:"importOffers",className:"text-sm font-medium cursor-pointer",children:""})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($l,{id:"importPublishers",checked:g,onCheckedChange:E=>v(E),"data-testid":"checkbox-import-publishers"}),s.jsx("label",{htmlFor:"importPublishers",className:"text-sm font-medium cursor-pointer",children:" ()"})]})]})]}),s.jsx(U,{onClick:C,disabled:T.isPending||!t||!r||!i||!u,className:"w-full","data-testid":"button-start-migration",children:T.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(du,{className:"h-4 w-4 mr-2"})," "]})})]})]}),y&&s.jsxs(J,{className:y.success?"border-green-500":"border-destructive",children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"flex items-center gap-2",children:[y.success?s.jsx(Vs,{className:"h-5 w-5 text-green-500"}):s.jsx(Kn,{className:"h-5 w-5 text-destructive"})," "]})}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-offers-imported",children:y.offersImported}),s.jsx("div",{className:"text-sm text-muted-foreground",children:" "})]}),s.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-publishers-imported",children:y.publishersImported}),s.jsx("div",{className:"text-sm text-muted-foreground",children:" "})]})]}),y.errors?.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{className:"text-destructive",children:[" (",y.errors.length,")"]}),s.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:y.errors.map((E,O)=>s.jsx("div",{className:"text-sm text-destructive bg-destructive/10 p-2 rounded",children:E},O))})]})]})]}),s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5"})," "]})}),s.jsx(ne,{children:s.jsx("div",{className:"grid grid-cols-5 gap-4",children:[{name:"Scaleo",color:"bg-blue-500"},{name:"Affilka",color:"bg-purple-500"},{name:"Affise",color:"bg-orange-500"},{name:"Voluum",color:"bg-green-500"},{name:"Keitaro",color:"bg-red-500"}].map(E=>s.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${E.color}`}),s.jsx("span",{className:"text-sm font-medium",children:E.name})]},E.name))})})]})]})}function RYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState("roadmap"),[a,i]=j.useState(null),[o,l]=j.useState(!1),[c,u]=j.useState({title:"",description:"",quarter:"Q1 2026",status:"planned",priority:0,isPublished:!1}),{data:f=[],isLoading:m}=Ne({queryKey:["/api/admin/roadmap"]}),{data:p=[],isLoading:g}=Ne({queryKey:["/api/admin/news"]}),v=ve({mutationFn:O=>Be("POST","/api/admin/roadmap",O),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/roadmap"]}),e({title:" "}),l(!1),A()},onError:O=>{e({title:"",description:O.message,variant:"destructive"})}}),y=ve({mutationFn:({id:O,data:_})=>Be("PUT",`/api/admin/roadmap/${O}`,_),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/roadmap"]}),e({title:" "}),i(null),l(!1),A()},onError:O=>{e({title:"",description:O.message,variant:"destructive"})}}),w=ve({mutationFn:O=>Be("DELETE",`/api/admin/roadmap/${O}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/roadmap"]}),e({title:" "})},onError:O=>{e({title:"",description:O.message,variant:"destructive"})}}),N=ve({mutationFn:({id:O,data:_})=>Be("PATCH",`/api/admin/news/${O}/landing`,_),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/news"]}),e({title:" "})},onError:O=>{e({title:"",description:O.message,variant:"destructive"})}}),A=()=>{u({title:"",description:"",quarter:"Q1 2026",status:"planned",priority:0,isPublished:!1})},T=()=>{a?y.mutate({id:a.id,data:c}):v.mutate(c)},C=O=>{i(O),u({title:O.title,description:O.description,quarter:O.quarter,status:O.status,priority:O.priority||0,isPublished:O.isPublished}),l(!0)},S={planned:"",in_progress:" ",completed:""},E=["Q1 2026","Q2 2026","Q3 2026","Q4 2026","Q1 2027","Q2 2027"];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(U,{variant:n==="roadmap"?"default":"outline",onClick:()=>r("roadmap"),"data-testid":"button-section-roadmap",children:[s.jsx(fF,{className:"h-4 w-4 mr-2"}),"Roadmap"]}),s.jsxs(U,{variant:n==="news"?"default":"outline",onClick:()=>r("news"),"data-testid":"button-section-news",children:[s.jsx(Ia,{className:"h-4 w-4 mr-2"}),"  "]})]}),n==="roadmap"&&s.jsxs(J,{children:[s.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(fF,{className:"h-5 w-5"})," "]}),s.jsx(et,{children:"     "})]}),s.jsxs(U,{onClick:()=>{A(),i(null),l(!0)},"data-testid":"button-add-roadmap",children:[s.jsx(fr,{className:"h-4 w-4 mr-2"}),""]})]}),s.jsxs(ne,{className:"space-y-4",children:[o&&s.jsx(J,{className:"border-primary",children:s.jsxs(ne,{className:"pt-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsx(le,{value:c.title,onChange:O=>u({...c,title:O.target.value}),placeholder:" ...","data-testid":"input-roadmap-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsxs(ht,{value:c.quarter,onValueChange:O=>u({...c,quarter:O}),children:[s.jsx(dt,{"data-testid":"select-roadmap-quarter",children:s.jsx(mt,{})}),s.jsx(ut,{children:E.map(O=>s.jsx(ke,{value:O,children:O},O))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsx(le,{value:c.description,onChange:O=>u({...c,description:O.target.value}),placeholder:" ...","data-testid":"input-roadmap-description"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsxs(ht,{value:c.status,onValueChange:O=>u({...c,status:O}),children:[s.jsx(dt,{"data-testid":"select-roadmap-status",children:s.jsx(mt,{})}),s.jsxs(ut,{children:[s.jsx(ke,{value:"planned",children:""}),s.jsx(ke,{value:"in_progress",children:" "}),s.jsx(ke,{value:"completed",children:""})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsx(le,{type:"number",value:c.priority,onChange:O=>u({...c,priority:parseInt(O.target.value)||0}),"data-testid":"input-roadmap-priority"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[s.jsx(vr,{checked:c.isPublished,onCheckedChange:O=>u({...c,isPublished:O}),"data-testid":"switch-roadmap-published"}),s.jsx(te,{children:""})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{onClick:T,disabled:!c.title||!c.description,"data-testid":"button-save-roadmap",children:[s.jsx(Es,{className:"h-4 w-4 mr-2"}),a?"":""]}),s.jsx(U,{variant:"outline",onClick:()=>{l(!1),i(null)},"data-testid":"button-cancel-roadmap",children:""})]})]})}),m?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"h-8 w-8 animate-spin"})}):f.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"    "}):s.jsx("div",{className:"space-y-2",children:f.map(O=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`roadmap-item-${O.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:O.title}),s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-muted",children:O.quarter}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${O.status==="completed"?"bg-green-500/20 text-green-500":O.status==="in_progress"?"bg-yellow-500/20 text-yellow-500":"bg-muted"}`,children:S[O.status]||O.status}),O.isPublished&&s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-primary/20 text-primary",children:""})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:O.description})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>C(O),"data-testid":`button-edit-${O.id}`,children:s.jsx(s_,{className:"h-4 w-4"})}),s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>w.mutate(O.id),"data-testid":`button-delete-${O.id}`,children:s.jsx(Os,{className:"h-4 w-4 text-destructive"})})]})]},O.id))})]})]}),n==="news"&&s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(Ia,{className:"h-5 w-5"}),"  "]}),s.jsx(et,{children:"      "})]}),s.jsx(ne,{children:g?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"h-8 w-8 animate-spin"})}):p.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:' .     "" .'}):s.jsx("div",{className:"space-y-2",children:p.map(O=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`news-item-${O.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:O.title}),O.showOnLanding&&s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-green-500/20 text-green-500",children:" "})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:O.shortDescription||O.body?.substring(0,100)})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vr,{checked:O.showOnLanding||!1,onCheckedChange:_=>N.mutate({id:O.id,data:{showOnLanding:_}}),"data-testid":`switch-landing-${O.id}`}),s.jsx(te,{className:"text-sm",children:" "})]})})]},O.id))})})]})]})}function DYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState(null),[a,i]=j.useState(null),[o,l]=j.useState(""),[c,u]=j.useState(""),{data:f=[],isLoading:m}=Ne({queryKey:["/api/admin/domain-requests"]}),p=ve({mutationFn:async({id:N,notes:A})=>{const T=await fetch(`/api/admin/domain-requests/${N}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({adminNotes:A})});if(!T.ok){const C=await T.json();throw new Error(C.message||"Approval failed")}return T.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/domain-requests"]}),e({title:" ",description:"    provisioning"}),y()},onError:N=>{e({title:" ",description:N.message,variant:"destructive"})}}),g=ve({mutationFn:async({id:N,reason:A})=>{const T=await fetch(`/api/admin/domain-requests/${N}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:A})});if(!T.ok){const C=await T.json();throw new Error(C.message||"Rejection failed")}return T.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/domain-requests"]}),e({title:" "}),y()},onError:N=>{e({title:" ",description:N.message,variant:"destructive"})}}),v=ve({mutationFn:async N=>{const A=await fetch(`/api/admin/domain-requests/${N}/activate`,{method:"POST",credentials:"include"});if(!A.ok){const T=await A.json();throw new Error(T.message||"Activation failed")}return A.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/domain-requests"]}),e({title:" ",description:"   "})},onError:N=>{e({title:" ",description:N.message,variant:"destructive"})}}),y=()=>{r(null),i(null),l(""),u("")},w=N=>{switch(N){case"admin_review":return s.jsxs(ye,{variant:"secondary",className:"bg-blue-500/10 text-blue-400 border-blue-500/30",children:[s.jsx(Yt,{className:"w-3 h-3 mr-1"})," "]});case"provisioning":return s.jsxs(ye,{variant:"secondary",className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/30",children:[s.jsx(Br,{className:"w-3 h-3 mr-1 animate-spin"}),"Provisioning"]});case"active":return s.jsxs(ye,{variant:"default",className:"bg-green-500/20 text-green-400 border-green-500/30",children:[s.jsx(bt,{className:"w-3 h-3 mr-1"}),""]});case"rejected":return s.jsxs(ye,{variant:"destructive",children:[s.jsx(Xn,{className:"w-3 h-3 mr-1"}),""]});case"pending":case"ns_configured":default:return s.jsxs(ye,{variant:"outline",children:[s.jsx(Ui,{className:"w-3 h-3 mr-1"})," NS"]})}};return m?s.jsx("div",{className:"p-6 text-muted-foreground",children:" ..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-domain-requests-title",children:"  "}),s.jsx("p",{className:"text-muted-foreground",children:"      "})]}),f.length===0?s.jsx(J,{children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(jn,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"    "})]})}):s.jsx(J,{children:s.jsx(ne,{className:"p-0",children:s.jsxs(Ou,{children:[s.jsx(Pu,{children:s.jsxs(Ra,{children:[s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:" "}),s.jsx(Ht,{children:""})]})}),s.jsx(Mu,{children:f.map(N=>s.jsxs(Ra,{"data-testid":`row-domain-request-${N.id}`,children:[s.jsx(Kt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jn,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"font-mono",children:N.domain})]})}),s.jsx(Kt,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:N.advertiser.companyName||N.advertiser.username}),s.jsx("div",{className:"text-sm text-muted-foreground",children:N.advertiser.email})]})}),s.jsx(Kt,{children:w(N.requestStatus)}),s.jsx(Kt,{children:N.requestedAt?s.jsxs("div",{children:[s.jsx("div",{children:Eu(new Date(N.requestedAt),"d MMM yyyy",{locale:Si})}),s.jsx("div",{className:"text-xs text-muted-foreground",children:Py(new Date(N.requestedAt),{addSuffix:!0,locale:Si})})]}):s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsx(Kt,{children:s.jsxs("div",{className:"flex gap-2",children:[N.requestStatus==="admin_review"&&s.jsxs(s.Fragment,{children:[s.jsxs(U,{size:"sm",variant:"default",className:"bg-green-600 hover:bg-green-700",onClick:()=>{r(N),i("approve")},"data-testid":`button-approve-${N.id}`,children:[s.jsx(bt,{className:"w-4 h-4 mr-1"}),""]}),s.jsxs(U,{size:"sm",variant:"destructive",onClick:()=>{r(N),i("reject")},"data-testid":`button-reject-${N.id}`,children:[s.jsx(Xn,{className:"w-4 h-4 mr-1"}),""]})]}),N.requestStatus==="provisioning"&&s.jsxs(U,{size:"sm",variant:"default",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>v.mutate(N.id),disabled:v.isPending,"data-testid":`button-activate-${N.id}`,children:[s.jsx(ph,{className:`w-4 h-4 mr-1 ${v.isPending?"animate-spin":""}`}),""]})]})})]},N.id))})]})})}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsx(Ie,{children:"  "}),s.jsx(et,{children:"     "})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"1.    Replit Deployment"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" Deployments  Settings  Custom Domains   ."})]}),s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"2.  DNS  Cloudflare"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" CNAME   ,   Replit deployment URL."})]}),s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"3.  "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'    ""   .'})]})]})]}),s.jsx(Wt,{open:!!n&&!!a,onOpenChange:y,children:s.jsxs(zt,{children:[s.jsxs(qt,{children:[s.jsx(Ut,{children:a==="approve"?" ":" "}),s.jsxs(ao,{children:[": ",s.jsx("span",{className:"font-mono",children:n?.domain})]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[a==="approve"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"adminNotes",children:" ()"}),s.jsx(vi,{id:"adminNotes",value:o,onChange:N=>l(N.target.value),placeholder:"   ...","data-testid":"input-admin-notes"})]}),a==="reject"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"rejectionReason",children:"  *"}),s.jsx(vi,{id:"rejectionReason",value:c,onChange:N=>u(N.target.value),placeholder:"   ...","data-testid":"input-rejection-reason"})]})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:y,children:""}),a==="approve"&&s.jsx(U,{className:"bg-green-600 hover:bg-green-700",onClick:()=>n&&p.mutate({id:n.id,notes:o}),disabled:p.isPending,"data-testid":"button-confirm-approve",children:""}),a==="reject"&&s.jsx(U,{variant:"destructive",onClick:()=>n&&g.mutate({id:n.id,reason:c}),disabled:!c||g.isPending,"data-testid":"button-confirm-reject",children:""})]})]})})]})}const _K={trial:" ",active:"",cancelled:"",expired:"",past_due:"",pending_payment:" "},IYe={trial:"bg-blue-500/20 text-blue-400 border-blue-500/30",active:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cancelled:"bg-gray-500/20 text-gray-400 border-gray-500/30",expired:"bg-red-500/20 text-red-400 border-red-500/30",past_due:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",pending_payment:"bg-orange-500/20 text-orange-400 border-orange-500/30"};function LYe(){const e=rt(),[t,n]=j.useState(""),[r,a]=j.useState(""),[i,o]=j.useState(""),[l,c]=j.useState(null),[u,f]=j.useState("30"),[m,p]=j.useState(null),[g,v]=j.useState(""),[y,w]=j.useState(!1),[N,A]=j.useState(""),[T,C]=j.useState(""),[S,E]=j.useState("1"),{data:O,isLoading:_,refetch:M}=Ne({queryKey:["admin-subscriptions",t,r,i],queryFn:async()=>{const R=new URLSearchParams;t&&R.set("search",t),r&&R.set("status",r),i&&R.set("planId",i);const B=await fetch(`/api/admin/subscriptions?${R}`,{credentials:"include"});if(!B.ok)throw new Error("Failed to fetch subscriptions");return B.json()}}),{data:$}=Ne({queryKey:["admin-users-for-grant"],queryFn:async()=>{const R=await fetch("/api/admin/users?role=advertiser",{credentials:"include"});if(!R.ok)return[];const B=await R.json();return B.users||B}}),z=ve({mutationFn:async({id:R,days:B})=>{const L=await fetch(`/api/admin/subscriptions/${R}/extend`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({extendByDays:B})});if(!L.ok){const q=await L.json();throw new Error(q.message||"Failed to extend subscription")}return L.json()},onSuccess:()=>{Rt.success(" "),c(null),e.invalidateQueries({queryKey:["admin-subscriptions"]})},onError:R=>{Rt.error(R.message)}}),V=ve({mutationFn:async({id:R,planId:B})=>{const L=await fetch(`/api/admin/subscriptions/${R}/change-plan`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({planId:B})});if(!L.ok){const q=await L.json();throw new Error(q.message||"Failed to change plan")}return L.json()},onSuccess:()=>{Rt.success(" "),p(null),e.invalidateQueries({queryKey:["admin-subscriptions"]})},onError:R=>{Rt.error(R.message)}}),I=ve({mutationFn:async({userId:R,planId:B,periodMonths:L})=>{const q=await fetch("/api/admin/subscriptions/grant",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userId:R,planId:B,periodMonths:L})});if(!q.ok){const se=await q.json();throw new Error(se.message||"Failed to grant subscription")}return q.json()},onSuccess:()=>{Rt.success(" "),w(!1),A(""),C(""),E("1"),e.invalidateQueries({queryKey:["admin-subscriptions"]})},onError:R=>{Rt.error(R.message)}}),F=O?.subscriptions||[],K=O?.plans||[];return _?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:" "}),s.jsx("p",{className:"text-muted-foreground",children:"    "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{onClick:()=>w(!0),"data-testid":"button-grant-subscription",children:[s.jsx(Nhe,{className:"w-4 h-4 mr-2"})," "]}),s.jsxs(U,{variant:"outline",onClick:()=>M(),"data-testid":"button-refresh-subscriptions",children:[s.jsx(Br,{className:"w-4 h-4 mr-2"}),""]})]})]}),s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"flex items-center gap-2",children:[s.jsx(pn,{className:"w-5 h-5"})," (",F.length,")"]})}),s.jsxs(ne,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{placeholder:"  email  username...",value:t,onChange:R=>n(R.target.value),className:"pl-10","data-testid":"input-search-subscriptions"})]}),s.jsxs(ht,{value:r||"all",onValueChange:R=>a(R==="all"?"":R),children:[s.jsx(dt,{className:"w-[180px]","data-testid":"select-status-filter",children:s.jsx(mt,{placeholder:" "})}),s.jsxs(ut,{children:[s.jsx(ke,{value:"all","data-testid":"select-status-all",children:" "}),Object.entries(_K).map(([R,B])=>s.jsx(ke,{value:R,"data-testid":`select-status-${R}`,children:B},R))]})]}),s.jsxs(ht,{value:i||"all",onValueChange:R=>o(R==="all"?"":R),children:[s.jsx(dt,{className:"w-[180px]","data-testid":"select-plan-filter",children:s.jsx(mt,{placeholder:" "})}),s.jsxs(ut,{children:[s.jsx(ke,{value:"all","data-testid":"select-plan-all",children:" "}),K.map(R=>s.jsx(ke,{value:R.id,"data-testid":`select-plan-${R.id}`,children:R.name},R.id))]})]})]}),F.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Kn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"  "})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ou,{children:[s.jsx(Pu,{children:s.jsxs(Ra,{children:[s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{className:"text-right",children:""})]})}),s.jsx(Mu,{children:F.map(R=>s.jsxs(Ra,{"data-testid":`subscription-row-${R.id}`,children:[s.jsx(Kt,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:R.user.username}),s.jsx("p",{className:"text-xs text-muted-foreground",children:R.user.email})]})}),s.jsx(Kt,{children:R.plan?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ahe,{className:"w-4 h-4 text-amber-400"}),s.jsx("span",{children:R.plan.name})]}):s.jsx("span",{className:"text-muted-foreground",children:" "})}),s.jsx(Kt,{children:s.jsx(ye,{variant:"outline",className:IYe[R.status]||"",children:_K[R.status]||R.status})}),s.jsx(Kt,{children:R.status==="trial"&&R.trialEndsAt?s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-muted-foreground",children:" :"}),s.jsx("p",{children:Eu(new Date(R.trialEndsAt),"dd MMM yyyy",{locale:Si})})]}):R.currentPeriodEnd?s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-muted-foreground",children:" :"}),s.jsx("p",{children:Eu(new Date(R.currentPeriodEnd),"dd MMM yyyy",{locale:Si})})]}):s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsx(Kt,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>{c(R),f("30")},"data-testid":`button-extend-${R.id}`,children:[s.jsx($fe,{className:"w-4 h-4 mr-1"}),""]}),s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>{p(R),v(R.planId||"")},"data-testid":`button-change-plan-${R.id}`,children:[s.jsx(jfe,{className:"w-4 h-4 mr-1"}),""]})]})})]},R.id))})]})})]})]}),s.jsx(Wt,{open:!!l,onOpenChange:()=>c(null),children:s.jsxs(zt,{children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:[": ",s.jsx("span",{className:"font-medium text-foreground",children:l?.user.username})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" "}),s.jsx(le,{type:"number",value:u,onChange:R=>f(R.target.value),min:"1","data-testid":"input-extend-days"})]})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:()=>c(null),"data-testid":"button-cancel-extend",children:""}),s.jsxs(U,{onClick:()=>{l&&z.mutate({id:l.id,days:parseInt(u)})},disabled:z.isPending,"data-testid":"button-confirm-extend",children:[z.isPending&&s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})}),s.jsx(Wt,{open:!!m,onOpenChange:()=>p(null),children:s.jsxs(zt,{children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:[": ",s.jsx("span",{className:"font-medium text-foreground",children:m?.user.username})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" "}),s.jsxs(ht,{value:g,onValueChange:v,children:[s.jsx(dt,{"data-testid":"select-new-plan",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:K.map(R=>s.jsxs(ke,{value:R.id,"data-testid":`select-change-plan-${R.id}`,children:[R.name,"  $",R.monthlyPrice,"/"]},R.id))})]})]})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:()=>p(null),"data-testid":"button-cancel-change-plan",children:""}),s.jsxs(U,{onClick:()=>{m&&g&&V.mutate({id:m.id,planId:g})},disabled:V.isPending||!g,"data-testid":"button-confirm-change-plan",children:[V.isPending&&s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})}),s.jsx(Wt,{open:y,onOpenChange:w,children:s.jsxs(zt,{children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsxs(ht,{value:N,onValueChange:A,children:[s.jsx(dt,{"data-testid":"select-grant-user",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:$?.map(R=>s.jsxs(ke,{value:R.id,"data-testid":`select-grant-user-${R.id}`,children:[R.username," (",R.email,")"]},R.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsxs(ht,{value:T,onValueChange:C,children:[s.jsx(dt,{"data-testid":"select-grant-plan",children:s.jsx(mt,{placeholder:" "})}),s.jsx(ut,{children:K.map(R=>s.jsxs(ke,{value:R.id,"data-testid":`select-grant-plan-${R.id}`,children:[R.name,"  $",R.monthlyPrice,"/"]},R.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" ()"}),s.jsx(le,{type:"number",value:S,onChange:R=>E(R.target.value),min:"1","data-testid":"input-grant-months"})]})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:()=>w(!1),"data-testid":"button-cancel-grant",children:""}),s.jsxs(U,{onClick:()=>{N&&T&&I.mutate({userId:N,planId:T,periodMonths:parseInt(S)})},disabled:I.isPending||!N||!T,"data-testid":"button-confirm-grant",children:[I.isPending&&s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})})]})}const Xp=[{value:"manager",label:"",icon:hh,description:" "},{value:"analyst",label:"",icon:mh,description:"  "},{value:"support",label:"",icon:qW,description:"  "},{value:"finance",label:"",icon:Qr,description:"  "}];function $Ye(){const e=rt(),{canWrite:t}=ey(),[n,r]=j.useState(!1),[a,i]=j.useState(null),[o,l]=j.useState({fullName:"",email:"",staffRole:"analyst",password:""}),[c,u]=j.useState(!1),f=t("team"),{data:m=[],isLoading:p}=Ne({queryKey:["advertiser-staff"],queryFn:async()=>{const T=await fetch("/api/advertiser/staff",{credentials:"include"});if(!T.ok)throw new Error("Failed to fetch staff");return T.json()}}),g=ve({mutationFn:async T=>(await Be("POST","/api/advertiser/staff",T)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["advertiser-staff"]}),r(!1),l({fullName:"",email:"",staffRole:"analyst",password:""})}}),v=ve({mutationFn:async({id:T,data:C})=>(await Be("PUT",`/api/advertiser/staff/${T}`,C)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["advertiser-staff"]}),i(null)}}),y=ve({mutationFn:async T=>(await Be("DELETE",`/api/advertiser/staff/${T}`,{})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["advertiser-staff"]})}}),w=T=>Xp.find(C=>C.value===T)||Xp[1],N=T=>{if(T.preventDefault(),a){const C={fullName:o.fullName,staffRole:o.staffRole};o.password&&(C.password=o.password),v.mutate({id:a.id,data:C})}else g.mutate(o)},A=T=>{i(T),l({fullName:T.fullName,email:T.email,staffRole:T.staffRole,password:""})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(pn,{className:"w-6 h-6 text-blue-500"}),""]}),s.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"  "})]}),f&&s.jsxs(Wt,{open:n,onOpenChange:r,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{"data-testid":"button-add-staff",className:"bg-emerald-600 hover:bg-emerald-500",children:[s.jsx(Do,{className:"w-4 h-4 mr-2"})," "]})}),s.jsxs(zt,{children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsx(le,{"data-testid":"input-staff-name",value:o.fullName,onChange:T=>l({...o,fullName:T.target.value}),placeholder:" ",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"Email"}),s.jsx(le,{"data-testid":"input-staff-email",type:"email",value:o.email,onChange:T=>l({...o,email:T.target.value}),placeholder:"ivan@company.com",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsxs(ht,{value:o.staffRole,onValueChange:T=>l({...o,staffRole:T}),children:[s.jsx(dt,{"data-testid":"select-staff-role",children:s.jsx(mt,{})}),s.jsx(ut,{children:Xp.map(T=>s.jsx(ke,{value:T.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(T.icon,{className:"w-4 h-4"}),s.jsx("span",{children:T.label}),s.jsxs("span",{className:"text-muted-foreground text-xs",children:[" ",T.description]})]})},T.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsx(le,{"data-testid":"input-staff-password",type:"password",value:o.password,onChange:T=>l({...o,password:T.target.value}),placeholder:"",required:!0})]}),s.jsxs(U,{type:"submit",className:"w-full",disabled:g.isPending,children:[g.isPending&&s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})]})]}),s.jsx("div",{className:"grid gap-4 grid-cols-2 lg:grid-cols-4",children:Xp.map(T=>s.jsxs(J,{className:"bg-card/50 border-border",children:[s.jsx(Pe,{className:"pb-2",children:s.jsxs(Ie,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(T.icon,{className:"w-4 h-4 text-muted-foreground"}),T.label]})}),s.jsxs(ne,{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:T.description}),s.jsx("p",{className:"text-2xl font-bold mt-2",children:m.filter(C=>C.staffRole===T.value).length})]})]},T.value))}),s.jsx(P5,{open:c,onOpenChange:u,children:s.jsxs(J,{className:"bg-blue-500/5 border-blue-500/20",children:[s.jsx(M5,{asChild:!0,children:s.jsx(Pe,{className:"cursor-pointer hover:bg-blue-500/10 transition-colors",children:s.jsxs(Ie,{className:"text-sm font-medium flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-400",children:[s.jsx(VW,{className:"w-4 h-4"}),"   "]}),s.jsx(fa,{className:`w-4 h-4 text-blue-400 transition-transform ${c?"rotate-180":""}`})]})})}),s.jsx(_5,{children:s.jsxs(ne,{className:"pt-0 text-sm text-muted-foreground space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground mb-2",children:"  :"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[s.jsx("li",{children:'  " "'}),s.jsx("li",{children:" , email  "}),s.jsx("li",{children:"     "}),s.jsx("li",{children:"    email + "})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground mb-2",children:"   :"}),s.jsxs("div",{className:"space-y-2 ml-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(hh,{className:"w-4 h-4 mt-0.5 text-purple-400"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-foreground",children:""}),s.jsx("span",{className:"text-muted-foreground",children:"      : , , , "})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(mh,{className:"w-4 h-4 mt-0.5 text-blue-400"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-foreground",children:""}),s.jsx("span",{className:"text-muted-foreground",children:"   ,    ( )"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(qW,{className:"w-4 h-4 mt-0.5 text-emerald-400"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-foreground",children:""}),s.jsx("span",{className:"text-muted-foreground",children:"    ,   "})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Qr,{className:"w-4 h-4 mt-0.5 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-foreground",children:""}),s.jsx("span",{className:"text-muted-foreground",children:"   ,    "})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground mb-2",children:":"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[s.jsx("li",{children:"     email  "}),s.jsx("li",{children:"      "}),s.jsx("li",{children:"         "}),s.jsx("li",{children:"       "})]})]})]})})]})}),s.jsxs(J,{className:"bg-card border-border",children:[s.jsx(Pe,{children:s.jsx(Ie,{className:"text-lg",children:""})}),s.jsx(ne,{children:p?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(we,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):m.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(pn,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:" "}),s.jsx("p",{className:"text-sm",children:"   "})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border text-left text-xs text-muted-foreground uppercase",children:[s.jsx("th",{className:"py-3 px-4",children:""}),s.jsx("th",{className:"py-3 px-4",children:"Email"}),s.jsx("th",{className:"py-3 px-4",children:""}),s.jsx("th",{className:"py-3 px-4",children:""}),s.jsx("th",{className:"py-3 px-4",children:""}),s.jsx("th",{className:"py-3 px-4 text-right",children:""})]})}),s.jsx("tbody",{children:m.map(T=>{const C=w(T.staffRole);return s.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:s.jsx(Or,{className:"w-4 h-4 text-muted-foreground"})}),s.jsx("span",{className:"font-medium",children:T.fullName})]})}),s.jsx("td",{className:"py-3 px-4 text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ji,{className:"w-3 h-3"}),T.email]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs(ye,{variant:"outline",className:"gap-1",children:[s.jsx(C.icon,{className:"w-3 h-3"}),C.label]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(ye,{variant:T.status==="active"?"default":"destructive",children:T.status==="active"?"":""})}),s.jsx("td",{className:"py-3 px-4 text-muted-foreground text-sm",children:new Date(T.createdAt).toLocaleDateString("ru-RU")}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex justify-end gap-2",children:f&&s.jsxs(s.Fragment,{children:[s.jsxs(Wt,{open:a?.id===T.id,onOpenChange:S=>!S&&i(null),children:[s.jsx(ks,{asChild:!0,children:s.jsx(U,{"data-testid":`button-edit-staff-${T.id}`,size:"sm",variant:"outline",onClick:()=>A(T),children:s.jsx(s_,{className:"w-4 h-4"})})}),s.jsxs(zt,{children:[s.jsx(qt,{children:s.jsx(Ut,{children:" "})}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsx(le,{value:o.fullName,onChange:S=>l({...o,fullName:S.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:""}),s.jsxs(ht,{value:o.staffRole,onValueChange:S=>l({...o,staffRole:S}),children:[s.jsx(dt,{children:s.jsx(mt,{})}),s.jsx(ut,{children:Xp.map(S=>s.jsx(ke,{value:S.value,children:S.label},S.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"  ()"}),s.jsx(le,{type:"password",value:o.password,onChange:S=>l({...o,password:S.target.value}),placeholder:" ,   "})]}),s.jsxs(U,{type:"submit",className:"w-full",disabled:v.isPending,children:[v.isPending&&s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})]}),s.jsx(U,{"data-testid":`button-toggle-staff-${T.id}`,size:"sm",variant:T.status==="active"?"destructive":"default",onClick:()=>v.mutate({id:T.id,data:{status:T.status==="active"?"blocked":"active"}}),disabled:v.isPending,children:s.jsx(Fn,{className:"w-4 h-4"})}),s.jsx(U,{"data-testid":`button-delete-staff-${T.id}`,size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",onClick:()=>y.mutate(T.id),disabled:y.isPending,children:s.jsx(Os,{className:"w-4 h-4"})})]})})})]},T.id)})})]})})})]})]})}function So({className:e,...t}){return s.jsx("div",{className:Re("animate-pulse rounded-md bg-primary/10",e),...t})}function FYe(){const e=rt(),{toast:t}=Dt(),[n,r]=j.useState(""),[a,i]=j.useState(null),[o,l]=j.useState(""),[c,u]=j.useState("5"),{data:f=[],isLoading:m}=Ne({queryKey:["advertiser-referrals"],queryFn:async()=>{const E=await fetch("/api/advertiser/referrals",{credentials:"include"});if(!E.ok)throw new Error("   ");return E.json()}}),{data:p}=Ne({queryKey:["advertiser-referrals-stats"],queryFn:async()=>{const E=await fetch("/api/advertiser/referrals/stats",{credentials:"include"});if(!E.ok)throw new Error("   ");return E.json()}}),g=ve({mutationFn:async({publisherId:E,referralEnabled:O,referralRate:_})=>(await Be("PATCH",`/api/advertiser/referrals/${E}`,{referralEnabled:O,referralRate:_})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["advertiser-referrals"]}),i(null),l("")},onError:E=>{t({variant:"destructive",title:"",description:E.message})}}),v=ve({mutationFn:async({referralEnabled:E,referralRate:O})=>(await Be("PATCH","/api/advertiser/referrals/bulk",{referralEnabled:E,referralRate:O})).json(),onSuccess:E=>{e.invalidateQueries({queryKey:["advertiser-referrals"]}),t({title:" ",description:` : ${E.updated}`})},onError:E=>{t({variant:"destructive",title:"",description:E.message})}}),y=f.filter(E=>E.publisherName.toLowerCase().includes(n.toLowerCase())),w=f.reduce((E,O)=>E+O.referredCount,0),N=f.reduce((E,O)=>E+O.totalPaid,0),A=f.filter(E=>E.referralEnabled).length,T=(E,O)=>{g.mutate({publisherId:E,referralEnabled:!O})},C=E=>{const O=parseFloat(o);isNaN(O)||O<0||O>100||g.mutate({publisherId:E,referralRate:o})},S=(E,O)=>{i(E),l(O)};return m?s.jsxs("div",{className:"space-y-6",children:[s.jsx(So,{className:"h-8 w-64"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(So,{className:"h-24"}),s.jsx(So,{className:"h-24"}),s.jsx(So,{className:"h-24"})]}),s.jsx(So,{className:"h-64"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-3","data-testid":"text-referrals-title",children:[s.jsx(Ea,{className:"w-6 h-6"})," "]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"    "})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[s.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(qr,{className:"w-4 h-4 text-emerald-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]}),s.jsx("p",{className:"text-xl font-bold text-emerald-400","data-testid":"text-active-programs",children:A})]}),s.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Do,{className:"w-4 h-4 text-blue-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]}),s.jsx("p",{className:"text-xl font-bold text-blue-400","data-testid":"text-total-referred",children:w})]}),s.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Sn,{className:"w-4 h-4 text-yellow-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]}),s.jsx("p",{className:"text-xl font-bold text-yellow-400","data-testid":"text-total-paid",children:Xe(N)})]}),s.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Qr,{className:"w-4 h-4 text-purple-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),s.jsx("p",{className:"text-xl font-bold text-purple-400","data-testid":"text-accrued",children:Xe(p?.accrued||0)})]}),s.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Vs,{className:"w-4 h-4 text-emerald-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),s.jsx("p",{className:"text-xl font-bold text-emerald-400","data-testid":"text-paid",children:Xe(p?.paid||0)})]}),s.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Yt,{className:"w-4 h-4 text-orange-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]}),s.jsx("p",{className:"text-xl font-bold text-orange-400","data-testid":"text-pending",children:Xe(p?.pending||0)})]})]}),s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ie,{className:"text-lg",children:""}),s.jsxs("div",{className:"relative w-64",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(le,{"data-testid":"input-search-publishers",placeholder:" ...",value:n,onChange:E=>r(E.target.value),className:"pl-10"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 p-3 rounded-lg bg-muted/30 border border-border/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_me,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:" :"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(le,{"data-testid":"input-bulk-rate",type:"number",min:"0",max:"100",step:"0.1",value:c,onChange:E=>u(E.target.value),className:"w-20 h-8 text-center",placeholder:"%"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"%"})]}),s.jsxs(U,{"data-testid":"button-bulk-enable",size:"sm",variant:"default",className:"bg-emerald-600 hover:bg-emerald-700",onClick:()=>{const E=parseFloat(c);if(isNaN(E)||E<0||E>100){t({variant:"destructive",title:"",description:"    0  100"});return}v.mutate({referralEnabled:!0,referralRate:c})},disabled:v.isPending||f.length===0,children:[v.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin mr-1"}):null,"  "]}),s.jsx(U,{"data-testid":"button-bulk-disable",size:"sm",variant:"outline",onClick:()=>{const E=parseFloat(c);if(isNaN(E)||E<0||E>100){t({variant:"destructive",title:"",description:"    0  100"});return}v.mutate({referralEnabled:!1,referralRate:c})},disabled:v.isPending||f.length===0,children:"  "})]})]})}),s.jsx(ne,{children:y.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Ea,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"   "})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-muted-foreground",children:" "}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:""})]})}),s.jsx("tbody",{children:y.map(E=>s.jsxs("tr",{className:"border-b border-border/50 hover:bg-muted/20","data-testid":`row-publisher-${E.publisherId}`,children:[s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"font-medium text-foreground","data-testid":`text-publisher-name-${E.publisherId}`,children:E.publisherName})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx(vr,{"data-testid":`switch-referral-${E.publisherId}`,checked:E.referralEnabled,onCheckedChange:()=>T(E.publisherId,E.referralEnabled),disabled:g.isPending})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:a===E.publisherId?s.jsxs(s.Fragment,{children:[s.jsx(le,{"data-testid":`input-rate-${E.publisherId}`,type:"number",min:"0",max:"100",step:"0.1",value:o,onChange:O=>l(O.target.value),className:"w-20 h-8 text-center"}),s.jsx("span",{className:"text-muted-foreground",children:"%"}),s.jsx(U,{"data-testid":`button-save-rate-${E.publisherId}`,size:"sm",variant:"ghost",onClick:()=>C(E.publisherId),disabled:g.isPending,children:g.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin"}):s.jsx(Es,{className:"w-4 h-4 text-emerald-400"})})]}):s.jsx(U,{"data-testid":`button-edit-rate-${E.publisherId}`,variant:"ghost",size:"sm",onClick:()=>S(E.publisherId,E.referralRate),className:"flex items-center gap-1",children:s.jsxs(ye,{variant:"outline",className:"bg-purple-500/20 text-purple-400 border-purple-500/30",children:[s.jsx(yme,{className:"w-3 h-3 mr-1"}),E.referralRate,"%"]})})})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsxs(ye,{variant:"outline",className:E.referredCount>0?"bg-blue-500/20 text-blue-400 border-blue-500/30":"",children:[s.jsx(Do,{className:"w-3 h-3 mr-1"}),E.referredCount]})}),s.jsx("td",{className:"py-3 px-4 text-right",children:s.jsxs("span",{className:E.totalPaid>0?"text-emerald-400 font-medium":"text-muted-foreground","data-testid":`text-paid-${E.publisherId}`,children:["$",E.totalPaid.toFixed(2)]})})]},E.publisherId))})]})})})]}),s.jsx(J,{className:"bg-blue-500/10 border-blue-500/30",children:s.jsx(ne,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-full bg-blue-500/20",children:s.jsx(Ea,{className:"w-5 h-5 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-foreground mb-1",children:"   ?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"       ,       . ,    5%     $100,   $5 ."})]})]})})})]})}function BYe(){const{selectedAdvertiserId:e,selectedAdvertiser:t}=Vl(),[n,r]=j.useState(!1),{data:a,isLoading:i}=Ne({queryKey:["publisher-referrals-info",e],queryFn:async()=>{if(!e)throw new Error(" ");const w=await fetch(`/api/publisher/referrals/${e}`,{credentials:"include"});if(!w.ok)throw new Error("   ");return w.json()},enabled:!!e}),{data:o,isLoading:l}=Ne({queryKey:["publisher-referrals-stats",e],queryFn:async()=>{if(!e)throw new Error(" ");const w=await fetch(`/api/publisher/referrals/${e}/stats`,{credentials:"include"});if(!w.ok)throw new Error("   ");return w.json()},enabled:!!e&&a?.enabled===!0}),{data:c=[],isLoading:u}=Ne({queryKey:["publisher-referrals-earnings",e],queryFn:async()=>{if(!e)throw new Error(" ");const w=await fetch(`/api/publisher/referrals/${e}/earnings`,{credentials:"include"});if(!w.ok)throw new Error("   ");return w.json()},enabled:!!e&&a?.enabled===!0}),f=()=>{a?.referralLink&&(navigator.clipboard.writeText(a.referralLink),r(!0),setTimeout(()=>r(!1),2e3))},m=i||(a?.enabled?l:!1);if(!e)return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(Ea,{className:"w-6 h-6"})," "]}),s.jsx(J,{children:s.jsxs(ne,{className:"pt-6 text-center py-12 text-muted-foreground",children:[s.jsx(Ea,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"    "})]})})]});if(m)return s.jsxs("div",{className:"space-y-6",children:[s.jsx(So,{className:"h-8 w-64"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(So,{className:"h-24"}),s.jsx(So,{className:"h-24"}),s.jsx(So,{className:"h-24"})]}),s.jsx(So,{className:"h-64"})]});if(!a?.enabled)return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-3","data-testid":"text-referrals-title",children:[s.jsx(Ea,{className:"w-6 h-6"})," "]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"     "})]}),s.jsx(J,{className:"bg-muted/30",children:s.jsxs(ne,{className:"pt-6 text-center py-12",children:[s.jsx(Ea,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"  "}),s.jsxs("p",{className:"text-muted-foreground max-w-md mx-auto",children:[" ",t?.companyName||t?.username,"     .      ."]})]})})]});const p=parseFloat(o?.referralRate||a?.referralRate||"0"),g=o?.totalReferred||0,v=o?.totalEarnings||0,y=o?.pendingEarnings||0;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-3","data-testid":"text-referrals-title",children:[s.jsx(Ea,{className:"w-6 h-6"})," "]}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:["    ",p,"%   "]})]}),a?.referralLink&&s.jsx(J,{children:s.jsx(ne,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-purple-500/20",children:s.jsx(Yg,{className:"w-6 h-6 text-purple-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"  "}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(le,{"data-testid":"input-referral-link",value:a.referralLink,readOnly:!0,className:"bg-background/50"}),s.jsx(U,{"data-testid":"button-copy-link",variant:"outline",onClick:f,className:"shrink-0",children:n?s.jsx(bt,{className:"w-4 h-4 text-emerald-400"}):s.jsx(Yn,{className:"w-4 h-4"})})]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(qr,{className:"w-4 h-4 text-purple-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),s.jsxs("p",{className:"text-xl font-bold text-purple-400","data-testid":"text-referral-rate",children:[p,"%"]})]}),s.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Do,{className:"w-4 h-4 text-blue-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),s.jsx("p",{className:"text-xl font-bold text-blue-400","data-testid":"text-total-referred",children:g})]}),s.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Sn,{className:"w-4 h-4 text-emerald-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),s.jsx("p",{className:"text-xl font-bold text-emerald-400","data-testid":"text-total-earnings",children:Xe(v)})]}),s.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Yt,{className:"w-4 h-4 text-yellow-400"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),s.jsx("p",{className:"text-xl font-bold text-yellow-400","data-testid":"text-pending-earnings",children:Xe(y)})]})]}),o?.referredPartners&&o.referredPartners.length>0&&s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[s.jsx(Do,{className:"w-5 h-5"})," "]})}),s.jsx(ne,{children:s.jsx("div",{className:"space-y-2",children:o.referredPartners.map(w=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50","data-testid":`row-referred-${w.id}`,children:[s.jsx("span",{className:"font-medium text-foreground",children:w.username}),s.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(w.createdAt).toLocaleDateString("ru-RU")})]},w.id))})})]}),!u&&c.length>0&&s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[s.jsx(Sn,{className:"w-5 h-5"})," "]})}),s.jsx(ne,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-muted-foreground",children:" "}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:""})]})}),s.jsx("tbody",{children:c.map(w=>s.jsxs("tr",{className:"border-b border-border/50","data-testid":`row-earning-${w.id}`,children:[s.jsx("td",{className:"py-3 px-4 text-foreground",children:new Date(w.createdAt).toLocaleDateString("ru-RU")}),s.jsxs("td",{className:"py-3 px-4 text-center text-muted-foreground",children:["$",parseFloat(w.originalPayout).toFixed(2)]}),s.jsxs("td",{className:"py-3 px-4 text-center font-medium text-emerald-400",children:["+$",parseFloat(w.amount).toFixed(2)]}),s.jsx("td",{className:"py-3 px-4 text-right",children:s.jsx(ye,{variant:"outline",className:w.status==="paid"?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:w.status==="paid"?"":""})})]},w.id))})]})})})]}),s.jsx(J,{className:"bg-blue-500/10 border-blue-500/30",children:s.jsx(ne,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-full bg-blue-500/20",children:s.jsx(Ea,{className:"w-5 h-5 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-foreground mb-1",children:"  ?"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["     .      ,    ",p,"%    .      ."]})]})]})})})]})}function zYe(){const[,e]=hr(),t=rt(),{toast:n}=Dt(),{data:r}=Ne({queryKey:["/api/user"],queryFn:async()=>{const m=await fetch("/api/user",{credentials:"include"});if(!m.ok)throw new Error("Not authenticated");return m.json()}}),{data:a=[],isLoading:i}=Ne({queryKey:["/api/news"],queryFn:async()=>{const m=await fetch("/api/news",{credentials:"include"});return m.ok?m.json():[]}});j.useEffect(()=>{if(a.length>0){const m=a.map(p=>p.id);fetch("/api/news/mark-read",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({newsIds:m})}).then(()=>{t.invalidateQueries({queryKey:["unread-news-count"]})}).catch(()=>{})}},[a,t]);const o=ve({mutationFn:async m=>{const p=await fetch(`/api/news/${m}`,{method:"DELETE",credentials:"include"});if(!p.ok)throw new Error("Failed to delete");return p.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/news"]}),n({title:"",description:" "})},onError:()=>{n({title:"",description:"   ",variant:"destructive"})}}),l=m=>r?r.role==="admin"||r.role==="advertiser"&&m.authorId===r.id:!1,c=m=>{switch(m){case"update":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"announcement":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"promo":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"alert":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-muted text-muted-foreground border-border"}},u=m=>{switch(m){case"update":return"";case"announcement":return"";case"promo":return"";case"alert":return"";default:return m}},f=r?.role==="admin"||r?.role==="advertiser";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(Ia,{className:"h-6 w-6"}),"  "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),f&&r?.role&&s.jsx(Mt,{href:`/dashboard/${r.role}/news/create`,children:s.jsxs(U,{"data-testid":"create-news-button",children:[s.jsx(fr,{className:"h-4 w-4 mr-2"})," "]})})]}),i?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.length===0?s.jsx(J,{children:s.jsxs(ne,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Ia,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:" "})]})}):s.jsx("div",{className:"space-y-4",children:a.map(m=>s.jsx(J,{className:`overflow-hidden ${m.isPinned?"border-yellow-500/30":""}`,"data-testid":`news-card-${m.id}`,children:s.jsxs("div",{className:`flex ${m.imageUrl?"flex-col sm:flex-row":""}`,children:[m.imageUrl&&s.jsx("div",{className:"sm:w-36 sm:min-w-36 h-32 sm:h-auto sm:min-h-24 overflow-hidden flex-shrink-0",children:s.jsx("img",{src:m.imageUrl,alt:m.title,className:"w-full h-full object-cover sm:rounded-l-lg"})}),s.jsxs(ne,{className:"p-4 flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.isPinned&&s.jsx(jme,{className:"h-4 w-4 text-yellow-500"}),s.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded border ${c(m.category)}`,children:u(m.category)}),s.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:m.authorRole==="admin"?"":""})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[s.jsx(Vw,{className:"h-3 w-3"}),m.publishedAt&&Eu(new Date(m.publishedAt),"d MMM yyyy",{locale:Si})]}),l(m)&&s.jsxs(Ru,{children:[s.jsx(Du,{asChild:!0,children:s.jsx(U,{variant:"ghost",size:"icon",className:"h-6 w-6","data-testid":`news-actions-${m.id}`,children:s.jsx(dhe,{className:"h-4 w-4"})})}),s.jsxs(Zc,{align:"end",children:[s.jsxs($a,{onClick:()=>e(`/dashboard/${r?.role}/news/edit/${m.id}`),"data-testid":`edit-news-${m.id}`,children:[s.jsx(pme,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs(DR,{children:[s.jsx(Ike,{asChild:!0,children:s.jsxs($a,{onSelect:p=>p.preventDefault(),className:"text-red-500 focus:text-red-500","data-testid":`delete-news-${m.id}`,children:[s.jsx(Os,{className:"h-4 w-4 mr-2"}),""]})}),s.jsxs(jN,{children:[s.jsxs(wN,{children:[s.jsx(SN,{children:" ?"}),s.jsx(CN,{children:"    .    ."})]}),s.jsxs(NN,{children:[s.jsx(TN,{children:""}),s.jsx(kN,{onClick:()=>o.mutate(m.id),className:"bg-red-500 hover:bg-red-600",children:""})]})]})]})]})]})]})]}),s.jsx("h3",{className:"text-base font-semibold text-foreground mb-1",children:m.title}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:m.body})]})]})},m.id))})]})}function qYe(){const e=rt(),{data:t=[],isLoading:n}=Ne({queryKey:["/api/notifications"],queryFn:async()=>{const c=await fetch("/api/notifications?limit=100",{credentials:"include"});return c.ok?c.json():[]}}),r=ve({mutationFn:async c=>{await Be("PATCH",`/api/notifications/${c}/read`)},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/notifications"]}),e.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),a=ve({mutationFn:async()=>{await Be("POST","/api/notifications/mark-all-read")},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/notifications"]}),e.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),i=c=>{switch(c){case"conversion":case"sale":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"lead":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"payout":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"offer":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"access_request":return"bg-cyan-500/20 text-cyan-400 border-cyan-500/30";case"system":default:return"bg-muted text-muted-foreground border-border"}},o=c=>{switch(c){case"conversion":return"";case"sale":return"";case"lead":return"";case"payout":return"";case"offer":return"";case"access_request":return" ";case"system":return"";default:return c}},l=t.filter(c=>!c.isRead).length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground flex items-center gap-2","data-testid":"text-notifications-title",children:[s.jsx(_o,{className:"h-6 w-6"}),""]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:l>0?`${l} `:" "})]}),l>0&&s.jsxs(U,{variant:"outline",onClick:()=>a.mutate(),disabled:a.isPending,"data-testid":"mark-all-read",children:[s.jsx(QM,{className:"h-4 w-4 mr-2"})," "]})]}),n?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t.length===0?s.jsx(J,{children:s.jsxs(ne,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(_o,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:" "})]})}):s.jsx("div",{className:"space-y-3",children:t.map(c=>s.jsx(J,{className:`cursor-pointer transition-colors ${c.isRead?"":"border-blue-500/30 bg-blue-500/5"}`,onClick:()=>!c.isRead&&r.mutate(c.id),"data-testid":`notification-card-${c.id}`,children:s.jsx(ne,{className:"p-4",children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded border ${i(c.type)}`,children:o(c.type)}),!c.isRead&&s.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-500"})]}),s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-1",children:c.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.body}),s.jsx("p",{className:"text-[10px] text-muted-foreground/60 mt-2",children:Py(new Date(c.createdAt),{addSuffix:!0,locale:Si})})]})})})},c.id))})]})}function RK({embedded:e=!1,editId:t}){const[,n]=hr(),r=rt(),{toast:a}=Dt(),[i,o]=j.useState(""),[l,c]=j.useState(""),[u,f]=j.useState("update"),[m,p]=j.useState("all"),[g,v]=j.useState(!1),[y,w]=j.useState(!0),[N,A]=j.useState(null),[T,C]=j.useState(!1),[S,E]=j.useState(!1),{data:O}=Ne({queryKey:["/api/user"],queryFn:async()=>{const q=await fetch("/api/user",{credentials:"include"});if(!q.ok)throw new Error("Not authenticated");return q.json()}}),{data:_}=Ne({queryKey:["/api/news",t],queryFn:async()=>{const q=await fetch(`/api/news/${t}`,{credentials:"include"});if(!q.ok)throw new Error("Not found");return q.json()},enabled:!!t});j.useEffect(()=>{_&&!S&&(o(_.title||""),c(_.body||""),f(_.category||"update"),p(_.targetAudience||"all"),v(_.isPinned||!1),w(_.isPublished!==!1),A(_.imageUrl||null),E(!0))},[_,S]);const M=ve({mutationFn:async q=>(await Be("POST","/api/news",q)).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/news"]}),a({title:"",description:" "}),O?.role?n(`/dashboard/${O.role}/news`):n("/dashboard/admin/news")},onError:q=>{a({title:"",description:q.message||"   ",variant:"destructive"})}}),$=ve({mutationFn:async q=>{const se=await fetch(`/api/news/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(q)});if(!se.ok)throw new Error("Failed to update");return se.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/news"]}),a({title:"",description:" "}),O?.role?n(`/dashboard/${O.role}/news`):n("/dashboard/admin/news")},onError:q=>{a({title:"",description:q.message||"   ",variant:"destructive"})}}),z=async q=>{const se=q.target.files?.[0];if(se){if(!se.type.startsWith("image/")){a({title:"",description:",  ",variant:"destructive"});return}if(se.size>5*1024*1024){a({title:"",description:"     5 ",variant:"destructive"});return}C(!0);try{const H=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:se.name,size:se.size,contentType:se.type})});if(!H.ok)throw new Error("Failed to get upload URL");const{uploadURL:Y,objectPath:G}=await H.json();await fetch(Y,{method:"PUT",body:se,headers:{"Content-Type":se.type}});const X=Ph(G);A(X||""),a({title:"",description:" "})}catch{a({title:"",description:"   ",variant:"destructive"})}finally{C(!1)}}},V=q=>{if(q.preventDefault(),!i.trim()||!l.trim()){a({title:"",description:"    ",variant:"destructive"});return}const se={title:i,body:l,category:u,targetAudience:m,isPinned:g,isPublished:y,imageUrl:N};t?$.mutate(se):M.mutate(se)},I=!!t,F=M.isPending||$.isPending,K=O?.role==="admin",R=()=>{O?.role?n(`/dashboard/${O.role}/news`):n("/dashboard/admin/news")},B=s.jsxs("form",{onSubmit:V,children:[s.jsxs(J,{children:[s.jsx(Pe,{children:s.jsx(Ie,{children:" "})}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"title",children:""}),s.jsx(le,{id:"title",value:i,onChange:q=>o(q.target.value),placeholder:" ...","data-testid":"news-title-input"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"body",children:" "}),s.jsx(vi,{id:"body",value:l,onChange:q=>c(q.target.value),placeholder:"  ...",rows:6,"data-testid":"news-body-input"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:" ()"}),N?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:N,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),s.jsx(U,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:()=>A(null),"data-testid":"remove-image-button",children:s.jsx(Xn,{className:"h-4 w-4"})})]}):s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-border rounded-lg cursor-pointer hover:border-primary/50 transition-colors",children:[s.jsx("div",{className:"flex flex-col items-center justify-center py-4",children:T?s.jsx(we,{className:"h-8 w-8 text-muted-foreground animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(du,{className:"h-8 w-8 text-muted-foreground mb-2"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"   "}),s.jsx("span",{className:"text-xs text-muted-foreground/60",children:"PNG, JPG  5 "})]})}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:z,disabled:T,"data-testid":"image-upload-input"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"category",children:""}),s.jsxs(ht,{value:u,onValueChange:f,children:[s.jsx(dt,{"data-testid":"category-select",children:s.jsx(mt,{})}),s.jsxs(ut,{children:[s.jsx(ke,{value:"update",children:""}),s.jsx(ke,{value:"announcement",children:""}),s.jsx(ke,{value:"promo",children:""}),s.jsx(ke,{value:"alert",children:""})]})]})]}),K&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"audience",children:""}),s.jsxs(ht,{value:m,onValueChange:p,children:[s.jsx(dt,{"data-testid":"audience-select",children:s.jsx(mt,{})}),s.jsxs(ut,{children:[s.jsx(ke,{value:"all",children:""}),s.jsx(ke,{value:"advertisers",children:""}),s.jsx(ke,{value:"publishers",children:""})]})]})]})]}),s.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vr,{id:"pinned",checked:g,onCheckedChange:v,"data-testid":"pinned-switch"}),s.jsx(te,{htmlFor:"pinned",className:"text-sm",children:""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vr,{id:"published",checked:y,onCheckedChange:w,"data-testid":"published-switch"}),s.jsx(te,{htmlFor:"published",className:"text-sm",children:" "})]})]})})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx(U,{type:"button",variant:"outline",onClick:R,"data-testid":"cancel-button",children:""}),s.jsxs(U,{type:"submit",disabled:F||!i.trim()||!l.trim(),"data-testid":"submit-button",children:[F?s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(dr,{className:"h-4 w-4 mr-2"}),I?"":""]})]})]}),L=I?" ":" ";return e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(U,{variant:"ghost",size:"icon",onClick:R,"data-testid":"back-button",children:s.jsx(As,{className:"h-4 w-4"})}),s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:L})]}),B]}):s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(U,{variant:"ghost",size:"icon",onClick:R,"data-testid":"back-button",children:s.jsx(As,{className:"h-4 w-4"})}),s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:L})]}),B]})})}const UYe=[pn,pn,On,Ame],VYe=["bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500"];function HYe({offerId:e}){const[t,n]=j.useState("30"),r=yGe(new Date,parseInt(t)).toISOString(),a=new Date().toISOString(),{data:i,isLoading:o,error:l}=Ne({queryKey:["/api/advertiser/funnel",e,t],queryFn:async()=>{const u=new URLSearchParams;u.set("dateFrom",r),u.set("dateTo",a),e&&u.set("offerId",e);const f=await fetch(`/api/advertiser/funnel?${u}`,{credentials:"include"});if(!f.ok)throw new Error("Failed to fetch funnel data");return f.json()}});if(o)return s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"py-12 flex justify-center",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-muted-foreground"})})});if(l||!i)return s.jsx(J,{className:"bg-card border-border",children:s.jsx(ne,{className:"py-8 text-center text-muted-foreground",children:"    "})});const c=Math.max(...i.stages.map(u=>u.count),1);return s.jsxs(J,{className:"bg-card border-border",children:[s.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[s.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[s.jsx(upe,{className:"w-5 h-5 text-blue-400"})," "]}),s.jsxs(ht,{value:t,onValueChange:n,children:[s.jsx(dt,{className:"w-32","data-testid":"select-funnel-period",children:s.jsx(mt,{})}),s.jsxs(ut,{children:[s.jsx(ke,{value:"7",children:"7 "}),s.jsx(ke,{value:"14",children:"14 "}),s.jsx(ke,{value:"30",children:"30 "}),s.jsx(ke,{value:"90",children:"90 "})]})]})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsx("div",{className:"space-y-4",children:i.stages.map((u,f)=>{const m=UYe[f]||pn,p=u.count/c*100,g=VYe[f]||"bg-gray-500";return s.jsxs("div",{className:"relative","data-testid":`funnel-stage-${f}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(m,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:u.name})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsx("span",{className:"font-mono text-foreground",children:u.count.toLocaleString()}),s.jsxs("span",{className:"text-muted-foreground w-16 text-right",children:[u.percent.toFixed(1),"%"]}),u.dropoff>0&&s.jsxs("span",{className:"text-red-400 text-xs flex items-center gap-1 w-20",children:[s.jsx(yfe,{className:"w-3 h-3"}),"-",u.dropoff.toFixed(1),"%"]})]})]}),s.jsx("div",{className:"h-8 bg-muted/30 rounded-lg overflow-hidden",children:s.jsx("div",{className:`h-full ${g} transition-all duration-500 rounded-lg flex items-center justify-end pr-3`,style:{width:`${Math.max(p,2)}%`},children:p>10&&s.jsx("span",{className:"text-xs text-white font-medium",children:u.count.toLocaleString()})})})]},u.name)})}),s.jsxs("div",{className:"border-t border-border pt-4",children:[s.jsx("div",{className:"text-sm font-medium mb-3",children:" "}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 text-center",children:[s.jsxs("div",{className:"text-2xl font-mono text-green-400",children:[i.conversionRates.clickToReg.toFixed(2),"%"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"  "})]}),s.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 text-center",children:[s.jsxs("div",{className:"text-2xl font-mono text-yellow-400",children:[i.conversionRates.regToFtd.toFixed(2),"%"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"  FTD"})]}),s.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 text-center",children:[s.jsxs("div",{className:"text-2xl font-mono text-purple-400",children:[i.conversionRates.ftdToRepeat.toFixed(2),"%"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"FTD  "})]}),s.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 text-center",children:[s.jsxs("div",{className:"text-2xl font-mono text-blue-400",children:[i.conversionRates.clickToFtd.toFixed(2),"%"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"  FTD"})]})]})]}),i.totalClicks===0&&s.jsxs("div",{className:"text-center py-4 text-muted-foreground text-sm",children:["    .",s.jsx("br",{}),s.jsx("span",{className:"text-xs",children:"       player_id."})]})]})]})}const DK=e=>{if(!e||e.length!==2)return"";const t=e.toUpperCase().split("").map(n=>127397+n.charCodeAt(0));return String.fromCodePoint(...t)};function KYe({role:e}){const{t}=as(),n=rt(),[r,a]=j.useState(!1),[i,o]=j.useState(null),[l,c]=j.useState(""),[u,f]=j.useState(""),[m,p]=j.useState([{offerId:"",landingId:null,weight:50},{offerId:"",landingId:null,weight:50}]),[g,v]=j.useState(!1),[y,w]=j.useState(null),[N,A]=j.useState({sub1:"",sub2:"",sub3:"",sub4:"",sub5:"",sub6:"",sub7:"",sub8:"",sub9:"",sub10:""}),{data:T,isLoading:C}=Ne({queryKey:["/api/publisher/split-tests"],queryFn:async()=>{const X=await fetch("/api/publisher/split-tests",{credentials:"include"});if(!X.ok)throw new Error("Failed to fetch split tests");return X.json()}}),{data:S}=Ne({queryKey:["/api/publisher/offers-approved"],queryFn:async()=>{const X=await fetch("/api/publisher/offers-approved",{credentials:"include"});return X.ok?X.json():[]}}),E=ve({mutationFn:async X=>{const ae=await fetch("/api/publisher/split-tests",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(X)});if(!ae.ok){const de=await ae.json();throw new Error(de.message||"Failed to create split test")}return ae.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/publisher/split-tests"]}),z(),Rt.success(t("splitTests.created"))},onError:X=>{Rt.error(X.message)}}),O=ve({mutationFn:async X=>{const ae=await fetch(`/api/publisher/split-tests/${X.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(X)});if(!ae.ok){const de=await ae.json();throw new Error(de.message||"Failed to update split test")}return ae.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/publisher/split-tests"]}),z(),Rt.success(t("splitTests.updated"))},onError:X=>{Rt.error(X.message)}}),_=ve({mutationFn:async X=>{const ae=await fetch(`/api/publisher/split-tests/${X}`,{method:"DELETE",credentials:"include"});if(!ae.ok)throw new Error("Failed to delete split test");return ae.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/publisher/split-tests"]}),Rt.success(t("splitTests.deleted"))},onError:X=>{Rt.error(X.message)}}),M=()=>{o(null),c(""),f(""),p([{offerId:"",landingId:null,weight:50},{offerId:"",landingId:null,weight:50}]),a(!0)},$=X=>{o(X),c(X.name),f(X.description||""),p(X.items.map(ae=>({offerId:ae.offerId,landingId:ae.landingId,weight:ae.weight}))),a(!0)},z=()=>{a(!1),o(null)},V=()=>{if(!l.trim()){Rt.error(t("splitTests.nameRequired"));return}if(m.length<2){Rt.error(t("splitTests.minItemsRequired"));return}if(m.some(ae=>!ae.offerId)){Rt.error(t("splitTests.selectAllOffers"));return}const X=m.reduce((ae,de)=>ae+de.weight,0);if(X!==100){Rt.error(t("splitTests.weightsMustEqual100",{total:X}));return}i?O.mutate({id:i.id,name:l,description:u,items:m,status:i.status}):E.mutate({name:l,description:u,items:m})},I=()=>{const X=Math.floor(100/(m.length+1)),ae=100-X*(m.length+1);p([...m.map((de,he)=>({...de,weight:X+(he===0?ae:0)})),{offerId:"",landingId:null,weight:X}])},F=X=>{if(m.length<=2)return;const ae=m.filter((he,Fe)=>Fe!==X),de=ae.reduce((he,Fe)=>he+Fe.weight,0);if(de!==100){const he=100-de;ae[0].weight+=he}p(ae)},K=(X,ae)=>{const de=[...m];de[X].weight=ae,p(de)},R=(X,ae)=>{const de=[...m];de[X].offerId=ae,de[X].landingId=null,p(de)},B=(X,ae)=>{const de=[...m];de[X].landingId=ae,p(de)},L=X=>{const ae=`${window.location.origin}/t/s/${X}`;navigator.clipboard.writeText(ae),Rt.success(t("splitTests.linkCopied"))},q=X=>{w(X),A({sub1:"",sub2:"",sub3:"",sub4:"",sub5:"",sub6:"",sub7:"",sub8:"",sub9:"",sub10:""}),v(!0)},se=()=>{if(!y)return"";const X=`${window.location.origin}/t/s/${y.shortCode}`,ae=Object.entries(N).filter(([de,he])=>he.trim()!=="").map(([de,he])=>`${de}=${encodeURIComponent(he.trim())}`).join("&");return ae?`${X}?${ae}`:X},H=()=>{navigator.clipboard.writeText(se()),Rt.success(t("splitTests.linkCopied"))},Y=X=>{const ae=X.status==="active"?"paused":"active";O.mutate({id:X.id,name:X.name,description:X.description||"",items:X.items.map(de=>({offerId:de.offerId,landingId:de.landingId,weight:de.weight})),status:ae})},G=m.reduce((X,ae)=>X+ae.weight,0);return C?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-split-tests-title",children:t("splitTests.title")}),s.jsx("p",{className:"text-muted-foreground",children:t("splitTests.description")})]}),s.jsxs(U,{onClick:M,"data-testid":"button-create-split-test",children:[s.jsx(fr,{className:"h-4 w-4 mr-2"}),t("splitTests.create")]})]}),T&&T.length===0?s.jsxs(J,{className:"p-8 text-center",children:[s.jsx(JM,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium",children:t("splitTests.noTests")}),s.jsx("p",{className:"text-muted-foreground mb-4",children:t("splitTests.noTestsDescription")}),s.jsxs(U,{onClick:M,"data-testid":"button-create-first-split-test",children:[s.jsx(fr,{className:"h-4 w-4 mr-2"}),t("splitTests.createFirst")]})]}):s.jsx("div",{className:"grid gap-4",children:T?.map(X=>s.jsx(J,{className:"p-4","data-testid":`card-split-test-${X.id}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:X.name}),s.jsx(ye,{variant:X.status==="active"?"default":"secondary",children:X.status})]}),X.description&&s.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:X.description}),s.jsx("div",{className:"space-y-2 mb-4",children:X.items.map((ae,de)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsxs("span",{className:"font-medium w-12",children:[ae.weight,"%"]}),s.jsx("span",{className:"text-muted-foreground",children:""}),ae.offerLogoUrl?s.jsx("img",{src:ae.offerLogoUrl,alt:ae.offerName,className:"w-5 h-5 rounded object-cover flex-shrink-0"}):s.jsx(pF,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:ae.offerName}),ae.landingName&&s.jsxs("span",{className:"text-muted-foreground",children:[" ",ae.landingName]}),ae.landingGeo&&s.jsxs("span",{className:"text-xs bg-muted px-1.5 py-0.5 rounded",children:[DK(ae.landingGeo)," ",ae.landingGeo]})]},ae.id))}),s.jsx("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:t("splitTests.trackingLink")}),s.jsxs("code",{className:"text-sm font-mono break-all block",children:[window.location.origin,"/t/s/",X.shortCode]})]}),s.jsxs("div",{className:"flex gap-2 ml-3 shrink-0",children:[s.jsxs(U,{type:"button",size:"sm",onClick:()=>q(X),"data-testid":`button-configure-link-${X.id}`,children:[s.jsx(Gi,{className:"h-4 w-4 mr-2"}),t("splitTests.configureLink")]}),s.jsxs(U,{variant:"secondary",size:"sm",onClick:()=>L(X.shortCode),"data-testid":`button-copy-link-${X.id}`,children:[s.jsx(Yn,{className:"h-4 w-4 mr-2"}),t("common.copy")]})]})]})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vr,{checked:X.status==="active",onCheckedChange:()=>Y(X),"data-testid":`switch-status-${X.id}`}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>$(X),"data-testid":`button-edit-${X.id}`,children:s.jsx(GW,{className:"h-4 w-4"})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>_.mutate(X.id),"data-testid":`button-delete-${X.id}`,children:s.jsx(Os,{className:"h-4 w-4 text-destructive"})})]})]})},X.id))}),s.jsx(Wt,{open:r,onOpenChange:a,children:s.jsxs(zt,{className:"max-w-2xl",children:[s.jsx(qt,{children:s.jsx(Ut,{children:t(i?"splitTests.edit":"splitTests.create")})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:t("splitTests.name")}),s.jsx(le,{value:l,onChange:X=>c(X.target.value),placeholder:t("splitTests.namePlaceholder"),"data-testid":"input-split-test-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:t("splitTests.descriptionLabel")}),s.jsx(le,{value:u,onChange:X=>f(X.target.value),placeholder:t("splitTests.descriptionPlaceholder"),"data-testid":"input-split-test-description"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(te,{children:t("splitTests.items")}),s.jsxs("span",{className:`text-sm ${G===100?"text-green-500":"text-destructive"}`,children:[t("splitTests.totalWeight"),": ",G,"%"]})]}),s.jsx("div",{className:"space-y-3",children:m.map((X,ae)=>s.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg","data-testid":`item-row-${ae}`,children:[s.jsx("div",{className:"flex-1",children:s.jsxs(ht,{value:X.offerId,onValueChange:de=>R(ae,de),children:[s.jsx(dt,{"data-testid":`select-offer-${ae}`,children:s.jsx(mt,{placeholder:t("splitTests.selectOffer")})}),s.jsx(ut,{className:"max-h-60 overflow-y-auto",children:S?.map(de=>{const he=Array.from(new Set((de.landings??[]).map(Fe=>Fe.geo?.toUpperCase()).filter(Boolean)));return s.jsx(ke,{value:de.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[de.logoUrl?s.jsx("img",{src:de.logoUrl,alt:de.name,className:"w-5 h-5 rounded object-cover flex-shrink-0"}):s.jsx(pF,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"truncate",children:de.name}),he.length>0&&s.jsx("span",{className:"text-muted-foreground text-xs ml-1",children:he.map(Fe=>`${DK(Fe)} ${Fe}`).join(", ")})]})},de.id)})})]})}),s.jsx("div",{className:"flex-1",children:s.jsxs(ht,{value:X.landingId||"default",onValueChange:de=>B(ae,de==="default"?null:de),disabled:!X.offerId,children:[s.jsx(dt,{"data-testid":`select-landing-${ae}`,children:s.jsx(mt,{placeholder:t("splitTests.defaultLanding")})}),s.jsxs(ut,{className:"max-h-60 overflow-y-auto",children:[s.jsx(ke,{value:"default",children:t("splitTests.defaultLanding")}),S?.find(de=>de.id===X.offerId)?.landings?.filter(de=>de.offerId===X.offerId)?.map(de=>s.jsx(ke,{value:de.id,children:de.landingName||` ${de.geo}`},de.id))]})]})}),s.jsxs("div",{className:"w-24 flex items-center gap-2",children:[s.jsx(le,{type:"number",min:1,max:99,value:X.weight,onChange:de=>K(ae,parseInt(de.target.value)||0),className:"text-center","data-testid":`input-weight-${ae}`}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"%"})]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>F(ae),disabled:m.length<=2,"data-testid":`button-remove-item-${ae}`,children:s.jsx(Os,{className:"h-4 w-4"})})]},ae))}),s.jsxs(U,{variant:"outline",size:"sm",onClick:I,className:"w-full","data-testid":"button-add-item",children:[s.jsx(fr,{className:"h-4 w-4 mr-2"}),t("splitTests.addItem")]})]})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:z,"data-testid":"button-cancel",children:t("common.cancel")}),s.jsxs(U,{onClick:V,disabled:E.isPending||O.isPending,"data-testid":"button-save-split-test",children:[(E.isPending||O.isPending)&&s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}),t(i?"common.save":"splitTests.create")]})]})]})}),s.jsx(Wt,{open:g,onOpenChange:v,children:s.jsxs(zt,{className:"max-w-xl",children:[s.jsx(qt,{children:s.jsx(Ut,{children:t("splitTests.configureLinkTitle")})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:t("splitTests.subParamsDescription")}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:[1,2,3,4,5,6,7,8,9,10].map(X=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(te,{className:"w-10 text-xs text-muted-foreground",children:["sub",X]}),s.jsx(le,{value:N[`sub${X}`]||"",onChange:ae=>A(de=>({...de,[`sub${X}`]:ae.target.value})),placeholder:`sub${X}`,className:"flex-1","data-testid":`input-sub${X}`})]},X))}),s.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg border",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:t("splitTests.generatedLink")}),s.jsx("code",{className:"text-sm font-mono break-all block","data-testid":"text-generated-link",children:se()})]})]}),s.jsxs(Ks,{children:[s.jsx(U,{variant:"outline",onClick:()=>v(!1),"data-testid":"button-close-link-modal",children:t("common.close")}),s.jsxs(U,{onClick:H,"data-testid":"button-copy-generated-link",children:[s.jsx(Yn,{className:"h-4 w-4 mr-2"}),t("splitTests.copyLink")]})]})]})})]})}const WYe=[{value:"offers:read",label:" ()"},{value:"offers:write",label:" ()"},{value:"partners:read",label:" ()"},{value:"partners:write",label:" ()"},{value:"clicks:read",label:" ()"},{value:"conversions:read",label:" ()"},{value:"conversions:write",label:" ()"},{value:"payouts:read",label:" ()"},{value:"payouts:write",label:" ()"},{value:"stats:read",label:" ()"}],GYe=[{value:"conversion.created",label:" "},{value:"conversion.approved",label:" "},{value:"conversion.rejected",label:" "},{value:"payout.requested",label:" "},{value:"payout.approved",label:" "},{value:"payout.completed",label:" "},{value:"partner.registered",label:" "},{value:"partner.activated",label:" "},{value:"offer.created",label:" "},{value:"offer.updated",label:" "}];function YYe(){const{toast:e}=Dt(),t=rt(),[n,r]=j.useState("api-keys"),[a,i]=j.useState(!1),[o,l]=j.useState(!1),[c,u]=j.useState(""),[f,m]=j.useState([]),[p,g]=j.useState("never"),[v,y]=j.useState(null),[w,N]=j.useState(""),[A,T]=j.useState(""),[C,S]=j.useState([]),[E,O]=j.useState(""),{data:_=[],isLoading:M}=Ne({queryKey:["/api/admin/platform-api-keys"]}),{data:$=[],isLoading:z}=Ne({queryKey:["/api/admin/platform-webhooks"]}),V=ve({mutationFn:async Y=>{const G=await fetch("/api/admin/platform-api-keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)});if(!G.ok)throw new Error("Failed to create API key");return G.json()},onSuccess:Y=>{t.invalidateQueries({queryKey:["/api/admin/platform-api-keys"]}),y(Y.apiKey),u(""),m([]),g("never"),e({title:"API   "})},onError:()=>{e({title:"  API ",variant:"destructive"})}}),I=ve({mutationFn:async Y=>{const G=await fetch(`/api/admin/platform-api-keys/${Y}/revoke`,{method:"POST"});if(!G.ok)throw new Error("Failed to revoke API key");return G.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/platform-api-keys"]}),e({title:"API  "})}}),F=ve({mutationFn:async Y=>{const G=await fetch(`/api/admin/platform-api-keys/${Y}`,{method:"DELETE"});if(!G.ok)throw new Error("Failed to delete API key");return G.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/platform-api-keys"]}),e({title:"API  "})}}),K=ve({mutationFn:async Y=>{const G=await fetch("/api/admin/platform-webhooks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)});if(!G.ok)throw new Error("Failed to create webhook");return G.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/platform-webhooks"]}),l(!1),N(""),T(""),S([]),O(""),e({title:"  "})},onError:()=>{e({title:"  ",variant:"destructive"})}}),R=ve({mutationFn:async Y=>{const G=await fetch(`/api/admin/platform-webhooks/${Y}`,{method:"DELETE"});if(!G.ok)throw new Error("Failed to delete webhook");return G.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/platform-webhooks"]}),e({title:" "})}}),B=ve({mutationFn:async Y=>{const G=await fetch(`/api/admin/platform-webhooks/${Y}/test`,{method:"POST"});if(!G.ok)throw new Error("Test failed");return G.json()},onSuccess:Y=>{Y.success?e({title:"  ",description:`: ${Y.statusCode}`}):e({title:"  ",description:`: ${Y.statusCode}`,variant:"destructive"}),t.invalidateQueries({queryKey:["/api/admin/platform-webhooks"]})},onError:()=>{e({title:"  ",variant:"destructive"})}}),L=ve({mutationFn:async({id:Y,isActive:G})=>{const X=await fetch(`/api/admin/platform-webhooks/${Y}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:G})});if(!X.ok)throw new Error("Failed to update webhook");return X.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/platform-webhooks"]})}}),q=()=>{const Y=p==="never"?null:parseInt(p);V.mutate({name:c,permissions:f,expiresInDays:Y})},se=()=>{K.mutate({name:w,url:A,events:C,secret:E||void 0})},H=Y=>{navigator.clipboard.writeText(Y),e({title:"   "})};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"API & "}),s.jsx("p",{className:"text-muted-foreground mt-1",children:" API     (n8n, Zapier,  )"})]}),s.jsxs(uo,{value:n,onValueChange:r,children:[s.jsxs(ki,{children:[s.jsxs(lt,{value:"api-keys","data-testid":"tab-api-keys",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:[s.jsx(Da,{className:"h-4 w-4 mr-2"}),"API "]}),s.jsxs(lt,{value:"webhooks","data-testid":"tab-webhooks",className:"data-[state=active]:bg-purple-500 data-[state=active]:text-white",children:[s.jsx(i_,{className:"h-4 w-4 mr-2"})," "]}),s.jsxs(lt,{value:"docs","data-testid":"tab-docs",className:"data-[state=active]:bg-green-500 data-[state=active]:text-white",children:[s.jsx(ph,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs(lt,{value:"n8n-guide","data-testid":"tab-n8n-guide",className:"data-[state=active]:bg-orange-500 data-[state=active]:text-white",children:[s.jsx(qx,{className:"h-4 w-4 mr-2"})," n8n"]})]}),s.jsx(ct,{value:"api-keys",className:"mt-6",children:s.jsxs(J,{children:[s.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ie,{children:"API "}),s.jsx(et,{children:"  X-API-Key   /api/v1/* "})]}),s.jsxs(Wt,{open:a,onOpenChange:i,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{"data-testid":"btn-create-api-key",children:[s.jsx(fr,{className:"h-4 w-4 mr-2"})," "]})}),s.jsxs(zt,{className:"max-w-md",children:[s.jsxs(qt,{children:[s.jsx(Ut,{children:" API "}),s.jsx(ao,{children:"  API    "})]}),v?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-green-800 font-medium mb-2",children:"API  !"}),s.jsx("p",{className:"text-xs text-green-600 mb-2",children:"        "}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"flex-1 text-xs bg-white p-2 rounded border break-all",children:v}),s.jsx(U,{size:"sm",variant:"outline",onClick:()=>H(v),children:s.jsx(Yn,{className:"h-4 w-4"})})]})]}),s.jsx(U,{className:"w-full",onClick:()=>{y(null),i(!1)},"data-testid":"btn-close-key-dialog",children:""})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(le,{value:c,onChange:Y=>u(Y.target.value),placeholder:", n8n Production","data-testid":"input-key-name"})]}),s.jsxs("div",{children:[s.jsx(te,{children:" "}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:WYe.map(Y=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($l,{id:Y.value,checked:f.includes(Y.value),onCheckedChange:G=>{m(G?[...f,Y.value]:f.filter(X=>X!==Y.value))},"data-testid":`checkbox-${Y.value}`}),s.jsx("label",{htmlFor:Y.value,className:"text-sm",children:Y.label})]},Y.value))})]}),s.jsxs("div",{children:[s.jsx(te,{children:" "}),s.jsxs(ht,{value:p,onValueChange:g,children:[s.jsx(dt,{"data-testid":"select-expiry",children:s.jsx(mt,{})}),s.jsxs(ut,{children:[s.jsx(ke,{value:"never",children:""}),s.jsx(ke,{value:"7",children:"7 "}),s.jsx(ke,{value:"30",children:"30 "}),s.jsx(ke,{value:"90",children:"90 "}),s.jsx(ke,{value:"365",children:"1 "})]})]})]}),s.jsx(U,{className:"w-full",onClick:q,disabled:!c||f.length===0,"data-testid":"btn-submit-key",children:" "})]})]})]})]}),s.jsx(ne,{children:M?s.jsx("p",{children:"..."}):_.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"API    "}):s.jsxs(Ou,{children:[s.jsx(Pu,{children:s.jsxs(Ra,{children:[s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:". "}),s.jsx(Ht,{children:""}),s.jsx(Ht,{})]})}),s.jsx(Mu,{children:_.map(Y=>s.jsxs(Ra,{"data-testid":`row-key-${Y.id}`,children:[s.jsx(Kt,{className:"font-medium",children:Y.name}),s.jsx(Kt,{children:s.jsxs("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:[Y.keyPrefix,"..."]})}),s.jsx(Kt,{children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[Y.permissions.slice(0,3).map(G=>s.jsx(ye,{variant:"secondary",className:"text-xs",children:G},G)),Y.permissions.length>3&&s.jsxs(ye,{variant:"outline",className:"text-xs",children:["+",Y.permissions.length-3]})]})}),s.jsx(Kt,{children:Y.revokedAt?s.jsx(ye,{variant:"destructive",children:""}):Y.isActive?s.jsx(ye,{variant:"default",children:""}):s.jsx(ye,{variant:"secondary",children:""})}),s.jsx(Kt,{className:"text-sm text-muted-foreground",children:Y.lastUsedAt?new Date(Y.lastUsedAt).toLocaleDateString():""}),s.jsx(Kt,{className:"text-sm text-muted-foreground",children:Y.expiresAt?new Date(Y.expiresAt).toLocaleDateString():""}),s.jsx(Kt,{children:s.jsxs("div",{className:"flex gap-2",children:[Y.isActive&&!Y.revokedAt&&s.jsx(U,{size:"sm",variant:"outline",onClick:()=>I.mutate(Y.id),"data-testid":`btn-revoke-${Y.id}`,children:s.jsx(zx,{className:"h-4 w-4"})}),s.jsx(U,{size:"sm",variant:"destructive",onClick:()=>F.mutate(Y.id),"data-testid":`btn-delete-key-${Y.id}`,children:s.jsx(Os,{className:"h-4 w-4"})})]})})]},Y.id))})]})})]})}),s.jsx(ct,{value:"webhooks",className:"mt-6",children:s.jsxs(J,{children:[s.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ie,{children:" "}),s.jsx(et,{children:"     (n8n, Zapier,  )"})]}),s.jsxs(Wt,{open:o,onOpenChange:l,children:[s.jsx(ks,{asChild:!0,children:s.jsxs(U,{"data-testid":"btn-create-webhook",children:[s.jsx(fr,{className:"h-4 w-4 mr-2"})," "]})}),s.jsxs(zt,{className:"max-w-md",children:[s.jsxs(qt,{children:[s.jsx(Ut,{children:" "}),s.jsx(ao,{children:"   "})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx(le,{value:w,onChange:Y=>N(Y.target.value),placeholder:", n8n Conversions","data-testid":"input-webhook-name"})]}),s.jsxs("div",{children:[s.jsx(te,{children:"URL"}),s.jsx(le,{value:A,onChange:Y=>T(Y.target.value),placeholder:"https://...","data-testid":"input-webhook-url"})]}),s.jsxs("div",{children:[s.jsx(te,{children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2 max-h-40 overflow-y-auto",children:GYe.map(Y=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($l,{id:Y.value,checked:C.includes(Y.value),onCheckedChange:G=>{S(G?[...C,Y.value]:C.filter(X=>X!==Y.value))},"data-testid":`checkbox-event-${Y.value}`}),s.jsx("label",{htmlFor:Y.value,className:"text-sm",children:Y.label})]},Y.value))})]}),s.jsxs("div",{children:[s.jsx(te,{children:" ()"}),s.jsx(le,{value:E,onChange:Y=>O(Y.target.value),placeholder:"HMAC   ",type:"password","data-testid":"input-webhook-secret"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"   X-Webhook-Signature"})]}),s.jsx(U,{className:"w-full",onClick:se,disabled:!w||!A||C.length===0,"data-testid":"btn-submit-webhook",children:" "})]})]})]})]}),s.jsx(ne,{children:z?s.jsx("p",{children:"..."}):$.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"   "}):s.jsxs(Ou,{children:[s.jsx(Pu,{children:s.jsxs(Ra,{children:[s.jsx(Ht,{children:""}),s.jsx(Ht,{children:"URL"}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:""}),s.jsx(Ht,{children:". "}),s.jsx(Ht,{})]})}),s.jsx(Mu,{children:$.map(Y=>s.jsxs(Ra,{"data-testid":`row-webhook-${Y.id}`,children:[s.jsx(Kt,{className:"font-medium",children:Y.name}),s.jsx(Kt,{children:s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded truncate max-w-[200px] block",children:Y.url})}),s.jsx(Kt,{children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[Y.events.slice(0,2).map(G=>s.jsx(ye,{variant:"secondary",className:"text-xs",children:G},G)),Y.events.length>2&&s.jsxs(ye,{variant:"outline",className:"text-xs",children:["+",Y.events.length-2]})]})}),s.jsx(Kt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vr,{checked:Y.isActive,onCheckedChange:G=>L.mutate({id:Y.id,isActive:G}),"data-testid":`switch-webhook-${Y.id}`}),Y.failedAttempts>0&&s.jsxs(ye,{variant:"destructive",className:"text-xs",children:[Y.failedAttempts," "]})]})}),s.jsx(Kt,{className:"text-sm text-muted-foreground",children:Y.lastTriggeredAt?new Date(Y.lastTriggeredAt).toLocaleDateString():""}),s.jsx(Kt,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{size:"sm",variant:"outline",onClick:()=>B.mutate(Y.id),disabled:B.isPending,"data-testid":`btn-test-${Y.id}`,children:s.jsx(Kc,{className:"h-4 w-4"})}),s.jsx(U,{size:"sm",variant:"destructive",onClick:()=>R.mutate(Y.id),"data-testid":`btn-delete-webhook-${Y.id}`,children:s.jsx(Os,{className:"h-4 w-4"})})]})})]},Y.id))})]})})]})}),s.jsx(ct,{value:"docs",className:"mt-6",children:s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsx(Ie,{children:" API"}),s.jsx(et,{children:"  API "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:" API   API    X-API-Key:"}),s.jsx("pre",{className:"bg-muted p-3 rounded text-sm overflow-x-auto",children:`curl -H "X-API-Key: pt_xxxxxxxx_xxxxxxxxxxxxxxxxxxxxx" \\
     https://your-domain.com/api/v1/offers`})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:" "}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"outline",children:"GET"}),s.jsx("code",{children:"/api/v1/offers"}),s.jsx("span",{className:"text-muted-foreground",children:"-   "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"outline",children:"GET"}),s.jsx("code",{children:"/api/v1/offers/:id"}),s.jsx("span",{className:"text-muted-foreground",children:"-  "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"outline",children:"GET"}),s.jsx("code",{children:"/api/v1/partners"}),s.jsx("span",{className:"text-muted-foreground",children:"-   "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"outline",children:"GET"}),s.jsx("code",{children:"/api/v1/partners/:id"}),s.jsx("span",{className:"text-muted-foreground",children:"-  "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"outline",children:"GET"}),s.jsx("code",{children:"/api/v1/clicks"}),s.jsx("span",{className:"text-muted-foreground",children:"-  "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"outline",children:"GET"}),s.jsx("code",{children:"/api/v1/conversions"}),s.jsx("span",{className:"text-muted-foreground",children:"-  "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"secondary",children:"POST"}),s.jsx("code",{children:"/api/v1/conversions"}),s.jsx("span",{className:"text-muted-foreground",children:"-  "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"outline",children:"GET"}),s.jsx("code",{children:"/api/v1/payouts"}),s.jsx("span",{className:"text-muted-foreground",children:"-    "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"secondary",children:"PATCH"}),s.jsx("code",{children:"/api/v1/payouts/:id"}),s.jsx("span",{className:"text-muted-foreground",children:"-   "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{variant:"outline",children:"GET"}),s.jsx("code",{children:"/api/v1/stats"}),s.jsx("span",{className:"text-muted-foreground",children:"-  "})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"  n8n"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"   n8n  HTTP Request   :"}),s.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:": Header Auth"}),s.jsx("li",{children:" : X-API-Key"}),s.jsx("li",{children:" :  API "})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:" Webhook "}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"  JSON   :"}),s.jsx("pre",{className:"bg-muted p-3 rounded text-sm overflow-x-auto",children:`{
  "event": "conversion.created",
  "timestamp": "2024-01-16T12:00:00.000Z",
  "data": {
    "conversionId": "...",
    "clickId": "...",
    "offerId": "...",
    "publisherId": "...",
    "conversionType": "lead",
    "status": "pending",
    "publisherPayout": 50,
    "advertiserCost": 60
  }
}`})]})]})]})}),s.jsx(ct,{value:"n8n-guide",className:"mt-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsx(Ie,{children:"     n8n"}),s.jsx(et,{children:"    "})]}),s.jsx(ne,{className:"space-y-6",children:s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"  :"}),s.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[s.jsx("li",{children:" n8n (self-hosted  n8n.cloud)"}),s.jsx("li",{children:'API  PrimeTrack (   "API ")'}),s.jsx("li",{children:'   (   " ")'})]})]})})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsx(Ie,{children:"1.  API "}),s.jsx(et,{children:" n8n  API PrimeTrack   "})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:" 1:  credentials  n8n"}),s.jsxs("ol",{className:"list-decimal list-inside text-sm text-muted-foreground space-y-2",children:[s.jsx("li",{children:" n8n  Settings  Credentials"}),s.jsx("li",{children:' "Add Credential"'}),s.jsxs("li",{children:[" : ",s.jsx("strong",{children:"Header Auth"})]}),s.jsx("li",{children:" :"})]}),s.jsx("div",{className:"mt-3 bg-muted p-3 rounded text-sm",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Name:"}),s.jsx("code",{children:"PrimeTrack API"}),s.jsx("span",{className:"text-muted-foreground",children:"Header Name:"}),s.jsx("code",{children:"X-API-Key"}),s.jsx("span",{className:"text-muted-foreground",children:"Header Value:"}),s.jsx("code",{children:"pt_xxxxxxxx_xxxxxxxxxxxxx"})]})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:" 2:  HTTP Request "}),s.jsxs("ol",{className:"list-decimal list-inside text-sm text-muted-foreground space-y-2",children:[s.jsx("li",{children:'  "HTTP Request"'}),s.jsxs("li",{children:["Authentication  ",s.jsx("strong",{children:"Predefined Credential Type"})]}),s.jsxs("li",{children:["Credential Type  ",s.jsx("strong",{children:"Header Auth"})]}),s.jsx("li",{children:'Header Auth   "PrimeTrack API"'})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:":   "}),s.jsx("pre",{className:"bg-muted p-3 rounded text-sm overflow-x-auto",children:`Method: GET
URL: https://-.com/api/v1/offers

:
[
  {
    "id": "offer_123",
    "name": "Casino Offer",
    "status": "active",
    "geo": ["RU", "KZ"],
    "payoutRange": "$30 - $75"
  }
]`})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:":  "}),s.jsx("pre",{className:"bg-muted p-3 rounded text-sm overflow-x-auto",children:`Method: POST
URL: https://-.com/api/v1/conversions
Headers: Content-Type: application/json
Body:
{
  "clickId": "clk_abc123",
  "conversionType": "lead",
  "revenue": 50
}`})]})]})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsx(Ie,{children:"2.   Webhook "}),s.jsx(et,{children:"    PrimeTrack  n8n"})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:" 1:  Webhook   n8n"}),s.jsxs("ol",{className:"list-decimal list-inside text-sm text-muted-foreground space-y-2",children:[s.jsx("li",{children:"  workflow  n8n"}),s.jsx("li",{children:'  "Webhook"'}),s.jsxs("li",{children:["HTTP Method: ",s.jsx("strong",{children:"POST"})]}),s.jsxs("li",{children:["Path:  ",s.jsx("code",{children:"/primetrack-events"})]}),s.jsxs("li",{children:["Authentication: ",s.jsx("strong",{children:"None"})," (  )"]}),s.jsx("li",{children:" Production URL"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:" 2:    PrimeTrack"}),s.jsxs("ol",{className:"list-decimal list-inside text-sm text-muted-foreground space-y-2",children:[s.jsx("li",{children:'   " "'}),s.jsx("li",{children:' " "'}),s.jsx("li",{children:" URL  n8n"}),s.jsx("li",{children:"  "}),s.jsx("li",{children:"   HMAC "})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"  "}),s.jsx("pre",{className:"bg-muted p-3 rounded text-sm overflow-x-auto",children:`Headers:
  X-Webhook-Signature: a1b2c3d4e5f6... (HMAC-SHA256 hex)
  Content-Type: application/json

Body:
{
  "event": "conversion.created",
  "timestamp": "2024-01-16T12:00:00.000Z",
  "data": {
    "conversionId": "conv_123",
    "clickId": "clk_456", 
    "offerId": "offer_789",
    "publisherId": "pub_012",
    "conversionType": "lead",
    "status": "pending",
    "publisherPayout": 50,
    "advertiserCost": 60
  }
}`})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:" HMAC  ()"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:'  "Code"  Webhook   :'}),s.jsx("pre",{className:"bg-muted p-3 rounded text-sm overflow-x-auto",children:`const crypto = require('crypto');
const secret = '_';
const signature = $input.first().headers['x-webhook-signature'];
const payload = JSON.stringify($input.first().body);
const expected = crypto
  .createHmac('sha256', secret)
  .update(payload)
  .digest('hex');

if (signature !== expected) {
  throw new Error('Invalid signature');
}
return $input.all();`})]})]})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsx(Ie,{children:"3.   "}),s.jsx(et,{children:"    "})]}),s.jsx(ne,{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"      Telegram"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Webhook  IF (event = conversion.created)  Telegram"}),s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:": conversion.created, conversion.approved"})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"   Google Sheets"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Webhook  Google Sheets ( )"}),s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:"    "})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"    "}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Webhook  IF (event = payout.requested)  Slack/Email"}),s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:": payout.requested, payout.approved"})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"   "}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Webhook  IF (event = partner.activated)  Gmail"}),s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:": partner.registered, partner.activated"})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"   "}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Schedule  HTTP Request (GET /api/v1/stats)  Telegram"}),s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:" API    stats:read"})]})]})})]}),s.jsxs(J,{children:[s.jsxs(Pe,{children:[s.jsx(Ie,{children:"4.  "}),s.jsx(et,{children:"    "})]}),s.jsx(ne,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200",children:" 401: Unauthorized"}),s.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:[",  API        . ,   ",s.jsx("strong",{children:"Header Auth"}),",    ."]})]}),s.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200",children:" 403: Forbidden"}),s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:"API     .      permissions."})]}),s.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-950 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:"  "}),s.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:["1. ,    ( )",s.jsx("br",{}),"2.  URL     Production URL  n8n",s.jsx("br",{}),'3.   ""   ']})]}),s.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-950 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:"  "}),s.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"    3    5 , 30 , 2 . ,  n8n workflow   Webhook  ."})]})]})})]})]})})]})]})}function Poe({role:e}){const t=rt(),[n,r]=j.useState(!1),{data:a=[]}=Ne({queryKey:["/api/notifications"],queryFn:async()=>{const f=await fetch("/api/notifications?limit=10",{credentials:"include"});return f.ok?f.json():[]},refetchInterval:3e4}),{data:i}=Ne({queryKey:["/api/notifications/unread-count"],queryFn:async()=>{const f=await fetch("/api/notifications/unread-count",{credentials:"include"});return f.ok?f.json():{count:0}},refetchInterval:3e4}),o=ve({mutationFn:async f=>{await Be("PATCH",`/api/notifications/${f}/read`)},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/notifications"]}),t.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),l=ve({mutationFn:async()=>{await Be("POST","/api/notifications/mark-all-read")},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/notifications"]}),t.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),c=f=>{switch(f){case"conversion":case"sale":return"text-emerald-400";case"lead":return"text-blue-400";case"payout":return"text-yellow-400";case"offer":return"text-purple-400";case"access_request":return"text-cyan-400";case"system":default:return"text-muted-foreground"}},u=f=>{f.isRead||o.mutate(f.id),r(!1)};return s.jsxs(Ru,{open:n,onOpenChange:r,children:[s.jsx(Du,{asChild:!0,children:s.jsxs(U,{variant:"ghost",size:"icon",className:"relative h-8 w-8 text-muted-foreground hover:text-foreground","data-testid":"notification-bell",children:[s.jsx(_o,{className:"h-4 w-4 text-amber-500"}),i&&i.count>0&&s.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-red-500 text-[10px] font-bold text-white flex items-center justify-center","data-testid":"notification-count",children:i.count>9?"9+":i.count})]})}),s.jsxs(Zc,{align:"end",className:"w-80 bg-card border-border",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-border",children:[s.jsx("span",{className:"text-sm font-semibold text-foreground",children:""}),i&&i.count>0&&s.jsxs(U,{variant:"ghost",size:"sm",className:"h-6 text-xs text-muted-foreground hover:text-foreground",onClick:()=>l.mutate(),disabled:l.isPending,"data-testid":"mark-all-read",children:[s.jsx(QM,{className:"h-3 w-3 mr-1"})," "]})]}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:a.length===0?s.jsx("div",{className:"px-3 py-8 text-center text-sm text-muted-foreground",children:" "}):a.map(f=>s.jsxs($a,{className:`flex flex-col items-start gap-1 px-3 py-3 cursor-pointer ${f.isRead?"":"bg-blue-500/5"}`,onClick:()=>u(f),"data-testid":`notification-item-${f.id}`,children:[s.jsxs("div",{className:"flex items-start justify-between w-full gap-2",children:[s.jsx("span",{className:`text-sm font-medium ${c(f.type)}`,children:f.title}),!f.isRead&&s.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-500 flex-shrink-0 mt-1.5"})]}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:f.body}),s.jsx("span",{className:"text-[10px] text-muted-foreground/60",children:Py(new Date(f.createdAt),{addSuffix:!0,locale:Si})})]},f.id))}),s.jsx(wX,{className:"bg-border"}),s.jsx(Mt,{href:e?`/dashboard/${e}/notifications`:"/notifications",onClick:()=>r(!1),children:s.jsxs($a,{className:"flex items-center justify-center gap-2 text-sm text-blue-400 hover:text-blue-300 cursor-pointer","data-testid":"view-all-notifications",children:[s.jsx(ph,{className:"h-3 w-3"})," "]})})]})]})}function XYe({role:e}){if(e!=="advertiser")return null;const{data:t,isLoading:n}=Ne({queryKey:["/api/subscription/current"],queryFn:async()=>{const f=await fetch("/api/subscription/current",{credentials:"include"});if(!f.ok)throw new Error("Failed to fetch subscription");return f.json()},refetchInterval:6e4});if(n||!t)return null;const{subscription:r,plan:a}=t,o=(()=>{let f=null;if(r.status==="trial"&&r.trialEndsAt?f=new Date(r.trialEndsAt):r.status==="active"&&r.currentPeriodEnd&&(f=new Date(r.currentPeriodEnd)),!f)return null;const m=new Date,p=f.getTime()-m.getTime();if(p<=0)return{days:0,hours:0,expired:!0};const g=Math.floor(p/(1e3*60*60*24)),v=Math.floor(p%(1e3*60*60*24)/(1e3*60*60));return{days:g,hours:v,expired:!1}})(),l=()=>!o||o.expired||o.days<7?"destructive":o.days<=14?"secondary":"outline",c=()=>!o||o.expired||o.days<7?"text-red-400":o.days<=14?"text-yellow-400":"text-emerald-400",u=()=>o?o.expired?"":o.days<=7?`${o.days} ${o.hours}`:`${o.days} `:"";return r.status==="expired"?s.jsx(Mt,{href:"/dashboard/advertiser/settings?tab=subscription",children:s.jsxs(ye,{variant:"destructive",className:"cursor-pointer flex items-center gap-1.5 px-2 py-1 text-xs font-mono","data-testid":"subscription-badge-expired",children:[s.jsx(Ui,{className:"w-3 h-3"})," "]})}):r.status==="active"?s.jsx(Mt,{href:"/dashboard/advertiser/settings?tab=subscription",children:s.jsxs(ye,{variant:"outline",className:`cursor-pointer flex items-center gap-1.5 px-2 py-1 text-xs font-mono border-emerald-500/50 ${c()}`,"data-testid":"subscription-badge-active",children:[s.jsx(Gn,{className:"w-3 h-3"}),a?.name||"",o&&!o.expired&&s.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",u(),")"]})]})}):r.status==="trial"?s.jsx(Mt,{href:"/dashboard/advertiser/settings?tab=subscription",children:s.jsxs(ye,{variant:l(),className:`cursor-pointer flex items-center gap-1.5 px-2 py-1 text-xs font-mono ${c()}`,"data-testid":"subscription-badge-trial",children:[s.jsx(Yt,{className:"w-3 h-3"}),": ",u()]})}):null}function QYe(){const[e,t]=j.useState(null),[n,r]=j.useState(!0),[a,i]=j.useState(!1),[,o]=hr(),l=rt();j.useEffect(()=>{c()},[]);const c=async()=>{try{const m=await fetch("/api/auth/me",{credentials:"include"});if(m.ok){const p=await m.json();t(p),!p.twoFactorEnabled&&p.twoFactorSetupCompleted===!1&&!window.location.pathname.includes("/setup-2fa")&&o("/setup-2fa")}}catch{console.error("Auth check failed")}finally{r(!1)}},u=async(m,p)=>{try{const g=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:m,password:p}),credentials:"include"});if(g.ok){const v=await g.json();return l.clear(),t(v),v.needsSetup2FA?o("/setup-2fa"):o(`/dashboard/${v.role}`),!0}return!1}catch{return!1}},f=j.useCallback(async()=>{if(!a){i(!0);try{const m=await fetch("/api/auth/logout",{method:"POST",credentials:"include"});m.ok||console.error("Logout failed with status:",m.status)}catch(m){console.error("Logout request failed:",m)}t(null),l.removeQueries(),o("/login"),i(!1)}},[a,l,o]);return{user:e,loading:n,loggingOut:a,login:u,logout:f,checkAuth:c}}function IK(){const{t:e}=as(),[t,n]=j.useState(!1),{logout:r,loggingOut:a}=QYe(),[i,o]=an("/dashboard/:role"),[l,c]=an("/dashboard/:role/:section"),[u,f]=an("/dashboard/:role/:section/:action"),[m,p]=an("/dashboard/:role/:section/:action/:id"),g=p?.role||f?.role||c?.role||o?.role;return g?s.jsx(DCe,{role:g,children:s.jsxs("div",{className:"min-h-screen bg-background text-foreground font-sans flex flex-col",children:[s.jsx(JYe,{role:g,mobileMenuOpen:t,setMobileMenuOpen:n,t:e}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx(tXe,{role:g,t:e,onNavigate:()=>n(!1),onLogout:r,loggingOut:a}),s.jsx(nXe,{role:g,t:e})]}),s.jsx(OCe,{open:t,onOpenChange:n,children:s.jsx(QJ,{side:"left",className:"w-72 p-0 bg-card border-border",children:s.jsx(ZYe,{role:g,t:e,onNavigate:()=>n(!1),onLogout:r,loggingOut:a})})})]})}):(window.location.href="/login",null)}function JYe({role:e,mobileMenuOpen:t,setMobileMenuOpen:n,t:r}){const{selectedAdvertiser:a}=Vl(),i=e==="admin"?"bg-red-500":e==="advertiser"?"bg-blue-500":"bg-emerald-500",{data:o}=Ne({queryKey:["/api/public/platform-settings"]}),l=e==="publisher"&&a?.hidePlatformBranding,c=a?.brandName||a?.companyName||"PARTNER";return s.jsxs("header",{className:"md:hidden h-14 bg-card border-b border-border flex items-center justify-between px-4 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>n(!t),className:"h-9 w-9","data-testid":"mobile-menu-toggle",children:s.jsx(WW,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[l&&a?.logoUrl?s.jsx("img",{src:a.logoUrl,alt:c,className:"h-6 w-6 object-contain"}):s.jsx("div",{className:`w-3 h-3 rounded-sm ${i}`}),s.jsx("span",{className:"font-mono font-bold text-xs tracking-wider uppercase",children:l?c:o?.platformName||e})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Poe,{}),s.jsx(I_,{})]})]})}function ZYe({role:e,t,onNavigate:n,onLogout:r,loggingOut:a}){const{selectedAdvertiser:i}=Vl(),[,o]=hr(),{isStaff:l,staffLoading:c,canAccess:u}=ey(),f=T=>{o(T),n()},m=()=>{n(),r()},{data:p}=Ne({queryKey:["unread-news-count",i?.id],queryFn:async()=>{const T=new URLSearchParams;i?.id&&T.set("advertiserId",i.id);const C=await fetch(`/api/news/unread-count?${T}`,{credentials:"include"});return C.ok?C.json():{count:0}}}),g=p?.count||0,v={admin:[{icon:eh,label:t("dashboard.menu.overview"),path:`/dashboard/${e}`,color:"text-blue-400"},{icon:Ro,label:t("dashboard.menu.offers"),path:`/dashboard/${e}/offers`,color:"text-orange-400"},{icon:mh,label:t("dashboard.menu.reports"),path:`/dashboard/${e}/reports`,color:"text-purple-400"},{icon:pn,label:t("dashboard.menu.users"),path:`/dashboard/${e}/users`,color:"text-emerald-400"},{icon:Qr,label:"",path:`/dashboard/${e}/subscriptions`,color:"text-amber-400"},{icon:Fn,label:t("hero.specs.antifraud"),path:`/dashboard/${e}/antifraud`,color:"text-red-400"},{icon:Sn,label:t("dashboard.menu.finance"),path:`/dashboard/${e}/finance`,color:"text-yellow-400"},{icon:Ia,label:"",path:`/dashboard/${e}/news`,color:"text-orange-400"},{icon:jn,label:"",path:`/dashboard/${e}/postbacks`,color:"text-pink-400"},{icon:jn,label:"",path:`/dashboard/${e}/domain-requests`,color:"text-cyan-400"},{icon:hh,label:"",path:`/dashboard/${e}/team`,color:"text-indigo-400"},{icon:$W,label:"API & ",path:`/dashboard/${e}/integrations`,color:"text-violet-400"},{icon:Gi,label:t("dashboard.menu.settings"),path:`/dashboard/${e}/settings`,color:"text-muted-foreground"}],advertiser:[{icon:eh,label:t("dashboard.menu.overview"),path:`/dashboard/${e}`,color:"text-blue-400"},{icon:Ro,label:t("dashboard.menu.offers"),path:`/dashboard/${e}/offers`,color:"text-orange-400"},{icon:Do,label:t("dashboard.menu.requests"),path:`/dashboard/${e}/requests`,color:"text-cyan-400"},{icon:pn,label:t("dashboard.menu.partners"),path:`/dashboard/${e}/partners`,color:"text-emerald-400"},{icon:mh,label:t("dashboard.menu.reports"),path:`/dashboard/${e}/reports`,color:"text-purple-400"},{icon:Il,label:"",path:`/dashboard/${e}/analytics`,color:"text-teal-400"},{icon:Fn,label:t("hero.specs.antifraud"),path:`/dashboard/${e}/antifraud`,color:"text-red-400"},{icon:Qr,label:t("dashboard.menu.finance"),path:`/dashboard/${e}/finance`,color:"text-yellow-400"},{icon:Ia,label:"",path:`/dashboard/${e}/news`,color:"text-orange-400"},{icon:jn,label:"",path:`/dashboard/${e}/postbacks`,color:"text-pink-400"},{icon:hh,label:"",path:`/dashboard/${e}/team`,color:"text-indigo-400"},{icon:Ea,label:"",path:`/dashboard/${e}/referrals`,color:"text-pink-400"},{icon:Gi,label:t("dashboard.menu.settings"),path:`/dashboard/${e}/settings`,color:"text-muted-foreground"}],publisher:[{icon:eh,label:t("dashboard.menu.overview"),path:`/dashboard/${e}`,color:"text-blue-400"},{icon:Yg,label:t("dashboard.menu.links"),path:`/dashboard/${e}/links`,color:"text-cyan-400"},{icon:JM,label:t("dashboard.menu.splitTests"),path:`/dashboard/${e}/split-tests`,color:"text-teal-400"},{icon:Il,label:t("dashboard.menu.reports"),path:`/dashboard/${e}/reports`,color:"text-purple-400"},{icon:Sn,label:t("dashboard.menu.payouts"),path:`/dashboard/${e}/payouts`,color:"text-yellow-400"},{icon:Ea,label:"",path:`/dashboard/${e}/referrals`,color:"text-pink-400"},{icon:Ia,label:"",path:`/dashboard/${e}/news`,color:"text-orange-400"},{icon:jn,label:"",path:`/dashboard/${e}/postbacks`,color:"text-pink-400"},{icon:Gi,label:t("dashboard.menu.settings"),path:`/dashboard/${e}/settings`,color:"text-muted-foreground"}]};let y=v[e]||v.publisher;!c&&l&&e==="advertiser"&&(y=y.filter(T=>{const C=ZG(T.path);return C?u(C):!0}));const w=e==="admin"?"bg-red-500":e==="advertiser"?"bg-blue-500":"bg-emerald-500",N=e==="publisher"&&i?.hidePlatformBranding,A=i?.brandName||i?.companyName||"PARTNER";return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"h-14 flex items-center px-4 border-b border-border",children:N?s.jsxs(s.Fragment,{children:[i?.logoUrl?s.jsx("img",{src:i.logoUrl,alt:A,className:"h-8 w-8 object-contain mr-3"}):s.jsx("div",{className:`w-3 h-3 rounded-sm ${w} mr-3`}),s.jsx("span",{className:"font-mono font-bold text-sm tracking-wider uppercase truncate",children:A})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`w-3 h-3 rounded-sm ${w} mr-3`}),s.jsxs("span",{className:"font-mono font-bold text-sm tracking-wider uppercase",children:[e," PORTAL"]})]})}),s.jsx("nav",{className:"p-2 space-y-1 flex-1 overflow-y-auto",children:y.map((T,C)=>{const S=T.path.includes("/news");return s.jsxs("button",{onClick:()=>f(T.path),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded text-sm font-medium transition-colors text-muted-foreground hover:bg-muted hover:text-foreground",children:[s.jsx(T.icon,{className:`w-4 h-4 ${T.color}`}),s.jsx("span",{className:"flex-1 text-left",children:T.label}),S&&g>0&&s.jsx("span",{className:"min-w-5 h-5 px-1.5 flex items-center justify-center text-xs font-bold bg-red-500 text-white rounded-full",children:g>99?"99+":g})]},C)})}),s.jsx("div",{className:"p-4 border-t border-border",children:s.jsxs("button",{onClick:m,disabled:a,className:"flex items-center gap-2 text-xs font-mono text-muted-foreground hover:text-foreground transition-colors w-full disabled:opacity-50",children:[s.jsx(KW,{className:"w-3 h-3 text-red-500"}),a?"...":t("dashboard.menu.logout")]})})]})}function eXe(){const{data:e}=Ne({queryKey:["/api/public/platform-settings"],queryFn:async()=>{const t=await fetch("/api/public/platform-settings",{credentials:"include"});return t.ok?t.json():null}});return!e?.supportTelegram&&!e?.supportPhone&&!e?.supportEmail?null:s.jsx("div",{className:"p-3 mb-16",children:s.jsxs("div",{className:"bg-gradient-to-br from-red-900/30 to-slate-900/50 rounded-lg p-3 border border-red-500/20","data-testid":"manager-card",children:[s.jsx("div",{className:"text-[10px] text-red-400 uppercase font-bold mb-2",children:""}),s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.platformLogoUrl?s.jsx("img",{src:e.platformLogoUrl,alt:e.platformName||"Platform",className:"w-10 h-10 rounded-lg bg-muted object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-red-500 to-orange-600 flex items-center justify-center text-primary-foreground font-bold text-sm",children:(e.platformName||"P").charAt(0).toUpperCase()}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-sm font-semibold text-foreground truncate",children:e.platformName||""})})]}),s.jsxs("div",{className:"space-y-2",children:[e.supportTelegram&&s.jsxs("a",{href:`https://t.me/${e.supportTelegram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs text-muted-foreground hover:text-blue-400 transition-colors","data-testid":"manager-telegram",children:[s.jsx(dr,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:e.supportTelegram})]}),e.supportPhone&&s.jsxs("a",{href:`tel:${e.supportPhone}`,className:"flex items-center gap-2 text-xs text-muted-foreground hover:text-emerald-400 transition-colors","data-testid":"manager-phone",children:[s.jsx(om,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:e.supportPhone})]}),e.supportEmail&&s.jsxs("a",{href:`mailto:${e.supportEmail}`,className:"flex items-center gap-2 text-xs text-muted-foreground hover:text-yellow-400 transition-colors","data-testid":"manager-email",children:[s.jsx(Or,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:e.supportEmail})]})]})]})})}function tXe({role:e,t,onNavigate:n,onLogout:r,loggingOut:a}){const{selectedAdvertiser:i}=Vl(),[o,l]=j.useState(!1),{isStaff:c,staffLoading:u,canAccess:f}=ey();hr();const{data:m}=Ne({queryKey:["unread-news-count",i?.id],queryFn:async()=>{const w=new URLSearchParams;i?.id&&w.set("advertiserId",i.id);const N=await fetch(`/api/news/unread-count?${w}`,{credentials:"include"});return N.ok?N.json():{count:0}},refetchInterval:6e4}),p=m?.count||0,g={admin:[{icon:eh,label:t("dashboard.menu.overview"),path:`/dashboard/${e}`,color:"text-blue-400"},{icon:Ro,label:t("dashboard.menu.offers"),path:`/dashboard/${e}/offers`,color:"text-orange-400"},{icon:mh,label:t("dashboard.menu.reports"),path:`/dashboard/${e}/reports`,color:"text-purple-400"},{icon:pn,label:t("dashboard.menu.users"),path:`/dashboard/${e}/users`,color:"text-emerald-400"},{icon:Qr,label:"",path:`/dashboard/${e}/subscriptions`,color:"text-amber-400"},{icon:Fn,label:t("hero.specs.antifraud"),path:`/dashboard/${e}/antifraud`,color:"text-red-400"},{icon:Sn,label:t("dashboard.menu.finance"),path:`/dashboard/${e}/finance`,color:"text-yellow-400"},{icon:Ia,label:"",path:`/dashboard/${e}/news`,color:"text-orange-400"},{icon:jn,label:"",path:`/dashboard/${e}/postbacks`,color:"text-pink-400"},{icon:jn,label:"",path:`/dashboard/${e}/domain-requests`,color:"text-cyan-400"},{icon:hh,label:"",path:`/dashboard/${e}/team`,color:"text-indigo-400"},{icon:$W,label:"API & ",path:`/dashboard/${e}/integrations`,color:"text-violet-400"},{icon:Gi,label:t("dashboard.menu.settings"),path:`/dashboard/${e}/settings`,color:"text-muted-foreground"}],advertiser:[{icon:eh,label:t("dashboard.menu.overview"),path:`/dashboard/${e}`,color:"text-blue-400"},{icon:Ro,label:t("dashboard.menu.offers"),path:`/dashboard/${e}/offers`,color:"text-orange-400"},{icon:Do,label:t("dashboard.menu.requests"),path:`/dashboard/${e}/requests`,color:"text-cyan-400"},{icon:pn,label:t("dashboard.menu.partners"),path:`/dashboard/${e}/partners`,color:"text-emerald-400"},{icon:mh,label:t("dashboard.menu.reports"),path:`/dashboard/${e}/reports`,color:"text-purple-400"},{icon:Il,label:"",path:`/dashboard/${e}/analytics`,color:"text-teal-400"},{icon:Fn,label:t("hero.specs.antifraud"),path:`/dashboard/${e}/antifraud`,color:"text-red-400"},{icon:Qr,label:t("dashboard.menu.finance"),path:`/dashboard/${e}/finance`,color:"text-yellow-400"},{icon:Ia,label:"",path:`/dashboard/${e}/news`,color:"text-orange-400"},{icon:jn,label:"",path:`/dashboard/${e}/postbacks`,color:"text-pink-400"},{icon:hh,label:"",path:`/dashboard/${e}/team`,color:"text-indigo-400"},{icon:Ea,label:"",path:`/dashboard/${e}/referrals`,color:"text-pink-400"},{icon:Gi,label:t("dashboard.menu.settings"),path:`/dashboard/${e}/settings`,color:"text-muted-foreground"}],publisher:[{icon:eh,label:t("dashboard.menu.overview"),path:`/dashboard/${e}`,color:"text-blue-400"},{icon:Yg,label:t("dashboard.menu.links"),path:`/dashboard/${e}/links`,color:"text-cyan-400"},{icon:JM,label:t("dashboard.menu.splitTests"),path:`/dashboard/${e}/split-tests`,color:"text-teal-400"},{icon:Il,label:t("dashboard.menu.reports"),path:`/dashboard/${e}/reports`,color:"text-purple-400"},{icon:Sn,label:t("dashboard.menu.payouts"),path:`/dashboard/${e}/payouts`,color:"text-yellow-400"},{icon:Ea,label:"",path:`/dashboard/${e}/referrals`,color:"text-pink-400"},{icon:Ia,label:"",path:`/dashboard/${e}/news`,color:"text-orange-400"},{icon:jn,label:"",path:`/dashboard/${e}/postbacks`,color:"text-pink-400"},{icon:Gi,label:t("dashboard.menu.settings"),path:`/dashboard/${e}/settings`,color:"text-muted-foreground"}]};let v=g[e]||g.publisher;!u&&c&&e==="advertiser"&&(v=v.filter(w=>{const N=ZG(w.path);return N?f(N):!0}));const y=e==="admin"?"bg-red-500":e==="advertiser"?"bg-blue-500":"bg-emerald-500";return s.jsxs("aside",{className:"w-64 bg-card border-r border-border flex-shrink-0 hidden md:flex flex-col",children:[s.jsx("div",{className:"h-14 flex items-center px-4 border-b border-border",children:e==="publisher"&&i?.hidePlatformBranding?s.jsxs(s.Fragment,{children:[i?.logoUrl?s.jsx("img",{src:i.logoUrl,alt:i.brandName||i.companyName||"",className:"h-8 w-8 object-contain mr-3"}):s.jsx("div",{className:`w-3 h-3 rounded-sm ${y} mr-3`}),s.jsx("span",{className:"font-mono font-bold text-sm tracking-wider uppercase truncate","data-testid":"sidebar-brand-name",children:i.brandName||i.companyName||"PARTNER"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`w-3 h-3 rounded-sm ${y} mr-3`}),s.jsxs("span",{className:"font-mono font-bold text-sm tracking-wider uppercase",children:[e," PORTAL"]})]})}),s.jsx("nav",{className:"p-2 space-y-1 flex-1 overflow-y-auto",children:v.map((w,N)=>{const A=w.path.includes("/news");return s.jsx(Mt,{href:w.path,children:s.jsxs("button",{className:`w-full flex items-center gap-3 px-3 py-2 rounded text-sm font-medium transition-colors ${N===-1?"bg-muted text-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,children:[s.jsx(w.icon,{className:`w-4 h-4 ${w.color}`}),s.jsx("span",{className:"flex-1 text-left",children:w.label}),A&&p>0&&s.jsx("span",{className:"min-w-5 h-5 px-1.5 flex items-center justify-center text-xs font-bold bg-red-500 text-white rounded-full","data-testid":"unread-news-badge",children:p>99?"99+":p})]})},N)})}),e==="publisher"&&i&&s.jsx("div",{className:"p-3 mt-auto mb-36",children:s.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 dark:from-slate-800/50 dark:to-slate-900/50 rounded-lg p-3 border border-border","data-testid":"advertiser-card",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.logoUrl?s.jsx("img",{src:i.logoUrl,alt:i.companyName||i.username,className:"w-10 h-10 rounded-lg bg-muted object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-primary-foreground font-bold text-sm",children:(i.companyName||i.username).charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-foreground truncate",children:i.companyName||i.username}),s.jsxs("p",{className:"text-[10px] text-muted-foreground truncate",children:[i.offersCount," "]})]})]}),s.jsxs("div",{className:"space-y-2",children:[i.telegram&&s.jsxs("a",{href:`https://t.me/${i.telegram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs text-muted-foreground hover:text-blue-400 transition-colors","data-testid":"advertiser-telegram",children:[s.jsx(dr,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:i.telegram})]}),i.phone&&s.jsxs("a",{href:`tel:${i.phone}`,className:"flex items-center gap-2 text-xs text-muted-foreground hover:text-emerald-400 transition-colors","data-testid":"advertiser-phone",children:[s.jsx(om,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:i.phone})]})]})]})}),e==="advertiser"&&s.jsx(eXe,{}),(e==="advertiser"||e==="publisher")&&s.jsx("div",{className:"px-3 pb-2",children:s.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 text-xs font-mono text-muted-foreground hover:text-yellow-500 transition-colors w-full px-3 py-2 rounded hover:bg-muted","data-testid":"button-suggest-feature",children:[s.jsx(HW,{className:"w-3 h-3 text-yellow-500"})," "]})}),s.jsx("div",{className:"p-4 border-t border-border",children:s.jsxs("button",{onClick:r,disabled:a,className:"flex items-center gap-2 text-xs font-mono text-muted-foreground hover:text-foreground transition-colors w-full disabled:opacity-50",children:[s.jsx(KW,{className:"w-3 h-3 text-red-500"}),a?"...":t("dashboard.menu.logout")]})}),s.jsx(ECe,{open:o,onOpenChange:l})]})}function nXe({role:e,t}){const[,n]=hr(),{isStaff:r,staffLoading:a,canAccess:i}=ey(),[o]=an("/dashboard/:role/offers"),[l]=an("/dashboard/:role/offers/archived"),[c]=an("/dashboard/:role/offers/new"),[u]=an("/dashboard/:role/links"),[f,m]=an("/dashboard/:role/offer/:offerId"),[p]=an("/dashboard/:role/partners"),[g,v]=an("/dashboard/:role/partner/:publisherId"),[y]=an("/dashboard/:role/users"),[w]=an("/dashboard/:role/reports"),[N]=an("/dashboard/:role/requests"),[A]=an("/dashboard/:role/finance"),[T]=an("/dashboard/:role/payouts"),[C]=an("/dashboard/:role/postbacks"),[S]=an("/dashboard/:role/antifraud"),[E]=an("/dashboard/:role/settings"),[O]=an("/dashboard/:role/team"),[_]=an("/dashboard/:role/news"),[M]=an("/dashboard/:role/news/create"),[$,z]=an("/dashboard/:role/news/edit/:newsId"),[V]=an("/dashboard/:role/notifications"),[I]=an("/dashboard/:role/domain-requests"),[F]=an("/dashboard/:role/subscriptions"),[K]=an("/dashboard/:role/analytics"),[R]=an("/dashboard/:role/split-tests"),[B]=an("/dashboard/:role/integrations"),[L]=an("/dashboard/:role/referrals");j.useEffect(()=>{a||r&&e==="advertiser"&&(!(O&&!i("team")||E&&!i("settings")||(p||g)&&!i("partners")||N&&!i("requests")||A&&!i("finance")||(o||l||c||f)&&!i("offers")||w&&!i("reports")||S&&!i("antifraud")||C&&!i("postbacks")||(_||M||$)&&!i("news"))||n(`/dashboard/${e}`))},[a,r,e,i,n,O,E,p,g,N,A,o,l,c,f,w,S,C,_,M,$]);const{data:q,isLoading:se,error:H}=Ne({queryKey:["/api/user"],queryFn:async()=>{const Q=await fetch("/api/user",{credentials:"include"});if(!Q.ok)throw new Error("Not authenticated");return Q.json()},retry:!1}),{data:Y}=Ne({queryKey:["/api/advertiser/settings"],queryFn:async()=>{const Q=await fetch("/api/advertiser/settings",{credentials:"include"});return Q.ok?Q.json():null},enabled:e==="advertiser"}),{data:G}=Ne({queryKey:["/api/public/platform-settings"],queryFn:async()=>{const Q=await fetch("/api/public/platform-settings",{credentials:"include"});return Q.ok?Q.json():null}});j.useEffect(()=>{H&&n("/login")},[H,n]),j.useEffect(()=>{!se&&q&&!q.twoFactorEnabled&&q.twoFactorSetupCompleted===!1&&(q.status==="active"||q.role==="publisher"&&q.hasApprovedAdvertiser)&&n("/setup-2fa")},[se,q,n]);const{advertisers:X,selectedAdvertiserId:ae,selectedAdvertiser:de,setSelectedAdvertiserId:he,isLoading:Fe}=Vl(),{data:ge}=Ne({queryKey:["/api/publisher/balance",ae],enabled:e==="publisher"&&!!ae}),{data:Ae=[]}=Ne({queryKey:["/api/publisher/payout-requests",ae],enabled:e==="publisher"&&!!ae}),_e=Ae.filter(Q=>Q.status==="approved").reduce((Q,xt)=>Q+parseFloat(xt.approvedAmount||xt.requestedAmount||"0"),0),ee=ge?.hold||0,Le=ge?.available||0,Ce=Q=>{switch(Q){case"active":return s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-emerald-500/20 text-emerald-400",children:""});case"pending":return s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-yellow-500/20 text-yellow-400",children:""});case"inactive":case"rejected":return s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] uppercase font-bold bg-red-500/20 text-red-400",children:""});default:return null}},De=o||e==="publisher"&&u,We=l,nt=c,Et=f,St=p&&e==="advertiser",Gt=g&&e==="advertiser",Jn=y&&e==="admin",cn=w,_r=N&&e==="advertiser",Vt=A&&(e==="advertiser"||e==="admin"),_n=T&&e==="publisher",zn=R&&e==="publisher",Rn=C,_s=S&&(e==="admin"||e==="advertiser"),Ai=E,Ei=O&&(e==="advertiser"||e==="admin"),Js=_&&!M&&!$,ga=M&&(e==="admin"||e==="advertiser"),rr=$&&(e==="admin"||e==="advertiser"),Tn=V,qn=()=>{if(Tn)return s.jsx(qYe,{});if(Ai){if(e==="admin")return s.jsx(TYe,{});if(e==="advertiser")return s.jsx(mYe,{});if(e==="publisher")return s.jsx(wYe,{})}if(Ei)return s.jsx($Ye,{});if(L){if(e==="advertiser")return s.jsx(FYe,{});if(e==="publisher")return s.jsx(BYe,{})}if(Jn)return s.jsx(RKe,{});if(I&&e==="admin")return s.jsx(DYe,{});if(F&&e==="admin")return s.jsx(LYe,{});if(B&&e==="admin")return s.jsx(YYe,{});if(_r)return s.jsx(zKe,{});if(Vt)return e==="admin"?s.jsx(rWe,{}):s.jsx(nWe,{});if(Rn){if(e==="advertiser")return s.jsx(eYe,{});if(e==="publisher")return s.jsx(tYe,{});if(e==="admin")return s.jsx(nYe,{})}if(ga)return s.jsx(RK,{embedded:!0});if(rr&&z?.newsId)return s.jsx(RK,{embedded:!0,editId:z.newsId});if(Js)return s.jsx(zYe,{});if(_s)return s.jsx(rYe,{role:e});if(_n)return s.jsx(JGe,{});if(zn)return s.jsx(KYe,{role:e});if(K&&(e==="advertiser"||e==="admin"))return s.jsx(HYe,{});if(cn)return s.jsx(LKe,{role:e});if(Et&&m?.offerId)return s.jsx(N5e,{offerId:m.offerId,role:e});if(We&&(e==="advertiser"||e==="admin"))return s.jsx(Wke,{role:e});if(nt&&(e==="advertiser"||e==="admin"))return s.jsx(BRe,{role:e});if(Gt&&v?.publisherId)return s.jsx(kKe,{publisherId:v.publisherId});if(St)return s.jsx(CKe,{});if(De){if(e==="admin"||e==="advertiser")return s.jsx(Kke,{role:e});if(e==="publisher")return s.jsx(Gke,{role:e})}return e==="admin"?s.jsx(SKe,{}):e==="advertiser"?s.jsx(wKe,{}):e==="publisher"?s.jsx(NKe,{}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("p",{className:"text-muted-foreground",children:t("common.loading")||"Loading..."})})};return s.jsxs("main",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[s.jsxs("header",{className:"h-14 bg-card border-b border-border flex items-center justify-between px-6 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[e==="publisher"&&X.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs(Ru,{children:[s.jsx(Du,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded bg-blue-500/10 border border-blue-500/20 hover:bg-blue-500/20 transition-colors","data-testid":"advertiser-switcher",children:[s.jsx(er,{className:"w-4 h-4 text-blue-400"}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:de?.username||" "}),de&&s.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[de.offersCount," "]})]}),de&&Ce(de.status),s.jsx(fa,{className:"w-4 h-4 text-muted-foreground"})]})}),s.jsx(Zc,{align:"start",className:"w-64 bg-card border-border",children:X.map(Q=>s.jsxs($a,{onClick:()=>he(Q.id),className:`flex items-center justify-between cursor-pointer ${ae===Q.id?"bg-white/10":""}`,"data-testid":`advertiser-option-${Q.id}`,children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:Q.username}),s.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[Q.offersCount," "]})]}),Ce(Q.status)]},Q.id))})]}),s.jsx("div",{className:"h-4 w-px bg-border"})]}),s.jsx("h2",{className:"text-sm font-bold text-foreground uppercase tracking-wider",children:t("dashboard.menu.overview")}),s.jsx("div",{className:"h-4 w-px bg-border"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground font-mono",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),t("dashboard.liveStream")]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[e==="publisher"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded bg-emerald-500/10 border border-emerald-500/20",children:[s.jsx(Sn,{className:"w-3 h-3 text-emerald-500"}),s.jsxs("span",{className:"text-xs font-mono text-emerald-400","data-testid":"header-available",children:["$",Le.toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded bg-blue-500/10 border border-blue-500/20",children:[s.jsx(Qr,{className:"w-3 h-3 text-blue-500"}),s.jsxs("span",{className:"text-xs font-mono text-blue-400","data-testid":"header-approved",children:["$",_e.toFixed(2)]}),s.jsx("span",{className:"text-[10px] text-blue-400/60",children:"."})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded bg-yellow-500/10 border border-yellow-500/20",children:[s.jsx(Ro,{className:"w-3 h-3 text-yellow-500"}),s.jsxs("span",{className:"text-xs font-mono text-yellow-400","data-testid":"header-hold",children:["$",ee.toFixed(2)]}),s.jsx("span",{className:"text-[10px] text-yellow-400/60",children:""})]}),s.jsx("div",{className:"h-4 w-px bg-border"})]}),s.jsxs("div",{className:"text-xs font-mono text-muted-foreground",children:[t("dashboard.server"),": US-EAST-1"]}),s.jsx(XYe,{role:e}),s.jsx(Poe,{role:e}),s.jsx(I_,{}),G?.platformLogoUrl||Y?.logoUrl||q?.logoUrl?s.jsx("img",{src:G?.platformLogoUrl||Y?.logoUrl||q?.logoUrl,alt:"Logo",className:"w-8 h-8 rounded object-cover","data-testid":"header-platform-logo"}):s.jsx("div",{className:"w-8 h-8 rounded bg-white/10 flex items-center justify-center text-xs font-bold uppercase",children:e.charAt(0)})]})]}),s.jsx("div",{className:"flex-1 overflow-auto p-6",children:qn()})]})}const rXe=im("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Em=j.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:Re(rXe({variant:t}),e),...n}));Em.displayName="Alert";const sXe=j.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:Re("mb-1 font-medium leading-none tracking-tight",e),...t}));sXe.displayName="AlertTitle";const Om=j.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Re("text-sm [&_p]:leading-relaxed",e),...t}));Om.displayName="AlertDescription";function aXe(){const[,e]=hr(),t=FM(),n=new URLSearchParams(window.location.search),r=t.ref||n.get("ref")||"",a=n.get("adv")||"";j.useEffect(()=>{if(r){const g=a?`/register/${r}?adv=${a}`:`/register/${r}`;e(g)}},[r,a,e]);const[i,o]=j.useState({username:"",email:"",password:"",confirmPassword:""}),[l,c]=j.useState(""),{data:u,isLoading:f}=Ne({queryKey:["validate-referral",r,a],queryFn:async()=>{if(!r)return null;const g=a?`/api/auth/validate-referral/${r}?adv=${a}`:`/api/auth/validate-referral/${r}`,v=await fetch(g,{credentials:"include"});return v.ok?v.json():null},enabled:!!r}),m=ve({mutationFn:async g=>(await Be("POST","/api/auth/register",{username:g.username,email:g.email,password:g.password,referralCode:g.referralCode,advertiserId:g.advertiserId,referrerId:g.referrerId})).json(),onSuccess:()=>{e("/dashboard/publisher")},onError:g=>{c(g.message||"Registration failed")}}),p=g=>{if(g.preventDefault(),c(""),!i.username||!i.email||!i.password){c("All fields are required");return}if(i.password!==i.confirmPassword){c("Passwords do not match");return}if(i.password.length<6){c("Password must be at least 6 characters");return}m.mutate({...i,referralCode:r||void 0,advertiserId:u?.advertiserId||void 0,referrerId:u?.referrerId||void 0})};return s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),s.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-[310px] w-[310px] rounded-full bg-emerald-500 opacity-10 blur-[100px]"}),s.jsxs(J,{className:"w-full max-w-md bg-card border-border relative z-10",children:[s.jsxs(Pe,{className:"text-center",children:[s.jsx(Ie,{className:"text-2xl font-bold text-foreground",children:"Create Account"}),s.jsx(et,{className:"text-muted-foreground",children:"Register as a publisher to start earning"})]}),s.jsxs(ne,{className:"space-y-6",children:[r&&s.jsx("div",{className:"p-4 rounded-lg border border-border bg-muted",children:f?s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(we,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"  ..."})]}):u?.valid?s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-emerald-400",children:[s.jsx(Gn,{className:"w-4 h-4"}),s.jsxs("span",{children:[": ",s.jsx("strong",{children:u.advertiserName})]})]}),u.type==="publisher"&&u.referrerName&&s.jsxs("div",{className:"flex items-center gap-2 text-blue-400 text-sm",children:[s.jsx(Or,{className:"w-3 h-3"}),s.jsxs("span",{children:[": ",s.jsx("strong",{children:u.referrerName})]})]})]}):s.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[s.jsx(ts,{className:"w-4 h-4"}),s.jsx("span",{children:"  "})]})}),l&&s.jsx(Em,{variant:"destructive",children:s.jsx(Om,{children:l})}),s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"username",className:"text-muted-foreground",children:"Username"}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"username","data-testid":"input-username",type:"text",placeholder:"Enter username",value:i.username,onChange:g=>o({...i,username:g.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"email",className:"text-muted-foreground",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ji,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"email","data-testid":"input-email",type:"email",placeholder:"Enter email",value:i.email,onChange:g=>o({...i,email:g.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"password",className:"text-muted-foreground",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"password","data-testid":"input-password",type:"password",placeholder:"Enter password",value:i.password,onChange:g=>o({...i,password:g.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"confirmPassword",className:"text-muted-foreground",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"confirmPassword","data-testid":"input-confirm-password",type:"password",placeholder:"Confirm password",value:i.confirmPassword,onChange:g=>o({...i,confirmPassword:g.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsx(U,{type:"submit","data-testid":"button-register",disabled:m.isPending||!!r&&!u?.valid,className:"w-full h-12 bg-emerald-600 hover:bg-emerald-500 text-foreground font-medium",children:m.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"Registering..."]}):"Create Account"})]}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",s.jsx("button",{onClick:()=>e("/"),className:"text-emerald-400 hover:text-emerald-300","data-testid":"link-login",children:"Sign in"})]})]})]})]})}var iXe=Object.defineProperty,oXe=Object.defineProperties,lXe=Object.getOwnPropertyDescriptors,Fw=Object.getOwnPropertySymbols,Moe=Object.prototype.hasOwnProperty,_oe=Object.prototype.propertyIsEnumerable,LK=(e,t,n)=>t in e?iXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cXe=(e,t)=>{for(var n in t||(t={}))Moe.call(t,n)&&LK(e,n,t[n]);if(Fw)for(var n of Fw(t))_oe.call(t,n)&&LK(e,n,t[n]);return e},dXe=(e,t)=>oXe(e,lXe(t)),uXe=(e,t)=>{var n={};for(var r in e)Moe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Fw)for(var r of Fw(e))t.indexOf(r)<0&&_oe.call(e,r)&&(n[r]=e[r]);return n};function fXe(e){let t=setTimeout(e,0),n=setTimeout(e,10),r=setTimeout(e,50);return[t,n,r]}function hXe(e){let t=j.useRef();return j.useEffect(()=>{t.current=e}),t.current}var mXe=18,Roe=40,pXe=`${Roe}px`,xXe=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function gXe({containerRef:e,inputRef:t,pushPasswordManagerStrategy:n,isFocused:r}){let[a,i]=j.useState(!1),[o,l]=j.useState(!1),[c,u]=j.useState(!1),f=j.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&a&&o,[a,o,n]),m=j.useCallback(()=>{let p=e.current,g=t.current;if(!p||!g||c||n==="none")return;let v=p,y=v.getBoundingClientRect().left+v.offsetWidth,w=v.getBoundingClientRect().top+v.offsetHeight/2,N=y-mXe,A=w;document.querySelectorAll(xXe).length===0&&document.elementFromPoint(N,A)===p||(i(!0),u(!0))},[e,t,c,n]);return j.useEffect(()=>{let p=e.current;if(!p||n==="none")return;function g(){let y=window.innerWidth-p.getBoundingClientRect().right;l(y>=Roe)}g();let v=setInterval(g,1e3);return()=>{clearInterval(v)}},[e,n]),j.useEffect(()=>{let p=r||document.activeElement===t.current;if(n==="none"||!p)return;let g=setTimeout(m,0),v=setTimeout(m,2e3),y=setTimeout(m,5e3),w=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(g),clearTimeout(v),clearTimeout(y),clearTimeout(w)}},[t,r,n,m]),{hasPWMBadge:a,willPushPWMBadge:f,PWM_BADGE_SPACE_WIDTH:pXe}}var Doe=j.createContext({}),Ioe=j.forwardRef((e,t)=>{var n=e,{value:r,onChange:a,maxLength:i,textAlign:o="left",pattern:l,placeholder:c,inputMode:u="numeric",onComplete:f,pushPasswordManagerStrategy:m="increase-width",pasteTransformer:p,containerClassName:g,noScriptCSSFallback:v=yXe,render:y,children:w}=n,N=uXe(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),A,T,C,S,E;let[O,_]=j.useState(typeof N.defaultValue=="string"?N.defaultValue:""),M=r??O,$=hXe(M),z=j.useCallback(Ce=>{a?.(Ce),_(Ce)},[a]),V=j.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),I=j.useRef(null),F=j.useRef(null),K=j.useRef({value:M,onChange:z,isIOS:typeof window<"u"&&((T=(A=window?.CSS)==null?void 0:A.supports)==null?void 0:T.call(A,"-webkit-touch-callout","none"))}),R=j.useRef({prev:[(C=I.current)==null?void 0:C.selectionStart,(S=I.current)==null?void 0:S.selectionEnd,(E=I.current)==null?void 0:E.selectionDirection]});j.useImperativeHandle(t,()=>I.current,[]),j.useEffect(()=>{let Ce=I.current,De=F.current;if(!Ce||!De)return;K.current.value!==Ce.value&&K.current.onChange(Ce.value),R.current.prev=[Ce.selectionStart,Ce.selectionEnd,Ce.selectionDirection];function We(){if(document.activeElement!==Ce){Y(null),X(null);return}let St=Ce.selectionStart,Gt=Ce.selectionEnd,Jn=Ce.selectionDirection,cn=Ce.maxLength,_r=Ce.value,Vt=R.current.prev,_n=-1,zn=-1,Rn;if(_r.length!==0&&St!==null&&Gt!==null){let Js=St===Gt,ga=St===_r.length&&_r.length<cn;if(Js&&!ga){let rr=St;if(rr===0)_n=0,zn=1,Rn="forward";else if(rr===cn)_n=rr-1,zn=rr,Rn="backward";else if(cn>1&&_r.length>1){let Tn=0;if(Vt[0]!==null&&Vt[1]!==null){Rn=rr<Vt[1]?"backward":"forward";let qn=Vt[0]===Vt[1]&&Vt[0]<cn;Rn==="backward"&&!qn&&(Tn=-1)}_n=Tn+rr,zn=Tn+rr+1}}_n!==-1&&zn!==-1&&_n!==zn&&I.current.setSelectionRange(_n,zn,Rn)}let _s=_n!==-1?_n:St,Ai=zn!==-1?zn:Gt,Ei=Rn??Jn;Y(_s),X(Ai),R.current.prev=[_s,Ai,Ei]}if(document.addEventListener("selectionchange",We,{capture:!0}),We(),document.activeElement===Ce&&se(!0),!document.getElementById("input-otp-style")){let St=document.createElement("style");if(St.id="input-otp-style",document.head.appendChild(St),St.sheet){let Gt="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Qp(St.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Qp(St.sheet,`[data-input-otp]:autofill { ${Gt} }`),Qp(St.sheet,`[data-input-otp]:-webkit-autofill { ${Gt} }`),Qp(St.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Qp(St.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let nt=()=>{De&&De.style.setProperty("--root-height",`${Ce.clientHeight}px`)};nt();let Et=new ResizeObserver(nt);return Et.observe(Ce),()=>{document.removeEventListener("selectionchange",We,{capture:!0}),Et.disconnect()}},[]);let[B,L]=j.useState(!1),[q,se]=j.useState(!1),[H,Y]=j.useState(null),[G,X]=j.useState(null);j.useEffect(()=>{fXe(()=>{var Ce,De,We,nt;(Ce=I.current)==null||Ce.dispatchEvent(new Event("input"));let Et=(De=I.current)==null?void 0:De.selectionStart,St=(We=I.current)==null?void 0:We.selectionEnd,Gt=(nt=I.current)==null?void 0:nt.selectionDirection;Et!==null&&St!==null&&(Y(Et),X(St),R.current.prev=[Et,St,Gt])})},[M,q]),j.useEffect(()=>{$!==void 0&&M!==$&&$.length<i&&M.length===i&&f?.(M)},[i,f,$,M]);let ae=gXe({containerRef:F,inputRef:I,pushPasswordManagerStrategy:m,isFocused:q}),de=j.useCallback(Ce=>{let De=Ce.currentTarget.value.slice(0,i);if(De.length>0&&V&&!V.test(De)){Ce.preventDefault();return}typeof $=="string"&&De.length<$.length&&document.dispatchEvent(new Event("selectionchange")),z(De)},[i,z,$,V]),he=j.useCallback(()=>{var Ce;if(I.current){let De=Math.min(I.current.value.length,i-1),We=I.current.value.length;(Ce=I.current)==null||Ce.setSelectionRange(De,We),Y(De),X(We)}se(!0)},[i]),Fe=j.useCallback(Ce=>{var De,We;let nt=I.current;if(!p&&(!K.current.isIOS||!Ce.clipboardData||!nt))return;let Et=Ce.clipboardData.getData("text/plain"),St=p?p(Et):Et;Ce.preventDefault();let Gt=(De=I.current)==null?void 0:De.selectionStart,Jn=(We=I.current)==null?void 0:We.selectionEnd,cn=(Gt!==Jn?M.slice(0,Gt)+St+M.slice(Jn):M.slice(0,Gt)+St+M.slice(Gt)).slice(0,i);if(cn.length>0&&V&&!V.test(cn))return;nt.value=cn,z(cn);let _r=Math.min(cn.length,i-1),Vt=cn.length;nt.setSelectionRange(_r,Vt),Y(_r),X(Vt)},[i,z,V,M]),ge=j.useMemo(()=>({position:"relative",cursor:N.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[N.disabled]),Ae=j.useMemo(()=>({position:"absolute",inset:0,width:ae.willPushPWMBadge?`calc(100% + ${ae.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:ae.willPushPWMBadge?`inset(0 ${ae.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[ae.PWM_BADGE_SPACE_WIDTH,ae.willPushPWMBadge,o]),_e=j.useMemo(()=>j.createElement("input",dXe(cXe({autoComplete:N.autoComplete||"one-time-code"},N),{"data-input-otp":!0,"data-input-otp-placeholder-shown":M.length===0||void 0,"data-input-otp-mss":H,"data-input-otp-mse":G,inputMode:u,pattern:V?.source,"aria-placeholder":c,style:Ae,maxLength:i,value:M,ref:I,onPaste:Ce=>{var De;Fe(Ce),(De=N.onPaste)==null||De.call(N,Ce)},onChange:de,onMouseOver:Ce=>{var De;L(!0),(De=N.onMouseOver)==null||De.call(N,Ce)},onMouseLeave:Ce=>{var De;L(!1),(De=N.onMouseLeave)==null||De.call(N,Ce)},onFocus:Ce=>{var De;he(),(De=N.onFocus)==null||De.call(N,Ce)},onBlur:Ce=>{var De;se(!1),(De=N.onBlur)==null||De.call(N,Ce)}})),[de,he,Fe,u,Ae,i,G,H,N,V?.source,M]),ee=j.useMemo(()=>({slots:Array.from({length:i}).map((Ce,De)=>{var We;let nt=q&&H!==null&&G!==null&&(H===G&&De===H||De>=H&&De<G),Et=M[De]!==void 0?M[De]:null,St=M[0]!==void 0?null:(We=c?.[De])!=null?We:null;return{char:Et,placeholderChar:St,isActive:nt,hasFakeCaret:nt&&Et===null}}),isFocused:q,isHovering:!N.disabled&&B}),[q,B,i,G,H,N.disabled,M]),Le=j.useMemo(()=>y?y(ee):j.createElement(Doe.Provider,{value:ee},w),[w,ee,y]);return j.createElement(j.Fragment,null,v!==null&&j.createElement("noscript",null,j.createElement("style",null,v)),j.createElement("div",{ref:F,"data-input-otp-container":!0,style:ge,className:g},Le,j.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},_e)))});Ioe.displayName="Input";function Qp(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var yXe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const Loe=j.forwardRef(({className:e,containerClassName:t,...n},r)=>s.jsx(Ioe,{ref:r,containerClassName:Re("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:Re("disabled:cursor-not-allowed",e),...n}));Loe.displayName="InputOTP";const $oe=j.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Re("flex items-center",e),...t}));$oe.displayName="InputOTPGroup";const Fd=j.forwardRef(({index:e,className:t,...n},r)=>{const a=j.useContext(Doe),{char:i,hasFakeCaret:o,isActive:l}=a.slots[e];return s.jsxs("div",{ref:r,className:Re("relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-1 ring-ring",t),...n,children:[i,o&&s.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});Fd.displayName="InputOTPSlot";const vXe=j.forwardRef(({...e},t)=>s.jsx("div",{ref:t,role:"separator",...e,children:s.jsx(LO,{})}));vXe.displayName="InputOTPSeparator";function bXe(){const[,e]=hr(),{branding:t}=Rye(),[n,r]=j.useState({username:"",password:""}),[a,i]=j.useState(""),[o,l]=j.useState(!1),[c,u]=j.useState(""),[f,m]=j.useState(!1),[p,g]=j.useState(!1),[v,y]=j.useState(""),{data:w}=Ne({queryKey:["/api/public/platform-settings"],staleTime:300*1e3}),N=t.isWhiteLabel?t.logoUrl:w?.platformLogoUrl,A=t.isWhiteLabel?t.brandName:w?.platformName||"  ",T=t.isWhiteLabel?"   ":"   ",C=ve({mutationFn:async M=>(await Be("POST","/api/auth/login",M)).json(),onSuccess:M=>{if(M.requires2FA){g(!0),i("");return}if(M.needsSetup2FA){e("/setup-2fa");return}M.role==="admin"?e("/dashboard/admin"):M.role==="advertiser"?e("/dashboard/advertiser"):e("/dashboard/publisher")},onError:M=>{i(M.message||" ")}}),S=ve({mutationFn:async M=>(await Be("POST","/api/auth/verify-2fa",{token:M})).json(),onSuccess:M=>{M.role==="admin"?e("/dashboard/admin"):M.role==="advertiser"?e("/dashboard/advertiser"):e("/dashboard/publisher")},onError:M=>{i(M.message||" "),y("")}}),E=ve({mutationFn:async M=>(await Be("POST","/api/auth/forgot-password",{email:M})).json(),onSuccess:()=>{m(!0)},onError:M=>{i(M.message||" ")}}),O=M=>{if(M.preventDefault(),i(""),!n.username||!n.password){i("  ");return}C.mutate(n)},_=M=>{if(M.preventDefault(),i(""),!c){i(" email");return}E.mutate(c)};return s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),s.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-[310px] w-[310px] rounded-full bg-emerald-500 opacity-10 blur-[100px]"}),s.jsxs(J,{className:"w-full max-w-md bg-card border-border relative z-10",children:[s.jsxs(Pe,{className:"text-center",children:[N&&s.jsx("img",{src:N,alt:A,className:"h-16 w-auto mx-auto mb-4 object-contain","data-testid":"img-brand-logo"}),s.jsx(Ie,{className:"text-2xl font-bold text-foreground","data-testid":"text-brand-name",children:A}),s.jsx(et,{className:"text-muted-foreground",children:T})]}),s.jsxs(ne,{className:"space-y-6",children:[a&&s.jsx(Em,{variant:"destructive",children:s.jsx(Om,{children:a})}),p?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-emerald-500/20 flex items-center justify-center mx-auto mb-4",children:s.jsx(Fn,{className:"w-8 h-8 text-emerald-500"})}),s.jsx("p",{className:"text-foreground font-medium mb-2",children:" "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(Loe,{maxLength:6,value:v,onChange:M=>y(M),"data-testid":"input-2fa-code",children:s.jsxs($oe,{children:[s.jsx(Fd,{index:0}),s.jsx(Fd,{index:1}),s.jsx(Fd,{index:2}),s.jsx(Fd,{index:3}),s.jsx(Fd,{index:4}),s.jsx(Fd,{index:5})]})})}),s.jsx(U,{onClick:()=>S.mutate(v),disabled:v.length!==6||S.isPending,className:"w-full h-12 bg-emerald-600 hover:bg-emerald-500 text-foreground font-medium","data-testid":"button-verify-2fa",children:S.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):""}),s.jsx("button",{type:"button",onClick:()=>{g(!1),y(""),i("")},className:"w-full text-sm text-muted-foreground hover:text-foreground",children:"  "})]}):s.jsxs(s.Fragment,{children:[s.jsxs("form",{onSubmit:O,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"username",className:"text-muted-foreground",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"username","data-testid":"input-username",type:"text",placeholder:" ",value:n.username,onChange:M=>r({...n,username:M.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"password",className:"text-muted-foreground",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"password","data-testid":"input-password",type:"password",placeholder:" ",value:n.password,onChange:M=>r({...n,password:M.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("button",{type:"button",onClick:()=>l(!0),className:"text-sm text-emerald-400 hover:text-emerald-300","data-testid":"link-forgot-password",children:" ?"})}),s.jsx(U,{type:"submit","data-testid":"button-login",disabled:C.isPending,className:"w-full h-12 bg-emerald-600 hover:bg-emerald-500 text-foreground font-medium",children:C.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):""})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t border-border"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:""})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(U,{variant:"outline",className:"w-full border-border hover:bg-muted",onClick:()=>e("/register/advertiser"),"data-testid":"link-register-advertiser",children:" "}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"      "})]}),s.jsx("div",{className:"text-center text-sm text-muted-foreground",children:s.jsxs("button",{onClick:()=>e("/"),className:"text-emerald-400 hover:text-emerald-300 flex items-center justify-center gap-1 mx-auto","data-testid":"link-home",children:[s.jsx(As,{className:"w-4 h-4"})," "]})})]})]})]}),s.jsx(Wt,{open:o,onOpenChange:l,children:s.jsxs(zt,{className:"sm:max-w-md",children:[s.jsxs(qt,{children:[s.jsx(Ut,{children:" "}),s.jsx(ao,{children:" email   "})]}),f?s.jsxs("div",{className:"text-center py-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-500/20 flex items-center justify-center mx-auto mb-4",children:s.jsx(Ji,{className:"w-6 h-6 text-emerald-500"})}),s.jsx("p",{className:"text-foreground font-medium mb-2",children:" !"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"    "}),s.jsx(U,{className:"mt-4",onClick:()=>{l(!1),m(!1),u("")},children:""})]}):s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"reset-email",children:"Email"}),s.jsx(le,{id:"reset-email","data-testid":"input-reset-email",type:"email",placeholder:" email",value:c,onChange:M=>u(M.target.value)})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(U,{type:"button",variant:"outline",className:"flex-1",onClick:()=>l(!1),children:""}),s.jsx(U,{type:"submit",className:"flex-1 bg-emerald-600 hover:bg-emerald-500",disabled:E.isPending,"data-testid":"button-reset-password",children:E.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin"}):""})]})]})]})})]})}const jXe=[{value:"telegram",label:"Telegram",icon:""},{value:"whatsapp",label:"WhatsApp",icon:""},{value:"viber",label:"Viber",icon:""}];function wXe(){const[,e]=hr(),[t,n]=j.useState({fullName:"",username:"",email:"",companyName:"",phone:"",contactType:"",contactValue:"",password:"",confirmPassword:""}),[r,a]=j.useState(""),[i,o]=j.useState(!1),l=ve({mutationFn:async f=>(await Be("POST","/api/auth/register/advertiser",{fullName:f.fullName,username:f.username,email:f.email,companyName:f.companyName,phone:f.phone,contactType:f.contactType,contactValue:f.contactValue,password:f.password})).json(),onSuccess:()=>{o(!0)},onError:f=>{a(f.message||" ")}}),c=f=>{f.preventDefault(),a("");const m=[{key:"fullName",label:""},{key:"username",label:""},{key:"email",label:"Email"},{key:"companyName",label:""},{key:"phone",label:""},{key:"contactType",label:" "},{key:"contactValue",label:""},{key:"password",label:""},{key:"confirmPassword",label:" "}];for(const p of m)if(!t[p.key]){a(` "${p.label}"   `);return}if(t.password!==t.confirmPassword){a("  ");return}if(t.password.length<6){a("    6 ");return}l.mutate(t)},u=()=>{switch(t.contactType){case"telegram":return"@username  ";case"whatsapp":return"+7 999 123-45-67";case"viber":return"+7 999 123-45-67";default:return" "}};return i?s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),s.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-[400px] w-[400px] rounded-full bg-emerald-500 opacity-20 blur-[120px]"}),s.jsxs(J,{className:"w-full max-w-md bg-card border-border relative z-10 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-emerald-500 via-emerald-400 to-teal-500"}),s.jsxs(Pe,{className:"text-center pt-8",children:[s.jsxs("div",{className:"relative mx-auto mb-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-emerald-500/20 flex items-center justify-center mx-auto animate-pulse",children:s.jsx(Gn,{className:"w-10 h-10 text-emerald-500"})}),s.jsx("div",{className:"absolute -top-2 -right-2",children:s.jsx(r_,{className:"w-6 h-6 text-yellow-500"})})]}),s.jsx(Ie,{className:"text-2xl font-bold text-foreground",children:" !"}),s.jsx(et,{className:"text-muted-foreground text-base mt-2",children:"  "})]}),s.jsxs(ne,{className:"space-y-6 text-center pb-8",children:[s.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 rounded-xl p-6 border border-emerald-500/20",children:[s.jsx("p",{className:"text-lg text-foreground",children:"  !"}),s.jsxs("p",{className:"text-muted-foreground mt-2",children:["      ",s.jsx("span",{className:"text-emerald-500 font-semibold",children:"24 "})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),s.jsx("span",{children:"  "})]}),s.jsx(U,{onClick:()=>e("/login"),className:"w-full bg-emerald-600 hover:bg-emerald-700 h-12 text-base","data-testid":"button-go-to-login",children:"  "})]})]})]}):s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),s.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-[310px] w-[310px] rounded-full bg-emerald-500 opacity-10 blur-[100px]"}),s.jsxs(J,{className:"w-full max-w-lg bg-card border-border relative z-10",children:[s.jsxs(Pe,{className:"text-center",children:[s.jsx(Ie,{className:"text-2xl font-bold text-foreground",children:" "}),s.jsx(et,{className:"text-muted-foreground",children:"    "})]}),s.jsxs(ne,{className:"space-y-6",children:[r&&s.jsx(Em,{variant:"destructive",children:s.jsx(Om,{children:r})}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"fullName",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"fullName","data-testid":"input-fullname",type:"text",placeholder:" ",value:t.fullName,onChange:f=>n({...t,fullName:f.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"username",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"username","data-testid":"input-username",type:"text",placeholder:"  ",value:t.username,onChange:f=>n({...t,username:f.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"email",className:"text-muted-foreground",children:"Email *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ji,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"email","data-testid":"input-email",type:"email",placeholder:"email@example.com",value:t.email,onChange:f=>n({...t,email:f.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"companyName",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(FW,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"companyName","data-testid":"input-company",type:"text",placeholder:" ",value:t.companyName,onChange:f=>n({...t,companyName:f.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"phone",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(om,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"phone","data-testid":"input-phone",type:"tel",placeholder:"+7 999 123-45-67",value:t.phone,onChange:f=>n({...t,phone:f.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground",children:" *"}),s.jsxs(ht,{value:t.contactType,onValueChange:f=>n({...t,contactType:f}),children:[s.jsx(dt,{"data-testid":"select-contact-type",className:"bg-muted border-border",children:s.jsx(mt,{placeholder:""})}),s.jsx(ut,{children:jXe.map(f=>s.jsxs(ke,{value:f.value,children:[f.icon," ",f.label]},f.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"contactValue",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(y0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"contactValue","data-testid":"input-contact-value",type:"text",placeholder:u(),value:t.contactValue,onChange:f=>n({...t,contactValue:f.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"password",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"password","data-testid":"input-password",type:"password",placeholder:" 6 ",value:t.password,onChange:f=>n({...t,password:f.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"confirmPassword",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"confirmPassword","data-testid":"input-confirm-password",type:"password",placeholder:" ",value:t.confirmPassword,onChange:f=>n({...t,confirmPassword:f.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]})]}),s.jsx(U,{type:"submit","data-testid":"button-register",disabled:l.isPending,className:"w-full h-12 bg-emerald-600 hover:bg-emerald-500 text-foreground font-medium",children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):""})]}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["  ?"," ",s.jsx("button",{onClick:()=>e("/login"),className:"text-emerald-400 hover:text-emerald-300","data-testid":"link-login",children:""})]}),s.jsx("div",{className:"text-center",children:s.jsxs("button",{onClick:()=>e("/"),className:"text-sm text-muted-foreground hover:text-foreground flex items-center justify-center gap-1 mx-auto","data-testid":"link-home",children:[s.jsx(As,{className:"w-4 h-4"})," "]})})]})]})]})}const NXe=[{value:"telegram",label:"Telegram",icon:""},{value:"whatsapp",label:"WhatsApp",icon:""},{value:"viber",label:"Viber",icon:""}];function SXe(){const[,e]=hr(),t=FM(),n=new URLSearchParams(window.location.search),r=t.ref||n.get("ref")||"",a=n.get("adv")||"",[i,o]=j.useState({fullName:"",username:"",email:"",phone:"",contactType:"",contactValue:"",password:"",confirmPassword:""}),[l,c]=j.useState(""),[u,f]=j.useState(!1),[m,p]=j.useState(!1),[g,v]=j.useState({username:"",password:""}),[y,w]=j.useState(null),{data:N,isLoading:A}=Ne({queryKey:["validate-referral",r,a],queryFn:async()=>{if(!r)return null;const _=a?`/api/auth/validate-referral/${r}?adv=${a}`:`/api/auth/validate-referral/${r}`,M=await fetch(_,{credentials:"include"});return M.ok?M.json():null},enabled:!!r}),T=ve({mutationFn:async _=>{const M=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullName:_.fullName,username:_.username,email:_.email,phone:_.phone,contactType:_.contactType,contactValue:_.contactValue,password:_.password,referralCode:_.referralCode,advertiserId:_.advertiserId,referrerId:_.referrerId}),credentials:"include"}),$=await M.json();if(M.status===409&&$.code==="EMAIL_EXISTS_DIFFERENT_ADVERTISER")return{showLinkDialog:!0,advertiserId:$.advertiserId,advertiserName:$.advertiserName};if(!M.ok)throw new Error($.message||" ");return $},onSuccess:_=>{_?.showLinkDialog?(w({advertiserId:_.advertiserId,advertiserName:_.advertiserName}),p(!0)):f(!0)},onError:_=>{c(_.message||" ")}}),C=ve({mutationFn:async _=>(await Be("POST","/api/auth/link-to-advertiser",_)).json(),onSuccess:()=>{p(!1),e("/dashboard/publisher")},onError:_=>{c(_.message||" ")}}),S=_=>{_.preventDefault(),c("");const M=[{key:"fullName",label:""},{key:"username",label:""},{key:"email",label:"Email"},{key:"phone",label:""},{key:"contactType",label:""},{key:"contactValue",label:""},{key:"password",label:""},{key:"confirmPassword",label:" "}];for(const $ of M)if(!i[$.key]){c(` "${$.label}"   `);return}if(i.password!==i.confirmPassword){c("  ");return}if(i.password.length<6){c("    6 ");return}T.mutate({...i,referralCode:r||void 0,advertiserId:N?.advertiserId||void 0,referrerId:N?.referrerId||void 0})},E=_=>{if(_.preventDefault(),!g.username||!g.password){c("   ");return}const M=y?.advertiserId;if(!M){c(":   .     .");return}C.mutate({username:g.username,password:g.password,advertiserId:M})},O=()=>{switch(i.contactType){case"telegram":return"@username  ";case"whatsapp":return"+7 999 123-45-67";case"viber":return"+7 999 123-45-67";default:return" "}};return u?s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),s.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-[400px] w-[400px] rounded-full bg-emerald-500 opacity-20 blur-[120px]"}),s.jsxs(J,{className:"w-full max-w-md bg-card border-border relative z-10 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-emerald-500 via-emerald-400 to-teal-500"}),s.jsxs(Pe,{className:"text-center pt-8",children:[s.jsxs("div",{className:"relative mx-auto mb-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-emerald-500/20 flex items-center justify-center mx-auto animate-pulse",children:s.jsx(Gn,{className:"w-10 h-10 text-emerald-500"})}),s.jsx("div",{className:"absolute -top-2 -right-2",children:s.jsx(r_,{className:"w-6 h-6 text-yellow-500"})})]}),s.jsx(Ie,{className:"text-2xl font-bold text-foreground",children:" !"}),s.jsx(et,{className:"text-muted-foreground text-base mt-2",children:"  "})]}),s.jsxs(ne,{className:"space-y-6 text-center pb-8",children:[s.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 rounded-xl p-6 border border-emerald-500/20",children:[s.jsx("p",{className:"text-lg text-foreground",children:"  !"}),s.jsxs("p",{className:"text-muted-foreground mt-2",children:["      ",s.jsx("span",{className:"text-emerald-500 font-semibold",children:"24 "})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),s.jsx("span",{children:"  "})]}),s.jsx(U,{onClick:()=>e("/login"),className:"w-full bg-emerald-600 hover:bg-emerald-700 h-12 text-base","data-testid":"button-go-to-login",children:"  "})]})]})]}):r?s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),s.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-[310px] w-[310px] rounded-full bg-emerald-500 opacity-10 blur-[100px]"}),s.jsxs(J,{className:"w-full max-w-lg bg-card border-border relative z-10",children:[s.jsxs(Pe,{className:"text-center",children:[s.jsx(Ie,{className:"text-2xl font-bold text-foreground",children:" "}),s.jsx(et,{className:"text-muted-foreground",children:"     "})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsx("div",{className:"p-4 rounded-lg border border-border bg-muted",children:A?s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(we,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:" ..."})]}):N?.valid?s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-emerald-400",children:[s.jsx(Gn,{className:"w-4 h-4"}),s.jsxs("span",{children:[": ",s.jsx("strong",{children:N.advertiserName})]})]}),N.type==="publisher"&&N.referrerName&&s.jsxs("div",{className:"flex items-center gap-2 text-blue-400 text-sm",children:[s.jsx(Or,{className:"w-3 h-3"}),s.jsxs("span",{children:[": ",s.jsx("strong",{children:N.referrerName})]})]})]}):s.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[s.jsx(ts,{className:"w-4 h-4"}),s.jsx("span",{children:" "})]})}),l&&s.jsx(Em,{variant:"destructive",children:s.jsx(Om,{children:l})}),s.jsxs("form",{onSubmit:S,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"fullName",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"fullName","data-testid":"input-fullname",type:"text",placeholder:" ",value:i.fullName,onChange:_=>o({...i,fullName:_.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"username",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"username","data-testid":"input-username",type:"text",placeholder:"  ",value:i.username,onChange:_=>o({...i,username:_.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"email",className:"text-muted-foreground",children:"Email *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ji,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"email","data-testid":"input-email",type:"email",placeholder:"email@example.com",value:i.email,onChange:_=>o({...i,email:_.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"phone",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(om,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"phone","data-testid":"input-phone",type:"tel",placeholder:"+7 999 123-45-67",value:i.phone,onChange:_=>o({...i,phone:_.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground",children:" *"}),s.jsxs(ht,{value:i.contactType,onValueChange:_=>o({...i,contactType:_}),children:[s.jsx(dt,{"data-testid":"select-contact-type",className:"bg-muted border-border",children:s.jsx(mt,{placeholder:""})}),s.jsx(ut,{children:NXe.map(_=>s.jsxs(ke,{value:_.value,children:[_.icon," ",_.label]},_.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"contactValue",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(y0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"contactValue","data-testid":"input-contact-value",type:"text",placeholder:O(),value:i.contactValue,onChange:_=>o({...i,contactValue:_.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"password",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"password","data-testid":"input-password",type:"password",placeholder:" 6 ",value:i.password,onChange:_=>o({...i,password:_.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"confirmPassword",className:"text-muted-foreground",children:" *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(le,{id:"confirmPassword","data-testid":"input-confirm-password",type:"password",placeholder:" ",value:i.confirmPassword,onChange:_=>o({...i,confirmPassword:_.target.value}),className:"pl-10 bg-muted border-border text-foreground placeholder:text-muted-foreground"})]})]})]}),s.jsx(U,{type:"submit","data-testid":"button-register",disabled:T.isPending||!N?.valid,className:"w-full h-12 bg-emerald-600 hover:bg-emerald-500 text-foreground font-medium",children:T.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):""})]}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["  ?"," ",s.jsx("button",{onClick:()=>e("/login"),className:"text-emerald-400 hover:text-emerald-300","data-testid":"link-login",children:""})]}),s.jsx("div",{className:"text-center",children:s.jsxs("button",{onClick:()=>e("/"),className:"text-sm text-muted-foreground hover:text-foreground flex items-center justify-center gap-1 mx-auto","data-testid":"link-home",children:[s.jsx(As,{className:"w-4 h-4"})," "]})})]})]}),s.jsx(Wt,{open:m,onOpenChange:p,children:s.jsxs(zt,{className:"sm:max-w-md",children:[s.jsxs(qt,{children:[s.jsxs(Ut,{className:"flex items-center gap-2",children:[s.jsx(Ui,{className:"w-5 h-5 text-yellow-500"}),"  "]}),s.jsx(ao,{children:" email     .       ."})]}),s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"login-username",children:""}),s.jsx(le,{id:"login-username","data-testid":"input-link-username",type:"text",placeholder:" ",value:g.username,onChange:_=>v({...g,username:_.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"login-password",children:""}),s.jsx(le,{id:"login-password","data-testid":"input-link-password",type:"password",placeholder:" ",value:g.password,onChange:_=>v({...g,password:_.target.value})})]}),s.jsxs(Ks,{className:"gap-2",children:[s.jsx(U,{type:"button",variant:"outline",onClick:()=>p(!1),children:""}),s.jsx(U,{type:"submit",className:"bg-emerald-600 hover:bg-emerald-500",disabled:C.isPending,"data-testid":"button-link-account",children:C.isPending?s.jsx(we,{className:"w-4 h-4 animate-spin"}):""})]})]})]})})]}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(J,{className:"w-full max-w-md bg-card border-border",children:s.jsxs(ne,{className:"pt-6 text-center",children:[s.jsx(ts,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-foreground mb-2",children:" "}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"       "}),s.jsx(U,{onClick:()=>e("/"),variant:"outline",children:" "})]})})})}function CXe(){const[,e]=hr(),t=rt(),[n,r]=j.useState("intro"),[a,i]=j.useState(""),[o,l]=j.useState(""),[c,u]=j.useState(""),[f,m]=j.useState(""),[p,g]=j.useState(!1),{data:v,isLoading:y,error:w}=Ne({queryKey:["/api/user"],queryFn:async()=>{const E=await fetch("/api/user",{credentials:"include"});if(!E.ok)throw new Error("Not authenticated");return E.json()},retry:!1});j.useEffect(()=>{w&&e("/login")},[w,e]);const N=ve({mutationFn:async()=>(await Be("POST","/api/user/2fa/setup",{})).json(),onSuccess:E=>{i(E.secret),l(E.qrCode),r("verify")},onError:E=>{m(E.message||"  2FA")}}),A=ve({mutationFn:async E=>(await Be("POST","/api/user/2fa/enable",E)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user"]}),v?.role==="admin"?e("/dashboard/admin"):v?.role==="advertiser"?e("/dashboard/advertiser"):e("/dashboard/publisher")},onError:E=>{m(E.message||"  ")}}),T=()=>{m(""),N.mutate()},C=E=>{if(E.preventDefault(),m(""),!c||c.length!==6){m(" 6- ");return}A.mutate({secret:a,token:c})},S=()=>{navigator.clipboard.writeText(a),g(!0),setTimeout(()=>g(!1),2e3)};return y?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(we,{className:"w-8 h-8 animate-spin text-emerald-500"})}):v?.twoFactorEnabled?(v.role==="admin"?e("/dashboard/admin"):v.role==="advertiser"?e("/dashboard/advertiser"):e("/dashboard/publisher"),null):s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),s.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-[310px] w-[310px] rounded-full bg-emerald-500 opacity-10 blur-[100px]"}),s.jsxs(J,{className:"w-full max-w-md bg-card border-border relative z-10",children:[s.jsxs(Pe,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-emerald-500/20 flex items-center justify-center mx-auto mb-4",children:s.jsx(Fn,{className:"w-8 h-8 text-emerald-500"})}),s.jsx(Ie,{className:"text-2xl font-bold text-foreground",children:"  "}),s.jsx(et,{className:"text-muted-foreground",children:"      2FA"})]}),s.jsxs(ne,{className:"space-y-6",children:[f&&s.jsx(Em,{variant:"destructive",children:s.jsx(Om,{children:f})}),n==="intro"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-muted rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-emerald-500 font-bold",children:"1"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:" "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" Google Authenticator, Authy     2FA"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-emerald-500 font-bold",children:"2"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:" QR-"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"    QR-"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-emerald-500 font-bold",children:"3"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:" "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" 6-     "})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(U,{variant:"outline",className:"flex-1",onClick:()=>window.open("https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2","_blank"),children:[s.jsx(b0,{className:"w-4 h-4 mr-2"}),"Android"]}),s.jsxs(U,{variant:"outline",className:"flex-1",onClick:()=>window.open("https://apps.apple.com/app/google-authenticator/id388497605","_blank"),children:[s.jsx(b0,{className:"w-4 h-4 mr-2"}),"iOS"]})]}),s.jsx(U,{onClick:T,disabled:N.isPending,className:"w-full h-12 bg-emerald-600 hover:bg-emerald-500","data-testid":"button-start-2fa",children:N.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):" "})]}),n==="verify"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:" QR-   Google Authenticator"}),o&&s.jsx("div",{className:"inline-block p-4 bg-white rounded-lg",children:s.jsx("img",{src:o,alt:"QR Code",className:"w-48 h-48"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-muted-foreground",children:"   :"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{value:a,readOnly:!0,className:"font-mono text-sm bg-muted"}),s.jsx(U,{variant:"outline",size:"icon",onClick:S,"data-testid":"button-copy-secret",children:p?s.jsx(bt,{className:"w-4 h-4 text-emerald-500"}):s.jsx(Yn,{className:"w-4 h-4"})})]})]}),s.jsxs("form",{onSubmit:C,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"code",className:"text-muted-foreground",children:" 6-   "}),s.jsx(le,{id:"code","data-testid":"input-2fa-code",type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,placeholder:"000000",value:c,onChange:E=>u(E.target.value.replace(/\D/g,"")),className:"text-center text-2xl font-mono tracking-widest bg-muted border-border"})]}),s.jsx(U,{type:"submit",disabled:A.isPending||c.length!==6,className:"w-full h-12 bg-emerald-600 hover:bg-emerald-500","data-testid":"button-verify-2fa",children:A.isPending?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Gn,{className:"w-4 h-4 mr-2"}),"   2FA"]})})]})]})]})]})]})}function kXe(){const e=rt(),[,t]=hr(),{data:n}=Ne({queryKey:["/api/user"],queryFn:async()=>{const f=await fetch("/api/user",{credentials:"include"});return f.ok?f.json():null}});j.useEffect(()=>{n?.role&&t(`/dashboard/${n.role}/notifications`)},[n,t]);const{data:r=[],isLoading:a}=Ne({queryKey:["/api/notifications"],queryFn:async()=>{const f=await fetch("/api/notifications?limit=100",{credentials:"include"});return f.ok?f.json():[]}}),i=ve({mutationFn:async f=>{await Be("PATCH",`/api/notifications/${f}/read`)},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/notifications"]}),e.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),o=ve({mutationFn:async()=>{await Be("POST","/api/notifications/mark-all-read")},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/notifications"]}),e.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),l=f=>{switch(f){case"conversion":case"sale":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"lead":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"payout":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"offer":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"access_request":return"bg-cyan-500/20 text-cyan-400 border-cyan-500/30";case"system":default:return"bg-muted text-muted-foreground border-border"}},c=f=>{switch(f){case"conversion":return"";case"sale":return"";case"lead":return"";case"payout":return"";case"offer":return"";case"access_request":return" ";case"system":return"";default:return f}},u=r.filter(f=>!f.isRead).length;return s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Mt,{href:n?.role?`/dashboard/${n.role}`:"/dashboard",children:s.jsx(U,{variant:"ghost",size:"icon","data-testid":"back-button",children:s.jsx(As,{className:"h-4 w-4"})})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(_o,{className:"h-6 w-6"}),""]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:u>0?`${u} `:" "})]})]}),u>0&&s.jsxs(U,{variant:"outline",onClick:()=>o.mutate(),disabled:o.isPending,"data-testid":"mark-all-read",children:[s.jsx(QM,{className:"h-4 w-4 mr-2"})," "]})]}),a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r.length===0?s.jsx(J,{children:s.jsxs(ne,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(_o,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:" "})]})}):s.jsx("div",{className:"space-y-3",children:r.map(f=>s.jsx(J,{className:`cursor-pointer transition-colors ${f.isRead?"":"border-blue-500/30 bg-blue-500/5"}`,onClick:()=>!f.isRead&&i.mutate(f.id),"data-testid":`notification-card-${f.id}`,children:s.jsx(ne,{className:"p-4",children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded border ${l(f.type)}`,children:c(f.type)}),!f.isRead&&s.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-500"})]}),s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-1",children:f.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f.body}),s.jsx("p",{className:"text-[10px] text-muted-foreground/60 mt-2",children:Py(new Date(f.createdAt),{addSuffix:!0,locale:Si})})]})})})},f.id))})]})})}const Rd={antifraud:" ",news:"  ",postbacks:"",team:" ()",webhooks:"Webhooks",customDomain:" ",apiAccess:"API "};function TXe(){const[e,t]=j.useState(!1),[,n]=hr(),{data:r=[],isLoading:a}=Ne({queryKey:["/api/subscription/plans"]}),i=p=>e?(parseFloat(p.yearlyPrice)/12).toFixed(0):parseFloat(p.monthlyPrice).toFixed(0),o=p=>parseFloat(p.yearlyPrice).toFixed(0),l=p=>(parseFloat(p.monthlyPrice)*12).toFixed(0),c=p=>{const g=parseFloat(p.monthlyPrice)*12,v=parseFloat(p.yearlyPrice);return(g-v).toFixed(0)},u=p=>[{key:"partners",value:p.maxPartners?` ${p.maxPartners} `:" ",included:!0},{key:"offers",value:" ",included:!0},{key:"postbacks",value:Rd.postbacks,included:p.hasPostbacks},{key:"stats",value:"",included:!0},{key:"finance",value:"",included:!0},{key:"antifraud",value:Rd.antifraud,included:p.hasAntifraud},{key:"news",value:Rd.news,included:p.hasNews},{key:"team",value:Rd.team,included:p.hasTeam},{key:"webhooks",value:Rd.webhooks,included:p.hasWebhooks},{key:"customDomain",value:Rd.customDomain,included:p.hasCustomDomain},{key:"apiAccess",value:Rd.apiAccess,included:p.hasApiAccess}],f=p=>p===1?"border-primary shadow-lg scale-105 relative z-10":"border-border",m=p=>{n(`/register?plan=${p}&billing=${e?"yearly":"monthly"}`)};return a?s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:s.jsxs("div",{className:"container max-w-6xl mx-auto px-4 py-16",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(ye,{variant:"secondary",className:"mb-4",children:"30  "}),s.jsx("h1",{className:"text-4xl font-bold mb-4","data-testid":"text-pricing-title",children:"    "}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"  30-  .  ,     ."})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-12",children:[s.jsx("span",{className:`text-sm font-medium ${e?"text-muted-foreground":"text-foreground"}`,children:""}),s.jsx(vr,{checked:e,onCheckedChange:t,"data-testid":"switch-billing-cycle"}),s.jsx("span",{className:`text-sm font-medium ${e?"text-foreground":"text-muted-foreground"}`,children:""}),e&&s.jsx(ye,{variant:"default",className:"bg-green-600 hover:bg-green-600",children:"-15%"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6 items-start",children:r.map((p,g)=>s.jsxs(J,{className:`relative transition-all duration-300 ${f(g)}`,"data-testid":`card-plan-${p.name.toLowerCase()}`,children:[g===1&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:s.jsx(ye,{className:"bg-primary text-primary-foreground",children:""})}),s.jsxs(Pe,{className:"text-center pb-2",children:[s.jsx(Ie,{className:"text-2xl",children:p.name}),s.jsxs(et,{children:[g===0&&"  ",g===1&&"  ",g===2&&"  "]})]}),s.jsxs(ne,{className:"text-center",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[s.jsxs("span",{className:"text-4xl font-bold",children:["$",i(p)]}),s.jsx("span",{className:"text-muted-foreground",children:"/"})]}),e&&s.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["$",o(p),"/ ( $",c(p),")"]}),!e&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["$",l(p),"/"]})]}),s.jsx("ul",{className:"space-y-3 text-left",children:u(p).map(v=>s.jsxs("li",{className:`flex items-center gap-3 ${v.included?"":"text-muted-foreground"}`,children:[v.included?s.jsx(bt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}):s.jsx(Xn,{className:"w-5 h-5 text-muted-foreground/50 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:v.value})]},v.key))})]}),s.jsx(nY,{children:s.jsx(U,{className:"w-full",variant:g===1?"default":"outline",size:"lg",onClick:()=>m(p.id),"data-testid":`button-select-${p.name.toLowerCase()}`,children:" "})})]},p.id))}),s.jsxs("div",{className:"mt-16 text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"  ?"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"         "}),s.jsxs(U,{variant:"outline","data-testid":"button-contact-sales",children:[s.jsx(FW,{className:"w-4 h-4 mr-2"}),"  "]})]}),s.jsxs("div",{className:"mt-12 text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"  :"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-2",children:[s.jsx("span",{children:" -"}),s.jsx("span",{children:" "}),s.jsx("span",{children:"  "}),s.jsx("span",{children:" Email "})]})]})]})})}function AXe(){const{toast:e}=Dt(),[t,n]=j.useState(""),[r,a]=j.useState(!1),i=ve({mutationFn:async o=>{const l=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})}),c=await l.json();if(!l.ok)throw new Error(c.message);return c},onSuccess:()=>{a(!0)},onError:o=>{e({title:"",description:o.message,variant:"destructive"})}});return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-900 via-gray-900 to-gray-900 p-4",children:s.jsxs(J,{className:"w-full max-w-md",children:[s.jsxs(Pe,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-emerald-500/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(Vs,{className:"h-6 w-6 text-emerald-500"})}),s.jsx(Ie,{children:" "}),s.jsxs(et,{children:["   email ",s.jsx("strong",{children:t})," ,      ."]})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"  ?         ."}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(U,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-try-again",children:"  email"}),s.jsx(Mt,{href:"/login",children:s.jsxs(U,{variant:"ghost",className:"w-full","data-testid":"link-back-login",children:[s.jsx(As,{className:"h-4 w-4 mr-2"}),"  "]})})]})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-900 via-gray-900 to-gray-900 p-4",children:s.jsxs(J,{className:"w-full max-w-md",children:[s.jsxs(Pe,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-emerald-500/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(Ji,{className:"h-6 w-6 text-emerald-500"})}),s.jsx(Ie,{children:" "}),s.jsx(et,{children:" email,   .      ."})]}),s.jsxs(ne,{children:[s.jsxs("form",{onSubmit:o=>{o.preventDefault(),i.mutate(t)},className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"email",children:"Email"}),s.jsx(le,{id:"email",type:"email",value:t,onChange:o=>n(o.target.value),placeholder:"your@email.com",required:!0,"data-testid":"input-email"})]}),s.jsxs(U,{type:"submit",className:"w-full",disabled:i.isPending||!t,"data-testid":"button-submit",children:[i.isPending&&s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"})," "]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(Mt,{href:"/login",children:s.jsxs(U,{variant:"link",className:"text-muted-foreground","data-testid":"link-login",children:[s.jsx(As,{className:"h-4 w-4 mr-2"}),"  "]})})})]})]})})}function EXe(){const{toast:e}=Dt();hr();const[t,n]=j.useState(""),[r,a]=j.useState(""),[i,o]=j.useState(!1),c=new URLSearchParams(window.location.search).get("token"),{data:u,isLoading:f}=Ne({queryKey:["/api/auth/verify-reset-token",c],queryFn:async()=>c?(await fetch(`/api/auth/verify-reset-token/${c}`)).json():{valid:!1,message:" "},enabled:!!c}),m=ve({mutationFn:async()=>{const g=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:c,newPassword:t})}),v=await g.json();if(!g.ok)throw new Error(v.message);return v},onSuccess:()=>{o(!0),e({title:" ",description:"      "})},onError:g=>{e({title:"",description:g.message,variant:"destructive"})}}),p=g=>{if(g.preventDefault(),t.length<6){e({title:"",description:"     6 ",variant:"destructive"});return}if(t!==r){e({title:"",description:"  ",variant:"destructive"});return}m.mutate()};return f?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-900 via-gray-900 to-gray-900 p-4",children:s.jsx(J,{className:"w-full max-w-md",children:s.jsxs(ne,{className:"py-12 text-center",children:[s.jsx(we,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-emerald-500"}),s.jsx("p",{className:"text-muted-foreground",children:" ..."})]})})}):!c||!u?.valid?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-900 via-gray-900 to-gray-900 p-4",children:s.jsxs(J,{className:"w-full max-w-md",children:[s.jsxs(Pe,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-red-500/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(ts,{className:"h-6 w-6 text-red-500"})}),s.jsx(Ie,{children:" "}),s.jsx(et,{children:u?.message||"        ."})]}),s.jsx(ne,{children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Mt,{href:"/forgot-password",children:s.jsx(U,{className:"w-full","data-testid":"button-request-new",children:"  "})}),s.jsx(Mt,{href:"/login",children:s.jsxs(U,{variant:"ghost",className:"w-full","data-testid":"link-login",children:[s.jsx(As,{className:"h-4 w-4 mr-2"}),"  "]})})]})})]})}):i?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-900 via-gray-900 to-gray-900 p-4",children:s.jsxs(J,{className:"w-full max-w-md",children:[s.jsxs(Pe,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-emerald-500/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(Vs,{className:"h-6 w-6 text-emerald-500"})}),s.jsx(Ie,{children:" !"}),s.jsx(et,{children:"   .       ."})]}),s.jsx(ne,{children:s.jsx(Mt,{href:"/login",children:s.jsx(U,{className:"w-full","data-testid":"button-go-login",children:"  "})})})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-900 via-gray-900 to-gray-900 p-4",children:s.jsxs(J,{className:"w-full max-w-md",children:[s.jsxs(Pe,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-emerald-500/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(ns,{className:"h-6 w-6 text-emerald-500"})}),s.jsx(Ie,{children:" "}),s.jsx(et,{children:"     "})]}),s.jsx(ne,{children:s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"password",children:" "}),s.jsx(le,{id:"password",type:"password",value:t,onChange:g=>n(g.target.value),placeholder:" 6 ",required:!0,minLength:6,"data-testid":"input-password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"confirmPassword",children:" "}),s.jsx(le,{id:"confirmPassword",type:"password",value:r,onChange:g=>a(g.target.value),placeholder:" ",required:!0,"data-testid":"input-confirm-password"})]}),s.jsxs(U,{type:"submit",className:"w-full",disabled:m.isPending||!t||!r,"data-testid":"button-submit",children:[m.isPending&&s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"})," "]})]})})]})})}const OXe={en:{translation:{brand:"Primetrack",nav:{features:"Features",pricing:"Pricing",integrations:"Integrations",apiDocs:"API Documentation",login:"LOG IN",start:"START",loginSystem:"LOG IN TO SYSTEM",dashboard:"Dashboard",getStarted:"Start Free Trial",exit:"Exit Demo"},hero:{badge:"SYSTEM OPERATIONAL v3.2.1",title:"The Ultimate Ad Tracker for Media Buying Teams",subtitle:"Track, optimize, and automate your affiliate campaigns with the fastest self-hosted tracker on the market. Zero redirect lag. Real-time data.",cta:"Get Started Free",demo:"Live Demo",specs:{selfHosted:"Self-Hosted",latency:"5ms Latency",antifraud:"Anti-Fraud"},rps:"RPS (Req/Sec)"},stats:{clicks:"Clicks",uptime:"Uptime",speed:"Speed",nodes:"Active Nodes",revenue:"Revenue (Today)",conversions:"Conversions",roi:"ROI",leads:"Leads",sales:"Sales",advertiserCost:"Cost",publisherPayout:"Payout",margin:"Margin",cr:"CR%"},features:{title:"Everything you need to scale",subtitle:"Built by affiliates, for affiliates. We know what matters.",reporting:{title:"Real-time Reporting",desc:"Drill down into 30+ metrics instantly. Group data by any parameter to find profitable segments."},automation:{title:"Smart Rotation",desc:"Distribute traffic automatically based on rules, paths, and landing page performance."},protection:{title:"Bot Protection",desc:"Advanced anti-fraud system filters out bot traffic before it reaches your offers."},integration:{title:"100+ Integrations",desc:"Pre-configured templates for all major traffic sources and affiliate networks."},cards:{miniTracker:{title:"Mini-tracker for real traffic",desc:"Lightweight tracker without overload. Clicks are processed instantly, each gets a unique click_id, GEO is detected automatically."},statistics:{title:"Clear statistics",desc:"Statistics by offers, partners, geo and devices  in one place. Filters help you quickly understand what to scale and what to disable."},antifraud:{title:"Anti-fraud and quality control",desc:"Protection from low-quality traffic: proxies and VPNs, suspicious fingerprints, too fast or repeated clicks."},postback:{title:"Postback and Webhooks",desc:"Automatic conversion sending to external systems. Support for retries, logging and status monitoring."},teamwork:{title:"Teamwork",desc:"Add managers, analysts and finance staff. Access control  everyone sees only what they need."},customDomains:{title:"Custom domains",desc:"Connect your domains for tracking links. SSL certificates are issued automatically via Let's Encrypt  no manual hassle."},finance:{title:"Finance and payouts",desc:"Balance tracking, holds and partner payouts. Crypto integration support and transparent transaction history."},notifications:{title:"Notifications",desc:"Important events always at hand: in-app notifications and Telegram bot. Clicks, conversions and errors  without constantly refreshing pages."},migration:{title:"Painless migration",desc:"We help you move from Scaleo, Affilka, Affise, Alanbase. Importing offers and data takes 10-15 minutes."}}},categoryLabels:{update:"Update",integration:"Integration",feature:"Feature",news:"News"},fallbackNews:{news1:{title:"New anti-fraud system 2.0",category:"Update",shortDesc:"Added machine learning for even more accurate fraud traffic detection.",body:"We are pleased to present the updated anti-fraud system version 2.0! The platform now uses machine learning algorithms to analyze traffic patterns in real time. The system can detect: bot traffic and automated clicks, proxy and VPN connections, suspicious device fingerprints, abnormal user behavior patterns."},news2:{title:"Binance Pay integration",category:"Integration",shortDesc:"Now you can pay partners directly via Binance Pay without fees.",body:"We have integrated Binance Pay for fast and fee-free partner payouts! Now you can: send payouts in USDT, BTC, ETH and other cryptocurrencies, save on transfer fees, get instant transaction confirmations."},news3:{title:"Telegram bot for notifications",category:"Feature",shortDesc:"Get instant conversion notifications right in Telegram.",body:"Introducing the new Telegram notification bot! Connect the bot to your account and receive instant notifications about: new leads and sales, payout requests from partners, important system events."}},fallbackRoadmap:{item1:{title:"AI anti-fraud integration",desc:"Machine learning for real-time fraud traffic detection"},item2:{title:"Mobile app",desc:"Native iOS and Android apps with push notifications"},item3:{title:"Advanced analytics",desc:"Dashboards with detailed statistics and ML-based forecasts"}},roadmapStatus:{completed:"Completed",inProgress:"In progress",planned:"Planned"},copyright:" {{year}} {{name}}. All rights reserved.",pricing:{title:"Simple, Transparent Pricing",subtitle:"No hidden fees. No traffic limits on self-hosted plans.",starter:"Starter",pro:"Professional",business:"Business",month:"/mo",features:{clicks:"Unlimited Clicks",domains:"Custom Domains",users:"Team Members",support:"Priority Support"}},dashboard:{title:"Dashboard",welcome:"SYSTEM ACCESS",selectRole:"Select your secure portal gateway",loginPrompt:"Enter credentials or use quick login",username:"USERNAME",password:"PASSWORD",login:"LOGIN",quickLogin:"Quick Login",loginError:"Invalid credentials",server:"SERVER",liveStream:"LIVE DATA STREAM",trafficVol:"Traffic Volume (24h)",topGeos:"Top Geos",activeCampaigns:"Active Campaigns",table:{id:"ID",name:"Campaign Name",status:"Status",clicks:"Clicks",conv:"Conv.",revenue:"Revenue",roi:"ROI",offer:"Offer",leads:"Leads",sales:"Sales",cost:"Cost",payout:"Payout",margin:"Margin",cr:"CR%",publisher:"Publisher",conversions:"Conv."},overview:"Dashboard Overview",dailyStats:"Daily Statistics",statsByOffer:"Statistics by Offer",statsByPublisher:"Statistics by Publisher",filters:"Filters",freeSearch:"Free Search",freeSearchPlaceholder:"Search...",dateFrom:"Date From",dateTo:"Date To",menu:{overview:"Overview",reports:"Reports",links:"Offers",finance:"Finance",settings:"Settings",logout:"DISCONNECT",users:"Tenant Management",offers:"Offers",campaigns:"Campaigns",payouts:"Payouts",partners:"Partners",requests:"Requests",splitTests:"Split Tests"},offers:{all:"All Offers"},publishers:{all:"All Publishers"},roles:{admin:"Administrator",adminDesc:"Full system control, tenant management, and global finance.",advertiser:"Advertiser",advertiserDesc:"Create offers, manage budgets, and track performance.",publisher:"Publisher",publisherDesc:"Get links, view stats, and check payouts.",view:"View as {{role}}",enter:"ENTER PORTAL"},stats:{recentActivity:"Recent Activity",salesMonth:"Sales this month",newLead:"New Lead",converted:"converted from",revenue:"Total Revenue",profit:"Net Profit",activeOffers:"Active Offers",activeAffiliates:"Active Affiliates",clicksToday:"Clicks Today"}},auth:{login:"Log In"},common:{retry:"Retry",copied:"Copied!",cancel:"Cancel",save:"Save",copy:"Copy",close:"Close"},tracking:{generator:"Link Generator",copyLink:"Copy Affiliate Link"},publisherDashboard:{totalPayout:"Total Payout",hold:"Hold",epc:"EPC",apply:"Apply",noData:"No data for selected period",noGeoData:"No GEO data",noOffersData:"No offers data",statusApproved:"Approved",statusHold:"Hold",statusRejected:"Rejected",statusPending:"Pending",exportConversions:"Export Conversions",exportClicks:"Export Clicks"},splitTests:{title:"Split Tests",description:"Create A/B tests to distribute traffic between multiple offers",create:"Create Split Test",createFirst:"Create Your First Split Test",edit:"Edit Split Test",noTests:"No Split Tests",noTestsDescription:"Create your first split test to distribute traffic between multiple offers with custom weights.",name:"Name",namePlaceholder:"e.g. Gambling GEO Mix",nameRequired:"Name is required",descriptionLabel:"Description",descriptionPlaceholder:"Optional description",items:"Offers and Weights",selectOffer:"Select offer",defaultLanding:"Default landing",addItem:"Add Offer",totalWeight:"Total weight",weightsMustEqual100:"Weights must total 100% (current: {{total}}%)",minItemsRequired:"At least 2 offers are required",selectAllOffers:"Please select an offer for each item",created:"Split test created successfully",updated:"Split test updated successfully",deleted:"Split test deleted successfully",linkCopied:"Tracking link copied to clipboard",trackingLink:"Tracking Link",configureLink:"Configure",configureLinkTitle:"Configure Tracking Link",subParamsDescription:"Fill in the fields you need  they will be added to the link",generatedLink:"Generated link with your sub-parameters",copyLink:"Copy Link"},reports:{filters:"Filters",freeSearch:"Free Search",freeSearchPlaceholder:"Search...",dateFrom:"From (dd.mm.yyyy)",dateTo:"To (dd.mm.yyyy)",geo:"GEO",device:"Device",groupBy:"Group By",clearFilters:"Clear Filters",clicks:"Clicks",conversions:"Conversions",grouped:"Grouped",noData:"No data for selected filters",all:"All",showing:"Showing",of:"of",total:"total",table:{date:"Date",clickId:"Click ID",offer:"Offer",publisher:"Publisher",geo:"GEO",device:"Device",os:"OS",browser:"Browser",unique:"Unique",geoMatch:"GEO Match",sub1:"Sub1",type:"Type",status:"Status",payout:"Payout",cost:"Cost",margin:"Margin",roi:"ROI",leads:"Leads",sales:"Sales",conv:"Conv.",clicks:"Clicks"}},errors:{sessionExpired:"Session expired. Please log in again."},footer:{rights:"All rights reserved.",terms:"Terms of Service",privacy:"Privacy Policy",contacts:"Contacts"},landing:{badges:{whoFor:"Who It's For",advantages:"Advantages",features:"Features",howItWorks:"How It Works",migration:"Migration",testimonials:"Testimonials",pricing:"Pricing",faq:"FAQ",contact:"Contact",aboutUs:"About Us",roadmap:"Roadmap",news:"News",freeTrial:"30 days free",freeTrialFull:"30 days free + no card"},demoTabs:{dashboard:"Dashboard",offers:"Offers",createOffer:"Create Offer",statistics:"Statistics",finance:"Finance",team:"Team",antifraud:"Anti-Fraud"},fallbacks:{noTitle:"No title",news:"News",offersSettings:"Offers and their settings",update:"Update",integration:"Integration",feature:"Feature"},stats:{clicksProcessed:"Clicks processed",availability:"Availability",responseTime:"Response time",advertisers:"Advertisers"},heroTags:{cpaRevshare:"CPA / RevShare / Hybrid",postback:"Postback",subid:"SubID",antiDuplicate:"Anti-duplicate"},migration:{title:"Easy migration from any tracker",subtitle:"Move from your current tracker without losing data. We support import from popular platforms."},migrationSection:{whatTransfers:"What transfers",campaigns:"Campaigns and traffic sources",subidParams:"SubID parameters",conversions:"Conversions and their statuses",howProcess:"How the process works",step1:"Choose the tracker you want to migrate from",step2:"Export data or connect API",step3:"Upload file or provide access",step4:"Check field mapping",step5:"Start import",importMethods:"Import methods",importTime:"Import time",minutes:"10-15 minutes",otherTracker:"Using a different tracker? Contact support  we'll help with the format.",securityNote:"All data is transmitted over an encrypted connection. Original files are not stored after import.",startMigration:"Start migration",moreAbout:"More about migration"},migrationModal:{title:"Migration from other trackers",intro1:"Moving from one tracker to another almost always seems painful: you need to recreate offers, transfer campaigns, make sure statistics don't break.",intro2:"{{platform}} allows you to transfer basic data from popular trackers and continue working without manually recreating the structure.",platformsTitle:"Which platforms you can migrate from"},footerNav:{navigation:"Navigation",features:"Features",account:"Account",advantages:"Advantages",pricing:"Pricing",contacts:"Contacts",clickTracking:"Click tracking",postbackIntegration:"Postback integration",antifraudSystem:"Anti-fraud system",detailedStats:"Detailed statistics",registration:"Registration",login:"Login",support:"Support"},contactForm:{sending:"Sending...",writeUs:"Or email us:",namePlaceholder:"John Doe",messagePlaceholder:"Describe your question or request..."},news:{title:"Latest Updates",readMore:"Read more"},description:{tagline:"Affiliate platform for advertisers and publishers",liveSupport:"We update regularly, support is live  we answer properly, no bots."},hero:{title1:"Tracker for",title2:"affiliate marketing",subtitle:"Gambling, betting, push traffic. Clicks  leads  deposits. Postback to any tracker.",cta:"Start free",demo:"Live Demo"},pricing:{title:"Simple and honest pricing",subtitle:"No hidden fees. Unlimited traffic.",monthly:"Monthly",yearly:"Yearly",savings:"Save 20%",perMonth:"/mo",perYear:"/yr"},whoFor:{title:"Who is {{platform}} for",subtitle:"Platform for advertisers who want to control, analyze and scale their affiliate programs.",intro:`{{platform}} is a working tool for those who drive traffic every day and count money. We didn't try to make a universal service "for everyone". It's made for specific tasks.`,viewPricing:"View pricing",affiliates:{title:"For affiliates",desc:"If you drive traffic yourself and need to see the real picture by sources, {{platform}} lets you control every stage  from click to deposit.",youGet:"You get:",item1:"tracking clicks, leads and deposits",item2:"detailed statistics by subID (sub1sub10)",item3:"quick launch and scaling of working funnels",footer:"All statistics available in one place, without extra screens and reports."},teams:{title:"For teams and media buyers",desc:"{{platform}} is convenient for teams when multiple people work with traffic.",platformAllows:"The platform allows you to:",item1:"create multiple accounts and projects",item2:"separate access between team members",item3:"view overall statistics by sources and campaigns",footer:"This simplifies team control and gives a transparent picture of results."},partners:{title:"For affiliate programs",desc:"{{platform}} is suitable for tracking and controlling affiliate traffic.",youCan:"You can:",item1:"track clicks, leads and conversions",item2:"work with your offers and postback",item3:"control traffic quality and detect suspicious activity",footer:"The system helps you see where traffic comes from and how it converts."}},advantages:{title:"Why it's convenient in real work",items:{control:{title:"Full Control",desc:"All data in your hands. No third parties, no shared databases. Your traffic  your rules."},speed:{title:"Instant Setup",desc:"Registration in 1 minute. First offer in 5 minutes. No approvals or waiting  start working right away."},analytics:{title:"Deep Analytics",desc:"Every click, every conversion, every sub. Slice data by any parameter  find what works."},antifraud:{title:"Built-in Anti-Fraud",desc:"Automatic detection of bots, proxies, click-spam. Protect your budget and advertiser's reputation."}},cards:{noModules:{title:"No unnecessary modules",p1:"Most trackers have many features that look useful in demos but aren't used in real work.",p2:"In {{platform}} we kept only what's really needed every day: offers, campaigns, subID, postback, statistics and filters.",p3:"No CRM logic, complex roles and multi-level scenarios  just tracking and traffic control."},quickStart:{title:"Quick start",p1:"We deliberately removed complex onboarding.",p2:"After registration, you can immediately create an offer, generate a link and start driving traffic. On average, the first launch takes no more than 5 minutes.",p3:"No mandatory integrations and long preliminary settings."},simpleLogic:{title:"Simple logic",p1:"The interface is designed so you don't need to figure it out. All main actions are where you expect to find them.",p2:"If you've worked with trackers before, {{platform}} will be clear from the first login  without training and reading documentation."},affiliate:{title:"Built for affiliate marketing",p1:"{{platform}} was developed for real traffic scenarios.",p2:"We focus on push sources, gambling and betting offers, working with CPA and RevShare models.",p3:"The system correctly receives and sends postback, supports work with subID and gives a complete picture of campaigns."}}},howItWorks:{title:"How it works",subtitle:"No complex scenarios and unnecessary settings. You create an offer, drive traffic and immediately see the result.",steps:{registration:{title:"Registration",p1:"You create an account in {{platform}} and immediately get into the working dashboard.",p2:"No phone confirmation, no managers and no mandatory card binding.",p3:"Registration takes no more than a minute."},createOffer:{title:"Creating an offer",p1:"You add an offer, specify landings and payout model.",p2:"You configure postback, subID parameters and other needed options.",p3:"After saving, the system immediately generates a tracking link."},attractPartners:{title:"Attracting partners",p1:"You give partners or media buyers the ready link.",p2:"Every click and conversion is automatically recorded in statistics.",p3:"You see where the traffic came from and which sources work better."},trackResults:{title:"Tracking results",p1:"In real time you track clicks, leads and sales.",p2:"You filter statistics by offers, campaigns and subID.",p3:"You control traffic quality and source efficiency."}}},features:{title:"Everything for managing affiliate programs",subtitle:"Full toolkit for advertisers"},migration:{title:"Migration from other trackers",subtitle:"Transfer offers, campaigns, subIDs and conversion history in 10-15 minutes. Without stopping traffic.",features:{dataTypes:"Data Types",importMethods:"Import Methods",support:"Support"}},testimonials:{title:"What clients who actually work with {{platform}} say",subtitle:"Not marketing quotes  real usage experience",items:{t1:{role:"Advertiser / media buying team",text:"We moved from Scaleo because we were tired of the overloaded interface. Here it's easier to control traffic and faster to see where the fraud is. In terms of money  we really started losing less on junk traffic."},t2:{role:"CPA network",text:"Set up postbacks on the first try, no hassle. Support is responsive and doesn't brush you off  that's rare. We don't use all the features yet, but enough for current tasks."},t3:{role:"Affiliate program",text:"We were looking for a white-label solution so we don't have to build our own tracker. Connected a domain, set up offers  partners work as if it's our platform. For starting and scaling  exactly what we needed."},t4:{name:"Anonymous user",role:"Affiliate team",text:"There are things still being polished, but the team responds quickly. What's more important to us is that the product is developing and we can directly influence features."}}},pricingFeatures:{maxPartners:"Up to {{count}} partners",unlimitedPartners:"Unlimited partners",unlimitedOffers:"Unlimited offers",postbacks:"Postbacks",statistics:"Statistics",finance:"Finance",antifraud:"Anti-fraud",news:"News",team:"Team",customDomain:"Custom domain",popular:"Popular"},faq:{title:"Frequently Asked Questions",q1:"Who can register in the system?",a1:"Only advertisers can register directly. Partners (affiliates) register exclusively via a personal invitation link that the advertiser creates in their dashboard. This is done so the advertiser controls who works with their offers and eliminates junk traffic.",q2:"How can a partner get into the system?",a2:"The advertiser creates a registration link for partners and posts it on their website or sends it to the partner directly. There are no other ways to register partners.",q3:"Are there separate dashboards for advertiser and partner?",a3:"Yes. The advertiser creates offers, manages partners, configures postbacks, views analytics and finances. The partner only sees offers available to them, generates links, views their statistics and earnings  they don't see other partners and advertiser data.",q4:"Do partners see the platform brand?",a4:"No. The platform works in white-label mode. Partners see the advertiser's domain and branding. They won't even know about the SaaS platform's existence.",q5:"What's included in the free period?",a5:"30 days of full access to all features of the selected plan. No credit card required, no auto-charges, you can cancel anytime. Test the system in real conditions.",q6:"Are there limits in the free period?",a6:"No. Functionality is not limited, restrictions apply only to plans after the trial ends.",q7:"How does click tracking work?",a7:"With each click, the system instantly generates a unique click_id, determines GEO, device, browser and saves data for analytics and anti-fraud. Click processing happens in real-time.",q8:"How does anti-fraud work?",a8:"Anti-fraud is enabled by default. The system analyzes IP addresses (VPN/proxy/hosting), browser fingerprint, click speed and frequency, suspicious behavior patterns. Fraudulent traffic is automatically flagged and not counted in statistics and payouts.",q9:"How do postbacks work?",a9:"With each conversion, the system automatically sends a postback (HTTP request) to the specified URL. Retry on errors is supported, log of all sent requests and test mode for verification.",q10:"What if the partner doesn't use postback?",a10:"Even if the partner hasn't set up a postback, the system still records clicks, counts conversions and calculates statistics within the platform. If there's a postback  data is transmitted externally and stays with you.",q11:"Is there API access?",a11:"Yes. API is available on Professional and Enterprise plans. Through the API you can get statistics, manage offers, work with partners and integrate external services. Documentation opens after registration.",q12:"Can I connect my own domain?",a12:"Yes. You can connect any of your domains to work with partners. SSL certificate is issued automatically (Let's Encrypt), setup takes 5-10 minutes, partners work only through your domain.",q13:"Are cryptocurrency payouts supported?",a13:"Yes. Automatic payouts through Binance, Bybit, Kraken, Coinbase, EXMO, MEXC, OKX are supported. Holds, payout history and manual confirmation are available.",q14:"Can I add a team?",a14:"Yes. You can add managers, analysts and financiers with different access levels. Everyone sees only what they're allowed to.",q15:"Is the platform suitable for open CPA networks?",a15:"No. The platform is designed for advertisers, private/in-house affiliate programs, agencies and teams. If you need an open CPA network with public registration  this is not our format.",q16:"How are you different from Scaleo, Affise and Affilka?",a16:"Simpler and faster launch, strict partner control, built-in anti-fraud at no extra cost, full white-label, focus on advertisers, not an 'offer marketplace'."},contact:{title:"Have questions?",subtitle:"Write to us and we'll respond within 24 hours",form:{name:"Your name",email:"Email",message:"Message",submit:"Send message",success:"Message sent!",successDesc:"We'll contact you shortly."}},aboutUs:{title:"About Us",description:"Tracker for affiliates by affiliates. We run push and gambling ourselves  we know what's needed in practice. No extra modules and corporate fluff. Register, set up postbacks, work."},roadmap:{title:"Development Plan",subtitle:"Follow our progress and learn about new features we're developing"},cta:{title:"Launch tracking in 5 minutes",subtitle1:"No card. No test limits. Registration in 1 minute.",subtitle2:"Join hundreds of advertisers already using {{platform}}",register:"Create free account",login:"Log in"}}}},ru:{translation:{brand:"Primetrack",nav:{features:"",pricing:"",integrations:"",apiDocs:"API ",login:"",start:"",loginSystem:"  ",dashboard:" ",getStarted:" ",exit:""},hero:{badge:"  v3.2.1",title:"    ",subtitle:",         self-hosted .  .    .",cta:" ",demo:" ",specs:{selfHosted:"Self-Hosted",latency:" 5",antifraud:""},rps:"RPS (/)"},stats:{clicks:"",uptime:"Uptime",speed:"",nodes:" ",revenue:" ()",conversions:"",roi:"ROI",leads:"",sales:"",advertiserCost:"",publisherPayout:"",margin:"",cr:"CR%"},features:{title:"   ",subtitle:"   .  ,    .",reporting:{title:"   ",desc:"   30+ .         ."},automation:{title:" ",desc:"     ,    ."},protection:{title:"  ",desc:"       ,     ."},integration:{title:"100+ ",desc:"         ."},cards:{miniTracker:{title:"-   ",desc:"   .   ,    click_id, GEO  ."},statistics:{title:" ",desc:"  , ,       .    ,  ,   ."},antifraud:{title:"   ",desc:"   :   VPN,  ,     ."},postback:{title:"Postback  Webhooks",desc:"     .   ,    ."},teamwork:{title:" ",desc:" ,    .        ,   ."},customDomains:{title:" ",desc:"    -. SSL-    Let's Encrypt    ."},finance:{title:"  ",desc:" ,    .       ."},notifications:{title:"",desc:"    : in-app   Telegram-. ,        ."},migration:{title:"  ",desc:"   Scaleo, Affilka, Affise, Alanbase.      1015 ."}}},categoryLabels:{update:"",integration:"",feature:"",news:""},fallbackNews:{news1:{title:"   2.0",category:"",shortDesc:"         .",body:"       2.0!             .   : -   ,   VPN ,  fingerprints ,    ."},news2:{title:"  Binance Pay",category:"",shortDesc:"      Binance Pay  .",body:"  Binance Pay      !   :    USDT, BTC, ETH   ,     ,    ."},news3:{title:"Telegram   ",category:"",shortDesc:"       Telegram.",body:"  Telegram   !          :    ,     ,   ."}},fallbackRoadmap:{item1:{title:" AI-",desc:"        "},item2:{title:" ",desc:"   iOS  Android  push-"},item3:{title:" ",desc:"        ML"}},roadmapStatus:{completed:"",inProgress:" ",planned:""},copyright:" {{year}} {{name}}.   .",pricing:{title:"   ",subtitle:"  .    self-hosted .",starter:"",pro:"",business:"",month:"/",features:{clicks:" ",domains:" ",users:"",support:" "}},dashboard:{title:" ",welcome:"  ",selectRole:"   ",loginPrompt:"     ",username:"",password:"",login:"",quickLogin:" ",loginError:" ",server:"",liveStream:"  LIVE",trafficVol:"  (24)",topGeos:" ",activeCampaigns:" ",table:{id:"ID",name:"",status:"",clicks:"",conv:".",revenue:"",roi:"ROI",offer:"",leads:"",sales:"",cost:"",payout:"",margin:"",cr:"CR%",publisher:"",conversions:"."},overview:"",dailyStats:"  ",statsByOffer:"  ",statsByPublisher:"  ",filters:"",freeSearch:" ",freeSearchPlaceholder:"...",dateFrom:" ",dateTo:" ",menu:{overview:"",reports:"",links:"",finance:"",settings:"",logout:"",users:" ",offers:"",campaigns:"",payouts:"",partners:"",requests:"",splitTests:"-"},offers:{all:" ",title:" ",subtitle:"     ",create:" ",createNew:" ",createNewDesc:"       ",marketplace:" ",marketplaceDesc:"    ",searchPlaceholder:"  , ID  ...",filter:"",name:"",category:"",geo:"",payout:"",cr:"CR",status:"",form:{title:" ",description:"  ",trackingUrl:"Tracking URL ()"}},publishers:{all:" "},roles:{admin:"",adminDesc:"  ,    .",advertiser:"",advertiserDesc:" ,     ROI.",publisher:"",publisherDesc:" ,    .",view:": {{role}}",enter:"  "},stats:{recentActivity:" ",salesMonth:"   ",newLead:" ",converted:"",revenue:" ",profit:" ",activeOffers:" ",activeAffiliates:" ",clicksToday:" "}},auth:{login:""},common:{retry:"",copied:"!",cancel:"",save:"",copy:"",close:""},tracking:{generator:" ",copyLink:" "},publisherDashboard:{totalPayout:" ",hold:" ",epc:"EPC",apply:"",noData:"    ",noGeoData:"   ",noOffersData:"   ",statusApproved:"",statusHold:" ",statusRejected:"",statusPending:" ",exportConversions:" ",exportClicks:" "},splitTests:{title:"-",description:" A/B      ",create:" -",createFirst:"  -",edit:" -",noTests:" -",noTestsDescription:"  -        .",name:"",namePlaceholder:",   ",nameRequired:" ",descriptionLabel:"",descriptionPlaceholder:" ",items:"  ",selectOffer:" ",defaultLanding:"  ",addItem:" ",totalWeight:" ",weightsMustEqual100:"   100% (: {{total}}%)",minItemsRequired:"  2 ",selectAllOffers:"    ",created:"-  ",updated:"-  ",deleted:"-  ",linkCopied:"    ",trackingLink:"Tracking ",configureLink:"",configureLinkTitle:" ",subParamsDescription:"        ",generatedLink:"    sub-",copyLink:" "},reports:{filters:"",freeSearch:" ",freeSearchPlaceholder:" ...",dateFrom:" (..)",dateTo:" (..)",geo:"",device:"",groupBy:" ",clearFilters:" ",clicks:"",conversions:"",grouped:"",noData:"    ",all:"",showing:"",of:"",total:"",table:{date:"",clickId:"ID ",offer:"",publisher:"",geo:"",device:"",os:"",browser:"",unique:"",geoMatch:"GEO Match",sub1:"Sub1",type:"",status:"",payout:"",cost:"",margin:"",roi:"ROI",leads:"",sales:"",conv:".",clicks:""}},errors:{sessionExpired:" . ,  ."},footer:{rights:"  .",terms:" ",privacy:" ",contacts:""},landing:{badges:{whoFor:" ",advantages:"",features:"",howItWorks:"  ",migration:"",testimonials:"",pricing:"",faq:"FAQ",contact:"",aboutUs:" ",roadmap:"",news:"",freeTrial:"30  ",freeTrialFull:"30   +  "},demoTabs:{dashboard:"",offers:"",createOffer:" ",statistics:"",finance:"",team:"",antifraud:""},fallbacks:{noTitle:" ",news:"",offersSettings:"   ",update:"",integration:"",feature:""},stats:{clicksProcessed:" ",availability:"",responseTime:" ",advertisers:""},heroTags:{cpaRevshare:"CPA / RevShare / Hybrid",postback:"Postback",subid:"SubID",antiDuplicate:""},migration:{title:"    ",subtitle:"      .     ."},migrationSection:{whatTransfers:" ",campaigns:"   ",subidParams:" subID",conversions:"   ",howProcess:"  ",step1:" ,     ",step2:"    API",step3:"    ",step4:"  ",step5:" ",importMethods:" ",importTime:" ",minutes:"10-15 ",otherTracker:"  ?      .",securityNote:"     .      .",startMigration:" ",moreAbout:"  "},migrationModal:{title:"   ",intro1:"         :    ,  , ,    .",intro2:"{{platform}}              .",platformsTitle:"    "},footerNav:{navigation:"",features:"",account:"",advantages:"",pricing:"",contacts:"",clickTracking:" ",postbackIntegration:"Postback ",antifraudSystem:" ",detailedStats:" ",registration:"",login:"",support:""},contactForm:{sending:"...",writeUs:"  :",namePlaceholder:" ",messagePlaceholder:"    ..."},news:{title:" ",readMore:""},description:{tagline:"     ",liveSupport:" ,      ,  ."},hero:{title1:" ",title2:"",subtitle:", , push-.     . Postback   .",cta:" ",demo:" "},pricing:{title:"   ",subtitle:"  .  .",monthly:"",yearly:"",savings:" 20%",perMonth:"/",perYear:"/"},whoFor:{title:"  {{platform}}",subtitle:"  ,   ,     .",intro:"{{platform}}      ,        .        .     .",viewPricing:" ",affiliates:{title:"",desc:"            , {{platform}}         .",youGet:" :",item1:" ,   ",item2:"   subID (sub1sub10)",item3:"     ",footer:"     ,     ."},teams:{title:"  ",desc:"{{platform}}    ,      .",platformAllows:" :",item1:"    ",item2:"   ",item3:"      ",footer:"          ."},partners:{title:" ",desc:"{{platform}}       .",youCan:" :",item1:" ,   ",item2:"     postback",item3:"      ",footer:"  ,       ."}},advantages:{title:"     ",items:{control:{title:" ",desc:"    .   ,   .     ."},speed:{title:" ",desc:"  1 .    5 .       ."},analytics:{title:" ",desc:" ,  ,  sub.       ,  ."},antifraud:{title:" ",desc:"  , , click-spam.     ."}},cards:{noModules:{title:"  ",p1:"    ,     ,      .",p2:" {{platform}}    ,     : , , subID, postback,   .",p3:" CRM-,           ."},quickStart:{title:" ",p1:"    .",p2:"      ,      .         5 .",p3:"      ."},simpleLogic:{title:" ",p1:"  ,       .     ,    .",p2:"     , {{platform}}           ."},affiliate:{title:"  ",p1:"{{platform}}      .",p2:"   push-, gambling  betting-,   CPA  RevShare .",p3:"     postback,    subID      ."}}},howItWorks:{title:"  ",subtitle:"     .   ,      .",steps:{registration:{title:"",p1:"   {{platform}}      .",p2:"   ,       .",p3:"    ."},createOffer:{title:" ",p1:" ,     .",p2:" postback,  subID    .",p3:"      ."},attractPartners:{title:" ",p1:"     .",p2:"       .",p3:" ,          ."},trackResults:{title:" ",p1:"    ,   .",p2:"   ,   subID.",p3:"     ."}}},features:{title:"   ",subtitle:"    "},testimonials:{title:"  ,     {{platform}}",subtitle:"      ",items:{t1:{role:" / media buying ",text:"  Scaleo,      .       ,  .          ."},t2:{role:"CPA-",text:"    ,    .         .     ,     ."},t3:{role:" ",text:"   white-label,     .  ,         .      ,  ."},t4:{name:" ",role:" ",text:" ,   ,    .  ,         ."}}},pricingFeatures:{maxPartners:" {{count}} ",unlimitedPartners:" ",unlimitedOffers:" ",postbacks:"",statistics:"",finance:"",antifraud:"",news:"",team:"",customDomain:" ",popular:""},faq:{title:"  ",q1:"    ?",a1:"    .  ()      ,      .  ,   ,     ,    .",q2:"    ?",a2:"               .     .",q3:"       ?",a3:".   ,  ,  ,    .      ,  ,             .",q4:"    ?",a4:".    white-label .       .   SaaS-    .",q5:"    ?",a5:"30        .    ,  ,     .       .",q6:"     ?",a6:".   ,       trial.",q7:"   ?",a7:"       click_id,  GEO, ,        .      .",q8:"  ?",a8:"   .   IP- (VPN/proxy/hosting), browser fingerprint,    ,   .           .",q9:"  ?",a9:"      postback (HTTP-)   URL.    (retry)  ,         .",q10:"     ?",a10:"     ,     ,       .        ,    .",q11:"  API ?",a11:". API    Professional  Enterprise.  API   ,  ,       .    .",q12:"    ?",a12:".          . SSL-   (Let's Encrypt),   510 ,      .",q13:"    ?",a13:".     Binance, Bybit, Kraken, Coinbase, EXMO, MEXC, OKX.  ,     .",q14:"   ?",a14:".    ,       .    ,   .",q15:"     CPA-?",a15:".    , private / in-house  ,   .     CPA-        .",q16:"    Scaleo, Affise  Affilka?",a16:"   ,   ,    ,  white-label,   ,     ."},contact:{title:" ?",subtitle:" ,      24 ",form:{name:" ",email:"Email",message:"",submit:" ",success:" !",successDesc:"      ."}},aboutUs:{title:" ",description:"    .   push        .      . ,  , ."},roadmap:{title:" ",subtitle:"        ,   "},cta:{title:"   5 ",subtitle1:" .    .   1 .",subtitle2:"   ,    {{platform}}",register:"  ",login:"  "}}}}};Qs.use(jve).init({resources:OXe,lng:"ru",fallbackLng:"ru",interpolation:{escapeValue:!1}});function PXe(){const[,e]=hr(),{data:t,isLoading:n}=Ne({queryKey:["/api/auth/session"],queryFn:async()=>{const r=await fetch("/api/auth/session",{credentials:"include"});return r.ok?r.json():null},staleTime:5e3,retry:!1});return j.useEffect(()=>{n||(t?.role?e(`/dashboard/${t.role}`,{replace:!0}):e("/login",{replace:!0}))},[n,t,e]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})})}function MXe(){return s.jsxs(wde,{children:[s.jsx(Is,{path:"/",component:SCe}),s.jsx(Is,{path:"/login",component:bXe}),s.jsx(Is,{path:"/forgot-password",component:AXe}),s.jsx(Is,{path:"/reset-password",component:EXe}),s.jsx(Is,{path:"/setup-2fa",component:CXe}),s.jsx(Is,{path:"/register",component:aXe}),s.jsx(Is,{path:"/register/advertiser",component:wXe}),s.jsx(Is,{path:"/register/:ref",component:SXe}),s.jsx(Is,{path:"/dashboard",component:PXe}),s.jsx(Is,{path:"/dashboard/:role",component:IK}),s.jsx(Is,{path:"/dashboard/:role/*",component:IK}),s.jsx(Is,{path:"/notifications",component:kXe}),s.jsx(Is,{path:"/pricing",component:TXe}),s.jsx(Is,{path:"/system/unavailable",component:Iye}),s.jsx(Is,{component:Dye})]})}function _Xe(){return s.jsx(iue,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:s.jsx(qde,{client:tue,children:s.jsx(_ye,{children:s.jsx(Mye,{children:s.jsxs(T0,{children:[s.jsx(vxe,{}),s.jsx(MXe,{})]})})})})})}nde.createRoot(document.getElementById("root")).render(s.jsx(_Xe,{}));
